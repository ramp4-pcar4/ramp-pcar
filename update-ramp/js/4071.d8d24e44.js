"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[4071],{44071:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var o=n(43038),r=n(20241);function i(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:new o.I(e.layout)}}class s{async extract(e){const t=a(e),n=(0,r.f)(t),o=[t.data.buffer];return{result:c(n,o),transferList:o}}async extractComponentsEdgeLocations(e){const t=a(e),n=(0,r.u)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),o=(0,r.p)(n,d),s=[];return{result:i(o.regular.instancesData,s),transferList:s}}async extractEdgeLocations(e){const t=a(e),n=(0,r.u)(t.data,t.skipDeduplicate,t.indices,t.indicesLength),o=(0,r.p)(n,f),s=[];return{result:i(o.regular.instancesData,s),transferList:s}}}function a(e){return{data:r.E.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indices):"Uint16Array"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function c(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:i(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:i(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}class u{allocate(e){return r.d.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}}class l{allocate(e){return r.m.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}const f=new u,d=new l},71807:function(e,t,n){var o;n.d(t,{e:function(){return o}}),function(e){e.POSITION="position",e.NORMAL="normal",e.NORMALCOMPRESSED="normalCompressed",e.UV0="uv0",e.COLOR="color",e.SYMBOLCOLOR="symbolColor",e.SIZE="size",e.ROTATION="rotation",e.TANGENT="tangent",e.OFFSET="offset",e.PERSPECTIVEDIVIDE="perspectiveDivide",e.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",e.LENGTH="length",e.PREVPOSITION="prevPosition",e.NEXTPOSITION="nextPosition",e.SUBDIVISIONFACTOR="subdivisionFactor",e.COLORFEATUREATTRIBUTE="colorFeatureAttribute",e.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",e.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",e.DISTANCETOSTART="distanceToStart",e.UVMAPSPACE="uvMapSpace",e.BOUNDINGRECT="boundingRect",e.UVREGION="uvRegion",e.PROFILERIGHT="profileRight",e.PROFILEUP="profileUp",e.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",e.FEATUREVALUE="featureValue",e.INSTANCEMODELORIGINHI="instanceModelOriginHi",e.INSTANCEMODELORIGINLO="instanceModelOriginLo",e.INSTANCEMODEL="instanceModel",e.INSTANCEMODELNORMAL="instanceModelNormal",e.INSTANCECOLOR="instanceColor",e.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",e.LOCALTRANSFORM="localTransform",e.GLOBALTRANSFORM="globalTransform",e.BOUNDINGSPHERE="boundingSphere",e.MODELORIGIN="modelOrigin",e.MODELSCALEFACTORS="modelScaleFactors",e.FEATUREATTRIBUTE="featureAttribute",e.STATE="state",e.LODLEVEL="lodLevel",e.POSITION0="position0",e.POSITION1="position1",e.NORMAL2COMPRESSED="normal2Compressed",e.COMPONENTINDEX="componentIndex",e.VARIANTOFFSET="variantOffset",e.VARIANTSTROKE="variantStroke",e.VARIANTEXTENSION="variantExtension",e.SIDENESS="sideness",e.START="start",e.END="end",e.UP="up",e.START_UP="startUp",e.END_UP="endUp",e.EXTRUDE="extrude",e.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",e.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(o||(o={}))},54396:function(e,t,n){n.d(t,{t:function(){return o}});class o{constructor(e,t,n,o,r,i=!1,s=0){this.name=e,this.count=t,this.type=n,this.offset=o,this.stride=r,this.normalized=i,this.divisor=s}}},44877:function(e,t,n){n.d(t,{e:function(){return i}});var o=n(44444),r=n(67026);function i(e,t,n){const i=Array.isArray(e),l=i?e.length/t:e.byteLength/(4*t),f=i?e:new Uint32Array(e,0,l*t),d=n?.minReduction??0,N=n?.originalIndices||null,E=N?N.length:0,p=n?.componentOffsets||null;let O=0;if(p)for(let o=0;o<p.length-1;o++){const e=p[o+1]-p[o];e>O&&(O=e)}else O=l;const I=Math.floor(1.1*O)+1;(null==u||u.length<2*I)&&(u=new Uint32Array((0,o.bC)(2*I)));for(let o=0;o<2*I;o++)u[o]=0;let A=0;const T=!!p&&!!N,h=T?E:l;let g=(0,r.i)(l);const S=new Uint32Array(E),R=1.96;let m=0!==d?Math.ceil(4*R*R/(d*d)*d*(1-d)):h,L=1,C=p?p[1]:h;for(let o=0;o<h;o++){if(o===m){const e=1-A/o;if(e+R*Math.sqrt(e*(1-e)/o)<d)return null;m*=2}if(o===C){for(let e=0;e<2*I;e++)u[e]=0;if(N)for(let e=p[L-1];e<p[L];e++)S[e]=g[N[e]];C=p[++L]}const e=T?N[o]:o,n=e*t,r=c(f,n,t);let i=r%I,a=A;for(;0!==u[2*i+1];){if(u[2*i]===r){const e=u[2*i+1]-1;if(s(f,n,e*t,t)){a=g[e];break}}i++,i>=I&&(i-=I)}a===A&&(u[2*i]=r,u[2*i+1]=e+1,A++),g[e]=a}if(0!==d&&1-A/l<d)return null;if(T){for(let e=p[L-1];e<S.length;e++)S[e]=g[N[e]];g=(0,r.t)(S)}const D=i?new Array(A):new Uint32Array(A*t);A=0;for(let o=0;o<h;o++)g[o]===A&&(a(f,(T?N[o]:o)*t,D,A*t,t),A++);if(N&&!T){const e=new Uint32Array(E);for(let t=0;t<e.length;t++)e[t]=g[N[t]];g=(0,r.t)(e)}return{buffer:Array.isArray(D)?D:D.buffer,indices:g,uniqueCount:A}}function s(e,t,n,o){for(let r=0;r<o;r++)if(e[t+r]!==e[n+r])return!1;return!0}function a(e,t,n,o,r){for(let i=0;i<r;i++)n[o+i]=e[t+i]}function c(e,t,n){let o=0;for(let r=0;r<n;r++)o=e[t+r]+o|0,o=o+(o<<11)+(o>>>2)|0;return o>>>0}let u=null},20241:function(e,t,n){n.d(t,{E:function(){return c},d:function(){return te},f:function(){return Q},m:function(){return ne},p:function(){return E},u:function(){return J}});var o=n(44877),r=n(43038),i=n(71807),s=n(10717),a=n(44444);const c=(0,r.H)().vec3f(i.e.POSITION).u16(i.e.COMPONENTINDEX).freeze(),u=(0,r.H)().vec2u8(i.e.SIDENESS).freeze();(0,s.t)(u);const l=(0,r.H)().vec3f(i.e.POSITION0).vec3f(i.e.POSITION1).vec2i16(i.e.NORMALCOMPRESSED).u16(i.e.COMPONENTINDEX).u8(i.e.VARIANTOFFSET,{glNormalized:!0}).u8(i.e.VARIANTSTROKE).u8(i.e.VARIANTEXTENSION,{glNormalized:!0}).freeze(),f=(0,r.H)().vec3f(i.e.POSITION0).vec3f(i.e.POSITION1).vec2i16(i.e.NORMALCOMPRESSED).vec2i16(i.e.NORMAL2COMPRESSED).u16(i.e.COMPONENTINDEX).u8(i.e.VARIANTOFFSET,{glNormalized:!0}).u8(i.e.VARIANTSTROKE).u8(i.e.VARIANTEXTENSION,{glNormalized:!0}).freeze();i.e.POSITION0,i.e.POSITION1,i.e.COMPONENTINDEX,i.e.VARIANTOFFSET,i.e.VARIANTSTROKE,i.e.VARIANTEXTENSION,i.e.NORMALCOMPRESSED,i.e.NORMAL2COMPRESSED,i.e.SIDENESS;let d=class{constructor(){this.position0=(0,a.ap)(),this.position1=(0,a.ap)(),this.faceNormal0=(0,a.ap)(),this.faceNormal1=(0,a.ap)(),this.componentIndex=0,this.cosAngle=0}};const N=-1;function E(e,t,n){const o=e.vertices.position,r=e.vertices.componentIndex,i=R.position0,s=R.position1,c=R.faceNormal0,u=R.faceNormal1,{edges:l,normals:f}=A(e),d=l.length/4,E=t.allocate(d);let T=0;const g=d,S=n?.allocate(g);let m=0,L=0,C=0;h.length=0;for(let N=0;N<d;++N){const e=4*N;o.getVec(l.data[e],i),o.getVec(l.data[e+1],s);const t=h.pushNew();t.index=4*N,t.length=(0,a.dR)(i,s)}h.sort(((e,t)=>t.length-e.length));const D=new Array,M=new Array;h.forAll((({length:e,index:d})=>{const A=l.data[d],h=l.data[d+1],g=l.data[d+2],P=l.data[d+3],U=P===N;if(o.getVec(A,i),o.getVec(h,s),U){const e=3*g;(0,a.dQ)(c,f.data[e],f.data[e+1],f.data[e+2]),(0,a.dF)(u,c),R.componentIndex=r.get(A),R.cosAngle=(0,a.al)(c,u)}else{let e=3*g;if((0,a.dQ)(c,f.data[e],f.data[e+1],f.data[e+2]),e=3*P,(0,a.dQ)(u,f.data[e],f.data[e+1],f.data[e+2]),R.componentIndex=r.get(A),R.cosAngle=(0,a.al)(c,u),O(R,y))return;R.cosAngle<-.9999&&(0,a.dF)(u,c)}L+=e,C++,U||p(R,v)?(t.write(E,T++,R),D.push(e)):I(R,w)&&(S&&n&&n.write(S,m++,R),M.push(e))}));const P=new Float32Array(D.reverse()),U=new Float32Array(M.reverse()),b=S&&n?{instancesData:S.slice(0,m),lodInfo:{lengths:U}}:void 0;return{regular:{instancesData:E.slice(0,T),lodInfo:{lengths:P}},silhouette:b,averageEdgeLength:L/C}}function p(e,t){return e.cosAngle<t}function O(e,t){return e.cosAngle>t}function I(e,t){const n=(0,a.dU)(e.cosAngle);return(0,a.dT)(L,e.position1,e.position0),n*((0,a.al)((0,a.am)(m,e.faceNormal0,e.faceNormal1),L)>0?-1:1)>t}function A(e){const t=e.faces.length/3,n=e.faces,o=e.neighbors,r=e.vertices.position;g.length=S.length=0;for(let i=0;i<t;i++){const e=3*i,t=o[e],s=o[e+1],c=o[e+2],u=n[e],l=n[e+1],f=n[e+2];r.getVec(u,C),r.getVec(l,D),r.getVec(f,M),(0,a.dB)(D,D,C),(0,a.dB)(M,M,C),(0,a.am)(C,D,M),(0,a.ao)(C,C),S.pushArray(C),(t===N||u<l)&&(g.push(u),g.push(l),g.push(i),g.push(t)),(s===N||l<f)&&(g.push(l),g.push(f),g.push(i),g.push(s)),(c===N||f<u)&&(g.push(f),g.push(u),g.push(i),g.push(c))}return{edges:g,normals:S}}class T{constructor(){this.index=0,this.length=0}}const h=new a.cM({allocator:e=>e||new T,deallocator:null}),g=new a.cM({deallocator:null}),S=new a.cM({deallocator:null}),R=new d,m=(0,a.ap)(),L=(0,a.ap)(),C=(0,a.ap)(),D=(0,a.ap)(),M=(0,a.ap)(),w=(0,a.fA)(4),y=Math.cos(w),P=(0,a.fA)(35),v=Math.cos(P);function U(e,t,n){const o=t/3,r=new Uint32Array(n+1),i=new Uint32Array(n+1),s=(e,t)=>{e<t?r[e+1]++:i[t+1]++};for(let I=0;I<o;I++){const t=e[3*I],n=e[3*I+1],o=e[3*I+2];s(t,n),s(n,o),s(o,t)}let a=0,c=0;for(let I=0;I<n;I++){const e=r[I+1],t=i[I+1];r[I+1]=a,i[I+1]=c,a+=e,c+=t}const u=new Uint32Array(6*o),l=r[n],f=(e,t,n)=>{if(e<t){const o=r[e+1]++;u[2*o]=t,u[2*o+1]=n}else{const o=i[t+1]++;u[2*l+2*o]=e,u[2*l+2*o+1]=n}};for(let I=0;I<o;I++){const t=e[3*I],n=e[3*I+1],o=e[3*I+2];f(t,n,I),f(n,o,I),f(o,t,I)}const d=(e,t)=>{const n=2*e,o=t-e;for(let r=1;r<o;r++){const e=u[n+2*r],t=u[n+2*r+1];let o=r-1;for(;o>=0&&u[n+2*o]>e;o--)u[n+2*o+2]=u[n+2*o],u[n+2*o+3]=u[n+2*o+1];u[n+2*o+2]=e,u[n+2*o+3]=t}};for(let I=0;I<n;I++)d(r[I],r[I+1]),d(l+i[I],l+i[I+1]);const N=new Int32Array(3*o),E=(t,n)=>t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1,p=(e,t)=>{const n=E(e,t);N[3*t+n]=-1},O=(e,t,n,o)=>{const r=E(e,t);N[3*t+r]=o;const i=E(n,o);N[3*o+i]=t};for(let I=0;I<n;I++){let e=r[I];const t=r[I+1];let n=i[I];const o=i[I+1];for(;e<t&&n<o;){const t=u[2*e],o=u[2*l+2*n];t===o?(O(I,u[2*e+1],o,u[2*l+2*n+1]),e++,n++):t<o?(p(I,u[2*e+1]),e++):(p(o,u[2*l+2*n+1]),n++)}for(;e<t;)p(I,u[2*e+1]),e++;for(;n<o;)p(u[2*l+2*n],u[2*l+2*n+1]),n++}return N}function b(e,t,n,o,r,i=2){const s=1/(Math.abs(n)+Math.abs(o)+Math.abs(r)),a=n*s,c=o*s,u=r<=0?(a>=0?1:-1)*(1-Math.abs(c)):a,l=r<=0?(c>=0?1:-1)*(1-Math.abs(a)):c,f=t*i;e[f]=F(u),e[f+1]=F(l)}function F(e){return(0,a.b0)(Math.round(32767*e),-32767,32767)}const V=.7;let B=class{updateSettings(e){this.settings=e,this._edgeHashFunction=e.reducedPrecision?k:G}write(e,t,n){q.seed=this._edgeHashFunction(n);const o=q.getIntRange(0,255),r=q.getIntRange(0,this.settings.variants-1),i=q.getFloat(),s=255*(.5*W(-(1-Math.min(i/V,1))+Math.max(0,i-V)/(1-V),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,o),e.variantStroke.set(t,r),e.variantExtension.set(t,s)}};const x=new Float32Array(6),H=new Uint32Array(x.buffer),_=new Uint32Array(1);function G(e){return x[0]=e.position0[0],x[1]=e.position0[1],x[2]=e.position0[2],x[3]=e.position1[0],x[4]=e.position1[1],x[5]=e.position1[2],_[0]=31*(31*(31*(31*(31*(166811+H[0])+H[1])+H[2])+H[3])+H[4])+H[5],_[0]}function k(e){const t=x;t[0]=z(e.position0[0]),t[1]=z(e.position0[1]),t[2]=z(e.position0[2]),t[3]=z(e.position1[0]),t[4]=z(e.position1[1]),t[5]=z(e.position1[2]),_[0]=5381;for(let n=0;n<H.length;n++)_[0]=31*_[0]+H[n];return _[0]}const X=1e4;function z(e){return Math.round(e*X)/X}function W(e,t){return Math.abs(e)**t*Math.sign(e)}class Y{constructor(){this._commonWriter=new B}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return l.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n),(0,a.dE)(j,n.faceNormal0,n.faceNormal1),(0,a.ao)(j,j);const{typedBuffer:o,typedBufferStride:r}=e.normalCompressed;b(o,t,j[0],j[1],j[2],r)}}Y.Layout=l,Y.glLayout=(0,s.t)(l,1);class K{constructor(){this._commonWriter=new B}updateSettings(e){this._commonWriter.updateSettings(e)}allocate(e){return f.createBuffer(e)}write(e,t,n){this._commonWriter.write(e,t,n);{const{typedBuffer:o,typedBufferStride:r}=e.normalCompressed;b(o,t,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],r)}{const{typedBuffer:o,typedBufferStride:r}=e.normal2Compressed;b(o,t,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],r)}}}K.Layout=f,K.glLayout=(0,s.t)(f,1);const j=(0,a.ap)(),q=new a.mj;function Q(e){const t=J(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return $.updateSettings(e.writerSettings),ee.updateSettings(e.writerSettings),E(t,$,ee)}function J(e,t,n,r){if(t){const t=U(n,r,e.count);return new Z(n,r,t,e)}const i=(0,o.e)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:r}),s=U(i.indices,r,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:s,vertices:c.createView(i.buffer)}}class Z{constructor(e,t,n,o){this.faces=e,this.facesLength=t,this.neighbors=n,this.vertices=o}}const $=new Y,ee=new K,te=(0,r.H)().vec3f(i.e.POSITION0).vec3f(i.e.POSITION1),ne=(0,r.H)().vec3f(i.e.POSITION0).vec3f(i.e.POSITION1).u16(i.e.COMPONENTINDEX)},10717:function(e,t,n){n.d(t,{t:function(){return i}});var o=n(44444),r=n(54396);function i(e,t=0){const n=e.stride;return Array.from(e.fields.keys()).map((o=>{const i=e.fields.get(o),a=i.constructor.ElementCount,c=s(i.constructor.ElementType),u=i.offset,l=i.optional?.glNormalized??!1;return new r.t(o,a,c,u,n,l,t)}))}function s(e){const t=a[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}const a={u8:o.aC.UNSIGNED_BYTE,u16:o.aC.UNSIGNED_SHORT,u32:o.aC.UNSIGNED_INT,i8:o.aC.BYTE,i16:o.aC.SHORT,i32:o.aC.INT,f32:o.aC.FLOAT}}}]);
//# sourceMappingURL=4071.d8d24e44.js.map