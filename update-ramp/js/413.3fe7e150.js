"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[413],{10413:function(e,t,n){n.r(t),n.d(t,{W:function(){return Pt},Z:function(){return It},a:function(){return r},n:function(){return u},r:function(){return l},u:function(){return c}});var r,a=n(96628),i=n(44444);(function(e){e.InvalidFunctionParameters="InvalidFunctionParameters",e.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",e.UnsupportedSqlFunction="UnsupportedSqlFunction",e.UnsupportedOperator="UnsupportedOperator",e.UnsupportedSyntax="UnsupportedSyntax",e.UnsupportedIsRhs="UnsupportedIsRhs",e.UnsupportedIsLhs="UnsupportedIsLhs",e.InvalidDataType="InvalidDataType",e.CannotCastValue="CannotCastValue",e.FunctionNotRecognized="FunctionNotRecognized",e.InvalidTime="InvalidTime",e.InvalidParameterCount="InvalidParameterCount",e.InvalidTimeStamp="InvalidTimeStamp",e.InvalidDate="InvalidDate",e.InvalidOperator="InvalidOperator",e.IllegalInterval="IllegalInterval",e.YearMonthIntervals="YearMonthIntervals",e.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",e.MissingStatisticParameters="MissingStatisticParameters"})(r||(r={}));const o={[r.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[r.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[r.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[r.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[r.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[r.UnsupportedOperator]:"Unsupported operator - {operator}",[r.UnsupportedSyntax]:"Unsupported syntax - {node}",[r.UnsupportedSqlFunction]:"Sql function not found = {function}",[r.InvalidDataType]:"Invalid sql data type",[r.InvalidDate]:"Invalid date encountered",[r.InvalidOperator]:"Invalid operator encountered",[r.InvalidTime]:"Invalid time encountered",[r.IllegalInterval]:"Illegal interval",[r.FunctionNotRecognized]:"Function not recognized",[r.InvalidTimeStamp]:"Invalid timestamp encountered",[r.InvalidParameterCount]:"Invalid parameter count for call to {name}",[r.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[r.YearMonthIntervals]:"Year-Month Intervals not supported",[r.CannotCastValue]:"Cannot cast value to the required data type"};let u=class e extends Error{constructor(t,n){super((0,i.as)(o[t],n)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};function s(e){return Number.isNaN(e)||0===e?e:Math.trunc(e)}let l=class e{constructor(e){this._timeStampOffset=e,this._date=null}toDateTime(){return this._date??=i.bm.fromISO(this._timeStampOffset,{setZone:!0}),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return s(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return s(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return e.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(t){return new e(i.bm.fromJSDate(t).toISO({includeOffset:!0}))}static fromDateTime(t){return new e(t.toISO({includeOffset:!0}))}static fromParts(t,n,r=0,a=0,i=0,o=0,u=0,s=!1,l=0,c=0){const f=`${t.toString().padStart(4,"0")}-${n.toString().padStart(2,"0")}-${r.toString().padStart(2,"0")}`;let d="";o<10&&(d="0");let p=`${a.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${d+o.toString()}`;0!==u&&(p+="."+u.toString().padStart(3,"0"));const m=`${s?"-":"+"}${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`;return new e(f+"T"+p+m)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let e=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return e&&(e=e.replace(".000","")),e}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(t){const n=this.toDateTime().plus(t);return e.fromDateTime(n)}};function c(e,t){const n=d[e.toLowerCase()];if(null==n)throw new u(r.FunctionNotRecognized);if(t.length<n.minParams||t.length>n.maxParams)throw new u(r.InvalidParameterCount,{name:e.toUpperCase()});return n.evaluate(t)}function f(e,t){const n=d[e.toLowerCase()];return null!=n&&t>=n.minParams&&t<=n.maxParams}const d={min:{minParams:1,maxParams:1,evaluate:e=>h(e[0],"min")},max:{minParams:1,maxParams:1,evaluate:e=>h(e[0],"max")},avg:{minParams:1,maxParams:1,evaluate:e=>p(e[0])},sum:{minParams:1,maxParams:1,evaluate:e=>v(e[0])},stddev:{minParams:1,maxParams:1,evaluate:e=>w(e[0])},count:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].length},var:{minParams:1,maxParams:1,evaluate:e=>I(e[0])}};function p(e){if(null===e)return null;let t=0,n=0;for(let a=0;a<e.length;a++){const i=e[a];if(null!==i){if(!m(i))throw new u(r.InvalidValueForAggregateFunction);n++,t+=i}}return 0===n?null:t/e.length}function m(e){return"number"==typeof e}function h(e,t){if(null===e)return null;let n=null,r=null;for(const o of e){let e=o;e=o instanceof a.n||o instanceof a.a?o.toNumber():o instanceof i.bm?o.toMillis():o instanceof l?o.toMilliseconds():o,(null===n||"max"===t&&null!==r&&null!==e&&r<=e||"min"===t&&null!==r&&null!==e&&r>=e)&&(n=o,r=e)}return n}function v(e){if(null===e)return null;let t=0;for(let n=0;n<e.length;n++){const a=e[n];if(null!==a){if(!m(a))throw new u(r.InvalidValueForAggregateFunction);t+=a}}return t}function w(e){if(null===e)return null;const t=I(e);return null===t?null:Math.sqrt(t)}function I(e){if(null===e||0===(e=e.filter((e=>null!==e))).length)return null;const t=p(e);if(null===t)return null;let n=0;for(const a of e){if(!m(a))throw new u(r.InvalidValueForAggregateFunction);n+=(t-a)**2}return n/(e.length-1)}class g{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(e){if(null!==e.precision||null!==e.secondary)throw new u(r.PrimarySecondaryQualifiers)}static _parseSecondsComponent(e,t){if(t.includes(".")){const n=t.split(".");e.second=parseFloat(n[0]),e.millis=parseInt(n[1],10)}else e.second=parseFloat(t)}static createFromMilliseconds(e){const t=new g;return t.second=e/1e3,t}static createFromValueAndQualifier(e,t,n){let a=null;const i=new g;if(i.op="-"===n?"-":"+","interval-period"===t.type){g._fixDefaults(t);const n=new RegExp("^[0-9]{1,}$");if("year"===t.period||"month"===t.period)throw new u(r.YearMonthIntervals);if("second"===t.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(e))throw new u(r.IllegalInterval);g._parseSecondsComponent(i,e)}else{if(!n.test(e))throw new u(r.IllegalInterval);i[t.period]=parseFloat(e)}}else{if(g._fixDefaults(t.start),g._fixDefaults(t.end),"year"===t.start.period||"month"===t.start.period||"year"===t.end.period||"month"===t.end.period)throw new u(r.YearMonthIntervals);switch(t.start.period){case"day":switch(t.end.period){case"hour":if(a=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!a.test(e))throw new u(r.IllegalInterval);i[t.start.period]=parseFloat(e.split(" ")[0]),i[t.end.period]=parseFloat(e.split(" ")[1]);break;case"minute":if(a=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!a.test(e))throw new u(r.IllegalInterval);{i[t.start.period]=parseFloat(e.split(" ")[0]);const n=e.split(" ")[1].split(":");i.hour=parseFloat(n[0]),i.minute=parseFloat(n[1])}break;case"second":if(a=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!a.test(e))throw new u(r.IllegalInterval);{i[t.start.period]=parseFloat(e.split(" ")[0]);const n=e.split(" ")[1].split(":");i.hour=parseFloat(n[0]),i.minute=parseFloat(n[1]),g._parseSecondsComponent(i,n[2])}break;default:throw new u(r.IllegalInterval)}break;case"hour":switch(t.end.period){case"minute":if(a=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!a.test(e))throw new u(r.IllegalInterval);i.hour=parseFloat(e.split(":")[0]),i.minute=parseFloat(e.split(":")[1]);break;case"second":if(a=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!a.test(e))throw new u(r.IllegalInterval);{const t=e.split(":");i.hour=parseFloat(t[0]),i.minute=parseFloat(t[1]),g._parseSecondsComponent(i,t[2])}break;default:throw new u(r.IllegalInterval)}break;case"minute":if("second"!==t.end.period)throw new u(r.IllegalInterval);if(a=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!a.test(e))throw new u(r.IllegalInterval);{const t=e.split(":");i.minute=parseFloat(t[0]),g._parseSecondsComponent(i,t[1])}break;default:throw new u(r.IllegalInterval)}}return i}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}const y=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,T=/^(\d{1,2}):(\d{1,2})$/,N=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,S=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,O=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,x=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,C=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,b=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function M(e,t){if(t instanceof i.jY)return t===i.jX.instance?i.bm.fromMillis(e.getTime(),{zone:i.jX.instance}):i.bm.fromJSDate(e,{zone:t});switch(t){case"system":case"local":case null:return i.bm.fromJSDate(e);default:return"unknown"===t?.toLowerCase()?i.bm.fromMillis(e.getTime(),{zone:i.jX.instance}):i.bm.fromJSDate(e,{zone:t})}}function E(e){return"number"==typeof e}function F(e){return"string"==typeof e||e instanceof String}function A(e){return e instanceof g}function P(e){return e instanceof Date}function D(e){return e instanceof i.bm}function L(e){return e instanceof a.n}function _(e){return e instanceof a.a}function R(e){return e instanceof l}function U(e){let t=y.exec(e);if(null!==t){const[,e,n,i]=t,o=a.a.fromParts(parseInt(e,10),parseInt(n,10),parseInt(i,10),0);if(null!==o)return o;throw new u(r.InvalidTime)}if(t=T.exec(e),null!==t){const[,e,n]=t,i=a.a.fromParts(parseInt(e,10),parseInt(n,10),0,0);if(null!==i)return i;throw new u(r.InvalidTime)}if(t=N.exec(e),null!==t){const[,e,n,i,o]=t,s=a.a.fromParts(parseInt(e,10),parseInt(n,10),parseInt(i,10),parseInt(o,10));if(null!==s)return s;throw new u(r.InvalidTime)}throw new u(r.InvalidTime)}function $(e,t,n=!1){let a=O.exec(e);if(null!==a){const[,e,n,o,s,l,c,f]=a,d=i.bm.fromObject({year:parseInt(e,10),month:parseInt(n,10),day:parseInt(o,10),hour:parseInt(s,10),minute:parseInt(l,10),second:parseInt(c,10),millisecond:f?parseInt(f.replace(".",""),10):0},{zone:(0,i.n$)(t)});if(!1===d.isValid)throw new u(r.InvalidTimeStamp);return d}if(a=x.exec(e),null!==a){const[,e,t,n,i,o,s,c,f,d,p]=a,m=l.fromParts(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseInt(i,10),parseInt(o,10),parseInt(s,10),c?parseInt(c.replace(".",""),10):0,"-"===f,parseInt(d,10),parseInt(p,10));if(!1===m.isValid)throw new u(r.InvalidTimeStamp);return m}if(a=C.exec(e),null!==a){const[,e,t,n,i,o,s,c,f]=a,d=l.fromParts(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseInt(i,10),parseInt(o,10),0,0,"-"===s,parseInt(c,10),parseInt(f,10));if(!1===d.isValid)throw new u(r.InvalidTimeStamp);return d}if(a=b.exec(e),null!==a){const[,e,n,o,s,l]=a,c=i.bm.fromObject({year:parseInt(e,10),month:parseInt(n,10),day:parseInt(o,10),hour:parseInt(s,10),minute:parseInt(l,10),second:0},{zone:(0,i.n$)(t)});if(!1===c.isValid)throw new u(r.InvalidTimeStamp);return c}if(a=S.exec(e),null!==a){const[,e,n,o]=a,s=i.bm.fromObject({year:parseInt(e,10),month:parseInt(n,10),day:parseInt(o,10),hour:0,minute:0,second:0},{zone:(0,i.n$)(t)});if(!1===s.isValid)throw new u(r.InvalidTimeStamp);return s}throw new u(r.InvalidTimeStamp)}function J(e,t){const n=S.exec(e);if(null===n)try{return $(e,t)}catch{throw new u(r.InvalidDate)}const[,i,o,s]=n,l=a.n.fromParts(parseInt(i,10),parseInt(o,10),parseInt(s,10));if(null===l)throw new u(r.InvalidDate);return l}const V=321408e5,Z=26784e5,k=864e5,z=36e5,H=6e4;function q(e){return!!D(e)||!!R(e)}function j(e){return!!D(e)||!!L(e)||!!R(e)||!!_(e)}function Y(e){if(D(e))return e.toMillis();if(L(e))return e.toNumber();if(R(e))return e.toMilliseconds();throw new u(r.InvalidDataType)}function Q(e,t,n,a){if(null==e||null==t)return null;if(E(e)){if(E(t))return B(e,t,n);if(F(t))return G(e,t,n);if(j(t))throw new u(r.InvalidOperator);if(L(t))throw new u(r.InvalidOperator)}else if(F(e)){if(E(t))return W(e,t,n);if(F(t))return X(e,t,n);if(D(t))throw new u(r.InvalidOperator);if(L(t))throw new u(r.InvalidOperator);if(_(t))throw new u(r.InvalidOperator);if(R(t))throw new u(r.InvalidOperator)}else if(D(e)){if(q(t)){if(e instanceof i.bm&&(0,i.o0)(e.zone)){if(t instanceof i.bm&&!1===(0,i.o0)(t.zone)||t instanceof l)return re(e,t,n)}else if(t instanceof i.bm&&(0,i.o0)(t.zone)&&(e instanceof i.bm&&!1===(0,i.o0)(e.zone)||e instanceof l))return re(e,t,n);return B(Y(e),Y(t),n)}if(F(t))throw new u(r.InvalidOperator);if(L(t))return K(e,t,n);if(_(t))throw new u(r.InvalidOperator);if(E(t))throw new u(r.InvalidOperator)}else if(L(e)){if(R(t))return ne(e,t,n);if(D(t))return te(e,t,n);if(F(t))throw new u(r.InvalidOperator);if(L(t))return B(e.toNumber(),t.toNumber(),n);if(_(t))throw new u(r.InvalidOperator);if(E(t))throw new u(r.InvalidOperator)}else if(_(e)){if(_(t))return B(e.toNumber(),t.toNumber(),n);if(F(t))throw new u(r.InvalidOperator);if(E(t))throw new u(r.InvalidOperator);if(L(t))throw new u(r.InvalidOperator);if(q(t))throw new u(r.InvalidOperator)}else if(R(e)){if(q(t))return t instanceof i.bm&&(0,i.o0)(t.zone)?re(e,t,n):B(Y(e),Y(t),n);if(F(t))throw new u(r.InvalidOperator);if(L(t))return ee(e,t,n);if(_(t))throw new u(r.InvalidOperator);if(E(t))throw new u(r.InvalidOperator)}switch(n){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function B(e,t,n){switch(n){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function G(e,t,n){const r=parseFloat(t);if(!isNaN(r))return B(e,r,n);const a=e.toString();switch(n){case"<>":return a!==t;case"=":return a===t;case">":return a>t;case"<":return a<t;case">=":return a>=t;case"<=":return a<=t}}function W(e,t,n){const r=parseFloat(e);if(!isNaN(r))return B(r,t,n);const a=t.toString();switch(n){case"<>":return e!==a;case"=":return e===a;case">":return e>a;case"<":return e<a;case">=":return e>=a;case"<=":return e<=a}}function X(e,t,n){switch(n){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function K(e,t,n){const r=t.toDateTimeLuxon(e.zone);return B((e=e.startOf("day")).toMillis(),r.toMillis(),n)}function ee(e,t,n){const r=t.toDateTimeLuxon(e.toDateTime().zone);return B((e=e.startOfDay()).toMilliseconds(),r.toMillis(),n)}function te(e,t,n){const r=e.toDateTimeLuxon(t.zone);return t=t.startOf("day"),B(r.toMillis(),t.toMillis(),n)}function ne(e,t,n){const r=e.toDateTimeLuxon(t.toDateTime().zone);return t=t.startOfDay(),B(r.toMillis(),t.toMilliseconds(),n)}function re(e,t,n){e instanceof l&&(e=e.toDateTime()),t instanceof l&&(t=t.toDateTime());const r=ae(e),a=ae(t);switch(n){case"<>":return r!==a;case"=":return r===a;case">":return r>a;case"<":return r<a;case">=":return r>=a;case"<=":return r<=a}}function ae(e){return e.year*V+e.month*Z+e.day*k+e.hour*z+e.minute*H+1e3*e.second+e.millisecond}function ie(e,t,n){const a=pe[e.toLowerCase()];if(null==a)throw new u(r.FunctionNotRecognized);if(t.length<a.minParams||t.length>a.maxParams)throw new u(r.InvalidParameterCount,{name:e.toUpperCase()});return a.evaluate(t,n)}function oe(e,t){const n=pe[e.toLowerCase()];return null!=n&&t>=n.minParams&&t<=n.maxParams}function ue(e){return"string"==typeof e||e instanceof String}function se(e){return!P(e)&&!L(e)&&!D(e)&&!_(e)&&!R(e)}function le(e){return L(e)||_(e)?e.toString():R(e)?e.toSQLValue():D(e)?0===e.millisecond?e.toFormat("yyyy-LL-dd HH:mm:ss"):e.toSQL({includeOffset:!1}):P(e)?le(i.bm.fromJSDate(e)):e.toString()}function ce(e){if(P(e))return a.n.fromDateJS(e);if(D(e))return a.n.fromParts(e.year,e.month,e.day);if(L(e))return e;if(_(e))throw new u(r.CannotCastValue);if(R(e)&&null===a.n.fromParts(e.year,e.month,e.day))throw new u(r.CannotCastValue);if(ue(e)){const t=a.n.fromReader(e);if(null!==t&&t.isValid)return t}throw new u(r.CannotCastValue)}function fe(e,t,n){if(P(e))return M(e,t);if(D(e))return e;if(L(e))return e.toDateTimeLuxon("unknown");if(_(e))throw new u(r.CannotCastValue);if(R(e))return e;if(ue(e))return $(e,"unknown",n);throw new u(r.CannotCastValue)}function de(e){if(P(e))return a.a.fromDateJS(e);if(D(e))return a.a.fromDateTime(e);if(L(e))throw new u(r.CannotCastValue);if(_(e))return e;if(R(e))return a.a.fromSqlTimeStampOffset(e);if(ue(e))return U(e);throw new u(r.CannotCastValue)}const pe={extract:{minParams:2,maxParams:2,evaluate:([e,t])=>{if(null==t)return null;if(P(t))switch(e.toUpperCase()){case"SECOND":return t.getSeconds();case"MINUTE":return t.getMinutes();case"HOUR":return t.getHours();case"DAY":return t.getDate();case"MONTH":return t.getMonth()+1;case"YEAR":return t.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(D(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new u(r.InvalidFunctionParameters,{function:"EXTRACT"})}else if(L(t))switch(e.toUpperCase()){case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new u(r.InvalidFunctionParameters,{function:"EXTRACT"})}else if(_(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour}else if(R(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":return t.timezoneOffsetHour;case"TIMEZONE_MINUTE":return t.timezoneOffsetMinutes}throw new u(r.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:e=>{if(2===e.length){const[t,n]=e;return null==t||null==n?null:t.toString().substring(n-1)}if(3===e.length){const[t,n,r]=e;return null==t||null==n||null==r?null:r<=0?"":t.toString().substring(n-1,n+r-1)}}},position:{minParams:2,maxParams:2,evaluate:([e,t])=>null==e||null==t?null:t.indexOf(e)+1},trim:{minParams:2,maxParams:3,evaluate:e=>{const t=3===e.length,n=t?e[1]:" ",a=t?e[2]:e[1];if(null==n||null==a)return null;const o=`(${(0,i.bp)(n)})`;switch(e[0]){case"BOTH":return a.replaceAll(new RegExp(`^${o}*|${o}*$`,"g"),"");case"LEADING":return a.replaceAll(new RegExp(`^${o}*`,"g"),"");case"TRAILING":return a.replaceAll(new RegExp(`${o}*$`,"g"),"")}throw new u(r.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.abs(e[0])},ceiling:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.ceil(e[0])},floor:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.floor(e[0])},log:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])},log10:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sin(e[0])},cos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cos(e[0])},tan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tan(e[0])},asin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.asin(e[0])},acos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.acos(e[0])},atan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.atan(e[0])},sign:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0]>0?1:e[0]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]**e[1]},mod:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]%e[1]},round:{minParams:1,maxParams:2,evaluate:e=>{const t=e[0],n=2===e.length?10**e[1]:1;return null==t?null:Math.round(t*n)/n}},truncate:{minParams:1,maxParams:2,evaluate:e=>null==e[0]?null:1===e.length||0===e[1]?Math.trunc(e[0]):(0,i.o1)("trunc",e[0],-Number(e[1]))},char_length:{minParams:1,maxParams:1,evaluate:e=>ue(e[0])?e[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:e=>{let t="";for(let n=0;n<e.length;n++){if(null==e[n])return null;t+=e[n].toString()}return t}},lower:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:e=>{for(const t of e)if(null!==t)return t;return null}},cosh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cosh(e[0])},sinh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sinh(e[0])},tanh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tanh(e[0])},nullif:{minParams:2,maxParams:2,evaluate:(e,t)=>Q(e[0],e[1],"=")?null:e[0]},cast:{minParams:2,maxParams:2,evaluate:(e,t)=>{const n=e[0],a=e[1];if(null===n)return null;switch(a.type){case"integer":{if(!se(n))throw new u(r.CannotCastValue);const e=parseInt(n,10);if(isNaN(e))throw new u(r.CannotCastValue);return e}case"smallint":{if(!se(n))throw new u(r.CannotCastValue);const e=parseInt(n,10);if(isNaN(e))throw new u(r.CannotCastValue);if(e>32767||e<-32767)throw new u(r.CannotCastValue);return e}case"float":case"real":{if(!se(n))throw new u(r.CannotCastValue);const e=parseFloat(n);if(isNaN(e))throw new u(r.CannotCastValue);return e}case"time":return de(n);case"date":return ce(n);case"timestamp":return fe(n,t,!0===a.withtimezone);case"varchar":{const e=le(n);if(e.length>a.size)throw new u(r.CannotCastValue);return e}default:throw new u(r.InvalidDataType)}}}};function me(e,t,n,a){if("||"===e)return ie("concat",[t,n],a);if(null===t||null===n)return null;if(E(t)){if(E(n))return he(t,n,e);if(A(n))return Se(t,n,e);if(_(n))return De();if(L(n))return Le();if(R(n))return Pe();if(D(n))return Fe();if(F(n))return _e(t,n,e);throw new u(r.InvalidOperator)}if(L(t)){if(E(n))return Me(t,n,e);if(A(n))return Oe(t,n,e);if(_(n))return ze();if(L(n))return ke(t,n,e);if(R(n))return Ze(t,n,e);if(D(n))return Ve(t,n,e);if(F(n))return nt();throw new u(r.InvalidOperator)}if(_(t)){if(E(n))return Ee(t,n,e);if(A(n))return ge(t,n,e);if(_(n))return We();if(L(n))return Be();if(R(n))return Ge();if(D(n))return Qe();if(F(n))return rt();throw new u(r.InvalidOperator)}if(A(t)){if(E(n))return Ne(t,n,e);if(A(n))return Te(t,n,e);if(_(n))return we(t,n,e);if(L(n))return Ie(t,n,e);if(R(n))return ye(t,n,e);if(D(n))return ve(t,n,e);if(F(n))return $e();throw new u(r.InvalidOperator)}if(D(t)){if(E(n))return be(t,n,e);if(A(n))return xe(t,n,e);if(_(n))return tt();if(L(n))return Ke(t,n,e);if(R(n))return et(t,n,e);if(D(n))return Xe(t,n,e);if(F(n))return at();throw new u(r.InvalidOperator)}if(R(t)){if(E(n))return Ae(t,n,e);if(A(n))return Ce(t,n,e);if(_(n))return He();if(L(n))return qe(t,n,e);if(R(n))return Ye(t,n,e);if(D(n))return je(t,n,e);if(F(n))return it();throw new u(r.InvalidOperator)}if(F(t)){if(E(n))return Re(t,n,e);if(A(n))return Je();if(_(n))return ot();if(L(n))return ut();if(R(n))return lt();if(D(n))return st();if(F(n))return Ue(t,n,e);throw new u(r.InvalidOperator)}throw new u(r.InvalidOperator)}function he(e,t,n){switch(n){case"+":return e+t;case"-":return e-t;case"*":return e*t;case"/":return e/t}throw new u(r.InvalidOperator)}function ve(e,t,n){switch(n){case"+":return t.plus({milliseconds:e.valueInMilliseconds()});case"-":return e.valueInMilliseconds()-t.toMillis()}throw new u(r.InvalidOperator)}function we(e,t,n){if("+"===n)return t.plus("milliseconds",e.valueInMilliseconds());throw new u(r.InvalidOperator)}function Ie(e,t,n){if("+"===n)return t.plus("milliseconds",e.valueInMilliseconds());throw new u(r.InvalidOperator)}function ge(e,t,n){switch(n){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new u(r.InvalidOperator)}function ye(e,t,n){if("+"===n)return t.addMilliseconds(e.valueInMilliseconds());throw new u(r.InvalidOperator)}function Te(e,t,n){switch(n){case"+":return g.createFromMilliseconds(e.valueInMilliseconds()+t.valueInMilliseconds());case"-":return g.createFromMilliseconds(e.valueInMilliseconds()-t.valueInMilliseconds());case"*":return g.createFromMilliseconds(e.valueInMilliseconds()*t.valueInMilliseconds());case"/":return g.createFromMilliseconds(e.valueInMilliseconds()/t.valueInMilliseconds())}throw new u(r.InvalidOperator)}function Ne(e,t,n){switch(n){case"+":return g.createFromMilliseconds(e.valueInMilliseconds()+t);case"-":return g.createFromMilliseconds(e.valueInMilliseconds()-t);case"*":return g.createFromMilliseconds(e.valueInMilliseconds()*t);case"/":return g.createFromMilliseconds(e.valueInMilliseconds()/t)}throw new u(r.InvalidOperator)}function Se(e,t,n){switch(n){case"+":return g.createFromMilliseconds(e+t.valueInMilliseconds());case"-":return g.createFromMilliseconds(e-t.valueInMilliseconds());case"*":return g.createFromMilliseconds(e*t.valueInMilliseconds());case"/":return g.createFromMilliseconds(e/t.valueInMilliseconds())}throw new u(r.InvalidOperator)}function Oe(e,t,n){switch(n){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new u(r.InvalidOperator)}function xe(e,t,n){switch(n){case"+":return e.plus({milliseconds:t.valueInMilliseconds()});case"-":return e.minus({milliseconds:t.valueInMilliseconds()})}throw new u(r.InvalidOperator)}function Ce(e,t,n){switch(n){case"+":return e.addMilliseconds(t.valueInMilliseconds());case"-":return e.addMilliseconds(-1*t.valueInMilliseconds())}throw new u(r.InvalidOperator)}function be(e,t,n){const a=1e3*t*24*60*60;switch(n){case"+":return e.plus({milliseconds:a});case"-":return e.minus({milliseconds:a})}throw new u(r.InvalidOperator)}function Me(e,t,n){const a=1e3*t*24*60*60;switch(n){case"+":return e.plus("milliseconds",a);case"-":return e.plus("milliseconds",-1*a)}throw new u(r.InvalidOperator)}function Ee(e,t,n){const a=1e3*t*24*60*60;switch(n){case"+":return e.plus("milliseconds",a);case"-":return e.plus("milliseconds",-1*a)}throw new u(r.InvalidOperator)}function Fe(e,t,n){throw new u(r.InvalidOperator)}function Ae(e,t,n){const a=1e3*t*24*60*60;switch(n){case"+":return e.addMilliseconds(a);case"-":return e.addMilliseconds(-1*a)}throw new u(r.InvalidOperator)}function Pe(e,t,n){throw new u(r.InvalidOperator)}function De(e,t,n){throw new u(r.InvalidOperator)}function Le(e,t,n){throw new u(r.InvalidOperator)}function _e(e,t,n){const a=parseFloat(t);if(isNaN(a))throw new u(r.InvalidOperator);return he(e,a,n)}function Re(e,t,n){const a=parseFloat(e);if(isNaN(a))throw new u(r.InvalidOperator);return he(a,t,n)}function Ue(e,t,n){if("+"===n)return e+t;throw new u(r.InvalidOperator)}function $e(e,t,n){throw new u(r.InvalidOperator)}function Je(e,t,n){throw new u(r.InvalidOperator)}function Ve(e,t,n){if("-"===n)return e.toDateTimeLuxon(t.zone).diff(t).as("days");throw new u(r.InvalidOperator)}function Ze(e,t,n){if("-"===n)return e.toDateTimeLuxon(t.toDateTime().zone).diff(t.toDateTime()).as("days");throw new u(r.InvalidOperator)}function ke(e,t,n){if("-"===n)return e.toDateTimeLuxon("UTC").diff(t.toDateTimeLuxon("UTC")).as("days");throw new u(r.InvalidOperator)}function ze(e,t,n){throw new u(r.InvalidOperator)}function He(e,t,n){throw new u(r.InvalidOperator)}function qe(e,t,n){if("-"===n)return e.toDateTime().diff(t.toDateTimeLuxon(e.toDateTime().zone)).as("days");throw new u(r.InvalidOperator)}function je(e,t,n){if("-"===n)return e.toDateTime().diff(t).as("days");throw new u(r.InvalidOperator)}function Ye(e,t,n){if("-"===n)return e.toDateTime().diff(t.toDateTime()).as("days");throw new u(r.InvalidOperator)}function Qe(e,t,n){throw new u(r.InvalidOperator)}function Be(e,t,n){throw new u(r.InvalidOperator)}function Ge(e,t,n){throw new u(r.InvalidOperator)}function We(e,t,n){throw new u(r.InvalidOperator)}function Xe(e,t,n){if("-"===n)return e.diff(t).as("days");throw new u(r.InvalidOperator)}function Ke(e,t,n){if("-"===n)return e.diff(t.toDateTimeLuxon(e.zone)).as("days");throw new u(r.InvalidOperator)}function et(e,t,n){if("-"===n)return e.diff(t.toDateTime()).as("days");throw new u(r.InvalidOperator)}function tt(e,t,n){throw new u(r.InvalidOperator)}function nt(e,t,n){throw new u(r.InvalidOperator)}function rt(e,t,n){throw new u(r.InvalidOperator)}function at(e,t,n){throw new u(r.InvalidOperator)}function it(e,t,n){throw new u(r.InvalidOperator)}function ot(e,t,n){throw new u(r.InvalidOperator)}function ut(e,t,n){throw new u(r.InvalidOperator)}function st(e,t,n){throw new u(r.InvalidOperator)}function lt(e,t,n){throw new u(r.InvalidOperator)}function ct(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function ft(e,t,n,r){var a=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(a,ft.prototype),a.expected=t,a.found=n,a.location=r,a.name="SyntaxError",a}function dt(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}function pt(e,t){var n,r={},a=(t=void 0!==t?t:{}).grammarSource,i={start:ai},o=ai,u="!",s="=",l=">=",c=">",f="<=",d="<>",p="!=",m="||",h="@",v="'",w="N'",I="''",g=".",y="null",T="true",N="false",S="in",O="is",x="like",C="escape",b="not",M="and",E="or",F="between",A="from",P="for",D="substring",L="extract",_="trim",R="position",U="timestamp",$="date",J="time",V="leading",Z="trailing",k="both",z="cast",H="as",q="integer",j="int",Y="smallint",Q="float",B="real",G="varchar",W="to",X="interval",K="year",ee="timezone_hour",te="timezone_minute",ne="month",re="day",ae="hour",ie="minute",oe="second",ue="case",se="end",le="when",ce="then",fe="else",de=",",pe="(",me=")",he="`",ve=/^[<-=]/,we=/^[+\-]/,Ie=/^[*\/]/,ge=/^[A-Za-z_\x80-\uFFFF]/,ye=/^[A-Za-z0-9_]/,Te=/^[A-Za-z0-9_.\x80-\uFFFF]/,Ne=/^["]/,Se=/^[^']/,Oe=/^[0-9]/,xe=/^[eE]/,Ce=/^[ \t\n\r]/,be=/^[^`]/,Me=Ga("!",!1),Ee=Ga("=",!1),Fe=Ga(">=",!1),Ae=Ga(">",!1),Pe=Ga("<=",!1),De=Ga("<>",!1),Le=Wa([["<","="]],!1,!1),_e=Ga("!=",!1),Re=Wa(["+","-"],!1,!1),Ue=Ga("||",!1),$e=Wa(["*","/"],!1,!1),Je=Wa([["A","Z"],["a","z"],"_",["","￿"]],!1,!1),Ve=Wa([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Ze=Wa([["A","Z"],["a","z"],["0","9"],"_",".",["","￿"]],!1,!1),ke=Wa(['"'],!1,!1),ze=Ga("@",!1),He=Ga("'",!1),qe=Ga("N'",!1),je=Ga("''",!1),Ye=Wa(["'"],!0,!1),Qe=Ga(".",!1),Be=Wa([["0","9"]],!1,!1),Ge=Wa(["e","E"],!1,!1),We=Ga("NULL",!0),Xe=Ga("TRUE",!0),Ke=Ga("FALSE",!0),et=Ga("IN",!0),tt=Ga("IS",!0),nt=Ga("LIKE",!0),rt=Ga("ESCAPE",!0),at=Ga("NOT",!0),it=Ga("AND",!0),ot=Ga("OR",!0),ut=Ga("BETWEEN",!0),st=Ga("FROM",!0),lt=Ga("FOR",!0),ct=Ga("SUBSTRING",!0),dt=Ga("EXTRACT",!0),pt=Ga("TRIM",!0),mt=Ga("POSITION",!0),ht=Ga("TIMESTAMP",!0),vt=Ga("DATE",!0),wt=Ga("TIME",!0),It=Ga("LEADING",!0),gt=Ga("TRAILING",!0),yt=Ga("BOTH",!0),Tt=Ga("CAST",!0),Nt=Ga("AS",!0),St=Ga("INTEGER",!0),Ot=Ga("INT",!0),xt=Ga("SMALLINT",!0),Ct=Ga("FLOAT",!0),bt=Ga("REAL",!0),Mt=Ga("VARCHAR",!0),Et=Ga("TO",!0),Ft=Ga("INTERVAL",!0),At=Ga("YEAR",!0),Pt=Ga("TIMEZONE_HOUR",!0),Dt=Ga("TIMEZONE_MINUTE",!0),Lt=Ga("MONTH",!0),_t=Ga("DAY",!0),Rt=Ga("HOUR",!0),Ut=Ga("MINUTE",!0),$t=Ga("SECOND",!0),Jt=Ga("CASE",!0),Vt=Ga("END",!0),Zt=Ga("WHEN",!0),kt=Ga("THEN",!0),zt=Ga("ELSE",!0),Ht=Ga(",",!1),qt=Ga("(",!1),jt=Ga(")",!1),Yt=Wa([" ","\t","\n","\r"],!1,!1),Qt=Ga("`",!1),Bt=Wa(["`"],!0,!1),Gt=function(e){return e},Wt=function(e){return Ou(Qa(),...e)},Xt=function(e,t,n){return{op:t,expr:n,location:Qa()}},Kt=function(e,t){return xu(e,t)},en=function(e,t,n){return{op:t,expr:n,location:Qa()}},tn=function(e,t){return xu(e,t)},nn=function(e){return Nu("NOT",e,Qa())},rn=function(e,t){return""==t||null==t||null==t?e:"arithmetic"==t.type?xu(e,t.tail):Su(t.op,e,t.right,t.escape,Qa())},an=function(e,t){return{op:e,expr:t,location:Qa()}},on=function(e){return{type:"arithmetic",tail:e}},un=function(e,t){return{op:e+"NOT",right:t}},sn=function(e,t){return{op:e,right:t}},ln=function(e,t,n){return Ou(Qa(),t,n)},cn=function(e,t){return{op:"NOT"+e,right:t}},fn=function(e,t,n){return Ou(Qa(),t,n)},dn=function(e,t){return{op:e,right:t}},pn=function(e){return e[0]+" "+e[2]},mn=function(e){return e[0]+" "+e[2]},hn=function(e,t,n){return{op:e,right:t,escape:n.value}},vn=function(e,t){return{op:e,right:t,escape:""}},wn=function(e,t){return{op:e,right:t}},In=function(e,t){return{op:e,right:t}},gn=function(e,t,n){return{op:t,expr:n,location:Qa()}},yn=function(e,t){return xu(e,t)},Tn=function(e,t,n){return{op:t,expr:n,location:Qa()}},Nn=function(e,t){return xu(e,t)},Sn=function(e){return e.paren=!0,e},On=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",location:Qa(),mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",location:Qa(),mode:"timestamp"}:/^CURRENT_TIME$/i.test(e)?{type:"current-time",location:Qa(),mode:"time"}:/^CURRENT_USER$/i.test(e)?{type:"current-user",location:Qa()}:{type:"column-reference",location:Qa(),table:"",column:e}},xn=function(e){return{type:"column-reference",location:Qa(),table:"",column:e,delimited:!0}},Cn=function(e){return e},bn=function(e,t){return e+t.join("")},Mn=function(e,t){return e+t.join("")},En=function(e){return e},Fn=function(e){return e.join("")},An=function(){return'"'},Pn=function(e){return{type:"parameter",location:Qa(),value:e[1]}},Dn=function(e,t){return Ou(Qa(),e,t)},Ln=function(e,t){return Ou(Qa(),e,t)},_n=function(e){return{type:"function",location:Qa(),name:"extract",args:e}},Rn=function(e,t,n){return Ou(Qa(),e,t,...n?[n]:[])},Un=function(e,t,n){return Ou(Qa(),e,t,n)},$n=function(e){return{type:"function",location:Qa(),name:"substring",args:e}},Jn=function(e,t){return Ou(Qa(),e,t)},Vn=function(e,t){return Ou(Qa(),e,t)},Zn=function(e){return{type:"function",location:Qa(),name:"cast",args:e}},kn=function(){return{type:"data-type",location:Qa(),value:{type:"integer"}}},zn=function(){return{type:"data-type",location:Qa(),value:{type:"smallint"}}},Hn=function(){return{type:"data-type",location:Qa(),value:{type:"float"}}},qn=function(){return{type:"data-type",location:Qa(),value:{type:"real"}}},jn=function(){return{type:"data-type",location:Qa(),value:{type:"date"}}},Yn=function(){return{type:"data-type",location:Qa(),value:{type:"timestamp"}}},Qn=function(){return{type:"data-type",location:Qa(),value:{type:"time"}}},Bn=function(e){return{type:"data-type",location:Qa(),value:{type:"varchar",size:parseInt(e)}}},Gn=function(e,t,n){return Ou(Qa(),e,t,n)},Wn=function(e,t){return Ou(Qa(),e,t)},Xn=function(e){return{type:"function",location:Qa(),name:"trim",args:e}},Kn=function(e){return{type:"string",location:Qa(),value:e??"BOTH"}},er=function(e,t){return Ou(Qa(),e,t)},tr=function(e,t){return Ou(Qa(),e,t)},nr=function(e){return{type:"function",location:Qa(),name:"position",args:e}},rr=function(e,t){return{type:"function",location:Qa(),name:e,args:t}},ar=function(e){return{type:"string",location:Qa(),value:e}},ir=function(e){return"string"===e.type&&Cu(e.value),{type:"timestamp",location:Qa(),value:e.value}},or=function(e){return"string"===e.type&&bu(e.value),{type:"time",location:Qa(),value:e.value}},ur=function(e,t,n){return{type:"interval",location:Qa(),value:t,qualifier:n,op:e}},sr=function(e,t){return{type:"interval",location:Qa(),value:e,qualifier:t,op:""}},lr=function(e,t){return{type:"interval-qualifier",location:Qa(),start:e,end:t}},cr=function(e,t){return{type:"interval-period",location:Qa(),period:e.value,precision:t,secondary:null}},fr=function(e){return{type:"interval-period",location:Qa(),period:e.value,precision:null,secondary:null}},dr=function(e){return{type:"interval-period",location:Qa(),period:e.value,precision:null,secondary:null}},pr=function(e,t){return{type:"interval-period",location:Qa(),period:"second",precision:e,secondary:t}},mr=function(e){return{type:"interval-period",location:Qa(),period:"second",precision:e,secondary:null}},hr=function(){return{type:"interval-period",location:Qa(),period:"second",precision:null,secondary:null}},vr=function(e,t){return{type:"interval-period",location:Qa(),period:e.value,precision:t,secondary:null}},wr=function(e){return{type:"interval-period",location:Qa(),period:e.value,precision:null,secondary:null}},Ir=function(e,t){return{type:"interval-period",location:Qa(),period:"second",precision:e,secondary:t}},gr=function(e){return{type:"interval-period",location:Qa(),period:"second",precision:e,secondary:null}},yr=function(){return{type:"interval-period",location:Qa(),period:"second",precision:null,secondary:null}},Tr=function(){return{type:"string",location:Qa(),value:"day"}},Nr=function(){return{type:"string",location:Qa(),value:"hour"}},Sr=function(){return{type:"string",location:Qa(),value:"minute"}},Or=function(){return{type:"string",location:Qa(),value:"month"}},xr=function(){return{type:"string",location:Qa(),value:"year"}},Cr=function(e){return parseFloat(e)},br=function(e){return parseFloat(e)},Mr=function(e){return"string"===e.type&&Mu(e.value),{type:"date",location:Qa(),value:e.value}},Er=function(){return{type:"null",location:Qa(),value:null}},Fr=function(){return{type:"boolean",location:Qa(),value:!0}},Ar=function(){return{type:"boolean",location:Qa(),value:!1}},Pr=function(){return"'"},Dr=function(e){return{type:"string",location:Qa(),value:e.join("")}},Lr=function(e,t){return{type:"case-expression",location:Qa(),format:"simple",operand:e,clauses:t,else:null,elseLocation:null}},_r=function(e,t,n){return{type:"case-expression",location:Qa(),format:"simple",operand:e,clauses:t,else:n.value,elseLocation:n.location}},Rr=function(e){return{type:"case-expression",location:Qa(),format:"searched",clauses:e,else:null,elseLocation:null}},Ur=function(e,t){return{type:"case-expression",location:Qa(),format:"searched",clauses:e,else:t.value,elseLocation:t.location}},$r=function(e,t){return{type:"when-clause",location:Qa(),operand:e,value:t}},Jr=function(e,t){return{type:"when-clause",location:Qa(),operand:e,value:t}},Vr=function(e){return{type:"else-clause",location:Qa(),value:e}},Zr=function(e){return{type:"number",location:Qa(),value:e}},kr=function(e,t,n){return parseFloat(e+t+n)},zr=function(e,t){return parseFloat(e+t)},Hr=function(e,t){return parseFloat(e+t)},qr=function(e){return parseFloat(e)},jr=function(e,t){return e[0]+t},Yr=function(e){return"."+(e??"")},Qr=function(e,t){return e+t},Br=function(e){return e.join("")},Gr=function(e,t){return"e"+(null===t?"":t)},Wr=function(){return"IN"},Xr=function(){return"IS"},Kr=function(){return"LIKE"},ea=function(){return"ESCAPE"},ta=function(){return"NOT"},na=function(){return"AND"},ra=function(){return"OR"},aa=function(){return"BETWEEN"},ia=function(){return"FROM"},oa=function(){return"FOR"},ua=function(){return"SUBSTRING"},sa=function(){return"EXTRACT"},la=function(){return"TRIM"},ca=function(){return"POSITION"},fa=function(){return"TIMESTAMP"},da=function(){return"DATE"},pa=function(){return"TIME"},ma=function(){return"LEADING"},ha=function(){return"TRAILING"},va=function(){return"BOTH"},wa=function(){return"CAST"},Ia=function(){return"AS"},ga=function(){return"INTEGER"},ya=function(){return"INT"},Ta=function(){return"SMALLINT"},Na=function(){return"FLOAT"},Sa=function(){return"REAL"},Oa=function(){return"VARCHAR"},xa=function(){return"TO"},Ca=function(){return"INTERVAL"},ba=function(){return"YEAR"},Ma=function(){return"TIMEZONE_HOUR"},Ea=function(){return"TIMEZONE_MINUTE"},Fa=function(){return"MONTH"},Aa=function(){return"DAY"},Pa=function(){return"HOUR"},Da=function(){return"MINUTE"},La=function(){return"SECOND"},_a=function(){return"CASE"},Ra=function(){return"END"},Ua=function(){return"WHEN"},$a=function(){return"THEN"},Ja=function(){return"ELSE"},Va=function(e){return e},Za=function(e){return e.join("")},ka=0|t.peg$currPos,za=ka,Ha=[{line:1,column:1}],qa=ka,ja=t.peg$maxFailExpected||[],Ya=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=i[t.startRule]}function Qa(){return ei(za,ka)}function Ba(e,t){throw ni(e,t=void 0!==t?t:ei(za,ka))}function Ga(e,t){return{type:"literal",text:e,ignoreCase:t}}function Wa(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Xa(){return{type:"end"}}function Ka(t){var n,r=Ha[t];if(r)return r;if(t>=Ha.length)n=Ha.length-1;else for(n=t;!Ha[--n];);for(r={line:(r=Ha[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Ha[t]=r,r}function ei(e,t,n){var r=Ka(e),i=Ka(t);return{source:a,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}}}function ti(e){ka<qa||(ka>qa&&(qa=ka,ja=[]),ja.push(e))}function ni(e,t){return new ft(e,null,null,t)}function ri(e,t,n){return new ft(ft.buildMessage(e,t),e,t,n)}function ai(){var e,t;return e=ka,gu(),(t=oi())!==r?(gu(),za=e,e=Gt(t)):(ka=e,e=r),e}function ii(){var e,t,n,a,i,o;if(e=ka,wu()!==r){for(gu(),t=[],n=oi();n!==r;)t.push(n),n=ka,a=ka,i=gu(),(o=vu())!==r?a=i=[i,o,gu()]:(ka=a,a=r),a!==r&&(a=oi())===r?(ka=n,n=r):n=a;n=gu(),(a=Iu())!==r?(za=e,e=Wt(t)):(ka=e,e=r)}else ka=e,e=r;return e}function oi(){var e,t,n,a,i,o;if(e=ka,(t=ui())!==r){for(n=[],a=ka,gu(),(i=Do())!==r?(gu(),(o=ui())!==r?(za=a,a=Xt(t,i,o)):(ka=a,a=r)):(ka=a,a=r);a!==r;)n.push(a),a=ka,gu(),(i=Do())!==r?(gu(),(o=ui())!==r?(za=a,a=Xt(t,i,o)):(ka=a,a=r)):(ka=a,a=r);za=e,e=Kt(t,n)}else ka=e,e=r;return e}function ui(){var e,t,n,a,i,o;if(e=ka,(t=si())!==r){for(n=[],a=ka,gu(),(i=Po())!==r?(gu(),(o=si())!==r?(za=a,a=en(t,i,o)):(ka=a,a=r)):(ka=a,a=r);a!==r;)n.push(a),a=ka,gu(),(i=Po())!==r?(gu(),(o=si())!==r?(za=a,a=en(t,i,o)):(ka=a,a=r)):(ka=a,a=r);za=e,e=tn(t,n)}else ka=e,e=r;return e}function si(){var t,n,a,i,o;return t=ka,(n=Ao())===r&&(n=ka,33===e.charCodeAt(ka)?(a=u,ka++):(a=r,0===Ya&&ti(Me)),a!==r?(i=ka,Ya++,61===e.charCodeAt(ka)?(o=s,ka++):(o=r,0===Ya&&ti(Ee)),Ya--,o===r?i=void 0:(ka=i,i=r),i!==r?n=a=[a,i]:(ka=n,n=r)):(ka=n,n=r)),n!==r?(a=gu(),(i=si())!==r?(za=t,t=nn(i)):(ka=t,t=r)):(ka=t,t=r),t===r&&(t=li()),t}function li(){var e,t,n,a;return e=ka,(t=gi())!==r?(n=ka,gu(),(a=ci())!==r?n=a:(ka=n,n=r),n===r&&(n=null),za=e,e=rn(t,n)):(ka=e,e=r),e}function ci(){var e;return(e=fi())===r&&(e=Ii())===r&&(e=mi())===r&&(e=pi())===r&&(e=wi()),e}function fi(){var e,t,n,a,i;if(e=ka,t=[],n=ka,gu(),(a=di())!==r?(gu(),(i=gi())!==r?(za=n,n=an(a,i)):(ka=n,n=r)):(ka=n,n=r),n!==r)for(;n!==r;)t.push(n),n=ka,gu(),(a=di())!==r?(gu(),(i=gi())!==r?(za=n,n=an(a,i)):(ka=n,n=r)):(ka=n,n=r);else t=r;return t!==r&&(za=e,t=on(t)),t}function di(){var t;return e.substr(ka,2)===l?(t=l,ka+=2):(t=r,0===Ya&&ti(Fe)),t===r&&(62===e.charCodeAt(ka)?(t=c,ka++):(t=r,0===Ya&&ti(Ae)),t===r&&(e.substr(ka,2)===f?(t=f,ka+=2):(t=r,0===Ya&&ti(Pe)),t===r&&(e.substr(ka,2)===d?(t=d,ka+=2):(t=r,0===Ya&&ti(De)),t===r&&(t=e.charAt(ka),ve.test(t)?ka++:(t=r,0===Ya&&ti(Le)),t===r&&(e.substr(ka,2)===p?(t=p,ka+=2):(t=r,0===Ya&&ti(_e))))))),t}function pi(){var e,t,n,a;return e=ka,(t=Mo())!==r?(gu(),(n=Ao())!==r?(gu(),(a=gi())!==r?(za=e,e=un(t,a)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=Mo())!==r?(gu(),(n=gi())!==r?(za=e,e=sn(t,n)):(ka=e,e=r)):(ka=e,e=r)),e}function mi(){var e,t,n,a,i,o,u,s;return e=ka,(t=Ao())!==r?(gu(),(n=Lo())!==r?(a=gu(),i=ka,(o=gi())!==r?(gu(),(u=Po())!==r?(gu(),(s=gi())!==r?(za=i,i=ln(n,o,s)):(ka=i,i=r)):(ka=i,i=r)):(ka=i,i=r),i!==r?(za=e,e=cn(n,i)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=Lo())!==r?(gu(),n=ka,(a=gi())!==r?(i=gu(),(o=Po())!==r?(gu(),(u=gi())!==r?(za=n,n=fn(t,a,u)):(ka=n,n=r)):(ka=n,n=r)):(ka=n,n=r),n!==r?(za=e,e=dn(t,n)):(ka=e,e=r)):(ka=e,e=r)),e}function hi(){var e,t,n,a,i;return e=ka,t=ka,(n=Ao())!==r?(a=gu(),(i=Eo())!==r?t=n=[n,a,i]:(ka=t,t=r)):(ka=t,t=r),t!==r&&(za=e,t=pn(t)),(e=t)===r&&(e=Eo()),e}function vi(){var e,t,n,a,i;return e=ka,t=ka,(n=Ao())!==r?(a=gu(),(i=bo())!==r?t=n=[n,a,i]:(ka=t,t=r)):(ka=t,t=r),t!==r&&(za=e,t=mn(t)),(e=t)===r&&(e=bo()),e}function wi(){var e,t,n,a;return e=ka,(t=hi())!==r?(gu(),(n=uo())!==r?(gu(),Fo()!==r?(gu(),(a=so())!==r?(za=e,e=hn(t,n,a)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=hi())!==r?(gu(),(n=uo())!==r?(za=e,e=vn(t,n)):(ka=e,e=r)):(ka=e,e=r)),e}function Ii(){var e,t,n;return e=ka,(t=vi())!==r?(gu(),(n=ii())!==r?(za=e,e=wn(t,n)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=vi())!==r?(gu(),(n=Ui())!==r?(za=e,e=In(t,n)):(ka=e,e=r)):(ka=e,e=r)),e}function gi(){var e,t,n,a,i,o;if(e=ka,(t=Ti())!==r){for(n=[],a=ka,gu(),(i=yi())!==r?(gu(),(o=Ti())!==r?(za=a,a=gn(t,i,o)):(ka=a,a=r)):(ka=a,a=r);a!==r;)n.push(a),a=ka,gu(),(i=yi())!==r?(gu(),(o=Ti())!==r?(za=a,a=gn(t,i,o)):(ka=a,a=r)):(ka=a,a=r);za=e,e=yn(t,n)}else ka=e,e=r;return e}function yi(){var t;return t=e.charAt(ka),we.test(t)?ka++:(t=r,0===Ya&&ti(Re)),t===r&&(e.substr(ka,2)===m?(t=m,ka+=2):(t=r,0===Ya&&ti(Ue))),t}function Ti(){var e,t,n,a,i,o;if(e=ka,(t=Si())!==r){for(n=[],a=ka,gu(),(i=Ni())!==r?(gu(),(o=Si())!==r?(za=a,a=Tn(t,i,o)):(ka=a,a=r)):(ka=a,a=r);a!==r;)n.push(a),a=ka,gu(),(i=Ni())!==r?(gu(),(o=Si())!==r?(za=a,a=Tn(t,i,o)):(ka=a,a=r)):(ka=a,a=r);za=e,e=Nn(t,n)}else ka=e,e=r;return e}function Ni(){var t;return t=e.charAt(ka),Ie.test(t)?ka++:(t=r,0===Ya&&ti($e)),t}function Si(){var e,t;return(e=Yi())===r&&(e=$i())===r&&(e=Ji())===r&&(e=ki())===r&&(e=Hi())===r&&(e=Vi())===r&&(e=qi())===r&&(e=lo())===r&&(e=Oi())===r&&(e=Ui())===r&&(e=ka,wu()!==r?(gu(),(t=oi())!==r?(gu(),Iu()!==r?(za=e,e=Sn(t)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)),e}function Oi(){var e,t;return e=ka,(t=xi())!==r&&(za=e,t=On(t)),(e=t)===r&&(e=ka,(t=Ai())!==r&&(za=e,t=xn(t)),e=t),e}function xi(){var e,t;return e=ka,(t=Ci())!==r&&(za=e,t=Cn(t)),t}function Ci(){var e,t,n,a;if(e=ka,(t=Mi())!==r){for(n=[],a=Fi();a!==r;)n.push(a),a=Fi();za=e,e=bn(t,n)}else ka=e,e=r;return e}function bi(){var e,t,n,a;if(e=ka,(t=Mi())!==r){for(n=[],a=Ei();a!==r;)n.push(a),a=Ei();za=e,e=Mn(t,n)}else ka=e,e=r;return e}function Mi(){var t;return t=e.charAt(ka),ge.test(t)?ka++:(t=r,0===Ya&&ti(Je)),t}function Ei(){var t;return t=e.charAt(ka),ye.test(t)?ka++:(t=r,0===Ya&&ti(Ve)),t}function Fi(){var t;return t=e.charAt(ka),Te.test(t)?ka++:(t=r,0===Ya&&ti(Ze)),t}function Ai(){var e,t;return e=ka,Ri()!==r?(t=Pi(),Ri()!==r?(za=e,e=En(t)):(ka=e,e=r)):(ka=e,e=r),e}function Pi(){var e,t,n;for(e=ka,t=[],n=Di();n!==r;)t.push(n),n=Di();return za=e,Fn(t)}function Di(){var e;return(e=_i())===r&&(e=Li()),e}function Li(){var e;return e=ka,Ri()!==r&&Ri()!==r?(za=e,e=An()):(ka=e,e=r),e}function _i(){var t;return t=e.charAt(ka),Te.test(t)?ka++:(t=r,0===Ya&&ti(Ze)),t}function Ri(){var t;return t=e.charAt(ka),Ne.test(t)?ka++:(t=r,0===Ya&&ti(ke)),t}function Ui(){var t,n,a,i;return t=ka,n=ka,64===e.charCodeAt(ka)?(a=h,ka++):(a=r,0===Ya&&ti(ze)),a!==r&&(i=bi())!==r?n=a=[a,i]:(ka=n,n=r),n!==r&&(za=t,n=Pn(n)),n}function $i(){var e,t,n,a;return e=ka,$o()!==r?(gu(),t=ka,wu()!==r?(gu(),(n=ji())!==r?(gu(),_o()!==r?(gu(),(a=oi())!==r?(gu(),Iu()!==r?(za=t,t=Dn(n,a)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r),t===r&&(t=ka,wu()!==r?(gu(),(n=ji())!==r?(gu(),vu()!==r?(gu(),(a=oi())!==r?(gu(),Iu()!==r?(za=t,t=Ln(n,a)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)),t!==r?(za=e,e=_n(t)):(ka=e,e=r)):(ka=e,e=r),e}function Ji(){var e,t,n,a,i,o,u;return e=ka,Uo()!==r?(gu(),t=ka,wu()!==r?(gu(),(n=oi())!==r?(gu(),_o()!==r?(gu(),(a=oi())!==r?(gu(),i=ka,Ro()!==r?(o=gu(),(u=oi())!==r?(gu(),i=u):(ka=i,i=r)):(ka=i,i=r),i===r&&(i=null),Iu()!==r?(za=t,t=Rn(n,a,i)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r),t===r&&(t=ka,wu()!==r?(gu(),(n=oi())!==r?(gu(),vu()!==r?(gu(),(a=oi())!==r?(gu(),(i=vu())!==r?(gu(),(o=oi())!==r&&(u=Iu())!==r?(za=t,t=Un(n,a,o)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)),t!==r?(za=e,e=$n(t)):(ka=e,e=r)):(ka=e,e=r),e}function Vi(){var e,t,n,a;return e=ka,Yo()!==r?(gu(),t=ka,wu()!==r?(gu(),(n=oi())!==r?(gu(),Qo()!==r?(gu(),(a=Zi())!==r?(gu(),Iu()!==r?(za=t,t=Jn(n,a)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r),t===r&&(t=ka,wu()!==r?(gu(),(n=oi())!==r?(gu(),vu()!==r?(gu(),(a=Zi())!==r?(gu(),Iu()!==r?(za=t,t=Vn(n,a)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)),t!==r?(za=e,e=Zn(t)):(ka=e,e=r)):(ka=e,e=r),e}function Zi(){var e,t,n;return e=ka,(t=Bo())===r&&(t=Go()),t!==r&&(za=e,t=kn()),(e=t)===r&&(e=ka,(t=Wo())!==r&&(za=e,t=zn()),(e=t)===r&&(e=ka,(t=Xo())!==r&&(za=e,t=Hn()),(e=t)===r&&(e=ka,(t=Ko())!==r&&(za=e,t=qn()),(e=t)===r&&(e=ka,(t=ko())!==r&&(za=e,t=jn()),(e=t)===r&&(e=ka,(t=Zo())!==r&&(za=e,t=Yn()),(e=t)===r&&(e=ka,(t=zo())!==r&&(za=e,t=Qn()),(e=t)===r&&(e=ka,(t=eu())!==r?(gu(),wu()!==r?(gu(),(n=To())!==r?(gu(),Iu()!==r?(za=e,e=Bn(n)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)))))))),e}function ki(){var e,t,n,a,i;return e=ka,Jo()!==r?(gu(),t=ka,wu()!==r?(gu(),n=zi(),gu(),(a=oi())!==r?(gu(),_o()!==r?(gu(),(i=oi())!==r?(gu(),Iu()!==r?(za=t,t=Gn(n,a,i)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r),t===r&&(t=ka,wu()!==r?(gu(),n=zi(),gu(),(a=oi())!==r?(gu(),Iu()!==r?(za=t,t=Wn(n,a)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)),t!==r?(za=e,e=Xn(t)):(ka=e,e=r)):(ka=e,e=r),e}function zi(){var e,t;return e=ka,(t=Ho())===r&&(t=qo())===r&&(t=jo()),t===r&&(t=null),za=e,Kn(t)}function Hi(){var e,t,n,a;return e=ka,Vo()!==r?(gu(),t=ka,wu()!==r?(gu(),(n=oi())!==r?(gu(),bo()!==r?(gu(),(a=oi())!==r?(gu(),Iu()!==r?(za=t,t=er(n,a)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r),t===r&&(t=ka,wu()!==r?(gu(),(n=oi())!==r?(gu(),vu()!==r?(gu(),(a=oi())!==r?(gu(),Iu()!==r?(za=t,t=tr(n,a)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)),t!==r?(za=e,e=nr(t)):(ka=e,e=r)):(ka=e,e=r),e}function qi(){var e,t,n,a;return e=ka,t=ka,Ya++,n=$o(),Ya--,n===r?t=void 0:(ka=t,t=r),t!==r&&(n=Tu())!==r?(gu(),(a=ii())!==r?(za=e,e=rr(n,a)):(ka=e,e=r)):(ka=e,e=r),e}function ji(){var e,t;return e=ka,(t=ru())===r&&(t=ou())===r&&(t=uu())===r&&(t=su())===r&&(t=lu())===r&&(t=cu())===r&&(t=au())===r&&(t=iu()),t!==r&&(za=e,t=ar(t)),t}function Yi(){var e;return(e=so())===r&&(e=vo())===r&&(e=oo())===r&&(e=io())===r&&(e=ao())===r&&(e=Qi())===r&&(e=Gi())===r&&(e=Bi()),e}function Qi(){var e,t;return e=ka,Zo()!==r?(gu(),(t=uo())!==r?(za=e,e=ir(t)):(ka=e,e=r)):(ka=e,e=r),e}function Bi(){var e,t;return e=ka,zo()!==r?(gu(),(t=uo())!==r?(za=e,e=or(t)):(ka=e,e=r)):(ka=e,e=r),e}function Gi(){var t,n,a,i;return t=ka,nu()!==r?(gu(),n=e.charAt(ka),we.test(n)?ka++:(n=r,0===Ya&&ti(Re)),n!==r?(gu(),(a=uo())!==r?(gu(),(i=Wi())!==r?(za=t,t=ur(n,a,i)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r),t===r&&(t=ka,nu()!==r?(gu(),(n=uo())!==r?(gu(),(a=Wi())!==r?(za=t,t=sr(n,a)):(ka=t,t=r)):(ka=t,t=r)):(ka=t,t=r)),t}function Wi(){var e,t,n;return e=ka,(t=Xi())!==r?(gu(),tu()!==r?(gu(),(n=Ki())!==r?(za=e,e=lr(t,n)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=eo()),e}function Xi(){var e,t,n;return e=ka,(t=to())!==r?(gu(),wu()!==r?(gu(),(n=ro())!==r?(gu(),Iu()!==r?(za=e,e=cr(t,n)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=to())!==r&&(za=e,t=fr(t)),e=t),e}function Ki(){var e,t,n,a;return e=ka,(t=to())!==r&&(za=e,t=dr(t)),(e=t)===r&&(e=ka,(t=cu())!==r?(gu(),wu()!==r?(gu(),(n=ro())!==r?(gu(),vu()!==r?(gu(),(a=no())!==r?(gu(),Iu()!==r?(za=e,e=pr(n,a)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=cu())!==r?(gu(),wu()!==r?(gu(),(n=ro())!==r?(gu(),Iu()!==r?(za=e,e=mr(n)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=cu())!==r&&(za=e,t=hr()),e=t))),e}function eo(){var e,t,n,a;return e=ka,(t=to())!==r?(gu(),wu()!==r?(gu(),(n=no())!==r?(gu(),Iu()!==r?(za=e,e=vr(t,n)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=to())!==r&&(za=e,t=wr(t)),(e=t)===r&&(e=ka,(t=cu())!==r?(gu(),wu()!==r?(gu(),(n=ro())!==r?(gu(),vu()!==r?(gu(),(a=no())!==r?(gu(),Iu()!==r?(za=e,e=Ir(n,a)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=cu())!==r?(gu(),wu()!==r?(gu(),(n=no())!==r?(gu(),Iu()!==r?(za=e,e=gr(n)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e===r&&(e=ka,(t=cu())!==r&&(za=e,t=yr()),e=t)))),e}function to(){var e,t;return e=ka,(t=uu())!==r&&(za=e,t=Tr()),(e=t)===r&&(e=ka,(t=su())!==r&&(za=e,t=Nr()),(e=t)===r&&(e=ka,(t=lu())!==r&&(za=e,t=Sr()),(e=t)===r&&(e=ka,(t=ou())!==r&&(za=e,t=Or()),(e=t)===r&&(e=ka,(t=ru())!==r&&(za=e,t=xr()),e=t)))),e}function no(){var e,t;return e=ka,(t=To())!==r&&(za=e,t=Cr(t)),t}function ro(){var e,t;return e=ka,(t=To())!==r&&(za=e,t=br(t)),t}function ao(){var e,t;return e=ka,ko()!==r?(gu(),(t=uo())!==r?(za=e,e=Mr(t)):(ka=e,e=r)):(ka=e,e=r),e}function io(){var e,t;return e=ka,(t=Oo())!==r&&(za=e,t=Er()),t}function oo(){var e,t;return e=ka,(t=xo())!==r&&(za=e,t=Fr()),(e=t)===r&&(e=ka,(t=Co())!==r&&(za=e,t=Ar()),e=t),e}function uo(){var e;return(e=so())===r&&(e=Ui()),e}function so(){var t,n,a,i,o;if(t=ka,39===e.charCodeAt(ka)?(n=v,ka++):(n=r,0===Ya&&ti(He)),n===r&&(e.substr(ka,2)===w?(n=w,ka+=2):(n=r,0===Ya&&ti(qe))),n!==r){for(a=[],i=ka,e.substr(ka,2)===I?(o=I,ka+=2):(o=r,0===Ya&&ti(je)),o!==r&&(za=i,o=Pr()),(i=o)===r&&(i=e.charAt(ka),Se.test(i)?ka++:(i=r,0===Ya&&ti(Ye)));i!==r;)a.push(i),i=ka,e.substr(ka,2)===I?(o=I,ka+=2):(o=r,0===Ya&&ti(je)),o!==r&&(za=i,o=Pr()),(i=o)===r&&(i=e.charAt(ka),Se.test(i)?ka++:(i=r,0===Ya&&ti(Ye)));39===e.charCodeAt(ka)?(i=v,ka++):(i=r,0===Ya&&ti(He)),i!==r?(za=t,t=Dr(a)):(ka=t,t=r)}else ka=t,t=r;return t}function lo(){var e;return(e=co())===r&&(e=fo()),e}function co(){var e,t,n,a,i;if(e=ka,fu()!==r)if(gu(),(t=oi())!==r){for(gu(),n=[],a=ka,(i=mo())!==r?(gu(),a=i):(ka=a,a=r);a!==r;)n.push(a),a=ka,(i=mo())!==r?(gu(),a=i):(ka=a,a=r);(a=du())!==r?(za=e,e=Lr(t,n)):(ka=e,e=r)}else ka=e,e=r;else ka=e,e=r;if(e===r)if(e=ka,fu()!==r)if(gu(),(t=oi())!==r){for(gu(),n=[],a=ka,(i=mo())!==r?(gu(),a=i):(ka=a,a=r);a!==r;)n.push(a),a=ka,(i=mo())!==r?(gu(),a=i):(ka=a,a=r);(a=ho())!==r?(i=gu(),du()!==r?(za=e,e=_r(t,n,a)):(ka=e,e=r)):(ka=e,e=r)}else ka=e,e=r;else ka=e,e=r;return e}function fo(){var e,t,n,a;if(e=ka,fu()!==r){for(gu(),t=[],n=ka,(a=po())!==r?(gu(),n=a):(ka=n,n=r);n!==r;)t.push(n),n=ka,(a=po())!==r?(gu(),n=a):(ka=n,n=r);(n=du())!==r?(za=e,e=Rr(t)):(ka=e,e=r)}else ka=e,e=r;if(e===r)if(e=ka,fu()!==r){for(gu(),t=[],n=ka,(a=po())!==r?(gu(),n=a):(ka=n,n=r);n!==r;)t.push(n),n=ka,(a=po())!==r?(gu(),n=a):(ka=n,n=r);(n=ho())!==r?(a=gu(),du()!==r?(za=e,e=Ur(t,n)):(ka=e,e=r)):(ka=e,e=r)}else ka=e,e=r;return e}function po(){var e,t,n;return e=ka,pu()!==r?(gu(),(t=oi())!==r?(gu(),mu()!==r?(gu(),(n=oi())!==r?(za=e,e=$r(t,n)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e}function mo(){var e,t,n;return e=ka,pu()!==r?(gu(),(t=oi())!==r?(gu(),mu()!==r?(gu(),(n=oi())!==r?(za=e,e=Jr(t,n)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r)):(ka=e,e=r),e}function ho(){var e,t;return e=ka,hu()!==r?(gu(),(t=oi())!==r?(za=e,e=Vr(t)):(ka=e,e=r)):(ka=e,e=r),e}function vo(){var e,t,n,a;return e=ka,(t=wo())!==r?(n=ka,Ya++,a=Mi(),Ya--,a===r?n=void 0:(ka=n,n=r),n!==r?(za=e,e=Zr(t)):(ka=e,e=r)):(ka=e,e=r),e}function wo(){var e,t,n,a;return e=ka,(t=Io())!==r&&(n=go())!==r&&(a=yo())!==r?(za=e,e=kr(t,n,a)):(ka=e,e=r),e===r&&(e=ka,(t=Io())!==r&&(n=go())!==r?(za=e,e=zr(t,n)):(ka=e,e=r),e===r&&(e=ka,(t=Io())!==r&&(n=yo())!==r?(za=e,e=Hr(t,n)):(ka=e,e=r),e===r&&(e=ka,(t=Io())!==r&&(za=e,t=qr(t)),e=t))),e}function Io(){var t,n,a;return(t=To())===r&&(t=ka,n=e.charAt(ka),we.test(n)?ka++:(n=r,0===Ya&&ti(Re)),n!==r&&(a=To())!==r?(za=t,t=jr(n,a)):(ka=t,t=r)),t}function go(){var t,n,a;return t=ka,46===e.charCodeAt(ka)?(n=g,ka++):(n=r,0===Ya&&ti(Qe)),n!==r?((a=To())===r&&(a=null),za=t,t=Yr(a)):(ka=t,t=r),t}function yo(){var e,t,n;return e=ka,(t=So())!==r&&(n=To())!==r?(za=e,e=Qr(t,n)):(ka=e,e=r),e}function To(){var e,t,n;if(e=ka,t=[],(n=No())!==r)for(;n!==r;)t.push(n),n=No();else t=r;return t!==r&&(za=e,t=Br(t)),t}function No(){var t;return t=e.charAt(ka),Oe.test(t)?ka++:(t=r,0===Ya&&ti(Be)),t}function So(){var t,n,a;return t=ka,n=e.charAt(ka),xe.test(n)?ka++:(n=r,0===Ya&&ti(Ge)),n!==r?(a=e.charAt(ka),we.test(a)?ka++:(a=r,0===Ya&&ti(Re)),a===r&&(a=null),za=t,t=Gr(n,a)):(ka=t,t=r),t}function Oo(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===y?ka+=4:(n=r,0===Ya&&ti(We)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?t=n=[n,a]:(ka=t,t=r)):(ka=t,t=r),t}function xo(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===T?ka+=4:(n=r,0===Ya&&ti(Xe)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?t=n=[n,a]:(ka=t,t=r)):(ka=t,t=r),t}function Co(){var t,n,a,i;return t=ka,(n=e.substr(ka,5)).toLowerCase()===N?ka+=5:(n=r,0===Ya&&ti(Ke)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?t=n=[n,a]:(ka=t,t=r)):(ka=t,t=r),t}function bo(){var t,n,a,i;return t=ka,(n=e.substr(ka,2)).toLowerCase()===S?ka+=2:(n=r,0===Ya&&ti(et)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Wr()):(ka=t,t=r)):(ka=t,t=r),t}function Mo(){var t,n,a,i;return t=ka,(n=e.substr(ka,2)).toLowerCase()===O?ka+=2:(n=r,0===Ya&&ti(tt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Xr()):(ka=t,t=r)):(ka=t,t=r),t}function Eo(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===x?ka+=4:(n=r,0===Ya&&ti(nt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Kr()):(ka=t,t=r)):(ka=t,t=r),t}function Fo(){var t,n,a,i;return t=ka,(n=e.substr(ka,6)).toLowerCase()===C?ka+=6:(n=r,0===Ya&&ti(rt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ea()):(ka=t,t=r)):(ka=t,t=r),t}function Ao(){var t,n,a,i;return t=ka,(n=e.substr(ka,3)).toLowerCase()===b?ka+=3:(n=r,0===Ya&&ti(at)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ta()):(ka=t,t=r)):(ka=t,t=r),t}function Po(){var t,n,a,i;return t=ka,(n=e.substr(ka,3)).toLowerCase()===M?ka+=3:(n=r,0===Ya&&ti(it)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=na()):(ka=t,t=r)):(ka=t,t=r),t}function Do(){var t,n,a,i;return t=ka,(n=e.substr(ka,2)).toLowerCase()===E?ka+=2:(n=r,0===Ya&&ti(ot)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ra()):(ka=t,t=r)):(ka=t,t=r),t}function Lo(){var t,n,a,i;return t=ka,(n=e.substr(ka,7)).toLowerCase()===F?ka+=7:(n=r,0===Ya&&ti(ut)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=aa()):(ka=t,t=r)):(ka=t,t=r),t}function _o(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===A?ka+=4:(n=r,0===Ya&&ti(st)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ia()):(ka=t,t=r)):(ka=t,t=r),t}function Ro(){var t,n,a,i;return t=ka,(n=e.substr(ka,3)).toLowerCase()===P?ka+=3:(n=r,0===Ya&&ti(lt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=oa()):(ka=t,t=r)):(ka=t,t=r),t}function Uo(){var t,n,a,i;return t=ka,(n=e.substr(ka,9)).toLowerCase()===D?ka+=9:(n=r,0===Ya&&ti(ct)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ua()):(ka=t,t=r)):(ka=t,t=r),t}function $o(){var t,n,a,i;return t=ka,(n=e.substr(ka,7)).toLowerCase()===L?ka+=7:(n=r,0===Ya&&ti(dt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=sa()):(ka=t,t=r)):(ka=t,t=r),t}function Jo(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===_?ka+=4:(n=r,0===Ya&&ti(pt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=la()):(ka=t,t=r)):(ka=t,t=r),t}function Vo(){var t,n,a,i;return t=ka,(n=e.substr(ka,8)).toLowerCase()===R?ka+=8:(n=r,0===Ya&&ti(mt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ca()):(ka=t,t=r)):(ka=t,t=r),t}function Zo(){var t,n,a,i;return t=ka,(n=e.substr(ka,9)).toLowerCase()===U?ka+=9:(n=r,0===Ya&&ti(ht)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=fa()):(ka=t,t=r)):(ka=t,t=r),t}function ko(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===$?ka+=4:(n=r,0===Ya&&ti(vt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=da()):(ka=t,t=r)):(ka=t,t=r),t}function zo(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===J?ka+=4:(n=r,0===Ya&&ti(wt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=pa()):(ka=t,t=r)):(ka=t,t=r),t}function Ho(){var t,n,a,i;return t=ka,(n=e.substr(ka,7)).toLowerCase()===V?ka+=7:(n=r,0===Ya&&ti(It)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ma()):(ka=t,t=r)):(ka=t,t=r),t}function qo(){var t,n,a,i;return t=ka,(n=e.substr(ka,8)).toLowerCase()===Z?ka+=8:(n=r,0===Ya&&ti(gt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ha()):(ka=t,t=r)):(ka=t,t=r),t}function jo(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===k?ka+=4:(n=r,0===Ya&&ti(yt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=va()):(ka=t,t=r)):(ka=t,t=r),t}function Yo(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===z?ka+=4:(n=r,0===Ya&&ti(Tt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=wa()):(ka=t,t=r)):(ka=t,t=r),t}function Qo(){var t,n,a,i;return t=ka,(n=e.substr(ka,2)).toLowerCase()===H?ka+=2:(n=r,0===Ya&&ti(Nt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Ia()):(ka=t,t=r)):(ka=t,t=r),t}function Bo(){var t,n,a,i;return t=ka,(n=e.substr(ka,7)).toLowerCase()===q?ka+=7:(n=r,0===Ya&&ti(St)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ga()):(ka=t,t=r)):(ka=t,t=r),t}function Go(){var t,n,a,i;return t=ka,(n=e.substr(ka,3)).toLowerCase()===j?ka+=3:(n=r,0===Ya&&ti(Ot)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ya()):(ka=t,t=r)):(ka=t,t=r),t}function Wo(){var t,n,a,i;return t=ka,(n=e.substr(ka,8)).toLowerCase()===Y?ka+=8:(n=r,0===Ya&&ti(xt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Ta()):(ka=t,t=r)):(ka=t,t=r),t}function Xo(){var t,n,a,i;return t=ka,(n=e.substr(ka,5)).toLowerCase()===Q?ka+=5:(n=r,0===Ya&&ti(Ct)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Na()):(ka=t,t=r)):(ka=t,t=r),t}function Ko(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===B?ka+=4:(n=r,0===Ya&&ti(bt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Sa()):(ka=t,t=r)):(ka=t,t=r),t}function eu(){var t,n,a,i;return t=ka,(n=e.substr(ka,7)).toLowerCase()===G?ka+=7:(n=r,0===Ya&&ti(Mt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Oa()):(ka=t,t=r)):(ka=t,t=r),t}function tu(){var t,n,a,i;return t=ka,(n=e.substr(ka,2)).toLowerCase()===W?ka+=2:(n=r,0===Ya&&ti(Et)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=xa()):(ka=t,t=r)):(ka=t,t=r),t}function nu(){var t,n,a,i;return t=ka,(n=e.substr(ka,8)).toLowerCase()===X?ka+=8:(n=r,0===Ya&&ti(Ft)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Ca()):(ka=t,t=r)):(ka=t,t=r),t}function ru(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===K?ka+=4:(n=r,0===Ya&&ti(At)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=ba()):(ka=t,t=r)):(ka=t,t=r),t}function au(){var t,n,a,i;return t=ka,(n=e.substr(ka,13)).toLowerCase()===ee?ka+=13:(n=r,0===Ya&&ti(Pt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Ma()):(ka=t,t=r)):(ka=t,t=r),t}function iu(){var t,n,a,i;return t=ka,(n=e.substr(ka,15)).toLowerCase()===te?ka+=15:(n=r,0===Ya&&ti(Dt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Ea()):(ka=t,t=r)):(ka=t,t=r),t}function ou(){var t,n,a,i;return t=ka,(n=e.substr(ka,5)).toLowerCase()===ne?ka+=5:(n=r,0===Ya&&ti(Lt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Fa()):(ka=t,t=r)):(ka=t,t=r),t}function uu(){var t,n,a,i;return t=ka,(n=e.substr(ka,3)).toLowerCase()===re?ka+=3:(n=r,0===Ya&&ti(_t)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Aa()):(ka=t,t=r)):(ka=t,t=r),t}function su(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===ae?ka+=4:(n=r,0===Ya&&ti(Rt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Pa()):(ka=t,t=r)):(ka=t,t=r),t}function lu(){var t,n,a,i;return t=ka,(n=e.substr(ka,6)).toLowerCase()===ie?ka+=6:(n=r,0===Ya&&ti(Ut)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Da()):(ka=t,t=r)):(ka=t,t=r),t}function cu(){var t,n,a,i;return t=ka,(n=e.substr(ka,6)).toLowerCase()===oe?ka+=6:(n=r,0===Ya&&ti($t)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=La()):(ka=t,t=r)):(ka=t,t=r),t}function fu(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===ue?ka+=4:(n=r,0===Ya&&ti(Jt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=_a()):(ka=t,t=r)):(ka=t,t=r),t}function du(){var t,n,a,i;return t=ka,(n=e.substr(ka,3)).toLowerCase()===se?ka+=3:(n=r,0===Ya&&ti(Vt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Ra()):(ka=t,t=r)):(ka=t,t=r),t}function pu(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===le?ka+=4:(n=r,0===Ya&&ti(Zt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Ua()):(ka=t,t=r)):(ka=t,t=r),t}function mu(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===ce?ka+=4:(n=r,0===Ya&&ti(kt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=$a()):(ka=t,t=r)):(ka=t,t=r),t}function hu(){var t,n,a,i;return t=ka,(n=e.substr(ka,4)).toLowerCase()===fe?ka+=4:(n=r,0===Ya&&ti(zt)),n!==r?(a=ka,Ya++,i=Ei(),Ya--,i===r?a=void 0:(ka=a,a=r),a!==r?(za=t,t=Ja()):(ka=t,t=r)):(ka=t,t=r),t}function vu(){var t;return 44===e.charCodeAt(ka)?(t=de,ka++):(t=r,0===Ya&&ti(Ht)),t}function wu(){var t;return 40===e.charCodeAt(ka)?(t=pe,ka++):(t=r,0===Ya&&ti(qt)),t}function Iu(){var t;return 41===e.charCodeAt(ka)?(t=me,ka++):(t=r,0===Ya&&ti(jt)),t}function gu(){var e,t;for(e=[],t=yu();t!==r;)e.push(t),t=yu();return e}function yu(){var t;return t=e.charAt(ka),Ce.test(t)?ka++:(t=r,0===Ya&&ti(Yt)),t}function Tu(){var t,n,a,i;if(t=ka,(n=bi())!==r&&(za=t,n=Va(n)),(t=n)===r)if(t=ka,96===e.charCodeAt(ka)?(n=he,ka++):(n=r,0===Ya&&ti(Qt)),n!==r){if(a=[],i=e.charAt(ka),be.test(i)?ka++:(i=r,0===Ya&&ti(Bt)),i!==r)for(;i!==r;)a.push(i),i=e.charAt(ka),be.test(i)?ka++:(i=r,0===Ya&&ti(Bt));else a=r;a!==r?(96===e.charCodeAt(ka)?(i=he,ka++):(i=r,0===Ya&&ti(Qt)),i!==r?(za=t,t=Za(a)):(ka=t,t=r)):(ka=t,t=r)}else ka=t,t=r;return t}function Nu(e,t,n){return{type:"unary-expression",location:n,operator:e,expr:t}}function Su(e,t,n,r,a){const i={type:"binary-expression",location:a,operator:e,left:t,right:n};return void 0!==r&&(i.escape=r),i}function Ou(e,...t){return{type:"expression-list",location:e,value:t}}function xu(e,t){let n=e;for(const{op:r,expr:a,location:{end:i}}of t)n=Su(r,n,a,void 0,{...n.location,end:i});return n}function Cu(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Ba("Timestamp literal is invalid")}function bu(e){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(e)&&Ba("Time literal is invalid")}function Mu(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Ba("Date literal is invalid")}if(n=o(),t.peg$library)return{peg$result:n,peg$currPos:ka,peg$FAILED:r,peg$maxFailExpected:ja,peg$maxFailPos:qa};if(n!==r&&ka===e.length)return n;throw n!==r&&ka<e.length&&ti(Xa()),ri(ja,qa<e.length?e.charAt(qa):null,qa<e.length?ei(qa,qa+1):ei(qa,qa))}ct(ft,Error),ft.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,i=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(a):a,o=this.location.source+":"+i.line+":"+i.column;if(r){var u=this.location.end,s=dt("",i.line.toString().length," "),l=r[a.line-1],c=(a.line===u.line?u.column:l.length+1)-a.column||1;t+="\n --\x3e "+o+"\n"+s+" |\n"+i.line+" | "+l+"\n"+s+" | "+dt("",a.column-1," ")+dt("",c,"^")}else t+="\n at "+o}return t},ft.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return n[e.type](e)}function u(e){var t,n,r=e.map(o);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function s(e){return e?'"'+a(e)+'"':"end of input"}return"Expected "+u(e)+" but "+s(t)+" found."};class mt{static parse(e){return pt(e)}}function ht(e,t){if(null!=e)switch(t(e),e.type){case"when-clause":ht(e.operand,t),ht(e.value,t);break;case"case-expression":for(const n of e.clauses)ht(n,t);"simple"===e.format&&ht(e.operand,t),null!==e.else&&ht(e.else,t);break;case"expression-list":for(const n of e.value)ht(n,t);break;case"unary-expression":ht(e.expr,t);break;case"binary-expression":ht(e.left,t),ht(e.right,t);break;case"function":ht(e.args,t);break;case"interval":ht(e.value,t),ht(e.qualifier,t);break;case"interval-qualifier":ht(e.start,t),ht(e.end,t)}}const vt=new Set(["current_timestamp","current_date","current_time"]);class wt{static makeBool(e){return gt(e)}static featureValue(e,t,n,r){return Ft(e,t,n,r)}static equalsNull(e){return null===e}static applyLike(e,t,n){return Mt(e,t,n)}static ensureArray(e){return yt(e)}static applyIn(e,t,n){return Ot(e,t)}static currentTimestamp(e){return M(new Date,e)}static currentDate(e){return a.n.fromNow(e)}static currentTime(e){const t=M(new Date,e);return a.a.fromDateTime(t)}static makeSqlInterval(e,t,n){return g.createFromValueAndQualifier(e,t,n)}static convertInterval(e){return e instanceof g?e.valueInMilliseconds():e}static compare(e,t,n,r){return Q(t,n,e)}static calculate(e,t,n,r){return me(e,t,n,r)}static evaluateTime(e){return U(e)}static evaluateTimestamp(e,t,n){return $(e,t,n)}static evaluateDate(e,t){return J(e,t)}static evaluateFunction(e,t,n){return ie(e,t,n)}static lookup(e,t){const n=t[e];return void 0===n?null:n}static between(e,t,n){return null==e||null==t[0]||null==t[1]?null:Q(e,t[0],">=")&&Q(e,t[1],"<=")}static notbetween(e,t,n){return null==e||null==t[0]||null==t[1]?null:Q(e,t[0],"<")||Q(e,t[1],">")}static ternaryNot(e){return Tt(e)}static ternaryAnd(e,t){return Nt(e,t)}static ternaryOr(e,t){return St(e,t)}}class It{constructor(e,t,n="UTC",r=null){this.fieldsIndex=t,this.timeZone=n,this.currentUser=r,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=mt.parse(e);const{isStandardized:a,isAggregate:i,currentUserRequired:o,referencedFieldNames:u}=this._extractExpressionInfo(t);this._referencedFieldNames=u,this.isStandardized=a,this.isAggregate=i,this.currentUserRequired=o}static convertValueToStorageFormat(e,t=null){if(null===t)return P(e)?e.getTime():D(e)?e.toMillis():R(e)?e.toStorageFormat():_(e)?e.toStorageString():L(e)?e.toStorageFormat():e;switch(t){case"date":return P(e)?e.getTime():D(e)?e.toMillis():R(e)?e.toMilliseconds():L(e)?e.toNumber():e;case"date-only":return P(e)?a.n.fromDateJS(e).toString():R(e)?a.n.fromSqlTimeStampOffset(e).toString():D(e)?a.n.fromDateTime(e).toString():e;case"time-only":return P(e)?a.a.fromDateJS(e).toStorageString():D(e)?a.a.fromDateTime(e).toStorageString():R(e)?a.a.fromSqlTimeStampOffset(e).toStorageString():_(e)?e.toStorageString():e;case"timestamp-offset":if(P(e))return l.fromJSDate(e).toStorageFormat();if(D(e))return l.fromDateTime(e).toStorageFormat();if(R(e))return e.toStorageFormat()}return e}static create(e,t={}){return new It(e,t.fieldsIndex,t.timeZone??void 0,t.currentUser)}get fieldNames(){return this._referencedFieldNames}testSet(e,t=At,n=this.currentUser){return!!this._evaluateNode(this.parseTree,null,t,e,n)}calculateValue(e,t=At,n=this.currentUser){const r=this._evaluateNode(this.parseTree,e,t,null,n);return r instanceof g?r.valueInMilliseconds()/864e5:r}calculateValueCompiled(e,t=At,n=this.currentUser){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone,n??null):(0,i.Q)("esri-csp-restrictions")?this.calculateValue(e,t):(this._compileMe(),this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone,n??null))}testFeature(e,t=At,n=this.currentUser){return!!this._evaluateNode(this.parseTree,e,t,null,n)}testFeatureCompiled(e,t=At,n=this.currentUser){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone,n??null):(0,i.Q)("esri-csp-restrictions")?this.testFeature(e,t):(this._compileMe(),!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone,n??null))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,ht(this.parseTree,(e=>{"current-time"===e.type?this._hasDateFunctions=!0:"function"===e.type&&(this._hasDateFunctions=this._hasDateFunctions||vt.has(e.name.toLowerCase()))}))),this._hasDateFunctions}getFunctions(){const e=new Set;return ht(this.parseTree,(t=>{"function"===t.type&&e.add(t.name.toLowerCase())})),Array.from(e)}getExpressions(){const e=new Map;return ht(this.parseTree,(t=>{if("function"===t.type){const n=t.name.toLowerCase(),r=t.args.value[0];if("column-reference"===r.type){const t=r.column,a=`${n}-${t}`;e.has(a)||e.set(a,{aggregateType:n,field:t})}}})),[...e.values()]}getVariables(){const e=new Set;return ht(this.parseTree,(t=>{"parameter"===t.type&&e.add(t.value.toLowerCase())})),Array.from(e)}_compileMe(){const e="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone","currentUser",e).bind(wt)}_extractExpressionInfo(e){const t=[],n=new Set;let r=!0,a=!1,i=!1;return ht(this.parseTree,(o=>{switch(o.type){case"column-reference":{const r=e?.get(o.column);let a,i;r?a=i=r.name??"":(i=o.column,a=i.toLowerCase()),n.has(a)||(n.add(a),t.push(i)),o.column=i;break}case"current-user":i=!0;break;case"function":{const{name:e,args:t}=o,n=t.value.length;r&&(r=oe(e,n)),!1===a&&(a=f(e,n));break}}})),{referencedFieldNames:Array.from(t),isStandardized:r,isAggregate:a,currentUserRequired:i}}evaluateNodeToJavaScript(e){switch(e.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(e.value)+", "+JSON.stringify(e.qualifier)+","+JSON.stringify(e.op)+")";case"case-expression":{let t="";if("simple"===e.format){const n=this.evaluateNodeToJavaScript(e.operand);t="( ";for(let r=0;r<e.clauses.length;r++)t+=" (this.compare('=',"+n+","+this.evaluateNodeToJavaScript(e.clauses[r].operand)+") ? ("+this.evaluateNodeToJavaScript(e.clauses[r].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}else{t="( ";for(let n=0;n<e.clauses.length;n++)t+=" this.makeBool("+this.evaluateNodeToJavaScript(e.clauses[n].operand)+")===true ? ("+this.evaluateNodeToJavaScript(e.clauses[n].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}return t}case"parameter":return"this.lookup("+JSON.stringify(e.value.toLowerCase())+",lookups)";case"expression-list":{let t="[";for(const n of e.value)"["!==t&&(t+=","),t+=this.evaluateNodeToJavaScript(n);return t+="]",t}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(e.expr)+")";case"binary-expression":switch(e.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"IS":if("null"!==e.right.type)throw new u(r.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")";case"ISNOT":if("null"!==e.right.type)throw new u(r.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone)";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";default:throw new u(r.UnsupportedOperator,{operator:e.operator})}case"null":case"boolean":case"string":case"number":return JSON.stringify(e.value);case"time":return"this.evaluateTime("+JSON.stringify(e.value)+")";case"date":return"this.evaluateDate("+JSON.stringify(e.value)+", 'unknown')";case"timestamp":return"this.evaluateTimestamp("+JSON.stringify(e.value)+", 'unknown')";case"current-time":return"date"===e.mode?"this.currentDate(timeZone)":"time"===e.mode?"this.currentTime(timeZone)":"this.currentTimestamp(timeZone)";case"current-user":return"currentUser";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(e.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(e.name)+","+this.evaluateNodeToJavaScript(e.args)+", timeZone)"}throw new u(r.UnsupportedSyntax,{node:e.type})}_evaluateNode(e,t,n,o,s){let l;switch(e.type){case"interval":{const r=this._evaluateNode(e.value,t,n,o,s);return g.createFromValueAndQualifier(r,e.qualifier,e.op)}case"case-expression":if("simple"===e.format){const r=this._evaluateNode(e.operand,t,n,o,s);for(let a=0;a<e.clauses.length;a++)if(Q(r,this._evaluateNode(e.clauses[a].operand,t,n,o,s),"=",this.timeZone))return this._evaluateNode(e.clauses[a].value,t,n,o,s);if(null!==e.else)return this._evaluateNode(e.else,t,n,o,s)}else{for(let r=0;r<e.clauses.length;r++)if(gt(this._evaluateNode(e.clauses[r].operand,t,n,o,s)))return this._evaluateNode(e.clauses[r].value,t,n,o,s);if(null!==e.else)return this._evaluateNode(e.else,t,n,o,s)}return null;case"parameter":return l=this.parameters[e.value.toLowerCase()],P(l)?i.bm.fromJSDate(l):l instanceof a.m?l.toDateTime():l;case"expression-list":{const r=[];for(const a of e.value)r.push(this._evaluateNode(a,t,n,o,s));return r}case"unary-expression":return Tt(this._evaluateNode(e.expr,t,n,o,s));case"binary-expression":switch(e.operator){case"AND":return Nt(this._evaluateNode(e.left,t,n,o,s),this._evaluateNode(e.right,t,n,o,s));case"OR":return St(this._evaluateNode(e.left,t,n,o,s),this._evaluateNode(e.right,t,n,o,s));case"IS":if("null"!==e.right.type)throw new u(r.UnsupportedIsRhs);return null===this._evaluateNode(e.left,t,n,o,s);case"ISNOT":if("null"!==e.right.type)throw new u(r.UnsupportedIsRhs);return null!==this._evaluateNode(e.left,t,n,o,s);case"IN":{const r=yt(this._evaluateNode(e.right,t,n,o,s));return Ot(this._evaluateNode(e.left,t,n,o,s),r,this.timeZone)}case"NOT IN":{const r=yt(this._evaluateNode(e.right,t,n,o,s));return Tt(Ot(this._evaluateNode(e.left,t,n,o,s),r,this.timeZone))}case"BETWEEN":{const r=this._evaluateNode(e.left,t,n,o,s),a=this._evaluateNode(e.right,t,n,o,s);return null==r||null==a[0]||null==a[1]?null:Q(r,a[0],">=",this.timeZone)&&Q(r,a[1],"<=",this.timeZone)}case"NOTBETWEEN":{const r=this._evaluateNode(e.left,t,n,o,s),a=this._evaluateNode(e.right,t,n,o,s);return null==r||null==a[0]||null==a[1]?null:Q(r,a[0],"<",this.timeZone)||Q(r,a[1],">",this.timeZone)}case"LIKE":return Mt(this._evaluateNode(e.left,t,n,o,s),this._evaluateNode(e.right,t,n,o,s),e.escape);case"NOT LIKE":return Tt(Mt(this._evaluateNode(e.left,t,n,o,s),this._evaluateNode(e.right,t,n,o,s),e.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return Q(this._evaluateNode(e.left,t,n,o,s),this._evaluateNode(e.right,t,n,o,s),e.operator,this.timeZone);case"-":case"+":case"*":case"/":case"||":return me(e.operator,this._evaluateNode(e.left,t,n,o,s),this._evaluateNode(e.right,t,n,o,s),this.timeZone)}case"null":case"boolean":case"string":case"number":return e.value;case"date":return e.parsedValue??=J(e.value,"unknown"),e.parsedValue;case"timestamp":return e.parsedValue??=$(e.value,"unknown"),e.parsedValue;case"time":return U(e.value);case"current-time":return"date"===e.mode?wt.currentDate(this.timeZone):"time"===e.mode?wt.currentTime(this.timeZone):wt.currentTimestamp(this.timeZone);case"current-user":return s??null;case"column-reference":return Ft(t,e.column,this.fieldsIndex,n);case"data-type":return e.value;case"function":{if(this.isAggregate&&f(e.name,e.args.value.length)){const t=[];for(const r of e.args?.value||[]){const e=[];for(const t of o||[])e.push(this._evaluateNode(r,t,n,null,s));t.push(e)}return c(e.name,t)}const r=this._evaluateNode(e.args,t,n,o,s);return ie(e.name,r,this.timeZone)}}throw new u(r.UnsupportedSyntax,{node:e.type})}}function gt(e){return!0===e}function yt(e){return Array.isArray(e)?e:[e]}function Tt(e){return null!==e?!0!==e:null}function Nt(e,t){return null!=e&&null!=t?!0===e&&!0===t:!1!==e&&!1!==t&&null}function St(e,t){return null!=e&&null!=t?!0===e||!0===t:!0===e||!0===t||null}function Ot(e,t,n){if(null==e)return null;let r=!1;for(const a of t)if(null==a)r=null;else{if(e===a){r=!0;break}if(j(e)&&j(a)&&(r=Q(e,a,"="),r))break}return r}const xt="-[]/{}()*+?.\\^$|";var Ct;function bt(e,t){const n=t;let r="",a=Ct.Normal;for(let i=0;i<e.length;i++){const t=e.charAt(i);switch(a){case Ct.Normal:t===n?a=Ct.Escaped:xt.includes(t)?r+="\\"+t:r+="%"===t?".*":"_"===t?".":t;break;case Ct.Escaped:xt.includes(t)?r+="\\"+t:r+=t,a=Ct.Normal}}return new RegExp("^"+r+"$","m")}function Mt(e,t,n){return null==e?null:bt(t,n).test(e)}function Et(e){return e&&"object"==typeof e.attributes}function Ft(e,t,n,r){const o=r.getAttribute(e,t),u=n?.get(t);return null==o||"esriFieldTypeDate"!==u?.type&&"date"!==u?.type?null==o||"esriFieldTypeDateOnly"!==u?.type&&"date-only"!==u?.type?null==o||"esriFieldTypeTimeOnly"!==u?.type&&"time-only"!==u?.type?null==o||"esriFieldTypeTimestampOffset"!==u?.type&&"timestamp-offset"!==u?.type?o:new l(o):a.a.fromReader(o):a.n.fromReader(o):M(new Date(o),n?.getLuxonTimeZone(u.name)??i.jZ.utcInstance)}(function(e){e[e.Normal=0]="Normal",e[e.Escaped=1]="Escaped"})(Ct||(Ct={}));const At={getAttribute:(e,t)=>(Et(e)?e.attributes:e)[t]},Pt=Object.freeze(Object.defineProperty({__proto__:null,WhereClause:It,defaultAttributeAdapter:At},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=413.3fe7e150.js.map