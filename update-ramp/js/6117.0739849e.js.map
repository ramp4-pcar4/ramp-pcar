{"version":3,"file":"js/6117.0739849e.js","mappings":"2PAA+E,SAASA,EAAEC,EAAEC,GAAG,MAAMC,EAAEF,EAAEG,SAAS,OAAOD,EAAEE,YAAYF,EAAEE,UAAUF,EAAEE,UAAUC,KAAK,MAAMH,EAAEI,gBAAgBJ,EAAEI,cAAcJ,EAAEI,cAAcD,KAAK,MAAMH,EAAEK,YAAYN,GAAGO,gBAAgBN,EAAEK,UAAUE,SAAS,KAAKP,EAAEK,UAAU,IAAIL,EAAEK,UAAUL,EAAEK,UAAUF,KAAK,YAAYH,EAAEK,UAAUL,EAAEQ,QAAQR,EAAEQ,OAAM,QAAER,EAAEQ,QAAQR,EAAES,oBAAoBT,EAAEU,MAAMC,KAAKC,UAAU,CAACC,OAAOb,EAAES,2BAA2BT,EAAES,mBAAmBT,CAAC,CAACc,eAAeC,EAAEjB,EAAEC,EAAEC,GAAG,MAAMgB,QAAQC,EAAEnB,EAAEC,EAAEC,GAAGkB,EAAEF,EAAEG,KAAKC,EAAEF,EAAEG,aAAaC,EAAEJ,EAAEK,iBAAiBC,EAAE,CAAC,EAAE,IAAI,MAAMC,KAAKP,EAAEQ,oBAAoB,CAAC,MAAMC,EAAE,CAACC,YAAO,EAAOC,uBAAkB,EAAOR,aAAaD,EAAEG,iBAAiBD,EAAEQ,OAAOZ,EAAEY,KAAKC,OAAOb,EAAEa,KAAKC,SAASP,EAAEQ,gBAAgB,GAAe,MAAZR,EAAES,SAAeV,EAAEC,EAAES,UAAUP,OAAO,IAAI,MAAMQ,KAAKC,OAAOC,KAAKZ,GAAO,mBAAJU,IAAuBX,EAAEC,EAAEU,IAAIR,EAAE,CAAC,MAAM,IAAIX,EAAEG,KAAKK,EAAE,CAACV,eAAewB,EAAExC,EAAEC,EAAEC,GAAG,MAAMgB,QAAQC,EAAEnB,EAAEC,EAAEC,EAAE,CAACM,iBAAgB,IAAKY,EAAEF,EAAEG,KAAKC,EAAE,CAAC,EAAE,IAAI,MAAME,KAAKJ,EAAEQ,oBAAgC,MAAZJ,EAAEY,WAAiBd,EAAEE,EAAEY,UAAUZ,EAAEiB,OAAO,MAAM,IAAIvB,EAAEG,KAAKC,EAAE,CAACN,eAAeG,EAAEnB,EAAEC,EAAEC,EAAE,CAAC,EAAEgB,GAAG,MAAME,GAAE,QAAE,IAAIpB,EAAE0C,MAAMvB,EAAE,UAAUD,KAAKnB,EAAEE,EAAEiB,KAAK,OAAO,OAAElB,EAAE2C,KAAK,uBAAuB,IAAIzC,EAAEwC,MAAM,IAAIxC,EAAEwC,SAAStB,IAAI,CAACJ,eAAe4B,EAAE5C,EAAEC,EAAEC,GAAGD,EAAE,KAAE4C,KAAK5C,GAAG,MAAMiB,GAAE,QAAElB,GAAG,OAAOiB,EAAEC,EAAEjB,EAAEC,GAAG4C,MAAK1B,IAAI,MAAME,EAAEF,EAAEC,KAAKG,EAAE,CAAC,EAAE,OAAOc,OAAOC,KAAKjB,GAAGyB,SAAQrB,GAAGF,EAAEE,GAAG,KAAEsB,SAAS1B,EAAEI,MAAKF,IAAG,CAACR,eAAeiC,EAAEjD,EAAEC,EAAEC,GAAGD,EAAE,KAAE4C,KAAK5C,GAAG,MAAMiB,GAAE,QAAElB,GAAG,OAAOwC,EAAEtB,EAAEjB,EAAE,IAAIC,IAAI4C,MAAK1B,GAAGA,EAAEC,MAAK,C","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/executeRelationshipQuery-BZ4gZDaW.js"],"sourcesContent":["import{bP as b,U as j,bT as R,gx as l,bq as y,bx as m}from\"./main-DCIX61zy.js\";function p(n,o){const e=n.toJSON();return e.objectIds&&(e.objectIds=e.objectIds.join(\",\")),e.orderByFields&&(e.orderByFields=e.orderByFields.join(\",\")),e.outFields&&!o?.returnCountOnly?e.outFields.includes(\"*\")?e.outFields=\"*\":e.outFields=e.outFields.join(\",\"):delete e.outFields,e.outSR&&(e.outSR=R(e.outSR)),e.dynamicDataSource&&(e.layer=JSON.stringify({source:e.dynamicDataSource}),delete e.dynamicDataSource),e}async function F(n,o,e){const r=await f(n,o,e),t=r.data,s=t.geometryType,a=t.spatialReference,c={};for(const d of t.relatedRecordGroups){const u={fields:void 0,objectIdFieldName:void 0,geometryType:s,spatialReference:a,hasZ:!!t.hasZ,hasM:!!t.hasM,features:d.relatedRecords};if(d.objectId!=null)c[d.objectId]=u;else for(const i of Object.keys(d))i!==\"relatedRecords\"&&(c[d[i]]=u)}return{...r,data:c}}async function h(n,o,e){const r=await f(n,o,e,{returnCountOnly:!0}),t=r.data,s={};for(const a of t.relatedRecordGroups)a.objectId!=null&&(s[a.objectId]=a.count);return{...r,data:s}}async function f(n,o,e={},r){const t=b({...n.query,f:\"json\",...r,...p(o,r)});return j(n.path+\"/queryRelatedRecords\",{...e,query:{...e.query,...t}})}async function I(n,o,e){o=l.from(o);const r=y(n);return F(r,o,e).then(t=>{const s=t.data,a={};return Object.keys(s).forEach(c=>a[c]=m.fromJSON(s[c])),a})}async function S(n,o,e){o=l.from(o);const r=y(n);return h(r,o,{...e}).then(t=>t.data)}export{I as executeRelationshipQuery,S as executeRelationshipQueryForCount};\n"],"names":["p","n","o","e","toJSON","objectIds","join","orderByFields","outFields","returnCountOnly","includes","outSR","dynamicDataSource","layer","JSON","stringify","source","async","F","r","f","t","data","s","geometryType","a","spatialReference","c","d","relatedRecordGroups","u","fields","objectIdFieldName","hasZ","hasM","features","relatedRecords","objectId","i","Object","keys","h","count","query","path","I","from","then","forEach","fromJSON","S"],"sourceRoot":""}