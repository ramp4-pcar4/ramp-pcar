{"version":3,"file":"js/2646.34a36636.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/MapNotesLayer-CZZ7bKOk.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/objectIdUtils-EszJVKSV.js"],"sourcesContent":["import{bl as v,bt as o,bu as i,bv as T,eo as F,el as B,en as L,eP as k,ea as z,ee as W,ec as A,ed as $,ef as Q,aY as g,a8 as O,eQ as U,T as w,d7 as x,eR as N,eS as b,eT as C,eU as M,a1 as V,s as X,eV as Y,a5 as q,bD as H,cj as K,ck as Z,cl as ee,a0 as te,dG as I,eg as c,eO as re,bn as oe,eW as le,eX as R,ep as ae}from\"./main-DCIX61zy.js\";import{n as ie}from\"./objectIdUtils-EszJVKSV.js\";function h(t){return t.featureCollectionType===\"markup\"||t.layers.some(e=>e.layerDefinition.visibilityField!=null||!D(e))}function D({layerDefinition:t,featureSet:e}){const r=t.geometryType??e.geometryType;return J.find(l=>r===l.geometryTypeJSON&&t.drawingInfo?.renderer?.symbol?.type===l.identifyingSymbol.type)}function E(){return new oe({xmin:-180,ymin:-90,xmax:180,ymax:90})}const j=new v({name:\"OBJECTID\",alias:\"OBJECTID\",type:\"oid\",nullable:!1,editable:!1}),ne=new v({name:\"title\",alias:\"Title\",type:\"string\",nullable:!0,editable:!0,length:255});let u=class extends le{constructor(t){super(t),this.visibilityMode=\"inherited\"}initialize(){for(const t of this.graphics)t.sourceLayer=this.layer;this.graphics.on(\"after-add\",t=>{t.item.sourceLayer=this.layer}),this.graphics.on(\"after-remove\",t=>{t.item.sourceLayer=null})}get fullExtent(){const t=this.layer?.spatialReference,e=this.fullBounds;return t?e==null?b(E(),t).geometry:M(e,t):null}get fullBounds(){const t=this.layer?.spatialReference;if(!t)return null;const e=x();return this.graphics.forEach(r=>{const l=r.geometry!=null?b(r.geometry,t).geometry:null;l!=null&&N(e,l.type===\"point\"?l:l.extent,e)}),C(e,R)?null:e}get sublayers(){return this.graphics}};o([i({readOnly:!0})],u.prototype,\"fullExtent\",null),o([i({readOnly:!0})],u.prototype,\"fullBounds\",null),o([i({readOnly:!0})],u.prototype,\"sublayers\",null),o([i()],u.prototype,\"layer\",void 0),o([i()],u.prototype,\"layerId\",void 0),o([i({readOnly:!0})],u.prototype,\"visibilityMode\",void 0),u=o([T(\"esri.layers.MapNotesLayer.MapNotesSublayer\")],u);const J=[{geometryType:\"polygon\",geometryTypeJSON:\"esriGeometryPolygon\",id:\"polygonLayer\",layerId:0,title:\"Polygons\",identifyingSymbol:new F().toJSON()},{geometryType:\"polyline\",geometryTypeJSON:\"esriGeometryPolyline\",id:\"polylineLayer\",layerId:1,title:\"Polylines\",identifyingSymbol:new B().toJSON()},{geometryType:\"multipoint\",geometryTypeJSON:\"esriGeometryMultipoint\",id:\"multipointLayer\",layerId:2,title:\"Multipoints\",identifyingSymbol:new L().toJSON()},{geometryType:\"point\",geometryTypeJSON:\"esriGeometryPoint\",id:\"pointLayer\",layerId:3,title:\"Points\",identifyingSymbol:new L().toJSON()},{geometryType:\"point\",geometryTypeJSON:\"esriGeometryPoint\",id:\"textLayer\",layerId:4,title:\"Text\",identifyingSymbol:new k().toJSON()}];let a=class extends z(W(A($(Q(ae))))){constructor(t){super(t),this.capabilities={operations:{supportsMapNotesEditing:!0}},this.featureCollections=null,this.featureCollectionJSON=null,this.featureCollectionType=\"notes\",this.legendEnabled=!1,this.listMode=\"hide-children\",this.minScale=0,this.maxScale=0,this.spatialReference=g.WGS84,this.sublayers=new O(J.map(e=>new u({id:e.id,layerId:e.layerId,title:e.title,layer:this}))),this.title=\"Map Notes\",this.type=\"map-notes\",this.visibilityMode=\"inherited\"}readCapabilities(t,e,r){return{operations:{supportsMapNotesEditing:!h(e)&&r?.origin!==\"portal-item\"}}}readFeatureCollections(t,e,r){if(!h(e))return null;const l=e.layers.map(s=>{const n=new U;return n.read(s,r),n});return new O({items:l})}readLegacyfeatureCollectionJSON(t,e){return h(e)?w(e.featureCollection):null}get fullExtent(){const t=this.spatialReference,e=x();return this.sublayers!=null?this.sublayers.forEach(({fullBounds:r})=>r!=null?N(e,r,e):e,e):this.featureCollectionJSON?.layers.some(r=>r.layerDefinition.extent)&&this.featureCollectionJSON.layers.forEach(r=>{const l=b(r.layerDefinition.extent,t).geometry;l!=null&&N(e,l,e)}),C(e,R)?b(E(),t).geometry:M(e,t)}readMinScale(t,e){for(const r of e.layers)if(r.layerDefinition.minScale!=null)return r.layerDefinition.minScale;return 0}readMaxScale(t,e){for(const r of e.layers)if(r.layerDefinition.maxScale!=null)return r.layerDefinition.maxScale;return 0}get multipointLayer(){return this._findSublayer(\"multipointLayer\")}get pointLayer(){return this._findSublayer(\"pointLayer\")}get polygonLayer(){return this._findSublayer(\"polygonLayer\")}get polylineLayer(){return this._findSublayer(\"polylineLayer\")}readSpatialReference(t,e){return e.layers.length?g.fromJSON(e.layers[0].layerDefinition.spatialReference):g.WGS84}readSublayers(t,e,r){if(h(e))return null;const l=[];let s=e.layers.reduce((n,y)=>Math.max(n,y.layerDefinition.id??-1),-1)+1;for(const n of e.layers){const{layerDefinition:y,featureSet:p}=n,m=y.id??s++,d=D(n);if(d!=null){const f=new u({id:d.id,title:y.name,layerId:m,layer:this,graphics:p.features.map(({geometry:S,symbol:G,attributes:P,popupInfo:_})=>V.fromJSON({attributes:P,geometry:S,symbol:G,popupTemplate:_}))});l.push(f)}}return new O(l)}writeSublayers(t,e,r,l){const{minScale:s,maxScale:n}=this;if(t==null)return;const y=t.some(d=>d.graphics.length>0);if(!this.capabilities.operations.supportsMapNotesEditing)return void(y&&l?.messages?.push(new X(\"map-notes-layer:editing-not-supported\",\"New map notes cannot be added to this layer\")));const p=[];let m=this.spatialReference.toJSON();e:for(const d of t)for(const f of d.graphics)if(f.geometry!=null){m=f.geometry.spatialReference.toJSON();break e}for(const d of J){const f=t.find(S=>d.id===S.id);this._writeMapNoteSublayer(p,f,d,s,n,m,l)}Y(\"featureCollection.layers\",p,e)}get textLayer(){return this._findSublayer(\"textLayer\")}load(t){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Collection\"]},t)),Promise.resolve(this)}read(t,e){\"featureCollection\"in t&&(t=w(t),Object.assign(t,t.featureCollection)),super.read(t,e)}async beforeSave(){if(this.sublayers==null)return;let t=null;const e=[];for(const l of this.sublayers)for(const s of l.graphics)if(s.geometry!=null){const n=s.geometry;t?q(n.spatialReference,t)||(H(n.spatialReference,t)||K()||await Z(),s.geometry=ee(n,t)):t=n.spatialReference,e.push(s)}const r=await te(e.map(l=>l.geometry));e.forEach((l,s)=>l.geometry=r[s])}_findSublayer(t){return this.sublayers==null?null:this.sublayers?.find(e=>e.id===t)??null}_writeMapNoteSublayer(t,e,r,l,s,n,y){const p=[];if(e!=null){for(const m of e.graphics)this._writeMapNote(p,m,r.geometryType,y);this._normalizeObjectIds(p,j),t.push({layerDefinition:{name:e.title,drawingInfo:{renderer:{type:\"simple\",symbol:w(r.identifyingSymbol)}},id:e.layerId,geometryType:r.geometryTypeJSON,minScale:l,maxScale:s,objectIdField:\"OBJECTID\",fields:[j.toJSON(),ne.toJSON()],spatialReference:n},featureSet:{features:p,geometryType:r.geometryTypeJSON}})}}_writeMapNote(t,e,r,l){if(e==null)return;const{geometry:s,symbol:n,popupTemplate:y}=e;if(s==null)return;if(s.type!==r)return void l?.messages?.push(new I(\"map-notes-layer:invalid-geometry-type\",`Geometry \"${s.type}\" cannot be saved in \"${r}\" layer`,{graphic:e}));if(n==null)return void l?.messages?.push(new I(\"map-notes-layer:no-symbol\",\"Skipping map notes with no symbol\",{graphic:e}));const p={attributes:{...e.attributes},geometry:s.toJSON(),symbol:n.toJSON()};y!=null&&(p.popupInfo=y.toJSON()),t.push(p)}_normalizeObjectIds(t,e){const r=e.name;let l=ie(r,t)+1;const s=new Set;for(const n of t){n.attributes||(n.attributes={});const{attributes:y}=n;(y[r]==null||s.has(y[r]))&&(y[r]=l++),s.add(y[r])}}};o([i({readOnly:!0})],a.prototype,\"capabilities\",void 0),o([c([\"portal-item\",\"web-map\"],\"capabilities\",[\"layers\"])],a.prototype,\"readCapabilities\",null),o([i({readOnly:!0})],a.prototype,\"featureCollections\",void 0),o([c([\"web-map\",\"portal-item\"],\"featureCollections\",[\"layers\"])],a.prototype,\"readFeatureCollections\",null),o([i({readOnly:!0,json:{origins:{\"web-map\":{write:{enabled:!0,target:\"featureCollection\"}}}}})],a.prototype,\"featureCollectionJSON\",void 0),o([c([\"web-map\",\"portal-item\"],\"featureCollectionJSON\",[\"featureCollection\"])],a.prototype,\"readLegacyfeatureCollectionJSON\",null),o([i({readOnly:!0,json:{read:!0,write:{enabled:!0,ignoreOrigin:!0}}})],a.prototype,\"featureCollectionType\",void 0),o([i({readOnly:!0})],a.prototype,\"fullExtent\",null),o([i({readOnly:!0,json:{origins:{\"web-map\":{write:{target:\"featureCollection.showLegend\",overridePolicy(){return{enabled:this.featureCollectionJSON!=null}}}}}}})],a.prototype,\"legendEnabled\",void 0),o([i({type:[\"show\",\"hide\",\"hide-children\"]})],a.prototype,\"listMode\",void 0),o([i({type:Number,nonNullable:!0,json:{write:!1}})],a.prototype,\"minScale\",void 0),o([c([\"web-map\",\"portal-item\"],\"minScale\",[\"layers\"])],a.prototype,\"readMinScale\",null),o([i({type:Number,nonNullable:!0,json:{write:!1}})],a.prototype,\"maxScale\",void 0),o([c([\"web-map\",\"portal-item\"],\"maxScale\",[\"layers\"])],a.prototype,\"readMaxScale\",null),o([i({readOnly:!0})],a.prototype,\"multipointLayer\",null),o([i({value:\"ArcGISFeatureLayer\",type:[\"ArcGISFeatureLayer\"]})],a.prototype,\"operationalLayerType\",void 0),o([i({readOnly:!0})],a.prototype,\"pointLayer\",null),o([i({readOnly:!0})],a.prototype,\"polygonLayer\",null),o([i({readOnly:!0})],a.prototype,\"polylineLayer\",null),o([i({type:g})],a.prototype,\"spatialReference\",void 0),o([c([\"web-map\",\"portal-item\"],\"spatialReference\",[\"layers\"])],a.prototype,\"readSpatialReference\",null),o([i({readOnly:!0,json:{origins:{\"web-map\":{write:{ignoreOrigin:!0}}}}})],a.prototype,\"sublayers\",void 0),o([c(\"web-map\",\"sublayers\",[\"layers\"])],a.prototype,\"readSublayers\",null),o([re(\"web-map\",\"sublayers\")],a.prototype,\"writeSublayers\",null),o([i({readOnly:!0})],a.prototype,\"textLayer\",null),o([i()],a.prototype,\"title\",void 0),o([i({readOnly:!0,json:{read:!1}})],a.prototype,\"type\",void 0),a=o([T(\"esri.layers.MapNotesLayer\")],a);const se=a;export{se as default};\n","const r=1;function i(o,s){let t=0;for(const e of s){const n=e.attributes?.[o];typeof n==\"number\"&&isFinite(n)&&(t=Math.max(t,n))}return t}export{i as n,r as t};\n"],"names":["h","t","featureCollectionType","layers","some","e","layerDefinition","visibilityField","D","featureSet","r","geometryType","J","find","l","geometryTypeJSON","drawingInfo","renderer","symbol","type","identifyingSymbol","E","xmin","ymin","xmax","ymax","j","name","alias","nullable","editable","ne","length","u","constructor","super","this","visibilityMode","initialize","graphics","sourceLayer","layer","on","item","fullExtent","spatialReference","fullBounds","geometry","forEach","extent","sublayers","readOnly","prototype","id","layerId","title","toJSON","a","capabilities","operations","supportsMapNotesEditing","featureCollections","featureCollectionJSON","legendEnabled","listMode","minScale","maxScale","WGS84","map","readCapabilities","origin","readFeatureCollections","s","n","read","items","readLegacyfeatureCollectionJSON","featureCollection","readMinScale","readMaxScale","multipointLayer","_findSublayer","pointLayer","polygonLayer","polylineLayer","readSpatialReference","fromJSON","readSublayers","reduce","y","Math","max","p","m","d","f","features","S","G","attributes","P","popupInfo","_","popupTemplate","push","writeSublayers","messages","_writeMapNoteSublayer","textLayer","load","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","Object","assign","beforeSave","_writeMapNote","_normalizeObjectIds","objectIdField","fields","graphic","Set","has","add","json","origins","write","enabled","target","ignoreOrigin","overridePolicy","Number","nonNullable","value","se","i","o","isFinite"],"sourceRoot":""}