{"version":3,"file":"js/4568.bc1b0e18.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/IntegratedMesh3DTilesLayer-CuY53jt-.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/elevationInfoUtils-Cubp_PC_.js"],"sourcesContent":["import{eq as U,ec as V,ed as X,ee as j,ef as z,er as q,es as F,aY as g,bn as b,et as _,aq as u,dB as G,dE as p,dX as E,dF as M,bE as L,bJ as I,eu as S,ev as T,ew as h,s as W,B as R,U as k,G as D,bt as f,bu as m,ex as P,ej as B,bv as K,ep as $,ap as v}from\"./main-DCIX61zy.js\";import{$ as N,Z as J,w as O}from\"./elevationInfoUtils-Cubp_PC_.js\";let y=class extends U(V(X(j(z(q(F($))))))){constructor(a){super(a),this.operationalLayerType=\"IntegratedMesh3DTilesLayer\",this.spatialReference=new g({wkid:4326,vcsWkid:115700}),this.fullExtent=new b(-180,-90,180,90,this.spatialReference),this.url=null,this.type=\"integrated-mesh-3dtiles\",this.path=null,this.minScale=0,this.maxScale=0}set elevationInfo(a){this._set(\"elevationInfo\",a),this._validateElevationInfo()}_verifyArray(a,s){if(!Array.isArray(a)||a.length<s)return!1;for(const o of a)if(typeof o!=\"number\")return!1;return!0}_initFullExtent(a){const s=a.root?.boundingVolume;if(!s)return;if(s.box){const t=s?.box;if(t[3]>7972671&&t[7]>7972671&&t[11]>7945940)return}const o=a.root?.transform,w=v();if(s.region&&this._verifyArray(s.region,6)){const t=s.region,l=_(t[0]),n=_(t[1]),i=t[4],r=_(t[2]),e=_(t[3]),d=t[5];this.fullExtent=new b({xmin:l,ymin:n,zmin:i,xmax:r,ymax:e,zmax:d,spatialReference:this.spatialReference})}else if(s.sphere&&this._verifyArray(s.sphere,4)){const t=s.sphere,l=u(t[0],t[1],t[2]),n=t[3]/Math.sqrt(3),i=v();G(i,l,u(n,n,n));const r=v();if(p(r,l,u(n,n,n)),o&&this._verifyArray(o,16)){const x=o;E(w,i,x),M(i,w),E(w,r,x),M(r,w)}L(i,I,0,i,g.WGS84,0),L(r,I,0,r,g.WGS84,0);const e=v(),d=v();S(e,i,r),T(d,i,r),this.fullExtent=new b({xmin:e[0],ymin:e[1],zmin:e[2],xmax:d[0],ymax:d[1],zmax:d[2],spatialReference:this.spatialReference})}else if(s.box&&this._verifyArray(s.box,12)){const t=s.box,l=u(t[0],t[1],t[2]),n=u(t[3],t[4],t[5]),i=u(t[6],t[7],t[8]),r=u(t[9],t[10],t[11]),e=[];for(let c=0;c<8;++c)e.push(v());if(p(e[0],l,n),p(e[0],e[0],i),p(e[0],e[0],r),h(e[1],l,n),p(e[1],e[1],i),p(e[1],e[1],r),p(e[2],l,n),h(e[2],e[2],i),p(e[2],e[2],r),h(e[3],l,n),h(e[3],e[3],i),p(e[3],e[3],r),p(e[4],l,n),p(e[4],e[4],i),h(e[4],e[4],r),h(e[5],l,n),p(e[5],e[5],i),h(e[5],e[5],r),p(e[6],l,n),h(e[6],e[6],i),h(e[6],e[6],r),h(e[7],l,n),h(e[7],e[7],i),h(e[7],e[7],r),o&&this._verifyArray(o,16)){const c=o;for(let A=0;A<8;++A)E(e[A],e[A],c)}const d=u(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),x=u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let c=0;c<8;++c)L(e[c],I,0,e[c],g.WGS84,0),S(x,x,e[c]),T(d,d,e[c]);this.fullExtent=new b({xmin:x[0],ymin:x[1],zmin:x[2],xmax:d[0],ymax:d[1],zmax:d[2],spatialReference:this.spatialReference})}}async load(a){return this.addResolvingPromise(this._doLoad(a)),this}async _doLoad(a){const s=a!=null?a.signal:null;try{await this.loadFromPortal({supportedTypes:[\"3DTiles Service\"],validateItem:o=>{if(o.typeKeywords?.includes(\"IntegratedMesh\"))return!0;throw new W(\"portal:invalid-layer-item-type\",\"Invalid layer item, expected '${expectedType}' \",{expectedType:\"3DTiles Service containing IntegratedMesh\"})}},a)}catch(o){R(o)}this.url&&await k(this.url,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:s}).then(o=>{this._initFullExtent(o.data)},o=>{R(o)})}async fetchAttributionData(){return this.load().then(()=>({}))}_validateElevationInfo(){const a=this.elevationInfo,s=\"Integrated mesh 3d tiles layers\";N(D.getLogger(this),J(s,\"absolute-height\",a)),N(D.getLogger(this),O(s,a))}};f([m({type:[\"IntegratedMesh3DTilesLayer\"]})],y.prototype,\"operationalLayerType\",void 0),f([m({type:g})],y.prototype,\"spatialReference\",void 0),f([m({type:b})],y.prototype,\"fullExtent\",void 0),f([m(P)],y.prototype,\"elevationInfo\",null),f([m({type:[\"show\",\"hide\"]})],y.prototype,\"listMode\",void 0),f([m(B)],y.prototype,\"url\",void 0),f([m({readOnly:!0})],y.prototype,\"type\",void 0),f([m({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0},\"portal-item\":{read:!0,write:!0}},read:!1}})],y.prototype,\"path\",void 0),f([m({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:!1,write:!1}}}})],y.prototype,\"minScale\",void 0),f([m({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:!1,write:!1}}}})],y.prototype,\"maxScale\",void 0),y=f([K(\"esri.layers.IntegratedMesh3DTilesLayer\")],y);const C=y;export{C as default};\n","import{e1 as m,aU as p,e2 as E}from\"./main-DCIX61zy.js\";function d(e){return e?h:q}function b(e,n){return n?.mode?n.mode:d(e).mode}function x(e,n){return n??d(e)}function l(e,n){return b(e==null||(e.hasZ??!1),n)}function y(e){const n=v(e);return l(e.geometry,n)}function I(e){const n=v(e),t=l(e.geometry,n),o=n!=null&&t!==\"on-the-ground\"?U(n):0,r=n?.featureExpressionInfo;return{mode:t,offset:o,featureExpressionInfo:r}}function v(e){return e.layer&&\"elevationInfo\"in e.layer?e.layer.elevationInfo:null}function c(e,n){if(!e?.offset)return 0;const{offset:t,unit:o}=e;if(o===\"decimal-degrees\")return 0;const r=o!==\"unknown\"&&o?o:\"meters\",s=m(n);return s?p(t,r,s):0}function P(e,n,t){if(!t?.mode)return;const o=e.hasZ?e.z:0,r=c(t,e.spatialReference);switch(t.mode){case\"absolute-height\":return o-r;case\"on-the-ground\":return 0;case\"relative-to-ground\":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,\"ground\")??0)+r);case\"relative-to-scene\":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,\"scene\")??0)+r)}}function Z(e,n,t,o=null){return f(e,n.x,n.y,n.hasZ?n.z:0,n.spatialReference,t,o)}function w(e,n,t,o,r=null){return f(e,n[0],n[1],n.length>2?n[2]:0,t,o,r)}function f(e,n,t,o,r,s,a=null){if(s==null)return;const u=a!=null?a.mode:\"absolute-height\";if(u===\"on-the-ground\")return 0;const{absoluteZ:i}=g(n,t,o,r,e,s);return $(i,n,t,o,r,e,a,u)}function g(e,n,t,o,r,s){const a=c(s,o);switch(s.mode){case\"absolute-height\":return{absoluteZ:t+a,elevation:0};case\"on-the-ground\":{const u=r.elevationProvider.getElevation(e,n,0,o,\"ground\")??0;return{absoluteZ:u,elevation:u}}case\"relative-to-ground\":{const u=r.elevationProvider.getElevation(e,n,t,o,\"ground\")??0;return{absoluteZ:t+u+a,elevation:u}}case\"relative-to-scene\":{const u=r.elevationProvider.getElevation(e,n,t,o,\"scene\")??0;return{absoluteZ:t+u+a,elevation:u}}}}function $(e,n,t,o,r,s,a,u){const i=c(a,r);switch(u){case\"absolute-height\":return e-i;case\"relative-to-ground\":return e-((s.elevationProvider.getElevation(n,t,o,r,\"ground\")??0)+i);case\"relative-to-scene\":return e-((s.elevationProvider.getElevation(n,t,o,r,\"scene\")??0)+i)}}function R(e,n,t){return t&&t.mode!==n?`${e} only support ${n} elevation mode`:null}function z(e,n,t){return t?.mode===n?`${e} do not support ${n} elevation mode`:null}function j(e,n){return n?.featureExpressionInfo!=null&&n.featureExpressionInfo.expression!==\"0\"?`${e} do not support featureExpressionInfo`:null}function k(e,n){n&&e.warn(\".elevationInfo=\",n)}function U(e){return(e?.offset??0)*E(e?.unit)}const h={mode:\"absolute-height\",offset:0},q={mode:\"on-the-ground\",offset:null};export{k as $,f as E,z as P,R as Z,I as a,g as b,l as i,h as j,y as l,Z as m,P as p,x as u,j as w,w as x};\n"],"names":["y","constructor","a","super","this","operationalLayerType","spatialReference","wkid","vcsWkid","fullExtent","url","type","path","minScale","maxScale","elevationInfo","_set","_validateElevationInfo","_verifyArray","s","Array","isArray","length","o","_initFullExtent","root","boundingVolume","box","t","transform","w","region","l","n","i","r","e","d","xmin","ymin","zmin","xmax","ymax","zmax","sphere","Math","sqrt","x","WGS84","c","push","A","Number","MAX_VALUE","load","addResolvingPromise","_doLoad","signal","loadFromPortal","supportedTypes","validateItem","typeKeywords","includes","expectedType","query","f","customParameters","token","apiKey","responseType","then","data","fetchAttributionData","getLogger","prototype","readOnly","String","json","origins","read","write","name","service","C","h","q","b","mode","hasZ","v","geometry","I","U","featureExpressionInfo","offset","layer","unit","P","z","elevationProvider","getElevation","Z","u","absoluteZ","g","$","elevation","R","j","expression","k","warn"],"sourceRoot":""}