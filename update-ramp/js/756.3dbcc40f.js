"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[756],{30756:function(e,t,i){i.r(t),i.d(t,{default:function(){return x}});var r=i(44444),n=i(75068),s=(i(51800),i(81298),i(55011),i(36649)),o=(i(38006),i(57177),i(63643),i(92345),i(47308),i(12749),i(8253),i(52576),i(64235),i(76328),i(23648),i(1771),i(94381),i(80152),i(10769)),a=i(60073),l=i(19845),h=i(31609);const c=[1,1],u=(0,o.e)(),d={none:r.bi.None,loop:r.bi.Loop,oscillate:r.bi.Oscillate};function m(e){return e?{type:"CIMAnimatedSymbolProperties",...e,playAnimation:e.playing,repeatType:e.repeatType?d[e.repeatType]:void 0}:{type:"CIMAnimatedSymbolProperties"}}let p=class extends s.e{constructor(e){super(),this.elementView=e,this.isWrapAround=!1,this.wrapAroundShift=0,this.perspectiveTransform=(0,r.g_)(),this._handles=new r.gZ,this._vertices=new Float32Array(8),this._indices=new Uint16Array([0,0,0,1,1,0,1,1,1,1,0,0,0,0,0,1,1,0,1,1]),this._handles.add([(0,r.cc)((()=>this.elementView.element.opacity),(e=>this.opacity=e),r.cd),(0,r.cc)((()=>[this.elementView.coords]),(()=>{this.requestRender()}),r.cd),(0,r.cc)((()=>["animationOptions"in this.elementView.element&&this.elementView.element.animationOptions]),(()=>{this._handles.remove("play"),this.texture=(0,r.aI)(this.texture),this.requestRender()}),r.cd),(0,r.g$)((()=>this.elementView.element.loaded),(()=>{const e=this.elementView.element;this.ready(),"video"===e.type&&null!=e.content&&(this._handles.add([(0,r.h0)(e.content,"play",(()=>this.requestRender())),(0,r.h0)(e.content,"loadeddata",(()=>this.requestRender())),(0,r.h0)(e.content,"loaded",(()=>this.requestRender()))]),"requestVideoFrameCallback"in e.content?e.content.requestVideoFrameCallback((()=>this.requestRender())):this._handles.add([(0,r.h0)(e.content,"seeked",(()=>this.requestRender()))]),this.requestRender())}),r.cd)]),e.element.load().catch((t=>{r.G.getLogger("esri.views.2d.layers.MediaLayerView2D").error(new r.s("element-load-error","Element cannot be displayed",{element:e,error:t}))}))}getMesh(e){throw new Error("Method not implemented.")}destroy(){this._handles.destroy(),this.texture=(0,r.aI)(this.texture)}get textureSize(){return c}get dvsMat3(){return this.parent.dvsMat3}beforeRender(e){const{context:t}=e,i=this.elementView.element.content;if(null!=i){const e=i instanceof HTMLImageElement,n=i instanceof HTMLVideoElement,s=e?i.naturalWidth:n?i.videoWidth:i.width,o=e?i.naturalHeight:n?i.videoHeight:i.height;if(this._updatePerspectiveTransform(s,o),this.texture)n&&(this.texture.setData(i),this.texture.generateMipmap(),"requestVideoFrameCallback"in i?i.requestVideoFrameCallback((()=>this.requestRender())):i.paused||this.requestRender());else{const e=new r.ct;if(e.wrapMode=r.cx.CLAMP_TO_EDGE,e.preMultiplyAlpha=!0,e.width=s,e.height=o,"getFrame"in i){const n=i=>{this.texture?this.texture.setData(i):this.texture=new r.cy(t,e,i),this.requestRender()};"animationOptions"in this.elementView.element&&this._handles.add((0,a.f)(i,m(this.elementView.element.animationOptions),null,n),"play")}else this.texture=new r.cy(t,e,i);this.texture.generateMipmap(),n&&("requestVideoFrameCallback"in i?i.requestVideoFrameCallback((()=>this.requestRender())):i.paused||this.requestRender())}}super.beforeRender(e)}_createTransforms(){return null}draw(e,t){this.isReady&&null!=this.texture?t.render(e,{transform:{dvs:this.dvsMat3},config:{perspective:this.perspectiveTransform,texSize:c,wrapAroundShift:this.wrapAroundShift,isWrapAround:this.isWrapAround,opacity:this.opacity,texture:{texture:this.texture,unit:0}},position:this._vertices,tex:this._indices}):this.requestRender()}updateDrawCoords(e,t,i,r){const{coords:n,bounds:s}=this.elementView;if(null==n||null==s)return;const[o,a,l,h]=n.rings[0],c=this._vertices,{x:u,y:d}=e;c.set([a[0]-u,a[1]-d,o[0]-u,o[1]-d,l[0]-u,l[1]-d,h[0]-u,h[1]-d]);let m=t;if(r){const[e,,t]=s,{worldWidth:i,xBounds:n}=r,[o,a]=n;e<o&&t>o?m=i:t>a&&e<a&&(m=-i)}this.wrapAroundShift=m,this.isWrapAround=0!==m}_updatePerspectiveTransform(e,t){const i=this._vertices;(0,n.j)(u,[0,0,e,0,0,t,e,t],[i[0],i[1],i[4],i[5],i[2],i[3],i[6],i[7]]),(0,r.gV)(this.perspectiveTransform,u[6]/u[8]*e,u[7]/u[8]*t)}},f=class extends r.e9{constructor(){super(...arguments),this.tool="transform"}};(0,r.bt)([(0,r.bu)()],f.prototype,"tool",void 0),f=(0,r.bt)([(0,r.bv)("esri.views.3d.layers.support.MediaLayerInteractionOptions")],f);const y=e=>{let t=class extends e{constructor(...e){super(...e),this.layer=null,this.interactive=!1,this.interactionOptions=new f,this.selectedElement=null}};return(0,r.bt)([(0,r.bu)()],t.prototype,"layer",void 0),(0,r.bt)([(0,r.bu)()],t.prototype,"interactive",void 0),(0,r.bt)([(0,r.bu)()],t.prototype,"interactionOptions",void 0),(0,r.bt)([(0,r.bu)()],t.prototype,"selectedElement",void 0),t=(0,r.bt)([(0,r.bv)("esri.views.layers.MediaLayerView")],t),t};let _=class extends((0,h.j)(y(h.y))){constructor(){super(...arguments),this._overlayContainer=null,this._fetchQueue=null,this._tileStrategy=null,this._elementReferences=new Map,this._debugGraphicsView=null,this._interaction=null,this.layer=null,this.elements=new r.a8}initialize(){this.addHandles([(0,r.cc)((()=>[this.interactive,this.suspended]),(async()=>{if(this.interactive&&!this._interaction){const{MediaLayerInteraction:e}=await i.e(2382).then(i.bind(i,82382));this._interaction=new e({view:this.view,layer:this.layer}),this.selectedElement!==this._interaction.selectedElement&&(this._interaction.selectedElement=this.selectedElement),this.interactionOptions!==this._interaction.options&&(this._interaction.options=this.interactionOptions)}this._interaction&&(this._interaction.enabled=!this.suspended&&this.interactive)}),r.hG),(0,r.cc)((()=>this.interactionOptions),(e=>{this._interaction&&(this._interaction.options=e)}),r.hG),(0,r.cc)((()=>this.selectedElement),(e=>{this._interaction&&(this._interaction.selectedElement=e)}),r.hG)])}attach(){this.addAttachHandles([(0,r.c9)((()=>this.layer.effectiveSource),"refresh",(()=>{this._tileStrategy.refresh((e=>this._updateTile(e))),this.requestUpdate()})),(0,r.c9)((()=>this.layer.effectiveSource),"change",(({element:e})=>this._elementUpdateHandler(e)))]),this._overlayContainer=new l.u,this.container.addChild(this._overlayContainer),this._fetchQueue=new r.c4({tileInfoView:this.view.featuresTilingScheme,concurrency:10,process:(e,t)=>this._queryElements(e,t),scheduler:this.scheduler,priority:r.c5.MAPVIEW_FETCH_QUEUE}),this._tileStrategy=new r.c6({cachePolicy:"purge",resampling:!0,acquireTile:e=>this._acquireTile(e),releaseTile:e=>this._releaseTile(e),tileInfoView:this.view.featuresTilingScheme}),this.requestUpdate()}detach(){this.elements.removeAll(),this._tileStrategy.destroy(),this._fetchQueue.destroy(),this._overlayContainer.removeAllChildren(),this.container.removeAllChildren(),this._elementReferences.clear(),this._debugGraphicsView?.destroy()}supportsSpatialReference(e){return!0}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}update(e){this._tileStrategy.update(e),this._debugGraphicsView?.update(e)}async hitTest(e,t){const i=[],n=e.normalize(),s=[n.x,n.y];for(const{elementView:{normalizedCoords:o,element:a}}of this._elementReferences.values())null!=o&&(0,r.kv)(o.rings,s)&&i.push({type:"media",element:a,layer:this.layer,mapPoint:e,sourcePoint:a.toSource(e)});return i.reverse()}canResume(){return null!=this.layer.source&&super.canResume()}async doRefresh(){this._fetchQueue.reset(),this._tileStrategy.refresh((e=>this._updateTile(e)))}_acquireTile(e){const t=new b(e.clone());return this._updateTile(t),t}_updateTile(e){this._updatingHandles.addPromise(this._fetchQueue.push(e.key).then((t=>{const[i,r]=e.setElements(t);this._referenceElements(e,i),this._dereferenceElements(e,r),this.requestUpdate()}),(e=>{(0,r.c7)(e)||r.G.getLogger(this).error(e)})))}_releaseTile(e){this._fetchQueue.abort(e.key.id),e.elements&&this._dereferenceElements(e,e.elements),this.requestUpdate()}async _queryElements(e,t){const i=this.layer.effectiveSource;if(null==i)return[];this.view.featuresTilingScheme.getTileBounds(g,e,!0);const n=new r.bn({xmin:g[0],ymin:g[1],xmax:g[2],ymax:g[3],spatialReference:this.view.spatialReference});return i.queryElements(n,t)}_referenceElements(e,t){if(null!=this.layer.source)for(const i of t)this._referenceElement(e,i)}_referenceElement(e,t){(0,r.bz)(this._elementReferences,t.uid,(()=>{const e=new n.m({element:t,spatialReference:this.view.spatialReference}),i=new p(e);return this._overlayContainer.addChild(i),this.elements.add(t),this._updatingHandles.addPromise(t.load().catch((e=>{r.G.getLogger("esri.views.2d.layers.MediaLayerView2D").error(new r.s("element-load-error","Element cannot be displayed",{element:t,error:e}))}))),{debugGraphic:null,elementView:e,overlay:i,tiles:new Set}})).tiles.add(e)}_dereferenceElements(e,t){for(const i of t)this._dereferenceElement(e,i)}_dereferenceElement(e,t){const i=this._elementReferences.get(t.uid);i.tiles.delete(e),i.tiles.size||(this._overlayContainer.removeChild(i.overlay),i.overlay.destroy(),i.elementView.destroy(),this._elementReferences.delete(t.uid),this.elements.remove(t),this._debugGraphicsView?.graphics.remove(i.debugGraphic))}_elementUpdateHandler(e){let t=this._elementReferences.get(e.uid);if(t){const i=t.elementView.normalizedCoords;if(null==i)return this._overlayContainer.removeChild(t.overlay),t.overlay.destroy(),t.elementView.destroy(),this._elementReferences.delete(e.uid),this.elements.remove(e),void this._debugGraphicsView?.graphics.remove(t.debugGraphic);const r=[],n=[];for(const e of this._tileStrategy.tiles){const s=w(this.view.featuresTilingScheme,e,i);t.tiles.has(e)?s||n.push(e):s&&r.push(e)}for(const t of r)this._referenceElement(t,e);for(const t of n)this._dereferenceElement(t,e);return t=this._elementReferences.get(e.uid),void(t?.debugGraphic&&(t.debugGraphic.geometry=t.elementView.normalizedCoords,this._debugGraphicsView.graphicUpdateHandler({graphic:t.debugGraphic,property:"geometry"})))}const i=new n.m({element:e,spatialReference:this.view.spatialReference}).normalizedCoords;if(null!=i)for(const r of this._tileStrategy.tiles)w(this.view.featuresTilingScheme,r,i)&&this._referenceElement(r,e)}};(0,r.bt)([(0,r.bu)()],_.prototype,"layer",void 0),(0,r.bt)([(0,r.bu)({readOnly:!0})],_.prototype,"elements",void 0),_=(0,r.bt)([(0,r.bv)("esri.views.2d.layers.MediaLayerView2D")],_);const g=(0,r.b2)(),v={xmin:0,ymin:0,xmax:0,ymax:0};function w(e,t,i){return e.getTileBounds(g,t.key,!0),v.xmin=g[0],v.ymin=g[1],v.xmax=g[2],v.ymax=g[3],(0,r.kw)(v,i)}class b{constructor(e){this.key=e,this.elements=null,this.isReady=!1,this.visible=!0}setElements(e){const t=[],i=new Set(this.elements);this.elements=e;for(const r of e)i.has(r)?i.delete(r):t.push(r);return this.isReady=!0,[t,Array.from(i)]}destroy(){}}const x=_},19845:function(e,t,i){i.d(t,{u:function(){return p}});var r=i(44444),n=i(80152),s=i(38006),o=i(8253),a=i(81298);class l extends a.I{}(0,r.bt)([(0,a.h)(0,a.C)],l.prototype,"pos",void 0),(0,r.bt)([(0,a.h)(1,a.C)],l.prototype,"uv",void 0);class h extends a.v{}class c extends a.P{}(0,r.bt)([(0,a.g)(a.a)],c.prototype,"dvs",void 0);class u extends a.P{}(0,r.bt)([(0,a.g)(a.C)],u.prototype,"perspective",void 0),(0,r.bt)([(0,a.g)(a.C)],u.prototype,"texSize",void 0),(0,r.bt)([(0,a.g)(a.j)],u.prototype,"wrapAroundShift",void 0),(0,r.bt)([(0,a.g)(a.j)],u.prototype,"opacity",void 0),(0,r.bt)([(0,a.g)(a.S)],u.prototype,"texture",void 0);class d extends a.b{vertex(e){const t=e.uv.divide(this.config.texSize),i=new a.j(1).add((0,a.c)(t,this.config.perspective)),r=new a.G(e.pos.add(new a.C(this.config.wrapAroundShift,0)),1),n=this.transform.dvs.multiply(r);return{uv:t,glPosition:new a.H(n.xy.multiply(i),0,i)}}fragment(e){const t=(0,a.l)(this.config.texture,e.uv).multiply(this.config.opacity),i=new a.w;return i.glFragColor=t,i}}(0,r.bt)([(0,a.g)(c)],d.prototype,"transform",void 0),(0,r.bt)([(0,a.g)(u)],d.prototype,"config",void 0),(0,r.bt)([(0,r.ic)(0,(0,a.m)(l))],d.prototype,"vertex",null),(0,r.bt)([(0,r.ic)(0,(0,a.m)(h))],d.prototype,"fragment",null);let m=class extends o.t{constructor(){super(...arguments),this.type=a.e.Overlay,this._mesh=null,this.shaders={overlay:new d}}render(e,t){const{context:i,painter:n}=e,s=this._getMesh(e,t);n.setPipelineState(o.a);const{isWrapAround:a,wrapAroundShift:l}=t.config,h={...t.config,wrapAroundShift:0},c={shader:this.shaders.overlay,uniforms:{transform:t.transform,config:h},defines:null,optionalAttributes:null,useComputeBuffer:!1};n.setPipelineState({...o.a,stencil:{write:!1,test:{compare:r.id.EQUAL,op:{fail:r.ie.KEEP,zFail:r.ie.KEEP,zPass:r.ie.REPLACE},ref:0,mask:255}}}),n.submitDrawMeshUntyped(i,c,s),a&&(h.wrapAroundShift=l,n.submitDrawMeshUntyped(i,c,s))}shutdown(){(0,r.ch)(this._mesh)}_getMesh(e,t){const{context:i}=e;if(this._mesh){const e=this._mesh.vertexBuffers.get("positions");if(!e)throw new Error("Buffer not found");e.setData(t.position)}else{const e=null!=t.index?t.index.length:t.position.length/2;this._mesh=new o.i(i,{vertex:{positions:t.position,uvs:t.tex},index:null!=t.index?{index:t.index}:void 0,groups:[{attributes:[{name:"pos",count:2,type:r.aC.FLOAT,location:0,vertex:"positions",stride:8,offset:0},{name:"tex",count:2,type:r.aC.UNSIGNED_SHORT,location:1,vertex:"uvs",stride:4,offset:0}],index:null!=t.index?"index":void 0,primitive:r.hW.TRIANGLE_STRIP}],parts:[{group:0,start:0,count:e}]})}return this._mesh}};class p extends s.n{constructor(){super(...arguments),this._viewStateId=-1,this._dvsMat3=(0,r.gH)(),this._overlayTechnique=new m}get dvsMat3(){return this._dvsMat3}beforeRender(e){this._updateMatrices(e),this._updateOverlays(e,this.children);for(const t of this.children)t.beforeRender(e)}doRender(e){if(e.drawPhase!==r.aK.MAP||!this.visible)return;super.doRender(e);const t=this._overlayTechnique;for(const i of this.children)i.draw(e,t)}onDetach(){this._overlayTechnique.shutdown()}_updateMatrices(e){const{state:t}=e,{id:i,size:s,pixelRatio:o,resolution:a,rotation:l,viewpoint:h,displayMat3:c}=t;if(this._viewStateId===i)return;const u=(0,r.ih)(l),d=o*s[0],m=o*s[1];this._localOrigin=h.targetGeometry.clone();const{x:p,y:f}=this._localOrigin,y=(0,r.hX)(p,t.spatialReference);this._localOrigin.x=y,this._localOrigin.y=f;const _=a*d,g=a*m,v=(0,r.gA)(this._dvsMat3);(0,r.gF)(v,v,c),(0,r.gB)(v,v,(0,r.gC)(d/2,m/2)),(0,r.hY)(v,v,(0,n.r)(d/_,-m/g,1)),(0,r.gD)(v,v,-u),this._viewStateId=i}_updateOverlays(e,t){const{state:i}=e,{rotation:n,spatialReference:s,worldScreenWidth:o,size:a,viewpoint:l}=i,h=this._localOrigin;let c,u=0;const d=(0,r.b3)(s);if(d&&s.isWrappable){const e=a[0],t=a[1],h=(0,r.ih)(n),m=Math.abs(Math.cos(h)),p=Math.abs(Math.sin(h)),f=Math.round(e*m+t*p),[y,_]=d.valid,g=(0,r.ig)(s),{x:v,y:w}=l.targetGeometry,b=[v,w],x=[0,0];i.toScreen(x,b);const T=[0,0];let C;C=f>o?.5*o:.5*f;const S=Math.floor((v+.5*g)/g),F=y+S*g,R=_+S*g,E=[x[0]+C,0];i.toMap(T,E),T[0]>R&&(u=g),E[0]=x[0]-C,i.toMap(T,E),T[0]<F&&(u=-g),c={worldWidth:g,xBounds:[y,_]}}for(const r of t)r.updateDrawCoords(h,u,s,c)}}},13444:function(e,t,i){i.d(t,{e:function(){return n},o:function(){return s}});var r=i(44444);function n(e,t){let i;if("string"==typeof e)i=(0,r.b1)(e+`-seed(${t})`);else{let r=12;i=e^t;do{i=107*(i>>8^i)+r|0}while(0!=--r)}return(1+i/(1<<31))/2}function s(e){return Math.floor(n(e,o)*a)}const o=53290320,a=10},10769:function(e,t,i){function r(){return[1,0,0,0,1,0,0,0,1]}function n(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function s(e,t,i,r,n,s,o,a,l){return[e,t,i,r,n,s,o,a,l]}function o(e,t){return new Float64Array(e,t,9)}i.d(t,{e:function(){return r},o:function(){return a},t:function(){return s}});const a=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:a,clone:n,create:r,createView:o,fromValues:s},Symbol.toStringTag,{value:"Module"}))},75068:function(e,t,i){i.d(t,{j:function(){return d},m:function(){return o},p:function(){return u}});var r=i(44444),n=i(36250),s=i(10769);let o=class extends r.e9{constructor(e){super(e)}get bounds(){const e=this.coords;return null==e?.extent?null:(0,r.gT)(e.extent)}get coords(){const e=this.element.georeference?.coords;return(0,r.eS)(e,this.spatialReference).geometry}get normalizedCoords(){return r.a$.fromJSON((0,n.p)(this.coords))}get normalizedBounds(){const e=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=e?(0,r.gT)(e):null}};(0,r.bt)([(0,r.bu)()],o.prototype,"spatialReference",void 0),(0,r.bt)([(0,r.bu)()],o.prototype,"element",void 0),(0,r.bt)([(0,r.bu)()],o.prototype,"bounds",null),(0,r.bt)([(0,r.bu)()],o.prototype,"coords",null),(0,r.bt)([(0,r.bu)()],o.prototype,"normalizedCoords",null),(0,r.bt)([(0,r.bu)()],o.prototype,"normalizedBounds",null),o=(0,r.bt)([(0,r.bv)("esri.layers.support.MediaElementView")],o);const a=(0,r.ap)(),l=(0,s.e)(),h=(0,s.e)(),c=(0,s.e)();function u(e,t,i){return(0,r.dQ)(a,t[0],t[1],1),(0,r.gf)(a,a,(0,r.gU)(l,i)),0===a[2]?(0,r.gV)(e,a[0],a[1]):(0,r.gV)(e,a[0]/a[2],a[1]/a[2])}function d(e,t,i){return m(h,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),m(c,i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]),(0,r.gF)(e,(0,r.gW)(h,h),c),0!==e[8]&&(e[0]/=e[8],e[1]/=e[8],e[2]/=e[8],e[3]/=e[8],e[4]/=e[8],e[5]/=e[8],e[6]/=e[8],e[7]/=e[8],e[8]/=e[8]),e}function m(e,t,i,n,s,o,h,c,u){(0,r.gX)(e,t,n,o,i,s,h,1,1,1),(0,r.dQ)(a,c,u,1),(0,r.gW)(l,e);const[d,m,p]=(0,r.gf)(a,a,(0,r.gU)(l,l));return(0,r.gX)(l,d,0,0,0,m,0,0,0,p),(0,r.gF)(e,l,e)}},60073:function(e,t,i){i.d(t,{f:function(){return d}});var r=i(44444),n=i(13444);function s(e){return(0,r.bj)(e.frameDurations.reduce(((e,t)=>e+t),0))}function o(e){const{width:t,height:i}=e,r=e.frameDurations.reverse(),n=t=>{const i=e.frameDurations.length-1-t;return e.getFrame(i)};return{frameCount:e.frameCount,duration:e.duration,frameDurations:r,getFrame:n,width:t,height:i}}function a(e,t){const{width:i,height:n,getFrame:s}=e,o=t/e.duration,a=e.frameDurations.map((e=>(0,r.bj)(e*o)));return{frameCount:e.frameCount,duration:e.duration,frameDurations:a,getFrame:s,width:i,height:n}}function l(e,t){const{width:i,height:n,getFrame:s}=e,o=e.frameDurations.slice(),a=o.shift();return o.unshift((0,r.bj)(a+t)),{frameCount:e.frameCount,duration:e.duration+t,frameDurations:o,getFrame:s,width:i,height:n}}function h(e,t){const{width:i,height:n,getFrame:s}=e,o=e.frameDurations.slice(),a=o.pop();return o.push((0,r.bj)(a+t)),{frameCount:e.frameCount,duration:e.duration+t,frameDurations:o,getFrame:s,width:i,height:n}}class c{constructor(e,t,i,r){this._animation=e,this._repeatType=i,this._onFrameData=r,this._direction=1,this._currentFrame=0,this.timeToFrame=this._animation.frameDurations[this._currentFrame];let n=0;for(;t>n;)n+=this.timeToFrame,this.nextFrame();const s=this._animation.getFrame(this._currentFrame);this._onFrameData(s)}nextFrame(){if(this._currentFrame+=this._direction,this._direction>0){if(this._currentFrame===this._animation.frameDurations.length)switch(this._repeatType){case r.bi.None:this._currentFrame-=this._direction;break;case r.bi.Loop:this._currentFrame=0;break;case r.bi.Oscillate:this._currentFrame-=this._direction,this._direction=-1}}else if(-1===this._currentFrame)switch(this._repeatType){case r.bi.None:this._currentFrame-=this._direction;break;case r.bi.Loop:this._currentFrame=this._animation.frameDurations.length-1;break;case r.bi.Oscillate:this._currentFrame-=this._direction,this._direction=1}this.timeToFrame=this._animation.frameDurations[this._currentFrame];const e=this._animation.getFrame(this._currentFrame);this._onFrameData(e)}}function u(e,t,i,u){let d,{repeatType:m}=t;if(null==m&&(m=r.bi.Loop),!0===t.reverseAnimation&&(e=o(e)),null!=t.duration&&(e=a(e,(0,r.bj)(1e3*t.duration))),null!=t.repeatDelay){const i=1e3*t.repeatDelay;m===r.bi.Loop?e=h(e,(0,r.bj)(i)):m===r.bi.Oscillate&&(e=l(h(e,(0,r.bj)(i/2)),(0,r.bj)(i/2)))}if(null!=t.startTimeOffset)d=(0,r.bj)(1e3*t.startTimeOffset);else if(null!=t.randomizeStartTime){const o=null!=t.randomizeStartSeed?t.randomizeStartSeed:82749913,a=(0,n.e)(i,o);d=(0,r.bj)(a*s(e))}else d=(0,r.bj)(0);return new c(e,d,m,u)}function d(e,t,i,n){const s=null==t.playAnimation||t.playAnimation,o=u(e,t,i,n);let a,l=o.timeToFrame;function h(){a=s?setTimeout((()=>{o.nextFrame(),l=o.timeToFrame,h()}),l):void 0}return h(),(0,r.bh)((()=>s&&clearTimeout(a)))}}}]);
//# sourceMappingURL=756.3dbcc40f.js.map