"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[9399],{55334:function(t,e,n){var r;n.d(e,{a:function(){return r}}),function(t){t[t.Pass=0]="Pass",t[t.Draw=1]="Draw"}(r||(r={}))},45459:function(t,e,n){n.d(e,{I:function(){return P},c:function(){return f},l:function(){return E},w:function(){return O}});var r=n(44444),o=n(71807);const i=!0,c={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function u(t,e,n){return{identifier:String.fromCharCode.apply(null,new Uint8Array(t,n+c.identifierOffset,c.identifierLength)),version:e.getUint16(n+c.versionOffset,i),checksum:e.getUint32(n+c.checksumOffset,i)}}const s={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function a(t,e){return{sizeLo:t.getUint32(e+s.sizeLo,i),sizeHi:t.getUint32(e+s.sizeHi,i),minX:t.getFloat64(e+s.minX,i),minY:t.getFloat64(e+s.minY,i),minZ:t.getFloat64(e+s.minZ,i),maxX:t.getFloat64(e+s.maxX,i),maxY:t.getFloat64(e+s.maxY,i),maxZ:t.getFloat64(e+s.maxZ,i),errorX:t.getFloat64(e+s.errorX,i),errorY:t.getFloat64(e+s.errorY,i),errorZ:t.getFloat64(e+s.errorZ,i),count:t.getUint32(e+s.count,i),reserved:t.getUint32(e+s.reserved,i)}}function f(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:i}=u(t,e,n);if(n+=c.byteCount,"LEPCC     "!==o)throw new r.s("lepcc-decode-error","Bad identifier");if(i>1)throw new r.s("lepcc-decode-error","Unknown version");const f=a(e,n);if(n+=s.byteCount,f.sizeHi*2**32+f.sizeLo!==t.byteLength)throw new r.s("lepcc-decode-error","Bad size");const d=new Float64Array(3*f.count),h=[],g=[],w=[],p=[];if(n=l(t,n,h),n=l(t,n,g),n=l(t,n,w),n=l(t,n,p),n!==t.byteLength)throw new r.s("lepcc-decode-error","Bad length");let y=0,m=0;for(let r=0;r<h.length;r++){m+=h[r];let t=0;for(let e=0;e<g[r];e++){t+=w[y];const e=p[y];d[3*y]=Math.min(f.maxX,f.minX+2*f.errorX*t),d[3*y+1]=Math.min(f.maxY,f.minY+2*f.errorY*m),d[3*y+2]=Math.min(f.maxZ,f.minZ+2*f.errorZ*e),y++}}return{errorX:f.errorX,errorY:f.errorY,errorZ:f.errorZ,result:d}}function l(t,e,n){const r=[];e=d(t,e,r);const o=[];for(let i=0;i<r.length;i++){o.length=0,e=d(t,e,o);for(let t=0;t<o.length;t++)n.push(o[t]+r[i])}return e}function d(t,e,n){const o=new DataView(t,e),c=o.getUint8(0),u=31&c,s=!!(32&c),a=(192&c)>>6;let f=0;if(0===a)f=o.getUint32(1,i),e+=5;else if(1===a)f=o.getUint16(1,i),e+=3;else{if(2!==a)throw new r.s("lepcc-decode-error","Bad count type");f=o.getUint8(1),e+=2}if(s)throw new r.s("lepcc-decode-error","LUT not implemented");const l=Math.ceil(f*u/8),d=new Uint8Array(t,e,l);let h=0,g=0,w=0;const p=-1>>>32-u;for(let r=0;r<f;r++){for(;g<u;)h|=d[w]<<g,g+=8,w+=1;n[r]=h&p,h>>>=u,g-=u,g+u>32&&(h|=d[w-1]>>8-g)}return e+w}const h={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function g(t,e){return{sizeLo:t.getUint32(e+h.sizeLo,i),sizeHi:t.getUint32(e+h.sizeHi,i),count:t.getUint32(e+h.count,i),colorMapCount:t.getUint16(e+h.colorMapCount,i),lookupMethod:t.getUint8(e+h.lookupMethod),compressionMethod:t.getUint8(e+h.compressionMethod)}}function w(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:i}=u(t,e,n);if(n+=c.byteCount,"ClusterRGB"!==o)throw new r.s("lepcc-decode-error","Bad identifier");if(i>1)throw new r.s("lepcc-decode-error","Unknown version");const s=g(e,n);if(n+=h.byteCount,s.sizeHi*2**32+s.sizeLo!==t.byteLength)throw new r.s("lepcc-decode-error","Bad size");if((2===s.lookupMethod||1===s.lookupMethod)&&0===s.compressionMethod){if(3*s.colorMapCount+s.count+n!==t.byteLength||s.colorMapCount>256)throw new r.s("lepcc-decode-error","Bad count");const e=new Uint8Array(t,n,3*s.colorMapCount),o=new Uint8Array(t,n+3*s.colorMapCount,s.count),i=new Uint8Array(3*s.count);for(let t=0;t<s.count;t++){const n=o[t];i[3*t]=e[3*n],i[3*t+1]=e[3*n+1],i[3*t+2]=e[3*n+2]}return i}if(0===s.lookupMethod&&0===s.compressionMethod){if(3*s.count+n!==t.byteLength||0!==s.colorMapCount)throw new r.s("lepcc-decode-error","Bad count");return new Uint8Array(t,n).slice()}if(s.lookupMethod<=2&&1===s.compressionMethod){if(n+3!==t.byteLength||1!==s.colorMapCount)throw new r.s("lepcc-decode-error","Bad count");const o=e.getUint8(n),i=e.getUint8(n+1),c=e.getUint8(n+2),u=new Uint8Array(3*s.count);for(let t=0;t<s.count;t++)u[3*t]=o,u[3*t+1]=i,u[3*t+2]=c;return u}throw new r.s("lepcc-decode-error","Bad method "+s.lookupMethod+","+s.compressionMethod)}const p={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function y(t,e){return{sizeLo:t.getUint32(e+p.sizeLo,i),sizeHi:t.getUint32(e+p.sizeHi,i),count:t.getUint32(e+p.count,i),scaleFactor:t.getUint16(e+p.scaleFactor,i),bitsPerPoint:t.getUint8(e+p.bitsPerPoint),reserved:t.getUint8(e+p.reserved)}}function m(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:i}=u(t,e,n);if(n+=c.byteCount,"Intensity "!==o)throw new r.s("lepcc-decode-error","Bad identifier");if(i>1)throw new r.s("lepcc-decode-error","Unknown version");const s=y(e,n);if(n+=p.byteCount,s.sizeHi*2**32+s.sizeLo!==t.byteLength)throw new r.s("lepcc-decode-error","Bad size");const a=new Uint16Array(s.count);if(8===s.bitsPerPoint){if(s.count+n!==t.byteLength)throw new r.s("lepcc-decode-error","Bad size");const e=new Uint8Array(t,n,s.count);for(let t=0;t<s.count;t++)a[t]=e[t]*s.scaleFactor}else if(16===s.bitsPerPoint){if(2*s.count+n!==t.byteLength)throw new r.s("lepcc-decode-error","Bad size");const e=new Uint16Array(t,n,s.count);for(let t=0;t<s.count;t++)a[t]=e[t]*s.scaleFactor}else{const e=[];if(d(t,n,e)!==t.byteLength)throw new r.s("lepcc-decode-error","Bad size");for(let t=0;t<s.count;t++)a[t]=e[t]*s.scaleFactor}return a}const b=()=>r.G.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function C(t,e,n){let o="",i=0;for(;i<n;){const c=t[e+i];if(c<128)o+=String.fromCharCode(c),i++;else if(c>=192&&c<224){if(i+1>=n)throw new r.s("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const u=(31&c)<<6|63&t[e+i+1];o+=String.fromCharCode(u),i+=2}else if(c>=224&&c<240){if(i+2>=n)throw new r.s("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(15&c)<<12|(63&t[e+i+1])<<6|63&t[e+i+2];o+=String.fromCharCode(u),i+=3}else{if(!(c>=240&&c<248))throw new r.s("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(i+3>=n)throw new r.s("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(7&c)<<18|(63&t[e+i+1])<<12|(63&t[e+i+2])<<6|63&t[e+i+3];if(u>=65536){const t=55296+(u-65536>>10),e=56320+(1023&u);o+=String.fromCharCode(t,e)}else o+=String.fromCharCode(u);i+=4}}}return o}function U(t,e){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<e.length;o++){const i=e[o],c=i.valueType||i.type,u=L[c];n.fields[i.property]=u(t,r),r+=z[c].BYTES_PER_ELEMENT}return n.byteCount=r,n}function S(t,e,n){return v(t,e,n).map((t=>{const e=t?Date.parse(t):null;return null==e||Number.isNaN(e)?null:e}))}function v(t,e,n){const o=[];let i,c,u=0;for(c=0;c<t;c+=1){if(i=e[c],i>0){if(o.push(C(n,u,i-1)),0!==n[u+i-1])throw new r.s("string-array-error","Invalid string array: missing null termination.")}else o.push(null);u+=i}return o}function E(t,e){return new z[e.valueType](t,e.byteOffset,e.count*e.valuesPerElement)}function M(t,e){return new Uint8Array(t,e.byteOffset,e.byteCount)}function T(t,e,n){const o=null!=e.header?U(t,e.header):{byteOffset:0,byteCount:0,fields:{count:n}},i={header:o,byteOffset:o.byteCount,byteCount:0,entries:Object.create(null)};let c=o.byteCount;for(let u=0;u<e.ordering.length;u++){const t=e.ordering[u],n=(0,r.T)(e[t]);if(n.count=o.fields.count??0,"String"===n.valueType){if(n.byteOffset=c,n.byteCount=o.fields[t+"ByteCount"],"UTF-8"!==n.encoding)throw new r.s("unsupported-encoding","Unsupported String encoding.",{encoding:n.encoding});if(n.timeEncoding&&"ECMA_ISO8601"!==n.timeEncoding)throw new r.s("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:n.timeEncoding})}else{if(!N(n.valueType))throw new r.s("unsupported-value-type","Unsupported binary valueType",{valueType:n.valueType});{const t=R(n.valueType);c+=c%t!=0?t-c%t:0,n.byteOffset=c,n.byteCount=t*n.valuesPerElement*n.count}}c+=n.byteCount??0,i.entries[t]=n}return i.byteCount=c-i.byteOffset,i}function I(t,e,n){if(e!==t&&b().error(`Invalid ${n} buffer size\n expected: ${t}, actual: ${e})`),e<t)throw new r.s("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:e})}function O(t,e){const n=U(t,e&&e.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,c=null!=i.vertexCount?i.vertexCount:i.count;for(const a of e.ordering){if(!e.vertexAttributes[a])continue;const t={...e.vertexAttributes[a],byteOffset:r,count:c},n=A[a]||"_"+a;o.vertexAttributes[n]=t,r+=R(t.valueType)*t.valuesPerElement*c}const u=i.faceCount;if(e.faces&&u){o.faces={};for(const t of e.ordering){if(!e.faces[t])continue;const n={...e.faces[t],byteOffset:r,count:u};o.faces[t]=n,r+=R(n.valueType)*n.valuesPerElement*u}}const s=i.featureCount;if(e.featureAttributes&&e.featureAttributeOrder&&s){o.featureAttributes={};for(const t of e.featureAttributeOrder){if(!e.featureAttributes[t])continue;const n={...e.featureAttributes[t],byteOffset:r,count:s};o.featureAttributes[t]=n,r+=("UInt64"===n.valueType?8:R(n.valueType))*n.valuesPerElement*s}}return I(r,t.byteLength,"geometry"),o.byteCount=r-o.byteOffset,o}const A={position:o.e.POSITION,normal:o.e.NORMAL,color:o.e.COLOR,uv0:o.e.UV0,region:o.e.UVREGION};function P(t,e,n){if("lepcc-rgb"===t.encoding)return w(e);if("lepcc-intensity"===t.encoding)return m(e);if(null!=t.encoding&&""!==t.encoding)throw new r.s("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(b().warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(b().warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");const o=T(e,t,n);I(o.byteOffset+o.byteCount,e.byteLength,"attribute");const i=o.entries.attributeValues||o.entries.objectIds;if(i){if("String"===i.valueType){const t=o.entries.attributeByteCounts,n=E(e,t),r=M(e,i);return i.timeEncoding?S(t.count,n,r):v(t.count,n,r)}return E(e,i)}throw new r.s("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const z={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},L={Float32:(t,e)=>new DataView(t,0).getFloat32(e,!0),Float64:(t,e)=>new DataView(t,0).getFloat64(e,!0),UInt8:(t,e)=>new DataView(t,0).getUint8(e),Int8:(t,e)=>new DataView(t,0).getInt8(e),UInt16:(t,e)=>new DataView(t,0).getUint16(e,!0),Int16:(t,e)=>new DataView(t,0).getInt16(e,!0),UInt32:(t,e)=>new DataView(t,0).getUint32(e,!0),Int32:(t,e)=>new DataView(t,0).getInt32(e,!0)};function N(t){return z.hasOwnProperty(t)}function R(t){return N(t)?z[t].BYTES_PER_ELEMENT:0}},49399:function(t,e,n){n.d(e,{V:function(){return h}});var r,o,i,c,u=n(44444),s=(n(77703),n(3930),n(38837),n(45459)),a=(n(51800),n(50094),n(76328),n(55334),n(71807),n(9498));function f(t){return{...l,...t,type:i.Solid}}(function(t){t[t.TRANSPARENT=0]="TRANSPARENT",t[t.OPAQUE=1]="OPAQUE"})(r||(r={})),function(t){t[t.Uniform=0]="Uniform",t[t.Varying=1]="Varying",t[t.COUNT=2]="COUNT"}(o||(o={})),function(t){t[t.Solid=0]="Solid",t[t.Sketch=1]="Sketch",t[t.Mixed=2]="Mixed",t[t.COUNT=3]="COUNT"}(i||(i={})),function(t){t[t.REGULAR=0]="REGULAR",t[t.SILHOUETTE=1]="SILHOUETTE"}(c||(c={}));const l={color:(0,u.iV)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:r.OPAQUE,hasSlicePlane:!1};var d;async function h(t,e,n,r,o,i,c,a){const f=[];for(const u of e)if(u&&o.includes(u.name)){const e=`${t}/nodes/${n}/attributes/${u.key}/0`;f.push({url:e,storageInfo:u})}const l=await Promise.allSettled(f.map((t=>(0,u.U)(t.url,{responseType:"array-buffer",query:{...c,token:i},signal:a?.signal}).then((e=>(0,s.I)(t.storageInfo,e.data)))))),d=[];for(const u of r){const t={};for(let e=0;e<l.length;e++){const n=l[e];if("fulfilled"===n.status){const r=n.value;t[f[e].storageInfo.name]=p(r,u)}}d.push(t)}return d}(0,u.iV)(0,0,0,.2),r.OPAQUE,(0,u.b2)(),function(t){t[t.OUTSIDE=0]="OUTSIDE",t[t.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",t[t.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",t[t.INSIDE=3]="INSIDE"}(d||(d={}));const g=-32768,w=-(2**31);function p(t,e){if(!t)return null;const n=t[e];return(0,u.kR)(t)?n===g?null:n:(0,u.kS)(t)?n===w?null:n:n!=n?null:n}f({color:[0,0,0,0],opacity:0}),(0,u.b2)(),(0,u.b2)(),new a.I,new Array(72)},50094:function(t,e,n){n.d(e,{S:function(){return C},a:function(){return i},b:function(){return o},c:function(){return l},d:function(){return w},n:function(){return r},o:function(){return a},r:function(){return f},t:function(){return U},u:function(){return g}});var r,o,i,c=n(44444),u=n(76328),s=n(71807);function a(t){return t===o.Shadow||t===o.ShadowHighlight||t===o.ShadowExcludeHighlight||t===o.ViewshedShadow}function f(t){return y(t)||t===o.Normal}function l(t){return m(t)||t===o.Normal}function d(t){return t===o.Highlight||t===o.ObjectAndLayerIdColor}function h(t){return t===o.Color}function g(t){return h(t)||C(t)}function w(t){return h(t)||d(t)}function p(t){return g(t)||d(t)}function y(t){return w(t)||b(t)}function m(t){return p(t)||b(t)}function b(t){return t===o.Depth}function C(t){return t===o.ColorEmission}function U(t,e){switch(e.normalType){case i.Compressed:t.attributes.add(s.e.NORMALCOMPRESSED,"vec2"),t.vertex.code.add(u.o`vec3 decompressNormal(vec2 normal) {
float z = 1.0 - abs(normal.x) - abs(normal.y);
return vec3(normal + sign(normal) * min(z, 0.0), z);
}
vec3 normalModel() {
return decompressNormal(normalCompressed);
}`);break;case i.Attribute:t.attributes.add(s.e.NORMAL,"vec3"),t.vertex.code.add(u.o`vec3 normalModel() {
return normal;
}`);break;case i.ScreenDerivative:t.fragment.code.add(u.o`vec3 screenDerivativeNormal(vec3 positionView) {
return normalize(cross(dFdx(positionView), dFdy(positionView)));
}`);break;default:(0,c.iq)(e.normalType);case i.COUNT:}}(function(t){t[t.Multiply=1]="Multiply",t[t.Ignore=2]="Ignore",t[t.Replace=3]="Replace",t[t.Tint=4]="Tint"})(r||(r={})),function(t){t[t.Color=0]="Color",t[t.ColorEmission=1]="ColorEmission",t[t.Depth=2]="Depth",t[t.Normal=3]="Normal",t[t.Shadow=4]="Shadow",t[t.ShadowHighlight=5]="ShadowHighlight",t[t.ShadowExcludeHighlight=6]="ShadowExcludeHighlight",t[t.ViewshedShadow=7]="ViewshedShadow",t[t.Highlight=8]="Highlight",t[t.ObjectAndLayerIdColor=9]="ObjectAndLayerIdColor",t[t.COUNT=10]="COUNT"}(o||(o={})),function(t){t[t.Attribute=0]="Attribute",t[t.Compressed=1]="Compressed",t[t.ScreenDerivative=2]="ScreenDerivative",t[t.COUNT=3]="COUNT"}(i||(i={}))},51800:function(t,e,n){n.d(e,{o:function(){return o},r:function(){return i}});var r=n(44444);function o(t,e,n=0){const o=(0,r.b0)(t,0,s);for(let r=0;r<4;r++)e[n+r]=Math.floor(256*a(o*c[r]))}function i(t,e=0){let n=0;for(let r=0;r<4;r++)n+=t[e+r]*u[r];return n}const c=[1,256,65536,16777216],u=[1/256,1/65536,1/16777216,1/4294967296],s=i(new Uint8ClampedArray([255,255,255,255]));function a(t){return t-Math.floor(t)}},76328:function(t,e,n){n.d(e,{o:function(){return i},r:function(){return c},t:function(){return o}});class r{}const o=r;function i(t,...e){let n="";for(let r=0;r<e.length;r++)n+=t[r]+e[r];return n+=t[t.length-1],n}function c(t,e,n=""){return t?e:n}(function(t){function e(t){return Math.round(t).toString()}function n(t){return t.toPrecision(8)}t.int=e,t.float=n})(i||(i={}))},32443:function(t,e,n){n.d(e,{c:function(){return o}});var r=n(44444);function o(t,e,n,o){if((0,r.bD)(t.spatialReference,n)){i[0]=t.x,i[1]=t.y;const c=t.z;return i[2]=c??o??0,(0,r.bE)(i,t.spatialReference,0,e,n,0)}const c=(0,r.bF)(t,n);return!!c&&(e[0]=c?.x,e[1]=c?.y,e[2]=c?.z??o??0,!0)}const i=(0,r.ap)()},3930:function(t,e,n){n.d(e,{a:function(){return u},e:function(){return i},n:function(){return c}});var r=n(44444),o=n(32443);function i(t,e,n,r){return{x:t,y:e,z:n,hasZ:null!=n,hasM:!1,spatialReference:r,type:"point"}}function c(t,e,n,r,o){t.x=e,t.y=n,t.z=r,t.hasZ=null!=r,t.spatialReference=o}function u(t,e,n,r,i){return!(null==e||null==r||t.length<2)&&(s.x=t[0],s.y=t[1],s.z=t[2],s.spatialReference=e,(0,o.c)(s,n,r,i))}const s=i(0,0,0,r.aY.WGS84)},38837:function(t,e,n){n.d(e,{$:function(){return H},E:function(){return m},H:function(){return B},I:function(){return N},N:function(){return T},O:function(){return S},T:function(){return v},U:function(){return I},V:function(){return O},_:function(){return b},a:function(){return U},b:function(){return u},f:function(){return K},i:function(){return $},k:function(){return a},s:function(){return i},v:function(){return f},w:function(){return h}});var r=n(44444),o=(n(10769),n(81203));class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.kB)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*c);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,c));t++)this._items.push(this._allocator())}}const c=1024;function u(t){return t?s((0,r.dA)(t.origin),(0,r.dA)(t.direction)):s((0,r.ap)(),(0,r.ap)())}function s(t,e){return{origin:t,direction:e}}function a(t,e){const n=w.get();return n.origin=t,n.direction=e,n}function f(t,e=u()){return d(t.origin,t.direction,e)}function l(t,e,n=u()){return(0,r.dF)(n.origin,t),(0,r.dB)(n.direction,e,t),n}function d(t,e,n=u()){return(0,r.dF)(n.origin,t),(0,r.dF)(n.direction,e),n}function h(t,e){const n=(0,r.am)(o.c.get(),(0,r.ao)(o.c.get(),t.direction),(0,r.dB)(o.c.get(),e,t.origin));return(0,r.al)(n,n)}function g(t,e,n){const o=(0,r.al)(t.direction,(0,r.dB)(n,e,t.origin));return(0,r.dE)(n,t.origin,(0,r.dC)(n,t.direction,o)),n}const w=new i((()=>u()));function p(t,e){const n=(0,r.dS)(t),o=(0,r.kC)(t[2]/n),i=Math.atan2(t[1]/n,t[0]/n);return(0,r.dQ)(e,n,o,i),e}const y=m();function m(){return(0,r.iB)()}const b=r.ak,C=r.ak;function U(t,e){return(0,r.aa)(e,t)}function S(t,e){return(0,r.iV)(t[0],t[1],t[2],e)}function v(t){return t}function E(t){t[0]=t[1]=t[2]=t[3]=0}function M(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t}function T(t){return t[3]}function I(t){return t}function O(t,e,n,o){return(0,r.iV)(t,e,n,o)}function A(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n}function P(t,e,n){return t!==n&&U(t,n),n}function z(t,e){return e}function L(t,e,n){if(null==e||!_(t,e,R))return!1;let{t0:r,t1:o}=R;if((r<0||o<r&&o>0)&&(r=o),r<0)return!1;if(n){const{origin:t,direction:o}=e;n[0]=t[0]+o[0]*r,n[1]=t[1]+o[1]*r,n[2]=t[2]+o[2]*r}return!0}function N(t,e,n){const o=l(e,n);if(!_(t,o,R))return[];const{origin:i,direction:c}=o,{t0:u,t1:s}=R,a=e=>{const n=(0,r.ap)();return(0,r.h9)(n,i,c,e),H(t,n,n)};return Math.abs(u-s)<(0,r.a9)()?[a(u)]:[a(u),a(s)]}const R={t0:0,t1:0};function _(t,e,n){const{origin:r,direction:o}=e,i=x;i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2];const c=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(0===c)return!1;const u=2*(o[0]*i[0]+o[1]*i[1]+o[2]*i[2]),s=u*u-4*c*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(s<0)return!1;const a=Math.sqrt(s);return n.t0=(-u-a)/(2*c),n.t1=(-u+a)/(2*c),!0}const x=(0,r.ap)();function B(t,e){return L(t,e,null)}function D(t,e,n){if(L(t,e,n))return n;const i=F(t,e,o.c.get());return(0,r.dE)(n,e.origin,(0,r.dC)(o.c.get(),e.direction,(0,r.dR)(e.origin,i)/(0,r.dS)(e.direction))),n}function F(t,e,n){const i=o.c.get(),c=o.a.get();(0,r.am)(i,e.origin,e.direction);const u=T(t);(0,r.am)(n,i,e.origin),(0,r.dC)(n,n,1/(0,r.dS)(n)*u);const s=Y(t,e.origin),a=(0,o.b)(e.origin,n);return(0,r.dY)(c,a+s,i),(0,r.dX)(n,n,c),n}function k(t,e,n,r){const o=T(t),i=o*o,c=e+.5*Math.PI,u=n*n+i-2*Math.cos(c)*n*o,s=Math.sqrt(u),a=u-i;if(a<=0)return.5;const f=Math.sqrt(a),l=Math.acos(f/s)-Math.asin(o/(s/Math.sin(c)));return Math.min(1,(l+.5*r)/r)}function V(t,e,n){return L(t,e,n)?n:(g(e,t,n),H(t,n,n))}function H(t,e,n){const i=(0,r.dB)(o.c.get(),e,t),c=(0,r.dC)(o.c.get(),i,t[3]/(0,r.dS)(i));return(0,r.dE)(n,c,t)}function Z(t,e){const n=(0,r.dB)(o.c.get(),e,t),i=(0,r.dD)(n),c=t[3]*t[3];return Math.sqrt(Math.abs(i-c))}function Y(t,e){const n=(0,r.dB)(o.c.get(),e,t),i=(0,r.dS)(n),c=T(t),u=c+Math.abs(c-i);return(0,r.dU)(c/u)}const X=(0,r.ap)();function j(t,e,n,o){const i=(0,r.dB)(X,e,t);switch(n){case r.dZ.X:{const t=p(i,X)[2];return(0,r.dQ)(o,-Math.sin(t),Math.cos(t),0)}case r.dZ.Y:{const t=p(i,X),e=t[1],n=t[2],c=Math.sin(e);return(0,r.dQ)(o,-c*Math.cos(n),-c*Math.sin(n),Math.cos(e))}case r.dZ.Z:return(0,r.ao)(o,i);default:return}}function q(t,e){const n=(0,r.dB)(W,e,t);return(0,r.dS)(n)-t[3]}function Q(t,e,n,o){const i=q(t,e),c=j(t,e,r.dZ.Z,W),u=(0,r.dC)(W,c,n-i);return(0,r.dE)(o,e,u)}function $(t,e){const n=(0,r.iY)(t,e),o=T(t);return n<=o*o}function G(t,e,n=(0,r.iB)()){const o=(0,r.dR)(t,e),i=t[3],c=e[3];return o+c<i?((0,r.aa)(n,t),n):o+i<c?((0,r.aa)(n,e),n):((0,r.iX)(n,t,e,(o+c-i)/(2*o)),n[3]=(o+i+c)/2,n)}const W=(0,r.ap)(),J=m(),K=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:y,altitudeAt:q,angleToSilhouette:Y,axisAt:j,cameraFrustumCoverage:k,clear:E,closestPoint:V,closestPointOnSilhouette:F,containsPoint:$,copy:U,create:m,distanceToSilhouette:Z,elevate:A,equals:C,exactEquals:b,fromCenterAndRadius:S,fromRadius:M,fromValues:O,getCenter:I,getExtent:z,getRadius:T,intersectLine:N,intersectRay:L,intersectRayClosestSilhouette:D,intersectsRay:B,projectPoint:H,setAltitudeAt:Q,setExtent:P,tmpSphere:J,union:G,wrap:v},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=9399.124236f4.js.map