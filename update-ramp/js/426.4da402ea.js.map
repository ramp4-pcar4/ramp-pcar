{"version":3,"file":"js/426.4da402ea.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/KMLLayer-Bin69MpO.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/kmlUtils-Cl5qi9-0.js"],"sourcesContent":["import{d4 as L,e7 as k,c9 as v,eL as u,cc as h,hH as f,bn as p,ha as O,a8 as d,bt as s,bu as i,hI as _,eg as b,bv as g,fi as F,ea as M,eb as j,ee as I,ec as C,ed as K,ef as N,cL as P,aY as m,r as R,B as T,eO as J,ej as z,ep as A}from\"./main-DCIX61zy.js\";import{j as H,S,g as w,d as x}from\"./kmlUtils-Cl5qi9-0.js\";var y;let a=y=class extends L.EventedMixin(k(F)){constructor(...e){super(...e),this.description=null,this.fullExtent=null,this.id=null,this.networkLink=null,this.parent=null,this.sublayers=null,this.title=null,this.sourceJSON=null,this.layer=null,this.addHandles([v(()=>this.sublayers,\"after-add\",({item:t})=>{t.parent=this,t.layer=this.layer},u),v(()=>this.sublayers,\"after-remove\",({item:t})=>{t.layer=t.parent=null},u),h(()=>this.sublayers,(t,r)=>{if(r)for(const l of r)l.layer=l.parent=null;if(t)for(const l of t)l.parent=this,l.layer=this.layer},u),h(()=>this.layer,t=>{if(this.sublayers)for(const r of this.sublayers)r.layer=t},u)])}initialize(){f(()=>this.networkLink).then(()=>f(()=>this.visible===!0)).then(()=>this.load())}load(e){if(!this.networkLink||this.networkLink.viewFormat)return;const t=e!=null?e.signal:null,r=this._fetchService(this._get(\"networkLink\")?.href??\"\",t).then(l=>{const n=H(l.sublayers);this.fullExtent=p.fromJSON(n),this.sourceJSON=l;const c=O(d.ofType(y),S(y,l));this.sublayers?this.sublayers.addMany(c):this.sublayers=c,this.layer?.emit(\"sublayer-update\"),this.layer&&this.layer.notifyChange(\"visibleSublayers\")});return this.addResolvingPromise(r),Promise.resolve(this)}get visible(){return this._get(\"visible\")}set visible(e){this._get(\"visible\")!==e&&(this._set(\"visible\",e),this.layer&&this.layer.notifyChange(\"visibleSublayers\"))}readVisible(e,t){return!!t.visibility}_fetchService(e,t){return w(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then(r=>x(r.data))}};s([i()],a.prototype,\"description\",void 0),s([i({type:p})],a.prototype,\"fullExtent\",void 0),s([i()],a.prototype,\"id\",void 0),s([i({readOnly:!0,value:null})],a.prototype,\"networkLink\",void 0),s([i({json:{write:{allowNull:!0}}})],a.prototype,\"parent\",void 0),s([i({type:d.ofType(a),json:{write:{allowNull:!0}}})],a.prototype,\"sublayers\",void 0),s([i({value:null,json:{read:{source:\"name\",reader:e=>_(e)}}})],a.prototype,\"title\",void 0),s([i({value:!0})],a.prototype,\"visible\",null),s([b(\"visible\",[\"visibility\"])],a.prototype,\"readVisible\",null),s([i()],a.prototype,\"sourceJSON\",void 0),s([i()],a.prototype,\"layer\",void 0),a=y=s([g(\"esri.layers.support.KMLSublayer\")],a);const E=a,W=[\"kml\",\"xml\"];let o=class extends M(j(I(C(K(N(A)))))){constructor(...e){super(...e),this._visibleFolders=[],this.allSublayers=new P({getCollections:()=>[this.sublayers],getChildrenFunction:t=>t.sublayers}),this.outSpatialReference=m.WGS84,this.path=null,this.legendEnabled=!1,this.operationalLayerType=\"KML\",this.sublayers=null,this.type=\"kml\",this.url=null}initialize(){this.addHandles([h(()=>this.sublayers,(e,t)=>{t&&t.forEach(r=>{r.parent=null,r.layer=null}),e&&e.forEach(r=>{r.parent=this,r.layer=this})},u),this.on(\"sublayer-update\",()=>this.notifyChange(\"fullExtent\"))])}normalizeCtorArgs(e,t){return typeof e==\"string\"?{url:e,...t}:e}readSublayersFromItemOrWebMap(e,t){this._visibleFolders=t.visibleFolders}readSublayers(e,t,r){return S(E,t,r,this._visibleFolders)}writeSublayers(e,t){const r=[],l=e.toArray();for(;l.length;){const n=l[0];n.networkLink||(n.visible&&r.push(n.id),n.sublayers&&l.push(...n.sublayers.toArray())),l.shift()}t.visibleFolders=r}get title(){const e=this._get(\"title\");return e&&this.originOf(\"title\")!==\"defaults\"?e:this.url?R(this.url,W)||\"KML\":e}set title(e){this._set(\"title\",e)}get visibleSublayers(){const e=this.sublayers,t=[],r=l=>{l.visible&&(t.push(l),l.sublayers&&l.sublayers.forEach(r))};return e&&e.forEach(r),t}get fullExtent(){return this._recomputeFullExtent()}load(e){const t=e!=null?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"KML\"],supportsData:!1},e).catch(T).then(()=>this._fetchService(t))),Promise.resolve(this)}destroy(){super.destroy(),this.allSublayers.destroy()}async _fetchService(e){const t=await Promise.resolve().then(()=>this.resourceInfo?{ssl:!1,data:this.resourceInfo}:w(this.url??\"\",this.outSpatialReference,this.refreshInterval,e)),r=x(t.data);r&&this.read(r,{origin:\"service\"})}_recomputeFullExtent(){let e=null;this.extent!=null&&(e=this.extent.clone());const t=r=>{if(r.sublayers)for(const l of r.sublayers.items)t(l),l.visible&&l.fullExtent&&(e!=null?e.union(l.fullExtent):e=l.fullExtent.clone())};return t(this),e}};s([i({readOnly:!0})],o.prototype,\"allSublayers\",void 0),s([i({type:m})],o.prototype,\"outSpatialReference\",void 0),s([i({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],o.prototype,\"path\",void 0),s([i({readOnly:!0,json:{read:!1,write:!1}})],o.prototype,\"legendEnabled\",void 0),s([i({type:[\"show\",\"hide\",\"hide-children\"]})],o.prototype,\"listMode\",void 0),s([i({type:[\"KML\"]})],o.prototype,\"operationalLayerType\",void 0),s([i({})],o.prototype,\"resourceInfo\",void 0),s([i({type:d.ofType(E),json:{write:{ignoreOrigin:!0}}})],o.prototype,\"sublayers\",void 0),s([b([\"web-map\",\"portal-item\"],\"sublayers\",[\"visibleFolders\"])],o.prototype,\"readSublayersFromItemOrWebMap\",null),s([b(\"service\",\"sublayers\",[\"sublayers\"])],o.prototype,\"readSublayers\",null),s([J(\"sublayers\")],o.prototype,\"writeSublayers\",null),s([i({readOnly:!0,json:{read:!1}})],o.prototype,\"type\",void 0),s([i({json:{origins:{\"web-map\":{read:{source:\"title\"}}},write:{ignoreOrigin:!0}}})],o.prototype,\"title\",null),s([i(z)],o.prototype,\"url\",void 0),s([i({readOnly:!0})],o.prototype,\"visibleSublayers\",null),s([i({type:p})],o.prototype,\"extent\",void 0),s([i()],o.prototype,\"fullExtent\",null),o=s([g(\"esri.layers.KMLLayer\")],o);const V=o;export{V as default};\n","import{T as p,C as I,cC as P,cD as w,U as k,cE as b,cF as S,cG as m,cH as d,cI as x,aY as E,bx as v,cf as F,ce as O}from\"./main-DCIX61zy.js\";const M={esriGeometryPoint:\"points\",esriGeometryPolyline:\"polylines\",esriGeometryPolygon:\"polygons\"};function C(o){const n=o.folders||[],t=n.slice(),e=new Map,s=new Map,i=new Map,f=new Map,y=new Map,l={esriGeometryPoint:s,esriGeometryPolyline:i,esriGeometryPolygon:f};(o.featureCollection?.layers||[]).forEach(r=>{const c=p(r);c.featureSet.features=[];const a=r.featureSet.geometryType;e.set(a,c);const g=r.layerDefinition.objectIdField;a===\"esriGeometryPoint\"?G(s,g,r.featureSet.features):a===\"esriGeometryPolyline\"?G(i,g,r.featureSet.features):a===\"esriGeometryPolygon\"&&G(f,g,r.featureSet.features)}),o.groundOverlays&&o.groundOverlays.forEach(r=>{y.set(r.id,r)}),n.forEach(r=>{r.networkLinkIds.forEach(c=>{const a=L(c,r.id,o.networkLinks);a&&t.push(a)})}),t.forEach(r=>{if(r.featureInfos){r.points=p(e.get(\"esriGeometryPoint\")),r.polylines=p(e.get(\"esriGeometryPolyline\")),r.polygons=p(e.get(\"esriGeometryPolygon\")),r.mapImages=[];for(const c of r.featureInfos)switch(c.type){case\"esriGeometryPoint\":case\"esriGeometryPolyline\":case\"esriGeometryPolygon\":{const a=l[c.type].get(c.id);a&&r[M[c.type]]?.featureSet.features.push(a);break}case\"GroundOverlay\":{const a=y.get(c.id);a&&r.mapImages.push(a);break}}r.fullExtent=h([r])}});const u=h(t);return{folders:n,sublayers:t,extent:u}}function T(o,n,t,e){const s=I?.findCredential(o);o=P(o,{token:s?.token});const i=w.kmlServiceUrl;return k(i,{query:{url:o,model:\"simple\",folders:\"\",refresh:t!==0||void 0,outSR:JSON.stringify(n)},responseType:\"json\",signal:e})}function D(o,n,t=null,e=[]){const s=[],i={},f=n.sublayers,y=new Set(n.folders.map(l=>l.id));return f.forEach(l=>{const u=new o;if(t?u.read(l,t):u.read(l),e.length&&y.has(u.id)&&(u.visible=e.includes(u.id)),i[l.id]=u,l.parentFolderId!=null&&l.parentFolderId!==-1){const r=i[l.parentFolderId];r.sublayers||(r.sublayers=[]),r.sublayers?.unshift(u)}else s.unshift(u)}),s}function G(o,n,t){t.forEach(e=>{o.set(e.attributes[n],e)})}function J(o,n){let t;return n.some(e=>e.id===o&&(t=e,!0)),t}function L(o,n,t){const e=J(o,t);return e&&(e.parentFolderId=n,e.networkLink=e),e}async function N(o){const n=v.fromJSON(o.featureSet).features,t=o.layerDefinition,e=F(t.drawingInfo.renderer),s=O.fromJSON(o.popupInfo),i=[];for(const f of n){const y=await e.getSymbolAsync(f);f.symbol=y,f.popupTemplate=s,f.visible=!0,i.push(f)}return i}function h(o){const n=b(S),t=b(S);for(const e of o){if(e.polygons?.featureSet?.features)for(const s of e.polygons.featureSet.features)m(n,s.geometry),d(t,n);if(e.polylines?.featureSet?.features)for(const s of e.polylines.featureSet.features)m(n,s.geometry),d(t,n);if(e.points?.featureSet?.features)for(const s of e.points.featureSet.features)m(n,s.geometry),d(t,n);if(e.mapImages)for(const s of e.mapImages)m(n,s.extent),d(t,n)}return x(t,S)?void 0:{xmin:t[0],ymin:t[1],zmin:t[2],xmax:t[3],ymax:t[4],zmax:t[5],spatialReference:E.WGS84}}export{D as S,N as b,C as d,T as g,h as j};\n"],"names":["y","a","EventedMixin","constructor","e","super","this","description","fullExtent","id","networkLink","parent","sublayers","title","sourceJSON","layer","addHandles","item","t","r","l","initialize","then","visible","load","viewFormat","signal","_fetchService","_get","href","n","fromJSON","c","ofType","S","addMany","emit","notifyChange","addResolvingPromise","Promise","resolve","_set","readVisible","visibility","outSpatialReference","refreshInterval","data","prototype","type","readOnly","value","json","write","allowNull","read","source","reader","E","W","o","_visibleFolders","allSublayers","getCollections","getChildrenFunction","WGS84","path","legendEnabled","operationalLayerType","url","forEach","on","normalizeCtorArgs","readSublayersFromItemOrWebMap","visibleFolders","readSublayers","writeSublayers","toArray","length","push","shift","originOf","visibleSublayers","_recomputeFullExtent","loadFromPortal","supportedTypes","supportsData","catch","destroy","resourceInfo","ssl","origin","extent","clone","items","union","String","origins","ignoreOrigin","V","M","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","C","folders","slice","Map","s","i","f","featureCollection","layers","featureSet","features","geometryType","set","g","layerDefinition","objectIdField","G","groundOverlays","networkLinkIds","L","networkLinks","featureInfos","points","get","polylines","polygons","mapImages","h","u","T","findCredential","token","kmlServiceUrl","query","model","refresh","outSR","JSON","stringify","responseType","D","Set","map","has","includes","parentFolderId","unshift","attributes","J","some","async","N","drawingInfo","renderer","popupInfo","getSymbolAsync","symbol","popupTemplate","geometry","xmin","ymin","zmin","xmax","ymax","zmax","spatialReference"],"sourceRoot":""}