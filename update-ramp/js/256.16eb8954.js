"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[256],{65689:function(t,n,e){e.d(n,{c:function(){return s}});var r=e(44444);let i=0,o=class extends((0,r.e7)((0,r.cQ)((0,r.e8)(r.e9)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${i++}`,this.title=null}get parent(){return this._get("parent")}set parent(t){const n=this.parent;if(null!=n)switch(n.type){case"line-of-sight":case"dimension":case"viewshed":n.releaseAnalysis(this);break;case"2d":case"3d":n.analyses.includes(this)&&n.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(r.ci)}};(0,r.bt)([(0,r.bu)({type:String,constructOnly:!0,clonable:!1})],o.prototype,"id",void 0),(0,r.bt)([(0,r.bu)({type:String})],o.prototype,"title",void 0),(0,r.bt)([(0,r.bu)({clonable:!1,value:null})],o.prototype,"parent",null),(0,r.bt)([(0,r.bu)({readOnly:!0})],o.prototype,"isEditable",null),o=(0,r.bt)([(0,r.bv)("esri.analysis.Analysis")],o);const s=o},90326:function(t,n,e){var r,i;e.d(n,{e:function(){return i},i:function(){return r}}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(r||(r={})),function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(i||(i={}))},60256:function(t,n,e){e.r(n),e.d(n,{default:function(){return g}});var r=e(44444),i=e(71902),o=e(65689);let s=class extends((0,r.e7)(r.jK)){constructor(t){super(t),this.observer=null,this.farDistance=1e3,this.heading=0,this.tilt=90,this.horizontalFieldOfView=45,this.verticalFieldOfView=45,this.feature=null}isValid(){return null!=this.observer&&this.farDistance>0}equals(t){return(0,r.jI)(this.observer,t.observer)&&this.farDistance===t.farDistance&&this.heading===t.heading&&this.tilt===t.tilt&&this.horizontalFieldOfView===t.horizontalFieldOfView&&this.verticalFieldOfView===t.verticalFieldOfView&&(0,i.c)(this.feature,t.feature)}};(0,r.bt)([(0,r.bu)({type:r.D,json:{write:!0}})],s.prototype,"observer",void 0),(0,r.bt)([(0,r.bu)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],s.prototype,"farDistance",void 0),(0,r.bt)([(0,r.bu)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,r.gb)((t=>r.i3.normalize((0,r.jJ)(t),void 0,!0)))],s.prototype,"heading",void 0),(0,r.bt)([(0,r.bu)({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],s.prototype,"tilt",void 0),(0,r.bt)([(0,r.bu)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}})],s.prototype,"horizontalFieldOfView",void 0),(0,r.bt)([(0,r.bu)({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],s.prototype,"verticalFieldOfView",void 0),(0,r.bt)([(0,r.bu)(i.b)],s.prototype,"feature",void 0),(0,r.bt)([(0,r.bu)({json:{read:!1}})],s.prototype,"isValid",null),s=(0,r.bt)([(0,r.bv)("esri.analysis.Viewshed")],s);const u=s,c=r.a8.ofType(u);let a=class extends o.c{constructor(t){super(t),this.type="viewshed",this._extent=null}initialize(){this.addHandles((0,r.cc)((()=>this._computeExtent()),(t=>{null==t.pending&&(this._extent=t.extent)}),r.hG))}get viewsheds(){return this._get("viewsheds")||new c}set viewsheds(t){this._set("viewsheds",(0,r.cJ)(t,this.viewsheds,c))}get spatialReference(){for(const t of this.viewsheds)if(null!=t.observer)return t.observer.spatialReference;return null}get extent(){return this._extent}get requiredPropertiesForEditing(){return this.viewsheds.items.map((({observer:t})=>t))}async waitComputeExtent(){const t=this._computeExtent();null!=t.pending&&await t.pending}_computeExtent(){const{spatialReference:t}=this;if(null==t)return{pending:null,extent:null};const n=this.viewsheds.filter((t=>null!=t.observer)),e=n.map((t=>t.observer)).toArray(),i=(0,r.jL)(e,t);return null!=i.pending?{pending:i.pending,extent:null}:{pending:null,extent:i.geometries.map(((t,e)=>{const r=n.at(e);return null!=t&&null!=r?this._computeViewshedExtent(this.viewsheds.at(e),t):null})).filter((t=>null!=t)).reduce(((t,n)=>l(t,n)),null)}}_computeViewshedExtent(t,n){const{farDistance:e,heading:i,tilt:o,horizontalFieldOfView:s,verticalFieldOfView:u}=t,{spatialReference:c}=n,a=s/2,l=u/2,h=e/c.metersPerUnit,b=[r.i3.normalize(i-a),i,r.i3.normalize(i+a)],g=r.bn.fromPoint(n),p=t=>{const n=b.map((n=>r.i3.normalize(n-t)));if(n[0]>n[2]||360===s)return h;const e=n.map((t=>Math.abs(t>180?360-t:t))).reduce(((t,n)=>t>n?n:t));return e>90?0:h*Math.cos((0,r.fA)(e))};g.xmax+=p(90),g.xmin-=p(-90),g.ymax+=p(0),g.ymin-=p(180);const y=n.z;if(null!=y){let t=y,n=y;const i=o-90,s=(0,r.b0)(i+l,-90,90),u=(0,r.b0)(i-l,-90,90),b=c?.isGeographic?e:h;t+=b*f(s),n+=b*f(u);const p=d(l)*b,I=f(i)*p*(1-d(a));o<90&&(t-=I),o>90&&(n-=I),g.zmax=Math.max(t,y),g.zmin=Math.min(n,y)}return g}clear(){this.viewsheds.removeAll()}};function l(t,n){return null==t?n:null==n?t:t.union(n)}function d(t){return Math.cos((0,r.fA)(t))}function f(t){return Math.sin((0,r.fA)(t))}(0,r.bt)([(0,r.bu)({type:["viewshed"]})],a.prototype,"type",void 0),(0,r.bt)([(0,r.bu)({cast:r.cK,type:c,nonNullable:!0})],a.prototype,"viewsheds",null),(0,r.bt)([(0,r.bu)({readOnly:!0})],a.prototype,"spatialReference",null),(0,r.bt)([(0,r.bu)()],a.prototype,"_extent",void 0),(0,r.bt)([(0,r.bu)({readOnly:!0})],a.prototype,"extent",null),(0,r.bt)([(0,r.bu)({readOnly:!0})],a.prototype,"requiredPropertiesForEditing",null),a=(0,r.bt)([(0,r.bv)("esri.analysis.ViewshedAnalysis")],a);const h=a;let b=class extends((0,r.ec)((0,r.ef)(r.ep))){constructor(t){super(t),this.type="viewshed",this.operationalLayerType="ViewshedLayer",this.source=new h,this.opacity=1}initialize(){this.addHandles((0,r.cc)((()=>this.source),((t,n)=>{null!=n&&n.parent===this&&(n.parent=null),null!=t&&(t.parent=this)}),r.hG))}async load(){return this.addResolvingPromise(this.source.waitComputeExtent()),this}get spatialReference(){return this.source.spatialReference}get fullExtent(){return this.source.extent}releaseAnalysis(t){this.source===t&&(this.source=new h)}get analysis(){return this.source}set analysis(t){this.source=t}get viewsheds(){return this.source.viewsheds}set viewsheds(t){this.source.viewsheds=t}writeViewsheds(t,n,e,r){n.viewsheds=t.filter((t=>t.isValid())).map((t=>t.toJSON(r))).toJSON()}};(0,r.bt)([(0,r.bu)({json:{read:!1},readOnly:!0})],b.prototype,"type",void 0),(0,r.bt)([(0,r.bu)({type:["ViewshedLayer"]})],b.prototype,"operationalLayerType",void 0),(0,r.bt)([(0,r.bu)({nonNullable:!0})],b.prototype,"source",void 0),(0,r.bt)([(0,r.bu)({readOnly:!0})],b.prototype,"spatialReference",null),(0,r.bt)([(0,r.bu)({readOnly:!0})],b.prototype,"fullExtent",null),(0,r.bt)([(0,r.bu)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],b.prototype,"opacity",void 0),(0,r.bt)([(0,r.bu)({type:["show","hide"]})],b.prototype,"listMode",void 0),(0,r.bt)([(0,r.bu)({type:r.a8.ofType(u),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],b.prototype,"viewsheds",null),(0,r.bt)([(0,r.eO)("web-scene","viewsheds")],b.prototype,"writeViewsheds",null),b=(0,r.bt)([(0,r.bv)("esri.layers.ViewshedLayer")],b);const g=b},97975:function(t,n,e){e.d(n,{J:function(){return g},K:function(){return p},W:function(){return d},Z:function(){return h},k:function(){return W}});var r=e(44444),i=e(38837),o=e(77703),s=e(87792),u=e(81203);const c=()=>r.G.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");class a{constructor(){this.plane=(0,u.M)(),this.origin=(0,r.ap)(),this.basis1=(0,r.ap)(),this.basis2=(0,r.ap)()}}const l=a;function d(t=Q){return{plane:(0,u.M)(t.plane),origin:(0,r.dA)(t.origin),basis1:(0,r.dA)(t.basis1),basis2:(0,r.dA)(t.basis2)}}function f(t,n,e){const r=J.get();return r.origin=t,r.basis1=n,r.basis2=e,r.plane=(0,u.D)(0,0,0,0),p(r),r}function h(t,n=d()){return g(t.origin,t.basis1,t.basis2,n)}function b(t,n){(0,r.dF)(n.origin,t.origin),(0,r.dF)(n.basis1,t.basis1),(0,r.dF)(n.basis2,t.basis2),(0,u.h)(n.plane,t.plane)}function g(t,n,e,i=d()){return(0,r.dF)(i.origin,t),(0,r.dF)(i.basis1,n),(0,r.dF)(i.basis2,e),p(i),X(i,"fromValues()"),i}function p(t){(0,u.P)(t.basis2,t.basis1,t.origin,t.plane)}function y(t,n,e){t!==e&&h(t,e);const i=(0,r.dC)(u.c.get(),B(t),n);return(0,r.dE)(e.origin,e.origin,i),e.plane[3]-=n,e}function I(t,n,e){return w(n,e),y(e,x(t,t.origin),e),e}function m(t,n){const e=t.basis1[0],i=t.basis2[1],[o,s]=t.origin;return(0,r.dP)(o-e,s-i,o+e,s+i,n)}function w(t,n=d()){const e=(t[2]-t[0])/2,i=(t[3]-t[1])/2;return(0,r.dQ)(n.origin,t[0]+e,t[1]+i,0),(0,r.dQ)(n.basis1,e,0,0),(0,r.dQ)(n.basis2,0,i,0),(0,u.U)(0,0,1,0,n.plane),n}function v(t,n,e){return!!(0,u.x)(t.plane,n,e)&&L(t,e)}function _(t,n,e){if(v(t,n,e))return e;const i=E(t,n,u.c.get());return(0,r.dE)(e,n.origin,(0,r.dC)(u.c.get(),n.direction,(0,r.dR)(n.origin,i)/(0,r.dS)(n.direction))),e}function E(t,n,e){const i=Y.get();k(t,n,i,Y.get());let o=Number.POSITIVE_INFINITY;for(const s of G){const c=z(t,s,H.get()),a=u.c.get();if((0,u.q)(i,c,a)){const t=(0,r.dT)(u.c.get(),n.origin,a),i=Math.abs((0,r.dU)((0,r.al)(n.direction,t)));i<o&&(o=i,(0,r.dF)(e,a))}}return o===Number.POSITIVE_INFINITY?N(t,n,e):e}function M(t,n){return(n-t)/n}function N(t,n,e){if(v(t,n,e))return e;const o=Y.get(),s=Y.get();k(t,n,o,s);let c=Number.POSITIVE_INFINITY;for(const a of G){const l=z(t,a,H.get()),d=u.c.get();if((0,u.w)(o,l,d)){const t=(0,i.w)(n,d);if(!(0,u.z)(s,d))continue;t<c&&(c=t,(0,r.dF)(e,d))}}return O(t,n.origin)<c&&S(t,n.origin,e),e}function S(t,n,e){const i=(0,u.H)(t.plane,n,u.c.get()),o=(0,s.A)(U(t,t.basis1),i,-1,1,u.c.get()),c=(0,s.A)(U(t,t.basis2),i,-1,1,u.c.get());return(0,r.dB)(e,(0,r.dE)(u.c.get(),o,c),t.origin),e}function T(t,n,e){const{origin:i,basis1:o,basis2:s}=t,c=(0,r.dB)(u.c.get(),n,i),a=(0,u.f)(o,c),l=(0,u.f)(s,c),d=(0,u.f)(B(t),c);return(0,r.dQ)(e,a,l,d)}function O(t,n){const e=T(t,n,u.c.get()),{basis1:i,basis2:o}=t,s=(0,r.dS)(i),c=(0,r.dS)(o),a=Math.max(Math.abs(e[0])-s,0),l=Math.max(Math.abs(e[1])-c,0),d=e[2];return a*a+l*l+d*d}function P(t,n){return Math.sqrt(O(t,n))}function F(t,n){let e=Number.NEGATIVE_INFINITY;for(const r of G){const i=z(t,r,H.get()),o=(0,s.M)(i,n);o>e&&(e=o)}return Math.sqrt(e)}function A(t,n){return(0,u.z)(t.plane,n)&&L(t,n)}function V(t,n,e,r){return q(t,e,r)}function x(t,n){const e=-t.plane[3];return(0,u.f)(B(t),n)-e}function C(t,n,e,i){const o=x(t,n),s=(0,r.dC)(Z,B(t),e-o);return(0,r.dE)(i,n,s),i}function j(t,n){return(0,r.H)(t.basis1,n.basis1)&&(0,r.H)(t.basis2,n.basis2)&&(0,r.H)(t.origin,n.origin)}function R(t,n,e){return t!==e&&h(t,e),(0,r.dV)($,n),(0,r.dW)($,$),(0,r.dX)(e.basis1,t.basis1,$),(0,r.dX)(e.basis2,t.basis2,$),(0,r.dX)((0,u.O)(e.plane),(0,u.O)(t.plane),$),(0,r.dX)(e.origin,t.origin,n),(0,u.y)(e.plane,e.plane,e.origin),e}function D(t,n,e,i){return t!==i&&h(t,i),(0,r.dY)(K,n,e),(0,r.dX)(i.basis1,t.basis1,K),(0,r.dX)(i.basis2,t.basis2,K),p(i),i}function B(t){return(0,u.O)(t.plane)}function q(t,n,e){switch(n){case r.dZ.X:(0,r.dF)(e,t.basis1),(0,r.ao)(e,e);break;case r.dZ.Y:(0,r.dF)(e,t.basis2),(0,r.ao)(e,e);break;case r.dZ.Z:(0,r.dF)(e,B(t))}return e}function L(t,n){const e=(0,r.dB)(u.c.get(),n,t.origin),i=(0,r.dD)(t.basis1),o=(0,r.dD)(t.basis2),s=(0,r.al)(t.basis1,e),c=(0,r.al)(t.basis2,e);return-s-i<0&&s-i<0&&-c-o<0&&c-o<0}function U(t,n){const e=H.get();return(0,r.dF)(e.origin,t.origin),(0,r.dF)(e.vector,n),e}function z(t,n,e){const{basis1:i,basis2:o,origin:s}=t,c=(0,r.dC)(u.c.get(),i,n.origin[0]),a=(0,r.dC)(u.c.get(),o,n.origin[1]);(0,r.dE)(e.origin,c,a),(0,r.dE)(e.origin,e.origin,s);const l=(0,r.dC)(u.c.get(),i,n.direction[0]),d=(0,r.dC)(u.c.get(),o,n.direction[1]);return(0,r.dC)(e.vector,(0,r.dE)(l,l,d),2),e}function X(t,n){Math.abs((0,r.al)(t.basis1,t.basis2)/((0,r.dS)(t.basis1)*(0,r.dS)(t.basis2)))>1e-6&&c().warn(n,"Provided basis vectors are not perpendicular"),Math.abs((0,r.al)(t.basis1,B(t)))>1e-6&&c().warn(n,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,r.al)(B(t),t.origin)-t.plane[3])>1e-6&&c().warn(n,"Plane offset is not consistent with plane origin")}function k(t,n,e,r){const i=B(t);(0,u.P)(i,n.direction,n.origin,e),(0,u.P)((0,u.O)(e),i,n.origin,r)}const Q={plane:(0,u.M)(),origin:(0,r.aq)(0,0,0),basis1:(0,r.aq)(1,0,0),basis2:(0,r.aq)(0,1,0)},Y=new i.s(u.M),H=new i.s(s.v),Z=(0,r.ap)(),J=new i.s((()=>d())),G=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],$=(0,o.e)(),K=(0,o.e)(),W=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:l,altitudeAt:x,axisAt:V,cameraFrustumCoverage:M,closestPoint:N,closestPointOnSilhouette:E,copy:h,copyWithoutVerify:b,create:d,distance:P,distance2:O,distanceToSilhouette:F,elevate:y,equals:j,extrusionContainsPoint:A,fromAABoundingRect:w,fromValues:g,getExtent:m,intersectRay:v,intersectRayClosestSilhouette:_,normal:B,projectPoint:S,projectPointLocal:T,rotate:D,setAltitudeAt:C,setExtent:I,transform:R,up:Q,updateUnboundedPlane:p,wrap:f},Symbol.toStringTag,{value:"Module"}))},71902:function(t,n,e){e.d(n,{b:function(){return s},c:function(){return i}});e(44444);var r=e(38837);e(90326),e(97975);function i(t,n){return o(t)===o(n)}function o(t){if(null==t)return null;const n=null!=t.layer?t.layer.id:"";let e=null;return e=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==e?null:`o-${n}-${e}`}const s={json:{write:{writer:u,target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:c}}}};function u(t,n){null!=t?.layer?.objectIdField&&null!=t.attributes&&(n.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})}function c(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}(0,r.b)()},87792:function(t,n,e){e.d(n,{A:function(){return l},M:function(){return c},b:function(){return u},j:function(){return a},v:function(){return s}});var r=e(44444),i=e(38837),o=e(81203);function s(t){return t?{origin:(0,r.dA)(t.origin),vector:(0,r.dA)(t.vector)}:{origin:(0,r.ap)(),vector:(0,r.ap)()}}function u(t,n,e=s()){return(0,r.dF)(e.origin,t),(0,r.dB)(e.vector,n,t),e}function c(t,n){const e=(0,r.dB)(o.c.get(),n,t.origin),i=(0,r.al)(t.vector,e),s=(0,r.al)(t.vector,t.vector),u=(0,r.b0)(i/s,0,1),c=(0,r.dB)(o.c.get(),(0,r.dC)(o.c.get(),t.vector,u),e);return(0,r.al)(c,c)}function a(t,n,e){return l(t,n,0,1,e)}function l(t,n,e,i,s){const{vector:u,origin:c}=t,a=(0,r.dB)(o.c.get(),n,c),l=(0,r.al)(u,a)/(0,r.dD)(u);return(0,r.dC)(s,u,(0,r.b0)(l,e,i)),(0,r.dE)(s,s,t.origin)}new i.s((()=>s()))},10769:function(t,n,e){function r(){return[1,0,0,0,1,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function o(t,n,e,r,i,o,s,u,c){return[t,n,e,r,i,o,s,u,c]}function s(t,n){return new Float64Array(t,n,9)}e.d(n,{e:function(){return r},o:function(){return u},t:function(){return o}});const u=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:i,create:r,createView:s,fromValues:o},Symbol.toStringTag,{value:"Module"}))},77703:function(t,n,e){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,n,e,r,i,o,s,u,c,a,l,d,f,h,b,g){return[t,n,e,r,i,o,s,u,c,a,l,d,f,h,b,g]}function s(t,n){return new Float64Array(t,n,16)}e.d(n,{e:function(){return r},o:function(){return u},r:function(){return i}});const u=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:i,create:r,createView:s,fromValues:o},Symbol.toStringTag,{value:"Module"}))},81203:function(t,n,e){e.d(n,{D:function(){return _},H:function(){return z},J:function(){return X},M:function(){return v},O:function(){return M},P:function(){return R},Q:function(){return Q},U:function(){return N},V:function(){return Y},a:function(){return p},b:function(){return c},c:function(){return b},d:function(){return w},f:function(){return u},g:function(){return m},h:function(){return E},k:function(){return D},l:function(){return S},m:function(){return I},o:function(){return y},p:function(){return T},q:function(){return q},r:function(){return g},t:function(){return h},u:function(){return a},v:function(){return O},w:function(){return L},x:function(){return B},y:function(){return j},z:function(){return U}});var r=e(44444),i=e(10769),o=e(77703),s=e(83875);function u(t,n){return(0,r.al)(t,n)/(0,r.dS)(t)}function c(t,n){const e=(0,r.al)(t,n)/((0,r.dS)(t)*(0,r.dS)(n));return-(0,r.dU)(e)}function a(t,n,e){(0,r.ao)(l,t),(0,r.ao)(d,n);const i=(0,r.al)(l,d),o=(0,r.dU)(i),s=(0,r.am)(l,l,d);return(0,r.al)(s,e)<0?2*Math.PI-o:o}const l=(0,r.ap)(),d=(0,r.ap)();let f=class t{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.kB)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new t(r.g_)}static createVec3f64(){return new t(r.ap)}static createVec4f64(){return new t(r.iB)}static createMat3f64(){return new t(i.e)}static createMat4f64(){return new t(o.e)}static createQuatf64(){return new t(s.e)}get test(){}};const h=f.createVec2f64(),b=f.createVec3f64(),g=f.createVec4f64();f.createMat3f64();const p=f.createMat4f64(),y=f.createQuatf64();function I(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],e=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],r=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,e,r))}function m(t,n){const e=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),i=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),o=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return(0,r.dQ)(t,e,i,o),t}function w(t,n,e){Math.abs(t[0])>Math.abs(t[1])?(0,r.dQ)(n,0,1,0):(0,r.dQ)(n,1,0,0),(0,r.am)(e,t,n),(0,r.am)(n,e,t),(0,r.ao)(e,e),(0,r.ao)(n,n)}function v(t=G){return[t[0],t[1],t[2],t[3]]}function _(t=G[0],n=G[1],e=G[2],r=G[3]){return N(t,n,e,r,g.get())}function E(t,n){return N(n[0],n[1],n[2],n[3],t)}function M(t){return t}function N(t,n,e,r,i=v()){return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function S(t,n,e){const r=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],i=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=-(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]),e}function T(t,n,e,r=v()){const i=e[0]-n[0],o=e[1]-n[1],s=e[2]-n[2],u=t[0]-n[0],c=t[1]-n[1],a=t[2]-n[2],l=o*a-s*c,d=s*u-i*a,f=i*c-o*u,h=l*l+d*d+f*f,b=Math.abs(h-1)>1e-5&&h>1e-12?1/Math.sqrt(h):1;return r[0]=l*b,r[1]=d*b,r[2]=f*b,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function O(t,n,e,i=0,o=Math.floor(e*(1/3)),s=Math.floor(e*(2/3))){if(e<3)return!1;n(F,i);let u=o,c=!1;for(;u<e-1&&!c;)n(A,u),u++,c=!(0,r.H)(F,A);if(!c)return!1;for(u=Math.max(u,s),c=!1;u<e&&!c;)n(V,u),u++,(0,r.dB)(x,F,A),(0,r.ao)(x,x),(0,r.dB)(C,A,V),(0,r.ao)(C,C),c=!(0,r.H)(F,V)&&!(0,r.H)(A,V)&&Math.abs((0,r.al)(x,C))<P;return c?(T(F,A,V,t),!0):(0!==i||1!==o||2!==s)&&O(t,n,e,0,1,2)}const P=.99619469809,F=(0,r.ap)(),A=(0,r.ap)(),V=(0,r.ap)(),x=(0,r.ap)(),C=(0,r.ap)();function j(t,n,e){return n!==t&&E(t,n),t[3]=-(0,r.al)(t,e),t}function R(t,n,e,i){return(0,r.am)(V,n,t),S(e,V,i)}function D(t,n,e,i){return Z(J(t,n,(0,r.dB)(b.get(),e,n),K,i))}function B(t,n,e){return null!=n&&Z(J(t,n.origin,n.direction,W,e))}function q(t,n,e){return Z(J(t,n.origin,n.vector,$.NONE,e))}function L(t,n,e){return Z(J(t,n.origin,n.vector,$.CLAMP,e))}function U(t,n){return Y(t,n)>=0}function z(t,n,e){const i=(0,r.dC)(b.get(),t,-t[3]),o=k(t,(0,r.dB)(b.get(),n,i),b.get());return(0,r.dE)(e,o,i),e}function X(t,n,e,i){const o=t,s=b.get(),c=b.get();w(o,s,c);const a=(0,r.dB)(b.get(),e,n),l=u(s,a),d=u(c,a),f=u(o,a);return(0,r.dQ)(i,l,d,f)}function k(t,n,e){const i=(0,r.dC)(b.get(),t,(0,r.al)(t,n));return(0,r.dB)(e,n,i),e}function Q(t,n){return Math.abs(Y(t,n))}function Y(t,n){return(0,r.al)(t,n)+t[3]}var H;function Z(t){return t===H.INTERSECTS_INSIDE_OUT||t===H.INTERSECTS_OUTSIDE_IN}function J(t,n,e,i,o){const s=(0,r.al)(t,e),u=Y(t,n);if(0===s)return u>=0?H.INSIDE:H.OUTSIDE;let c=-u/s;return i&$.CLAMP&&(c=(0,r.b0)(c,0,1)),!(i&$.INFINITE_MIN)&&c<0||!(i&$.INFINITE_MAX)&&c>1?u>=0?H.INSIDE:H.OUTSIDE:((0,r.dE)(o,n,(0,r.dC)(o,e,c)),u>=0?H.INTERSECTS_INSIDE_OUT:H.INTERSECTS_OUTSIDE_IN)}(function(t){t[t.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",t[t.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",t[t.INSIDE=2]="INSIDE",t[t.OUTSIDE=3]="OUTSIDE"})(H||(H={}));const G=[0,0,1,0];var $;(function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"})($||($={}));const K=$.INFINITE_MIN|$.INFINITE_MAX,W=$.INFINITE_MAX},83875:function(t,n,e){function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}function o(t,n,e,r){return[t,n,e,r]}e.d(n,{e:function(){return r},r:function(){return s},t:function(){return i}});const s=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,fromValues:o},Symbol.toStringTag,{value:"Module"}))},38837:function(t,n,e){e.d(n,{$:function(){return z},E:function(){return I},H:function(){return D},I:function(){return x},N:function(){return S},O:function(){return _},T:function(){return E},U:function(){return T},V:function(){return O},_:function(){return m},a:function(){return v},b:function(){return u},f:function(){return W},i:function(){return J},k:function(){return a},s:function(){return o},v:function(){return l},w:function(){return h}});var r=e(44444),i=(e(10769),e(81203));class o{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.kB)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,s));t++)this._items.push(this._allocator())}}const s=1024;function u(t){return t?c((0,r.dA)(t.origin),(0,r.dA)(t.direction)):c((0,r.ap)(),(0,r.ap)())}function c(t,n){return{origin:t,direction:n}}function a(t,n){const e=g.get();return e.origin=t,e.direction=n,e}function l(t,n=u()){return f(t.origin,t.direction,n)}function d(t,n,e=u()){return(0,r.dF)(e.origin,t),(0,r.dB)(e.direction,n,t),e}function f(t,n,e=u()){return(0,r.dF)(e.origin,t),(0,r.dF)(e.direction,n),e}function h(t,n){const e=(0,r.am)(i.c.get(),(0,r.ao)(i.c.get(),t.direction),(0,r.dB)(i.c.get(),n,t.origin));return(0,r.al)(e,e)}function b(t,n,e){const i=(0,r.al)(t.direction,(0,r.dB)(e,n,t.origin));return(0,r.dE)(e,t.origin,(0,r.dC)(e,t.direction,i)),e}const g=new o((()=>u()));function p(t,n){const e=(0,r.dS)(t),i=(0,r.kC)(t[2]/e),o=Math.atan2(t[1]/e,t[0]/e);return(0,r.dQ)(n,e,i,o),n}const y=I();function I(){return(0,r.iB)()}const m=r.ak,w=r.ak;function v(t,n){return(0,r.aa)(n,t)}function _(t,n){return(0,r.iV)(t[0],t[1],t[2],n)}function E(t){return t}function M(t){t[0]=t[1]=t[2]=t[3]=0}function N(t,n){return t[0]=t[1]=t[2]=0,t[3]=n,t}function S(t){return t[3]}function T(t){return t}function O(t,n,e,i){return(0,r.iV)(t,n,e,i)}function P(t,n,e){return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e[3]=t[3]+n,e}function F(t,n,e){return t!==e&&v(t,e),e}function A(t,n){return n}function V(t,n,e){if(null==n||!j(t,n,C))return!1;let{t0:r,t1:i}=C;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(e){const{origin:t,direction:i}=n;e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r}return!0}function x(t,n,e){const i=d(n,e);if(!j(t,i,C))return[];const{origin:o,direction:s}=i,{t0:u,t1:c}=C,a=n=>{const e=(0,r.ap)();return(0,r.h9)(e,o,s,n),z(t,e,e)};return Math.abs(u-c)<(0,r.a9)()?[a(u)]:[a(u),a(c)]}const C={t0:0,t1:0};function j(t,n,e){const{origin:r,direction:i}=n,o=R;o[0]=r[0]-t[0],o[1]=r[1]-t[1],o[2]=r[2]-t[2];const s=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===s)return!1;const u=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),c=u*u-4*s*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(c<0)return!1;const a=Math.sqrt(c);return e.t0=(-u-a)/(2*s),e.t1=(-u+a)/(2*s),!0}const R=(0,r.ap)();function D(t,n){return V(t,n,null)}function B(t,n,e){if(V(t,n,e))return e;const o=q(t,n,i.c.get());return(0,r.dE)(e,n.origin,(0,r.dC)(i.c.get(),n.direction,(0,r.dR)(n.origin,o)/(0,r.dS)(n.direction))),e}function q(t,n,e){const o=i.c.get(),s=i.a.get();(0,r.am)(o,n.origin,n.direction);const u=S(t);(0,r.am)(e,o,n.origin),(0,r.dC)(e,e,1/(0,r.dS)(e)*u);const c=k(t,n.origin),a=(0,i.b)(n.origin,e);return(0,r.dY)(s,a+c,o),(0,r.dX)(e,e,s),e}function L(t,n,e,r){const i=S(t),o=i*i,s=n+.5*Math.PI,u=e*e+o-2*Math.cos(s)*e*i,c=Math.sqrt(u),a=u-o;if(a<=0)return.5;const l=Math.sqrt(a),d=Math.acos(l/c)-Math.asin(i/(c/Math.sin(s)));return Math.min(1,(d+.5*r)/r)}function U(t,n,e){return V(t,n,e)?e:(b(n,t,e),z(t,e,e))}function z(t,n,e){const o=(0,r.dB)(i.c.get(),n,t),s=(0,r.dC)(i.c.get(),o,t[3]/(0,r.dS)(o));return(0,r.dE)(e,s,t)}function X(t,n){const e=(0,r.dB)(i.c.get(),n,t),o=(0,r.dD)(e),s=t[3]*t[3];return Math.sqrt(Math.abs(o-s))}function k(t,n){const e=(0,r.dB)(i.c.get(),n,t),o=(0,r.dS)(e),s=S(t),u=s+Math.abs(s-o);return(0,r.dU)(s/u)}const Q=(0,r.ap)();function Y(t,n,e,i){const o=(0,r.dB)(Q,n,t);switch(e){case r.dZ.X:{const t=p(o,Q)[2];return(0,r.dQ)(i,-Math.sin(t),Math.cos(t),0)}case r.dZ.Y:{const t=p(o,Q),n=t[1],e=t[2],s=Math.sin(n);return(0,r.dQ)(i,-s*Math.cos(e),-s*Math.sin(e),Math.cos(n))}case r.dZ.Z:return(0,r.ao)(i,o);default:return}}function H(t,n){const e=(0,r.dB)($,n,t);return(0,r.dS)(e)-t[3]}function Z(t,n,e,i){const o=H(t,n),s=Y(t,n,r.dZ.Z,$),u=(0,r.dC)($,s,e-o);return(0,r.dE)(i,n,u)}function J(t,n){const e=(0,r.iY)(t,n),i=S(t);return e<=i*i}function G(t,n,e=(0,r.iB)()){const i=(0,r.dR)(t,n),o=t[3],s=n[3];return i+s<o?((0,r.aa)(e,t),e):i+o<s?((0,r.aa)(e,n),e):((0,r.iX)(e,t,n,(i+s-o)/(2*i)),e[3]=(i+o+s)/2,e)}const $=(0,r.ap)(),K=I(),W=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:y,altitudeAt:H,angleToSilhouette:k,axisAt:Y,cameraFrustumCoverage:L,clear:M,closestPoint:U,closestPointOnSilhouette:q,containsPoint:J,copy:v,create:I,distanceToSilhouette:X,elevate:P,equals:w,exactEquals:m,fromCenterAndRadius:_,fromRadius:N,fromValues:O,getCenter:T,getExtent:A,getRadius:S,intersectLine:x,intersectRay:V,intersectRayClosestSilhouette:B,intersectsRay:D,projectPoint:z,setAltitudeAt:Z,setExtent:F,tmpSphere:K,union:G,wrap:E},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=256.16eb8954.js.map