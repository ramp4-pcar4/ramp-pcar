"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[7940],{32880:function(t,e,r){r.d(e,{c:function(){return b},m:function(){return p},p:function(){return c},s:function(){return g},t:function(){return d}});var n=r(44444);let o=class extends n.bw{constructor(t){super(t),this.properties=null}};(0,n.bt)([(0,n.bu)({json:{write:!0}})],o.prototype,"properties",void 0),o=(0,n.bt)([(0,n.bv)("esri.rest.knowledgeGraph.GraphObject")],o);const i=o;let a=class extends i{constructor(t){super(t),this.typeName=null,this.id=null}};(0,n.bt)([(0,n.bu)({type:String,json:{write:!0}})],a.prototype,"typeName",void 0),(0,n.bt)([(0,n.bu)({type:String,json:{write:!0}})],a.prototype,"id",void 0),a=(0,n.bt)([(0,n.bv)("esri.rest.knowledgeGraph.GraphNamedObject")],a);const s=a;let u=class extends s{constructor(t){super(t),this.layoutGeometry=null}};(0,n.bt)([(0,n.bu)({type:n.D,json:{write:!0}})],u.prototype,"layoutGeometry",void 0),u=(0,n.bt)([(0,n.bv)("esri.rest.knowledgeGraph.Entity")],u);const p=u;let l=class extends s{constructor(t){super(t),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,n.bt)([(0,n.bu)({type:String,json:{write:!0}})],l.prototype,"originId",void 0),(0,n.bt)([(0,n.bu)({type:String,json:{write:!0}})],l.prototype,"destinationId",void 0),(0,n.bt)([(0,n.bu)({type:n.a_,json:{write:!0}})],l.prototype,"layoutGeometry",void 0),l=(0,n.bt)([(0,n.bv)("esri.rest.knowledgeGraph.Relationship")],l);const c=l;let f=class extends i{constructor(t){super(t)}};f=(0,n.bt)([(0,n.bv)("esri.rest.knowledgeGraph.ObjectValue")],f);const d=f;let h=class extends n.bw{constructor(t){super(t),this.path=null}};(0,n.bt)([(0,n.bu)({type:[i],json:{write:!0}})],h.prototype,"path",void 0),h=(0,n.bt)([(0,n.bv)("esri.rest.knowledgeGraph.Path")],h);const b=h;let y=class extends n.e9{constructor(t){super(t),this.openCypherQuery=""}};(0,n.bt)([(0,n.bu)()],y.prototype,"openCypherQuery",void 0),y=(0,n.bt)([(0,n.bv)("esri.rest.knowledgeGraph.GraphQuery")],y);const m=y;let w=class extends m{constructor(t){super(t),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,n.bt)([(0,n.bu)()],w.prototype,"bindParameters",void 0),(0,n.bt)([(0,n.bu)()],w.prototype,"bindGeometryQuantizationParameters",void 0),(0,n.bt)([(0,n.bu)()],w.prototype,"outputQuantizationParameters",void 0),(0,n.bt)([(0,n.bu)()],w.prototype,"outputSpatialReference",void 0),(0,n.bt)([(0,n.bu)()],w.prototype,"provenanceBehavior",void 0),w=(0,n.bt)([(0,n.bv)("esri.rest.knowledgeGraph.GraphQueryStreaming")],w);const g=w},17940:function(t,e,r){r.r(e),r.d(e,{registerFunctions:function(){return y}});var n=r(44444),o=r(41721),i=r(66485),a=r(30373),s=r(84440),u=r(32880);let p=null;async function l(t){const e=n.cD.geometryServiceUrl??"";if(!e){(0,n.cj)()||await(0,n.ck)();for(const e of t)e.container[e.indexer]=(0,n.cl)(e.container[e.indexer],n.aY.WGS84);return}const r=t.map((t=>t.container[t.indexer])),o=new s.p({geometries:r,outSpatialReference:n.aY.WGS84}),i=await(0,s.n)(e,o);for(let n=0;n<i.length;n++){const e=t[n];e.container[e.indexer]=i[n]}}async function c(t,e){const o=new n.S({portal:t,id:e});return await o.load(),null===p&&(p=await r.e(1468).then(r.bind(r,91468)).then((t=>t.k))),await p.fetchKnowledgeGraph(o.url)}function f(t,e,r,o,a){if(null===t)return null;if((0,i.P)(t)||(0,i.z)(t))return t;if((0,i.k)(t)||(0,i.k)(t))return t.toJSDate();if((0,i.t)(t))return t.toStorageFormat();if((0,i.g)(t))return t.toStorageString();if((0,i.T)(t)){const i={};for(const s of t.keys())i[s]=f(t.field(s),e,r,o,a),i[s]instanceof n.f0&&a.push({container:i,indexer:s});return i}if((0,i.E)(t)){const i=t.map((t=>f(t,e,r,o,a)));for(let t=0;t<i.length;t++)i[t]instanceof n.f0&&a.push({container:i,indexer:t});return i}return(0,i.Z)(t)?t.spatialReference.isWGS84?t:t.spatialReference.isWebMercator&&e?(0,n.f4)(t):t:void 0}function d(t,e){if(!t)return t;if(t.spatialReference.isWGS84&&e.spatialReference.isWebMercator)return(0,n.f5)(t);if(t.spatialReference.equals(e.spatialReference))return t;throw new i.a(e,i.r.WrongSpatialReference,null)}function h(t,e){if(!t)return null;const r={};for(const n in t)r[n]=b(t[n],e);return r}function b(t,e){return null===t?null:(0,i.E)(t)?t.map((t=>b(t,e))):t instanceof u.m?{graphTypeName:t.typeName,id:t.id,graphType:"entity",properties:h(t.properties,e)}:t instanceof u.t?{graphType:"object",properties:h(t.properties,e)}:t instanceof u.p?{graphTypeName:t.typeName,id:t.id,graphType:"relationship",originId:t.originId??null,destinationId:t.destinationId??null,properties:h(t.properties,e)}:t instanceof u.c?{graphType:"path",path:t.path?t.path.map((t=>b(t,e))):null}:(0,i.Z)(t)?d(t,e):(0,i.P)(t)||(0,i.z)(t)||(0,i._)(t)?t:null}function y(t){"async"===t.mode&&(t.functions.knowledgegraphbyportalitem=function(e,r){return t.standardFunctionAsync(e,r,((t,s,u)=>{if((0,i.i)(u,2,2,e,r),null===u[0])throw new i.a(e,i.r.PortalRequired,r);if(u[0]instanceof o.t){const t=(0,i.d)(u[1]);let r;return r=e.services?.portal?e.services.portal:n.e.getDefault(),c((0,a.l)(u[0],r),t)}if(!1===(0,i.P)(u[0]))throw new i.a(e,i.r.InvalidParameter,r);const p=(0,i.d)(u[0]);return c(e.services?.portal??n.e.getDefault(),p)}))},t.signatures.push({name:"knowledgegraphbyportalitem",min:2,max:2}),t.functions.querygraph=function(e,n){return t.standardFunctionAsync(e,n,(async(t,a,s)=>{(0,i.i)(s,2,4,e,n);const c=s[0];if(!(0,i.$)(c))throw new i.a(e,i.r.InvalidParameter,n);const d=s[1];if(!(0,i.P)(d))throw new i.a(e,i.r.InvalidParameter,n);null===p&&(p=await r.e(1468).then(r.bind(r,91468)).then((t=>t.k)));let h=null;const y=(0,i.Y)(s[2],null);if(!(y instanceof o.N||null===y))throw new i.a(e,i.r.InvalidParameter,n);if(y){let t=[];h=f(y,!0,!1,e,t),t=t.filter((t=>!t.container[t.indexer].spatialReference.isWGS84)),t.length>0&&await l(t)}const m=new u.s({openCypherQuery:d,bindParameters:h});(c?.serviceDefinition?.currentVersion??11.3)>11.2&&(m.outputSpatialReference=e.spatialReference);const w=(await p.executeQueryStreaming(c,m)).resultRowsStream.getReader(),g=[];try{for(;;){const{done:t,value:r}=await w.read();if(t)break;if((0,i.E)(r))for(const n of r)g.push(b(n,e));else{const t=[];for(const n of r)t.push(b(r[n],e));g.push(t)}}}catch(v){throw v}return o.N.convertJsonToArcade(g,(0,i.B)(e),!1,!0)}))},t.signatures.push({name:"querygraph",min:2,max:4}))}},30373:function(t,e,r){r.d(e,{l:function(){return o}});var n=r(44444);function o(t,e){return null===t?e:new n.e({url:t.field("url")})}},84440:function(t,e,r){r.d(e,{n:function(){return s},p:function(){return i}});var n=r(44444);let o=class extends n.bw{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map((t=>t.toJSON())),e=this.geometries[0],r={};return r.outSR=(0,n.bT)(this.outSpatialReference),r.inSR=(0,n.bT)(e.spatialReference),r.geometries=JSON.stringify({geometryType:(0,n.bS)(e),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};(0,n.bt)([(0,n.bu)()],o.prototype,"geometries",void 0),(0,n.bt)([(0,n.bu)({json:{read:{source:"outSR"}}})],o.prototype,"outSpatialReference",void 0),(0,n.bt)([(0,n.bu)()],o.prototype,"transformation",void 0),(0,n.bt)([(0,n.bu)()],o.prototype,"transformForward",void 0),o=(0,n.bt)([(0,n.bv)("esri.rest.support.ProjectParameters")],o);const i=o,a=(0,n.ha)(i);async function s(t,e,r){e=a(e);const o=(0,n.bq)(t),i={...o.query,f:"json",...e.toJSON()},s=e.outSpatialReference,u=(0,n.bS)(e.geometries[0]),p=(0,n.br)(i,r);return(0,n.U)(o.path+"/project",p).then((({data:{geometries:t}})=>(0,n.hb)(t,u,s)))}}}]);
//# sourceMappingURL=7940.6bb6b5dc.js.map