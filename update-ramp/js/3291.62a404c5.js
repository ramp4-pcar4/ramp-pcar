"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[3291],{93291:function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});var o=s(44444);const n={en:{"panguard.instructions":"Use two fingers to pan the map"},fr:{"panguard.instructions":"Utilisez deux doigts pour faire un panoramique de la carte"}},a={class:"pg-label"},i=(0,o.fI)({__name:"map-panguard",setup(e){const{t:t}=(0,o.fJ)(),s=(0,o.f_)("iApi"),n=(0,o.f$)(),i=(0,o.f$)(-1),p=(0,o.km)([]),r=(0,o.km)([]);(0,o.g4)((()=>{u(),r.push(s.event.on(o.g9.MAP_CREATED,(()=>{u()}))),r.push(s.event.on(o.g9.MAP_DESTROYED,(()=>{p.forEach((e=>e.remove()))}))),r.push(s.event.on(o.g9.MAP_REFRESH_START,(()=>{p.forEach((e=>e.remove()))}))),r.push(s.event.on(o.g9.MAP_REFRESH_END,(()=>{u()})))})),(0,o.g5)((()=>{r.forEach((e=>s.event.off(e))),p.forEach((e=>e.remove()))}));const u=()=>{const e=new Map;s.geo.map.viewPromise.then((()=>{p.push(s.geo.map.esriView.on("pointer-down",(t=>{"touch"===t.pointerType&&e.set(t.pointerId,{x:t.x,y:t.y})}))),p.push(s.geo.map.esriView.on(["pointer-up","pointer-leave"],(t=>{"touch"===t.pointerType&&window.setTimeout((()=>{e.delete(t.pointerId)}),200)}))),p.push(s.geo.map.esriView.on("pointer-move",(t=>{const{pointerId:s,pointerType:o,x:a,y:p}=t,r=e.get(s);r&&"touch"===o&&1===e.size?Math.sqrt(Math.pow(a-r.x,2)+Math.pow(p-r.y,2))<20||(n.value.classList.add("pg-active"),-1!==i.value&&clearTimeout(i.value),i.value=window.setTimeout((()=>{n.value.classList.remove("pg-active")}),2e3),window.scrollBy(r.x-a,r.y-p)):n.value.classList.remove("pg-active")})))}))};return(e,s)=>((0,o.fQ)(),(0,o.fU)("div",{class:"pg",ref_key:"panGuard",ref:n},[(0,o.fT)("p",a,(0,o.fX)((0,o.fY)(t)("panguard.instructions")),1)],512))}}),p=(0,o.jO)(i,[["__scopeId","data-v-e91f9000"]]);class r extends o.F{added(){Object.entries(n).forEach((e=>this.$iApi.$i18n.mergeLocaleMessage(...e)));const{destroy:e,el:t}=this.mount(p,{app:this.$element});this.$vApp.$el.getElementsByClassName("inner-shell")[0].appendChild(t.childNodes[0]),this.removed=()=>{e()}}}}}]);
//# sourceMappingURL=3291.62a404c5.js.map