"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[5050],{87291:function(e,t,n){n.d(t,{o:function(){return l}});var i=n(44444),r=n(46993);const s=5e4,o={minX:0,minY:0,maxX:0,maxY:0};function a(e){o.minX=e[0],o.minY=e[1],o.maxX=e[2],o.maxY=e[3]}function u(e,t,n){a(t),e.search(o,n)}class l{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new r.h(9,(0,i.Q)("esri-csp-restrictions")?e=>({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const e=new Array(this._idByBounds.size);let t=0;this._idByBounds.forEach(((n,i)=>{e[t++]=i})),this._indexInvalid=!1,this._index.clear(),this._index.load(e)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((e=>this._idByBounds.has(e)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const e=(0,i.d7)();for(const t of this._boundsById.values())t&&(e[0]=Math.min(t[0],e[0]),e[1]=Math.min(t[1],e[1]),e[2]=Math.max(t[2],e[2]),e[3]=Math.max(t[3],e[3]));return e}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(e){const t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}forEachInBounds(e,t){this._loadIndex(),u(this._index,e,(e=>t(this._idByBounds.get(e))))}get(e){return this._boundsById.get(e)}has(e){return this._boundsById.has(e)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(e,t){if(!this._indexInvalid){const t=this._boundsById.get(e);t&&(this._index.remove(t),this._idByBounds.delete(t))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>s&&this._loadIndex()))}}},12156:function(e,t,n){n.d(t,{m:function(){return u}});var i=n(44444),r=n(87291),s=n(32707),o=n(72548);const a=(0,i.cE)();class u{constructor(e){this.geometryInfo=e,this._boundsStore=new r.o,this._featuresById=new Map,this.events=new i.d4,this.featureAdapter=o.o}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{null!=t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if(null==this.fullBounds)return null;const[t,n,i,r]=this.fullBounds;return{xmin:t,ymin:n,xmax:i,ymax:r,spatialReference:(0,s.h)(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}upsertMany(e){const t=e.map((e=>this._upsert(e)));return this._emitChanged(),t.filter(i.ci)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const n of e){const e=this._boundsStore.get(n.objectId);e&&t((0,i.d5)(a,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const t=e.objectId;if(null==t)return void i.G.getLogger("esri.layers.graphics.data.FeatureStore").error(new i.s("featurestore:invalid-feature","feature id is missing",{feature:e}));const n=this._featuresById.get(t);let r;if(n?(e.displayId=n.displayId,r=this._boundsStore.get(t),this._boundsStore.delete(t)):null!=this.onFeatureAdd&&this.onFeatureAdd(e),!e.geometry?.coords?.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);r=(0,i.d6)(r??(0,i.b2)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=r&&this._boundsStore.set(t,r),this._featuresById.set(t,e)}_upsert(e){const t=e?.objectId;if(null==t)return i.G.getLogger("esri.layers.graphics.data.FeatureStore").error(new i.s("featurestore:invalid-feature","feature id is missing",{feature:e})),null;const n=this._featuresById.get(t);if(!n)return this._add(e),e;const{geometry:r,attributes:s}=e;for(const i in s)n.attributes[i]=s[i];return r&&(n.geometry=r,this._boundsStore.set(t,(0,i.d6)((0,i.b2)(),r,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),n}_remove(e){null!=this.onFeatureRemove&&this.onFeatureRemove(e);const t=e.objectId;return this._boundsStore.delete(t),this._featuresById.delete(t),e}}},32880:function(e,t,n){n.d(t,{c:function(){return m},m:function(){return l},p:function(){return d},s:function(){return _},t:function(){return c}});var i=n(44444);let r=class extends i.bw{constructor(e){super(e),this.properties=null}};(0,i.bt)([(0,i.bu)({json:{write:!0}})],r.prototype,"properties",void 0),r=(0,i.bt)([(0,i.bv)("esri.rest.knowledgeGraph.GraphObject")],r);const s=r;let o=class extends s{constructor(e){super(e),this.typeName=null,this.id=null}};(0,i.bt)([(0,i.bu)({type:String,json:{write:!0}})],o.prototype,"typeName",void 0),(0,i.bt)([(0,i.bu)({type:String,json:{write:!0}})],o.prototype,"id",void 0),o=(0,i.bt)([(0,i.bv)("esri.rest.knowledgeGraph.GraphNamedObject")],o);const a=o;let u=class extends a{constructor(e){super(e),this.layoutGeometry=null}};(0,i.bt)([(0,i.bu)({type:i.D,json:{write:!0}})],u.prototype,"layoutGeometry",void 0),u=(0,i.bt)([(0,i.bv)("esri.rest.knowledgeGraph.Entity")],u);const l=u;let p=class extends a{constructor(e){super(e),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,i.bt)([(0,i.bu)({type:String,json:{write:!0}})],p.prototype,"originId",void 0),(0,i.bt)([(0,i.bu)({type:String,json:{write:!0}})],p.prototype,"destinationId",void 0),(0,i.bt)([(0,i.bu)({type:i.a_,json:{write:!0}})],p.prototype,"layoutGeometry",void 0),p=(0,i.bt)([(0,i.bv)("esri.rest.knowledgeGraph.Relationship")],p);const d=p;let h=class extends s{constructor(e){super(e)}};h=(0,i.bt)([(0,i.bv)("esri.rest.knowledgeGraph.ObjectValue")],h);const c=h;let y=class extends i.bw{constructor(e){super(e),this.path=null}};(0,i.bt)([(0,i.bu)({type:[s],json:{write:!0}})],y.prototype,"path",void 0),y=(0,i.bt)([(0,i.bv)("esri.rest.knowledgeGraph.Path")],y);const m=y;let f=class extends i.e9{constructor(e){super(e),this.openCypherQuery=""}};(0,i.bt)([(0,i.bu)()],f.prototype,"openCypherQuery",void 0),f=(0,i.bt)([(0,i.bv)("esri.rest.knowledgeGraph.GraphQuery")],f);const g=f;let b=class extends g{constructor(e){super(e),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,i.bt)([(0,i.bu)()],b.prototype,"bindParameters",void 0),(0,i.bt)([(0,i.bu)()],b.prototype,"bindGeometryQuantizationParameters",void 0),(0,i.bt)([(0,i.bu)()],b.prototype,"outputQuantizationParameters",void 0),(0,i.bt)([(0,i.bu)()],b.prototype,"outputSpatialReference",void 0),(0,i.bt)([(0,i.bu)()],b.prototype,"provenanceBehavior",void 0),b=(0,i.bt)([(0,i.bv)("esri.rest.knowledgeGraph.GraphQueryStreaming")],b);const _=b},45050:function(e,t,n){n.d(t,{A:function(){return J},E:function(){return ne},F:function(){return V},L:function(){return F},R:function(){return W},a:function(){return B},b:function(){return j},c:function(){return g},d:function(){return l},e:function(){return w},f:function(){return C},g:function(){return c},h:function(){return k},i:function(){return _},m:function(){return O},n:function(){return h},o:function(){return x},r:function(){return d},s:function(){return E},t:function(){return p},u:function(){return he},v:function(){return A}});var i=n(44444),r=n(91468),s=n(32880),o=n(12156),a=n(95599),u=n(2979);const l="ESRI__ID",p="ESRI__OriginID",d="ESRI__DestID",h="ESRI__LayoutGeometry",c="ESRI__AggregationCount",y="LC.ESRI__IsSpatial",m={initializeLayersFromClientData:async(e,t)=>{if(t||(t=[...e.layers,...e.tables].map((e=>e.graphTypeName))),0===t?.length)return;const n=new Map;for(const r of t)n.set(r,f(e,r));const i=await(0,r.W)(e.dataManager.knowledgeGraph,Array.from(n.values()));for(const r of[...e.layers,...e.tables]){const t=r.objectType.name;if(null===t)continue;const n=i.get(f(e,t));if(n){const e=JSON.parse(n);null===e||"object"!=typeof e||e.hasOwnProperty("showLabels")||(e.showLabels=!1),r.read(e,{origin:"service"})}}}},f=(e,t)=>"knowledge-graph"===e.type?`${t}/Map`:`${t}/LinkChart/LinkChartSubLayer`;async function g(e,t){return m.initializeLayersFromClientData(e,t)}let b,_=class e{constructor(){this._featureLookup=new Map}static getInstance(){return e.instance||(e.instance=new e),e.instance}static resetInstance(){e.instance&&(e.instance=null)}deleteFromStore(e){e.forEach((e=>{this._featureLookup.delete(e)}))}readFromStoreByList(e){const t=[];return e.forEach((e=>{const n=this.readFromStoreById(e);n&&t.push(n)})),t}readFromStoreById(e){return this._featureLookup.get(e)??null}writeToStore(e,t,n){const r=[];return e.forEach((e=>{if(!e?.id)return;e.properties||(e.properties=[]);let s,o=null;if(n&&e.properties[n]&&(o=(0,i.dh)(e.properties[n])),"originId"in e&&"destinationId"in e&&(e.properties[p]=e.originId,e.properties[d]=e.destinationId),e.properties[t]=e.id,e.id&&this._featureLookup.has(e.id)&&this._featureLookup.get(e.id).attributes){const r=this._featureLookup.get(e.id),a=JSON.parse(JSON.stringify(Object.assign(r.attributes,e.properties)));n&&e.properties[n]&&(a[n]=(0,i.f1)(e.properties[n])),s=new i.d8(o?JSON.parse(JSON.stringify(o)):r?.geometry?JSON.parse(JSON.stringify(r.geometry)):null,a,null,e.properties[t])}else s=new i.d8(o?JSON.parse(JSON.stringify(o)):null,e.properties,null,e.properties[t]);this._featureLookup.set(`${e.typeName?`${e.typeName}__${e.id}`:e.id}`,s),r.push(s)})),r}},T=null;function w(){return b||(b=n.e(1603).then(n.bind(n,1603)).then((e=>e.l)).then((({default:e})=>e({locateFile:e=>(0,i.fG)(`esri/libs/linkchartlayout/${e}`)}))).then((e=>{I(e)})),b)}function I(e){T=e}var E,x,v,M;function S(e){const t=Object.keys(v).filter((e=>isNaN(parseInt(e,10)))).indexOf(e.timeDirection),n=Object.keys(M).filter((e=>isNaN(parseInt(e,10)))).indexOf(e.eventsTicksVisualization);return{timeDirection:{value:t>-1?t:v.right},timeBannerUTCOffsetInMinutes:e.timeBannerUTCOffsetInMinutes,eventsTicksVisualization:{value:n>-1?n:M.startAndEnd},showDurationLineForNonZeroDurationEntityEvents:e.showDurationLineForNonZeroDurationEntityEvents,durationLineWidth:e.durationLineWidth,entityPositionAtDurationRatio:e.entityPositionAtDurationRatio,showNonZeroDurationIntervalBounds:e.showNonZeroDurationIntervalBounds,separateTimeOverlaps:e.separateTimeOverlaps,separateTimelineOverlaps:e.separateTimelineOverlaps,moveFirstBends:e.moveFirstBends,secondBendRatio:e.secondBendRatio,lineSeparationMultiplier:e.lineSeparationMultiplier,spaceSeparatedLinesEvenly:e.spaceSeparatedLinesEvenly,useBezierCurves:e.useBezierCurves,separatedLineShapeRatio:e.separatedLineShapeRatio}}function N(e,t,n,i,r,s){const o=n.length,a=r.length,u=Float64Array.BYTES_PER_ELEMENT,l=Uint32Array.BYTES_PER_ELEMENT,p=Uint8Array.BYTES_PER_ELEMENT,d=16,h=d+o*(p+2*u)+a*(2*l),c=T._malloc(h);try{const p=c+d-c%d,h=p+o*u,y=h+o*u,m=y+a*l,f=m+a*l,g=()=>[T.HEAPF64.subarray(p>>3,(p>>3)+o),T.HEAPF64.subarray(h>>3,(h>>3)+o),T.HEAPU32.subarray(y>>2,(y>>2)+a),T.HEAPU32.subarray(m>>2,(m>>2)+a),T.HEAPU8.subarray(f,f+o)],[b,_,w,I,E]=g();b.set(n),_.set(i),w.set(r),I.set(s),E.set(t);let x=e(o,f,p,h,a,y,m),v=null,M=null;if(x){const e=T.getLayoutLinksTypes(),t=T.getLayoutLinksVerticesEndIndices(),n=T.getLayoutLinksVertices(),i=T.countLayoutLinksVertices();!a||e&&t?i&&!n?x=!1:(v={types:new Uint8Array(T.HEAPU8.subarray(e,e+a)),vertexEndIndex:new Uint32Array(T.HEAPU32.subarray(t>>2,(t>>2)+a)),vertices:new Float64Array(T.HEAPF64.subarray(n>>3,(n>>3)+2*i))},M=T.getAuxiliaryGraphicElements()):x=!1}const[S,N,D,L,R]=g();return n.set(S),i.set(N),r.set(D),s.set(L),t.set(R),{success:x,links:v,graphics:M}}finally{T._free(c),T.cleanupLayout()}}(function(e){e[e.None=0]="None",e[e.IsMovable=1]="IsMovable",e[e.IsGeographic=2]="IsGeographic",e[e.IsRoot=4]="IsRoot",e[e.IsOld=8]="IsOld"})(E||(E={})),function(e){e[e.Regular=0]="Regular",e[e.Curved=1]="Curved",e[e.Recursive=2]="Recursive"}(x||(x={})),function(e){e[e.right=0]="right",e[e.left=1]="left",e[e.top=2]="top",e[e.bottom=3]="bottom"}(v||(v={})),function(e){e[e.none=0]="none",e[e.startOnly=1]="startOnly",e[e.startAndEnd=2]="startAndEnd"}(M||(M={}));const D=2,L=1,R=-1;var C,B,A,k,O,F,j,G,q,P,Y,$,Q,U,H,z;function X(e){if(!e.spatialReference.isWGS84)throw new i.s("knowledge-graph:layer-support-utils","The extentToInBoundsRings function only supports WGS84 spatial references.");return e.clone().normalize().map((e=>[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]))}async function J(e,t){const n=[],i=new Map,o=[];if(t.dataModel?.relationshipTypes)for(const r of t.dataModel.relationshipTypes)r.name&&i.set(r.name,[]);for(const r of e)i.has(r.typeName)&&i.get(r.typeName)?.push(r.id);for(const[a,u]of i){if(u.length<1)continue;const e=new s.s({openCypherQuery:`MATCH (n)-[r:${a}]->(m) WHERE id(r) in $ids RETURN id(n), labels(n)[0], id(m), labels(m)[0]`,bindParameters:{ids:u}});o.push((0,r.M)(t,e).then((async e=>{const t=e.resultRowsStream.getReader();for(;;){const{done:e,value:i}=await t.read();if(e)break;for(const t of i)n.push({id:t[0],typeName:t[1]}),n.push({id:t[2],typeName:t[3]})}})))}return await Promise.all(o),n}async function V(e,t){t??=!1;const n={generateAllSublayers:t,namedTypeDefinitions:new Map};return await K(e).then((e=>{te(e,n)})),n}async function W(e){const t=await(0,r.r)(),n=new t.MapOfObjectIdentifierSets;Z(n,t,e);const s=new t.MapOfObjectIdentifierSetsEncoder;try{s.set_map_of_identifier_sets(n),s.encode();const e=s.get_encoding_result();if(0!==e.error.error_code)throw new i.s("knowledge-graph:layer-support-utils",e.error.error_message);const t=structuredClone(e.get_byte_buffer());return s.delete(),t}finally{n.delete()}}function Z(e,t,n){for(const[i,r]of n.namedTypeDefinitions){if(!r.members||r.useAllData)continue;const n=r.members.keys();let s=!1,o=!0;const a=new t.ObjectIdArray,u=new t.StringArray,l=new t.GlobalIdArray,p=new t.IdentifierArray,d=new t.ObjectIdentifierSet;for(const e of n)o&&(s=!isNaN(Number(e)),o=!1),s?a.add_objectid(Number(e)):(u.add_string(e),l.add_globalid(e)),p.add_identifier(e);d.set_oid_array(a),d.set_string_array(u),d.set_globalid_array(l),d.set_identifier_array(p),a.delete(),u.delete(),l.delete(),p.delete(),e.put_identifier_set(i,d),d.delete()}return e}async function K(e){const t=await(0,i.U)(e,{responseType:"array-buffer"}),n=await t.data;return ee(new Uint8Array(n))}async function ee(e){const t=new((await(0,r.r)()).MapOfObjectIdentifierSetsDecoder),n=t.decode(new Uint8Array(e)),s=new Map;if(0!==n.error_code)throw new i.s("knowledge-graph:layer-support-utils",n.error_message);const o=t.get_map_of_identifier_sets(),a=o.keys,u=a.size();for(let r=0;r<u;r++){const e=a.get(r),t=o.query_identifier_set(e),n=[];if(t.id_array_type.value===z.GLOBALID_ARRAY){const e=t.get_globalid_array(),i=e.count();for(let t=0;t<i;t++)n.push(e.get_globalid_at(t))}else if(t.id_array_type.value===z.IDENTIFIER_ARRAY){const e=t.get_identifier_array(),i=e.count();for(let t=0;t<i;t++)n.push(e.get_identifier_at(t).toString())}else if(t.id_array_type.value===z.STRING_ARRAY){const e=t.get_string_array(),i=e.count();for(let t=0;t<i;t++)n.push(e.get_string_at(t))}else{if(t.id_array_type.value!==z.OID_ARRAY)throw new i.s("knowledge-graph:layer-support-utils","Tried to encode an unexpected ID Array type.");{const e=t.get_oid_array(),i=e.count();for(let t=0;t<i;t++)n.push(e.get_objectid_at(t).toString())}}s.set(e,n)}return t.delete(),s}function te(e,t){for(const[n,r]of e){const e=(0,i.bz)(t.namedTypeDefinitions,n,(()=>({useAllData:!1,members:new Map})));for(const t of r)e.members.has(t)||e.members.set(t,{id:t})}return t}(function(e){function t(){return T.getMinIdealEdgeLength()}function n(e,t,n,i,r,s=D,o=L,a=R){return N(((e,t,n,i,r,u,l)=>T.applyForceDirectedLayout(e,t,n,i,r,u,l,s,o,a)),e,t,n,i,r)}e.getMinIdealEdgeLength=t,e.apply=n})(C||(C={})),function(e){function t(e,t,n,i,r,s=D,o=L,a=R){return N(((e,t,n,i,r,u,l)=>T.applyCommunityLayout(e,t,n,i,r,u,l,s,o,a)),e,t,n,i,r)}e.apply=t}(B||(B={})),function(e){function t(e,t,n,i,r){return N(T.applySimpleLayout,e,t,n,i,r)}e.apply=t}(A||(A={})),function(e){function t(e,t,n,i,r){return N(T.applyHierarchicalLayout,e,t,n,i,r)}e.apply=t}(k||(k={})),function(e){function t(e,t,n,i,r){return N(T.applyRadialTreeLayout,e,t,n,i,r)}e.apply=t}(O||(O={})),function(e){function t(e,t,n,i,r){return N(T.applySmartTreeLayout,e,t,n,i,r)}e.apply=t}(F||(F={})),function(e){function t(e,t,n,i,r,s,o,a,u,l,p){const d={timeDirection:v.right,timeBannerUTCOffsetInMinutes:0,eventsTicksVisualization:M.startAndEnd,showDurationLineForNonZeroDurationEntityEvents:!0,durationLineWidth:5,entityPositionAtDurationRatio:1,showNonZeroDurationIntervalBounds:!1,separateTimeOverlaps:!0,separateTimelineOverlaps:!0,moveFirstBends:!0,secondBendRatio:.3,lineSeparationMultiplier:1,spaceSeparatedLinesEvenly:!1,useBezierCurves:!1,separatedLineShapeRatio:0};return N(((e,t,n,s,o,h,c)=>{if(i.length!==e||r.length!==e||a.length!==o||u.length!==o)return!1;const y=Float64Array.BYTES_PER_ELEMENT,m=16,f=T._malloc(m+e*y),g=T._malloc(m+e*y),b=T._malloc(m+o*y),_=T._malloc(m+o*y),w=f+m-f%m,I=g+m-g%m,E=b+m-b%m,x=_+m-_%m;try{T.HEAPF64.subarray(w>>3,(w>>3)+e).set(i),T.HEAPF64.subarray(I>>3,(I>>3)+e).set(r),T.HEAPF64.subarray(E>>3,(E>>3)+o).set(a),T.HEAPF64.subarray(x>>3,(x>>3)+o).set(u);const y=S(Object.assign(d,p));return T.applyChronologicalLayout(e,t,n,s,w,I,o,h,c,E,x,l,y)}finally{T._free(f),T._free(g),T._free(b),T._free(_)}}),e,t,n,s,o)}e.apply=t}(j||(j={})),function(e){e[e.Undirected=0]="Undirected",e[e.Directed=1]="Directed",e[e.Reversed=2]="Reversed"}(G||(G={})),function(e){e[e.ByCC_Raw=0]="ByCC_Raw",e[e.ByCC_NormalizeGlobally=1]="ByCC_NormalizeGlobally",e[e.ByCC_NormalizeByCC=2]="ByCC_NormalizeByCC"}(q||(q={})),function(e){e.ELEMENTUID="ELEMENTUID",e.TYPENAME="TYPENAME"}(P||(P={})),P.ELEMENTUID,P.TYPENAME,function(e){e[e.ELEMENTUID=0]="ELEMENTUID",e[e.TYPENAME=1]="TYPENAME"}(Y||(Y={})),function(e){e[e.ELEMENTUID=0]="ELEMENTUID",e[e.TYPENAME=1]="TYPENAME",e[e.FROMUID=2]="FROMUID",e[e.TOUID=3]="TOUID"}($||($={})),function(e){e[e.featureResult=0]="featureResult",e[e.countResult=1]="countResult",e[e.idsResult=2]="idsResult"}(Q||(Q={})),function(e){e[e.upperLeft=0]="upperLeft",e[e.lowerLeft=1]="lowerLeft"}(U||(U={})),function(e){e[e.sqlTypeBigInt=0]="sqlTypeBigInt",e[e.sqlTypeBinary=1]="sqlTypeBinary",e[e.sqlTypeBit=2]="sqlTypeBit",e[e.sqlTypeChar=3]="sqlTypeChar",e[e.sqlTypeDate=4]="sqlTypeDate",e[e.sqlTypeDecimal=5]="sqlTypeDecimal",e[e.sqlTypeDouble=6]="sqlTypeDouble",e[e.sqlTypeFloat=7]="sqlTypeFloat",e[e.sqlTypeGeometry=8]="sqlTypeGeometry",e[e.sqlTypeGUID=9]="sqlTypeGUID",e[e.sqlTypeInteger=10]="sqlTypeInteger",e[e.sqlTypeLongNVarchar=11]="sqlTypeLongNVarchar",e[e.sqlTypeLongVarbinary=12]="sqlTypeLongVarbinary",e[e.sqlTypeLongVarchar=13]="sqlTypeLongVarchar",e[e.sqlTypeNChar=14]="sqlTypeNChar",e[e.sqlTypeNVarChar=15]="sqlTypeNVarChar",e[e.sqlTypeOther=16]="sqlTypeOther",e[e.sqlTypeReal=17]="sqlTypeReal",e[e.sqlTypeSmallInt=18]="sqlTypeSmallInt",e[e.sqlTypeSqlXml=19]="sqlTypeSqlXml",e[e.sqlTypeTime=20]="sqlTypeTime",e[e.sqlTypeTimestamp=21]="sqlTypeTimestamp",e[e.sqlTypeTimestamp2=22]="sqlTypeTimestamp2",e[e.sqlTypeTinyInt=23]="sqlTypeTinyInt",e[e.sqlTypeVarbinary=24]="sqlTypeVarbinary",e[e.sqlTypeVarchar=25]="sqlTypeVarchar"}(H||(H={})),function(e){e[e.OID_ARRAY=0]="OID_ARRAY",e[e.GLOBALID_ARRAY=1]="GLOBALID_ARRAY",e[e.STRING_ARRAY=2]="STRING_ARRAY",e[e.IDENTIFIER_ARRAY=3]="IDENTIFIER_ARRAY"}(z||(z={}));let ne=class extends i.e9{constructor(e){super(e),this._processingCacheUpdatesLookup=new Map,this.knowledgeGraph=null,this.inclusionModeDefinition={generateAllSublayers:!0,namedTypeDefinitions:new Map},this.entityTypeNames=new Set,this.relationshipTypeNames=new Set,this.geographicLookup=new Map,this.sublayerCaches=new Map,this.nodeConnectionsLookup=new Map,this.relationshipConnectionsLookup=new Map,this.memberIdTypeLookup=new Map;const t=new Map;e.knowledgeGraph.dataModel.entityTypes?.forEach((n=>{n.name&&(t.set(n.name,"entity"),this._processingCacheUpdatesLookup.set(n.name,[]),e.inclusionModeDefinition&&!e.inclusionModeDefinition?.generateAllSublayers||this.entityTypeNames.add(n.name),n.properties?.forEach((e=>{e.geometryType&&"esriGeometryNull"!==e.geometryType&&this.geographicLookup.set(n.name,{name:e.name??"",geometryType:e.geometryType})})))})),e.knowledgeGraph.dataModel.relationshipTypes?.forEach((n=>{n.name&&(t.set(n.name,"relationship"),this._processingCacheUpdatesLookup.set(n.name,[]),e.inclusionModeDefinition&&!e.inclusionModeDefinition?.generateAllSublayers||this.relationshipTypeNames.add(n.name),n.properties?.forEach((e=>{e.geometryType&&"esriGeometryNull"!==e.geometryType&&this.geographicLookup.set(n.name,{name:e.name??"",geometryType:e.geometryType})})))})),e.inclusionModeDefinition?.namedTypeDefinitions.forEach(((n,r)=>{if("entity"===t.get(r))this.entityTypeNames.add(r);else{if("relationship"!==t.get(r))return i.G.getLogger(this).warn(`A named type, ${r}, was in the inclusion list that wasn't in the data model and will be removed`),void e.inclusionModeDefinition?.namedTypeDefinitions.delete(r);this.relationshipTypeNames.add(r)}const s=new Map;n.members?.forEach((e=>{(0,i.bz)(this.memberIdTypeLookup,e.id,(()=>new Set)).add(r);const t=this.getById(e.id);t&&s.set(e.id,t)})),this.sublayerCaches.set(r,s)}))}addToLayer(e){e.forEach((({typeName:e,id:t})=>{if(!this.inclusionModeDefinition)throw new i.s("knowledge-graph:layer-data-manager","You cannot add to a layer's exclusion list if it was not created with an exclusion list originally");if(this.inclusionModeDefinition.namedTypeDefinitions.has(e)){if(this.inclusionModeDefinition.namedTypeDefinitions.has(e)){const n=this.inclusionModeDefinition.namedTypeDefinitions.get(e);n.members||(n.members=new Map),n.members.set(t,{id:t}),(0,i.bz)(this.memberIdTypeLookup,t,(()=>new Set)).add(e)}}else{const n=new Map;n.set(t,{id:t}),this.inclusionModeDefinition.namedTypeDefinitions.set(e,{useAllData:!1,members:n}),(0,i.bz)(this.memberIdTypeLookup,t,(()=>new Set)).add(e)}}))}getById(e){return _.getInstance().readFromStoreById(e)}async getData(e,t,n){if(t.objectType.name&&this.inclusionModeDefinition?.namedTypeDefinitions&&this.inclusionModeDefinition.namedTypeDefinitions.size>0&&!this.inclusionModeDefinition.namedTypeDefinitions.has(t.objectType.name))return[];let r;if(r=e||new i.fv({where:"1=1",outFields:["*"]}),"link-chart"===t.parentCompositeLayer.type){const e=t.parentCompositeLayer,n=this._processingCacheUpdatesLookup.get(t.objectType.name??""),i=r.outFields;i&&1===i.length&&i[0]===l&&"1=1"===r.where||await Promise.all(n??[]);const s=this.sublayerCaches.has(t.objectType.name??"")?Array.from(this.sublayerCaches.get(t.objectType.name)?.values()):[],o=[];return s.forEach((n=>{if(this.relationshipTypeNames.has(t.objectType.name)){n.geometry=e.relationshipLinkChartDiagramLookup.get(n.attributes[t.objectIdField]);const i=this.memberIdTypeLookup.get(n.attributes[p]),r=this.memberIdTypeLookup.get(n.attributes[d]),s=this._isEndEntitySpatial(i,n,p),o=this._isEndEntitySpatial(r,n,d);n.attributes[y]=Number(s&&o)}else{n.geometry=e.entityLinkChartDiagramLookup.get(n.attributes[t.objectIdField]);const i=this.geographicLookup.get(t.objectType.name);i&&n.attributes[i.name]?n.attributes[y]=1:n.attributes[y]=0}n.attributes[h]=n.geometry,o.push(n)})),o}return this.retrieveDataFromService(r,t,n)}async getConnectedRecordIds(e,t){const n=[];let o="";const a=[],u=new Map;if(e.forEach((e=>{if(this.memberIdTypeLookup.has(e))for(const t of this.memberIdTypeLookup.get(e)){if(!this.entityTypeNames.has(t))return;u.has(t)?u.get(t)?.push(e):u.set(t,[e])}})),t&&0!==t?.length){for(const e of t)o=o+e+"|";o=o.slice(0,-1)}const l={};let p="",d=-1;for(const[i,r]of u){d++,0!==d&&(p+=" UNION ");const e=`${i}_ids`;l[e]=r,p+=t&&0!==t?.length?`MATCH (n:${i}) WHERE id(n) IN $${e} WITH n MATCH (n)-[r:${o}]-(m) RETURN id(r), type(r), id(m), labels(m)[0]`:`MATCH (n:${i}) WHERE id(n) IN $${e} WITH n MATCH (n)-[r]-(m) RETURN id(r), type(r), id(m), labels(m)[0]`}if(!p)return n;const h=new Promise((e=>{(async()=>{const e=(await(0,r.M)(this.knowledgeGraph,new s.s({openCypherQuery:p,bindParameters:l}))).resultRowsStream.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;for(let e=0;e<i.length;e++){const t=i[e];n.push({id:t[0],typeName:t[1]}),n.push({id:t[2],typeName:t[3]})}}}catch(t){if("AbortError"!==t.name)throw t;i.G.getLogger(this).info("Request aborted as expected")}})().then((()=>{e()}))}));return a.push(h),this.refreshCacheContent(),await Promise.all(a),n}async getRelationshipsBetweenNodes(e,t){const n=[],o="MATCH (n)-[r]->(m) WHERE id(n) IN $nodeIds AND id(m) in $nodeIds AND NOT id(r) IN $relationshipExclusionIds return id(r), type(r)",a=(await(0,r.M)(this.knowledgeGraph,new s.s({openCypherQuery:o,bindParameters:{nodeIds:e,relationshipExclusionIds:t}}))).resultRowsStream.getReader();try{for(;;){const{done:e,value:t}=await a.read();if(e)break;for(let i=0;i<t.length;i++){const e=t[i];n.push({id:e[0],typeName:e[1]})}}}catch(u){if("AbortError"!==u.name)throw u;i.G.getLogger(this).info("Request aborted as expected")}return n}async getRelationshipsFromNodes(e,t,n){const o=[],a="MATCH (n)-[r]-(m) WHERE id(n) IN $targetEntityIds AND id(m) in $possibleConnectionEntityIds AND NOT id(r) IN $relationshipExclusionIds return id(r), type(r)",u=(await(0,r.M)(this.knowledgeGraph,new s.s({openCypherQuery:a,bindParameters:{targetEntityIds:e,possibleConnectionEntityIds:t,relationshipExclusionIds:n}}))).resultRowsStream.getReader();try{for(;;){const{done:e,value:t}=await u.read();if(e)break;for(let n=0;n<t.length;n++){const e=t[n];o.push({id:e[0],typeName:e[1]})}}}catch(l){if("AbortError"!==l.name)throw l;i.G.getLogger(this).info("Request aborted as expected")}return o}async refreshCacheContent(e,t,n,o=!0){const a=_.getInstance(),u=[],p=new Map,d=new Map;this.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&d.set(e.name,e)})),this.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&d.set(e.name,e)})),e||this.inclusionModeDefinition?e?e.forEach((e=>{if(this.memberIdTypeLookup.has(e))for(const t of this.memberIdTypeLookup.get(e))p.has(t)?p.get(t)?.push(e):p.set(t,[e])})):this.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{e.useAllData?p.set(t,null):e.members&&e.members.forEach((e=>{p.has(t)&&null!==p.get(t)?p.get(t)?.push(e.id):p.set(t,[e.id])}))})):(this.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&p.set(e.name,null)})),this.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&p.set(e.name,null)})));for(const[h,c]of p){const e=new Promise((e=>{(async()=>{const e=new Set,u=[];let p,y="",m=!1;if(t||d.get(h)?.properties?.forEach((t=>{t.name&&e.add(t.name)})),n&&this.geographicLookup.has(h)){const t=this.geographicLookup.get(h)?.name;t&&e.add(t)}if(this.entityTypeNames.has(h))y=`MATCH (n:${h}) ${c?"WHERE id(n) IN $ids ":""}return ID(n)`,e.forEach((e=>{y+=`, n.${e}`,u.push(e)}));else{if(!this.relationshipTypeNames.has(h))throw new i.s("knowledge-graph:layer-data-manager",`The graph type of ${h} could not be determined. Was this type set in the KG data model and inclusion definition?`);m=!0,y=`MATCH ()-[n:${h}]->() ${c?"WHERE id(n) IN $ids ":""}return ID(n), id(startNode(n)), id(endNode(n))`,e.forEach((e=>{y+=`, n.${e}`,u.push(e)}))}p=new s.s(c?{openCypherQuery:y,bindParameters:{ids:c}}:{openCypherQuery:y});const f=(await(0,r.M)(this.knowledgeGraph,p)).resultRowsStream.getReader();for(;;){const{done:e,value:t}=await f.read();if(e)break;const n=[];for(let o=0;o<t.length;o++){const e=t[o];let r=0,s=0;const a={properties:{}};for(a.id=e[r],r++,s++,m&&(a.originId=e[r],r++,s++,a.destinationId=e[r],r++,s++,(0,i.bz)(this.nodeConnectionsLookup,a.originId,(()=>new Set)).add(a.id),(0,i.bz)(this.nodeConnectionsLookup,a.destinationId,(()=>new Set)).add(a.id),(0,i.bz)(this.relationshipConnectionsLookup,a.id,(()=>[a.originId,a.destinationId])));r<e.length;r++)a.properties[u[r-s]]=e[r];n.push(a)}const r=a.writeToStore(n,l,this.geographicLookup.get(h)?.name);this.sublayerCaches.has(h)||this.sublayerCaches.set(h,new Map),o&&!this.inclusionModeDefinition?.namedTypeDefinitions.has(h)&&this.inclusionModeDefinition?.namedTypeDefinitions.set(h,{useAllData:!1,members:new Map}),o&&!this.inclusionModeDefinition?.namedTypeDefinitions.get(h).members&&(this.inclusionModeDefinition.namedTypeDefinitions.get(h).members=new Map);const s=this.sublayerCaches.get(h);r.forEach((e=>{s?.set(e.attributes[l],e),o&&!this.inclusionModeDefinition?.namedTypeDefinitions.get(h).members.has(e.attributes[l])&&(this.inclusionModeDefinition?.namedTypeDefinitions.get(h).members.set(e.attributes[l],{id:e.attributes[l]}),(0,i.bz)(this.memberIdTypeLookup,e.attributes[l],(()=>new Set)).add(h))}))}})().then((()=>{e(null)}))}));u.push(e),this._processingCacheUpdatesLookup.get(h)?.push(e)}await Promise.all(u)}removeFromLayer(e){const t=new Set,n=new Set(e.map((e=>e.id)));for(const i of e)t.add(i.typeName),1===this.memberIdTypeLookup.get(i.id)?.size?this.memberIdTypeLookup.delete(i.id):this.memberIdTypeLookup.get(i.id)?.delete(i.typeName),this.inclusionModeDefinition?.namedTypeDefinitions.forEach(((e,t)=>{t===i.typeName&&e.members?.has(i.id)&&e.members.delete(i.id)}));t.forEach((e=>{this.sublayerCaches.get(e)?.forEach(((t,i)=>{n.has(i)&&this.sublayerCaches.get(e)?.delete(i)}))}))}async retrieveDataFromService(e,t,n){const o=_.getInstance(),a=new Set,u=[];let p,d="",h=[];const c="relationship"===t.graphType,y=this.inclusionModeDefinition?.namedTypeDefinitions?.get(t.objectType.name)?.useAllData,m=t.parentCompositeLayer.sublayerIdsCache.get(t.objectType.name);let f=!y&&m?Array.from(m).sort():null;if(this.inclusionModeDefinition?.namedTypeDefinitions?.get(t.objectType.name)?.useAllData)this.inclusionModeDefinition?.namedTypeDefinitions?.get(t.objectType.name)?.useAllData&&null!=e.objectIds&&(f=e.objectIds);else if(null!=e.objectIds&&f&&f.length>0){const t=e.objectIds;e.objectIds=f.filter((e=>t.includes(e)))}else if(null!=e.objectIds)f=e.objectIds;else{if(this.inclusionModeDefinition?.namedTypeDefinitions.has(t.objectType.name)&&(!this.inclusionModeDefinition.namedTypeDefinitions.get(t.objectType.name)?.members||this.inclusionModeDefinition.namedTypeDefinitions.get(t.objectType.name)?.members?.size<1))return e.objectIds=[],[];e.objectIds=f}if(null!=e.outFields){const n=e.outFields;n.includes("*")?t.fields.forEach((e=>{a.add(e.name)})):n.forEach((e=>{e!==l&&e!==t.geometryFieldName&&a.add(e)}))}if(null!=e.geometry){const n=e.geometry;let r;const o=t.parentCompositeLayer.dataManager.knowledgeGraph.serviceDefinition,l=o?.spatialReference,h=o?.serviceCapabilities?.geometryCapabilities;let y=h?.geometryMaxBoundingRectangleSizeX,m=h?.geometryMaxBoundingRectangleSizeY;if("point"===n.type){let e=n;e.spatialReference?.isWGS84||(await(0,i.dM)(e.spatialReference,i.da),e=(0,i.cl)(e,i.da)),r=new i.bn({spatialReference:i.da,xmin:e.x-1e-4,ymin:e.y-1e-4,xmax:e.x+1e-4,ymax:e.y+1e-4})}else n?.extent?.spatialReference&&!n.spatialReference?.isWGS84?(await(0,i.dM)(n.extent.spatialReference,i.da),r=(0,i.cl)(n.extent,i.da)):r=n.extent;if(y&&m&&l){if(4326!==l.wkid){const e=new i.bn({spatialReference:l,xmax:y,ymax:m}),t=(0,i.cl)(e,i.da);y=t.xmax,m=t.ymax}if(r.xmax-r.xmin>y)throw new i.s("knowledge-graph:layer-data-manager",`Extent x bounds should be within ${y}° latitude, limit exceeded`);if(r.ymax-r.ymin>m)throw new i.s("knowledge-graph:layer-data-manager",`Extent y bounds should be within ${m}° longitude, limit exceeded`)}if(null!=e.where&&"1=1"!==e.where){const n=await(0,i.nI)(e.where.toUpperCase(),t.fieldsIndex);t.fields.forEach((e=>{n.fieldNames.includes(e.name)&&a.add(e.name)}))}d=c?`Match ()-[n:${t.objectType.name}]->() WHERE esri.graph.ST_Intersects($param_filter_geom, n.${t.geometryFieldName}) return ID(n), id(startNode(r)), id(endNode(r))`:`Match (n:${t.objectType.name}) WHERE esri.graph.ST_Intersects($param_filter_geom, n.${t.geometryFieldName}) return ID(n)`,t.geometryFieldName&&a.add(t.geometryFieldName),a.forEach((e=>{d+=`, n.${e}`,u.push(e)})),p=new s.s({openCypherQuery:d,bindParameters:{param_filter_geom:new i.a$({rings:X(r)})}})}else{let n="";if(null!=e.where&&"1=1"!==e.where){const r=await(0,i.nI)(e.where,t.fieldsIndex);t.fields.forEach((e=>{r.fieldNames.includes(e.name)&&a.add(e.name)}));const s=new Set(["column-reference","string","number","binary-expression"]),o=new Set(["=","<","<=","<>",">",">=","AND","OR","LIKE"]);let u=!1;const l=e=>{if("column-reference"===e.type)return`n.${e.column}`;if("string"===e.type)return`'${e.value}'`;if("number"===e.type)return`${e.value}`;if("binary-expression"===e.type&&s.has(e.left.type)&&s.has(e.right.type)&&o.has(e.operator))return`${l(e.left)} ${e.operator} ${l(e.right)}`;if("binary-expression"===e.type&&"LIKE"===e.operator){let t="";if("function"===e.left.type&&"column-reference"===e.left.args.value[0].type)t+=`lower(n.${e.left.args.value[0].column})`;else{if("column-reference"!==e.left.type)return u=!0,"";t+=`lower(n.${e.left.column})`}if(t+=" CONTAINS (","string"!==e.right.type)return u=!0,"";{let n=e.right.value;"%"===n.charAt(0)&&(n=n.slice(1)),"%"===n.charAt(n.length-1)&&(n=n.slice(0,-1)),t+=`'${n.toLowerCase()}')`}return t}return u=!0,""};n=l(r.parseTree),u&&(n="")}let r="";r=c?`Match ()-[n:${t.objectType.name}]->()`:`Match (n:${t.objectType.name})`;let o=!1;f&&(o=!0,r+=" WHERE ID(n) IN $ids"),n&&(r+=o?" AND":" WHERE",r+=` ${n}`),r+=" return ID(n)",c&&(r+=", id(startNode(n)), id(endNode(n))"),e.returnGeometry&&t.geometryFieldName&&a.add(t.geometryFieldName),a.forEach((e=>{r+=`, n.${e}`,u.push(e)})),p=new s.s(f?{openCypherQuery:r,bindParameters:{ids:f}}:{openCypherQuery:r})}const g=(await(0,r.M)(t.parentCompositeLayer.dataManager.knowledgeGraph,p,n)).resultRowsStream.getReader();for(;;){const{done:e,value:n}=await g.read();if(e)break;const i=[];for(let t=0;t<n.length;t++){const e=n[t];let r=0,s=0;const o={properties:{}};for(o.id=e[r],r++,s++,c&&(o.originId=e[r],r++,s++,o.destinationId=e[r],r++,s++);r<e.length;r++)o.properties[u[r-s]]=e[r];i.push(o)}h=h.concat(o.writeToStore(i,l,t.parentCompositeLayer.dataManager.geographicLookup.get(t.objectType.name)?.name))}return h}_isEndEntitySpatial(e,t,n){for(const i of e??[])if(this.entityTypeNames.has(i)){const e=this.geographicLookup.get(i),r=e&&this.sublayerCaches.get(i)?.get(t.attributes[n]);if(e&&r?.attributes[e.name])return!0}return!1}};(0,i.bt)([(0,i.bu)()],ne.prototype,"knowledgeGraph",void 0),(0,i.bt)([(0,i.bu)()],ne.prototype,"inclusionModeDefinition",void 0),(0,i.bt)([(0,i.bu)()],ne.prototype,"entityTypeNames",void 0),(0,i.bt)([(0,i.bu)()],ne.prototype,"relationshipTypeNames",void 0),(0,i.bt)([(0,i.bu)()],ne.prototype,"geographicLookup",void 0),(0,i.bt)([(0,i.bu)()],ne.prototype,"sublayerCaches",void 0),(0,i.bt)([(0,i.bu)()],ne.prototype,"nodeConnectionsLookup",void 0),(0,i.bt)([(0,i.bu)()],ne.prototype,"relationshipConnectionsLookup",void 0),(0,i.bt)([(0,i.bu)()],ne.prototype,"memberIdTypeLookup",void 0),ne=(0,i.bt)([(0,i.bv)("esri.layers.knowledgeGraph.KnowledgeGraphLayerDataManager")],ne);const ie=(0,i.hy)(),re=e=>{let t=class extends e{constructor(){super(...arguments),this.fields=[],this.fieldsIndex=null}};return(0,i.bt)([(0,i.bu)(ie.fields)],t.prototype,"fields",void 0),(0,i.bt)([(0,i.bu)(ie.fieldsIndex)],t.prototype,"fieldsIndex",void 0),t=(0,i.bt)([(0,i.bv)("esri.layers.knowledgeGraph.KnowledgeGraphSublayerBase")],t),t};function se(e){if(!e.json)return e;e.json.write=oe(e.json.write);const t=e.json.origins;if(!t)return e;let n;for(n in t){const e=t[n];e&&(e.write=oe(e.write))}return e}function oe(e){return"object"==typeof e&&e?(!1!==e.enabled&&(e.overridePolicy=ae(e)),e):!0===e?ue():e}function ae(e){const{target:t,writer:n,overridePolicy:i,...r}=e;return function(e,t){const n=le.call(this,e,t);return n.enabled?{...r,...n}:n}}function ue(){return{overridePolicy:le}}function le(e,t){const n=!!this.geometryType;let i={enabled:n};return n&&(i={...i,...pe.call(this,e,t)}),i}function pe(e,t){return{ignoreOrigin:this.originIdOf(t)>i.eM.DEFAULTS}}let de=class extends(re((0,i.hh)((0,i.hi)((0,i.ea)((0,i.hg)((0,i.hj)((0,i.ee)((0,i.eb)((0,i.ef)(i.ep)))))))))){constructor(e){super(e),this.blendMode="normal",this.capabilities=(0,u.y)(!1,!1),this.charts=null,this.definitionExpression=null,this.displayField="",this.effect=null,this.elevationInfo=null,this.featureEffect=null,this.graphType=null,this.labelsVisible=!0,this.labelingInfo=null,this.layerType=null,this.legendEnabled=!0,this.maxScale=0,this.minScale=0,this.objectIdField=l,this.objectType=null,this.opacity=1,this.orderBy=null,this.parent=null,this.parentCompositeLayer=null,this.persistenceEnabled=!0,this.popupEnabled=!0,this.popupTemplate=null,this.refreshInterval=0,this.source={openPorts:()=>this.load().then((()=>{const e=new MessageChannel;return new i.nJ(e.port1,{channel:e,client:{queryFeatures:(e,t={})=>{const n=i.fv.fromJSON(e);return this.queryFeaturesJSON(n,t)}}}),[e.port2]}))},this.type="knowledge-graph-sublayer",this.useViewTime=!0,this.visible=!0}get defaultPopupTemplate(){return this.createPopupTemplate()}set featureReduction(e){const t=this._normalizeFeatureReduction(e);this._set("featureReduction",t)}get fields(){const e=[];return this.objectType?.properties?.forEach((t=>{const n="esriFieldTypeOID"===t.fieldType?"esriFieldTypeInteger":t.fieldType;e.push(i.bl.fromJSON({name:t.name,type:n,alias:t.alias,defaultValue:t.defaultValue,editable:t.editable,nullable:t.nullable}))})),e.push(i.bl.fromJSON({name:this.objectIdField,type:"esriFieldTypeString",alias:this.objectIdField,editable:!1}),i.bl.fromJSON({name:c,type:"esriFieldTypeInteger",alias:c,editable:!1}),i.bl.fromJSON({name:y,type:"esriFieldTypeInteger",alias:y,editable:!1})),e}get geometryType(){if("link-chart"===this.parentCompositeLayer?.type)return"relationship"===this.graphType?"polyline":"point";const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.geometryType;return t&&"esriGeometryNull"!==t?i.dN.fromJSON(t):null}get geometryFieldName(){return"link-chart"===this.parentCompositeLayer?.type?h:this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name)?.name??null}get graphTypeName(){return this.objectType?.name}get hasM(){const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.name;return(t?this.objectType?.properties?.[t]:null)?.hasM??!1}get hasZ(){const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.name;return(t?this.objectType?.properties?.[t]:null)?.hasZ??!1}set renderer(e){(0,i.hk)(e,this.fieldsIndex),this._set("renderer",e)}get renderer(){return this._isOverridden("renderer")?this._get("renderer"):"link-chart"===this.parentCompositeLayer?.type?"relationship"===this.graphType?(0,i.cf)((0,u.u)(i.dN.toJSON("polyline")).renderer):(0,i.cf)((0,u.u)(i.dN.toJSON("point")).renderer):(0,i.cf)((0,u.u)(i.dN.toJSON(this.geometryType)).renderer)}get spatialReference(){return this.parentCompositeLayer?.dataManager?.knowledgeGraph?.dataModel?.spatialReference??i.aY.WGS84}set timeInfo(e){this._set("timeInfo",e)}get title(){return this._isOverridden("title")?this._get("title"):this.graphTypeName}set title(e){this._set("title",e)}writeTitle(e,t){t.title=e??"Layer"}createPopupTemplate(e){return(0,i.hm)(this,e)}createQuery(){return new i.fv({where:"1=1",outFields:["*"]})}getField(e){for(let t=0;t<this.fields.length;t++)if(this.fields[t].name===e)return this.fields[t];return null}getFieldDomain(e,t){return null}async queryFeatures(e,t){const{resolvedQuery:n,queryEngine:r}=await this._setupQueryObjects(e),s=i.bx.fromJSON(await r.executeQuery(n.toJSON(),t?.signal));return s.features.forEach((e=>{e.sourceLayer=this})),s}async queryFeaturesJSON(e,t){const{resolvedQuery:n,queryEngine:i}=await this._setupQueryObjects(e);return await i.executeQuery(n.toJSON(),t?.signal)}async queryFeatureCount(e,t){const{resolvedQuery:n,queryEngine:i}=await this._setupQueryObjects(e);return i.executeQueryForCount(n.toJSON(),t?.signal)}async queryExtent(e={},t){const n={...e,returnGeometry:!0},{resolvedQuery:r,queryEngine:s}=await this._setupQueryObjects(n),o=await s.executeQueryForExtent(r.toJSON(),t?.signal);let a;return a=null!=o.extent?.xmin&&null!=o.extent?.xmax&&null!=o.extent?.ymin&&null!=o.extent?.ymax?new i.bn(o.extent):new i.bn,{count:o.count,extent:a}}async queryObjectIds(e,t){const n=i.fv.from(e);let r;if("link-chart"===this.parentCompositeLayer.type&&this._cachedQueryEngine)r=this._cachedQueryEngine;else{const e=await this.parentCompositeLayer.dataManager.getData(n,this,t);r=this.loadQueryEngine(e)}return r.executeQueryForIds(n.toJSON(),t?.signal)}loadQueryEngine(e){const t=new o.m({geometryType:i.dN.toJSON(this.geometryType),hasM:this.hasM,hasZ:this.hasZ}),n=new a.V({fieldsIndex:this.fieldsIndex.toJSON(),geometryType:i.dN.toJSON(this.geometryType),hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:this.spatialReference.toJSON(),timeInfo:this.timeInfo?.toJSON(),featureStore:t});return n.featureStore.addMany(e),n}async refreshCachedQueryEngine(){const e=await this.parentCompositeLayer.dataManager.getData(new i.fv({where:"1=1",outFields:[l]}),this);this._cachedQueryEngine=this.loadQueryEngine(e)}load(e){return this.addResolvingPromise(this.parent.load(e).then((()=>{(0,i.hl)(this.timeInfo,this.fieldsIndex)}))),Promise.resolve(this)}async _setupQueryObjects(e,t){const n=i.fv.from(e),r=n.geometry;let s;if(r&&!r.spatialReference?.isWGS84&&(await(0,i.dM)(r.spatialReference,i.da),n.geometry=(0,i.cl)(r instanceof i.a$||r instanceof i.a_||r instanceof i.D?r:r.extent,i.da)),"link-chart"===this.parentCompositeLayer.type&&this._cachedQueryEngine)s=this._cachedQueryEngine;else{const e=await this.parentCompositeLayer.dataManager.getData(n,this,t);s=this.loadQueryEngine(e)}return{resolvedQuery:n,queryEngine:s}}};(0,i.bt)([(0,i.bu)(se((0,i.T)(i.nK)))],de.prototype,"blendMode",void 0),(0,i.bt)([(0,i.bu)()],de.prototype,"capabilities",void 0),(0,i.bt)([(0,i.bu)({json:{origins:{"web-scene":{write:!1}},write:ue()}})],de.prototype,"charts",void 0),(0,i.bt)([(0,i.bu)({readOnly:!0})],de.prototype,"defaultPopupTemplate",null),(0,i.bt)([(0,i.bu)({type:String,json:{origins:{service:{read:!1}},name:"layerDefinition.definitionExpression",write:{ignoreOrigin:!0}}})],de.prototype,"definitionExpression",void 0),(0,i.bt)([(0,i.bu)()],de.prototype,"displayField",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.nL)))],de.prototype,"effect",void 0),(0,i.bt)([(0,i.bu)()],de.prototype,"elevationInfo",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.nM)))],de.prototype,"featureEffect",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.nN)))],de.prototype,"featureReduction",null),(0,i.bt)([(0,i.bu)()],de.prototype,"fields",null),(0,i.bt)([(0,i.bu)()],de.prototype,"geometryType",null),(0,i.bt)([(0,i.bu)()],de.prototype,"geometryFieldName",null),(0,i.bt)([(0,i.bu)({type:["entity","relationship"],nonNullable:!0,json:{write:{isRequired:!0,ignoreOrigin:!0}}})],de.prototype,"graphType",void 0),(0,i.bt)([(0,i.bu)({type:String,nonNullable:!0,json:{write:{isRequired:!0,ignoreOrigin:!0}}})],de.prototype,"graphTypeName",null),(0,i.bt)([(0,i.bu)()],de.prototype,"hasM",null),(0,i.bt)([(0,i.bu)()],de.prototype,"hasZ",null),(0,i.bt)([(0,i.bu)({type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}},write:{ignoreOrigin:!0}}})],de.prototype,"id",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.hp)))],de.prototype,"labelsVisible",void 0),(0,i.bt)([(0,i.bu)({type:[i.hq],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:i.hr,write:ue()}})],de.prototype,"labelingInfo",void 0),(0,i.bt)([(0,i.bu)({readOnly:!0,json:{read:!1,write:{writer(e,t){switch(this.parentCompositeLayer.type){case"link-chart":t.layerType="LinkChartSubLayer";break;case"knowledge-graph":t.layerType=this.geometryType?"KnowledgeGraphSubLayer":"KnowledgeGraphSubTable"}},isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],de.prototype,"layerType",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.ei)))],de.prototype,"legendEnabled",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.hP)))],de.prototype,"maxScale",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.hQ)))],de.prototype,"minScale",void 0),(0,i.bt)([(0,i.bu)()],de.prototype,"objectIdField",void 0),(0,i.bt)([(0,i.bu)()],de.prototype,"objectType",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.hs)))],de.prototype,"opacity",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.nO)))],de.prototype,"orderBy",void 0),(0,i.bt)([(0,i.bu)({clonable:!1})],de.prototype,"parent",void 0),(0,i.bt)([(0,i.bu)()],de.prototype,"parentCompositeLayer",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.ht)))],de.prototype,"popupEnabled",void 0),(0,i.bt)([(0,i.bu)({type:i.ce,json:{name:"popupInfo",write:{ignoreOrigin:!0}}})],de.prototype,"popupTemplate",void 0),(0,i.bt)([(0,i.bu)({type:Number,json:{write:{overridePolicy:pe}}})],de.prototype,"refreshInterval",void 0),(0,i.bt)([(0,i.bu)({types:i.hu,json:{name:"layerDefinition.drawingInfo.renderer",write:ue()}})],de.prototype,"renderer",null),(0,i.bt)([(0,i.bu)()],de.prototype,"source",void 0),(0,i.bt)([(0,i.bu)()],de.prototype,"spatialReference",null),(0,i.bt)([(0,i.bu)({type:i.jH,json:{name:"layerDefinition.timeInfo",write:!0,origins:{"web-document":{name:"layerDefinition.timeInfo",read:!0,write:!0},"portal-item":{name:"layerDefinition.timeInfo",read:!0,write:!0}}}})],de.prototype,"timeInfo",null),(0,i.bt)([(0,i.bu)({type:String,json:{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],de.prototype,"title",null),(0,i.bt)([(0,i.eO)("title")],de.prototype,"writeTitle",null),(0,i.bt)([(0,i.bu)({json:{read:!1}})],de.prototype,"type",void 0),(0,i.bt)([(0,i.bu)(se((0,i.T)(i.n5)))],de.prototype,"useViewTime",void 0),(0,i.bt)([(0,i.bu)({type:Boolean,json:{name:"visibility",write:ue()}})],de.prototype,"visible",void 0),de=(0,i.bt)([(0,i.bv)("esri.layers.knowledgeGraph.KnowledgeGraphSublayer")],de);const he=de},46993:function(e,t,n){n.d(t,{E:function(){return x},h:function(){return r}});var i=n(44444);class r{constructor(e=9,t){this._compareMinX=d,this._compareMinY=h,this._toBBox=e=>e,this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this._toBBox=t:this._initFormat(t)),this.clear()}destroy(){this.clear(),T.prune(),w.prune(),I.prune(),E.prune()}all(e){o(this._data,e)}search(e,t){let n=this._data;const i=this._toBBox;if(b(e,n))for(T.clear();n;){for(let r=0,s=n.children.length;r<s;r++){const s=n.children[r],a=n.leaf?i(s):s;b(e,a)&&(n.leaf?t(s):g(e,a)?o(s,t):T.push(s))}n=T.pop()}}collides(e){let t=this._data;const n=this._toBBox;if(!b(e,t))return!1;for(T.clear();t;){for(let i=0,r=t.children.length;i<r;i++){const r=t.children[i],s=t.leaf?n(r):r;if(b(e,s)){if(t.leaf||g(e,s))return!0;T.push(r)}}t=T.pop()}return!1}load(e){if(!e.length)return this;if(e.length<this._minEntries){for(let t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this._data.children.length)if(this._data.height===t.height)this._splitRoot(this._data,t);else{if(this._data.height<t.height){const e=this._data;this._data=t,t=e}this._insert(t,this._data.height-t.height-1,!0)}else this._data=t;return this}insert(e){return e&&this._insert(e,this._data.height-1),this}clear(){return this._data=new M([]),this}remove(e){if(!e)return this;let t,n=this._data,r=null,s=0,o=!1;const a=this._toBBox(e);for(I.clear(),E.clear();n||I.length>0;){if(n||(n=I.pop(),r=I.data[I.length-1],s=E.pop()??0,o=!0),n.leaf&&(t=(0,i.cN)(n.children,e,n.children.length,n.indexHint),-1!==t))return n.children.splice(t,1),I.push(n),this._condense(I),this;o||n.leaf||!g(n,a)?r?(s++,n=r.children[s],o=!1):n=null:(I.push(n),E.push(s),s=0,r=n,n=n.children[0])}return this}toJSON(){return this._data}fromJSON(e){return this._data=e,this}_build(e,t,n,i){const r=n-t+1;let s=this._maxEntries;if(r<=s){const i=new M(e.slice(t,n+1));return u(i,this._toBBox),i}i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/s**(i-1)));const o=new S([]);o.height=i;const a=Math.ceil(r/s),l=a*Math.ceil(Math.sqrt(s));_(e,t,n,l,this._compareMinX);for(let u=t;u<=n;u+=l){const t=Math.min(u+l-1,n);_(e,u,t,a,this._compareMinY);for(let n=u;n<=t;n+=a){const r=Math.min(n+a-1,t);o.children.push(this._build(e,n,r,i-1))}}return u(o,this._toBBox),o}_insert(e,t,n){const i=this._toBBox,r=n?e:i(e);I.clear();const o=s(r,this._data,t,I);for(o.children.push(e),p(o,r);t>=0&&I.data[t].children.length>this._maxEntries;)this._split(I,t),t--;a(r,I,t)}_split(e,t){const n=e.data[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);const s=this._chooseSplitIndex(n,r,i);if(!s)return;const o=n.children.splice(s,n.children.length-s),a=n.leaf?new M(o):new S(o);a.height=n.height,u(n,this._toBBox),u(a,this._toBBox),t?e.data[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this._data=new S([e,t]),this._data.height=e.height+1,u(this._data,this._toBBox)}_chooseSplitIndex(e,t,n){let i,r,s;i=r=1/0;for(let o=t;o<=n-t;o++){const t=l(e,0,o,this._toBBox),a=l(e,o,n,this._toBBox),u=f(t,a),p=c(t)+c(a);u<i?(i=u,s=o,r=p<r?p:r):u===i&&p<r&&(r=p,s=o)}return s}_chooseSplitAxis(e,t,n){const i=e.leaf?this._compareMinX:d,r=e.leaf?this._compareMinY:h;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)}_allDistMargin(e,t,n,i){e.children.sort(i);const r=this._toBBox,s=l(e,0,t,r),o=l(e,n-t,n,r);let a=y(s)+y(o);for(let u=t;u<n-t;u++){const t=e.children[u];p(s,e.leaf?r(t):t),a+=y(s)}for(let u=n-t-1;u>=t;u--){const t=e.children[u];p(o,e.leaf?r(t):t),a+=y(o)}return a}_condense(e){for(let t=e.length-1;t>=0;t--){const n=e.data[t];if(0===n.children.length)if(t>0){const r=e.data[t-1],s=r.children;s.splice((0,i.cN)(s,n,s.length,r.indexHint),1)}else this.clear();else u(n,this._toBBox)}}_initFormat(e){const t=["return a"," - b",";"];this._compareMinX=new Function("a","b",t.join(e[0])),this._compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}function s(e,t,n,i){for(;i.push(t),!0!==t.leaf&&i.length-1!==n;){let n,i=1/0,r=1/0;for(let s=0,o=t.children.length;s<o;s++){const o=t.children[s],a=c(o),u=m(e,o)-a;u<r?(r=u,i=a<i?a:i,n=o):u===r&&a<i&&(i=a,n=o)}t=n||t.children[0]}return t}function o(e,t){let n=e;for(w.clear();n;){if(!0===n.leaf)for(const e of n.children)t(e);else w.pushArray(n.children);n=w.pop()??null}}function a(e,t,n){for(let i=n;i>=0;i--)p(t.data[i],e)}function u(e,t){l(e,0,e.children.length,t,e)}function l(e,t,n,i,r){r||(r=new M([])),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s,o=t;o<n;o++)s=e.children[o],p(r,e.leaf?i(s):s);return r}function p(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function d(e,t){return e.minX-t.minX}function h(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function y(e){return e.maxX-e.minX+(e.maxY-e.minY)}function m(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function f(e,t){const n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function g(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function b(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function _(e,t,n,r,s){const o=[t,n];for(;o.length;){const t=o.pop(),n=o.pop();if(t-n<=r)continue;const a=n+Math.ceil((t-n)/r/2)*r;(0,i.cO)(e,a,n,t,s),o.push(n,a,a,t)}}const T=new i.cM,w=new i.cM,I=new i.cM,E=new i.cM({deallocator:void 0});class x{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class v extends x{constructor(){super(...arguments),this.height=1,this.indexHint=new i.cP}}class M extends v{constructor(e){super(),this.children=e,this.leaf=!0}}class S extends v{constructor(e){super(),this.children=e,this.leaf=!1}}},96197:function(e,t,n){n.d(t,{s:function(){return i},t:function(){return r}});const i={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportedStatistics:void 0},r={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryBins:i,query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},2979:function(e,t,n){n.d(t,{a:function(){return l},l:function(){return d},u:function(){return o},y:function(){return h}});var i=n(44444),r=n(94706),s=n(96197);function o(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?i.N:"esriGeometryPolyline"===e?i.O:i.P}}}const a=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let u=1;function l(e,t){if((0,i.Q)("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this${p(t)} = null;`;for(const t in e)n+=`this${p(t)} = ${JSON.stringify(e[t])};`;const i=new Function(`\n      return class AttributesClass$${u++} {\n        constructor() {\n          ${n};\n        }\n      }\n    `)();return()=>new i}catch{return()=>({[t]:null,...e})}}function p(e){return a.test(e)?`.${e}`:`["${e}"]`}function d(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,i.T)(e)}}]}function h(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:r.t,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryBins:s.s,editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},72548:function(e,t,n){n.d(t,{o:function(){return s}});var i=n(32707),r=n(44444);const s={getObjectId:e=>e.objectId,getAttributes:e=>e.attributes,getAttribute:(e,t)=>e.attributes[t],cloneWithGeometry:(e,t)=>new r.d8(t,e.attributes,null,e.objectId),getGeometry:e=>e.geometry,getCentroid:(e,t)=>(null==e.centroid&&(e.centroid=(0,i.n)(new r.d9,e.geometry,t.hasZ,t.hasM)),e.centroid)}}}]);
//# sourceMappingURL=5050.0bce6495.js.map