{"version":3,"file":"js/5818.bb4e59f3.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/IntegratedMeshLayer-flpyUtRN.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/persistable-DhwFrfNW.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/resourceExtension-CvAjal1j.js"],"sourcesContent":["import{bt as i,bu as r,a$ as v,eO as I,bv as d,bw as x,bD as b,dG as L,jf as N,T as R,e7 as M,a8 as A,I as J,U as j,eq as D,ec as V,ed as E,ee as U,ef as K,er as P,es as G,c9 as q,eL as z,p as $,B as k,s as c,G as S,eg as B,ex as C,ep as F}from\"./main-DCIX61zy.js\";import{j as h}from\"./persistable-DhwFrfNW.js\";import{R as H,V as w}from\"./SceneService-DQjtIpoK.js\";import{p as Z,a as Q,y as W,m as X}from\"./I3SLayerDefinitions-CS63UqqU.js\";import{$ as T,Z as Y,w as ee}from\"./elevationInfoUtils-Cubp_PC_.js\";var m;let n=m=class extends x{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,t,o,a){if(a.layer?.spatialReference&&!a.layer.spatialReference.equals(this.geometry.spatialReference)){if(!b(e.spatialReference,a.layer.spatialReference))return void(a?.messages&&a.messages.push(new L(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:a.layer.spatialReference,context:a})));const l=new v;N(e,l,a.layer.spatialReference),t[o]=l.toJSON(a)}else t[o]=e.toJSON(a);delete t[o].spatialReference}clone(){return new m({geometry:R(this.geometry),type:this.type})}};i([r({type:v}),h()],n.prototype,\"geometry\",void 0),i([I([\"web-scene\",\"portal-item\"],\"geometry\")],n.prototype,\"writeGeometry\",null),i([r({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),h()],n.prototype,\"type\",void 0),n=m=i([d(\"esri.layers.support.SceneModification\")],n);const f=n;var p;let y=p=class extends M(A.ofType(f)){constructor(e){super(e),this.url=null}clone(){return new p({url:this.url,items:this.items.map(e=>e.clone())})}toJSON(e){return this.toArray().map(t=>t.toJSON(e)).filter(t=>!!t.geometry)}static fromJSON(e,t){const o=new p;for(const a of e)o.add(f.fromJSON(a,t));return o}static async fromUrl(e,t,o){const a={url:J(e),origin:\"service\"},l=await j(e,{responseType:\"json\",signal:o?.signal}),O=t.toJSON(),u=[];for(const g of l.data)u.push(f.fromJSON({...g,geometry:{...g.geometry,spatialReference:O}},a));return new p({url:e,items:u})}};i([r({type:String})],y.prototype,\"url\",void 0),y=p=i([d(\"esri.layers.support.SceneModifications\")],y);const _=y;let s=class extends H(D(V(E(U(K(P(G(F)))))))){constructor(...e){super(...e),this.geometryType=\"mesh\",this.operationalLayerType=\"IntegratedMeshLayer\",this.type=\"integrated-mesh\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile=\"mesh-pyramids\",this.modifications=null,this._modificationsSource=null,this.path=null,this.definitionExpression=null}initialize(){this.addHandles(q(()=>this.modifications,\"after-changes\",()=>this.modifications=this.modifications,z))}normalizeCtorArgs(e,t){return typeof e==\"string\"?{url:e,...t}:e}readModifications(e,t,o){this._modificationsSource={url:$(e,o),context:o}}set elevationInfo(e){this._set(\"elevationInfo\",e),this._validateElevationInfo()}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const t=e?.signal;try{await this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e)}catch(o){k(o)}if(await this._fetchService(t),this._modificationsSource!=null){const o=await _.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin(\"modifications\",o,this._modificationsSource.context.origin),this._modificationsSource=null}await this._fetchIndexAndUpdateExtent(this.nodePages,t)}beforeSave(){if(this._modificationsSource!=null)return this.load().then(()=>{},()=>{})}async saveAs(e,t){return this._debouncedSaveOperations(w.SAVE_AS,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"};return this._debouncedSaveOperations(w.SAVE,e)}validateLayer(e){if(e.layerType&&e.layerType!==\"IntegratedMesh\")throw new c(\"integrated-mesh-layer:layer-type-not-supported\",\"IntegratedMeshLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new c(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"});if(this.version.major>1)throw new c(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"})}_getTypeKeywords(){return[\"IntegratedMeshLayer\"]}_validateElevationInfo(){const e=this.elevationInfo,t=\"Integrated mesh layers\";T(S.getLogger(this),Y(t,\"absolute-height\",e)),T(S.getLogger(this),ee(t,e))}};i([r({type:String,readOnly:!0})],s.prototype,\"geometryType\",void 0),i([r({type:[\"show\",\"hide\"]})],s.prototype,\"listMode\",void 0),i([r({type:[\"IntegratedMeshLayer\"]})],s.prototype,\"operationalLayerType\",void 0),i([r({json:{read:!1},readOnly:!0})],s.prototype,\"type\",void 0),i([r({type:Z,readOnly:!0})],s.prototype,\"nodePages\",void 0),i([r({type:[Q],readOnly:!0})],s.prototype,\"materialDefinitions\",void 0),i([r({type:[W],readOnly:!0})],s.prototype,\"textureSetDefinitions\",void 0),i([r({type:[X],readOnly:!0})],s.prototype,\"geometryDefinitions\",void 0),i([r({readOnly:!0})],s.prototype,\"serviceUpdateTimeStamp\",void 0),i([r({type:_}),h({origins:[\"web-scene\",\"portal-item\"],type:\"resource\",prefix:\"modifications\"})],s.prototype,\"modifications\",void 0),i([B([\"web-scene\",\"portal-item\"],\"modifications\")],s.prototype,\"readModifications\",null),i([r(C)],s.prototype,\"elevationInfo\",null),i([r({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0},\"portal-item\":{read:!0,write:!0}},read:!1}})],s.prototype,\"path\",void 0),s=i([d(\"esri.layers.IntegratedMeshLayer\")],s);const te=s;export{te as default};\n","import{ey as j,ez as N,eA as P,eB as h,eC as x,eD as A,eE as b,eF as S,eG as v,eH as R,s as $,eI as O,e4 as F,aw as J,eJ as K,ax as z,eK as C}from\"./main-DCIX61zy.js\";import{i as B}from\"./multiOriginJSONSupportUtils-DGETddQl.js\";import{p as y}from\"./resourceExtension-CvAjal1j.js\";function D(e){const r=e?.origins??[void 0];return(o,n)=>{const t=E(e,o,n);for(const c of r){const i=j(o,c,n);for(const s in t)i[s]=t[s]}}}function E(e,r,o){if(e?.type===\"resource\")return G(e,r,o);switch(e?.type??\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:n,write:t}=C;return{read:n,write:t}}}}function G(e,r,o){const n=N(r,o);return{type:String,read:(t,c,i)=>{const s=P(t,c,i);return n.type===String?s:typeof n.type==\"function\"?new n.type({url:s}):void 0},write:{writer(t,c,i,s){if(!s?.resources)return typeof t==\"string\"?void(c[i]=h(t,s)):void(c[i]=t.write({},s));const a=V(t),p=h(a,{...s,verifyItemRelativeUrls:s?.verifyItemRelativeUrls?{writtenUrls:s.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},x.NO),l=n.type!==String&&(!B(this)||s?.origin&&this.originIdOf(o)>A(s.origin)),u={object:this,propertyName:o,value:t,targetUrl:p,dest:c,targetPropertyName:i,context:s,params:e};s?.portalItem&&p&&!b(p)?l&&e?.contentAddressed?g(u):l?H(u):L(u):s?.portalItem&&(p==null||S(p)!=null||v(p)||l)?g(u):c[i]=p}}}}function g(e){const{targetUrl:r,params:o,value:n,context:t,dest:c,targetPropertyName:i}=e;if(!t.portalItem)return;const s=R(r),a=U(n,r,t);if(o?.contentAddressed&&a.type!==\"json\")return void t.messages?.push(new $(\"persistable:contentAddressingUnsupported\",`Property \"${i}\" is trying to serializing a resource with content of type ${a.type} with content addressing. Content addressing is only supported for json resources.`,{content:a}));const p=o?.contentAddressed&&a.type===\"json\"?O(a.jsonString):s?.filename??F(),l=J(o?.prefix??s?.prefix,p),u=`${l}.${y(a)}`;if(o?.contentAddressed&&t.resources&&a.type===\"json\"){const f=t.resources.toKeep.find(({resource:m})=>m.path===u)??t.resources.toAdd.find(({resource:m})=>m.path===u);if(f)return void(c[i]=f.resource.itemRelativeUrl)}const d=t.portalItem.resourceFromPath(u);v(r)&&t.resources&&t.resources.pendingOperations.push(K(r).then(f=>{d.path=`${l}.${y({type:\"blob\",blob:f})}`,c[i]=d.itemRelativeUrl}).catch(()=>{}));const I=o?.compress??!1;t.resources&&w({...e,resource:d,content:a,compress:I,updates:t.resources.toAdd}),c[i]=d.itemRelativeUrl}function H(e){const{context:r,targetUrl:o,params:n,value:t,dest:c,targetPropertyName:i}=e;if(!r.portalItem)return;const s=r.portalItem.resourceFromPath(o),a=U(t,o,r),p=y(a),l=z(s.path),u=n?.compress??!1;p===l?(r.resources&&w({...e,resource:s,content:a,compress:u,updates:r.resources.toUpdate}),c[i]=o):g(e)}function L({context:e,targetUrl:r,dest:o,targetPropertyName:n}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(r),compress:!1}),o[n]=r)}function w({object:e,propertyName:r,updates:o,resource:n,content:t,compress:c}){const i=s=>{Y(e,r,s)};o.push({resource:n,content:t,compress:c,finish:i})}function U(e,r,o){return typeof e==\"string\"?{type:\"url\",url:r}:{type:\"json\",jsonString:JSON.stringify(e.toJSON(o))}}function V(e){return e==null?null:typeof e==\"string\"?e:e.url}function Y(e,r,o){typeof e[r]==\"string\"?e[r]=o.url:e[r].url=o.url}export{D as j};\n","import{ax as o}from\"./main-DCIX61zy.js\";function e(i){return p[g(i)]||m}function g(i){return i.type===\"json\"?\"application/json\":i.type===\"blob\"?i.blob.type:l(i.url)}function l(i){const a=o(i);return t[a]||n}const p={},n=\"text/plain\",m=p[n],t={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\",\"bin.gz\":\"application/octet-stream\"};for(const i in t)p[t[i]]=i;export{e as p};\n"],"names":["m","n","constructor","e","super","this","geometry","type","writeGeometry","t","o","a","layer","spatialReference","equals","messages","push","modification","context","l","toJSON","clone","prototype","nonNullable","f","p","y","ofType","url","items","map","toArray","filter","fromJSON","add","fromUrl","origin","responseType","signal","O","u","g","data","String","_","s","geometryType","operationalLayerType","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","serviceUpdateTimeStamp","profile","modifications","_modificationsSource","path","definitionExpression","initialize","addHandles","normalizeCtorArgs","readModifications","elevationInfo","_set","_validateElevationInfo","load","addResolvingPromise","_doLoad","loadFromPortal","supportedTypes","_fetchService","setAtOrigin","_fetchIndexAndUpdateExtent","beforeSave","then","saveAs","_debouncedSaveOperations","SAVE_AS","getTypeKeywords","_getTypeKeywords","portalItemLayerType","save","SAVE","validateLayer","layerType","isNaN","version","major","minor","serviceVersion","versionString","supportedVersions","getLogger","readOnly","json","read","origins","prefix","write","te","D","r","E","c","i","G","writer","resources","V","verifyItemRelativeUrls","writtenUrls","rootPath","NO","originIdOf","object","propertyName","value","targetUrl","dest","targetPropertyName","params","portalItem","contentAddressed","H","L","U","content","jsonString","filename","toKeep","find","resource","toAdd","itemRelativeUrl","d","resourceFromPath","pendingOperations","blob","catch","I","compress","w","updates","toUpdate","Y","finish","JSON","stringify","png","jpeg","jpg","bmp","gif","txt","xml","svg","zip","pbf","gz"],"sourceRoot":""}