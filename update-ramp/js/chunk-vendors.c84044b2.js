(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[504],{61273:function(e,t,n){"use strict";n.d(t,{gc:function(){return O}});var r=n(37107);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){return h(e)||p(e)||d(e)||m()}function h(e){if(Array.isArray(e))return f(e)}function p(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var y="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},g={exports:{}};(function(e){(function(t){var n=function(e,t,r){if(!c(t)||h(t)||p(t)||d(t)||l(t))return t;var i,o=0,s=0;if(u(t))for(i=[],s=t.length;o<s;o++)i.push(n(e,t[o],r));else for(var a in i={},t)Object.prototype.hasOwnProperty.call(t,a)&&(i[e(a,r)]=n(e,t[a],r));return i},r=function(e,t){t=t||{};var n=t.separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)},i=function(e){return f(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""})),e.substr(0,1).toLowerCase()+e.substr(1))},o=function(e){var t=i(e);return t.substr(0,1).toUpperCase()+t.substr(1)},s=function(e,t){return r(e,t).toLowerCase()},a=Object.prototype.toString,l=function(e){return"function"===typeof e},c=function(e){return e===Object(e)},u=function(e){return"[object Array]"==a.call(e)},h=function(e){return"[object Date]"==a.call(e)},p=function(e){return"[object RegExp]"==a.call(e)},d=function(e){return"[object Boolean]"==a.call(e)},f=function(e){return e-=0,e===e},m=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!==typeof n?e:function(t,r){return n(t,e,r)}},y={camelize:i,decamelize:s,pascalize:o,depascalize:s,camelizeKeys:function(e,t){return n(m(i,t),e)},decamelizeKeys:function(e,t){return n(m(s,t),e,t)},pascalizeKeys:function(e,t){return n(m(o,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=y:t.humps=y})(y)})(g);var v=g.exports,b=["class","style","attrs"];function w(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.indexOf(":"),r=v.camelize(t.slice(0,n)),i=t.slice(n+1).trim();return e[r]=i,e}),{})}function _(e){return e.split(/\s+/).reduce((function(e,t){return e[t]=!0,e}),{})}function x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return Array.isArray(t)?e=e.concat(t):e.push(t),e}),[])}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(t.children||[]).map(S.bind(null,e)),s=Object.keys(t.attributes||{}).reduce((function(e,n){var r=t.attributes[n];switch(n){case"class":e["class"]=_(r);break;case"style":e["style"]=w(r);break;default:e.attrs[n]=r}return e}),{class:{},style:{},attrs:{}}),a=r.class,l=void 0===a?{}:a,u=r.style,h=void 0===u?{}:u,p=r.attrs,d=void 0===p?{}:p,f=c(r,b);return"string"===typeof t?t:e(t.tag,o(o({class:x(s.class,l),style:o(o({},s.style),h),attrs:o(o({},s.attrs),d)},f),{},{props:n}),i)}var T=!1;try{T=!0}catch(k){}function E(){var e;!T&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}function M(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?a({},e,t):{}}function A(e){var t,n=(t={"fa-spin":e.spin,"fa-spin-pulse":e.spinPulse,"fa-spin-reverse":e.spinReverse,"fa-pulse":e.pulse,"fa-beat":e.beat,"fa-fade":e.fade,"fa-flash":e.flash,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":!0===e.flip,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},a(t,"fa-".concat(e.size),null!==e.size),a(t,"fa-rotate-".concat(e.rotation),null!==e.rotation),a(t,"fa-pull-".concat(e.pull),null!==e.pull),a(t,"fa-swap-opacity",e.swapOpacity),a(t,"fa-bounce",e.bounce),a(t,"fa-shake",e.shake),a(t,"fa-beat-fade",e.beatFade),t);return Object.keys(n).map((function(e){return n[e]?e:null})).filter((function(e){return e}))}function I(e,t){var n=0===(e||"").length?[]:[e];return n.concat(t).join(" ")}function C(e){return e&&"object"===s(e)&&e.prefix&&e.iconName&&e.icon?e:r.qg.icon?r.qg.icon(e):null===e?null:"object"===s(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}var O={name:"FontAwesomeIcon",functional:!0,props:{beat:{type:Boolean,default:!1},border:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=n.icon,s=n.mask,a=n.symbol,l=n.title,c=C(i),u=M("classes",A(n)),h=M("transform","string"===typeof n.transform?r.qg.transform(n.transform):n.transform),p=M("mask",C(s)),d=(0,r.Kk)(c,o(o(o(o({},u),h),p),{},{symbol:a,title:l}));if(!d)return E("Could not find one or more icon(s)",c,p);var f=d.abstract,m=S.bind(null,e);return m(f[0],{},t.data)}};Boolean,Boolean},81656:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}n.d(t,{A:function(){return r}})},24601:function(e,t,n){"use strict";var r=n(78420),i=n(13838),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},65190:function(e,t,n){"use strict";var r=n(47658),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},73938:function(e,t,n){"use strict";var r=n(65335),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},58186:function(e,t,n){"use strict";var r=n(5476),i=n(6539),o=n(23493),s=function(e){return function(t,n,s){var a,l=r(t),c=o(l),u=i(s,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},18569:function(e,t,n){"use strict";var r=n(30281),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},83062:function(e,t,n){"use strict";var r=n(43129),i=n(78420),o=n(18569),s=n(31602),a=s("toStringTag"),l=Object,c="Arguments"==o(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),a))?n:c?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},84361:function(e,t,n){"use strict";var r=n(36490),i=n(15816),o=n(97632),s=n(43610);e.exports=function(e,t,n){for(var a=i(t),l=s.f,c=o.f,u=0;u<a.length;u++){var h=a[u];r(e,h)||n&&r(n,h)||l(e,h,c(t,h))}}},7168:function(e,t,n){"use strict";var r=n(92074);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},97712:function(e,t,n){"use strict";var r=n(65077),i=n(43610),o=n(66843);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},66843:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7485:function(e,t,n){"use strict";var r=n(78420),i=n(43610),o=n(48218),s=n(59430);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(r(n)&&o(n,c,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},59430:function(e,t,n){"use strict";var r=n(30200),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},65077:function(e,t,n){"use strict";var r=n(92074);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},96568:function(e){"use strict";var t="object"==typeof document&&document.all,n="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},23262:function(e,t,n){"use strict";var r=n(30200),i=n(65335),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},47061:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},6845:function(e,t,n){"use strict";var r,i,o=n(30200),s=n(47061),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},30290:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},51605:function(e,t,n){"use strict";var r=n(30200),i=n(97632).f,o=n(97712),s=n(7485),a=n(59430),l=n(84361),c=n(84977);e.exports=function(e,t){var n,u,h,p,d,f,m=e.target,y=e.global,g=e.stat;if(u=y?r:g?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(h in t){if(d=t[h],e.dontCallGetSet?(f=i(u,h),p=f&&f.value):p=u[h],n=c(y?h:m+(g?".":"#")+h,e.forced),!n&&void 0!==p){if(typeof d==typeof p)continue;l(d,p)}(e.sham||p&&p.sham)&&o(d,"sham",!0),s(u,h,d,e)}}},92074:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},46885:function(e,t,n){"use strict";var r=n(43091),i=n(24601),o=n(38823),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},38823:function(e,t,n){"use strict";var r=n(92074);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},72368:function(e,t,n){"use strict";var r=n(38823),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},12071:function(e,t,n){"use strict";var r=n(65077),i=n(36490),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},43091:function(e,t,n){"use strict";var r=n(18569),i=n(30281);e.exports=function(e){if("Function"===r(e))return i(e)}},30281:function(e,t,n){"use strict";var r=n(38823),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(e){return function(){return o.apply(e,arguments)}}},56492:function(e,t,n){"use strict";var r=n(30200),i=n(78420),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},60938:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},51898:function(e,t,n){"use strict";var r=n(83062),i=n(46457),o=n(88406),s=n(52228),a=n(31602),l=a("iterator");e.exports=function(e){if(!o(e))return i(e,l)||i(e,"@@iterator")||s[r(e)]}},79526:function(e,t,n){"use strict";var r=n(72368),i=n(24601),o=n(73938),s=n(13838),a=n(51898),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return o(r(n,e));throw l(s(e)+" is not iterable")}},46457:function(e,t,n){"use strict";var r=n(24601),i=n(88406);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},30200:function(e,t,n){"use strict";var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},36490:function(e,t,n){"use strict";var r=n(30281),i=n(92612),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},67708:function(e){"use strict";e.exports={}},28890:function(e,t,n){"use strict";var r=n(56492);e.exports=r("document","documentElement")},87694:function(e,t,n){"use strict";var r=n(65077),i=n(92074),o=n(23262);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},48664:function(e,t,n){"use strict";var r=n(30281),i=n(92074),o=n(18569),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a(e,""):s(e)}:s},69965:function(e,t,n){"use strict";var r=n(30281),i=n(78420),o=n(49310),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},99206:function(e,t,n){"use strict";var r,i,o,s=n(8369),a=n(30200),l=n(65335),c=n(97712),u=n(36490),h=n(49310),p=n(25904),d=n(67708),f="Object already initialized",m=a.TypeError,y=a.WeakMap,g=function(e){return o(e)?i(e):r(e,{})},v=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(s||h.state){var b=h.state||(h.state=new y);b.get=b.get,b.has=b.has,b.set=b.set,r=function(e,t){if(b.has(e))throw m(f);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},o=function(e){return b.has(e)}}else{var w=p("state");d[w]=!0,r=function(e,t){if(u(e,w))throw m(f);return t.facade=e,c(e,w,t),t},i=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:r,get:i,has:o,enforce:g,getterFor:v}},99034:function(e,t,n){"use strict";var r=n(31602),i=n(52228),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},78420:function(e,t,n){"use strict";var r=n(96568),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},84977:function(e,t,n){"use strict";var r=n(92074),i=n(78420),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},88406:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},65335:function(e,t,n){"use strict";var r=n(78420),i=n(96568),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},6926:function(e){"use strict";e.exports=!1},32328:function(e,t,n){"use strict";var r=n(56492),i=n(78420),o=n(47658),s=n(5225),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},52929:function(e,t,n){"use strict";var r=n(46885),i=n(72368),o=n(73938),s=n(13838),a=n(99034),l=n(23493),c=n(47658),u=n(79526),h=n(51898),p=n(69868),d=TypeError,f=function(e,t){this.stopped=e,this.result=t},m=f.prototype;e.exports=function(e,t,n){var y,g,v,b,w,_,x,S=n&&n.that,T=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_RECORD),M=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),I=r(t,S),C=function(e){return y&&p(y,"normal",e),new f(!0,e)},O=function(e){return T?(o(e),A?I(e[0],e[1],C):I(e[0],e[1])):A?I(e,C):I(e)};if(E)y=e.iterator;else if(M)y=e;else{if(g=h(e),!g)throw d(s(e)+" is not iterable");if(a(g)){for(v=0,b=l(e);b>v;v++)if(w=O(e[v]),w&&c(m,w))return w;return new f(!1)}y=u(e,g)}_=E?e.next:y.next;while(!(x=i(_,y)).done){try{w=O(x.value)}catch(k){p(y,"throw",k)}if("object"==typeof w&&w&&c(m,w))return w}return new f(!1)}},69868:function(e,t,n){"use strict";var r=n(72368),i=n(73938),o=n(46457);e.exports=function(e,t,n){var s,a;i(e);try{if(s=o(e,"return"),!s){if("throw"===t)throw n;return n}s=r(s,e)}catch(l){a=!0,s=l}if("throw"===t)throw n;if(a)throw s;return i(s),n}},49306:function(e,t,n){"use strict";var r,i,o,s=n(92074),a=n(78420),l=n(65335),c=n(53105),u=n(97970),h=n(7485),p=n(31602),d=n(6926),f=p("iterator"),m=!1;[].keys&&(o=[].keys(),"next"in o?(i=u(u(o)),i!==Object.prototype&&(r=i)):m=!0);var y=!l(r)||s((function(){var e={};return r[f].call(e)!==e}));y?r={}:d&&(r=c(r)),a(r[f])||h(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},52228:function(e){"use strict";e.exports={}},23493:function(e,t,n){"use strict";var r=n(33747);e.exports=function(e){return r(e.length)}},48218:function(e,t,n){"use strict";var r=n(30281),i=n(92074),o=n(78420),s=n(36490),a=n(65077),l=n(12071).CONFIGURABLE,c=n(69965),u=n(99206),h=u.enforce,p=u.get,d=String,f=Object.defineProperty,m=r("".slice),y=r("".replace),g=r([].join),v=a&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===m(d(t),0,7)&&(t="["+y(d(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&s(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=h(e);return s(r,"source")||(r.source=g(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return o(this)&&p(this).source||c(this)}),"toString")},19830:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},53105:function(e,t,n){"use strict";var r,i=n(73938),o=n(65318),s=n(30290),a=n(67708),l=n(28890),c=n(23262),u=n(25904),h=">",p="<",d="prototype",f="script",m=u("IE_PROTO"),y=function(){},g=function(e){return p+f+h+e+p+"/"+f+h},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+f+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?v(r):b():v(r);var e=s.length;while(e--)delete w[d][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(y[d]=i(e),n=new y,y[d]=null,n[m]=e):n=w(),void 0===t?n:o.f(n,t)}},65318:function(e,t,n){"use strict";var r=n(65077),i=n(94491),o=n(43610),s=n(73938),a=n(5476),l=n(91641);t.f=r&&!i?Object.defineProperties:function(e,t){s(e);var n,r=a(t),i=l(t),c=i.length,u=0;while(c>u)o.f(e,n=i[u++],r[n]);return e}},43610:function(e,t,n){"use strict";var r=n(65077),i=n(87694),o=n(94491),s=n(73938),a=n(86032),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",d="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&d in n&&!n[d]){var r=u(e,t);r&&r[d]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:h in n?n[h]:r[h],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},97632:function(e,t,n){"use strict";var r=n(65077),i=n(72368),o=n(9304),s=n(66843),a=n(5476),l=n(86032),c=n(36490),u=n(87694),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=l(t),u)try{return h(e,t)}catch(n){}if(c(e,t))return s(!i(o.f,e,t),e[t])}},64789:function(e,t,n){"use strict";var r=n(16347),i=n(30290),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},18916:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},97970:function(e,t,n){"use strict";var r=n(36490),i=n(78420),o=n(92612),s=n(25904),a=n(7168),l=s("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},47658:function(e,t,n){"use strict";var r=n(30281);e.exports=r({}.isPrototypeOf)},16347:function(e,t,n){"use strict";var r=n(30281),i=n(36490),o=n(5476),s=n(58186).indexOf,a=n(67708),l=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&l(u,n);while(t.length>c)i(r,n=t[c++])&&(~s(u,n)||l(u,n));return u}},91641:function(e,t,n){"use strict";var r=n(16347),i=n(30290);e.exports=Object.keys||function(e){return r(e,i)}},9304:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},69751:function(e,t,n){"use strict";var r=n(72368),i=n(78420),o=n(65335),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw s("Can't convert object to primitive value")}},15816:function(e,t,n){"use strict";var r=n(56492),i=n(30281),o=n(64789),s=n(18916),a=n(73938),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},71229:function(e,t,n){"use strict";var r=n(88406),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},25904:function(e,t,n){"use strict";var r=n(50002),i=n(50665),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},49310:function(e,t,n){"use strict";var r=n(30200),i=n(59430),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},50002:function(e,t,n){"use strict";var r=n(6926),i=n(49310);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.32.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})},82072:function(e,t,n){"use strict";var r=n(6845),i=n(92074),o=n(30200),s=o.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6539:function(e,t,n){"use strict";var r=n(79328),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5476:function(e,t,n){"use strict";var r=n(48664),i=n(71229);e.exports=function(e){return r(i(e))}},79328:function(e,t,n){"use strict";var r=n(19830);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},33747:function(e,t,n){"use strict";var r=n(79328),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},92612:function(e,t,n){"use strict";var r=n(71229),i=Object;e.exports=function(e){return i(r(e))}},50874:function(e,t,n){"use strict";var r=n(72368),i=n(65335),o=n(32328),s=n(46457),a=n(69751),l=n(31602),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=s(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},86032:function(e,t,n){"use strict";var r=n(50874),i=n(32328);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},43129:function(e,t,n){"use strict";var r=n(31602),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},13838:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},50665:function(e,t,n){"use strict";var r=n(30281),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},5225:function(e,t,n){"use strict";var r=n(82072);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},94491:function(e,t,n){"use strict";var r=n(65077),i=n(92074);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8369:function(e,t,n){"use strict";var r=n(30200),i=n(78420),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},31602:function(e,t,n){"use strict";var r=n(30200),i=n(50002),o=n(36490),s=n(50665),a=n(82072),l=n(5225),c=r.Symbol,u=i("wks"),h=l?c["for"]||c:c&&c.withoutSetter||s;e.exports=function(e){return o(u,e)||(u[e]=a&&o(c,e)?c[e]:h("Symbol."+e)),u[e]}},83725:function(e,t,n){"use strict";var r=n(51605),i=n(30200),o=n(65190),s=n(78420),a=n(97970),l=n(97712),c=n(92074),u=n(36490),h=n(31602),p=n(49306).IteratorPrototype,d=n(6926),f=h("toStringTag"),m=TypeError,y=i.Iterator,g=d||!s(y)||y.prototype!==p||!c((function(){y({})})),v=function(){if(o(this,p),a(this)===p)throw m("Abstract class Iterator not directly constructable")};u(p,f)||l(p,f,"Iterator"),!g&&u(p,"constructor")&&p.constructor!==Object||l(p,"constructor",v),v.prototype=p,r({global:!0,constructor:!0,forced:g},{Iterator:v})},89471:function(e,t,n){"use strict";var r=n(51605),i=n(52929),o=n(24601),s=n(73938),a=n(60938),l=TypeError;r({target:"Iterator",proto:!0,real:!0},{reduce:function(e){s(this),o(e);var t=a(this),n=arguments.length<2,r=n?void 0:arguments[1],c=0;if(i(t,(function(t){n?(n=!1,r=t):r=e(r,t,c),c++}),{IS_RECORD:!0}),n)throw l("Reduce of empty iterator with no initial value");return r}})},97443:function(e,t,n){var r,i;
/* @preserve
    _____ __ _     __                _
   / ___// /(_)___/ /___  ____      (_)___
  / (_ // // // _  // -_)/ __/_    / /(_-<
  \___//_//_/ \_,_/ \__//_/  (_)__/ //___/
                              |___/

  Version: 1.7.4
  Author: Nick Piscitelli (pickykneee)
  Website: https://nickpiscitelli.com
  Documentation: http://nickpiscitelli.github.io/Glider.js
  License: MIT License
  Release Date: October 25th, 2018

*/(function(o){r=o,i="function"===typeof r?r.call(t,n,t,e):r,void 0===i||(e.exports=i)})((function(){var e="undefined"!==typeof window?window:this,t=e.Glider=function(t,n){var r=this;if(t._glider)return t._glider;if(r.ele=t,r.ele.classList.add("glider"),r.ele._glider=r,r.opt=Object.assign({},{slidesToScroll:1,slidesToShow:1,resizeLock:!0,duration:.5,easing:function(e,t,n,r,i){return r*(t/=i)*t+n}},n),r.animate_id=r.page=r.slide=0,r.arrows={},r._opt=r.opt,r.opt.skipTrack)r.track=r.ele.children[0];else{r.track=document.createElement("div"),r.ele.appendChild(r.track);while(1!==r.ele.children.length)r.track.appendChild(r.ele.children[0])}r.track.classList.add("glider-track"),r.init(),r.resize=r.init.bind(r,!0),r.event(r.ele,"add",{scroll:r.updateControls.bind(r)}),r.event(e,"add",{resize:r.resize})},n=t.prototype;return n.init=function(e,t){var n=this,r=0,i=0;n.slides=n.track.children,[].forEach.call(n.slides,(function(e,t){e.classList.add("glider-slide"),e.setAttribute("data-gslide",t)})),n.containerWidth=n.ele.clientWidth;var o=n.settingsBreakpoint();if(t||(t=o),"auto"===n.opt.slidesToShow||"undefined"!==typeof n.opt._autoSlide){var s=n.containerWidth/n.opt.itemWidth;n.opt._autoSlide=n.opt.slidesToShow=n.opt.exactWidth?s:Math.max(1,Math.floor(s))}"auto"===n.opt.slidesToScroll&&(n.opt.slidesToScroll=Math.floor(n.opt.slidesToShow)),n.itemWidth=n.opt.exactWidth?n.opt.itemWidth:n.containerWidth/n.opt.slidesToShow,[].forEach.call(n.slides,(function(e){e.style.height="auto",e.style.width=n.itemWidth+"px",r+=n.itemWidth,i=Math.max(e.offsetHeight,i)})),n.track.style.width=r+"px",n.trackWidth=r,n.isDrag=!1,n.preventClick=!1,n.move=!1,n.opt.resizeLock&&n.scrollTo(n.slide*n.itemWidth,0),(o||t)&&(n.bindArrows(),n.buildDots(),n.bindDrag()),n.updateControls(),n.emit(e?"refresh":"loaded")},n.bindDrag=function(){var e=this;e.mouse=e.mouse||e.handleMouse.bind(e);var t=function(){e.mouseDown=void 0,e.ele.classList.remove("drag"),e.isDrag&&(e.preventClick=!0),e.isDrag=!1};const n=function(){e.move=!0};var r={mouseup:t,mouseleave:t,mousedown:function(t){t.preventDefault(),t.stopPropagation(),e.mouseDown=t.clientX,e.ele.classList.add("drag"),e.move=!1,setTimeout(n,300)},touchstart:function(t){e.ele.classList.add("drag"),e.move=!1,setTimeout(n,300)},mousemove:e.mouse,click:function(t){e.preventClick&&e.move&&(t.preventDefault(),t.stopPropagation()),e.preventClick=!1,e.move=!1}};e.ele.classList.toggle("draggable",!0===e.opt.draggable),e.event(e.ele,"remove",r),e.opt.draggable&&e.event(e.ele,"add",r)},n.buildDots=function(){var e=this;if(e.opt.dots){if("string"===typeof e.opt.dots?e.dots=document.querySelector(e.opt.dots):e.dots=e.opt.dots,e.dots){e.dots.innerHTML="",e.dots.setAttribute("role","tablist"),e.dots.classList.add("glider-dots");for(var t=0;t<Math.ceil(e.slides.length/e.opt.slidesToShow);++t){var n=document.createElement("button");n.dataset.index=t,n.setAttribute("aria-label","Page "+(t+1)),n.setAttribute("role","tab"),n.className="glider-dot "+(t?"":"active"),e.event(n,"add",{click:e.scrollItem.bind(e,t,!0)}),e.dots.appendChild(n)}}}else e.dots&&(e.dots.innerHTML="")},n.bindArrows=function(){var e=this;e.opt.arrows?["prev","next"].forEach((function(t){var n=e.opt.arrows[t];n&&("string"===typeof n&&(n=document.querySelector(n)),n&&(n._func=n._func||e.scrollItem.bind(e,t),e.event(n,"remove",{click:n._func}),e.event(n,"add",{click:n._func}),e.arrows[t]=n))})):Object.keys(e.arrows).forEach((function(t){var n=e.arrows[t];e.event(n,"remove",{click:n._func})}))},n.updateControls=function(e){var t=this;e&&!t.opt.scrollPropagate&&e.stopPropagation();var n=t.containerWidth>=t.trackWidth;t.opt.rewind||(t.arrows.prev&&(t.arrows.prev.classList.toggle("disabled",t.ele.scrollLeft<=0||n),t.arrows.prev.setAttribute("aria-disabled",t.arrows.prev.classList.contains("disabled"))),t.arrows.next&&(t.arrows.next.classList.toggle("disabled",Math.ceil(t.ele.scrollLeft+t.containerWidth)>=Math.floor(t.trackWidth)||n),t.arrows.next.setAttribute("aria-disabled",t.arrows.next.classList.contains("disabled")))),t.slide=Math.round(t.ele.scrollLeft/t.itemWidth),t.page=Math.round(t.ele.scrollLeft/t.containerWidth);var r=t.slide+Math.floor(Math.floor(t.opt.slidesToShow)/2),i=Math.floor(t.opt.slidesToShow)%2?0:r+1;1===Math.floor(t.opt.slidesToShow)&&(i=0),t.ele.scrollLeft+t.containerWidth>=Math.floor(t.trackWidth)&&(t.page=t.dots?t.dots.children.length-1:0),[].forEach.call(t.slides,(function(e,n){var o=e.classList,s=o.contains("visible"),a=t.ele.scrollLeft,l=t.ele.scrollLeft+t.containerWidth,c=t.itemWidth*n,u=c+t.itemWidth;[].forEach.call(o,(function(e){/^left|right/.test(e)&&o.remove(e)})),o.toggle("active",t.slide===n),r===n||i&&i===n?o.add("center"):(o.remove("center"),o.add([n<r?"left":"right",Math.abs(n-(n<r?r:i||r))].join("-")));var h=Math.ceil(c)>=Math.floor(a)&&Math.floor(u)<=Math.ceil(l);o.toggle("visible",h),h!==s&&t.emit("slide-"+(h?"visible":"hidden"),{slide:n})})),t.dots&&[].forEach.call(t.dots.children,(function(e,n){e.classList.toggle("active",t.page===n)})),e&&t.opt.scrollLock&&(clearTimeout(t.scrollLock),t.scrollLock=setTimeout((function(){clearTimeout(t.scrollLock),Math.abs(t.ele.scrollLeft/t.itemWidth-t.slide)>.02&&(t.mouseDown||t.trackWidth>t.containerWidth+t.ele.scrollLeft&&t.scrollItem(t.getCurrentSlide()))}),t.opt.scrollLockDelay||250))},n.getCurrentSlide=function(){var e=this;return e.round(e.ele.scrollLeft/e.itemWidth)},n.scrollItem=function(e,t,n){n&&n.preventDefault();var r=this,i=e;++r.animate_id;var o,s=r.slide;if(!0===t)e=Math.round(e*r.containerWidth/r.itemWidth),o=e*r.itemWidth;else{if("string"===typeof e){var a="prev"===e;if(e=r.opt.slidesToScroll%1||r.opt.slidesToShow%1?r.getCurrentSlide():r.slide,a?e-=r.opt.slidesToScroll:e+=r.opt.slidesToScroll,r.opt.rewind){var l=r.ele.scrollLeft;e=a&&!l?r.slides.length:!a&&l+r.containerWidth>=Math.floor(r.trackWidth)?0:e}}e=Math.max(Math.min(e,r.slides.length),0),r.slide=e,o=r.itemWidth*e}return r.emit("scroll-item",{prevSlide:s,slide:e}),r.scrollTo(o,r.opt.duration*Math.abs(r.ele.scrollLeft-o),(function(){r.updateControls(),r.emit("animated",{value:i,type:"string"===typeof i?"arrow":t?"dot":"slide"})})),!1},n.settingsBreakpoint=function(){var t=this,n=t._opt.responsive;if(n){n.sort((function(e,t){return t.breakpoint-e.breakpoint}));for(var r=0;r<n.length;++r){var i=n[r];if(e.innerWidth>=i.breakpoint)return t.breakpoint!==i.breakpoint&&(t.opt=Object.assign({},t._opt,i.settings),t.breakpoint=i.breakpoint,!0)}}var o=0!==t.breakpoint;return t.opt=Object.assign({},t._opt),t.breakpoint=0,o},n.scrollTo=function(t,n,r){var i=this,o=(new Date).getTime(),s=i.animate_id,a=function(){var l=(new Date).getTime()-o;i.ele.scrollLeft=i.ele.scrollLeft+(t-i.ele.scrollLeft)*i.opt.easing(0,l,0,1,n),l<n&&s===i.animate_id?e.requestAnimationFrame(a):(i.ele.scrollLeft=t,r&&r.call(i))};e.requestAnimationFrame(a)},n.removeItem=function(e){var t=this;t.slides.length&&(t.track.removeChild(t.slides[e]),t.refresh(!0),t.emit("remove"))},n.addItem=function(e){var t=this;t.track.appendChild(e),t.refresh(!0),t.emit("add")},n.handleMouse=function(e){var t=this;t.mouseDown&&(t.isDrag=!0,t.ele.scrollLeft+=(t.mouseDown-e.clientX)*(t.opt.dragVelocity||3.3),t.mouseDown=e.clientX)},n.round=function(e){var t=this,n=t.opt.slidesToScroll%1||1,r=1/n;return Math.round(e*r)/r},n.refresh=function(e){var t=this;t.init(!0,e)},n.setOption=function(e,t){var n=this;n.breakpoint&&!t?n._opt.responsive.forEach((function(t){t.breakpoint===n.breakpoint&&(t.settings=Object.assign({},t.settings,e))})):n._opt=Object.assign({},n._opt,e),n.breakpoint=0,n.settingsBreakpoint()},n.destroy=function(){var t=this,n=t.ele.cloneNode(!0),r=function(e){e.removeAttribute("style"),[].forEach.call(e.classList,(function(t){/^glider/.test(t)&&e.classList.remove(t)}))};t.opt.skipTrack||(n.children[0].outerHTML=n.children[0].innerHTML),r(n),[].forEach.call(n.getElementsByTagName("*"),r),t.ele.parentNode.replaceChild(n,t.ele),t.event(e,"remove",{resize:t.resize}),t.emit("destroy")},n.emit=function(t,n){var r=this,i=new e.CustomEvent("glider-"+t,{bubbles:!r.opt.eventPropagate,detail:n});r.ele.dispatchEvent(i)},n.event=function(e,t,n){var r=e[t+"EventListener"].bind(e);Object.keys(n).forEach((function(e){r(e,n[e])}))},t}))},98258:function(e,t,n){!function(t,r){e.exports=r(n(14783),n(85471))}(window,(function(e,t){return r=[function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"Chart",(function(){return d})),n.d(t,"default",(function(){return f}));t=n(0);var r=n.n(t);function i(e,t){return function e(t,n,i){function o(o,s){!r.a.isObject(o,!i)||r.a.isClass(o)||r.a.isDOMElement(o)?t[s]=n[s]:t[s]=e(t[s]||r.a.isArray(o)?[]:{},o,i)}return r.a.isArray(n)?n.forEach(o):r.a.objectEach(n,o),t}({},e,t)}var o=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?l(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){var r,i;r=e,i=n[t],(t=function(e){return e=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if(n=n.call(e,t||"default"),"object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===s(e)?e:String(e)}(t))in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}}},p=function(e,t){return t.split(".")[0]<3?u(u({},h),{},{render:function(e){return e("div",{ref:"chart"})},beforeDestroy:function(){this.chart&&this.chart.destroy()},watch:{options:{handler:function(e){var t;(t=this.chart).update.apply(t,[i(e,this.deepCopyOnUpdate)].concat(a(this.updateArgs)))},deep:!0}},mounted:function(){var t=this.highcharts||e;this.options&&t[this.constructorType]?this.chart=t[this.constructorType](this.$refs.chart,i(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}}):u(u({},h),{},{render:function(){return Object(o.h)("div",{ref:"chartContainer"})},setup:function(t){var n=Object(o.ref)(null),r=Object(o.shallowRef)({});return Object(o.onMounted)((function(){var o=t.highcharts||e;t.options&&o[t.constructorType]?r.value=o[t.constructorType](n.value,i(t.options,!0),t.callback||null):t.options?console.warn("'".concat(t.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')})),Object(o.watch)((function(){return t.options}),(function(e,n){var o;(o=r.value).update.apply(o,[i(e,t.deepCopyOnUpdate)].concat(a(t.updateArgs)))}),{deep:!0}),Object(o.onBeforeUnmount)((function(){r.value&&r.value.destroy()})),{chart:r,chartContainer:n,props:t}}})},d=p(r.a,o.version||n.n(o).a.version);function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.component(t.tagName||"highcharts",p(t.highcharts||r.a,e.version))}}],i={},n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2);function n(e){var t;return(i[e]||(t=i[e]={i:e,l:!1,exports:{}},r[e].call(t.exports,t,t.exports,n),t.l=!0,t)).exports}var r,i}))},14783:function(e,t,n){"use strict";var r;(function(i,o){e.exports?(o["default"]=o,e.exports=i.document?o(i):o):(r=function(){return o(i)}.call(t,n,t,e),void 0===r||(e.exports=r))})("undefined"!==typeof window?window:this,(function(e){function t(e,t,n,r){e.hasOwnProperty(t)||(e[t]=r.apply(null,n))}var n={};return t(n,"Core/Globals.js",[],(function(){var t,n="undefined"!==typeof e?e:"undefined"!==typeof window?window:{};return function(e){e.SVG_NS="http://www.w3.org/2000/svg",e.product="Highcharts",e.version="9.3.3",e.win=n,e.doc=e.win.document,e.svg=e.doc&&e.doc.createElementNS&&!!e.doc.createElementNS(e.SVG_NS,"svg").createSVGRect,e.userAgent=e.win.navigator&&e.win.navigator.userAgent||"",e.isChrome=-1!==e.userAgent.indexOf("Chrome"),e.isFirefox=-1!==e.userAgent.indexOf("Firefox"),e.isMS=/(edge|msie|trident)/i.test(e.userAgent)&&!e.win.opera,e.isSafari=!e.isChrome&&-1!==e.userAgent.indexOf("Safari"),e.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(e.userAgent),e.isWebKit=-1!==e.userAgent.indexOf("AppleWebKit"),e.deg2rad=2*Math.PI/360,e.hasBidiBug=e.isFirefox&&4>parseInt(e.userAgent.split("Firefox/")[1],10),e.hasTouch=!!e.win.TouchEvent,e.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],e.noop=function(){},e.supportsPassiveEvents=function(){var t=!1;if(!e.isMS){var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.win.addEventListener&&e.win.removeEventListener&&(e.win.addEventListener("testPassive",e.noop,n),e.win.removeEventListener("testPassive",e.noop,n))}return t}(),e.charts=[],e.dateFormats={},e.seriesTypes={},e.symbolSizes={},e.chartCount=0}(t||(t={})),t})),t(n,"Core/Utilities.js",[n["Core/Globals.js"]],(function(e){function t(n,r,i,o){var s=r?"Highcharts error":"Highcharts warning";32===n&&(n=s+": Deprecated member");var a=c(n),l=a?s+" #"+n+": www.highcharts.com/errors/"+n+"/":n.toString();if("undefined"!==typeof o){var u="";a&&(l+="?"),g(o,(function(e,t){u+="\n - "+t+": "+e,a&&(l+=encodeURI(t)+"="+encodeURI(e))})),l+=u}b(e,"displayError",{chart:i,code:n,message:l,params:o},(function(){if(r)throw Error(l);x.console&&-1===t.messages.indexOf(l)&&console.warn(l)})),t.messages.push(l)}function n(e,t){var r={};return g(e,(function(i,o){s(e[o],!0)&&!e.nodeType&&t[o]?(i=n(e[o],t[o]),Object.keys(i).length&&(r[o]=i)):(s(e[o])||e[o]!==t[o])&&(r[o]=e[o])})),r}function r(e,t){return parseInt(e,t||10)}function i(e){return"string"===typeof e}function o(e){return e=Object.prototype.toString.call(e),"[object Array]"===e||"[object Array Iterator]"===e}function s(e,t){return!!e&&"object"===typeof e&&(!t||!o(e))}function a(e){return s(e)&&"number"===typeof e.nodeType}function l(e){var t=e&&e.constructor;return!(!s(e,!0)||a(e)||!t||!t.name||"Object"===t.name)}function c(e){return"number"===typeof e&&!isNaN(e)&&1/0>e&&-1/0<e}function u(e){return"undefined"!==typeof e&&null!==e}function h(e,t,n){var r;return i(t)?u(n)?e.setAttribute(t,n):e&&e.getAttribute&&((r=e.getAttribute(t))||"class"!==t||(r=e.getAttribute(t+"Name"))):g(t,(function(t,n){u(t)?e.setAttribute(n,t):e.removeAttribute(n)})),r}function p(e,t){var n;for(n in e||(e={}),t)e[n]=t[n];return e}function d(){for(var e=arguments,t=e.length,n=0;n<t;n++){var r=e[n];if("undefined"!==typeof r&&null!==r)return r}}function f(t,n){e.isMS&&!e.svg&&n&&"undefined"!==typeof n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),p(t.style,n)}function m(e,t){return 1e14<e?e:parseFloat(e.toPrecision(t||14))}function y(n,i,o){var s=e.getStyle||y;if("width"===i)return i=Math.min(n.offsetWidth,n.scrollWidth),o=n.getBoundingClientRect&&n.getBoundingClientRect().width,o<i&&o>=i-1&&(i=Math.floor(o)),Math.max(0,i-(s(n,"padding-left",!0)||0)-(s(n,"padding-right",!0)||0));if("height"===i)return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(s(n,"padding-top",!0)||0)-(s(n,"padding-bottom",!0)||0));if(x.getComputedStyle||t(27,!0),n=x.getComputedStyle(n,void 0)){var a=n.getPropertyValue(i);d(o,"opacity"!==i)&&(a=r(a))}return a}function g(e,t,n){for(var r in e)Object.hasOwnProperty.call(e,r)&&t.call(n||e[r],e[r],r,e)}function v(t,n,r){function i(n,r){var i=t.removeEventListener||e.removeEventListenerPolyfill;i&&i.call(t,n,r,!1)}function o(e){var r;if(t.nodeName){if(n){var o={};o[n]=!0}else o=e;g(o,(function(t,n){if(e[n])for(r=e[n].length;r--;)i(n,e[n][r].fn)}))}}var s="function"===typeof t&&t.prototype||t;if(Object.hasOwnProperty.call(s,"hcEvents")){var a=s.hcEvents;n?(s=a[n]||[],r?(a[n]=s.filter((function(e){return r!==e.fn})),i(n,r)):(o(a),a[n]=[])):(o(a),delete s.hcEvents)}}function b(t,n,r,i){if(r=r||{},_.createEvent&&(t.dispatchEvent||t.fireEvent&&t!==e)){var o=_.createEvent("Events");o.initEvent(n,!0,!0),r=p(o,r),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(n,r)}else if(t.hcEvents){r.target||p(r,{preventDefault:function(){r.defaultPrevented=!0},target:t,type:n}),o=[];for(var s=t,a=!1;s.hcEvents;)Object.hasOwnProperty.call(s,"hcEvents")&&s.hcEvents[n]&&(o.length&&(a=!0),o.unshift.apply(o,s.hcEvents[n])),s=Object.getPrototypeOf(s);a&&o.sort((function(e,t){return e.order-t.order})),o.forEach((function(e){!1===e.fn.call(t,r)&&r.preventDefault()}))}i&&!r.defaultPrevented&&i.call(t,r)}var w=e.charts,_=e.doc,x=e.win;(t||(t={})).messages=[],Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)};var S=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t(e[n],n))return e[n]};g({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(n,r){e[r]=function(e){var i;return t(32,!1,void 0,(i={},i["Highcharts."+r]="use Array."+n,i)),Array.prototype[n].apply(e,[].slice.call(arguments,1))}}));var T,E=function(){var e=Math.random().toString(36).substring(2,9)+"-",t=0;return function(){return"highcharts-"+(T?"":e)+t++}}();return x.jQuery&&(x.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(e[i(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):w[h(this[0],"data-highcharts-chart")]}),S={addEvent:function(t,n,r,i){void 0===i&&(i={});var o="function"===typeof t&&t.prototype||t;Object.hasOwnProperty.call(o,"hcEvents")||(o.hcEvents={}),o=o.hcEvents,e.Point&&t instanceof e.Point&&t.series&&t.series.chart&&(t.series.chart.runTrackerClick=!0);var s=t.addEventListener||e.addEventListenerPolyfill;return s&&s.call(t,n,r,!!e.supportsPassiveEvents&&{passive:void 0===i.passive?-1!==n.indexOf("touch"):i.passive,capture:!1}),o[n]||(o[n]=[]),o[n].push({fn:r,order:"number"===typeof i.order?i.order:1/0}),o[n].sort((function(e,t){return e.order-t.order})),function(){v(t,n,r)}},arrayMax:function(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n},arrayMin:function(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n},attr:h,clamp:function(e,t,n){return e>t?e<n?e:n:t},cleanRecursively:n,clearTimeout:function(e){u(e)&&clearTimeout(e)},correctFloat:m,createElement:function(e,t,n,r,i){return e=_.createElement(e),t&&p(e,t),i&&f(e,{padding:"0",border:"none",margin:"0"}),n&&f(e,n),r&&r.appendChild(e),e},css:f,defined:u,destroyObjectProperties:function(e,t){g(e,(function(n,r){n&&n!==t&&n.destroy&&n.destroy(),delete e[r]}))},discardElement:function(e){e&&e.parentElement&&e.parentElement.removeChild(e)},erase:function(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}},error:t,extend:p,extendClass:function(e,t){var n=function(){};return n.prototype=new e,p(n.prototype,t),n},find:S,fireEvent:b,getMagnitude:function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))},getNestedProperty:function(e,t){for(e=e.split(".");e.length&&u(t);){var n=e.shift();if("undefined"===typeof n||"__proto__"===n)return;if(t=t[n],!u(t)||"function"===typeof t||"number"===typeof t.nodeType||t===x)return}return t},getStyle:y,inArray:function(e,n,r){return t(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),n.indexOf(e,r)},isArray:o,isClass:l,isDOMElement:a,isFunction:function(e){return"function"===typeof e},isNumber:c,isObject:s,isString:i,keys:function(e){return t(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(e)},merge:function(){var e,t=arguments,n={},r=function(e,t){return"object"!==typeof e&&(e={}),g(t,(function(n,i){"__proto__"!==i&&"constructor"!==i&&(!s(n,!0)||l(n)||a(n)?e[i]=t[i]:e[i]=r(e[i]||{},n))})),e};!0===t[0]&&(n=t[1],t=Array.prototype.slice.call(t,2));var i=t.length;for(e=0;e<i;e++)n=r(n,t[e]);return n},normalizeTickInterval:function(e,t,n,r,i){var o=e;n=d(n,1);var s=e/n;for(t||(t=i?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===n?t=t.filter((function(e){return 0===e%1})):.1>=n&&(t=[1/n]))),r=0;r<t.length&&(o=t[r],!(i&&o*n>=e||!i&&s<=(t[r]+(t[r+1]||t[r]))/2));r++);return m(o*n,-Math.round(Math.log(.001)/Math.LN10))},objectEach:g,offset:function(e){var t=_.documentElement;return e=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:e.top+(x.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(x.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:e.width,height:e.height}},pad:function(e,t,n){return Array((t||2)+1-String(e).replace("-","").length).join(n||"0")+e},pick:d,pInt:r,relativeLength:function(e,t,n){return/%$/.test(e)?t*parseFloat(e)/100+(n||0):parseFloat(e)},removeEvent:v,splat:function(e){return o(e)?e:[e]},stableSort:function(e,t){var n,r,i=e.length;for(r=0;r<i;r++)e[r].safeI=r;for(e.sort((function(e,r){return n=t(e,r),0===n?e.safeI-r.safeI:n})),r=0;r<i;r++)delete e[r].safeI},syncTimeout:function(e,t,n){return 0<t?setTimeout(e,t,n):(e.call(0,n),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:E,useSerialIds:function(e){return T=d(e,T)},wrap:function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments),t=arguments,i=this;return i.proceed=function(){r.apply(i,arguments.length?arguments:t)},e.unshift(r),e=n.apply(this,e),i.proceed=null,e}}},S})),t(n,"Core/Chart/ChartDefaults.js",[],(function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}})),t(n,"Core/Color/Color.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.isNumber,r=t.merge,i=t.pInt;return t=function(){function t(n){this.rgba=[NaN,NaN,NaN,NaN],this.input=n;var r=e.Color;return r&&r!==t?new r(n):this instanceof t?void this.init(n):new t(n)}return t.parse=function(e){return e?new t(e):t.None},t.prototype.init=function(e){var n;if("object"===typeof e&&"undefined"!==typeof e.stops)this.stops=e.stops.map((function(e){return new t(e[1])}));else if("string"===typeof e){if(this.input=e=t.names[e.toLowerCase()]||e,"#"===e.charAt(0)){var r=e.length,i=parseInt(e.substr(1),16);7===r?n=[(16711680&i)>>16,(65280&i)>>8,255&i,1]:4===r&&(n=[(3840&i)>>4|(3840&i)>>8,(240&i)>>4|240&i,(15&i)<<4|15&i,1])}if(!n)for(i=t.parsers.length;i--&&!n;){var o=t.parsers[i];(r=o.regex.exec(e))&&(n=o.parse(r))}}n&&(this.rgba=n)},t.prototype.get=function(e){var t=this.input,i=this.rgba;if("object"===typeof t&&"undefined"!==typeof this.stops){var o=r(t);return o.stops=[].slice.call(o.stops),this.stops.forEach((function(t,n){o.stops[n]=[o.stops[n][0],t.get(e)]})),o}return i&&n(i[0])?"rgb"===e||!e&&1===i[3]?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===e?""+i[3]:"rgba("+i.join(",")+")":t},t.prototype.brighten=function(e){var t=this.rgba;if(this.stops)this.stops.forEach((function(t){t.brighten(e)}));else if(n(e)&&0!==e)for(var r=0;3>r;r++)t[r]+=i(255*e),0>t[r]&&(t[r]=0),255<t[r]&&(t[r]=255);return this},t.prototype.setOpacity=function(e){return this.rgba[3]=e,this},t.prototype.tweenTo=function(e,t){var r=this.rgba,i=e.rgba;return n(r[0])&&n(i[0])?(e=1!==i[3]||1!==r[3],(e?"rgba(":"rgb(")+Math.round(i[0]+(r[0]-i[0])*(1-t))+","+Math.round(i[1]+(r[1]-i[1])*(1-t))+","+Math.round(i[2]+(r[2]-i[2])*(1-t))+(e?","+(i[3]+(r[3]-i[3])*(1-t)):"")+")"):e.input||"none"},t.names={white:"#ffffff",black:"#000000"},t.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[i(e[1]),i(e[2]),i(e[3]),parseFloat(e[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[i(e[1]),i(e[2]),i(e[3]),1]}}],t.None=new t(""),t}(),t})),t(n,"Core/Color/Palettes.js",[],(function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}})),t(n,"Core/Time.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=e.win,r=t.defined,i=t.error,o=t.extend,s=t.isObject,a=t.merge,l=t.objectEach,c=t.pad,u=t.pick,h=t.splat,p=t.timeUnits,d=e.isSafari&&n.Intl&&n.Intl.DateTimeFormat.prototype.formatRange,f=e.isSafari&&n.Intl&&!n.Intl.DateTimeFormat.prototype.formatRange;return t=function(){function t(e){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=n.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(e)}return t.prototype.get=function(e,t){if(this.variableTimezone||this.timezoneOffset){var n=t.getTime(),r=n-this.getTimezoneOffset(t);return t.setTime(r),e=t["getUTC"+e](),t.setTime(n),e}return this.useUTC?t["getUTC"+e]():t["get"+e]()},t.prototype.set=function(e,t,n){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===e||"Seconds"===e||"Minutes"===e&&0===this.getTimezoneOffset(t)%36e5)return t["setUTC"+e](n);var r=this.getTimezoneOffset(t);return r=t.getTime()-r,t.setTime(r),t["setUTC"+e](n),e=this.getTimezoneOffset(t),r=t.getTime()+e,t.setTime(r)}return this.useUTC||d&&"FullYear"===e?t["setUTC"+e](n):t["set"+e](n)},t.prototype.update=function(e){var t=u(e&&e.useUTC,!0);this.options=e=a(!0,this.options||{},e),this.Date=e.Date||n.Date||Date,this.timezoneOffset=(this.useUTC=t)&&e.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=t&&!(!e.getTimezoneOffset&&!e.timezone)},t.prototype.makeTime=function(e,t,n,r,i,o){if(this.useUTC){var s=this.Date.UTC.apply(0,arguments),a=this.getTimezoneOffset(s);s+=a;var l=this.getTimezoneOffset(s);a!==l?s+=l-a:a-36e5!==this.getTimezoneOffset(s-36e5)||f||(s-=36e5)}else s=new this.Date(e,t,u(n,1),u(r,0),u(i,0),u(o,0)).getTime();return s},t.prototype.timezoneOffsetFunction=function(){var e=this,t=this.options,r=t.getTimezoneOffset,o=t.moment||n.moment;if(!this.useUTC)return function(e){return 6e4*new Date(e.toString()).getTimezoneOffset()};if(t.timezone){if(o)return function(e){return 6e4*-o.tz(e,t.timezone).utcOffset()};i(25)}return this.useUTC&&r?function(e){return 6e4*r(e.valueOf())}:function(){return 6e4*(e.timezoneOffset||0)}},t.prototype.dateFormat=function(t,n,i){if(!r(n)||isNaN(n))return e.defaultOptions.lang&&e.defaultOptions.lang.invalidDate||"";t=u(t,"%Y-%m-%d %H:%M:%S");var s=this,a=new this.Date(n),h=this.get("Hours",a),p=this.get("Day",a),d=this.get("Date",a),f=this.get("Month",a),m=this.get("FullYear",a),y=e.defaultOptions.lang,g=y&&y.weekdays,v=y&&y.shortWeekdays;return a=o({a:v?v[p]:g[p].substr(0,3),A:g[p],d:c(d),e:c(d,2," "),w:p,b:y.shortMonths[f],B:y.months[f],m:c(f+1),o:f+1,y:m.toString().substr(2,2),Y:m,H:c(h),k:h,I:c(h%12||12),l:h%12||12,M:c(this.get("Minutes",a)),p:12>h?"AM":"PM",P:12>h?"am":"pm",S:c(a.getSeconds()),L:c(Math.floor(n%1e3),3)},e.dateFormats),l(a,(function(e,r){for(;-1!==t.indexOf("%"+r);)t=t.replace("%"+r,"function"===typeof e?e.call(s,n):e)})),i?t.substr(0,1).toUpperCase()+t.substr(1):t},t.prototype.resolveDTLFormat=function(e){return s(e,!0)?e:(e=h(e),{main:e[0],from:e[1],to:e[2]})},t.prototype.getTimeTicks=function(e,t,n,i){var s,a=this,l=[],c={},h=new a.Date(t),d=e.unitRange,f=e.count||1;if(i=u(i,1),r(t)){if(a.set("Milliseconds",h,d>=p.second?0:f*Math.floor(a.get("Milliseconds",h)/f)),d>=p.second&&a.set("Seconds",h,d>=p.minute?0:f*Math.floor(a.get("Seconds",h)/f)),d>=p.minute&&a.set("Minutes",h,d>=p.hour?0:f*Math.floor(a.get("Minutes",h)/f)),d>=p.hour&&a.set("Hours",h,d>=p.day?0:f*Math.floor(a.get("Hours",h)/f)),d>=p.day&&a.set("Date",h,d>=p.month?1:Math.max(1,f*Math.floor(a.get("Date",h)/f))),d>=p.month){a.set("Month",h,d>=p.year?0:f*Math.floor(a.get("Month",h)/f));var m=a.get("FullYear",h)}d>=p.year&&a.set("FullYear",h,m-m%f),d===p.week&&(m=a.get("Day",h),a.set("Date",h,a.get("Date",h)-m+i+(m<i?-7:0))),m=a.get("FullYear",h),i=a.get("Month",h);var y=a.get("Date",h),g=a.get("Hours",h);for(t=h.getTime(),!a.variableTimezone&&a.useUTC||!r(n)||(s=n-t>4*p.month||a.getTimezoneOffset(t)!==a.getTimezoneOffset(n)),t=h.getTime(),h=1;t<n;)l.push(t),t=d===p.year?a.makeTime(m+h*f,0):d===p.month?a.makeTime(m,i+h*f):!s||d!==p.day&&d!==p.week?s&&d===p.hour&&1<f?a.makeTime(m,i,y,g+h*f):t+d*f:a.makeTime(m,i,y+h*f*(d===p.day?1:7)),h++;l.push(t),d<=p.hour&&1e4>l.length&&l.forEach((function(e){0===e%18e5&&"000000000"===a.dateFormat("%H%M%S%L",e)&&(c[e]="day")}))}return l.info=o(e,{higherRanks:c,totalRange:d*f}),l},t.prototype.getDateFormat=function(e,t,n,r){var i=this.dateFormat("%m-%d %H:%M:%S.%L",t),o={millisecond:15,second:12,minute:9,hour:6,day:3},s="millisecond";for(a in p){if(e===p.week&&+this.dateFormat("%w",t)===n&&"00:00:00.000"===i.substr(6)){var a="week";break}if(p[a]>e){a=s;break}if(o[a]&&i.substr(o[a])!=="01-01 00:00:00.000".substr(o[a]))break;"week"!==a&&(s=a)}if(a)var l=this.resolveDTLFormat(r[a]).main;return l},t}(),t})),t(n,"Core/DefaultOptions.js",[n["Core/Chart/ChartDefaults.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Color/Palettes.js"],n["Core/Time.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i,o){t=t.parse;var s=o.merge,a={colors:r.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:e,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:n.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:n.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:t("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};a.chart.styledMode=!1;var l=new i(s(a.global,a.time));return e={defaultOptions:a,defaultTime:l,getOptions:function(){return a},setOptions:function(e){return s(!0,a,e),(e.time||e.global)&&(n.time?n.time.update(s(a.global,a.time,e.global,e.time)):n.time=l),a}},e})),t(n,"Core/Animation/Fx.js",[n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t,n){var r=e.parse,i=t.win,o=n.isNumber,s=n.objectEach;return function(){function e(e,t,n){this.pos=NaN,this.options=t,this.elem=e,this.prop=n}return e.prototype.dSetter=function(){var e=this.paths,t=e&&e[0];e=e&&e[1];var n=this.now||0,r=[];if(1!==n&&t&&e)if(t.length===e.length&&1>n)for(var i=0;i<e.length;i++){for(var s=t[i],a=e[i],l=[],c=0;c<a.length;c++){var u=s[c],h=a[c];o(u)&&o(h)&&("A"!==a[0]||4!==c&&5!==c)?l[c]=u+n*(h-u):l[c]=h}r.push(l)}else r=e;else r=this.toD||[];this.elem.attr("d",r,void 0,!0)},e.prototype.update=function(){var e=this.elem,t=this.prop,n=this.now,r=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,n,null,!0):e.style[t]=n+this.unit,r&&r.call(e,n,this)},e.prototype.run=function(t,n,r){var o=this,s=o.options,a=function(e){return!a.stopped&&o.step(e)},l=i.requestAnimationFrame||function(e){setTimeout(e,13)},c=function(){for(var t=0;t<e.timers.length;t++)e.timers[t]()||e.timers.splice(t--,1);e.timers.length&&l(c)};t!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=n,this.unit=r,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===e.timers.push(a)&&l(c)):(delete s.curAnim[this.prop],s.complete&&0===Object.keys(s.curAnim).length&&s.complete.call(this.elem))},e.prototype.step=function(e){var t=+new Date,n=this.options,r=this.elem,i=n.complete,o=n.duration,a=n.curAnim;if(r.attr&&!r.element)e=!1;else if(e||t>=o+this.startTime){this.now=this.end,this.pos=1,this.update();var l=a[this.prop]=!0;s(a,(function(e){!0!==e&&(l=!1)})),l&&i&&i.call(r),e=!1}else this.pos=n.easing((t-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},e.prototype.initPath=function(e,t,n){function r(e,t){for(;e.length<p;){var n=e[0],r=t[p-e.length];r&&"M"===n[0]&&(e[0]="C"===r[0]?["C",n[1],n[2],n[1],n[2],n[1],n[2]]:["L",n[1],n[2]]),e.unshift(n),l&&(n=e.pop(),e.push(e[e.length-1],n))}}function i(e,t){for(;e.length<p;)if(t=e[Math.floor(e.length/c)-1].slice(),"C"===t[0]&&(t[1]=t[5],t[2]=t[6]),l){var n=e[Math.floor(e.length/c)].slice();e.splice(e.length/2,0,t,n)}else e.push(t)}var s=e.startX,a=e.endX;n=n.slice();var l=e.isArea,c=l?2:1;if(t=t&&t.slice(),!t)return[n,n];if(s&&a&&a.length){for(e=0;e<s.length;e++){if(s[e]===a[0]){var u=e;break}if(s[0]===a[a.length-s.length+e]){u=e;var h=!0;break}if(s[s.length-1]===a[a.length-s.length+e]){u=s.length-e;break}}"undefined"===typeof u&&(t=[])}if(t.length&&o(u)){var p=n.length+u*c;h?(r(t,n),i(n,t)):(r(n,t),i(t,n))}return[t,n]},e.prototype.fillSetter=function(){e.prototype.strokeSetter.apply(this,arguments)},e.prototype.strokeSetter=function(){this.elem.attr(this.prop,r(this.start).tweenTo(r(this.end),this.pos),void 0,!0)},e.timers=[],e}()})),t(n,"Core/Animation/AnimationUtilities.js",[n["Core/Animation/Fx.js"],n["Core/Utilities.js"]],(function(e,t){function n(e){return l(e)?c({duration:500,defer:0},e):{duration:e?500:0,defer:0}}function r(t,n){for(var r=e.timers.length;r--;)e.timers[r].elem!==t||n&&n!==e.timers[r].prop||(e.timers[r].stopped=!0)}var i=t.defined,o=t.getStyle,s=t.isArray,a=t.isNumber,l=t.isObject,c=t.merge,u=t.objectEach,h=t.pick;return{animate:function(t,n,i){var h,p,d,f="";if(!l(i)){var m=arguments;i={duration:m[2],easing:m[3],complete:m[4]}}a(i.duration)||(i.duration=400),i.easing="function"===typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=c(n),u(n,(function(a,l){r(t,l),d=new e(t,i,l),p=void 0,"d"===l&&s(n.d)?(d.paths=d.initPath(t,t.pathArray,n.d),d.toD=n.d,h=0,p=1):t.attr?h=t.attr(l):(h=parseFloat(o(t,l))||0,"opacity"!==l&&(f="px")),p||(p=a),"string"===typeof p&&p.match("px")&&(p=p.replace(/px/g,"")),d.run(h,p,f)}))},animObject:n,getDeferredAnimation:function(e,t,r){var o=n(t),s=0,a=0;return(r?[r]:e.series).forEach((function(e){e=n(e.options.animation),s=t&&i(t.defer)?o.defer:Math.max(s,e.duration+e.defer),a=Math.min(o.duration,e.duration)})),e.renderer.forExport&&(s=0),{defer:Math.max(0,s-a),duration:Math.min(s,a)}},setAnimation:function(e,t){t.renderer.globalAnimation=h(e,t.options.chart.animation,!0)},stop:r}})),t(n,"Core/Renderer/HTML/AST.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t){var n=e.SVG_NS,r=t.attr,i=t.createElement,o=t.error,s=t.isFunction,a=t.isString,l=t.objectEach,c=t.splat,u=(t=e.win.trustedTypes)&&s(t.createPolicy)&&t.createPolicy("highcharts",{createHTML:function(e){return e}}),h=u?u.createHTML(""):"";try{var p=!!(new DOMParser).parseFromString(h,"text/html")}catch(d){p=!1}return s=function(){function t(e){this.nodes="string"===typeof e?this.parseMarkup(e):e}return t.filterUserAttributes=function(e){return l(e,(function(n,r){var i=!0;-1===t.allowedAttributes.indexOf(r)&&(i=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(r)&&(i=a(n)&&t.allowedReferences.some((function(e){return 0===n.indexOf(e)}))),i||(o("Highcharts warning: Invalid attribute '"+r+"' in config"),delete e[r])})),e},t.setElementHTML=function(e,n){e.innerHTML=t.emptyHTML,n&&new t(n).addToDOM(e)},t.prototype.addToDOM=function(i){function s(i,a){var u;return c(i).forEach((function(i){var c=i.tagName,h=i.textContent?e.doc.createTextNode(i.textContent):void 0;if(c)if("#text"===c)var p=h;else if(-1!==t.allowedTags.indexOf(c)){c=e.doc.createElementNS("svg"===c?n:a.namespaceURI||n,c);var d=i.attributes||{};l(i,(function(e,t){"tagName"!==t&&"attributes"!==t&&"children"!==t&&"textContent"!==t&&(d[t]=e)})),r(c,t.filterUserAttributes(d)),h&&c.appendChild(h),s(i.children||[],c),p=c}else o("Highcharts warning: Invalid tagName "+c+" in config");p&&a.appendChild(p),u=p})),u}return s(this.nodes,i)},t.prototype.parseMarkup=function(e){var t=[];if(e=e.trim(),p)e=(new DOMParser).parseFromString(u?u.createHTML(e):e,"text/html");else{var n=i("div");n.innerHTML=e,e={body:n}}var r=function(e,t){var n=e.nodeName.toLowerCase(),i={tagName:n};if("#text"===n&&(i.textContent=e.textContent||""),n=e.attributes){var o={};[].forEach.call(n,(function(e){o[e.name]=e.value})),i.attributes=o}if(e.childNodes.length){var s=[];[].forEach.call(e.childNodes,(function(e){r(e,s)})),s.length&&(i.children=s)}t.push(i)};return[].forEach.call(e.body.childNodes,(function(e){return r(e,t)})),t},t.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),t.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),t.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),t.emptyHTML=h,t}(),s})),t(n,"Core/FormatUtilities.js",[n["Core/DefaultOptions.js"],n["Core/Utilities.js"]],(function(e,t){function n(e,t,n,i){e=+e||0,t=+t;var o=r.lang,c=(e.toString().split(".")[1]||"").split("e")[0].length,u=e.toString().split("e"),h=t;if(-1===t)t=Math.min(c,20);else if(s(t)){if(t&&u[1]&&0>u[1]){var p=t+ +u[1];0<=p?(u[0]=(+u[0]).toExponential(p).split("e")[0],t=p):(u[0]=u[0].split(".")[0]||0,e=20>t?(u[0]*Math.pow(10,u[1])).toFixed(t):0,u[1]=0)}}else t=2;p=(Math.abs(u[1]?u[0]:e)+Math.pow(10,-Math.max(t,c)-1)).toFixed(t),c=String(l(p));var d=3<c.length?c.length%3:0;return n=a(n,o.decimalPoint),i=a(i,o.thousandsSep),e=(0>e?"-":"")+(d?c.substr(0,d)+i:""),e=0>+u[1]&&!h?"0":e+c.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+i),t&&(e+=n+p.slice(-t)),u[1]&&0!==+e&&(e+="e"+u[1]),e}var r=e.defaultOptions,i=e.defaultTime,o=t.getNestedProperty,s=t.isNumber,a=t.pick,l=t.pInt;return{dateFormat:function(e,t,n){return i.dateFormat(e,t,n)},format:function(e,t,s){var a="{",l=!1,c=/f$/,u=/\.([0-9])/,h=r.lang,p=s&&s.time||i;s=s&&s.numberFormatter||n;for(var d=[];e;){var f=e.indexOf(a);if(-1===f)break;var m=e.slice(0,f);if(l){if(m=m.split(":"),a=o(m.shift()||"",t),m.length&&"number"===typeof a)if(m=m.join(":"),c.test(m)){var y=parseInt((m.match(u)||["","-1"])[1],10);null!==a&&(a=s(a,y,h.decimalPoint,-1<m.indexOf(",")?h.thousandsSep:""))}else a=p.dateFormat(m,a);d.push(a)}else d.push(m);e=e.slice(f+1),a=(l=!l)?"}":"{"}return d.push(e),d.join("")},numberFormat:n}})),t(n,"Core/Renderer/RendererUtilities.js",[n["Core/Utilities.js"]],(function(e){var t,n=e.clamp,r=e.pick,i=e.stableSort;return function(e){function t(e,o,s){var a,l=e,c=l.reducedLen||o,u=function(e,t){return(t.rank||0)-(e.rank||0)},h=function(e,t){return e.target-t.target},p=!0,d=[],f=0;for(a=e.length;a--;)f+=e[a].size;if(f>c){for(i(e,u),f=a=0;f<=c;)f+=e[a].size,a++;d=e.splice(a-1,e.length)}for(i(e,h),e=e.map((function(e){return{size:e.size,targets:[e.target],align:r(e.align,.5)}}));p;){for(a=e.length;a--;)c=e[a],u=(Math.min.apply(0,c.targets)+Math.max.apply(0,c.targets))/2,c.pos=n(u-c.size*c.align,0,o-c.size);for(a=e.length,p=!1;a--;)0<a&&e[a-1].pos+e[a-1].size>e[a].pos&&(e[a-1].size+=e[a].size,e[a-1].targets=e[a-1].targets.concat(e[a].targets),e[a-1].align=.5,e[a-1].pos+e[a-1].size>o&&(e[a-1].pos=o-e[a-1].size),e.splice(a,1),p=!0)}return l.push.apply(l,d),a=0,e.some((function(e){var n=0;return(e.targets||[]).some((function(){return l[a].pos=e.pos+n,"undefined"!==typeof s&&Math.abs(l[a].pos-l[a].target)>s?(l.slice(0,a+1).forEach((function(e){return delete e.pos})),l.reducedLen=(l.reducedLen||o)-.1*o,l.reducedLen>.1*o&&t(l,o,s),!0):(n+=l[a].size,a++,!1)}))})),i(l,h),l}e.distribute=t}(t||(t={})),t})),t(n,"Core/Renderer/SVG/SVGElement.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Renderer/HTML/AST.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i){var o=e.animate,s=e.animObject,a=e.stop,l=r.deg2rad,c=r.doc,u=r.noop,h=r.svg,p=r.SVG_NS,d=r.win,f=i.addEvent,m=i.attr,y=i.createElement,g=i.css,v=i.defined,b=i.erase,w=i.extend,_=i.fireEvent,x=i.isArray,S=i.isFunction,T=i.isNumber,E=i.isString,M=i.merge,A=i.objectEach,I=i.pick,C=i.pInt,O=i.syncTimeout,k=i.uniqueKey;return e=function(){function e(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=p,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return e.prototype._defaultGetter=function(e){return e=I(this[e+"Value"],this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},e.prototype._defaultSetter=function(e,t,n){n.setAttribute(t,e)},e.prototype.add=function(e){var t=this.renderer,n=this.element;if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,"undefined"!==typeof this.textStr&&"text"===this.element.nodeName&&t.buildText(this),this.added=!0,!e||e.handleZ||this.zIndex)var r=this.zIndexSetter();return r||(e?e.element:t.box).appendChild(n),this.onAdd&&this.onAdd(),this},e.prototype.addClass=function(e,t){var n=t?"":this.attr("class")||"";return e=(e||"").split(/ /g).reduce((function(e,t){return-1===n.indexOf(t)&&e.push(t),e}),n?[n]:[]).join(" "),e!==n&&this.attr("class",e),this},e.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},e.prototype.align=function(e,t,n){var r,i,o,s={},a=this.renderer,l=a.alignedObjects;e?(this.alignOptions=e,this.alignByTranslate=t,(!n||E(n))&&(this.alignTo=r=n||"renderer",b(l,this),l.push(this),n=void 0)):(e=this.alignOptions,t=this.alignByTranslate,r=this.alignTo),n=I(n,a[r],"scrollablePlotBox"===r?a.plotBox:void 0,a),r=e.align;var c=e.verticalAlign;return a=(n.x||0)+(e.x||0),l=(n.y||0)+(e.y||0),"right"===r?i=1:"center"===r&&(i=2),i&&(a+=(n.width-(e.width||0))/i),s[t?"translateX":"x"]=Math.round(a),"bottom"===c?o=1:"middle"===c&&(o=2),o&&(l+=(n.height-(e.height||0))/o),s[t?"translateY":"y"]=Math.round(l),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this},e.prototype.alignSetter=function(e){var t={left:"start",center:"middle",right:"end"};t[e]&&(this.alignValue=e,this.element.setAttribute("text-anchor",t[e]))},e.prototype.animate=function(e,t,n){var r=this,i=s(I(t,this.renderer.globalAnimation,!0));return t=i.defer,I(c.hidden,c.msHidden,c.webkitHidden,!1)&&(i.duration=0),0!==i.duration?(n&&(i.complete=n),O((function(){r.element&&o(r,e,i)}),t)):(this.attr(e,void 0,n),A(e,(function(e,t){i.step&&i.step.call(this,e,{prop:t,pos:1,elem:this})}),this)),this},e.prototype.applyTextOutline=function(e){var t=this.element;-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(t.style.fill)));var n=e.split(" ");if(e=n[n.length-1],(n=n[0])&&"none"!==n&&r.svg){this.fakeTS=!0,this.ySetter=this.xSetter,n=n.replace(/(^[\d\.]+)(.*?)$/g,(function(e,t,n){return 2*Number(t)+n})),this.removeTextOutline();var i=c.createElementNS(p,"tspan");m(i,{class:"highcharts-text-outline",fill:e,stroke:e,"stroke-width":n,"stroke-linejoin":"round"}),[].forEach.call(t.childNodes,(function(e){var t=e.cloneNode(!0);t.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach((function(e){return t.removeAttribute(e)})),i.appendChild(t)}));var o=c.createElementNS(p,"tspan");o.textContent="​",["x","y"].forEach((function(e){var n=t.getAttribute(e);n&&o.setAttribute(e,n)})),i.appendChild(o),t.insertBefore(i,t.firstChild)}},e.prototype.attr=function(e,t,n,r){var i,o,s,l=this.element,c=this.symbolCustomAttribs,u=this;if("string"===typeof e&&"undefined"!==typeof t){var h=e;e={},e[h]=t}return"string"===typeof e?u=(this[e+"Getter"]||this._defaultGetter).call(this,e,l):(A(e,(function(t,n){o=!1,r||a(this,n),this.symbolName&&-1!==c.indexOf(n)&&(i||(this.symbolAttr(e),i=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||(s=this[n+"Setter"]||this._defaultSetter,s.call(this,t,n,l),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,t,s))}),this),this.afterSetters()),n&&n.call(this),u},e.prototype.clip=function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},e.prototype.crisp=function(e,t){t=t||e.strokeWidth||0;var n=Math.round(t)%2/2;return e.x=Math.floor(e.x||this.x||0)+n,e.y=Math.floor(e.y||this.y||0)+n,e.width=Math.floor((e.width||this.width||0)-2*n),e.height=Math.floor((e.height||this.height||0)-2*n),v(e.strokeWidth)&&(e.strokeWidth=t),e},e.prototype.complexColor=function(e,t,r){var i,o,s,a,l,c,u,h,p,d,f,m=this.renderer,y=[];_(this.renderer,"complexColor",{args:arguments},(function(){if(e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o){if(s=e[o],l=m.gradients,c=e.stops,p=r.radialReference,x(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&p&&!v(s.gradientUnits)&&(a=s,s=M(s,m.getRadialAttr(p,a),{gradientUnits:"userSpaceOnUse"})),A(s,(function(e,t){"id"!==t&&y.push(t,e)})),A(c,(function(e){y.push(e)})),y=y.join(","),l[y])d=l[y].attr("id");else{s.id=d=k();var g=l[y]=m.createElement(o).attr(s).add(m.defs);g.radAttr=a,g.stops=[],c.forEach((function(e){0===e[1].indexOf("rgba")?(i=n.parse(e[1]),u=i.get("rgb"),h=i.get("a")):(u=e[1],h=1),e=m.createElement("stop").attr({offset:e[0],"stop-color":u,"stop-opacity":h}).add(g),g.stops.push(e)}))}f="url("+m.url+"#"+d+")",r.setAttribute(t,f),r.gradient=y,e.toString=function(){return f}}}))},e.prototype.css=function(e){var t=this.styles,n={},r=this.element,i=["textOutline","textOverflow","width"],o="",s=!t;if(e&&e.color&&(e.fill=e.color),t&&A(e,(function(e,r){t&&t[r]!==e&&(n[r]=e,s=!0)})),s){if(t&&(e=w(t,n)),e)if(null===e.width||"auto"===e.width)delete this.textWidth;else if("text"===r.nodeName.toLowerCase()&&e.width)var a=this.textWidth=C(e.width);if(this.styles=e,a&&!h&&this.renderer.forExport&&delete e.width,r.namespaceURI===this.SVG_NS){var l=function(e,t){return"-"+t.toLowerCase()};A(e,(function(e,t){-1===i.indexOf(t)&&(o+=t.replace(/([A-Z])/g,l)+":"+e+";")})),o&&m(r,"style",o)}else g(r,e);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),e&&e.textOutline&&this.applyTextOutline(e.textOutline))}return this},e.prototype.dashstyleSetter=function(e){var t=this["stroke-width"];if("inherit"===t&&(t=1),e=e&&e.toLowerCase()){var n=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(e=n.length;e--;)n[e]=""+C(n[e])*I(t,NaN);e=n.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}},e.prototype.destroy=function(){var e=this,t=e.element||{},n=e.renderer,r=t.ownerSVGElement,i=n.isSVG&&"SPAN"===t.nodeName&&e.parentGroup||void 0;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,a(e),e.clipPath&&r){var o=e.clipPath;[].forEach.call(r.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(e){-1<e.getAttribute("clip-path").indexOf(o.element.id)&&e.removeAttribute("clip-path")})),e.clipPath=o.destroy()}if(e.stops){for(r=0;r<e.stops.length;r++)e.stops[r].destroy();e.stops.length=0,e.stops=void 0}for(e.safeRemoveChild(t),n.styledMode||e.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)t=i.parentGroup,e.safeRemoveChild(i.div),delete i.div,i=t;e.alignTo&&b(n.alignedObjects,e),A(e,(function(t,n){e[n]&&e[n].parentGroup===e&&e[n].destroy&&e[n].destroy(),delete e[n]}))},e.prototype.destroyShadows=function(){(this.shadows||[]).forEach((function(e){this.safeRemoveChild(e)}),this),this.shadows=void 0},e.prototype.destroyTextPath=function(e,t){var n=e.getElementsByTagName("text")[0];if(n){if(n.removeAttribute("dx"),n.removeAttribute("dy"),t.element.setAttribute("id",""),this.textPathWrapper&&n.getElementsByTagName("textPath").length){for(e=this.textPathWrapper.element.childNodes;e.length;)n.appendChild(e[0]);n.removeChild(this.textPathWrapper.element)}}else(e.getAttribute("dx")||e.getAttribute("dy"))&&(e.removeAttribute("dx"),e.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},e.prototype.dSetter=function(e,t,n){x(e)&&("string"===typeof e[0]&&(e=this.renderer.pathToSegments(e)),this.pathArray=e,e=e.reduce((function(e,t,n){return t&&t.join?(n?e+" ":"")+t.join(" "):(t||"").toString()}),"")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),this[t]!==e&&(n.setAttribute(t,e),this[t]=e)},e.prototype.fadeOut=function(e){var t=this;t.animate({opacity:0},{duration:I(e,150),complete:function(){t.attr({y:-9999}).hide()}})},e.prototype.fillSetter=function(e,t,n){"string"===typeof e?n.setAttribute(t,e):e&&this.complexColor(e,t,n)},e.prototype.getBBox=function(t,n){var r=this.renderer,i=this.element,o=this.styles,s=this.textStr,a=r.cache,c=r.cacheKeys,u=i.namespaceURI===this.SVG_NS;n=I(n,this.rotation,0);var h,p=r.styledMode?i&&e.prototype.getStyle.call(i,"font-size"):o&&o.fontSize;if(v(s)){var d=s.toString();-1===d.indexOf("<")&&(d=d.replace(/[0-9]/g,"0")),d+=["",n,p,this.textWidth,o&&o.textOverflow,o&&o.fontWeight].join()}if(d&&!t&&(h=a[d]),!h){if(u||r.forExport){try{var f=this.fakeTS&&function(e){var t=i.querySelector(".highcharts-text-outline");t&&g(t,{display:e})};S(f)&&f("none"),h=i.getBBox?w({},i.getBBox()):{width:i.offsetWidth,height:i.offsetHeight},S(f)&&f("")}catch(m){}(!h||0>h.width)&&(h={width:0,height:0})}else h=this.htmlGetBBox();if(r.isSVG&&(t=h.width,r=h.height,u&&(h.height=r={"11px,17":14,"13px,20":16}[(p||"")+","+Math.round(r)]||r),n&&(u=n*l,h.width=Math.abs(r*Math.sin(u))+Math.abs(t*Math.cos(u)),h.height=Math.abs(r*Math.cos(u))+Math.abs(t*Math.sin(u)))),d&&(""===s||0<h.height)){for(;250<c.length;)delete a[c.shift()];a[d]||c.push(d),a[d]=h}}return h},e.prototype.getStyle=function(e){return d.getComputedStyle(this.element||this,"").getPropertyValue(e)},e.prototype.hasClass=function(e){return-1!==(""+this.attr("class")).split(" ").indexOf(e)},e.prototype.hide=function(e){return e?this.attr({y:-9999}):this.attr({visibility:"hidden"}),this},e.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},e.prototype.init=function(e,t){this.element="span"===t?y(t):c.createElementNS(this.SVG_NS,t),this.renderer=e,_(this,"afterInit")},e.prototype.invert=function(e){return this.inverted=e,this.updateTransform(),this},e.prototype.on=function(e,t){var n=this.onEvents;return n[e]&&n[e](),n[e]=f(this.element,e,t),this},e.prototype.opacitySetter=function(e,t,n){this.opacity=e=Number(Number(e).toFixed(3)),n.setAttribute(t,e)},e.prototype.removeClass=function(e){return this.attr("class",(""+this.attr("class")).replace(E(e)?new RegExp("(^| )"+e+"( |$)"):e," ").replace(/ +/g," ").trim())},e.prototype.removeTextOutline=function(){var e=this.element.querySelector("tspan.highcharts-text-outline");e&&this.safeRemoveChild(e)},e.prototype.safeRemoveChild=function(e){var t=e.parentNode;t&&t.removeChild(e)},e.prototype.setRadialReference=function(e){var t=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},e.prototype.setTextPath=function(e,n){var r=this.element,i=this.text?this.text.element:r,o={textAnchor:"text-anchor"},s=!1,a=this.textPathWrapper,l=!a;n=M(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},n);var c=t.filterUserAttributes(n.attributes);if(e&&n&&n.enabled){a&&null===a.element.parentNode?(l=!0,a=a.destroy()):a&&this.removeTextOutline.call(a.parentGroup),this.options&&this.options.padding&&(c.dx=-this.options.padding),a||(this.textPathWrapper=a=this.renderer.createElement("textPath"),s=!0);var h=a.element;if((n=e.element.getAttribute("id"))||e.element.setAttribute("id",n=k()),l)for(i.setAttribute("y",0),T(c.dx)&&i.setAttribute("x",-c.dx),e=[].slice.call(i.childNodes),l=0;l<e.length;l++){var p=e[l];p.nodeType!==d.Node.TEXT_NODE&&"tspan"!==p.nodeName||h.appendChild(p)}s&&a&&a.add({element:i}),h.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+n),v(c.dy)&&(h.parentNode.setAttribute("dy",c.dy),delete c.dy),v(c.dx)&&(h.parentNode.setAttribute("dx",c.dx),delete c.dx),A(c,(function(e,t){h.setAttribute(o[t]||t,e)})),r.removeAttribute("transform"),this.removeTextOutline.call(a),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=u}else a&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(r,e),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},e.prototype.shadow=function(e,t,n){var r,i=[],o=this.element,s=this.oldShadowOptions,a={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},l=!1;if(!0===e?r=a:"object"===typeof e&&(r=w(a,e)),r&&(r&&s&&A(r,(function(e,t){e!==s[t]&&(l=!0)})),l&&this.destroyShadows(),this.oldShadowOptions=r),r){if(!this.shadows){var c=r.opacity/r.width,u=this.parentInverted?"translate("+r.offsetY+", "+r.offsetX+")":"translate("+r.offsetX+", "+r.offsetY+")";for(a=1;a<=r.width;a++){var h=o.cloneNode(!1),p=2*r.width+1-2*a;m(h,{stroke:e.color||"#000000","stroke-opacity":c*a,"stroke-width":p,transform:u,fill:"none"}),h.setAttribute("class",(h.getAttribute("class")||"")+" highcharts-shadow"),n&&(m(h,"height",Math.max(m(h,"height")-p,0)),h.cutHeight=p),t?t.element.appendChild(h):o.parentNode&&o.parentNode.insertBefore(h,o),i.push(h)}this.shadows=i}}else this.destroyShadows();return this},e.prototype.show=function(e){return this.attr({visibility:e?"inherit":"visible"})},e.prototype.strokeSetter=function(t,n,r){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke?(r.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},e.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var e=this.getStyle("stroke-width"),t=0;if(e.indexOf("px")===e.length-2)t=C(e);else if(""!==e){var n=c.createElementNS(p,"rect");m(n,{width:e,"stroke-width":0}),this.element.parentNode.appendChild(n),t=n.getBBox().width,n.parentNode.removeChild(n)}return t},e.prototype.symbolAttr=function(e){var t=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach((function(n){t[n]=I(e[n],t[n])})),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},e.prototype.textSetter=function(e){e!==this.textStr&&(delete this.textPxLength,this.textStr=e,this.added&&this.renderer.buildText(this))},e.prototype.titleSetter=function(e){var t=this.element,n=t.getElementsByTagName("title")[0]||c.createElementNS(this.SVG_NS,"title");t.insertBefore?t.insertBefore(n,t.firstChild):t.appendChild(n),n.textContent=String(I(e,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},e.prototype.toFront=function(){var e=this.element;return e.parentNode.appendChild(e),this},e.prototype.translate=function(e,t){return this.attr({translateX:e,translateY:t})},e.prototype.updateShadows=function(e,t,n){var r=this.shadows;if(r)for(var i=r.length;i--;)n.call(r[i],"height"===e?Math.max(t-(r[i].cutHeight||0),0):"d"===e?this.d:t,e,r[i])},e.prototype.updateTransform=function(){var e=this.scaleX,t=this.scaleY,n=this.inverted,r=this.rotation,i=this.matrix,o=this.element,s=this.translateX||0,a=this.translateY||0;n&&(s+=this.width,a+=this.height),s=["translate("+s+","+a+")"],v(i)&&s.push("matrix("+i.join(",")+")"),n?s.push("rotate(90) scale(-1,1)"):r&&s.push("rotate("+r+" "+I(this.rotationOriginX,o.getAttribute("x"),0)+" "+I(this.rotationOriginY,o.getAttribute("y")||0)+")"),(v(e)||v(t))&&s.push("scale("+I(e,1)+" "+I(t,1)+")"),s.length&&o.setAttribute("transform",s.join(" "))},e.prototype.visibilitySetter=function(e,t,n){"inherit"===e?n.removeAttribute(t):this[t]!==e&&n.setAttribute(t,e),this[t]=e},e.prototype.xGetter=function(e){return"circle"===this.element.nodeName&&("x"===e?e="cx":"y"===e&&(e="cy")),this._defaultGetter(e)},e.prototype.zIndexSetter=function(e,t){var n=this.renderer,r=this.parentGroup,i=(r||n).element||n.box,o=this.element;n=i===n.box;var s,a=!1,l=this.added;if(v(e)?(o.setAttribute("data-z-index",e),e=+e,this[t]===e&&(l=!1)):v(this[t])&&o.removeAttribute("data-z-index"),this[t]=e,l){for((e=this.zIndex)&&r&&(r.handleZ=!0),t=i.childNodes,s=t.length-1;0<=s&&!a;s--){r=t[s],l=r.getAttribute("data-z-index");var c=!v(l);r!==o&&(0>e&&c&&!n&&!s?(i.insertBefore(o,t[s]),a=!0):(C(l)<=e||c&&(!v(e)||0<=e))&&(i.insertBefore(o,t[s+1]||null),a=!0))}a||(i.insertBefore(o,t[n?3:0]||null),a=!0)}return a},e}(),e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter,e.prototype.yGetter=e.prototype.xGetter,e.prototype.matrixSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.rotationSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.verticalAlignSetter=function(e,t){this[t]=e,this.doTransform=!0},e})),t(n,"Core/Renderer/RendererRegistry.js",[n["Core/Globals.js"]],(function(e){var t;return function(t){var n;t.rendererTypes={},t.getRendererType=function(e){return void 0===e&&(e=n),t.rendererTypes[e]||t.rendererTypes[n]},t.registerRendererType=function(r,i,o){t.rendererTypes[r]=i,n&&!o||(n=r,e.Renderer=i)}}(t||(t={})),t})),t(n,"Core/Renderer/SVG/SVGLabel.js",[n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),r=t.defined,i=t.extend,o=t.isNumber,s=t.merge,a=t.pick,l=t.removeEvent;return function(t){function c(e,n,r,i,o,s,a,l,u,h){var p,d=t.call(this)||this;return d.paddingLeftSetter=d.paddingSetter,d.paddingRightSetter=d.paddingSetter,d.init(e,"g"),d.textStr=n,d.x=r,d.y=i,d.anchorX=s,d.anchorY=a,d.baseline=u,d.className=h,d.addClass("button"===h?"highcharts-no-tooltip":"highcharts-label"),h&&d.addClass("highcharts-"+h),d.text=e.text(void 0,0,0,l).attr({zIndex:1}),"string"===typeof o&&((p=/^url\((.*?)\)$/.test(o))||d.renderer.symbols[o])&&(d.symbolKey=o),d.bBox=c.emptyBBox,d.padding=3,d.baselineOffset=0,d.needsBox=e.styledMode||p,d.deferredAttr={},d.alignFactor=0,d}return n(c,t),c.prototype.alignSetter=function(e){e={left:0,center:.5,right:1}[e],e!==this.alignFactor&&(this.alignFactor=e,this.bBox&&o(this.xSetting)&&this.attr({x:this.xSetting}))},c.prototype.anchorXSetter=function(e,t){this.anchorX=e,this.boxAttr(t,Math.round(e)-this.getCrispAdjust()-this.xSetting)},c.prototype.anchorYSetter=function(e,t){this.anchorY=e,this.boxAttr(t,e-this.ySetting)},c.prototype.boxAttr=function(e,t){this.box?this.box.attr(e,t):this.deferredAttr[e]=t},c.prototype.css=function(t){if(t){var n={};t=s(t),c.textProps.forEach((function(e){"undefined"!==typeof t[e]&&(n[e]=t[e],delete t[e])})),this.text.css(n);var r="width"in n;"fontSize"in n||"fontWeight"in n?this.updateTextPadding():r&&this.updateBoxSize()}return e.prototype.css.call(this,t)},c.prototype.destroy=function(){l(this.element,"mouseenter"),l(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),e.prototype.destroy.call(this)},c.prototype.fillSetter=function(e,t){e&&(this.needsBox=!0),this.fill=e,this.boxAttr(t,e)},c.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var e=this.padding,t=a(this.paddingLeft,e);return{width:this.width,height:this.height,x:this.bBox.x-t,y:this.bBox.y-e}},c.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},c.prototype.heightSetter=function(e){this.heightSetting=e},c.prototype.onAdd=function(){var e=this.textStr;this.text.add(this),this.attr({text:r(e)?e:"",x:this.x,y:this.y}),this.box&&r(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},c.prototype.paddingSetter=function(e,t){o(e)?e!==this[t]&&(this[t]=e,this.updateTextPadding()):this[t]=void 0},c.prototype.rSetter=function(e,t){this.boxAttr(t,e)},c.prototype.shadow=function(e){return e&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(e)),this},c.prototype.strokeSetter=function(e,t){this.stroke=e,this.boxAttr(t,e)},c.prototype["stroke-widthSetter"]=function(e,t){e&&(this.needsBox=!0),this["stroke-width"]=e,this.boxAttr(t,e)},c.prototype["text-alignSetter"]=function(e){this.textAlign=e},c.prototype.textSetter=function(e){"undefined"!==typeof e&&this.text.attr({text:e}),this.updateTextPadding()},c.prototype.updateBoxSize=function(){var e=this.text.element.style,t={},n=this.padding,s=this.bBox=o(this.widthSetting)&&o(this.heightSetting)&&!this.textAlign||!r(this.text.textStr)?c.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||s.height||0)+2*n,e=this.renderer.fontMetrics(e&&e.fontSize,this.text),this.baselineOffset=n+Math.min((this.text.firstLineMetrics||e).b,s.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-e.h)/2),this.needsBox&&(this.box||(n=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),n.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),n.add(this)),n=this.getCrispAdjust(),t.x=n,t.y=(this.baseline?-this.baselineOffset:0)+n,t.width=Math.round(this.width),t.height=Math.round(this.height),this.box.attr(i(t,this.deferredAttr)),this.deferredAttr={})},c.prototype.updateTextPadding=function(){var e=this.text;this.updateBoxSize();var t=this.baseline?0:this.baselineOffset,n=a(this.paddingLeft,this.padding);r(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(n+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),n===e.x&&t===e.y||(e.attr("x",n),e.hasBoxWidthChanged&&(this.bBox=e.getBBox(!0)),"undefined"!==typeof t&&e.attr("y",t)),e.x=n,e.y=t},c.prototype.widthSetter=function(e){this.widthSetting=o(e)?e:void 0},c.prototype.getPaddedWidth=function(){var e=this.padding,t=a(this.paddingLeft,e);return e=a(this.paddingRight,e),(this.widthSetting||this.bBox.width||0)+t+e},c.prototype.xSetter=function(e){this.x=e,this.alignFactor&&(e-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(e),this.attr("translateX",this.xSetting)},c.prototype.ySetter=function(e){this.ySetting=this.y=Math.round(e),this.attr("translateY",this.ySetting)},c.emptyBBox={width:0,height:0,x:0,y:0},c.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),c}(e)})),t(n,"Core/Renderer/SVG/Symbols.js",[n["Core/Utilities.js"]],(function(e){function t(e,t,n,r,o){var a=[];if(o){var l=o.start||0,c=s(o.r,n);n=s(o.r,r||n);var u=(o.end||0)-.001;r=o.innerR;var h=s(o.open,.001>Math.abs((o.end||0)-l-2*Math.PI)),p=Math.cos(l),d=Math.sin(l),f=Math.cos(u),m=Math.sin(u);l=s(o.longArc,.001>u-l-Math.PI?0:1),a.push(["M",e+c*p,t+n*d],["A",c,n,0,l,s(o.clockwise,1),e+c*f,t+n*m]),i(r)&&a.push(h?["M",e+r*f,t+r*m]:["L",e+r*f,t+r*m],["A",r,r,0,l,i(o.clockwise)?1-o.clockwise:0,e+r*p,t+r*d]),h||a.push(["Z"])}return a}function n(e,t,n,i,o){return o&&o.r?r(e,t,n,i,o):[["M",e,t],["L",e+n,t],["L",e+n,t+i],["L",e,t+i],["Z"]]}function r(e,t,n,r,i){return i=i&&i.r||0,[["M",e+i,t],["L",e+n-i,t],["C",e+n,t,e+n,t,e+n,t+i],["L",e+n,t+r-i],["C",e+n,t+r,e+n,t+r,e+n-i,t+r],["L",e+i,t+r],["C",e,t+r,e,t+r,e,t+r-i],["L",e,t+i],["C",e,t,e,t,e+i,t]]}var i=e.defined,o=e.isNumber,s=e.pick;return{arc:t,callout:function(e,t,n,i,s){var a=Math.min(s&&s.r||0,n,i),l=a+6,c=s&&s.anchorX;s=s&&s.anchorY||0;var u=r(e,t,n,i,{r:a});return o(c)?(e+c>=n?s>t+l&&s<t+i-l?u.splice(3,1,["L",e+n,s-6],["L",e+n+6,s],["L",e+n,s+6],["L",e+n,t+i-a]):u.splice(3,1,["L",e+n,i/2],["L",c,s],["L",e+n,i/2],["L",e+n,t+i-a]):0>=e+c?s>t+l&&s<t+i-l?u.splice(7,1,["L",e,s+6],["L",e-6,s],["L",e,s-6],["L",e,t+a]):u.splice(7,1,["L",e,i/2],["L",c,s],["L",e,i/2],["L",e,t+a]):s&&s>i&&c>e+l&&c<e+n-l?u.splice(5,1,["L",c+6,t+i],["L",c,t+i+6],["L",c-6,t+i],["L",e+a,t+i]):s&&0>s&&c>e+l&&c<e+n-l&&u.splice(1,1,["L",c-6,t],["L",c,t-6],["L",c+6,t],["L",n-a,t]),u):u},circle:function(e,n,r,i){return t(e+r/2,n+i/2,r/2,i/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(e,t,n,r){return[["M",e+n/2,t],["L",e+n,t+r/2],["L",e+n/2,t+r],["L",e,t+r/2],["Z"]]},rect:n,roundedRect:r,square:n,triangle:function(e,t,n,r){return[["M",e+n/2,t],["L",e+n,t+r],["L",e,t+r],["Z"]]},"triangle-down":function(e,t,n,r){return[["M",e,t],["L",e+n,t],["L",e+n/2,t+r],["Z"]]}}})),t(n,"Core/Renderer/SVG/TextBuilder.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t,n){var r=t.doc,i=t.SVG_NS,o=t.win,s=n.attr,a=n.isString,l=n.objectEach,c=n.pick;return function(){function t(e){var t=e.styles;this.renderer=e.renderer,this.svgElement=e,this.width=e.textWidth,this.textLineHeight=t&&t.lineHeight,this.textOutline=t&&t.textOutline,this.ellipsis=!(!t||"ellipsis"!==t.textOverflow),this.noWrap=!(!t||"nowrap"!==t.whiteSpace),this.fontSize=t&&t.fontSize}return t.prototype.buildSVG=function(){var t=this.svgElement,n=t.element,i=t.renderer,o=c(t.textStr,"").toString(),s=-1!==o.indexOf("<"),l=n.childNodes;i=this.width&&!t.added&&i.box;var u=/<br.*?>/g,h=[o,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(h!==t.textCache){for(t.textCache=h,delete t.actualWidth,h=l.length;h--;)n.removeChild(l[h]);s||this.ellipsis||this.width||-1!==o.indexOf(" ")&&(!this.noWrap||u.test(o))?""!==o&&(i&&i.appendChild(n),o=new e(o),this.modifyTree(o.nodes),o.addToDOM(t.element),this.modifyDOM(),this.ellipsis&&-1!==(n.textContent||"").indexOf("…")&&t.attr("title",this.unescapeEntities(t.textStr||"",["&lt;","&gt;"])),i&&i.removeChild(n)):n.appendChild(r.createTextNode(this.unescapeEntities(o))),a(this.textOutline)&&t.applyTextOutline&&t.applyTextOutline(this.textOutline)}},t.prototype.modifyDOM=function(){var e,t=this,n=this.svgElement,a=s(n.element,"x");for(n.firstLineMetrics=void 0;e=n.element.firstChild;){if(!/^[\s\u200B]*$/.test(e.textContent||" "))break;n.element.removeChild(e)}[].forEach.call(n.element.querySelectorAll("tspan.highcharts-br"),(function(e,r){e.nextSibling&&e.previousSibling&&(0===r&&1===e.previousSibling.nodeType&&(n.firstLineMetrics=n.renderer.fontMetrics(void 0,e.previousSibling)),s(e,{dy:t.getLineHeight(e.nextSibling),x:a}))}));var l=this.width||0;if(l){var c=function(e,o){var c=e.textContent||"",u=c.replace(/([^\^])-/g,"$1- ").split(" "),h=!t.noWrap&&(1<u.length||1<n.element.childNodes.length),p=t.getLineHeight(o),d=0,f=n.actualWidth;if(t.ellipsis)c&&t.truncate(e,c,void 0,0,Math.max(0,l-parseInt(t.fontSize||12,10)),(function(e,t){return e.substring(0,t)+"…"}));else if(h){for(c=[],h=[];o.firstChild&&o.firstChild!==e;)h.push(o.firstChild),o.removeChild(o.firstChild);for(;u.length;)u.length&&!t.noWrap&&0<d&&(c.push(e.textContent||""),e.textContent=u.join(" ").replace(/- /g,"-")),t.truncate(e,void 0,u,0===d&&f||0,l,(function(e,t){return u.slice(0,t).join(" ").replace(/- /g,"-")})),f=n.actualWidth,d++;h.forEach((function(t){o.insertBefore(t,e)})),c.forEach((function(t){o.insertBefore(r.createTextNode(t),e),t=r.createElementNS(i,"tspan"),t.textContent="​",s(t,{dy:p,x:a}),o.insertBefore(t,e)}))}},u=function(e){[].slice.call(e.childNodes).forEach((function(t){t.nodeType===o.Node.TEXT_NODE?c(t,e):(-1!==t.className.baseVal.indexOf("highcharts-br")&&(n.actualWidth=0),u(t))}))};u(n.element)}},t.prototype.getLineHeight=function(e){var t;return e=e.nodeType===o.Node.TEXT_NODE?e.parentElement:e,this.renderer.styledMode||(t=e&&/(px|em)$/.test(e.style.fontSize)?e.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t,e||this.svgElement.element).h},t.prototype.modifyTree=function(e){var t=this,n=function(r,i){var o=r.attributes;o=void 0===o?{}:o;var s=r.children,l=r.tagName,c=t.renderer.styledMode;"b"===l||"strong"===l?c?o["class"]="highcharts-strong":o.style="font-weight:bold;"+(o.style||""):"i"!==l&&"em"!==l||(c?o["class"]="highcharts-emphasized":o.style="font-style:italic;"+(o.style||"")),a(o.style)&&(o.style=o.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===l?(o["class"]="highcharts-br",r.textContent="​",(i=e[i+1])&&i.textContent&&(i.textContent=i.textContent.replace(/^ +/gm,""))):"a"===l&&s&&s.some((function(e){return"#text"===e.tagName}))&&(r.children=[{children:s,tagName:"tspan"}]),"#text"!==l&&"a"!==l&&(r.tagName="tspan"),r.attributes=o,s&&s.filter((function(e){return"#text"!==e.tagName})).forEach(n)};e.forEach(n)},t.prototype.truncate=function(e,t,n,r,i,o){var s,a=this.svgElement,l=a.renderer,c=a.rotation,u=[],h=n?1:0,p=(t||n||"").length,d=p,f=function(i,s){s=s||i;var c=e.parentNode;if(c&&"undefined"===typeof u[s])if(c.getSubStringLength)try{u[s]=r+c.getSubStringLength(0,n?s+1:s)}catch(h){}else l.getSpanWidth&&(e.textContent=o(t||n,i),u[s]=r+l.getSpanWidth(a,e));return u[s]};a.rotation=0;var m=f(e.textContent.length);if(r+m>i){for(;h<=p;)d=Math.ceil((h+p)/2),n&&(s=o(n,d)),m=f(d,s&&s.length-1),h===p?h=p+1:m>i?p=d-1:h=d;0===p?e.textContent="":t&&p===t.length-1||(e.textContent=s||o(t||n,d))}n&&n.splice(0,d),a.actualWidth=m,a.rotation=c},t.prototype.unescapeEntities=function(e,t){return l(this.renderer.escapes,(function(n,r){t&&-1!==t.indexOf(n)||(e=e.toString().replace(new RegExp(n,"g"),r))})),e},t}()})),t(n,"Core/Renderer/SVG/SVGRenderer.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGLabel.js"],n["Core/Renderer/SVG/Symbols.js"],n["Core/Renderer/SVG/TextBuilder.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i,o,s,a,l){var c,u=n.charts,h=n.deg2rad,p=n.doc,d=n.isFirefox,f=n.isMS,m=n.isWebKit,y=n.noop,g=n.SVG_NS,v=n.symbolSizes,b=n.win,w=l.addEvent,_=l.attr,x=l.createElement,S=l.css,T=l.defined,E=l.destroyObjectProperties,M=l.extend,A=l.isArray,I=l.isNumber,C=l.isObject,O=l.isString,k=l.merge,R=l.pick,L=l.pInt,N=l.uniqueKey;return n=function(){function n(e,t,n,r,i,o,s){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(e,t,n,r,i,o,s)}return n.prototype.init=function(e,t,n,r,i,o,s){var a,l=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),c=l.element;s||l.css(this.getStyle(r)),e.appendChild(c),_(e,"dir","ltr"),-1===e.innerHTML.indexOf("xmlns")&&_(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=l,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 9.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=o,this.forExport=i,this.styledMode=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,n,!1),d&&e.getBoundingClientRect&&(t=function(){S(e,{left:0,top:0}),a=e.getBoundingClientRect(),S(e,{left:Math.ceil(a.left)-a.left+"px",top:Math.ceil(a.top)-a.top+"px"})},t(),this.unSubPixelFix=w(b,"resize",t))},n.prototype.definition=function(t){return new e([t]).addToDOM(this.defs.element)},n.prototype.getReferenceURL=function(){if((d||m)&&p.getElementsByTagName("base").length){if(!T(c)){var t=N();t=new e([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+t+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(p.body),S(t,{position:"fixed",top:0,left:0,zIndex:9e5});var n=p.elementFromPoint(6,6);c="hitme"===(n&&n.id),p.body.removeChild(t)}if(c)return b.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},n.prototype.getStyle=function(e){return this.style=M({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},n.prototype.setStyle=function(e){this.boxWrapper.css(this.getStyle(e))},n.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},n.prototype.destroy=function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),E(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},n.prototype.createElement=function(e){var t=new this.Element;return t.init(this,e),t},n.prototype.getRadialAttr=function(e,t){return{cx:e[0]-e[2]/2+(t.cx||0)*e[2],cy:e[1]-e[2]/2+(t.cy||0)*e[2],r:(t.r||0)*e[2]}},n.prototype.buildText=function(e){new a(e).buildSVG()},n.prototype.getContrast=function(e){return e=t.parse(e).rgba,e[0]*=1,e[1]*=1.2,e[2]*=.5,459<e[0]+e[1]+e[2]?"#000000":"#FFFFFF"},n.prototype.button=function(t,n,r,i,o,s,a,l,c,u){var h=this.label(t,n,r,c,void 0,void 0,u,void 0,"button"),p=this.styledMode,d=0,m=o?k(o):{};if(t=m&&m.style||{},m=e.filterUserAttributes(m),h.attr(k({padding:8,r:2},m)),!p){m=k({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:t},m);var y=m.style;delete m.style,s=k(m,{fill:"#e6e6e6"},e.filterUserAttributes(s||{}));var g=s.style;delete s.style,a=k(m,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},e.filterUserAttributes(a||{}));var v=a.style;delete a.style,l=k(m,{style:{color:"#cccccc"}},e.filterUserAttributes(l||{}));var b=l.style;delete l.style}return w(h.element,f?"mouseover":"mouseenter",(function(){3!==d&&h.setState(1)})),w(h.element,f?"mouseout":"mouseleave",(function(){3!==d&&h.setState(d)})),h.setState=function(e){1!==e&&(h.state=d=e),h.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][e||0]),p||h.attr([m,s,a,l][e||0]).css([y,g,v,b][e||0])},p||h.attr(m).css(M({cursor:"default"},y)),h.on("touchstart",(function(e){return e.stopPropagation()})).on("click",(function(e){3!==d&&i.call(h,e)}))},n.prototype.crispLine=function(e,t,n){void 0===n&&(n="round");var r=e[0],i=e[1];return T(r[1])&&r[1]===i[1]&&(r[1]=i[1]=Math[n](r[1])-t%2/2),T(r[2])&&r[2]===i[2]&&(r[2]=i[2]=Math[n](r[2])+t%2/2),e},n.prototype.path=function(e){var t=this.styledMode?{}:{fill:"none"};return A(e)?t.d=e:C(e)&&M(t,e),this.createElement("path").attr(t)},n.prototype.circle=function(e,t,n){return e=C(e)?e:"undefined"===typeof e?{}:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=t.ySetter=function(e,t,n){n.setAttribute("c"+t,e)},t.attr(e)},n.prototype.arc=function(e,t,n,r,i,o){return C(e)?(r=e,t=r.y,n=r.r,e=r.x):r={innerR:r,start:i,end:o},e=this.symbol("arc",e,t,n,n,r),e.r=n,e},n.prototype.rect=function(e,t,n,r,i,o){i=C(e)?e.r:i;var s=this.createElement("rect");return e=C(e)?e:"undefined"===typeof e?{}:{x:e,y:t,width:Math.max(n,0),height:Math.max(r,0)},this.styledMode||("undefined"!==typeof o&&(e["stroke-width"]=o,e=s.crisp(e)),e.fill="none"),i&&(e.r=i),s.rSetter=function(e,t,n){s.r=e,_(n,{rx:e,ry:e})},s.rGetter=function(){return s.r||0},s.attr(e)},n.prototype.setSize=function(e,t,n){this.width=e,this.height=t,this.boxWrapper.animate({width:e,height:t},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:R(n,!0)?void 0:0}),this.alignElements()},n.prototype.g=function(e){var t=this.createElement("g");return e?t.attr({class:"highcharts-"+e}):t},n.prototype.image=function(e,t,n,r,i,o){var s={preserveAspectRatio:"none"},a=function(e,t){e.setAttributeNS?e.setAttributeNS("http://www.w3.org/1999/xlink","href",t):e.setAttribute("hc-svg-href",t)};I(t)&&(s.x=t),I(n)&&(s.y=n),I(r)&&(s.width=r),I(i)&&(s.height=i);var l=this.createElement("image").attr(s);return t=function(t){a(l.element,e),o.call(l,t)},o?(a(l.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n=new b.Image,w(n,"load",t),n.src=e,n.complete&&t({})):a(l.element,e),l},n.prototype.symbol=function(e,t,n,r,i,o){var s,a=this,l=/^url\((.*?)\)$/,c=l.test(e),h=!c&&(this.symbols[e]?e:"circle"),d=h&&this.symbols[h];if(d){"number"===typeof t&&(s=d.call(this.symbols,Math.round(t||0),Math.round(n||0),r||0,i||0,o));var f=this.path(s);a.styledMode||f.attr("fill","none"),M(f,{symbolName:h||void 0,x:t,y:n,width:r,height:i}),o&&M(f,o)}else if(c){var m=e.match(l)[1],y=f=this.image(m);y.imgwidth=R(v[m]&&v[m].width,o&&o.width),y.imgheight=R(v[m]&&v[m].height,o&&o.height);var g=function(e){return e.attr({width:e.width,height:e.height})};["width","height"].forEach((function(e){y[e+"Setter"]=function(e,t){var n=this["img"+t];this[t]=e,T(n)&&(o&&"within"===o.backgroundSize&&this.width&&this.height&&(n=Math.round(n*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(t,n),this.alignByTranslate||(e=((this[t]||0)-n)/2,this.attr("width"===t?{translateX:e}:{translateY:e})))}})),T(t)&&y.attr({x:t,y:n}),y.isImg=!0,T(y.imgwidth)&&T(y.imgheight)?g(y):(y.attr({width:0,height:0}),x("img",{onload:function(){var e=u[a.chartIndex];0===this.width&&(S(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),v[m]={width:this.width,height:this.height},y.imgwidth=this.width,y.imgheight=this.height,y.element&&g(y),this.parentNode&&this.parentNode.removeChild(this),a.imgCount--,a.imgCount||!e||e.hasLoaded||e.onload()},src:m}),this.imgCount++)}return f},n.prototype.clipRect=function(e,t,n,r){var i=N()+"-",o=this.createElement("clipPath").attr({id:i}).add(this.defs);return e=this.rect(e,t,n,r,0).add(o),e.id=i,e.clipPath=o,e.count=0,e},n.prototype.text=function(e,t,n,r){var i={};return!r||!this.allowHTML&&this.forExport?(i.x=Math.round(t||0),n&&(i.y=Math.round(n)),T(e)&&(i.text=e),e=this.createElement("text").attr(i),(!r||this.forExport&&!this.allowHTML)&&(e.xSetter=function(e,t,n){for(var r,i=n.getElementsByTagName("tspan"),o=n.getAttribute(t),s=0;s<i.length;s++)r=i[s],r.getAttribute(t)===o&&r.setAttribute(t,e);n.setAttribute(t,e)}),e):this.html(e,t,n)},n.prototype.fontMetrics=function(e,t){return e=!this.styledMode&&/px/.test(e)||!b.getComputedStyle?e||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize:t&&i.prototype.getStyle.call(t,"font-size"),e=/px/.test(e)?L(e):12,t=24>e?e+3:Math.round(1.2*e),{h:t,b:Math.round(.8*t),f:e}},n.prototype.rotCorr=function(e,t,n){var r=e;return t&&n&&(r=Math.max(r*Math.cos(t*h),4)),{x:-e/3*Math.sin(t*h),y:r}},n.prototype.pathToSegments=function(e){for(var t=[],n=[],r={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},i=0;i<e.length;i++)O(n[0])&&I(e[i])&&n.length===r[n[0].toUpperCase()]&&e.splice(i,0,n[0].replace("M","L").replace("m","l")),"string"===typeof e[i]&&(n.length&&t.push(n.slice(0)),n.length=0),n.push(e[i]);return t.push(n.slice(0)),t},n.prototype.label=function(e,t,n,r,i,s,a,l,c){return new o(this,e,t,n,r,i,s,a,l,c)},n.prototype.alignElements=function(){this.alignedObjects.forEach((function(e){return e.align()}))},n}(),M(n.prototype,{Element:i,SVG_NS:g,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:s,draw:y}),r.registerRendererType("svg",n,!0),n})),t(n,"Core/Renderer/HTML/HTMLElement.js",[n["Core/Globals.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=e.isFirefox,o=e.isMS,s=e.isWebKit,a=e.win,l=n.css,c=n.defined,u=n.extend,h=n.pick,p=n.pInt;return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.compose=function(e){if(-1===t.composedClasses.indexOf(e)){t.composedClasses.push(e);var n=t.prototype,r=e.prototype;r.getSpanCorrection=n.getSpanCorrection,r.htmlCss=n.htmlCss,r.htmlGetBBox=n.htmlGetBBox,r.htmlUpdateTransform=n.htmlUpdateTransform,r.setSpanRotation=n.setSpanRotation}return e},t.prototype.getSpanCorrection=function(e,t,n){this.xCorr=-e*n,this.yCorr=-t},t.prototype.htmlCss=function(e){var t="SPAN"===this.element.tagName&&e&&"width"in e,n=h(t&&e.width,void 0);if(t){delete e.width,this.textWidth=n;var r=!0}return e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=u(this.styles,e),l(this.element,e),r&&this.htmlUpdateTransform(),this},t.prototype.htmlGetBBox=function(){var e=this.element;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},t.prototype.htmlUpdateTransform=function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,r=this.translateY||0,i=this.x||0,o=this.y||0,s=this.textAlign||"left",a={left:0,center:.5,right:1}[s],u=this.styles;if(u=u&&u.whiteSpace,l(t,{marginLeft:n,marginTop:r}),!e.styledMode&&this.shadows&&this.shadows.forEach((function(e){l(e,{marginLeft:n+1,marginTop:r+1})})),this.inverted&&[].forEach.call(t.childNodes,(function(n){e.invertChild(n,t)})),"SPAN"===t.tagName){var h=this.rotation,d=this.textWidth&&p(this.textWidth),f=[h,s,t.innerHTML,this.textWidth,this.textAlign].join(),m=void 0;if(m=!1,d!==this.oldTextWidth){if(this.textPxLength)var y=this.textPxLength;else l(t,{width:"",whiteSpace:u||"nowrap"}),y=t.offsetWidth;(d>this.oldTextWidth||y>d)&&(/[ \-]/.test(t.textContent||t.innerText)||"ellipsis"===t.style.textOverflow)&&(l(t,{width:y>d||h?d+"px":"auto",display:"block",whiteSpace:u||"normal"}),this.oldTextWidth=d,m=!0)}this.hasBoxWidthChanged=m,f!==this.cTT&&(m=e.fontMetrics(t.style.fontSize,t).b,!c(h)||h===(this.oldRotation||0)&&s===this.oldAlign||this.setSpanRotation(h,a,m),this.getSpanCorrection(!c(h)&&this.textPxLength||t.offsetWidth,m,a,h,s)),l(t,{left:i+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),this.cTT=f,this.oldRotation=h,this.oldAlign=s}}else this.alignOnAdd=!0},t.prototype.setSpanRotation=function(e,t,n){var r={},c=o&&!/Edge/.test(a.navigator.userAgent)?"-ms-transform":s?"-webkit-transform":i?"MozTransform":a.opera?"-o-transform":void 0;c&&(r[c]=r.transform="rotate("+e+"deg)",r[c+(i?"Origin":"-origin")]=r.transformOrigin=100*t+"% "+n+"px",l(this.element,r))},t.composedClasses=[],t}(t)})),t(n,"Core/Renderer/HTML/HTMLRenderer.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Utilities.js"]],(function(e,t,n,r){var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=r.attr,s=r.createElement,a=r.extend,l=r.pick;return function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),r.compose=function(e){return-1===r.composedClasses.indexOf(e)&&(r.composedClasses.push(e),e.prototype.html=r.prototype.html),e},r.prototype.html=function(n,r,i){var c=this.createElement("span"),u=c.element,h=c.renderer,p=h.isSVG,d=function(e,n){["opacity","visibility"].forEach((function(r){e[r+"Setter"]=function(i,o,s){var a=e.div?e.div.style:n;t.prototype[r+"Setter"].call(this,i,o,s),a&&(a[o]=i)}})),e.addedSetters=!0};return c.textSetter=function(t){t!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,e.setElementHTML(this.element,l(t,"")),this.textStr=t,c.doTransform=!0)},p&&d(c,c.element.style),c.xSetter=c.ySetter=c.alignSetter=c.rotationSetter=function(e,t){"align"===t?c.alignValue=c.textAlign=e:c[t]=e,c.doTransform=!0},c.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},c.attr({text:n,x:Math.round(r),y:Math.round(i)}).css({position:"absolute"}),h.styledMode||c.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),u.style.whiteSpace="nowrap",c.css=c.htmlCss,p&&(c.add=function(e){var t=h.box.parentNode,n=[];if(this.parentGroup=e){var r=e.div;if(!r){for(;e;)n.push(e),e=e.parentGroup;n.reverse().forEach((function(e){function i(t,n){e[n]=t,"translateX"===n?h.left=t+"px":h.top=t+"px",e.doTransform=!0}var l=o(e.element,"class"),u=e.styles||{};r=e.div=e.div||s("div",l?{className:l}:void 0,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px",display:e.display,opacity:e.opacity,cursor:u.cursor,pointerEvents:u.pointerEvents,visibility:e.visibility},r||t);var h=r.style;a(e,{classSetter:function(e){return function(t){this.element.setAttribute("class",t),e.className=t}}(r),on:function(){return n[0].div&&c.on.apply({element:n[0].div,onEvents:e.onEvents},arguments),e},translateXSetter:i,translateYSetter:i}),e.addedSetters||d(e)}))}}else r=t;return r.appendChild(u),c.added=!0,c.alignOnAdd&&c.htmlUpdateTransform(),c}),c},r.composedClasses=[],r}(n)})),t(n,"Core/Axis/AxisDefaults.js",[],(function(){var e;return function(e){e.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},e.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){var e=this.axis.chart.numberFormatter;return e(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},e.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},e.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},e.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},e.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}}}(e||(e={})),e})),t(n,"Core/Foundation.js",[n["Core/Utilities.js"]],(function(e){var t,n=e.addEvent,r=e.isFunction,i=e.objectEach,o=e.removeEvent;return function(e){e.registerEventOptions=function(e,t){e.eventOptions=e.eventOptions||{},i(t.events,(function(t,i){e.eventOptions[i]!==t&&(e.eventOptions[i]&&(o(e,i,e.eventOptions[i]),delete e.eventOptions[i]),r(t)&&(e.eventOptions[i]=t,n(e,i,t)))}))}}(t||(t={})),t})),t(n,"Core/Axis/Tick.js",[n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(e,t,n){var r=t.deg2rad,i=n.clamp,o=n.correctFloat,s=n.defined,a=n.destroyObjectProperties,l=n.extend,c=n.fireEvent,u=n.isNumber,h=n.merge,p=n.objectEach,d=n.pick;return t=function(){function t(e,t,n,r,i){this.isNewLabel=this.isNew=!0,this.axis=e,this.pos=t,this.type=n||"",this.parameters=i||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,c(this,"init"),n||r||this.addLabel()}return t.prototype.addLabel=function(){var t=this,n=t.axis,r=n.options,i=n.chart,a=n.categories,h=n.logarithmic,p=n.names,f=t.pos,m=d(t.options&&t.options.labels,r.labels),y=n.tickPositions,g=f===y[0],v=f===y[y.length-1],b=(!m.step||1===m.step)&&1===n.tickInterval;y=y.info;var w,_=t.label;if(a=this.parameters.category||(a?d(a[f],p[f],f):f),h&&u(a)&&(a=o(h.lin2log(a))),n.dateTime)if(y)var x=i.time.resolveDTLFormat(r.dateTimeLabelFormats[!r.grid&&y.higherRanks[f]||y.unitName]),S=x.main;else u(a)&&(S=n.dateTime.getXDateFormat(a,r.dateTimeLabelFormats||{}));t.isFirst=g,t.isLast=v;var T={axis:n,chart:i,dateTimeLabelFormat:S,isFirst:g,isLast:v,pos:f,tick:t,tickPositionInfo:y,value:a};c(this,"labelFormat",T);var E=function(t){return m.formatter?m.formatter.call(t,t):m.format?(t.text=n.defaultLabelFormatter.call(t),e.format(m.format,t,i)):n.defaultLabelFormatter.call(t,t)};r=E.call(T,T);var M=x&&x.list;t.shortenLabel=M?function(){for(w=0;w<M.length;w++)if(l(T,{dateTimeLabelFormat:M[w]}),_.attr({text:E.call(T,T)}),_.getBBox().width<n.getSlotWidth(t)-2*m.padding)return;_.attr({text:""})}:void 0,b&&n._addedPlotLB&&t.moveLabel(r,m),s(_)||t.movedLabel?_&&_.textStr!==r&&!b&&(!_.textWidth||m.style.width||_.styles.width||_.css({width:null}),_.attr({text:r}),_.textPxLength=_.getBBox().width):(t.label=_=t.createLabel({x:0,y:0},r,m),t.rotation=0)},t.prototype.createLabel=function(e,t,n){var r=this.axis,i=r.chart;return(e=s(t)&&n.enabled?i.renderer.text(t,e.x,e.y,n.useHTML).add(r.labelGroup):null)&&(i.styledMode||e.css(h(n.style)),e.textPxLength=e.getBBox().width),e},t.prototype.destroy=function(){a(this,this.axis)},t.prototype.getPosition=function(e,t,n,r){var s=this.axis,a=s.chart,l=r&&a.oldChartHeight||a.chartHeight;return e={x:e?o(s.translate(t+n,null,null,r)+s.transB):s.left+s.offset+(s.opposite?(r&&a.oldChartWidth||a.chartWidth)-s.right-s.left:0),y:e?l-s.bottom+s.offset-(s.opposite?s.height:0):o(l-s.translate(t+n,null,null,r)-s.transB)},e.y=i(e.y,-1e5,1e5),c(this,"afterGetPosition",{pos:e}),e},t.prototype.getLabelPosition=function(e,t,n,i,o,a,l,u){var h=this.axis,p=h.transA,d=h.isLinked&&h.linkedParent?h.linkedParent.reversed:h.reversed,f=h.staggerLines,m=h.tickRotCorr||{x:0,y:0},y=i||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),g={},v=o.y;return s(v)||(v=0===h.side?n.rotation?-8:-n.getBBox().height:2===h.side?m.y+8:Math.cos(n.rotation*r)*(m.y-n.getBBox(!1,0).height/2)),e=e+o.x+y+m.x-(a&&i?a*p*(d?-1:1):0),t=t+v-(a&&!i?a*p*(d?1:-1):0),f&&(n=l/(u||1)%f,h.opposite&&(n=f-n-1),t+=h.labelOffset/f*n),g.x=e,g.y=Math.round(t),c(this,"afterGetLabelPosition",{pos:g,tickmarkOffset:a,index:l}),g},t.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},t.prototype.getMarkPath=function(e,t,n,r,i,o){return o.crispLine([["M",e,t],["L",e+(i?0:-n),t+(i?n:0)]],r)},t.prototype.handleOverflow=function(e){var t=this.axis,n=t.options.labels,i=e.x,o=t.chart.chartWidth,s=t.chart.spacing,a=d(t.labelLeft,Math.min(t.pos,s[3]));s=d(t.labelRight,Math.max(t.isRadial?0:t.pos+t.len,o-s[1]));var l,c=this.label,u=this.rotation,h={left:0,center:.5,right:1}[t.labelAlign||c.attr("align")],p=c.getBBox().width,f=t.getSlotWidth(this),m={},y=f,g=1;u||"justify"!==n.overflow?0>u&&i-h*p<a?l=Math.round(i/Math.cos(u*r)-a):0<u&&i+h*p>s&&(l=Math.round((o-i)/Math.cos(u*r))):(o=i+(1-h)*p,i-h*p<a?y=e.x+y*(1-h)-a:o>s&&(y=s-e.x+y*h,g=-1),y=Math.min(f,y),y<f&&"center"===t.labelAlign&&(e.x+=g*(f-y-h*(f-Math.min(p,y)))),(p>y||t.autoRotation&&(c.styles||{}).width)&&(l=y)),l&&(this.shortenLabel?this.shortenLabel():(m.width=Math.floor(l)+"px",(n.style||{}).textOverflow||(m.textOverflow="ellipsis"),c.css(m)))},t.prototype.moveLabel=function(e,t){var n=this,r=n.label,i=n.axis,o=i.reversed,s=!1;if(r&&r.textStr===e?(n.movedLabel=r,s=!0,delete n.label):p(i.ticks,(function(t){s||t.isNew||t===n||!t.label||t.label.textStr!==e||(n.movedLabel=t.label,s=!0,t.labelPos=n.movedLabel.xy,delete t.label)})),!s&&(n.labelPos||r)){var a=n.labelPos||r.xy;r=i.horiz?o?0:i.width+i.left:a.x,i=i.horiz?a.y:o?i.width+i.left:0,n.movedLabel=n.createLabel({x:r,y:i},e,t),n.movedLabel&&n.movedLabel.attr({opacity:0})}},t.prototype.render=function(e,t,n){var r=this.axis,i=r.horiz,o=this.pos,s=d(this.tickmarkOffset,r.tickmarkOffset);o=this.getPosition(i,o,s,t),s=o.x;var a=o.y;r=i&&s===r.pos+r.len||!i&&a===r.pos?-1:1,i=d(n,this.label&&this.label.newOpacity,1),n=d(n,1),this.isActive=!0,this.renderGridLine(t,n,r),this.renderMark(o,n,r),this.renderLabel(o,t,i,e),this.isNew=!1,c(this,"afterRender")},t.prototype.renderGridLine=function(e,t,n){var r=this.axis,i=r.options,o={},s=this.pos,a=this.type,l=d(this.tickmarkOffset,r.tickmarkOffset),c=r.chart.renderer,u=this.gridLine,h=i.gridLineWidth,p=i.gridLineColor,f=i.gridLineDashStyle;"minor"===this.type&&(h=i.minorGridLineWidth,p=i.minorGridLineColor,f=i.minorGridLineDashStyle),u||(r.chart.styledMode||(o.stroke=p,o["stroke-width"]=h||0,o.dashstyle=f),a||(o.zIndex=1),e&&(t=0),this.gridLine=u=c.path().attr(o).addClass("highcharts-"+(a?a+"-":"")+"grid-line").add(r.gridGroup)),u&&(n=r.getPlotLinePath({value:s+l,lineWidth:u.strokeWidth()*n,force:"pass",old:e}))&&u[e||this.isNew?"attr":"animate"]({d:n,opacity:t})},t.prototype.renderMark=function(e,t,n){var r=this.axis,i=r.options,o=r.chart.renderer,s=this.type,a=r.tickSize(s?s+"Tick":"tick"),l=e.x;e=e.y;var c=d(i["minor"!==s?"tickWidth":"minorTickWidth"],!s&&r.isXAxis?1:0);i=i["minor"!==s?"tickColor":"minorTickColor"];var u=this.mark,h=!u;a&&(r.opposite&&(a[0]=-a[0]),u||(this.mark=u=o.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(r.axisGroup),r.chart.styledMode||u.attr({stroke:i,"stroke-width":c})),u[h?"attr":"animate"]({d:this.getMarkPath(l,e,a[0],u.strokeWidth()*n,r.horiz,o),opacity:t}))},t.prototype.renderLabel=function(e,t,n,r){var i=this.axis,o=i.horiz,s=i.options,a=this.label,l=s.labels,c=l.step;i=d(this.tickmarkOffset,i.tickmarkOffset);var h=e.x;e=e.y;var p=!0;a&&u(h)&&(a.xy=e=this.getLabelPosition(h,e,a,o,l,i,r,c),this.isFirst&&!this.isLast&&!s.showFirstLabel||this.isLast&&!this.isFirst&&!s.showLastLabel?p=!1:!o||l.step||l.rotation||t||0===n||this.handleOverflow(e),c&&r%c&&(p=!1),p&&u(e.y)?(e.opacity=n,a[this.isNewLabel?"attr":"animate"](e),this.isNewLabel=!1):(a.attr("y",-9999),this.isNewLabel=!0))},t.prototype.replaceMovedLabel=function(){var e=this.label,t=this.axis,n=t.reversed;if(e&&!this.isNew){var r=t.horiz?n?t.left:t.width+t.left:e.xy.x;n=t.horiz?e.xy.y:n?t.width+t.top:t.top,e.animate({x:r,y:n,opacity:0},void 0,e.destroy),delete this.label}t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},t}(),t})),t(n,"Core/Axis/Axis.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/AxisDefaults.js"],n["Core/Color/Color.js"],n["Core/DefaultOptions.js"],n["Core/Foundation.js"],n["Core/Globals.js"],n["Core/Axis/Tick.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i,o,s,a){var l=e.animObject,c=r.defaultOptions,u=i.registerEventOptions,h=o.deg2rad,p=a.arrayMax,d=a.arrayMin,f=a.clamp,m=a.correctFloat,y=a.defined,g=a.destroyObjectProperties,v=a.erase,b=a.error,w=a.extend,_=a.fireEvent,x=a.getMagnitude,S=a.isArray,T=a.isNumber,E=a.isString,M=a.merge,A=a.normalizeTickInterval,I=a.objectEach,C=a.pick,O=a.relativeLength,k=a.removeEvent,R=a.splat,L=a.syncTimeout;return e=function(){function e(e,t){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(e,t)}return e.prototype.init=function(e,t){var n=t.isX;this.chart=e,this.horiz=e.inverted&&!this.isZAxis?!n:n,this.isXAxis=n,this.coll=this.coll||(n?"xAxis":"yAxis"),_(this,"init",{userOptions:t}),this.opposite=C(t.opposite,this.opposite),this.side=C(t.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var r=this.options,i=r.labels,o=r.type;this.userOptions=t,this.minPixelPadding=0,this.reversed=C(r.reversed,this.reversed),this.visible=r.visible,this.zoomEnabled=r.zoomEnabled,this.hasNames="category"===o||!0===r.categories,this.categories=r.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=y(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.min=this.max=null,t=C(r.crosshair,R(e.options.tooltip.crosshairs)[n?0:1]),this.crosshair=!0===t?{}:t,-1===e.axes.indexOf(this)&&(n?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&!this.isZAxis&&n&&"undefined"===typeof this.reversed&&(this.reversed=!0),this.labelRotation=T(i.rotation)?i.rotation:void 0,u(this,r),_(this,"afterInit")},e.prototype.setOptions=function(e){this.options=M(t.defaultXAxisOptions,"yAxis"===this.coll&&t.defaultYAxisOptions,[t.defaultTopAxisOptions,t.defaultRightAxisOptions,t.defaultBottomAxisOptions,t.defaultLeftAxisOptions][this.side],M(c[this.coll],e)),_(this,"afterSetOptions",{userOptions:e})},e.prototype.defaultLabelFormatter=function(e){var t=this.axis;e=this.chart.numberFormatter;var n=T(this.value)?this.value:NaN,r=t.chart.time,i=this.dateTimeLabelFormat,o=c.lang,s=o.numericSymbols;o=o.numericSymbolMagnitude||1e3;var a=t.logarithmic?Math.abs(n):t.tickInterval,l=s&&s.length;if(t.categories)var u=""+this.value;else if(i)u=r.dateFormat(i,n);else if(l&&1e3<=a)for(;l--&&"undefined"===typeof u;)t=Math.pow(o,l+1),a>=t&&0===10*n%t&&null!==s[l]&&0!==n&&(u=e(n/t,-1)+s[l]);return"undefined"===typeof u&&(u=1e4<=Math.abs(n)?e(n,-1):e(n,-1,void 0,"")),u},e.prototype.getSeriesExtremes=function(){var e,t=this,n=t.chart;_(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.stacking&&t.stacking.buildStacks(),t.series.forEach((function(r){if(r.visible||!n.options.chart.ignoreHiddenSeries){var i=r.options,o=i.threshold;if(t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=o&&(o=null),t.isXAxis){if(i=r.xData,i.length){i=t.logarithmic?i.filter(t.validatePositiveValue):i,e=r.getXExtremes(i);var s=e.min,a=e.max;T(s)||s instanceof Date||(i=i.filter(T),e=r.getXExtremes(i),s=e.min,a=e.max),i.length&&(t.dataMin=Math.min(C(t.dataMin,s),s),t.dataMax=Math.max(C(t.dataMax,a),a))}}else r=r.applyExtremes(),T(r.dataMin)&&(s=r.dataMin,t.dataMin=Math.min(C(t.dataMin,s),s)),T(r.dataMax)&&(a=r.dataMax,t.dataMax=Math.max(C(t.dataMax,a),a)),y(o)&&(t.threshold=o),(!i.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1)}}))})),_(this,"afterGetSeriesExtremes")},e.prototype.translate=function(e,t,n,r,i,o){var s=this.linkedParent||this,a=r&&s.old?s.old.min:s.min,l=s.minPixelPadding;i=(s.isOrdinal||s.brokenAxis&&s.brokenAxis.hasBreaks||s.logarithmic&&i)&&s.lin2val;var c=1,u=0;return r=r&&s.old?s.old.transA:s.transA,r||(r=s.transA),n&&(c*=-1,u=s.len),s.reversed&&(c*=-1,u-=c*(s.sector||s.len)),t?(e=(e*c+u-l)/r+a,i&&(e=s.lin2val(e))):(i&&(e=s.val2lin(e)),e=T(a)?c*(e-a)*r+u+c*l+(T(o)?r*o:0):void 0),e},e.prototype.toPixels=function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},e.prototype.toValue=function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},e.prototype.getPlotLinePath=function(e){function t(e,t,n){return("pass"!==b&&e<t||e>n)&&(b?e=f(e,t,n):s=!0),e}var n,r,i,o,s,a=this,l=a.chart,c=a.left,u=a.top,h=e.old,p=e.value,d=e.lineWidth,m=h&&l.oldChartHeight||l.chartHeight,y=h&&l.oldChartWidth||l.chartWidth,g=a.transB,v=e.translatedValue,b=e.force;return e={value:p,lineWidth:d,old:h,force:b,acrossPanes:e.acrossPanes,translatedValue:v},_(this,"getPlotLinePath",e,(function(e){v=C(v,a.translate(p,null,null,h)),v=f(v,-1e5,1e5),n=i=Math.round(v+g),r=o=Math.round(m-v-g),T(v)?a.horiz?(r=u,o=m-a.bottom,n=i=t(n,c,c+a.width)):(n=c,i=y-a.right,r=o=t(r,u,u+a.height)):(s=!0,b=!1),e.path=s&&!b?null:l.renderer.crispLine([["M",n,r],["L",i,o]],d||1)})),e.path},e.prototype.getLinearTickPositions=function(e,t,n){var r=m(Math.floor(t/e)*e);n=m(Math.ceil(n/e)*e);var i,o=[];if(m(r+e)===r&&(i=20),this.single)return[t];for(t=r;t<=n;){if(o.push(t),t=m(t+e,i),t===s)break;var s=t}return o},e.prototype.getMinorTickInterval=function(){var e=this.options;return!0===e.minorTicks?C(e.minorTickInterval,"auto"):!1===e.minorTicks?null:e.minorTickInterval},e.prototype.getMinorTickPositions=function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,r=this.pointRangePadding||0,i=this.min-r;r=this.max+r;var o=r-i,s=[];if(o&&o/n<this.len/3){var a=this.logarithmic;if(a)this.paddedTicks.forEach((function(e,t,r){t&&s.push.apply(s,a.getLogTickPositions(n,r[t-1],r[t],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())s=s.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(n),i,r,e.startOfWeek));else for(e=i+(t[0]-i)%n;e<=r&&e!==s[0];e+=n)s.push(e)}return 0!==s.length&&this.trimTicks(s),s},e.prototype.adjustForMinRange=function(){var e,t,n,r,i=this.options,o=this.logarithmic,s=this.min,a=this.max,l=0;if(this.isXAxis&&"undefined"===typeof this.minRange&&!o&&(y(i.min)||y(i.max)||y(i.floor)||y(i.ceiling)?this.minRange=null:(this.series.forEach((function(i){if(n=i.xData,r=i.xIncrement?1:n.length-1,1<n.length)for(e=r;0<e;e--)t=n[e]-n[e-1],(!l||t<l)&&(l=t)})),this.minRange=Math.min(5*l,this.dataMax-this.dataMin))),a-s<this.minRange){var c=this.dataMax-this.dataMin>=this.minRange,u=this.minRange,h=(u-a+s)/2;h=[s-h,C(i.min,s-h)],c&&(h[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),s=p(h),a=[s+u,C(i.max,s+u)],c&&(a[2]=o?o.log2lin(this.dataMax):this.dataMax),a=d(a),a-s<u&&(h[0]=a-u,h[1]=C(i.min,a-u),s=p(h))}this.min=s,this.max=a},e.prototype.getClosest=function(){var e;return this.categories?e=1:this.series.forEach((function(t){var n=t.closestPointRange,r=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&y(n)&&r&&(e=y(e)?Math.min(e,n):n)})),e},e.prototype.nameToX=function(e){var t=S(this.categories),n=t?this.categories:this.names,r=e.options.x;if(e.series.requireSorting=!1,y(r)||(r=this.options.uniqueNames?t?n.indexOf(e.name):C(n.keys[e.name],-1):e.series.autoIncrement()),-1===r){if(!t)var i=n.length}else i=r;return"undefined"!==typeof i&&(this.names[i]=e.name,this.names.keys[e.name]=i),i},e.prototype.updateNames=function(){var e=this,t=this.names;0<t.length&&(Object.keys(t.keys).forEach((function(e){delete t.keys[e]})),t.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(e.max=Math.max(e.max,t.xData.length-1),t.processData(),t.generatePoints()),t.data.forEach((function(n,r){if(n&&n.options&&"undefined"!==typeof n.name){var i=e.nameToX(n);"undefined"!==typeof i&&i!==n.x&&(n.x=i,t.xData[r]=i)}}))})))},e.prototype.setAxisTranslation=function(){var e=this,t=e.max-e.min,n=e.linkedParent,r=!!e.categories,i=e.isXAxis,o=e.axisPointRange||0,s=0,a=0,l=e.transA;if(i||r||o){var c=e.getClosest();n?(s=n.minPointOffset,a=n.pointRangePadding):e.series.forEach((function(t){var n=r?1:i?C(t.options.pointRange,c,0):e.axisPointRange||0,l=t.options.pointPlacement;o=Math.max(o,n),e.single&&!r||(t=t.is("xrange")?!i:i,s=Math.max(s,t&&E(l)?0:n/2),a=Math.max(a,t&&"on"===l?0:n))})),n=e.ordinal&&e.ordinal.slope&&c?e.ordinal.slope/c:1,e.minPointOffset=s*=n,e.pointRangePadding=a*=n,e.pointRange=Math.min(o,e.single&&r?1:t),i&&(e.closestPointRange=c)}e.translationSlope=e.transA=l=e.staticScale||e.len/(t+a||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=l*s,_(this,"afterSetAxisTranslation")},e.prototype.minFromRange=function(){return this.max-this.range},e.prototype.setTickInterval=function(e){var t=this.chart,n=this.logarithmic,r=this.options,i=this.isXAxis,o=this.isLinked,s=r.tickPixelInterval,a=this.categories,l=this.softThreshold,c=r.maxPadding,u=r.minPadding,h=T(r.tickInterval)&&0<=r.tickInterval?r.tickInterval:void 0,p=T(this.threshold)?this.threshold:null;this.dateTime||a||o||this.getTickAmount();var d=C(this.userMin,r.min),f=C(this.userMax,r.max);if(o){this.linkedParent=t[this.coll][r.linkedTo];var g=this.linkedParent.getExtremes();this.min=C(g.min,g.dataMin),this.max=C(g.max,g.dataMax),r.type!==this.linkedParent.options.type&&b(11,1,t)}else{if(l&&y(p))if(this.dataMin>=p)g=p,u=0;else if(this.dataMax<=p){var v=p;c=0}this.min=C(d,g,this.dataMin),this.max=C(f,v,this.dataMax)}if(n&&(this.positiveValuesOnly&&!e&&0>=Math.min(this.min,C(this.dataMin,this.min))&&b(10,1,t),this.min=m(n.log2lin(this.min),16),this.max=m(n.log2lin(this.max),16)),this.range&&y(this.max)&&(this.userMin=this.min=d=Math.max(this.dataMin,this.minFromRange()),this.userMax=f=this.max,this.range=null),_(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(a||this.axisPointRange||this.stacking&&this.stacking.usePercentage||o)&&y(this.min)&&y(this.max)&&(t=this.max-this.min)&&(!y(d)&&u&&(this.min-=t*u),!y(f)&&c&&(this.max+=t*c)),T(this.userMin)||(T(r.softMin)&&r.softMin<this.min&&(this.min=d=r.softMin),T(r.floor)&&(this.min=Math.max(this.min,r.floor))),T(this.userMax)||(T(r.softMax)&&r.softMax>this.max&&(this.max=f=r.softMax),T(r.ceiling)&&(this.max=Math.min(this.max,r.ceiling))),l&&y(this.dataMin)&&(p=p||0,!y(d)&&this.min<p&&this.dataMin>=p?this.min=this.options.minRange?Math.min(p,this.max-this.minRange):p:!y(f)&&this.max>p&&this.dataMax<=p&&(this.max=this.options.minRange?Math.max(p,this.min+this.minRange):p)),T(this.min)&&T(this.max)&&!this.chart.polar&&this.min>this.max&&(y(this.options.min)?this.max=this.min:y(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||"undefined"===typeof this.min||"undefined"===typeof this.max?1:o&&this.linkedParent&&!h&&s===this.linkedParent.options.tickPixelInterval?h=this.linkedParent.tickInterval:C(h,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,a?1:(this.max-this.min)*s/Math.max(this.len,s)),i&&!e){var w=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach((function(e){e.forceCrop=e.forceCropping&&e.forceCropping(),e.processData(w)})),_(this,"postProcessData",{hasExtemesChanged:w})}this.setAxisTranslation(),_(this,"initialAxisTranslation"),this.pointRange&&!h&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),e=C(r.minTickInterval,this.dateTime&&!this.series.some((function(e){return e.noSharedTooltip}))?this.closestPointRange:0),!h&&this.tickInterval<e&&(this.tickInterval=e),this.dateTime||this.logarithmic||h||(this.tickInterval=A(this.tickInterval,void 0,x(this.tickInterval),C(r.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},e.prototype.setTickPositions=function(){var e=this.options,t=e.tickPositions,n=this.getMinorTickInterval(),r=this.hasVerticalPanning(),i="colorAxis"===this.coll,o=(i||!r)&&e.startOnTick;r=(i||!r)&&e.endOnTick,i=e.tickPositioner,this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n&&this.tickInterval?this.tickInterval/5:n,this.single=this.min===this.max&&y(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=n=t&&t.slice(),!n&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?n=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(n=[this.min,this.max],b(19,!1,this.chart)),n.length>this.len&&(n=[n[0],n.pop()],n[0]===n[1]&&(n.length=1)),this.tickPositions=n,i&&(i=i.apply(this,[this.min,this.max])))&&(this.tickPositions=n=i),this.paddedTicks=n.slice(0),this.trimTicks(n,o,r),this.isLinked||(this.single&&2>n.length&&!this.categories&&!this.series.some((function(e){return e.is("heatmap")&&"between"===e.options.pointPlacement}))&&(this.min-=.5,this.max+=.5),t||i||this.adjustTickAmount()),_(this,"afterSetTickPositions")},e.prototype.trimTicks=function(e,t,n){var r=e[0],i=e[e.length-1],o=!this.isOrdinal&&this.minPointOffset||0;if(_(this,"trimTicks"),!this.isLinked){if(t&&-1/0!==r)this.min=r;else for(;this.min-o>e[0];)e.shift();if(n)this.max=i;else for(;this.max+o<e[e.length-1];)e.pop();0===e.length&&y(r)&&!this.options.tickPositions&&e.push((i+r)/2)}},e.prototype.alignToOthers=function(){var e,t={},n=this.options;return!1!==this.chart.options.chart.alignTicks&&n.alignTicks&&!1!==n.startOnTick&&!1!==n.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach((function(n){var r=n.options;r=[n.horiz?r.left:r.top,r.width,r.height,r.pane].join(),n.series.length&&(t[r]?e=!0:t[r]=1)})),e},e.prototype.getTickAmount=function(){var e=this.options,t=e.tickPixelInterval,n=e.tickAmount;!y(e.tickInterval)&&!n&&this.len<t&&!this.isRadial&&!this.logarithmic&&e.startOnTick&&e.endOnTick&&(n=2),!n&&this.alignToOthers()&&(n=Math.ceil(this.len/t)+1),4>n&&(this.finalTickAmt=n,n=5),this.tickAmount=n},e.prototype.adjustTickAmount=function(){var e=this.options,t=this.tickInterval,n=this.tickPositions,r=this.tickAmount,i=this.finalTickAmt,o=n&&n.length,s=C(this.threshold,this.softThreshold?0:null);if(this.hasData()&&T(this.min)&&T(this.max)){if(o<r){for(;n.length<r;)n.length%2||this.min===s?n.push(m(n[n.length-1]+t)):n.unshift(m(n[0]-t));this.transA*=(o-1)/(r-1),this.min=e.startOnTick?n[0]:Math.min(this.min,n[0]),this.max=e.endOnTick?n[n.length-1]:Math.max(this.max,n[n.length-1])}else o>r&&(this.tickInterval*=2,this.setTickPositions());if(y(i)){for(t=e=n.length;t--;)(3===i&&1===t%2||2>=i&&0<t&&t<e-1)&&n.splice(t,1);this.finalTickAmt=void 0}}},e.prototype.setScale=function(){var e=!1,t=!1;this.series.forEach((function(n){e=e||n.isDirtyData||n.isDirty,t=t||n.xAxis&&n.xAxis.isDirty||!1})),this.setAxisSize();var n=this.len!==(this.old&&this.old.len);n||e||t||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=n||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),e&&this.panningState&&(this.panningState.isDirty=!0),_(this,"afterSetScale")},e.prototype.setExtremes=function(e,t,n,r,i){var o=this,s=o.chart;n=C(n,!0),o.series.forEach((function(e){delete e.kdTree})),i=w(i,{min:e,max:t}),_(o,"setExtremes",i,(function(){o.userMin=e,o.userMax=t,o.eventArgs=i,n&&s.redraw(r)}))},e.prototype.zoom=function(e,t){var n=this,r=this.dataMin,i=this.dataMax,o=this.options,s=Math.min(r,C(o.min,r)),a=Math.max(i,C(o.max,i));return e={newMin:e,newMax:t},_(this,"zoom",e,(function(e){var t=e.newMin,o=e.newMax;t===n.min&&o===n.max||(n.allowZoomOutside||(y(r)&&(t<s&&(t=s),t>a&&(t=a)),y(i)&&(o<s&&(o=s),o>a&&(o=a))),n.displayBtn="undefined"!==typeof t||"undefined"!==typeof o,n.setExtremes(t,o,!1,void 0,{trigger:"zoom"})),e.zoomed=!0})),e.zoomed},e.prototype.setAxisSize=function(){var e=this.chart,t=this.options,n=t.offsets||[0,0,0,0],r=this.horiz,i=this.width=Math.round(O(C(t.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),o=this.height=Math.round(O(C(t.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),s=this.top=Math.round(O(C(t.top,e.plotTop+n[0]),e.plotHeight,e.plotTop));t=this.left=Math.round(O(C(t.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft)),this.bottom=e.chartHeight-o-s,this.right=e.chartWidth-i-t,this.len=Math.max(r?i:o,0),this.pos=r?t:s},e.prototype.getExtremes=function(){var e=this.logarithmic;return{min:e?m(e.lin2log(this.min)):this.min,max:e?m(e.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},e.prototype.getThreshold=function(e){var t=this.logarithmic,n=t?t.lin2log(this.min):this.min;return t=t?t.lin2log(this.max):this.max,null===e||-1/0===e?e=n:1/0===e?e=t:n>e?e=n:t<e&&(e=t),this.translate(e,0,1,0,1)},e.prototype.autoLabelAlign=function(e){var t=(C(e,0)-90*this.side+720)%360;return e={align:"center"},_(this,"autoLabelAlign",e,(function(e){15<t&&165>t?e.align="right":195<t&&345>t&&(e.align="left")})),e.align},e.prototype.tickSize=function(e){var t=this.options,n=C(t["tick"===e?"tickWidth":"minorTickWidth"],"tick"===e&&this.isXAxis&&!this.categories?1:0),r=t["tick"===e?"tickLength":"minorTickLength"];if(n&&r){"inside"===t[e+"Position"]&&(r=-r);var i=[r,n]}return e={tickSize:i},_(this,"afterTickSize",e),e.tickSize},e.prototype.labelMetrics=function(){var e=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[e]&&this.ticks[e].label)},e.prototype.unsquish=function(){var e,t,n=this.options.labels,r=this.horiz,i=this.tickInterval,o=this.len/(((this.categories?1:0)+this.max-this.min)/i),s=n.rotation,a=this.labelMetrics(),l=Math.max(this.max-this.min,0),c=function(e){var t=e/(o||1);return t=1<t?Math.ceil(t):1,t*i>l&&1/0!==e&&1/0!==o&&l&&(t=Math.ceil(l/i)),m(t*i)},u=i,p=Number.MAX_VALUE;if(r){if(!n.staggerLines&&!n.step)if(T(s))var d=[s];else o<n.autoRotationLimit&&(d=n.autoRotation);d&&d.forEach((function(n){if(n===s||n&&-90<=n&&90>=n){t=c(Math.abs(a.h/Math.sin(h*n)));var r=t+Math.abs(n/360);r<p&&(p=r,e=n,u=t)}}))}else n.step||(u=c(a.h));return this.autoRotation=d,this.labelRotation=C(e,T(s)?s:0),u},e.prototype.getSlotWidth=function(e){var t=this.chart,n=this.horiz,r=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=t.margin[3];if(e&&T(e.slotWidth))return e.slotWidth;if(n&&2>r.step)return r.rotation?0:(this.staggerLines||1)*this.len/i;if(!n){if(e=r.style.width,void 0!==e)return parseInt(String(e),10);if(o)return o-t.spacing[3]}return.33*t.chartWidth},e.prototype.renderUnsquish=function(){var e=this.chart,t=e.renderer,n=this.tickPositions,r=this.ticks,i=this.options.labels,o=i.style,s=this.horiz,a=this.getSlotWidth(),l=Math.max(1,Math.round(a-2*i.padding)),c={},u=this.labelMetrics(),h=o.textOverflow,p=0;if(E(i.rotation)||(c.rotation=i.rotation||0),n.forEach((function(e){e=r[e],e.movedLabel&&e.replaceMovedLabel(),e&&e.label&&e.label.textPxLength>p&&(p=e.label.textPxLength)})),this.maxLabelLength=p,this.autoRotation)p>l&&p>u.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(a){var d=l;if(!h){var f="clip";for(l=n.length;!s&&l--;){var m=n[l];(m=r[m].label)&&(m.styles&&"ellipsis"===m.styles.textOverflow?m.css({textOverflow:"clip"}):m.textPxLength>a&&m.css({width:a+"px"}),m.getBBox().height>this.len/n.length-(u.h-u.f)&&(m.specificTextOverflow="ellipsis"))}}}c.rotation&&(d=p>.5*e.chartHeight?.33*e.chartHeight:p,h||(f="ellipsis")),(this.labelAlign=i.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),n.forEach((function(e){var t=(e=r[e])&&e.label,n=o.width,i={};t&&(t.attr(c),e.shortenLabel?e.shortenLabel():d&&!n&&"nowrap"!==o.whiteSpace&&(d<t.textPxLength||"SPAN"===t.element.tagName)?(i.width=d+"px",h||(i.textOverflow=t.specificTextOverflow||f),t.css(i)):t.styles&&t.styles.width&&!i.width&&!n&&t.css({width:null}),delete t.specificTextOverflow,e.rotation=c.rotation)}),this),this.tickRotCorr=t.rotCorr(u.b,this.labelRotation||0,0!==this.side)},e.prototype.hasData=function(){return this.series.some((function(e){return e.hasData()}))||this.options.showEmpty&&y(this.min)&&y(this.max)},e.prototype.addTitle=function(e){var t,n=this.chart.renderer,r=this.horiz,i=this.opposite,o=this.options.title,s=this.chart.styledMode;this.axisTitle||((t=o.textAlign)||(t=(r?{low:"left",middle:"center",high:"right"}:{low:i?"right":"left",middle:"center",high:i?"left":"right"})[o.align]),this.axisTitle=n.text(o.text||"",0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation,align:t}).addClass("highcharts-axis-title"),s||this.axisTitle.css(M(o.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),s||o.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[e?"show":"hide"](e)},e.prototype.generateTick=function(e){var t=this.ticks;t[e]?t[e].addLabel():t[e]=new s(this,e)},e.prototype.getOffset=function(){var e=this,t=this,n=t.chart,r=t.horiz,i=t.options,o=t.side,s=t.ticks,a=t.tickPositions,l=t.coll,c=t.axisParent,u=n.renderer,h=n.inverted&&!t.isZAxis?[1,0,3,2][o]:o,p=t.hasData(),d=i.title,f=i.labels,m=n.axisOffset;n=n.clipOffset;var g,v=[-1,1,1,-1][o],b=i.className,w=0,x=0,S=0;if(t.showAxis=g=p||i.showEmpty,t.staggerLines=t.horiz&&f.staggerLines||void 0,!t.axisGroup){var T=function(t,n,r){return u.g(t).attr({zIndex:r}).addClass("highcharts-"+l.toLowerCase()+n+" "+(e.isRadial?"highcharts-radial-axis"+n+" ":"")+(b||"")).add(c)};t.gridGroup=T("grid","-grid",i.gridZIndex),t.axisGroup=T("axis","",i.zIndex),t.labelGroup=T("axis-labels","-labels",f.zIndex)}if(p||t.isLinked?(a.forEach((function(e){t.generateTick(e)})),t.renderUnsquish(),t.reserveSpaceDefault=0===o||2===o||{1:"left",3:"right"}[o]===t.labelAlign,C(f.reserveSpace,"center"===t.labelAlign||null,t.reserveSpaceDefault)&&a.forEach((function(e){S=Math.max(s[e].getLabelSize(),S)})),t.staggerLines&&(S*=t.staggerLines),t.labelOffset=S*(t.opposite?-1:1)):I(s,(function(e,t){e.destroy(),delete s[t]})),d&&d.text&&!1!==d.enabled&&(t.addTitle(g),g&&!1!==d.reserveSpace)){t.titleOffset=w=t.axisTitle.getBBox()[r?"height":"width"];var E=d.offset;x=y(E)?0:C(d.margin,r?5:10)}t.renderLine(),t.offset=v*C(i.offset,m[o]?m[o]+(i.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},d=0===o?-t.labelMetrics().h:2===o?t.tickRotCorr.y:0,p=Math.abs(S)+x,S&&(p=p-d+v*(r?C(f.y,t.tickRotCorr.y+8*v):f.x)),t.axisTitleMargin=C(E,p),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(s,a)),"colorAxis"!==l&&(r=this.tickSize("tick"),m[o]=Math.max(m[o],(t.axisTitleMargin||0)+w+v*t.offset,p,a&&a.length&&r?r[0]+v*t.offset:0),i=!t.axisLine||i.offset?0:2*Math.floor(t.axisLine.strokeWidth()/2),n[h]=Math.max(n[h],i)),_(this,"afterGetOffset")},e.prototype.getLinePath=function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,o=this.left+(n?this.width:0)+r;return r=t.chartHeight-this.bottom-(n?this.height:0)+r,n&&(e*=-1),t.renderer.crispLine([["M",i?this.left:o,i?r:this.top],["L",i?t.chartWidth-this.right:o,i?r:t.chartHeight-this.bottom]],e)},e.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},e.prototype.getTitlePosition=function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,o=e?t:n,s=this.opposite,a=this.offset,l=i.x,c=i.y,u=this.axisTitle,h=this.chart.renderer.fontMetrics(i.style.fontSize,u);return u=Math.max(u.getBBox(null,0).height-h.h-1,0),r={low:o+(e?0:r),middle:o+r/2,high:o+(e?r:0)}[i.align],t=(e?n+this.height:t)+(e?1:-1)*(s?-1:1)*this.axisTitleMargin+[-u,u,h.f,-u][this.side],e={x:e?r+l:t+(s?this.width:0)+a+l,y:e?t+c-(s?this.height:0)+a:r+c},_(this,"afterGetTitlePosition",{titlePosition:e}),e},e.prototype.renderMinorTick=function(e,t){var n=this.minorTicks;n[e]||(n[e]=new s(this,e,"minor")),t&&n[e].isNew&&n[e].render(null,!0),n[e].render(null,!1,1)},e.prototype.renderTick=function(e,t,n){var r=this.ticks;(!this.isLinked||e>=this.min&&e<=this.max||this.grid&&this.grid.isColumn)&&(r[e]||(r[e]=new s(this,e)),n&&r[e].isNew&&r[e].render(t,!0,-1),r[e].render(t))},e.prototype.render=function(){var e,t,n=this,r=n.chart,i=n.logarithmic,a=n.options,c=n.isLinked,u=n.tickPositions,h=n.axisTitle,p=n.ticks,d=n.minorTicks,f=n.alternateBands,m=a.stackLabels,y=a.alternateGridColor,g=n.tickmarkOffset,v=n.axisLine,b=n.showAxis,w=l(r.renderer.globalAnimation);if(n.labelEdge.length=0,n.overlap=!1,[p,d,f].forEach((function(e){I(e,(function(e){e.isActive=!1}))})),n.hasData()||c){var x=n.chart.hasRendered&&n.old&&T(n.old.min);n.minorTickInterval&&!n.categories&&n.getMinorTickPositions().forEach((function(e){n.renderMinorTick(e,x)})),u.length&&(u.forEach((function(e,t){n.renderTick(e,t,x)})),g&&(0===n.min||n.single)&&(p[-1]||(p[-1]=new s(n,-1,null,!0)),p[-1].render(-1))),y&&u.forEach((function(s,a){t="undefined"!==typeof u[a+1]?u[a+1]+g:n.max-g,0===a%2&&s<n.max&&t<=n.max+(r.polar?-g:g)&&(f[s]||(f[s]=new o.PlotLineOrBand(n)),e=s+g,f[s].options={from:i?i.lin2log(e):e,to:i?i.lin2log(t):t,color:y,className:"highcharts-alternate-grid"},f[s].render(),f[s].isActive=!0)})),n._addedPlotLB||(n._addedPlotLB=!0,(a.plotLines||[]).concat(a.plotBands||[]).forEach((function(e){n.addPlotBandOrLine(e)})))}[p,d,f].forEach((function(e){var t=[],n=w.duration;I(e,(function(e,n){e.isActive||(e.render(n,!1,0),e.isActive=!1,t.push(n))})),L((function(){for(var n=t.length;n--;)e[t[n]]&&!e[t[n]].isActive&&(e[t[n]].destroy(),delete e[t[n]])}),e!==f&&r.hasRendered&&n?n:0)})),v&&(v[v.isPlaced?"animate":"attr"]({d:this.getLinePath(v.strokeWidth())}),v.isPlaced=!0,v[b?"show":"hide"](b)),h&&b&&(a=n.getTitlePosition(),T(a.y)?(h[h.isNew?"attr":"animate"](a),h.isNew=!1):(h.attr("y",-9999),h.isNew=!0)),m&&m.enabled&&n.stacking&&n.stacking.renderStackTotals(),n.old={len:n.len,max:n.max,min:n.min,transA:n.transA,userMax:n.userMax,userMin:n.userMin},n.isDirty=!1,_(this,"afterRender")},e.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(e){e.render()}))),this.series.forEach((function(e){e.isDirty=!0}))},e.prototype.getKeepProps=function(){return this.keepProps||e.keepProps},e.prototype.destroy=function(e){var t=this,n=t.plotLinesAndBands,r=this.eventOptions;if(_(this,"destroy",{keepEvents:e}),e||k(t),[t.ticks,t.minorTicks,t.alternateBands].forEach((function(e){g(e)})),n)for(e=n.length;e--;)n[e].destroy();for(var i in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(e){t[e]&&(t[e]=t[e].destroy())})),t.plotLinesAndBandsGroups)t.plotLinesAndBandsGroups[i]=t.plotLinesAndBandsGroups[i].destroy();I(t,(function(e,n){-1===t.getKeepProps().indexOf(n)&&delete t[n]})),this.eventOptions=r},e.prototype.drawCrosshair=function(e,t){var r,i=this.crosshair,o=C(i&&i.snap,!0),s=this.chart,a=this.cross;if(_(this,"drawCrosshair",{e:e,point:t}),e||(e=this.cross&&this.cross.e),i&&!1!==(y(t)||!o)){if(o?y(t)&&(r=C("colorAxis"!==this.coll?t.crosshairPos:null,this.isXAxis?t.plotX:this.len-t.plotY)):r=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),y(r)){var l={value:t&&(this.isXAxis?t.x:C(t.stackY,t.y)),translatedValue:r};s.polar&&w(l,{isCrosshair:!0,chartX:e&&e.chartX,chartY:e&&e.chartY,point:t}),l=this.getPlotLinePath(l)||null}if(!y(l))return void this.hideCrosshair();o=this.categories&&!this.isRadial,a||(this.cross=a=s.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(o?"category ":"thin ")+(i.className||"")).attr({zIndex:C(i.zIndex,2)}).add(),s.styledMode||(a.attr({stroke:i.color||(o?n.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(i.width,1)}).css({"pointer-events":"none"}),i.dashStyle&&a.attr({dashstyle:i.dashStyle}))),a.show().attr({d:l}),o&&!i.width&&a.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair();_(this,"afterDrawCrosshair",{e:e,point:t})},e.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),_(this,"afterHideCrosshair")},e.prototype.hasVerticalPanning=function(){var e=this.chart.options.chart.panning;return!!(e&&e.enabled&&/y/.test(e.type))},e.prototype.validatePositiveValue=function(e){return T(e)&&0<e},e.prototype.update=function(e,t){var n=this.chart;e=M(this.userOptions,e),this.destroy(!0),this.init(n,e),n.isDirtyBox=!0,C(t,!0)&&n.redraw()},e.prototype.remove=function(e){for(var t=this.chart,n=this.coll,r=this.series,i=r.length;i--;)r[i]&&r[i].remove(!1);v(t.axes,this),v(t[n],this),t[n].forEach((function(e,t){e.options.index=e.userOptions.index=t})),this.destroy(),t.isDirtyBox=!0,C(e,!0)&&t.redraw()},e.prototype.setTitle=function(e,t){this.update({title:e},t)},e.prototype.setCategories=function(e,t){this.update({categories:e},t)},e.defaultOptions=t.defaultXAxisOptions,e.keepProps="extKey hcEvents names series userMax userMin".split(" "),e}(),e})),t(n,"Core/Axis/DateTimeAxis.js",[n["Core/Utilities.js"]],(function(e){var t,n=e.addEvent,r=e.getMagnitude,i=e.normalizeTickInterval,o=e.timeUnits;return function(e){function t(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function s(e){"datetime"!==e.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new l(this))}var a=[];e.compose=function(e){return-1===a.indexOf(e)&&(a.push(e),e.keepProps.push("dateTime"),e.prototype.getTimeTicks=t,n(e,"init",s)),e};var l=function(){function e(e){this.axis=e}return e.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];t=n[n.length-1];var s,a=o[t[0]],l=t[1];for(s=0;s<n.length&&(t=n[s],a=o[t[0]],l=t[1],!(n[s+1]&&e<=(a*l[l.length-1]+o[n[s+1][0]])/2));s++);return a===o.year&&e<5*a&&(l=[1,2,5]),e=i(e/a,l,"year"===t[0]?Math.max(r(e/a),1):1),{unitRange:a,count:e,unitName:t[0]}},e.prototype.getXDateFormat=function(e,t){var n=this.axis;return n.closestPointRange?n.chart.time.getDateFormat(n.closestPointRange,e,n.options.startOfWeek,t)||t.year:t.day},e}();e.Additions=l}(t||(t={})),t})),t(n,"Core/Axis/LogarithmicAxis.js",[n["Core/Utilities.js"]],(function(e){var t,n=e.addEvent,r=e.getMagnitude,i=e.normalizeTickInterval,o=e.pick;return function(e){function t(e){var t=this.logarithmic;"logarithmic"!==e.userOptions.type?this.logarithmic=void 0:t||(this.logarithmic=new l(this))}function s(){var e=this.logarithmic;e&&(this.lin2val=function(t){return e.lin2log(t)},this.val2lin=function(t){return e.log2lin(t)})}var a=[];e.compose=function(e){return-1===a.indexOf(e)&&(a.push(e),e.keepProps.push("logarithmic"),n(e,"init",t),n(e,"afterInit",s)),e};var l=function(){function e(e){this.axis=e}return e.prototype.getLogTickPositions=function(e,t,n,s){var a=this.axis,l=a.len,c=a.options,u=[];if(s||(this.minorAutoInterval=void 0),.5<=e)e=Math.round(e),u=a.getLinearTickPositions(e,t,n);else if(.08<=e){var h,p=Math.floor(t),d=c=void 0;for(l=.3<e?[1,2,4]:.15<e?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];p<n+1&&!d;p++){var f=l.length;for(h=0;h<f&&!d;h++){var m=this.log2lin(this.lin2log(p)*l[h]);m>t&&(!s||c<=n)&&"undefined"!==typeof c&&u.push(c),c>n&&(d=!0),c=m}}}else t=this.lin2log(t),n=this.lin2log(n),e=s?a.getMinorTickInterval():c.tickInterval,e=o("auto"===e?null:e,this.minorAutoInterval,c.tickPixelInterval/(s?5:1)*(n-t)/((s?l/a.tickPositions.length:l)||1)),e=i(e,void 0,r(e)),u=a.getLinearTickPositions(e,t,n).map(this.log2lin),s||(this.minorAutoInterval=e/5);return s||(a.tickInterval=e),u},e.prototype.lin2log=function(e){return Math.pow(10,e)},e.prototype.log2lin=function(e){return Math.log(e)/Math.LN10},e}();e.Additions=l}(t||(t={})),t})),t(n,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[n["Core/Utilities.js"]],(function(e){var t,n=e.erase,r=e.extend,i=e.isNumber;return function(e){var t,o=[];e.compose=function(e,n){return t||(t=e),-1===o.indexOf(n)&&(o.push(n),r(n.prototype,s.prototype)),n};var s=function(){function e(){}return e.prototype.getPlotBandPath=function(e,t,n){void 0===n&&(n=this.options);var r=this.getPlotLinePath({value:t,force:!0,acrossPanes:n.acrossPanes}),o=[],s=this.horiz;if(t=!i(this.min)||!i(this.max)||e<this.min&&t<this.min||e>this.max&&t>this.max,e=this.getPlotLinePath({value:e,force:!0,acrossPanes:n.acrossPanes}),n=1,e&&r){if(t){var a=e.toString()===r.toString();n=0}for(t=0;t<e.length;t+=2){var l=e[t],c=e[t+1],u=r[t],h=r[t+1];"M"!==l[0]&&"L"!==l[0]||"M"!==c[0]&&"L"!==c[0]||"M"!==u[0]&&"L"!==u[0]||"M"!==h[0]&&"L"!==h[0]||(s&&u[1]===l[1]?(u[1]+=n,h[1]+=n):s||u[2]!==l[2]||(u[2]+=n,h[2]+=n),o.push(["M",l[1],l[2]],["L",c[1],c[2]],["L",h[1],h[2]],["L",u[1],u[2]],["Z"])),o.isFlat=a}}return o},e.prototype.addPlotBand=function(e){return this.addPlotBandOrLine(e,"plotBands")},e.prototype.addPlotLine=function(e){return this.addPlotBandOrLine(e,"plotLines")},e.prototype.addPlotBandOrLine=function(e,n){var r=this,i=this.userOptions,o=new t(this,e);if(this.visible&&(o=o.render()),o){if(this._addedPlotLB||(this._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach((function(e){r.addPlotBandOrLine(e)}))),n){var s=i[n]||[];s.push(e),i[n]=s}this.plotLinesAndBands.push(o)}return o},e.prototype.removePlotBandOrLine=function(e){var t=this.plotLinesAndBands,r=this.options,i=this.userOptions;if(t){for(var o=t.length;o--;)t[o].id===e&&t[o].destroy();[r.plotLines||[],i.plotLines||[],r.plotBands||[],i.plotBands||[]].forEach((function(t){for(o=t.length;o--;)(t[o]||{}).id===e&&n(t,t[o])}))}},e.prototype.removePlotBand=function(e){this.removePlotBandOrLine(e)},e.prototype.removePlotLine=function(e){this.removePlotBandOrLine(e)},e}()}(t||(t={})),t})),t(n,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[n["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],n["Core/Utilities.js"]],(function(e,t){var n=t.arrayMax,r=t.arrayMin,i=t.defined,o=t.destroyObjectProperties,s=t.erase,a=t.fireEvent,l=t.merge,c=t.objectEach,u=t.pick;return t=function(){function t(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)}return t.compose=function(n){return e.compose(t,n)},t.prototype.render=function(){a(this,"render");var e=this,t=e.axis,n=t.horiz,r=t.logarithmic,o=e.options,s=o.color,h=u(o.zIndex,0),p=o.events,d={},f=t.chart.renderer,m=o.label,y=e.label,g=o.to,v=o.from,b=o.value,w=e.svgElem,_=[],x=i(v)&&i(g);_=i(b);var S=!w,T={class:"highcharts-plot-"+(x?"band ":"line ")+(o.className||"")},E=x?"bands":"lines";if(r&&(v=r.log2lin(v),g=r.log2lin(g),b=r.log2lin(b)),t.chart.styledMode||(_?(T.stroke=s||"#999999",T["stroke-width"]=u(o.width,1),o.dashStyle&&(T.dashstyle=o.dashStyle)):x&&(T.fill=s||"#e6ebf5",o.borderWidth&&(T.stroke=o.borderColor,T["stroke-width"]=o.borderWidth))),d.zIndex=h,E+="-"+h,(r=t.plotLinesAndBandsGroups[E])||(t.plotLinesAndBandsGroups[E]=r=f.g("plot-"+E).attr(d).add()),S&&(e.svgElem=w=f.path().attr(T).add(r)),_)_=t.getPlotLinePath({value:b,lineWidth:w.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!x)return;_=t.getPlotBandPath(v,g,o)}return!e.eventsAdded&&p&&(c(p,(function(t,n){w.on(n,(function(t){p[n].apply(e,[t])}))})),e.eventsAdded=!0),(S||!w.d)&&_&&_.length?w.attr({d:_}):w&&(_?(w.show(!0),w.animate({d:_})):w.d&&(w.hide(),y&&(e.label=y=y.destroy()))),m&&(i(m.text)||i(m.formatter))&&_&&_.length&&0<t.width&&0<t.height&&!_.isFlat?(m=l({align:n&&x&&"center",x:n?!x&&4:10,verticalAlign:!n&&x&&"middle",y:n?x?16:10:x?6:-4,rotation:n&&!x&&90},m),this.renderLabel(m,_,x,h)):y&&y.hide(),e},t.prototype.renderLabel=function(e,t,i,o){var s=this.axis,a=s.chart.renderer,c=this.label;c||(this.label=c=a.text(this.getLabelText(e),0,0,e.useHTML).attr({align:e.textAlign||e.align,rotation:e.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(e.className||""),zIndex:o}).add(),s.chart.styledMode||c.css(l({textOverflow:"ellipsis"},e.style))),o=t.xBounds||[t[0][1],t[1][1],i?t[2][1]:t[0][1]],t=t.yBounds||[t[0][2],t[1][2],i?t[2][2]:t[0][2]],i=r(o),a=r(t),c.align(e,!1,{x:i,y:a,width:n(o)-i,height:n(t)-a}),c.alignValue&&"left"!==c.alignValue||c.css({width:(90===c.rotation?s.height-(c.alignAttr.y-s.top):s.width-(c.alignAttr.x-s.left))+"px"}),c.show(!0)},t.prototype.getLabelText=function(e){return i(e.formatter)?e.formatter.call(this):e.text},t.prototype.destroy=function(){s(this.axis.plotLinesAndBands,this),delete this.axis,o(this)},t}(),t})),t(n,"Core/Tooltip.js",[n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i){var o=e.format,s=t.doc,a=n.distribute,l=i.addEvent,c=i.clamp,u=i.css,h=i.defined,p=i.discardElement,d=i.extend,f=i.fireEvent,m=i.isArray,y=i.isNumber,g=i.isString,v=i.merge,b=i.pick,w=i.splat,_=i.syncTimeout;return e=function(){function e(e,t){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=e,this.init(e,t)}return e.prototype.applyFilter=function(){var e=this.chart;e.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+e.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},e.prototype.bodyFormatter=function(e){return e.map((function(e){var t=e.series.tooltipOptions;return(t[(e.point.formatPrefix||"point")+"Formatter"]||e.point.tooltipFormatter).call(e.point,t[(e.point.formatPrefix||"point")+"Format"]||"")}))},e.prototype.cleanSplit=function(e){this.chart.series.forEach((function(t){var n=t&&t.tt;n&&(!n.isActive||e?t.tt=n.destroy():n.isActive=!1)}))},e.prototype.defaultFormatter=function(e){var t=this.points||w(this),n=[e.tooltipFooterHeaderFormatter(t[0])];return n=n.concat(e.bodyFormatter(t)),n.push(e.tooltipFooterHeaderFormatter(t[0],!0)),n},e.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),p(this.container)),i.clearTimeout(this.hideTimer),i.clearTimeout(this.tooltipTimeout)},e.prototype.getAnchor=function(e,t){var n,r,i=this.chart,o=i.pointer,s=i.inverted,a=i.plotTop,l=i.plotLeft,c=0,u=0;return e=w(e),this.followPointer&&t?("undefined"===typeof t.chartX&&(t=o.normalize(t)),o=[t.chartX-l,t.chartY-a]):e[0].tooltipPos?o=e[0].tooltipPos:(e.forEach((function(e){n=e.series.yAxis,r=e.series.xAxis,c+=e.plotX||0,u+=e.plotLow?(e.plotLow+(e.plotHigh||0))/2:e.plotY||0,r&&n&&(s?(c+=a+i.plotHeight-r.len-r.pos,u+=l+i.plotWidth-n.len-n.pos):(c+=r.pos-l,u+=n.pos-a))})),c/=e.length,u/=e.length,o=[s?i.plotWidth-u:c,s?i.plotHeight-c:u],this.shared&&1<e.length&&t&&(s?o[0]=t.chartX-l:o[1]=t.chartY-a)),o.map(Math.round)},e.prototype.getLabel=function(){var e,n=this,i=this.chart.styledMode,o=this.options,s=this.split&&this.allowShared,a="tooltip"+(h(o.className)?" "+o.className:""),c=o.style.pointerEvents||(!this.followPointer&&o.stickOnContact?"auto":"none"),p=function(){n.inContact=!0},d=function(e){var t=n.chart.hoverSeries;n.inContact=n.shouldStickOnContact()&&n.chart.pointer.inClass(e.relatedTarget,"highcharts-tooltip"),!n.inContact&&t&&t.onMouseOut&&t.onMouseOut()},f=this.chart.renderer;if(n.label){var m=!n.label.hasClass("highcharts-label");(s&&!m||!s&&m)&&n.destroy()}if(!this.label){if(this.outside){m=this.chart.options.chart.style;var y=r.getRendererType();this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",u(e,{position:"absolute",top:"1px",pointerEvents:c,zIndex:Math.max(this.options.style.zIndex||0,(m&&m.zIndex||0)+3)}),l(e,"mouseenter",p),l(e,"mouseleave",d),t.doc.body.appendChild(e),this.renderer=f=new y(e,0,0,m,void 0,void 0,f.styledMode)}if(s?this.label=f.g(a):(this.label=f.label("",0,0,o.shape,void 0,void 0,o.useHTML,void 0,a).attr({padding:o.padding,r:o.borderRadius}),i||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth}).css(o.style).css({pointerEvents:c}).shadow(o.shadow)),i&&o.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),n.outside&&!n.split){var g=this.label,v=g.xSetter,b=g.ySetter;g.xSetter=function(t){v.call(g,n.distance),e.style.left=t+"px"},g.ySetter=function(t){b.call(g,n.distance),e.style.top=t+"px"}}this.label.on("mouseenter",p).on("mouseleave",d).attr({zIndex:8}).add()}return this.label},e.prototype.getPosition=function(e,t,n){var r,i=this.chart,o=this.distance,a={},l=i.inverted&&n.h||0,c=this.outside,u=c?s.documentElement.clientWidth-2*o:i.chartWidth,h=c?Math.max(s.body.scrollHeight,s.documentElement.scrollHeight,s.body.offsetHeight,s.documentElement.offsetHeight,s.documentElement.clientHeight):i.chartHeight,p=i.pointer.getChartPosition(),d=function(r){var s="x"===r;return[r,s?u:h,s?e:t].concat(c?[s?e*p.scaleX:t*p.scaleY,s?p.left-o+(n.plotX+i.plotLeft)*p.scaleX:p.top-o+(n.plotY+i.plotTop)*p.scaleY,0,s?u:h]:[s?e:t,s?n.plotX+i.plotLeft:n.plotY+i.plotTop,s?i.plotLeft:i.plotTop,s?i.plotLeft+i.plotWidth:i.plotTop+i.plotHeight])},f=d("y"),m=d("x");d=!!n.negative,!i.polar&&i.hoverSeries&&i.hoverSeries.yAxis&&i.hoverSeries.yAxis.reversed&&(d=!d);var y=!this.followPointer&&b(n.ttBelow,!i.inverted===d),g=function(e,t,n,r,i,s,u){var h=c?"y"===e?o*p.scaleY:o*p.scaleX:o,d=(n-r)/2,f=r<i-o,m=i+o+r<t,g=i-h-n+d;if(i=i+h-d,y&&m)a[e]=i;else if(!y&&f)a[e]=g;else if(f)a[e]=Math.min(u-r,0>g-l?g:g-l);else{if(!m)return!1;a[e]=Math.max(s,i+l+n>t?i:i+l)}},v=function(e,t,n,r,i){var s;return i<o||i>t-o?s=!1:a[e]=i<n/2?1:i>t-r/2?t-r-2:i-n/2,s},w=function(e){var t=f;f=m,m=t,r=e},_=function(){!1!==g.apply(0,f)?!1!==v.apply(0,m)||r||(w(!0),_()):r?a.x=a.y=0:(w(!0),_())};return(i.inverted||1<this.len)&&w(),_(),a},e.prototype.hide=function(e){var t=this;i.clearTimeout(this.hideTimer),e=b(e,this.options.hideDelay),this.isHidden||(this.hideTimer=_((function(){t.getLabel().fadeOut(e?void 0:e),t.isHidden=!0}),e))},e.prototype.init=function(e,t){this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=t.split&&!e.inverted&&!e.polar,this.shared=t.shared||this.split,this.outside=b(t.outside,!(!e.scrollablePixelsX&&!e.scrollablePixelsY))},e.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},e.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},e.prototype.move=function(e,t,n,r){var o=this,s=o.now,a=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(e-s.x)||1<Math.abs(t-s.y)),l=o.followPointer||1<o.len;d(s,{x:a?(2*s.x+e)/3:e,y:a?(s.y+t)/2:t,anchorX:l?void 0:a?(2*s.anchorX+n)/3:n,anchorY:l?void 0:a?(s.anchorY+r)/2:r}),o.getLabel().attr(s),o.drawTracker(),a&&(i.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){o&&o.move(e,t,n,r)}),32))},e.prototype.refresh=function(e,t){var n=this.chart,r=this.options,o=w(e),s=o[0],a=[],l=r.formatter||this.defaultFormatter,c=this.shared,u=n.styledMode,h={};if(r.enabled){i.clearTimeout(this.hideTimer),this.allowShared=!(!m(e)&&e.series&&e.series.noSharedTooltip),this.followPointer=!this.split&&s.series.tooltipOptions.followPointer,e=this.getAnchor(e,t);var p=e[0],d=e[1];if(c&&this.allowShared?(n.pointer.applyInactiveState(o),o.forEach((function(e){e.setState("hover"),a.push(e.getLabelConfig())})),h={x:s.category,y:s.y},h.points=a):h=s.getLabelConfig(),this.len=a.length,l=l.call(h,this),c=s.series,this.distance=b(c.tooltipOptions.distance,16),!1===l)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(l,o);else{var y=p,g=d;if(t&&n.pointer.isDirectTouch&&(y=t.chartX-n.plotLeft,g=t.chartY-n.plotTop),!n.polar&&!1!==c.options.clip&&!o.some((function(e){return e.series.shouldShowTooltip(y,g)})))return void this.hide();t=this.getLabel(),r.style.width&&!u||t.css({width:this.chart.spacingBox.width+"px"}),t.attr({text:l&&l.join?l.join(""):l}),t.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+b(s.colorIndex,c.colorIndex)),u||t.attr({stroke:r.borderColor||s.color||c.color||"#666666"}),this.updatePosition({plotX:p,plotY:d,negative:s.negative,ttBelow:s.ttBelow,h:e[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}f(this,"refresh")}},e.prototype.renderSplit=function(e,t){function n(e,t,n,i,o){return void 0===o&&(o=!0),n?(t=C?0:L,e=c(e-i/2,M.left,M.right-i-(r.outside?O:0))):(t-=k,e=o?e-i-S:e+S,e=c(e,o?e:M.left,M.right)),{x:e,y:t}}var r=this,i=r.chart,o=r.chart,l=o.chartWidth,u=o.chartHeight,h=o.plotHeight,p=o.plotLeft,f=o.plotTop,m=o.pointer,y=o.scrollablePixelsY;y=void 0===y?0:y;var v=o.scrollablePixelsX,w=o.scrollingContainer;w=void 0===w?{scrollLeft:0,scrollTop:0}:w;var _=w.scrollLeft;w=w.scrollTop;var x=o.styledMode,S=r.distance,T=r.options,E=r.options.positioner,M=r.outside&&"number"!==typeof v?s.documentElement.getBoundingClientRect():{left:_,right:_+l,top:w,bottom:w+u},A=r.getLabel(),I=this.renderer||i.renderer,C=!(!i.xAxis[0]||!i.xAxis[0].opposite);i=m.getChartPosition();var O=i.left;i=i.top;var k=f+w,R=0,L=h-y;g(e)&&(e=[!1,e]),e=e.slice(0,t.length+1).reduce((function(e,i,o){if(!1!==i&&""!==i){o=t[o-1]||{isHeader:!0,plotX:t[0].plotX,plotY:h,series:{}};var s=o.isHeader,a=s?r:o.series;i=i.toString();var l=a.tt,u=o.isHeader,d=o.series,m="highcharts-color-"+b(o.colorIndex,d.colorIndex,"none");if(l||(l={padding:T.padding,r:T.borderRadius},x||(l.fill=T.backgroundColor,l["stroke-width"]=T.borderWidth),l=I.label("",0,0,T[u?"headerShape":"shape"],void 0,void 0,T.useHTML).addClass((u?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+m).attr(l).add(A)),l.isActive=!0,l.attr({text:i}),x||l.css(T.style).shadow(T.shadow).attr({stroke:T.borderColor||o.color||d.color||"#333333"}),a=a.tt=l,u=a.getBBox(),i=u.width+a.strokeWidth(),s&&(R=u.height,L+=R,C&&(k-=R)),d=o.plotX,d=void 0===d?0:d,m=o.plotY,m=void 0===m?0:m,l=o.series,o.isHeader){d=p+d;var y=f+h/2}else{var g=l.xAxis,v=l.yAxis;d=g.pos+c(d,-S,g.len+S),l.shouldShowTooltip(0,v.pos-f+m,{ignoreX:!0})&&(y=v.pos+m)}d=c(d,M.left-S,M.right+S),"number"===typeof y?(u=u.height+1,m=E?E.call(r,i,u,o):n(d,y,s,i),e.push({align:E?0:void 0,anchorX:d,anchorY:y,boxWidth:i,point:o,rank:b(m.rank,s?1:0),size:u,target:m.y,tt:a,x:m.x})):a.isActive=!1}return e}),[]),!E&&e.some((function(e){var t=(r.outside?O:0)+e.anchorX;return t<M.left&&t+e.boxWidth<M.right||t<O-M.left+e.boxWidth&&M.right-t>t}))&&(e=e.map((function(e){var t=n(e.anchorX,e.anchorY,e.point.isHeader,e.boxWidth,!1);return d(e,{target:t.y,x:t.x})}))),r.cleanSplit(),a(e,L);var N=O,P=O;e.forEach((function(e){var t=e.x,n=e.boxWidth;e=e.isHeader,e||(r.outside&&O+t<N&&(N=O+t),!e&&r.outside&&N+n>P&&(P=O+t))})),e.forEach((function(e){var t=e.x,n=e.anchorX,i=e.pos,o=e.point.isHeader;if(i={visibility:"undefined"===typeof i?"hidden":"inherit",x:t,y:i+k,anchorX:n,anchorY:e.anchorY},r.outside&&t<n){var s=O-N;0<s&&(o||(i.x=t+s,i.anchorX=n+s),o&&(i.x=(P-N)/2,i.anchorX=n+s))}e.tt.attr(i)})),e=r.container,y=r.renderer,r.outside&&e&&y&&(o=A.getBBox(),y.setSize(o.width+o.x,o.height+o.y,!1),e.style.left=N+"px",e.style.top=i+"px")},e.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var e=this.chart,t=this.label,n=this.shared?e.hoverPoints:e.hoverPoint;if(t&&n){var r={x:0,y:0,width:0,height:0};n=this.getAnchor(n);var i=t.getBBox();n[0]+=e.plotLeft-t.translateX,n[1]+=e.plotTop-t.translateY,r.x=Math.min(0,n[0]),r.y=Math.min(0,n[1]),r.width=0>n[0]?Math.max(Math.abs(n[0]),i.width-n[0]):Math.max(Math.abs(n[0]),i.width),r.height=0>n[1]?Math.max(Math.abs(n[1]),i.height-Math.abs(n[1])):Math.max(Math.abs(n[1]),i.height),this.tracker?this.tracker.attr(r):(this.tracker=t.renderer.rect(r).addClass("highcharts-tracker").add(t),e.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},e.prototype.styledModeFormat=function(e){return e.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},e.prototype.tooltipFooterHeaderFormatter=function(e,t){var n=e.series,r=n.tooltipOptions,i=n.xAxis,s=i&&i.dateTime;i={isFooter:t,labelConfig:e};var a=r.xDateFormat,l=r[t?"footerFormat":"headerFormat"];return f(this,"headerFormatter",i,(function(t){s&&!a&&y(e.key)&&(a=s.getXDateFormat(e.key,r.dateTimeLabelFormats)),s&&a&&(e.point&&e.point.tooltipDateKeys||["key"]).forEach((function(e){l=l.replace("{point."+e+"}","{point."+e+":"+a+"}")})),n.chart.styledMode&&(l=this.styledModeFormat(l)),t.text=o(l,{point:e,series:n},this.chart)})),i.text},e.prototype.update=function(e){this.destroy(),v(!0,this.chart.options.tooltip.userOptions,e),this.init(this.chart,v(!0,this.options,e))},e.prototype.updatePosition=function(e){var t=this.chart,n=this.options,r=t.pointer,i=this.getLabel();r=r.getChartPosition();var o=(n.positioner||this.getPosition).call(this,i.width,i.height,e),s=e.plotX+t.plotLeft;e=e.plotY+t.plotTop,this.outside&&(n=n.borderWidth+2*this.distance,this.renderer.setSize(i.width+n,i.height+n,!1),1===r.scaleX&&1===r.scaleY||(u(this.container,{transform:"scale("+r.scaleX+", "+r.scaleY+")"}),s*=r.scaleX,e*=r.scaleY),s+=r.left-o.x,e+=r.top-o.y),this.move(Math.round(o.x),Math.round(o.y||0),s,e)},e}(),e})),t(n,"Core/Series/Point.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Animation/AnimationUtilities.js"],n["Core/DefaultOptions.js"],n["Core/FormatUtilities.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i){var o=t.animObject,s=n.defaultOptions,a=r.format,l=i.addEvent,c=i.defined,u=i.erase,h=i.extend,p=i.fireEvent,d=i.getNestedProperty,f=i.isArray,m=i.isFunction,y=i.isNumber,g=i.isObject,v=i.merge,b=i.objectEach,w=i.pick,_=i.syncTimeout,x=i.removeEvent,S=i.uniqueKey;return t=function(){function t(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return t.prototype.animateBeforeDestroy=function(){var e=this,t={x:e.startXPos,opacity:0},n=e.getGraphicalProps();n.singular.forEach((function(n){e[n]=e[n].animate("dataLabel"===n?{x:e[n].startXPos,y:e[n].startYPos,opacity:0}:t)})),n.plural.forEach((function(t){e[t].forEach((function(t){t.element&&t.animate(h({x:e.startXPos},t.startYPos?{x:t.startXPos,y:t.startYPos}:{}))}))}))},t.prototype.applyOptions=function(e,n){var r=this.series,i=r.options.pointValKey||r.pointValKey;return e=t.prototype.optionsToObject.call(this,e),h(this,e),this.options=this.options?h(this.options,e):e,e.group&&delete this.group,e.dataLabels&&delete this.dataLabels,i&&(this.y=t.prototype.getNestedProperty.call(this,i)),this.formatPrefix=(this.isNull=w(this.isValid&&!this.isValid(),null===this.x||!y(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&"undefined"===typeof n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),"undefined"===typeof this.x&&r?this.x="undefined"===typeof n?r.autoIncrement():n:y(e.x)&&r.options.relativeXValue&&(this.x=r.autoIncrement(e.x)),this},t.prototype.destroy=function(){function e(){for(i in(t.graphic||t.dataLabel||t.dataLabels)&&(x(t),t.destroyElements()),t)t[i]=null}var t=this,n=t.series,r=n.chart;n=n.options.dataSorting;var i,s=r.hoverPoints,a=o(t.series.chart.renderer.globalAnimation);t.legendItem&&r.legend.destroyItem(t),s&&(t.setState(),u(s,t),s.length||(r.hoverPoints=null)),t===r.hoverPoint&&t.onMouseOut(),n&&n.enabled?(this.animateBeforeDestroy(),_(e,a.duration)):e(),r.pointCount--},t.prototype.destroyElements=function(e){var t=this;e=t.getGraphicalProps(e),e.singular.forEach((function(e){t[e]=t[e].destroy()})),e.plural.forEach((function(e){t[e].forEach((function(e){e.element&&e.destroy()})),delete t[e]}))},t.prototype.firePointEvent=function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&r.importEvents(),"click"===e&&i.allowPointSelect&&(n=function(e){r.select&&r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),p(r,e,t,n)},t.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},t.prototype.getGraphicalProps=function(e){var t,n=this,r=[],i={singular:[],plural:[]};for(e=e||{graphic:1,dataLabel:1},e.graphic&&r.push("graphic","upperGraphic","shadowGroup"),e.dataLabel&&r.push("dataLabel","dataLabelUpper","connector"),t=r.length;t--;){var o=r[t];n[o]&&i.singular.push(o)}return["dataLabel","connector"].forEach((function(t){var r=t+"s";e[t]&&n[r]&&i.plural.push(r)})),i},t.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},t.prototype.getNestedProperty=function(e){if(e)return 0===e.indexOf("custom.")?d(e,this.options):this[e]},t.prototype.getZone=function(){var e=this.series,t=e.zones;e=e.zoneAxis||"y";var n,r=0;for(n=t[r];this[e]>=n.value;)n=t[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=n&&n.color&&!this.options.color?n.color:this.nonZonedColor,n},t.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},t.prototype.init=function(e,t,n){return this.series=e,this.applyOptions(t,n),this.id=c(this.id)?this.id:S(),this.resolveColor(),e.chart.pointCount++,p(this,"afterInit"),this},t.prototype.optionsToObject=function(e){var n=this.series,r=n.options.keys,i=r||n.pointArrayMap||["y"],o=i.length,s={},a=0,l=0;if(y(e)||null===e)s[i[0]]=e;else if(f(e))for(!r&&e.length>o&&(n=typeof e[0],"string"===n?s.name=e[0]:"number"===n&&(s.x=e[0]),a++);l<o;)r&&"undefined"===typeof e[a]||(0<i[l].indexOf(".")?t.prototype.setNestedProperty(s,e[a],i[l]):s[i[l]]=e[a]),a++,l++;else"object"===typeof e&&(s=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return s},t.prototype.resolveColor=function(){var e=this.series,t=e.chart.styledMode,n=e.chart.options.chart.colorCount;if(delete this.nonZonedColor,e.options.colorByPoint){if(!t){n=e.options.colors||e.chart.options.colors;var r=n[e.colorCounter];n=n.length}t=e.colorCounter,e.colorCounter++,e.colorCounter===n&&(e.colorCounter=0)}else t||(r=e.color),t=e.colorIndex;this.colorIndex=w(this.options.colorIndex,t),this.color=w(this.options.color,r)},t.prototype.setNestedProperty=function(e,t,n){return n.split(".").reduce((function(e,n,r,i){return e[n]=i.length-1===r?t:g(e[n],!0)?e[n]:{},e[n]}),e),e},t.prototype.tooltipFormatter=function(e){var t=this.series,n=t.tooltipOptions,r=w(n.valueDecimals,""),i=n.valuePrefix||"",o=n.valueSuffix||"";return t.chart.styledMode&&(e=t.chart.tooltip.styledModeFormat(e)),(t.pointArrayMap||["y"]).forEach((function(t){t="{point."+t,(i||o)&&(e=e.replace(RegExp(t+"}","g"),i+t+"}"+o)),e=e.replace(RegExp(t+"}","g"),t+":,."+r+"f}")})),a(e,{point:this,series:this.series},t.chart)},t.prototype.update=function(e,t,n,r){function i(){s.applyOptions(e);var r=l&&s.hasDummyGraphic;r=null===s.y?!r:r,l&&r&&(s.graphic=l.destroy(),delete s.hasDummyGraphic),g(e,!0)&&(l&&l.element&&e&&e.marker&&"undefined"!==typeof e.marker.symbol&&(s.graphic=l.destroy()),e&&e.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),o=s.index,a.updateParallelArrays(s,o),u.data[o]=g(u.data[o],!0)||g(e,!0)?s.options:w(e,u.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),t&&c.redraw(n)}var o,s=this,a=s.series,l=s.graphic,c=a.chart,u=a.options;t=w(t,!0),!1===r?i():s.firePointEvent("update",{options:e},i)},t.prototype.remove=function(e,t){this.series.removePoint(this.series.data.indexOf(this),e,t)},t.prototype.select=function(e,t){var n=this,r=n.series,i=r.chart;this.selectedStaging=e=w(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},(function(){n.selected=n.options.selected=e,r.options.data[r.data.indexOf(n)]=n.options,n.setState(e&&"select"),t||i.getSelectedPoints().forEach((function(e){var t=e.series;e.selected&&e!==n&&(e.selected=e.options.selected=!1,t.options.data[t.data.indexOf(e)]=e.options,e.setState(i.hoverPoints&&t.options.inactiveOtherPoints?"inactive":""),e.firePointEvent("unselect"))}))})),delete this.selectedStaging},t.prototype.onMouseOver=function(e){var t=this.series.chart,n=t.pointer;e=e?n.normalize(e):n.getChartCoordinatesFromPoint(this,t.inverted),n.runPointActions(e,this)},t.prototype.onMouseOut=function(){var e=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(e.hoverPoints||[]).forEach((function(e){e.setState()})),e.hoverPoints=e.hoverPoint=null},t.prototype.importEvents=function(){if(!this.hasImportedEvents){var e=this,t=v(e.series.options.point,e.options).events;e.events=t,b(t,(function(t,n){m(t)&&l(e,n,t)})),this.hasImportedEvents=!0}},t.prototype.setState=function(t,n){var r,i=this.series,o=this.state,a=i.options.states[t||"normal"]||{},l=s.plotOptions[i.type].marker&&i.options.marker,c=l&&!1===l.enabled,u=l&&l.states&&l.states[t||"normal"]||{},d=!1===u.enabled,f=this.marker||{},m=i.chart,g=l&&i.markerAttribs,v=i.halo,b=i.stateMarkerGraphic;if(t=t||"",!(t===this.state&&!n||this.selected&&"select"!==t||!1===a.enabled||t&&(d||c&&!1===u.enabled)||t&&f.states&&f.states[t]&&!1===f.states[t].enabled)){if(this.state=t,g&&(r=i.markerAttribs(this,t)),this.graphic&&!this.hasDummyGraphic){if(o&&this.graphic.removeClass("highcharts-point-"+o),t&&this.graphic.addClass("highcharts-point-"+t),!m.styledMode){var _=i.pointAttribs(this,t),x=w(m.options.chart.animation,a.animation);i.options.inactiveOtherPoints&&y(_.opacity)&&((this.dataLabels||[]).forEach((function(e){e&&e.animate({opacity:_.opacity},x)})),this.connector&&this.connector.animate({opacity:_.opacity},x)),this.graphic.animate(_,x)}r&&this.graphic.animate(r,w(m.options.chart.animation,u.animation,l.animation)),b&&b.hide()}else t&&u&&(o=f.symbol||i.symbol,b&&b.currentSymbol!==o&&(b=b.destroy()),r&&(b?b[n?"animate":"attr"]({x:r.x,y:r.y}):o&&(i.stateMarkerGraphic=b=m.renderer.symbol(o,r.x,r.y,r.width,r.height).add(i.markerGroup),b.currentSymbol=o)),!m.styledMode&&b&&"inactive"!==this.state&&b.attr(i.pointAttribs(this,t))),b&&(b[t&&this.isInside?"show":"hide"](),b.element.point=this,b.addClass(this.getClassName(),!0));a=a.halo,r=(b=this.graphic||b)&&b.visibility||"inherit",a&&a.size&&b&&"hidden"!==r&&!this.isCluster?(v||(i.halo=v=m.renderer.path().add(b.parentGroup)),v.show()[n?"animate":"attr"]({d:this.haloPath(a.size)}),v.attr({class:"highcharts-halo highcharts-color-"+w(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),visibility:r,zIndex:-1}),v.point=this,m.styledMode||v.attr(h({fill:this.color||i.color,"fill-opacity":a.opacity},e.filterUserAttributes(a.attributes||{})))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)},null,v.hide),p(this,"afterSetState",{state:t})}},t.prototype.haloPath=function(e){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-e,this.plotY-e,2*e,2*e)},t}(),t})),t(n,"Core/Pointer.js",[n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Tooltip.js"],n["Core/Utilities.js"]],(function(e,t,n,r){var i=e.parse,o=t.charts,s=t.noop,a=r.addEvent,l=r.attr,c=r.css,u=r.defined,h=r.extend,p=r.find,d=r.fireEvent,f=r.isNumber,m=r.isObject,y=r.objectEach,g=r.offset,v=r.pick,b=r.splat;return e=function(){function e(e,t){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=e,this.hasDragged=!1,this.options=t,this.init(e,t)}return e.prototype.applyInactiveState=function(e){var t,n=[];(e||[]).forEach((function(e){t=e.series,n.push(t),t.linkedParent&&n.push(t.linkedParent),t.linkedSeries&&(n=n.concat(t.linkedSeries)),t.navigatorSeries&&n.push(t.navigatorSeries)})),this.chart.series.forEach((function(e){-1===n.indexOf(e)?e.setState("inactive",!0):e.options.inactiveOtherPoints&&e.setAllPointsToState("inactive")}))},e.prototype.destroy=function(){var n=this;this.eventsToUnbind.forEach((function(e){return e()})),this.eventsToUnbind=[],t.chartCount||(e.unbindDocumentMouseUp&&(e.unbindDocumentMouseUp=e.unbindDocumentMouseUp()),e.unbindDocumentTouchEnd&&(e.unbindDocumentTouchEnd=e.unbindDocumentTouchEnd())),clearInterval(n.tooltipTimeout),y(n,(function(e,t){n[t]=void 0}))},e.prototype.drag=function(e){var t=this.chart,n=t.options.chart,r=this.zoomHor,o=this.zoomVert,s=t.plotLeft,a=t.plotTop,l=t.plotWidth,c=t.plotHeight,u=this.mouseDownX||0,h=this.mouseDownY||0,p=m(n.panning)?n.panning&&n.panning.enabled:n.panning,d=n.panKey&&e[n.panKey+"Key"],f=e.chartX,y=e.chartY,g=this.selectionMarker;if((!g||!g.touch)&&(f<s?f=s:f>s+l&&(f=s+l),y<a?y=a:y>a+c&&(y=a+c),this.hasDragged=Math.sqrt(Math.pow(u-f,2)+Math.pow(h-y,2)),10<this.hasDragged)){var v=t.isInsidePlot(u-s,h-a,{visiblePlotOnly:!0});!t.hasCartesianSeries&&!t.mapView||!this.zoomX&&!this.zoomY||!v||d||g||(this.selectionMarker=g=t.renderer.rect(s,a,r?1:l,o?1:c,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),t.styledMode||g.attr({fill:n.selectionMarkerFill||i("#335cad").setOpacity(.25).get()})),g&&r&&(r=f-u,g.attr({width:Math.abs(r),x:(0<r?0:r)+u})),g&&o&&(r=y-h,g.attr({height:Math.abs(r),y:(0<r?0:r)+h})),v&&!g&&p&&t.pan(e,n.panning)}},e.prototype.dragStart=function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},e.prototype.drop=function(e){var t=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i=this.selectionMarker,o=i.attr?i.attr("x"):i.x,s=i.attr?i.attr("y"):i.y,a=i.attr?i.attr("width"):i.width,l=i.attr?i.attr("height"):i.height,p={originalEvent:e,xAxis:[],yAxis:[],x:o,y:s,width:a,height:l},m=!!n.mapView;(this.hasDragged||r)&&(n.axes.forEach((function(n){if(n.zoomEnabled&&u(n.min)&&(r||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])&&f(o)&&f(s)){var i=n.horiz,c="touchend"===e.type?n.minPixelPadding:0,h=n.toValue((i?o:s)+c);i=n.toValue((i?o+a:s+l)-c),p[n.coll].push({axis:n,min:Math.min(h,i),max:Math.max(h,i)}),m=!0}})),m&&d(n,"selection",p,(function(e){n.zoom(h(e,r?{animation:!1}:null))}))),f(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),r&&this.scaleGroups()}n&&f(n.index)&&(c(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},e.prototype.findNearestKDPoint=function(e,t,n){var r,i=this.chart,o=i.hoverPoint;return i=i.tooltip,o&&i&&i.isStickyOnContact()?o:(e.forEach((function(e){var i=!(e.noSharedTooltip&&t)&&0>e.options.findNearestPointBy.indexOf("y");if(e=e.searchPoint(n,i),(i=m(e,!0)&&e.series)&&!(i=!m(r,!0))){i=r.distX-e.distX;var o=r.dist-e.dist,s=(e.series.group&&e.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);i=0<(0!==i&&t?i:0!==o?o:0!==s?s:r.series.index>e.series.index?-1:1)}i&&(r=e)})),r)},e.prototype.getChartCoordinatesFromPoint=function(e,t){var n=e.series,r=n.xAxis;n=n.yAxis;var i=e.shapeArgs;if(r&&n){var o=v(e.clientX,e.plotX),s=e.plotY||0;return e.isNode&&i&&f(i.x)&&f(i.y)&&(o=i.x,s=i.y),t?{chartX:n.len+n.pos-s,chartY:r.len+r.pos-o}:{chartX:o+r.pos,chartY:s+n.pos}}if(i&&i.x&&i.y)return{chartX:i.x,chartY:i.y}},e.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var e=this.chart.container,t=g(e);this.chartPosition={left:t.left,top:t.top,scaleX:1,scaleY:1};var n=e.offsetWidth;return e=e.offsetHeight,2<n&&2<e&&(this.chartPosition.scaleX=t.width/n,this.chartPosition.scaleY=t.height/e),this.chartPosition},e.prototype.getCoordinates=function(e){var t={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})})),t},e.prototype.getHoverData=function(e,t,n,r,i,o){var s=[];r=!(!r||!e);var a={chartX:o?o.chartX:void 0,chartY:o?o.chartY:void 0,shared:i};d(this,"beforeGetHoverData",a);var l=t&&!t.stickyTracking?[t]:n.filter((function(e){return a.filter?a.filter(e):e.visible&&!(!i&&e.directTouch)&&v(e.options.enableMouseTracking,!0)&&e.stickyTracking})),c=r||!o?e:this.findNearestKDPoint(l,i,o);return t=c&&c.series,c&&(i&&!t.noSharedTooltip?(l=n.filter((function(e){return a.filter?a.filter(e):e.visible&&!(!i&&e.directTouch)&&v(e.options.enableMouseTracking,!0)&&!e.noSharedTooltip})),l.forEach((function(e){var t=p(e.points,(function(e){return e.x===c.x&&!e.isNull}));m(t)&&(e.chart.isBoosting&&(t=e.getPoint(t)),s.push(t))}))):s.push(c)),a={hoverPoint:c},d(this,"afterGetHoverData",a),{hoverPoint:a.hoverPoint,hoverSeries:t,hoverPoints:s}},e.prototype.getPointFromEvent=function(e){e=e.target;for(var t;e&&!t;)t=e.point,e=e.parentNode;return t},e.prototype.onTrackerMouseOut=function(e){e=e.relatedTarget||e.toElement;var t=this.chart.hoverSeries;this.isDirectTouch=!1,!t||!e||t.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)&&this.inClass(e,"highcharts-tracker")||t.onMouseOut()},e.prototype.inClass=function(e,t){for(var n;e;){if(n=l(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}e=e.parentNode}},e.prototype.init=function(e,t){this.options=t,this.chart=e,this.runChartClick=!(!t.chart.events||!t.chart.events.click),this.pinchDown=[],this.lastValidTouch={},n&&(e.tooltip=new n(e,t.tooltip),this.followTouchMove=v(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},e.prototype.normalize=function(e,t){var n=e.touches,r=n?n.length?n.item(0):v(n.changedTouches,e.changedTouches)[0]:e;return t||(t=this.getChartPosition()),n=r.pageX-t.left,r=r.pageY-t.top,n/=t.scaleX,r/=t.scaleY,h(e,{chartX:Math.round(n),chartY:Math.round(r)})},e.prototype.onContainerClick=function(e){var t=this.chart,n=t.hoverPoint;e=this.normalize(e);var r=t.plotLeft,i=t.plotTop;t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(d(n.series,"click",h(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(h(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i,{visiblePlotOnly:!0})&&d(t,"click",e)))},e.prototype.onContainerMouseDown=function(e){var n=1===(1&(e.buttons||e.button));e=this.normalize(e),t.isFirefox&&0!==e.button&&this.onContainerMouseMove(e),("undefined"===typeof e.button||n)&&(this.zoomOption(e),n&&e.preventDefault&&e.preventDefault(),this.dragStart(e))},e.prototype.onContainerMouseLeave=function(t){var n=o[v(e.hoverChartIndex,-1)],r=this.chart.tooltip;r&&r.shouldStickOnContact()&&this.inClass(t.relatedTarget,"highcharts-tooltip-container")||(t=this.normalize(t),n&&(t.relatedTarget||t.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=void 0),r&&!r.isHidden&&this.reset())},e.prototype.onContainerMouseEnter=function(e){delete this.chartPosition},e.prototype.onContainerMouseMove=function(e){var t=this.chart;e=this.normalize(e),this.setHoverChartIndex(),e.preventDefault||(e.returnValue=!1),("mousedown"===t.mouseIsDown||this.touchSelect(e))&&this.drag(e),t.openMenu||!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop,{visiblePlotOnly:!0})||(this.inClass(e.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(e))},e.prototype.onDocumentTouchEnd=function(t){var n=o[v(e.hoverChartIndex,-1)];n&&n.pointer.drop(t)},e.prototype.onContainerTouchMove=function(e){this.touchSelect(e)?this.onContainerMouseMove(e):this.touch(e)},e.prototype.onContainerTouchStart=function(e){this.touchSelect(e)?this.onContainerMouseDown(e):(this.zoomOption(e),this.touch(e,!0))},e.prototype.onDocumentMouseMove=function(e){var t=this.chart,n=this.chartPosition;e=this.normalize(e,n);var r=t.tooltip;!n||r&&r.isStickyOnContact()||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop,{visiblePlotOnly:!0})||this.inClass(e.target,"highcharts-tracker")||this.reset()},e.prototype.onDocumentMouseUp=function(t){var n=o[v(e.hoverChartIndex,-1)];n&&n.pointer.drop(t)},e.prototype.pinch=function(e){var t=this,n=t.chart,r=t.pinchDown,i=e.touches||[],o=i.length,a=t.lastValidTouch,l=t.hasZoom,c={},u=1===o&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),p={},f=t.selectionMarker;1<o?t.initiated=!0:1===o&&this.followTouchMove&&(t.initiated=!1),l&&t.initiated&&!u&&!1!==e.cancelable&&e.preventDefault(),[].map.call(i,(function(e){return t.normalize(e)})),"touchstart"===e.type?([].forEach.call(i,(function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}})),a.x=[r[0].chartX,r[1]&&r[1].chartX],a.y=[r[0].chartY,r[1]&&r[1].chartY],n.axes.forEach((function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(Math.min(v(e.options.min,e.dataMin),e.dataMin)),o=e.toPixels(Math.max(v(e.options.max,e.dataMax),e.dataMax)),s=Math.max(i,o);t.min=Math.min(e.pos,Math.min(i,o)-r),t.max=Math.max(e.pos+e.len,s+r)}})),t.res=!0):t.followTouchMove&&1===o?this.runPointActions(t.normalize(e)):r.length&&(d(n,"touchpan",{originalEvent:e},(function(){f||(t.selectionMarker=f=h({destroy:s,touch:!0},n.plotBox)),t.pinchTranslate(r,i,c,f,p,a),t.hasPinched=l,t.scaleGroups(c,p)})),t.res&&(t.res=!1,this.reset(!1,0)))},e.prototype.pinchTranslate=function(e,t,n,r,i,o){this.zoomHor&&this.pinchTranslateDirection(!0,e,t,n,r,i,o),this.zoomVert&&this.pinchTranslateDirection(!1,e,t,n,r,i,o)},e.prototype.pinchTranslateDirection=function(e,t,n,r,i,o,s,a){var l=this.chart,c=e?"x":"y",u=e?"X":"Y",h="chart"+u,p=e?"width":"height",d=l["plot"+(e?"Left":"Top")],f=l.inverted,m=l.bounds[e?"h":"v"],y=1===t.length,g=t[0][h],v=!y&&t[1][h];t=function(){"number"===typeof S&&20<Math.abs(g-v)&&(_=a||Math.abs(x-S)/Math.abs(g-v)),w=(d-x)/_+g,b=l["plot"+(e?"Width":"Height")]/_};var b,w,_=a||1,x=n[0][h],S=!y&&n[1][h];if(t(),n=w,n<m.min){n=m.min;var T=!0}else n+b>m.max&&(n=m.max-b,T=!0);T?(x-=.8*(x-s[c][0]),"number"===typeof S&&(S-=.8*(S-s[c][1])),t()):s[c]=[x,S],f||(o[c]=w-d,o[p]=b),o=f?1/_:_,i[p]=b,i[c]=n,r[f?e?"scaleY":"scaleX":"scale"+u]=_,r["translate"+u]=o*d+(x-o*g)},e.prototype.reset=function(e,t){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,a=s&&s.shared?o:i;e&&a&&b(a).forEach((function(t){t.series.isCartesian&&"undefined"===typeof t.plotX&&(e=!1)})),e?s&&a&&b(a).length&&(s.refresh(a),s.shared&&o?o.forEach((function(e){e.setState(e.state,!0),e.series.isCartesian&&(e.series.xAxis.crosshair&&e.series.xAxis.drawCrosshair(null,e),e.series.yAxis.crosshair&&e.series.yAxis.drawCrosshair(null,e))})):i&&(i.setState(i.state,!0),n.axes.forEach((function(e){e.crosshair&&i.series[e.coll]===e&&e.drawCrosshair(null,i)})))):(i&&i.onMouseOut(),o&&o.forEach((function(e){e.setState()})),r&&r.onMouseOut(),s&&s.hide(t),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach((function(e){e.hideCrosshair()})),this.hoverX=n.hoverPoints=n.hoverPoint=null)},e.prototype.runPointActions=function(t,n){var r=this.chart,i=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,s=!!i&&i.shared,l=n||r.hoverPoint,c=l&&l.series||r.hoverSeries;n=this.getHoverData(l,c,r.series,(!t||"touchmove"!==t.type)&&(!!n||c&&c.directTouch&&this.isDirectTouch),s,t),l=n.hoverPoint,c=n.hoverSeries;var u=n.hoverPoints;if(n=c&&c.tooltipOptions.followPointer&&!c.tooltipOptions.split,s=s&&c&&!c.noSharedTooltip,l&&(l!==r.hoverPoint||i&&i.isHidden)){if((r.hoverPoints||[]).forEach((function(e){-1===u.indexOf(e)&&e.setState()})),r.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(u),(u||[]).forEach((function(e){e.setState("hover")})),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!l.series)return;r.hoverPoints=u,r.hoverPoint=l,l.firePointEvent("mouseOver"),i&&i.refresh(s?u:l,t)}else n&&i&&!i.isHidden&&(l=i.getAnchor([{}],t),r.isInsidePlot(l[0],l[1],{visiblePlotOnly:!0})&&i.updatePosition({plotX:l[0],plotY:l[1]}));this.unDocMouseMove||(this.unDocMouseMove=a(r.container.ownerDocument,"mousemove",(function(t){var n=o[e.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(t)})),this.eventsToUnbind.push(this.unDocMouseMove)),r.axes.forEach((function(e){var n,i=v((e.crosshair||{}).snap,!0);i&&((n=r.hoverPoint)&&n.series[e.coll]===e||(n=p(u,(function(t){return t.series[e.coll]===e})))),n||!i?e.drawCrosshair(t,n):e.hideCrosshair()}))},e.prototype.scaleGroups=function(e,t){var n=this.chart;n.series.forEach((function(r){var i=e||r.getPlotBox();r.group&&(r.xAxis&&r.xAxis.zoomEnabled||n.mapView)&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(t?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))})),n.clipRect.attr(t||n.clipBox)},e.prototype.setDOMEvents=function(){var n=this,r=this.chart.container,i=r.ownerDocument;r.onmousedown=this.onContainerMouseDown.bind(this),r.onmousemove=this.onContainerMouseMove.bind(this),r.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(a(r,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(a(r,"mouseleave",this.onContainerMouseLeave.bind(this))),e.unbindDocumentMouseUp||(e.unbindDocumentMouseUp=a(i,"mouseup",this.onDocumentMouseUp.bind(this)));for(var o=this.chart.renderTo.parentElement;o&&"BODY"!==o.tagName;)this.eventsToUnbind.push(a(o,"scroll",(function(){delete n.chartPosition}))),o=o.parentElement;t.hasTouch&&(this.eventsToUnbind.push(a(r,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(a(r,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),e.unbindDocumentTouchEnd||(e.unbindDocumentTouchEnd=a(i,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},e.prototype.setHoverChartIndex=function(){var n=this.chart,r=t.charts[v(e.hoverChartIndex,-1)];r&&r!==n&&r.pointer.onContainerMouseLeave({relatedTarget:!0}),r&&r.mouseIsDown||(e.hoverChartIndex=n.index)},e.prototype.touch=function(e,t){var n=this.chart;if(this.setHoverChartIndex(),1===e.touches.length)if(e=this.normalize(e),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.openMenu){if(t&&this.runPointActions(e),"touchmove"===e.type){t=this.pinchDown;var r=!!t[0]&&4<=Math.sqrt(Math.pow(t[0].chartX-e.chartX,2)+Math.pow(t[0].chartY-e.chartY,2))}v(r,!0)&&this.pinch(e)}else t&&this.reset();else 2===e.touches.length&&this.pinch(e)},e.prototype.touchSelect=function(e){return!(!this.chart.options.chart.zoomBySingleTouch||!e.touches||1!==e.touches.length)},e.prototype.zoomOption=function(e){var t=this.chart,n=t.options.chart;t=t.inverted;var r=n.zoomType||"";/touch/.test(e.type)&&(r=v(n.pinchType,r)),this.zoomX=e=/x/.test(r),this.zoomY=n=/y/.test(r),this.zoomHor=e&&!t||n&&t,this.zoomVert=n&&!t||e&&t,this.hasZoom=e||n},e}(),e})),t(n,"Core/MSPointer.js",[n["Core/Globals.js"],n["Core/Pointer.js"],n["Core/Utilities.js"]],(function(e,t,n){function r(){var e=[];return e.item=function(e){return this[e]},p(f,(function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})})),e}function i(e,n,i,o){var a=s[t.hoverChartIndex||NaN];"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!a||(a=a.pointer,o(e),a[n]({type:i,target:e.currentTarget,preventDefault:l,touches:r()}))}var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=e.charts,a=e.doc,l=e.noop,c=e.win,u=n.addEvent,h=n.css,p=n.objectEach,d=n.removeEvent,f={},m=!!c.PointerEvent;return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.isRequired=function(){return!(e.hasTouch||!c.PointerEvent&&!c.MSPointerEvent)},n.prototype.batchMSEvents=function(e){e(this.chart.container,m?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,m?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(a,m?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},n.prototype.destroy=function(){this.batchMSEvents(d),t.prototype.destroy.call(this)},n.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.hasZoom&&h(e.container,{"-ms-touch-action":"none","touch-action":"none"})},n.prototype.onContainerPointerDown=function(e){i(e,"onContainerTouchStart","touchstart",(function(e){f[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}}))},n.prototype.onContainerPointerMove=function(e){i(e,"onContainerTouchMove","touchmove",(function(e){f[e.pointerId]={pageX:e.pageX,pageY:e.pageY},f[e.pointerId].target||(f[e.pointerId].target=e.currentTarget)}))},n.prototype.onDocumentPointerUp=function(e){i(e,"onDocumentTouchEnd","touchend",(function(e){delete f[e.pointerId]}))},n.prototype.setDOMEvents=function(){t.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(u)},n}(t)})),t(n,"Core/Legend/Legend.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Series/Point.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i,o){var s=e.animObject,a=e.setAnimation,l=t.format;e=n.isFirefox;var c=n.marginNames;n=n.win;var u=i.distribute,h=o.addEvent,p=o.createElement,d=o.css,f=o.defined,m=o.discardElement,y=o.find,g=o.fireEvent,v=o.isNumber,b=o.merge,w=o.pick,_=o.relativeLength,x=o.stableSort,S=o.syncTimeout;return i=o.wrap,o=function(){function e(e,t){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=e,this.init(e,t)}return e.prototype.init=function(e,t){this.chart=e,this.setOptions(t),t.enabled&&(this.render(),h(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=h(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},e.prototype.setOptions=function(e){var t=w(e.padding,8);this.options=e,this.chart.styledMode||(this.itemStyle=e.itemStyle,this.itemHiddenStyle=b(this.itemStyle,e.itemHiddenStyle)),this.itemMarginTop=e.itemMarginTop||0,this.itemMarginBottom=e.itemMarginBottom||0,this.padding=t,this.initialItemY=t-5,this.symbolWidth=w(e.symbolWidth,16),this.pages=[],this.proximate="proximate"===e.layout&&!this.chart.inverted,this.baseline=void 0},e.prototype.update=function(e,t){var n=this.chart;this.setOptions(b(!0,this.options,e)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,w(t,!0)&&n.redraw(),g(this,"afterUpdate")},e.prototype.colorizeItem=function(e,t){if(e.legendGroup[t?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var n=this.options,r=e.legendItem,i=e.legendLine,o=e.legendSymbol,s=this.itemHiddenStyle.color;n=t?n.itemStyle.color:s;var a=t&&e.color||s,l=e.options&&e.options.marker,c={fill:a};r&&r.css({fill:n,color:n}),i&&i.attr({stroke:a}),o&&(l&&o.isMarker&&(c=e.pointAttribs(),t||(c.stroke=c.fill=s)),o.attr(c))}g(this,"afterColorizeItem",{item:e,visible:t})},e.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},e.prototype.positionItem=function(e){var t=this,n=this.options,r=n.symbolPadding,i=!n.rtl,o=e._legendItemPos;n=o[0],o=o[1];var s=e.checkbox,a=e.legendGroup;a&&a.element&&(r={translateX:i?n:this.legendWidth-n-2*r-4,translateY:o},i=function(){g(t,"afterPositionItem",{item:e})},f(a.translateY)?a.animate(r,void 0,i):(a.attr(r),i())),s&&(s.x=n,s.y=o)},e.prototype.destroyItem=function(e){var t=e.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach((function(t){e[t]&&(e[t]=e[t].destroy())})),t&&m(e.checkbox)},e.prototype.destroy=function(){function e(e){this[e]&&(this[e]=this[e].destroy())}this.getAllItems().forEach((function(t){["legendItem","legendGroup"].forEach(e,t)})),"clipRect up down pager nav box title group".split(" ").forEach(e,this),this.display=null},e.prototype.positionCheckboxes=function(){var e=this.group&&this.group.alignAttr,t=this.clipHeight||this.legendHeight,n=this.titleHeight;if(e){var r=e.translateY;this.allItems.forEach((function(i){var o=i.checkbox;if(o){var s=r+n+o.y+(this.scrollOffset||0)+3;d(o,{left:e.translateX+i.checkboxOffset+o.x-20+"px",top:s+"px",display:this.proximate||s>r-6&&s<r+t-6?"":"none"})}}),this)}},e.prototype.renderTitle=function(){var e=this.options,t=this.padding,n=e.title,r=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,e.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),e=this.title.getBBox(),r=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},e.prototype.setText=function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?l(t.labelFormat,e,this.chart):t.labelFormatter.call(e)})},e.prototype.renderItem=function(e){var t=this.chart,n=t.renderer,r=this.options,i=this.symbolWidth,o=r.symbolPadding||0,s=this.itemStyle,a=this.itemHiddenStyle,l="horizontal"===r.layout?w(r.itemDistance,20):0,c=!r.rtl,u=!e.series,h=!u&&e.series.drawLegendSymbol?e.series:e,p=h.options,d=this.createCheckboxForItem&&p&&p.showCheckbox,f=r.useHTML,m=e.options.className,y=e.legendItem;p=i+o+l+(d?20:0),y||(e.legendGroup=n.g("legend-item").addClass("highcharts-"+h.type+"-series highcharts-color-"+e.colorIndex+(m?" "+m:"")+(u?" highcharts-series-"+e.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.legendItem=y=n.text("",c?i+o:-o,this.baseline||0,f),t.styledMode||y.css(b(e.visible?s:a)),y.attr({align:c?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(t.styledMode?12:s.fontSize,y),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,y.attr("y",this.baseline),this.symbolHeight=r.symbolHeight||this.fontMetrics.f,r.squareSymbol&&(this.symbolWidth=w(r.symbolWidth,Math.max(this.symbolHeight,16)),p=this.symbolWidth+o+l+(d?20:0),c&&y.attr("x",this.symbolWidth+o))),h.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,y,f)),d&&!e.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(e),this.colorizeItem(e,e.visible),!t.styledMode&&s.width||y.css({width:(r.itemWidth||this.widthOption||t.spacingBox.width)-p+"px"}),this.setText(e),t=y.getBBox(),n=this.fontMetrics&&this.fontMetrics.h||0,e.itemWidth=e.checkboxOffset=r.itemWidth||e.legendItemWidth||t.width+p,this.maxItemWidth=Math.max(this.maxItemWidth,e.itemWidth),this.totalItemWidth+=e.itemWidth,this.itemHeight=e.itemHeight=Math.round(e.legendItemHeight||(t.height>1.5*n?t.height:n))},e.prototype.layoutItem=function(e){var t=this.options,n=this.padding,r="horizontal"===t.layout,i=e.itemHeight,o=this.itemMarginBottom,s=this.itemMarginTop,a=r?w(t.itemDistance,20):0,l=this.maxLegendWidth;t=t.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:e.itemWidth,r&&this.itemX-n+t>l&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=s+this.lastLineHeight+o),this.lastLineHeight=0),this.lastItemY=s+this.itemY+o,this.lastLineHeight=Math.max(i,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=t:(this.itemY+=s+i+o,this.lastLineHeight=i),this.offsetWidth=this.widthOption||Math.max((r?this.itemX-n-(e.checkbox?0:a):t)+n,this.offsetWidth)},e.prototype.getAllItems=function(){var e=[];return this.chart.series.forEach((function(t){var n=t&&t.options;t&&w(n.showInLegend,!f(n.linkedTo)&&void 0,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))})),g(this,"afterGetAllItems",{allItems:e}),e},e.prototype.getAlignment=function(){var e=this.options;return this.proximate?e.align.charAt(0)+"tv":e.floating?"":e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0)},e.prototype.adjustMargins=function(e,t){var n=this.chart,r=this.options,i=this.getAlignment();i&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(o,s){o.test(i)&&!f(e[s])&&(n[c[s]]=Math.max(n[c[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*r[s%2?"x":"y"]+w(r.margin,12)+t[s]+(n.titleOffset[s]||0)))}))},e.prototype.proximatePositions=function(){var e=this.chart,t=[],n="left"===this.options.align;this.allItems.forEach((function(r){var i,o=n;if(r.yAxis){r.xAxis.options.reversed&&(o=!o),r.points&&(i=y(o?r.points:r.points.slice(0).reverse(),(function(e){return v(e.plotY)}))),o=this.itemMarginTop+r.legendItem.getBBox().height+this.itemMarginBottom;var s=r.yAxis.top-e.plotTop;r.visible?(i=i?i.plotY:r.yAxis.height,i+=s-.3*o):i=s+r.yAxis.height,t.push({target:i,size:o,item:r})}}),this),u(t,e.plotHeight).forEach((function(t){t.item._legendItemPos&&(t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos)}))},e.prototype.render=function(){var e=this.chart,t=e.renderer,n=this.options,r=this.padding,i=this.getAllItems(),o=this.group,s=this.box;this.itemX=r,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=_(n.width,e.spacingBox.width-r);var a=e.spacingBox.width-2*r-n.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(a/=2),this.maxLegendWidth=this.widthOption||a,o||(this.group=o=t.g("legend").addClass(n.className||"").attr({zIndex:7}).add(),this.contentGroup=t.g().attr({zIndex:1}).add(o),this.scrollGroup=t.g().add(this.contentGroup)),this.renderTitle(),x(i,(function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)})),n.reversed&&i.reverse(),this.allItems=i,this.display=a=!!i.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,i.forEach(this.renderItem,this),i.forEach(this.layoutItem,this),i=(this.widthOption||this.offsetWidth)+r;var l=this.lastItemY+this.lastLineHeight+this.titleHeight;l=this.handleOverflow(l),l+=r,s||(this.box=s=t.rect().addClass("highcharts-legend-box").attr({r:n.borderRadius}).add(o),s.isNew=!0),e.styledMode||s.attr({stroke:n.borderColor,"stroke-width":n.borderWidth||0,fill:n.backgroundColor||"none"}).shadow(n.shadow),0<i&&0<l&&(s[s.isNew?"attr":"animate"](s.crisp.call({},{x:0,y:0,width:i,height:l},s.strokeWidth())),s.isNew=!1),s[a?"show":"hide"](),e.styledMode&&"none"===o.getStyle("display")&&(i=l=0),this.legendWidth=i,this.legendHeight=l,a&&this.align(),this.proximate||this.positionItems(),g(this,"afterRender")},e.prototype.align=function(e){void 0===e&&(e=this.chart.spacingBox);var t=this.chart,n=this.options,r=e.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<t.titleOffset[0]?r+=t.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<t.titleOffset[2]&&(r-=t.titleOffset[2]),r!==e.y&&(e=b(e,{y:r})),this.group.align(b(n,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":n.verticalAlign}),!0,e)},e.prototype.handleOverflow=function(e){var t,n,r=this,i=this.chart,o=i.renderer,s=this.options,a=s.y,l="top"===s.verticalAlign,c=this.padding,u=s.maxHeight,h=s.navigation,p=w(h.animation,!0),d=h.arrowSize||12,f=this.pages,m=this.allItems,y=function(e){"number"===typeof e?b.attr({height:e}):b&&(r.clipRect=b.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=e?"rect("+c+"px,9999px,"+(c+e)+"px,0)":"auto")},g=function(e){return r[e]=o.circle(0,0,1.3*d).translate(d/2,d/2).add(v),i.styledMode||r[e].attr("fill","rgba(0,0,0,0.0001)"),r[e]};a=i.spacingBox.height+(l?-a:a)-c;var v=this.nav,b=this.clipRect;return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(a/=2),u&&(a=Math.min(a,u)),f.length=0,e&&0<a&&e>a&&!1!==h.enabled?(this.clipHeight=t=Math.max(a-20-this.titleHeight-c,0),this.currentPage=w(this.currentPage,1),this.fullHeight=e,m.forEach((function(e,r){var i=e._legendItemPos[1],o=Math.round(e.legendItem.getBBox().height),s=f.length;(!s||i-f[s-1]>t&&(n||i)!==f[s-1])&&(f.push(n||i),s++),e.pageIx=s-1,n&&(m[r-1].pageIx=s-1),r===m.length-1&&i+o-f[s-1]>t&&o<=t&&(f.push(i),e.pageIx=s),i!==n&&(n=i)})),b||(b=r.clipRect=o.clipRect(0,c,9999,0),r.contentGroup.clip(b)),y(t),v||(this.nav=v=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,d,d).add(v),g("upTracker").on("click",(function(){r.scroll(-1,p)})),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation"),i.styledMode||this.pager.css(h.style),this.pager.add(v),this.down=o.symbol("triangle-down",0,0,d,d).add(v),g("downTracker").on("click",(function(){r.scroll(1,p)}))),r.scroll(0),e=a):v&&(y(),this.nav=v.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},e.prototype.scroll=function(e,t){var n=this,r=this.chart,i=this.pages,o=i.length,l=this.clipHeight,c=this.options.navigation,u=this.pager,h=this.padding,p=this.currentPage+e;p>o&&(p=o),0<p&&("undefined"!==typeof t&&a(t,r),this.nav.attr({translateX:h,translateY:l+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach((function(e){e.attr({class:1===p?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),u.attr({text:p+"/"+o}),[this.down,this.downTracker].forEach((function(e){e.attr({x:18+this.pager.getBBox().width,class:p===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),r.styledMode||(this.up.attr({fill:1===p?c.inactiveColor:c.activeColor}),this.upTracker.css({cursor:1===p?"default":"pointer"}),this.down.attr({fill:p===o?c.inactiveColor:c.activeColor}),this.downTracker.css({cursor:p===o?"default":"pointer"})),this.scrollOffset=-i[p-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=p,this.positionCheckboxes(),e=s(w(t,r.renderer.globalAnimation,!0)),S((function(){g(n,"afterScroll",{currentPage:p})}),e.duration))},e.prototype.setItemEvents=function(e,t,n){var i=this,o=i.chart.renderer.boxWrapper,s=e instanceof r,a="highcharts-legend-"+(s?"point":"series")+"-active",l=i.chart.styledMode,c=function(t){i.allItems.forEach((function(n){e!==n&&[n].concat(n.linkedSeries||[]).forEach((function(e){e.setState(t,!s)}))}))};(n?[t,e.legendSymbol]:[e.legendGroup]).forEach((function(n){n&&n.on("mouseover",(function(){e.visible&&c("inactive"),e.setState("hover"),e.visible&&o.addClass(a),l||t.css(i.options.itemHoverStyle)})).on("mouseout",(function(){i.chart.styledMode||t.css(b(e.visible?i.itemStyle:i.itemHiddenStyle)),c(""),o.removeClass(a),e.setState()})).on("click",(function(t){var n=function(){e.setVisible&&e.setVisible(),c(e.visible?"inactive":"")};o.removeClass(a),t={browserEvent:t},e.firePointEvent?e.firePointEvent("legendItemClick",t,n):g(e,"legendItemClick",t,n)}))}))},e.prototype.createCheckboxForItem=function(e){e.checkbox=p("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),h(e.checkbox,"click",(function(t){g(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},(function(){e.select()}))}))},e}(),(/Trident\/7\.0/.test(n.navigator&&n.navigator.userAgent)||e)&&i(o.prototype,"positionItem",(function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),n.bubbleLegend||setTimeout(r)})),o})),t(n,"Core/Series/SeriesRegistry.js",[n["Core/Globals.js"],n["Core/DefaultOptions.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"]],(function(e,t,n,r){var i,o=t.defaultOptions,s=r.error,a=r.extendClass,l=r.merge;return function(t){function r(e,r){var i=o.plotOptions||{},s=r.defaultOptions;r.prototype.pointClass||(r.prototype.pointClass=n),r.prototype.type=e,s&&(i[e]=s),t.seriesTypes[e]=r}t.seriesTypes=e.seriesTypes,t.getSeries=function(e,n){void 0===n&&(n={});var r=e.options.chart;r=n.type||r.type||r.defaultSeriesType||"";var i=t.seriesTypes[r];return t||s(17,!0,e,{missingModuleFor:r}),r=new i,"function"===typeof r.init&&r.init(e,n),r},t.registerSeriesType=r,t.seriesType=function(e,i,s,c,u){var h=o.plotOptions||{};return i=i||"",h[e]=l(h[i],s),r(e,a(t.seriesTypes[i]||function(){},c)),t.seriesTypes[e].prototype.type=e,u&&(t.seriesTypes[e].prototype.pointClass=a(n,u)),t.seriesTypes[e]}}(i||(i={})),i})),t(n,"Core/Chart/Chart.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/FormatUtilities.js"],n["Core/Foundation.js"],n["Core/Globals.js"],n["Core/Legend/Legend.js"],n["Core/MSPointer.js"],n["Core/DefaultOptions.js"],n["Core/Pointer.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Time.js"],n["Core/Utilities.js"],n["Core/Renderer/HTML/AST.js"]],(function(e,t,n,r,i,o,s,a,l,c,u,h,p,d,f){var m=e.animate,y=e.animObject,g=e.setAnimation,v=n.numberFormat,b=r.registerEventOptions,w=i.charts,_=i.doc,x=i.marginNames,S=i.svg,T=i.win,E=a.defaultOptions,M=a.defaultTime,A=u.seriesTypes,I=d.addEvent,C=d.attr,O=d.cleanRecursively,k=d.createElement,R=d.css,L=d.defined,N=d.discardElement,P=d.erase,D=d.error,F=d.extend,j=d.find,U=d.fireEvent,z=d.getStyle,G=d.isArray,V=d.isNumber,B=d.isObject,$=d.isString,H=d.merge,W=d.objectEach,q=d.pick,Z=d.pInt,Y=d.relativeLength,X=d.removeEvent,J=d.splat,K=d.syncTimeout,Q=d.uniqueKey;return e=function(){function e(e,t,n){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(e,t,n)}return e.chart=function(t,n,r){return new e(t,n,r)},e.prototype.getArgs=function(e,t,n){$(e)||e.nodeName?(this.renderTo=e,this.init(t,n)):this.init(e,t)},e.prototype.init=function(e,t){var n=e.plotOptions||{};U(this,"init",{args:arguments},(function(){var r=H(E,e),o=r.chart;W(r.plotOptions,(function(e,t){B(e)&&(e.tooltip=n[t]&&H(n[t].tooltip)||void 0)})),r.tooltip.userOptions=e.chart&&e.chart.forExport&&e.tooltip.userOptions||e.tooltip,this.userOptions=e,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=t,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=e.time&&Object.keys(e.time).length?new p(e.time):i.time,this.numberFormatter=o.numberFormatter||v,this.styledMode=o.styledMode,this.hasCartesianSeries=o.showAxes,this.index=w.length,w.push(this),i.chartCount++,b(this,o),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,U(this,"afterInit"),this.firstRender()}))},e.prototype.initSeries=function(e){var t=this.options.chart;t=e.type||t.type||t.defaultSeriesType;var n=A[t];return n||D(17,!0,this,{missingModuleFor:t}),t=new n,"function"===typeof t.init&&t.init(this,e),t},e.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach((function(e){e.points||e.data||!e.enabledDataSorting||e.setData(e.options.data,!1)}))},e.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort((function(e,t){return e.linkedSeries.length||t.linkedSeries.length?t.linkedSeries.length-e.linkedSeries.length:0}))},e.prototype.orderSeries=function(e){var t=this.series;e=e||0;for(var n=t.length;e<n;++e)t[e]&&(t[e].index=e,t[e].name=t[e].getName())},e.prototype.isInsidePlot=function(e,t,n){void 0===n&&(n={});var r=this.inverted,i=this.plotBox,o=this.plotLeft,s=this.plotTop,a=this.scrollablePlotBox,l=0,c=0;n.visiblePlotOnly&&this.scrollingContainer&&(c=this.scrollingContainer,l=c.scrollLeft,c=c.scrollTop);var u=n.series;if(i=n.visiblePlotOnly&&a||i,a=n.inverted?t:e,t=n.inverted?e:t,e={x:a,y:t,isInsidePlot:!0},!n.ignoreX){var h=u&&(r?u.yAxis:u.xAxis)||{pos:o,len:1/0};a=n.paneCoordinates?h.pos+a:o+a,a>=Math.max(l+o,h.pos)&&a<=Math.min(l+o+i.width,h.pos+h.len)||(e.isInsidePlot=!1)}return!n.ignoreY&&e.isInsidePlot&&(r=u&&(r?u.xAxis:u.yAxis)||{pos:s,len:1/0},n=n.paneCoordinates?r.pos+t:s+t,n>=Math.max(c+s,r.pos)&&n<=Math.min(c+s+i.height,r.pos+r.len)||(e.isInsidePlot=!1)),U(this,"afterIsInsidePlot",e),e.isInsidePlot},e.prototype.redraw=function(e){U(this,"beforeRedraw");var t=this.hasCartesianSeries?this.axes:this.colorAxis||[],n=this.series,r=this.pointer,i=this.legend,o=this.userOptions.legend,s=this.renderer,a=s.isHidden(),l=[],c=this.isDirtyBox,u=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),g(!!this.hasRendered&&e,this),a&&this.temporaryDisplay(),this.layOutTitles(),e=n.length;e--;){var h=n[e];if(h.options.stacking||h.options.centerInCategory){var p=!0;if(h.isDirty){var d=!0;break}}}if(d)for(e=n.length;e--;)h=n[e],h.options.stacking&&(h.isDirty=!0);n.forEach((function(e){e.isDirty&&("point"===e.options.legendType?("function"===typeof e.updateTotals&&e.updateTotals(),u=!0):o&&(o.labelFormatter||o.labelFormat)&&(u=!0)),e.isDirtyData&&U(e,"updatedData")})),u&&i&&i.options.enabled&&(i.render(),this.isDirtyLegend=!1),p&&this.getStacks(),t.forEach((function(e){e.updateNames(),e.setScale()})),this.getMargins(),t.forEach((function(e){e.isDirty&&(c=!0)})),t.forEach((function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,l.push((function(){U(e,"afterSetExtremes",F(e.eventArgs,e.getExtremes())),delete e.eventArgs}))),(c||p)&&e.redraw()})),c&&this.drawChartBox(),U(this,"predraw"),n.forEach((function(e){(c||e.isDirty)&&e.visible&&e.redraw(),e.isDirtyData=!1})),r&&r.reset(!0),s.draw(),U(this,"redraw"),U(this,"render"),a&&this.temporaryDisplay(!0),l.forEach((function(e){e.call()}))},e.prototype.get=function(e){function t(t){return t.id===e||t.options&&t.options.id===e}for(var n=this.series,r=j(this.axes,t)||j(this.series,t),i=0;!r&&i<n.length;i++)r=j(n[i].points||[],t);return r},e.prototype.getAxes=function(){var e=this,n=this.options,r=n.xAxis=J(n.xAxis||{});n=n.yAxis=J(n.yAxis||{}),U(this,"getAxes"),r.forEach((function(e,t){e.index=t,e.isX=!0})),n.forEach((function(e,t){e.index=t})),r.concat(n).forEach((function(n){new t(e,n)})),U(this,"afterGetAxes")},e.prototype.getSelectedPoints=function(){return this.series.reduce((function(e,t){return t.getPointsCollection().forEach((function(t){q(t.selectedStaging,t.selected)&&e.push(t)})),e}),[])},e.prototype.getSelectedSeries=function(){return this.series.filter((function(e){return e.selected}))},e.prototype.setTitle=function(e,t,n){this.applyDescription("title",e),this.applyDescription("subtitle",t),this.applyDescription("caption",void 0),this.layOutTitles(n)},e.prototype.applyDescription=function(e,t){var n=this,r="title"===e?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};r=this.options[e]=H(!this.styledMode&&{style:r},this.options[e],t);var i=this[e];i&&t&&(this[e]=i=i.destroy()),r&&!i&&(i=this.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,class:"highcharts-"+e,zIndex:r.zIndex||4}).add(),i.update=function(t){n[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[e]](t)},this.styledMode||i.css(r.style),this[e]=i)},e.prototype.layOutTitles=function(e){var t=[0,0,0],n=this.renderer,r=this.spacingBox;["title","subtitle","caption"].forEach((function(e){var i,o=this[e],s=this.options[e],a=s.verticalAlign||"top";if(e="title"===e?"top"===a?-3:0:"top"===a?t[0]+2:0,o){this.styledMode||(i=s.style&&s.style.fontSize),i=n.fontMetrics(i,o).b,o.css({width:(s.width||r.width+(s.widthAdjust||0))+"px"});var l=Math.round(o.getBBox(s.useHTML).height);o.align(F({y:"bottom"===a?i:e+i,height:l},s),!1,"spacingBox"),s.floating||("top"===a?t[0]=Math.ceil(t[0]+l):"bottom"===a&&(t[2]=Math.ceil(t[2]+l)))}}),this),t[0]&&"top"===(this.options.title.verticalAlign||"top")&&(t[0]+=this.options.title.margin),t[2]&&"bottom"===this.options.caption.verticalAlign&&(t[2]+=this.options.caption.margin);var i=!this.titleOffset||this.titleOffset.join(",")!==t.join(",");this.titleOffset=t,U(this,"afterLayOutTitles"),!this.isDirtyBox&&i&&(this.isDirtyBox=this.isDirtyLegend=i,this.hasRendered&&q(e,!0)&&this.isDirtyBox&&this.redraw())},e.prototype.getChartSize=function(){var e=this.options.chart,t=e.width;e=e.height;var n=this.renderTo;L(t)||(this.containerWidth=z(n,"width")),L(e)||(this.containerHeight=z(n,"height")),this.chartWidth=Math.max(0,t||this.containerWidth||600),this.chartHeight=Math.max(0,Y(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},e.prototype.temporaryDisplay=function(e){var t=this.renderTo;if(e)for(;t&&t.style;)t.hcOrigStyle&&(R(t,t.hcOrigStyle),delete t.hcOrigStyle),t.hcOrigDetached&&(_.body.removeChild(t),t.hcOrigDetached=!1),t=t.parentNode;else for(;t&&t.style;)if(_.body.contains(t)||t.parentNode||(t.hcOrigDetached=!0,_.body.appendChild(t)),("none"===z(t,"display",!1)||t.hcOricDetached)&&(t.hcOrigStyle={display:t.style.display,height:t.style.height,overflow:t.style.overflow},e={display:"block",overflow:"hidden"},t!==this.renderTo&&(e.height=0),R(t,e),t.offsetWidth||t.style.setProperty("display","block","important")),t=t.parentNode,t===_.body)break},e.prototype.setClassName=function(e){this.container.className="highcharts-container "+(e||"")},e.prototype.getContainer=function(){var e,t=this.options,n=t.chart,r=Q(),i=this.renderTo;i||(this.renderTo=i=n.renderTo),$(i)&&(this.renderTo=i=_.getElementById(i)),i||D(13,!0,this);var o=Z(C(i,"data-highcharts-chart"));V(o)&&w[o]&&w[o].hasRendered&&w[o].destroy(),C(i,"data-highcharts-chart",this.index),i.innerHTML=f.emptyHTML,n.skipClone||i.offsetWidth||this.temporaryDisplay(),this.getChartSize(),o=this.chartWidth;var s=this.chartHeight;if(R(i,{overflow:"hidden"}),this.styledMode||(e=F({position:"relative",overflow:"hidden",width:o+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},n.style||{})),this.container=r=k("div",{id:r},e,i),this._cursor=r.style.cursor,this.renderer=new(n.renderer||!S?c.getRendererType(n.renderer):h)(r,o,s,void 0,n.forExport,t.exporting&&t.exporting.allowHTML,this.styledMode),g(void 0,this),this.setClassName(n.className),this.styledMode)for(var a in t.defs)this.renderer.definition(t.defs[a]);else this.renderer.setStyle(n.style);this.renderer.chartIndex=this.index,U(this,"afterGetContainer")},e.prototype.getMargins=function(e){var t=this.spacing,n=this.margin,r=this.titleOffset;this.resetMargins(),r[0]&&!L(n[0])&&(this.plotTop=Math.max(this.plotTop,r[0]+t[0])),r[2]&&!L(n[2])&&(this.marginBottom=Math.max(this.marginBottom,r[2]+t[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,t),U(this,"getMargins"),e||this.getAxisMargins()},e.prototype.getAxisMargins=function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.colorAxis,r=e.margin,i=function(e){e.forEach((function(e){e.visible&&e.getOffset()}))};e.hasCartesianSeries?i(e.axes):n&&n.length&&i(n),x.forEach((function(n,i){L(r[i])||(e[n]+=t[i])})),e.setChartSize()},e.prototype.reflow=function(e){var t=this,n=t.options.chart,r=t.renderTo,i=L(n.width)&&L(n.height),o=n.width||z(r,"width");n=n.height||z(r,"height"),r=e?e.target:T,delete t.pointer.chartPosition,i||t.isPrinting||!o||!n||r!==T&&r!==_||(o===t.containerWidth&&n===t.containerHeight||(d.clearTimeout(t.reflowTimeout),t.reflowTimeout=K((function(){t.container&&t.setSize(void 0,void 0,!1)}),e?100:0)),t.containerWidth=o,t.containerHeight=n)},e.prototype.setReflow=function(e){var t=this;!1===e||this.unbindReflow?!1===e&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=I(T,"resize",(function(e){t.options&&t.reflow(e)})),I(this,"destroy",this.unbindReflow))},e.prototype.setSize=function(e,t,n){var r=this,i=r.renderer;r.isResizing+=1,g(n,r),n=i.globalAnimation,r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,"undefined"!==typeof e&&(r.options.chart.width=e),"undefined"!==typeof t&&(r.options.chart.height=t),r.getChartSize(),r.styledMode||(n?m:R)(r.container,{width:r.chartWidth+"px",height:r.chartHeight+"px"},n),r.setChartSize(!0),i.setSize(r.chartWidth,r.chartHeight,n),r.axes.forEach((function(e){e.isDirty=!0,e.setScale()})),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,U(r,"resize"),K((function(){r&&U(r,"endResize",null,(function(){--r.isResizing}))}),y(n).duration)},e.prototype.setChartSize=function(e){var t,n,r,i,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,h=this.clipOffset;this.plotLeft=t=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(a-t-this.marginRight)),this.plotHeight=i=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?i:r,this.plotSizeY=o?r:i,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=s.plotBox={x:t,y:n,width:r,height:i},o=2*Math.floor(this.plotBorderWidth/2),a=Math.ceil(Math.max(o,h[3])/2),l=Math.ceil(Math.max(o,h[0])/2),this.clipBox={x:a,y:l,width:Math.floor(this.plotSizeX-Math.max(o,h[1])/2-a),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(o,h[2])/2-l))},e||(this.axes.forEach((function(e){e.setAxisSize(),e.setAxisTranslation()})),s.alignElements()),U(this,"afterSetChartSize",{skipAxes:e})},e.prototype.resetMargins=function(){U(this,"resetMargins");var e=this,t=e.options.chart;["margin","spacing"].forEach((function(n){var r=t[n],i=B(r)?r:[r,r,r,r];["Top","Right","Bottom","Left"].forEach((function(r,o){e[n][o]=q(t[n+r],i[o])}))})),x.forEach((function(t,n){e[t]=q(e.margin[n],e.spacing[n])})),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},e.prototype.drawChartBox=function(){var e,t=this.options.chart,n=this.renderer,r=this.chartWidth,i=this.chartHeight,o=this.styledMode,s=this.plotBGImage,a=t.backgroundColor,l=t.plotBackgroundColor,c=t.plotBackgroundImage,u=this.plotLeft,h=this.plotTop,p=this.plotWidth,d=this.plotHeight,f=this.plotBox,m=this.clipRect,y=this.clipBox,g=this.chartBackground,v=this.plotBackground,b=this.plotBorder,w="animate";if(g||(this.chartBackground=g=n.rect().addClass("highcharts-background").add(),w="attr"),o)var _=e=g.strokeWidth();else _=t.borderWidth||0,e=_+(t.shadow?8:0),a={fill:a||"none"},(_||g["stroke-width"])&&(a.stroke=t.borderColor,a["stroke-width"]=_),g.attr(a).shadow(t.shadow);g[w]({x:e/2,y:e/2,width:r-e-_%2,height:i-e-_%2,r:t.borderRadius}),w="animate",v||(w="attr",this.plotBackground=v=n.rect().addClass("highcharts-plot-background").add()),v[w](f),o||(v.attr({fill:l||"none"}).shadow(t.plotShadow),c&&(s?(c!==s.attr("href")&&s.attr("href",c),s.animate(f)):this.plotBGImage=n.image(c,u,h,p,d).add())),m?m.animate({width:y.width,height:y.height}):this.clipRect=n.clipRect(y),w="animate",b||(w="attr",this.plotBorder=b=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),o||b.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),b[w](b.crisp({x:u,y:h,width:p,height:d},-b.strokeWidth())),this.isDirtyBox=!1,U(this,"afterDrawChartBox")},e.prototype.propFromSeries=function(){var e,t,n,r=this,i=r.options.chart,o=r.options.series;["inverted","angular","polar"].forEach((function(s){for(t=A[i.type||i.defaultSeriesType],n=i[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=A[o[e].type])&&t.prototype[s]&&(n=!0);r[s]=n}))},e.prototype.linkSeries=function(){var e=this,t=e.series;t.forEach((function(e){e.linkedSeries.length=0})),t.forEach((function(t){var n=t.options.linkedTo;$(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&n.linkedParent!==t&&(n.linkedSeries.push(t),t.linkedParent=n,n.enabledDataSorting&&t.setDataSortingOptions(),t.visible=q(t.options.visible,n.options.visible,t.visible))})),U(this,"afterLinkSeries")},e.prototype.renderSeries=function(){this.series.forEach((function(e){e.translate(),e.render()}))},e.prototype.renderLabels=function(){var e=this,t=e.options.labels;t.items&&t.items.forEach((function(n){var r=F(t.style,n.style),i=Z(r.left)+e.plotLeft,o=Z(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(n.html,i,o).attr({zIndex:2}).css(r).add()}))},e.prototype.render=function(){var e=this.axes,t=this.colorAxis,n=this.renderer,r=this.options,i=function(e){e.forEach((function(e){e.visible&&e.render()}))},s=0;this.setTitle(),this.legend=new o(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,e.some((function(e){if(e.horiz&&e.visible&&e.options.labels.enabled&&e.series.length)return s=21,!0}));var a=this.plotHeight=Math.max(this.plotHeight-s,0);e.forEach((function(e){e.setScale()})),this.getAxisMargins();var l=1.1<r/this.plotWidth,c=1.05<a/this.plotHeight;(l||c)&&(e.forEach((function(e){(e.horiz&&l||!e.horiz&&c)&&e.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?i(e):t&&t.length&&i(t),this.seriesGroup||(this.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},e.prototype.addCredits=function(e){var t=this,n=H(!0,this.options.credits,e);n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){n.href&&(T.location.href=n.href)})).attr({align:n.position.align,zIndex:8}),t.styledMode||this.credits.css(n.style),this.credits.add().align(n.position),this.credits.update=function(e){t.credits=t.credits.destroy(),t.addCredits(e)})},e.prototype.destroy=function(){var e,t=this,n=t.axes,r=t.series,o=t.container,s=o&&o.parentNode;for(U(t,"destroy"),t.renderer.forExport?P(w,t):w[t.index]=void 0,i.chartCount--,t.renderTo.removeAttribute("data-highcharts-chart"),X(t),e=n.length;e--;)n[e]=n[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())})),o&&(o.innerHTML=f.emptyHTML,X(o),s&&N(o)),W(t,(function(e,n){delete t[n]}))},e.prototype.firstRender=function(){var e=this,t=e.options;e.isReadyToRender&&!e.isReadyToRender()||(e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),(G(t.series)?t.series:[]).forEach((function(t){e.initSeries(t)})),e.linkSeries(),e.setSeriesData(),U(e,"beforeRender"),l&&(s.isRequired()?e.pointer=new s(e,t):e.pointer=new l(e,t)),e.render(),e.pointer.getChartPosition(),e.renderer.imgCount||e.hasLoaded||e.onload(),e.temporaryDisplay(!0))},e.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach((function(e){e&&"undefined"!==typeof this.index&&e.apply(this,[this])}),this),U(this,"load"),U(this,"render"),L(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},e.prototype.addSeries=function(e,t,n){var r,i=this;return e&&(t=q(t,!0),U(i,"addSeries",{options:e},(function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),r.enabledDataSorting&&r.setData(e.data,!1),U(i,"afterAddSeries",{series:r}),t&&i.redraw(n)}))),r},e.prototype.addAxis=function(e,t,n,r){return this.createAxis(t?"xAxis":"yAxis",{axis:e,redraw:n,animation:r})},e.prototype.addColorAxis=function(e,t,n){return this.createAxis("colorAxis",{axis:e,redraw:t,animation:n})},e.prototype.createAxis=function(e,n){return e=new t(this,H(n.axis,{index:this[e].length,isX:"xAxis"===e})),q(n.redraw,!0)&&this.redraw(n.animation),e},e.prototype.showLoading=function(e){var t=this,n=t.options,r=n.loading,i=function(){o&&R(o,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})},o=t.loadingDiv,s=t.loadingSpan;o||(t.loadingDiv=o=k("div",{className:"highcharts-loading highcharts-loading-hidden"},null,t.container)),s||(t.loadingSpan=s=k("span",{className:"highcharts-loading-inner"},null,o),I(t,"redraw",i)),o.className="highcharts-loading",f.setElementHTML(s,q(e,n.lang.loading,"")),t.styledMode||(R(o,F(r.style,{zIndex:10})),R(s,r.labelStyle),t.loadingShown||(R(o,{opacity:0,display:""}),m(o,{opacity:r.style.opacity||.5},{duration:r.showDuration||0}))),t.loadingShown=!0,i()},e.prototype.hideLoading=function(){var e=this.options,t=this.loadingDiv;t&&(t.className="highcharts-loading highcharts-loading-hidden",this.styledMode||m(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){R(t,{display:"none"})}})),this.loadingShown=!1},e.prototype.update=function(e,t,n,r){var i,o,s=this,a={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},l=e.isResponsiveOptions,c=[];U(s,"update",{options:e}),l||s.setResponsive(!1,!0),e=O(e,s.options),s.userOptions=H(s.userOptions,e);var u=e.chart;if(u){if(H(!0,s.options.chart,u),"className"in u&&s.setClassName(u.className),"reflow"in u&&s.setReflow(u.reflow),"inverted"in u||"polar"in u||"type"in u){s.propFromSeries();var h=!0}"alignTicks"in u&&(h=!0),"events"in u&&b(this,u),W(u,(function(e,t){-1!==s.propsRequireUpdateSeries.indexOf("chart."+t)&&(i=!0),-1!==s.propsRequireDirtyBox.indexOf(t)&&(s.isDirtyBox=!0),-1!==s.propsRequireReflow.indexOf(t)&&(l?s.isDirtyBox=!0:o=!0)})),!s.styledMode&&u.style&&s.renderer.setStyle(s.options.chart.style||{})}!s.styledMode&&e.colors&&(this.options.colors=e.colors),e.time&&(this.time===M&&(this.time=new p(e.time)),H(!0,s.options.time,e.time)),W(e,(function(t,n){s[n]&&"function"===typeof s[n].update?s[n].update(t,!1):"function"===typeof s[a[n]]?s[a[n]](t):"colors"!==n&&-1===s.collectionsWithUpdate.indexOf(n)&&H(!0,s.options[n],e[n]),"chart"!==n&&-1!==s.propsRequireUpdateSeries.indexOf(n)&&(i=!0)})),this.collectionsWithUpdate.forEach((function(t){if(e[t]){var r=[];s[t].forEach((function(e,t){e.options.isInternal||r.push(q(e.options.index,t))})),J(e[t]).forEach((function(e,i){var o,a=L(e.id);a&&(o=s.get(e.id)),!o&&s[t]&&(o=s[t][r?r[i]:i])&&a&&L(o.options.id)&&(o=void 0),o&&o.coll===t&&(o.update(e,!1),n&&(o.touched=!0)),!o&&n&&s.collectionsWithInit[t]&&(s.collectionsWithInit[t][0].apply(s,[e].concat(s.collectionsWithInit[t][1]||[]).concat([!1])).touched=!0)})),n&&s[t].forEach((function(e){e.touched||e.options.isInternal?delete e.touched:c.push(e)}))}})),c.forEach((function(e){e.chart&&e.remove&&e.remove(!1)})),h&&s.axes.forEach((function(e){e.update({},!1)})),i&&s.getSeriesOrderByLinks().forEach((function(e){e.chart&&e.update({},!1)}),this),h=u&&u.width,u=u&&($(u.height)?Y(u.height,h||s.chartWidth):u.height),o||V(h)&&h!==s.chartWidth||V(u)&&u!==s.chartHeight?s.setSize(h,u,r):q(t,!0)&&s.redraw(r),U(s,"afterUpdate",{options:e,redraw:t,animation:r})},e.prototype.setSubtitle=function(e,t){this.applyDescription("subtitle",e),this.layOutTitles(t)},e.prototype.setCaption=function(e,t){this.applyDescription("caption",e),this.layOutTitles(t)},e.prototype.showResetZoom=function(){function e(){t.zoomOut()}var t=this,n=E.lang,r=t.options.chart.resetZoomButton,i=r.theme,o=i.states,s="chart"===r.relativeTo||"spacingBox"===r.relativeTo?null:"scrollablePlotBox";U(this,"beforeShowResetZoom",null,(function(){t.resetZoomButton=t.renderer.button(n.resetZoom,null,null,e,i,o&&o.hover).attr({align:r.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(r.position,!1,s)})),U(this,"afterShowResetZoom")},e.prototype.zoomOut=function(){U(this,"selection",{resetSelection:!0},this.zoom)},e.prototype.zoom=function(e){var t,n=this,r=n.pointer,i=n.inverted?r.mouseDownX:r.mouseDownY,o=!1;!e||e.resetSelection?(n.axes.forEach((function(e){t=e.zoom()})),r.initiated=!1):e.xAxis.concat(e.yAxis).forEach((function(e){var s=e.axis,a=n.inverted?s.left:s.top,l=n.inverted?a+s.width:a+s.height,c=s.isXAxis,u=!1;(!c&&i>=a&&i<=l||c||!L(i))&&(u=!0),r[c?"zoomX":"zoomY"]&&u&&(t=s.zoom(e.min,e.max),s.displayBtn&&(o=!0))}));var s=n.resetZoomButton;o&&!s?n.showResetZoom():!o&&B(s)&&(n.resetZoomButton=s.destroy()),t&&n.redraw(q(n.options.chart.animation,e&&e.animation,100>n.pointCount))},e.prototype.pan=function(e,t){var n=this,r=n.hoverPoints;t="object"===typeof t?t:{enabled:t,type:"x"};var i=n.options.chart,o=n.options.mapNavigation&&n.options.mapNavigation.enabled;i&&i.panning&&(i.panning=t);var s,a=t.type;U(this,"pan",{originalEvent:e},(function(){r&&r.forEach((function(e){e.setState()}));var t=n.xAxis;"xy"===a?t=t.concat(n.yAxis):"y"===a&&(t=n.yAxis);var i={};t.forEach((function(t){if(t.options.panningEnabled&&!t.options.isInternal){var r=t.horiz,l=e[r?"chartX":"chartY"];r=r?"mouseDownX":"mouseDownY";var c=n[r],u=t.minPointOffset||0,h=t.reversed&&!n.inverted||!t.reversed&&n.inverted?-1:1,p=t.getExtremes(),d=t.toValue(c-l,!0)+u*h,f=t.toValue(c+t.len-l,!0)-(u*h||t.isXAxis&&t.pointRangePadding||0),m=f<d;h=t.hasVerticalPanning(),c=m?f:d,d=m?d:f;var y=t.panningState;!h||t.isXAxis||y&&!y.isDirty||t.series.forEach((function(e){var t=e.getProcessedData(!0);t=e.getExtremes(t.yData,!0),y||(y={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),V(t.dataMin)&&V(t.dataMax)&&(y.startMin=Math.min(q(e.options.threshold,1/0),t.dataMin,y.startMin),y.startMax=Math.max(q(e.options.threshold,-1/0),t.dataMax,y.startMax))})),h=Math.min(q(y&&y.startMin,p.dataMin),u?p.min:t.toValue(t.toPixels(p.min)-t.minPixelPadding)),f=Math.max(q(y&&y.startMax,p.dataMax),u?p.max:t.toValue(t.toPixels(p.max)+t.minPixelPadding)),t.panningState=y,t.isOrdinal||(u=h-c,0<u&&(d+=u,c=h),u=d-f,0<u&&(d=f,c-=u),t.series.length&&c!==p.min&&d!==p.max&&c>=h&&d<=f&&(t.setExtremes(c,d,!1,!1,{trigger:"pan"}),n.resetZoomButton||o||c===h||d===f||!a.match("y")||(n.showResetZoom(),t.displayBtn=!1),s=!0),i[r]=l)}})),W(i,(function(e,t){n[t]=e})),s&&n.redraw(!1),R(n.container,{cursor:"move"})}))},e}(),F(e.prototype,{callbacks:[],collectionsWithInit:{xAxis:[e.prototype.addAxis,[!0]],yAxis:[e.prototype.addAxis,[!1]],series:[e.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),e})),t(n,"Core/Legend/LegendSymbol.js",[n["Core/Utilities.js"]],(function(e){var t,n=e.merge,r=e.pick;return function(e){e.drawLineMarker=function(e){var t=this.options,i=e.symbolWidth,o=e.symbolHeight,s=o/2,a=this.chart.renderer,l=this.legendGroup;e=e.baseline-Math.round(.3*e.fontMetrics.b);var c={},u=t.marker;this.chart.styledMode||(c={"stroke-width":t.lineWidth||0},t.dashStyle&&(c.dashstyle=t.dashStyle)),this.legendLine=a.path([["M",0,e],["L",i,e]]).addClass("highcharts-graph").attr(c).add(l),u&&!1!==u.enabled&&i&&(t=Math.min(r(u.radius,s),s),0===this.symbol.indexOf("url")&&(u=n(u,{width:o,height:o}),t=0),this.legendSymbol=i=a.symbol(this.symbol,i/2-t,e-t,2*t,2*t,u).addClass("highcharts-point").add(l),i.isMarker=!0)},e.drawRectangle=function(e,t){var n=e.symbolHeight,i=e.options.squareSymbol;t.legendSymbol=this.chart.renderer.rect(i?(e.symbolWidth-n)/2:0,e.baseline-n+1,i?n:e.symbolWidth,n,r(e.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(t.legendGroup)}}(t||(t={})),t})),t(n,"Core/Series/SeriesDefaults.js",[],(function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){var e=this.series.chart.numberFormatter;return"number"!==typeof this.y?"":e(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}})),t(n,"Core/Series/Series.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/DefaultOptions.js"],n["Core/Foundation.js"],n["Core/Globals.js"],n["Core/Legend/LegendSymbol.js"],n["Core/Series/Point.js"],n["Core/Series/SeriesDefaults.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i,o,s,a,l,c){var u=e.animObject,h=e.setAnimation,p=t.defaultOptions,d=n.registerEventOptions,f=r.hasTouch,m=r.svg,y=r.win,g=a.seriesTypes,v=c.addEvent,b=c.arrayMax,w=c.arrayMin,_=c.clamp,x=c.cleanRecursively,S=c.correctFloat,T=c.defined,E=c.erase,M=c.error,A=c.extend,I=c.find,C=c.fireEvent,O=c.getNestedProperty,k=c.isArray,R=c.isNumber,L=c.isString,N=c.merge,P=c.objectEach,D=c.pick,F=c.removeEvent,j=c.splat,U=c.syncTimeout;return e=function(){function e(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return e.prototype.init=function(e,t){C(this,"init",{options:t});var n=this,r=e.series;this.eventsToUnbind=[],n.chart=e,n.options=n.setOptions(t),t=n.options,n.linkedSeries=[],n.bindAxes(),A(n,{name:t.name,state:"",visible:!1!==t.visible,selected:!0===t.selected}),d(this,t);var i,o=t.events;(o&&o.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),n.getColor(),n.getSymbol(),n.parallelArrays.forEach((function(e){n[e+"Data"]||(n[e+"Data"]=[])})),n.isCartesian&&(e.hasCartesianSeries=!0),r.length&&(i=r[r.length-1]),n._i=D(i&&i._i,-1)+1,n.opacity=n.options.opacity,e.orderSeries(this.insert(r)),t.dataSorting&&t.dataSorting.enabled?n.setDataSortingOptions():n.points||n.data||n.setData(t.data,!1),C(this,"afterInit")},e.prototype.is=function(e){return g[e]&&this instanceof g[e]},e.prototype.insert=function(e){var t,n=this.options.index;if(R(n)){for(t=e.length;t--;)if(n>=D(e[t].options.index,e[t]._i)){e.splice(t+1,0,this);break}-1===t&&e.unshift(this),t+=1}else e.push(this);return D(t,e.length-1)},e.prototype.bindAxes=function(){var e,t=this,n=t.options,r=t.chart;C(this,"bindAxes",null,(function(){(t.axisTypes||[]).forEach((function(i){var o=0;r[i].forEach((function(r){e=r.options,(n[i]===o&&!e.isInternal||"undefined"!==typeof n[i]&&n[i]===e.id||"undefined"===typeof n[i]&&0===e.index)&&(t.insert(r.series),t[i]=r,r.isDirty=!0),e.isInternal||o++})),t[i]||t.optionalAxis===i||M(18,!0,r)}))})),C(this,"afterBindAxes")},e.prototype.updateParallelArrays=function(e,t){var n=e.series,r=arguments,i=R(t)?function(r){var i="y"===r&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};n.parallelArrays.forEach(i)},e.prototype.hasData=function(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||this.visible&&this.yData&&0<this.yData.length},e.prototype.autoIncrement=function(e){var t,n=this.options,r=n.pointIntervalUnit,i=n.relativeXValue,o=this.chart.time,s=this.xIncrement;return s=D(s,n.pointStart,0),this.pointInterval=t=D(this.pointInterval,n.pointInterval,1),i&&R(e)&&(t*=e),r&&(n=new o.Date(s),"day"===r?o.set("Date",n,o.get("Date",n)+t):"month"===r?o.set("Month",n,o.get("Month",n)+t):"year"===r&&o.set("FullYear",n,o.get("FullYear",n)+t),t=n.getTime()-s),i&&R(e)?s+t:(this.xIncrement=s+t,s)},e.prototype.setDataSortingOptions=function(){var e=this.options;A(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),T(e.pointRange)||(e.pointRange=1)},e.prototype.setOptions=function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=t.userOptions||{};e=N(e),t=t.styledMode;var o={plotOptions:r,userOptions:e};C(this,"setOptions",o);var s=o.plotOptions[this.type],a=i.plotOptions||{};return this.userOptions=o.userOptions,i=N(s,r.series,i.plotOptions&&i.plotOptions[this.type],e),this.tooltipOptions=N(p.tooltip,p.plotOptions.series&&p.plotOptions.series.tooltip,p.plotOptions[this.type].tooltip,n.tooltip.userOptions,r.series&&r.series.tooltip,r[this.type].tooltip,e.tooltip),this.stickyTracking=D(e.stickyTracking,a[this.type]&&a[this.type].stickyTracking,a.series&&a.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||i.stickyTracking),null===s.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,r=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||(n={value:i[this.zoneAxis+"Threshold"]||i.threshold||0,className:"highcharts-negative"},t||(n.color=i.negativeColor,n.fillColor=i.negativeFillColor),r.push(n)),r.length&&T(r[r.length-1].value)&&r.push(t?{}:{color:this.color,fillColor:this.fillColor}),C(this,"afterSetOptions",{options:i}),i},e.prototype.getName=function(){return D(this.options.name,"Series "+(this.index+1))},e.prototype.getCyclic=function(e,t,n){var r=this.chart,i=this.userOptions,o=e+"Index",s=e+"Counter",a=n?n.length:D(r.options.chart[e+"Count"],r[e+"Count"]);if(!t){var l=D(i[o],i["_"+o]);T(l)||(r.series.length||(r[s]=0),i["_"+o]=l=r[s]%a,r[s]+=1),n&&(t=n[l])}"undefined"!==typeof l&&(this[o]=l),this[e]=t},e.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||p.plotOptions[this.type].color,this.chart.options.colors)},e.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},e.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},e.prototype.findPointIndex=function(e,t){var n,r,i=e.id,s=e.x,a=this.points,l=this.options.dataSorting;if(i)l=this.chart.get(i),l instanceof o&&(n=l);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(n=function(t){return!t.touched&&t.index===e.index},l&&l.matchByName?n=function(t){return!t.touched&&t.name===e.name}:this.options.relativeXValue&&(n=function(t){return!t.touched&&t.options.x===e.x}),n=I(a,n),!n))return;if(n){var c=n&&n.index;"undefined"!==typeof c&&(r=!0)}return"undefined"===typeof c&&R(s)&&(c=this.xData.indexOf(s,t)),-1!==c&&"undefined"!==typeof c&&this.cropped&&(c=c>=this.cropStart?c-this.cropStart:c),!r&&R(c)&&a[c]&&a[c].touched&&(c=void 0),c},e.prototype.updateData=function(e,t){var n,r,i,o=this.options,s=o.dataSorting,a=this.points,l=[],c=this.requireSorting,u=e.length===a.length,h=!0;if(this.xIncrement=null,e.forEach((function(e,t){var r=T(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e)||{},h=r.x;r.id||R(h)?(r=this.findPointIndex(r,i),-1===r||"undefined"===typeof r?l.push(e):a[r]&&e!==o.data[r]?(a[r].update(e,!1,null,!1),a[r].touched=!0,c&&(i=r+1)):a[r]&&(a[r].touched=!0),(!u||t!==r||s&&s.enabled||this.hasDerivedData)&&(n=!0)):l.push(e)}),this),n)for(e=a.length;e--;)(r=a[e])&&!r.touched&&r.remove&&r.remove(!1,t);else!u||s&&s.enabled?h=!1:(e.forEach((function(e,t){e!==a[t].y&&a[t].update&&a[t].update(e,!1,null,!1)})),l.length=0);return a.forEach((function(e){e&&(e.touched=!1)})),!!h&&(l.forEach((function(e){this.addPoint(e,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=b(this.xData),this.autoIncrement()),!0)},e.prototype.setData=function(e,t,n,r){var i=this,o=i.points,s=o&&o.length||0,a=i.options,l=i.chart,c=a.dataSorting,u=i.xAxis,h=a.turboThreshold,p=this.xData,d=this.yData,f=i.pointArrayMap;f=f&&f.length;var m,y=a.keys,g=0,v=1,b=null;e=e||[];var w=e.length;if(t=D(t,!0),c&&c.enabled&&(e=this.sortData(e)),!1!==r&&w&&s&&!i.cropped&&!i.hasGroupedData&&i.visible&&!i.isSeriesBoosting&&(m=this.updateData(e,n)),!m){if(i.xIncrement=null,i.colorCounter=0,this.parallelArrays.forEach((function(e){i[e+"Data"].length=0})),h&&w>h)if(b=i.getFirstValidPoint(e),R(b))for(n=0;n<w;n++)p[n]=this.autoIncrement(),d[n]=e[n];else if(k(b))if(f)if(b.length===f)for(n=0;n<w;n++)p[n]=this.autoIncrement(),d[n]=e[n];else for(n=0;n<w;n++)r=e[n],p[n]=r[0],d[n]=r.slice(1,f+1);else if(y&&(g=y.indexOf("x"),v=y.indexOf("y"),g=0<=g?g:0,v=0<=v?v:1),1===b.length&&(v=0),g===v)for(n=0;n<w;n++)p[n]=this.autoIncrement(),d[n]=e[n][v];else for(n=0;n<w;n++)r=e[n],p[n]=r[g],d[n]=r[v];else M(12,!1,l);else for(n=0;n<w;n++)"undefined"!==typeof e[n]&&(r={series:i},i.pointClass.prototype.applyOptions.apply(r,[e[n]]),i.updateParallelArrays(r,n));for(d&&L(d[0])&&M(14,!0,l),i.data=[],i.options.data=i.userOptions.data=e,n=s;n--;)o[n]&&o[n].destroy&&o[n].destroy();u&&(u.minRange=u.userMinRange),i.isDirty=l.isDirtyBox=!0,i.isDirtyData=!!o,n=!1}"point"===a.legendType&&(this.processData(),this.generatePoints()),t&&l.redraw(n)},e.prototype.sortData=function(e){var t=this,n=t.options.dataSorting.sortKey||"y",r=function(e,t){return T(t)&&e.pointClass.prototype.optionsToObject.call({series:e},t)||{}};return e.forEach((function(n,i){e[i]=r(t,n),e[i].index=i}),this),e.concat().sort((function(e,t){return e=O(n,e),t=O(n,t),t<e?-1:t>e?1:0})).forEach((function(e,t){e.x=t}),this),t.linkedSeries&&t.linkedSeries.forEach((function(t){var n=t.options,i=n.data;n.dataSorting&&n.dataSorting.enabled||!i||(i.forEach((function(n,o){i[o]=r(t,n),e[o]&&(i[o].x=e[o].x,i[o].index=o)})),t.setData(i,!1))})),e},e.prototype.getProcessedData=function(e){var t=this.xAxis,n=this.options,r=n.cropThreshold,i=e||this.getExtremesFromAll||n.getExtremesFromAll,o=this.isCartesian;e=t&&t.val2lin,n=!(!t||!t.logarithmic);var s=0,a=this.xData,l=this.yData,c=this.requireSorting,u=!1,h=a.length;if(t){u=t.getExtremes();var p=u.min,d=u.max;u=t.categories&&!t.names.length}if(o&&this.sorted&&!i&&(!r||h>r||this.forceCrop))if(a[h-1]<p||a[0]>d)a=[],l=[];else if(this.yData&&(a[0]<p||a[h-1]>d)){var f=this.cropData(this.xData,this.yData,p,d);a=f.xData,l=f.yData,s=f.start,f=!0}for(r=a.length||1;--r;)if(t=n?e(a[r])-e(a[r-1]):a[r]-a[r-1],0<t&&("undefined"===typeof m||t<m))var m=t;else 0>t&&c&&!u&&(M(15,!1,this.chart),c=!1);return{xData:a,yData:l,cropped:f,cropStart:s,closestPointRange:m}},e.prototype.processData=function(e){var t=this.xAxis;if(this.isCartesian&&!this.isDirty&&!t.isDirty&&!this.yAxis.isDirty&&!e)return!1;e=this.getProcessedData(),this.cropped=e.cropped,this.cropStart=e.cropStart,this.processedXData=e.xData,this.processedYData=e.yData,this.closestPointRange=this.basePointRange=e.closestPointRange,C(this,"afterProcessData")},e.prototype.cropData=function(e,t,n,r,i){var o,s=e.length,a=0,l=s;for(i=D(i,this.cropShoulder),o=0;o<s;o++)if(e[o]>=n){a=Math.max(0,o-i);break}for(n=o;n<s;n++)if(e[n]>r){l=n+i;break}return{xData:e.slice(a,l),yData:t.slice(a,l),start:a,end:l}},e.prototype.generatePoints=function(){var e=this.options,t=e.data,n=this.processedXData,r=this.processedYData,i=this.pointClass,o=n.length,s=this.cropStart||0,a=this.hasGroupedData,l=e.keys,c=[];e=e.dataGrouping&&e.dataGrouping.groupAll?s:0;var u,h,p=this.data;if(!p&&!a){var d=[];d.length=t.length,p=this.data=d}for(l&&a&&(this.options.keys=!1),h=0;h<o;h++){if(d=s+h,a){var f=(new i).init(this,[n[h]].concat(j(r[h])));f.dataGroup=this.groupMap[e+h],f.dataGroup.options&&(f.options=f.dataGroup.options,A(f,f.dataGroup.options),delete f.dataLabels)}else(f=p[d])||"undefined"===typeof t[d]||(p[d]=f=(new i).init(this,t[d],n[h]));f&&(f.index=a?e+h:d,c[h]=f)}if(this.options.keys=l,p&&(o!==(u=p.length)||a))for(h=0;h<u;h++)h!==s||a||(h+=o),p[h]&&(p[h].destroyElements(),p[h].plotX=void 0);this.data=p,this.points=c,C(this,"afterGeneratePoints")},e.prototype.getXExtremes=function(e){return{min:w(e),max:b(e)}},e.prototype.getExtremes=function(e,t){var n=this.xAxis,r=this.yAxis,i=this.processedXData||this.xData,o=[],s=this.requireSorting?this.cropShoulder:0;r=!!r&&r.positiveValuesOnly;var a,l=0,c=0,u=0;e=e||this.stackedYData||this.processedYData||[];var h=e.length;if(n){var p=n.getExtremes();l=p.min,c=p.max}for(a=0;a<h;a++){var d=i[a];p=e[a];var f=(R(p)||k(p))&&(p.length||0<p||!r);if(d=t||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!n||(i[a+s]||d)>=l&&(i[a-s]||d)<=c,f&&d)if(f=p.length)for(;f--;)R(p[f])&&(o[u++]=p[f]);else o[u++]=p}return e={activeYData:o,dataMin:w(o),dataMax:b(o)},C(this,"afterGetExtremes",{dataExtremes:e}),e},e.prototype.applyExtremes=function(){var e=this.getExtremes();return this.dataMin=e.dataMin,this.dataMax=e.dataMax,e},e.prototype.getFirstValidPoint=function(e){for(var t=e.length,n=0,r=null;null===r&&n<t;)r=e[n],n++;return r},e.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var e,t,n=this.options,r=n.stacking,i=this.xAxis,o=i.categories,s=this.enabledDataSorting,a=this.yAxis,l=this.points,c=l.length,u=this.pointPlacementToXValue(),h=!!u,p=n.threshold,d=n.startFromThreshold?p:0,f=this.zoneAxis||"y",m=Number.MAX_VALUE;for(e=0;e<c;e++){var y=l[e],g=y.x,v=void 0,b=void 0,w=y.y,x=y.low,E=r&&a.stacking&&a.stacking.stacks[(this.negStacks&&w<(d?0:p)?"-":"")+this.stackKey];if((a.positiveValuesOnly&&!a.validatePositiveValue(w)||i.positiveValuesOnly&&!i.validatePositiveValue(g))&&(y.isNull=!0),y.plotX=t=S(_(i.translate(g,0,0,0,1,u,"flags"===this.type),-1e5,1e5)),r&&this.visible&&E&&E[g]){var M=this.getStackIndicator(M,g,this.index);y.isNull||(v=E[g],b=v.points[M.key])}if(k(b)&&(x=b[0],w=b[1],x===d&&M.key===E[g].base&&(x=D(R(p)&&p,a.min)),a.positiveValuesOnly&&0>=x&&(x=null),y.total=y.stackTotal=v.total,y.percentage=v.total&&y.y/v.total*100,y.stackY=w,this.irregularWidths||v.setOffset(this.pointXOffset||0,this.barW||0)),y.yBottom=T(x)?_(a.translate(x,0,1,0,1),-1e5,1e5):null,this.dataModify&&(w=this.dataModify.modifyValue(w,e)),y.plotY=void 0,R(w)&&(v=a.translate(w,!1,!0,!1,!0),"undefined"!==typeof v&&(y.plotY=_(v,-1e5,1e5))),y.isInside=this.isPointInside(y),y.clientX=h?S(i.translate(g,0,0,0,1,u)):t,y.negative=y[f]<(n[f+"Threshold"]||p||0),y.category=o&&"undefined"!==typeof o[y.x]?o[y.x]:y.x,!y.isNull&&!1!==y.visible){"undefined"!==typeof A&&(m=Math.min(m,Math.abs(t-A)));var A=t}y.zone=this.zones.length?y.getZone():void 0,!y.graphic&&this.group&&s&&(y.isNew=!0)}this.closestPointRangePx=m,C(this,"afterTranslate")},e.prototype.getValidPoints=function(e,t,n){var r=this.chart;return(e||this.points||[]).filter((function(e){return!(t&&!r.isInsidePlot(e.plotX,e.plotY,{inverted:r.inverted}))&&(!1!==e.visible&&(n||!e.isNull))}))},e.prototype.getClipBox=function(){var e=this.chart,t=this.xAxis,n=this.yAxis,r=N(e.clipBox);return t&&t.len!==e.plotSizeX&&(r.width=t.len),n&&n.len!==e.plotSizeY&&(r.height=n.len),r},e.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},e.prototype.setClip=function(){var e=this.chart,t=this.group,n=this.markerGroup,r=e.sharedClips;e=e.renderer;var i=this.getClipBox(),o=this.getSharedClipKey(),s=r[o];s?s.animate(i):r[o]=s=e.clipRect(i),t&&t.clip(!1===this.options.clip?void 0:s),n&&n.clip()},e.prototype.animate=function(e){var t=this.chart,n=this.group,r=this.markerGroup,i=t.inverted,o=u(this.options.animation),s=[this.getSharedClipKey(),o.duration,o.easing,o.defer].join(),a=t.sharedClips[s],l=t.sharedClips[s+"m"];if(e&&n)o=this.getClipBox(),a?a.attr("height",o.height):(o.width=0,i&&(o.x=t.plotHeight),a=t.renderer.clipRect(o),t.sharedClips[s]=a,l=t.renderer.clipRect({x:i?(t.plotSizeX||0)+99:-99,y:i?-t.plotLeft:-t.plotTop,width:99,height:i?t.chartWidth:t.chartHeight}),t.sharedClips[s+"m"]=l),n.clip(a),r&&r.clip(l);else if(a&&!a.hasClass("highcharts-animating")){t=this.getClipBox();var c=o.step;r&&r.element.childNodes.length&&(o.step=function(e,t){c&&c.apply(t,arguments),l&&l.element&&l.attr(t.prop,"width"===t.prop?e+99:e)}),a.addClass("highcharts-animating").animate(t,o)}},e.prototype.afterAnimate=function(){var e=this;this.setClip(),P(this.chart.sharedClips,(function(t,n,r){t&&!e.chart.container.querySelector('[clip-path="url(#'+t.id+')"]')&&(t.destroy(),delete r[n])})),this.finishedAnimating=!0,C(this,"afterAnimate")},e.prototype.drawPoints=function(){var e,t,n=this.points,r=this.chart,i=this.options.marker,o=this[this.specialGroup]||this.markerGroup,s=this.xAxis,a=D(i.enabled,!(s&&!s.isRadial)||null,this.closestPointRangePx>=i.enabledThreshold*i.radius);if(!1!==i.enabled||this._hasPointMarkers)for(e=0;e<n.length;e++){var l=n[e],c=(t=l.graphic)?"animate":"attr",u=l.marker||{},h=!!l.marker;if((a&&"undefined"===typeof u.enabled||u.enabled)&&!l.isNull&&!1!==l.visible){var p=D(u.symbol,this.symbol,"rect"),d=this.markerAttribs(l,l.selected&&"select");this.enabledDataSorting&&(l.startXPos=s.reversed?-(d.width||0):s.width);var f=!1!==l.isInside;t?t[f?"show":"hide"](f).animate(d):f&&(0<(d.width||0)||l.hasImage)&&(l.graphic=t=r.renderer.symbol(p,d.x,d.y,d.width,d.height,h?u:i).add(o),this.enabledDataSorting&&r.hasRendered&&(t.attr({x:l.startXPos}),c="animate")),t&&"animate"===c&&t[f?"show":"hide"](f).animate(d),t&&!r.styledMode&&t[c](this.pointAttribs(l,l.selected&&"select")),t&&t.addClass(l.getClassName(),!0)}else t&&(l.graphic=t.destroy())}},e.prototype.markerAttribs=function(e,t){var n=this.options,r=n.marker,i=e.marker||{},o=i.symbol||r.symbol,s=D(i.radius,r.radius);return t&&(r=r.states[t],t=i.states&&i.states[t],s=D(t&&t.radius,r&&r.radius,s+(r&&r.radiusPlus||0))),e.hasImage=o&&0===o.indexOf("url"),e.hasImage&&(s=0),e={x:n.crisp?Math.floor(e.plotX-s):e.plotX-s,y:e.plotY-s},s&&(e.width=e.height=2*s),e},e.prototype.pointAttribs=function(e,t){var n=this.options.marker,r=e&&e.options,i=r&&r.marker||{},o=r&&r.color,s=e&&e.color,a=e&&e.zone&&e.zone.color,l=this.color;return e=D(i.lineWidth,n.lineWidth),r=1,l=o||a||s||l,o=i.fillColor||n.fillColor||l,s=i.lineColor||n.lineColor||l,t=t||"normal",n=n.states[t]||{},t=i.states&&i.states[t]||{},e=D(t.lineWidth,n.lineWidth,e+D(t.lineWidthPlus,n.lineWidthPlus,0)),o=t.fillColor||n.fillColor||o,s=t.lineColor||n.lineColor||s,r=D(t.opacity,n.opacity,r),{stroke:s,"stroke-width":e,fill:o,opacity:r}},e.prototype.destroy=function(e){var t,n,r,i,o=this,s=o.chart,a=/AppleWebKit\/533/.test(y.navigator.userAgent),u=o.data||[];for(C(o,"destroy"),this.removeEvents(e),(o.axisTypes||[]).forEach((function(e){(i=o[e])&&i.series&&(E(i.series,o),i.isDirty=i.forceRedraw=!0)})),o.legendItem&&o.chart.legend.destroyItem(o),n=u.length;n--;)(r=u[n])&&r.destroy&&r.destroy();o.clips&&o.clips.forEach((function(e){return e.destroy()})),c.clearTimeout(o.animationTimeout),P(o,(function(e,n){e instanceof l&&!e.survive&&(t=a&&"group"===n?"hide":"destroy",e[t]())})),s.hoverSeries===o&&(s.hoverSeries=void 0),E(s.series,o),s.orderSeries(),P(o,(function(t,n){e&&"hcEvents"===n||delete o[n]}))},e.prototype.applyZones=function(){var e,t,n,r,i,o,s,a,l=this,c=this.chart,u=c.renderer,h=this.zones,p=this.clips||[],d=this.graph,f=this.area,m=Math.max(c.chartWidth,c.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],g=c.inverted,v=!1;if(h.length&&(d||f)&&y&&"undefined"!==typeof y.min){var b=y.reversed,w=y.horiz;d&&!this.showLine&&d.hide(),f&&f.hide();var x=y.getExtremes();h.forEach((function(h,S){e=b?w?c.plotWidth:0:w?0:y.toPixels(x.min)||0,e=_(D(t,e),0,m),t=_(Math.round(y.toPixels(D(h.value,x.max),!0)||0),0,m),v&&(e=t=y.toPixels(x.max)),r=Math.abs(e-t),i=Math.min(e,t),o=Math.max(e,t),y.isXAxis?(n={x:g?o:i,y:0,width:r,height:m},w||(n.x=c.plotHeight-n.x)):(n={x:0,y:g?o:i,width:m,height:r},w&&(n.y=c.plotWidth-n.y)),g&&u.isVML&&(n=y.isXAxis?{x:0,y:b?i:o,height:n.width,width:c.chartWidth}:{x:n.y-c.plotLeft-c.spacingBox.x,y:0,width:n.height,height:c.chartHeight}),p[S]?p[S].animate(n):p[S]=u.clipRect(n),s=l["zone-area-"+S],a=l["zone-graph-"+S],d&&a&&a.clip(p[S]),f&&s&&s.clip(p[S]),v=h.value>x.max,l.resetZones&&0===t&&(t=void 0)})),this.clips=p}else l.visible&&(d&&d.show(!0),f&&f.show(!0))},e.prototype.invertGroups=function(e){function t(){["group","markerGroup"].forEach((function(t){n[t]&&(r.renderer.isVML&&n[t].attr({width:n.yAxis.len,height:n.xAxis.len}),n[t].width=n.yAxis.len,n[t].height=n.xAxis.len,n[t].invert(!n.isRadialSeries&&e))}))}var n=this,r=n.chart;n.xAxis&&(n.eventsToUnbind.push(v(r,"resize",t)),t(),n.invertGroups=t)},e.prototype.plotGroup=function(e,t,n,r,i){var o=this[e],s=!o;return n={visibility:n,zIndex:r||.1},"undefined"===typeof this.opacity||this.chart.styledMode||"inactive"===this.state||(n.opacity=this.opacity),s&&(this[e]=o=this.chart.renderer.g().add(i)),o.addClass("highcharts-"+t+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(T(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr(n)[s?"attr":"animate"](this.getPlotBox()),o},e.prototype.getPlotBox=function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},e.prototype.removeEvents=function(e){e||F(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(e){e()})),this.eventsToUnbind.length=0)},e.prototype.render=function(){var e=this,t=e.chart,n=e.options,r=u(n.animation),i=e.visible?"inherit":"hidden",o=n.zIndex,s=e.hasRendered,a=t.seriesGroup,l=t.inverted;t=!e.finishedAnimating&&t.renderer.isSVG?r.duration:0,C(this,"render");var c=e.plotGroup("group","series",i,o,a);e.markerGroup=e.plotGroup("markerGroup","markers",i,o,a),!1!==n.clip&&e.setClip(),e.animate&&t&&e.animate(!0),c.inverted=!!D(e.invertible,e.isCartesian)&&l,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.visible&&e.drawPoints(),e.drawDataLabels&&e.drawDataLabels(),e.redrawPoints&&e.redrawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(l),e.animate&&t&&e.animate(),s||(t&&r.defer&&(t+=r.defer),e.animationTimeout=U((function(){e.afterAnimate()}),t||0)),e.isDirty=!1,e.hasRendered=!0,C(e,"afterRender")},e.prototype.redraw=function(){var e=this.chart,t=this.isDirty||this.isDirtyData,n=this.group,r=this.xAxis,i=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:D(r&&r.left,e.plotLeft),translateY:D(i&&i.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},e.prototype.searchPoint=function(e,t){var n=this.xAxis,r=this.yAxis,i=this.chart.inverted;return this.searchKDTree({clientX:i?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:i?r.len-e.chartX+r.pos:e.chartY-r.pos},t,e)},e.prototype.buildKDTree=function(e){function t(e,r,i){var o=e&&e.length;if(o){var s=n.kdAxisArray[r%i];return e.sort((function(e,t){return e[s]-t[s]})),o=Math.floor(o/2),{point:e[o],left:t(e.slice(0,o),r+1,i),right:t(e.slice(o+1),r+1,i)}}}this.buildingKdTree=!0;var n=this,r=-1<n.options.findNearestPointBy.indexOf("y")?2:1;delete n.kdTree,U((function(){n.kdTree=t(n.getValidPoints(null,!n.directTouch),r,r),n.buildingKdTree=!1}),n.options.kdNow||e&&"touchstart"===e.type?0:1)},e.prototype.searchKDTree=function(e,t,n){function r(e,t,n,l){var c=t.point,u=i.kdAxisArray[n%l],h=c,p=T(e[o])&&T(c[o])?Math.pow(e[o]-c[o],2):null,d=T(e[s])&&T(c[s])?Math.pow(e[s]-c[s],2):null;return d=(p||0)+(d||0),c.dist=T(d)?Math.sqrt(d):Number.MAX_VALUE,c.distX=T(p)?Math.sqrt(p):Number.MAX_VALUE,u=e[u]-c[u],d=0>u?"left":"right",p=0>u?"right":"left",t[d]&&(d=r(e,t[d],n+1,l),h=d[a]<h[a]?d:c),t[p]&&Math.sqrt(u*u)<h[a]&&(e=r(e,t[p],n+1,l),h=e[a]<h[a]?e:h),h}var i=this,o=this.kdAxisArray[0],s=this.kdAxisArray[1],a=t?"distX":"dist";if(t=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return r(e,this.kdTree,t,t)},e.prototype.pointPlacementToXValue=function(){var e=this.options,t=e.pointRange,n=this.xAxis;return e=e.pointPlacement,"between"===e&&(e=n.reversed?-.5:.5),R(e)?e*(t||n.pointRange):0},e.prototype.isPointInside=function(e){var t=this.chart,n=this.xAxis,r=this.yAxis;return"undefined"!==typeof e.plotY&&"undefined"!==typeof e.plotX&&0<=e.plotY&&e.plotY<=(r?r.len:t.plotHeight)&&0<=e.plotX&&e.plotX<=(n?n.len:t.plotWidth)},e.prototype.drawTracker=function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=e.chart,o=i.pointer,s=i.renderer,a=i.options.tooltip.snap,l=e.tracker,c=function(t){i.hoverSeries!==e&&e.onMouseOver()},u="rgba(192,192,192,"+(m?1e-4:.002)+")";l?l.attr({d:r}):e.graph&&(e.tracker=s.path(r).attr({visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(n?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),i.styledMode||e.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:u,fill:n?u:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*a)}),[e.tracker,e.markerGroup,e.dataLabelsGroup].forEach((function(e){e&&(e.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(function(e){o.onTrackerMouseOut(e)})),t.cursor&&!i.styledMode&&e.css({cursor:t.cursor}),f)&&e.on("touchstart",c)}))),C(this,"afterDrawTracker")},e.prototype.addPoint=function(e,t,n,r,i){var o=this.options,s=this.data,a=this.chart,l=this.xAxis;l=l&&l.hasNames&&l.names;var c,u=o.data,h=this.xData;t=D(t,!0);var p={series:this};this.pointClass.prototype.applyOptions.apply(p,[e]);var d=p.x,f=h.length;if(this.requireSorting&&d<h[f-1])for(c=!0;f&&h[f-1]>d;)f--;this.updateParallelArrays(p,"splice",f,0,0),this.updateParallelArrays(p,f),l&&p.name&&(l[d]=p.name),u.splice(f,0,e),c&&(this.data.splice(f,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(p,"shift"),u.shift())),!1!==i&&C(this,"addPoint",{point:p}),this.isDirtyData=this.isDirty=!0,t&&a.redraw(r)},e.prototype.removePoint=function(e,t,n){var r=this,i=r.data,o=i[e],s=r.points,a=r.chart,l=function(){s&&s.length===i.length&&s.splice(e,1),i.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(o||{series:r},"splice",e,1),o&&o.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&a.redraw()};h(n,a),t=D(t,!0),o?o.firePointEvent("remove",null,l):l()},e.prototype.remove=function(e,t,n,r){function i(){o.destroy(r),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(),D(e,!0)&&s.redraw(t)}var o=this,s=o.chart;!1!==n?C(o,"remove",null,i):i()},e.prototype.update=function(e,t){e=x(e,this.userOptions),C(this,"update",{options:e});var n,r=this,i=r.chart,o=r.userOptions,s=r.initialType||r.type,a=i.options.plotOptions,l=g[s].prototype,c=r.finishedAnimating&&{animation:!1},u={},h=["eventOptions","navigatorSeries","baseSeries"],p=e.type||o.type||i.options.chart.type,d=!(this.hasDerivedData||p&&p!==this.type||"undefined"!==typeof e.pointStart||"undefined"!==typeof e.pointInterval||"undefined"!==typeof e.relativeXValue||r.hasOptionChanged("dataGrouping")||r.hasOptionChanged("pointStart")||r.hasOptionChanged("pointInterval")||r.hasOptionChanged("pointIntervalUnit")||r.hasOptionChanged("keys"));if(p=p||s,d&&(h.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==e.visible&&h.push("area","graph"),r.parallelArrays.forEach((function(e){h.push(e+"Data")})),e.data&&(e.dataSorting&&A(r.options.dataSorting,e.dataSorting),this.setData(e.data,!1))),e=N(o,c,{index:"undefined"===typeof o.index?r.index:o.index,pointStart:D(a&&a.series&&a.series.pointStart,o.pointStart,r.xData[0])},!d&&{data:r.options.data},e),d&&e.data&&(e.data=r.options.data),h=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(h),h.forEach((function(e){h[e]=r[e],delete r[e]})),a=!1,g[p]){if(a=p!==r.type,r.remove(!1,!1,!1,!0),a)if(Object.setPrototypeOf)Object.setPrototypeOf(r,g[p].prototype);else{for(n in c=Object.hasOwnProperty.call(r,"hcEvents")&&r.hcEvents,l)r[n]=void 0;A(r,g[p].prototype),c?r.hcEvents=c:delete r.hcEvents}}else M(17,!0,i,{missingModuleFor:p});if(h.forEach((function(e){r[e]=h[e]})),r.init(i,e),d&&this.points){var f=r.options;!1===f.visible?(u.graphic=1,u.dataLabel=1):r._hasPointLabels||(e=f.marker,l=f.dataLabels,!e||!1!==e.enabled&&(o.marker&&o.marker.symbol)===e.symbol||(u.graphic=1),l&&!1===l.enabled&&(u.dataLabel=1)),this.points.forEach((function(e){e&&e.series&&(e.resolveColor(),Object.keys(u).length&&e.destroyElements(u),!1===f.showInLegend&&e.legendItem&&i.legend.destroyItem(e))}),this)}r.initialType=s,i.linkSeries(),a&&r.linkedSeries.length&&(r.isDirtyData=!0),C(this,"afterUpdate"),D(t,!0)&&i.redraw(!!d&&void 0)},e.prototype.setName=function(e){this.name=this.options.name=this.userOptions.name=e,this.chart.isDirtyLegend=!0},e.prototype.hasOptionChanged=function(e){var t=this.options[e],n=this.chart.options.plotOptions,r=this.userOptions[e];return r?t!==r:t!==D(n&&n[this.type]&&n[this.type][e],n&&n.series&&n.series[e],t)},e.prototype.onMouseOver=function(){var e=this.chart,t=e.hoverSeries;e.pointer.setHoverChartIndex(),t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&C(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},e.prototype.onMouseOut=function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;t.hoverSeries=null,r&&r.onMouseOut(),this&&e.events.mouseOut&&C(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),t.series.forEach((function(e){e.setState("",!0)}))},e.prototype.setState=function(e,t){var n=this,r=n.options,i=n.graph,o=r.inactiveOtherPoints,s=r.states,a=D(s[e||"normal"]&&s[e||"normal"].animation,n.chart.options.chart.animation),l=r.lineWidth,c=0,u=r.opacity;if(e=e||"",n.state!==e&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach((function(t){t&&(n.state&&t.removeClass("highcharts-series-"+n.state),e&&t.addClass("highcharts-series-"+e))})),n.state=e,!n.chart.styledMode)){if(s[e]&&!1===s[e].enabled)return;if(e&&(l=s[e].lineWidth||l+(s[e].lineWidthPlus||0),u=D(s[e].opacity,u)),i&&!i.dashstyle)for(r={"stroke-width":l},i.animate(r,a);n["zone-graph-"+c];)n["zone-graph-"+c].animate(r,a),c+=1;o||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach((function(e){e&&e.animate({opacity:u},a)}))}t&&o&&n.points&&n.setAllPointsToState(e||void 0)},e.prototype.setAllPointsToState=function(e){this.points.forEach((function(t){t.setState&&t.setState(e)}))},e.prototype.setVisible=function(e,t){var n=this,r=n.chart,i=n.legendItem,o=r.options.chart.ignoreHiddenSeries,s=n.visible,a=(n.visible=e=n.options.visible=n.userOptions.visible="undefined"===typeof e?!s:e)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(e){n[e]&&n[e][a]()})),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),i&&r.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&r.series.forEach((function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)})),n.linkedSeries.forEach((function(t){t.setVisible(e,!1)})),o&&(r.isDirtyBox=!0),C(n,a),!1!==t&&r.redraw()},e.prototype.show=function(){this.setVisible(!0)},e.prototype.hide=function(){this.setVisible(!1)},e.prototype.select=function(e){this.selected=e=this.options.selected="undefined"===typeof e?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),C(this,e?"select":"unselect")},e.prototype.shouldShowTooltip=function(e,t,n){return void 0===n&&(n={}),n.series=this,n.visiblePlotOnly=!0,this.chart.isInsidePlot(e,t,n)},e.defaultOptions=s,e}(),A(e.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:i.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:o,requireSorting:!0,sorted:!0}),a.series=e,e})),t(n,"Extensions/ScrollablePlotArea.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/Chart/Chart.js"],n["Core/Series/Series.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i,o){var s=e.stop,a=o.addEvent,l=o.createElement,c=o.merge,u=o.pick;a(n,"afterSetChartSize",(function(e){var n=this.options.chart.scrollablePlotArea,r=n&&n.minWidth;if(n=n&&n.minHeight,!this.renderer.forExport){if(r){if(this.scrollablePixelsX=r=Math.max(0,r-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=c(this.plotBox),this.plotBox.width=this.plotWidth+=r,this.inverted?this.clipBox.height+=r:this.clipBox.width+=r;var i={1:{name:"right",value:r}}}}else n&&(this.scrollablePixelsY=r=Math.max(0,n-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=c(this.plotBox),this.plotBox.height=this.plotHeight+=r,this.inverted?this.clipBox.width+=r:this.clipBox.height+=r,i={2:{name:"bottom",value:r}});i&&!e.skipAxes&&this.axes.forEach((function(e){i[e.side]?e.getPlotLinePath=function(){var n=i[e.side].name,r=this[n];this[n]=r-i[e.side].value;var o=t.prototype.getPlotLinePath.apply(this,arguments);return this[n]=r,o}:(e.setAxisSize(),e.setAxisTranslation())}))}})),a(n,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),n.prototype.setUpScrolling=function(){var e=this,t={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(t.overflowX="auto"),this.scrollablePixelsY&&(t.overflowY="auto"),this.scrollingParent=l("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=l("div",{className:"highcharts-scrolling"},t,this.scrollingParent),a(this.scrollingContainer,"scroll",(function(){e.pointer&&delete e.pointer.chartPosition})),this.innerContainer=l("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.moveFixedElements=function(){var e,t=this.container,n=this.fixedRenderer,r=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?e=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?e=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(e=".highcharts-yaxis"),e&&r.push(e+":not(.highcharts-radial-axis)",e+"-labels:not(.highcharts-radial-axis-labels)"),r.forEach((function(e){[].forEach.call(t.querySelectorAll(e),(function(e){(e.namespaceURI===n.SVG_NS?n.box:n.box.parentNode).appendChild(e),e.style.pointerEvents="auto"}))}))},n.prototype.applyFixed=function(){var e=!this.fixedDiv,t=this.options.chart,n=t.scrollablePlotArea,r=i.getRendererType();e?(this.fixedDiv=l("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(t.style&&t.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=t=new r(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=t.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":u(n.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),a(this,"afterShowResetZoom",this.moveFixedElements),a(this,"afterDrilldown",this.moveFixedElements),a(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||e)&&(this.scrollableDirty=!1,this.moveFixedElements()),t=this.chartWidth+(this.scrollablePixelsX||0),r=this.chartHeight+(this.scrollablePixelsY||0),s(this.container),this.container.style.width=t+"px",this.container.style.height=r+"px",this.renderer.boxWrapper.attr({width:t,height:r,viewBox:[0,0,t,r].join(" ")}),this.chartBackground.attr({width:t,height:r}),this.scrollingContainer.style.height=this.chartHeight+"px",e&&(n.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*n.scrollPositionX),n.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*n.scrollPositionY)),r=this.axisOffset,e=this.plotTop-r[0]-1,n=this.plotLeft-r[3]-1,t=this.plotTop+this.plotHeight+r[2]+1,r=this.plotLeft+this.plotWidth+r[1]+1;var o=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),c=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);e=this.scrollablePixelsX?[["M",0,e],["L",this.plotLeft-1,e],["L",this.plotLeft-1,t],["L",0,t],["Z"],["M",o,e],["L",this.chartWidth,e],["L",this.chartWidth,t],["L",o,t],["Z"]]:this.scrollablePixelsY?[["M",n,0],["L",n,this.plotTop-1],["L",r,this.plotTop-1],["L",r,0],["Z"],["M",n,c],["L",n,this.chartHeight],["L",r,this.chartHeight],["L",r,c],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:e})},a(t,"afterInit",(function(){this.chart.scrollableDirty=!0})),a(r,"show",(function(){this.chart.scrollableDirty=!0}))})),t(n,"Core/Axis/StackingAxis.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/Utilities.js"]],(function(e,t,n){var r,i=e.getDeferredAnimation,o=n.addEvent,s=n.destroyObjectProperties,a=n.fireEvent,l=n.isNumber,c=n.objectEach;return function(e){function t(){var e=this.stacking;if(e){var t=e.stacks;c(t,(function(e,n){s(e),t[n]=null})),e&&e.stackTotalGroup&&e.stackTotalGroup.destroy()}}function n(){this.stacking||(this.stacking=new u(this))}var r=[];e.compose=function(e){return-1===r.indexOf(e)&&(r.push(e),o(e,"init",n),o(e,"destroy",t)),e};var u=function(){function e(e){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=e}return e.prototype.buildStacks=function(){var e,t=this.axis,n=t.series,r=t.options.reversedStacks,i=n.length;if(!t.isXAxis){for(this.usePercentage=!1,e=i;e--;){var o=n[r?e:i-e-1];o.setStackedPoints(),o.setGroupedPoints()}for(e=0;e<i;e++)n[e].modifyStacks();a(t,"afterBuildStacks")}},e.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var e=this.stacks=this.oldStacks;c(e,(function(e){c(e,(function(e){e.cumulative=e.total}))}))}},e.prototype.resetStacks=function(){var e=this,t=e.stacks;e.axis.isXAxis||c(t,(function(t){c(t,(function(n,r){l(n.touched)&&n.touched<e.stacksTouched?(n.destroy(),delete t[r]):(n.total=null,n.cumulative=null)}))}))},e.prototype.renderStackTotals=function(){var e=this.axis,t=e.chart,n=t.renderer,r=this.stacks;e=i(t,e.options.stackLabels&&e.options.stackLabels.animation||!1);var o=this.stackTotalGroup=this.stackTotalGroup||n.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();o.translate(t.plotLeft,t.plotTop),c(r,(function(e){c(e,(function(e){e.render(o)}))})),o.animate({opacity:1},e)},e}();e.Additions=u}(r||(r={})),r})),t(n,"Extensions/Stacking.js",[n["Core/Axis/Axis.js"],n["Core/Chart/Chart.js"],n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Series/Series.js"],n["Core/Axis/StackingAxis.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i,o,s){var a=n.format,l=s.correctFloat,c=s.defined,u=s.destroyObjectProperties,h=s.isArray,p=s.isNumber,d=s.objectEach,f=s.pick,m=function(){function e(e,t,n,r,i){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t=t||{},this.x=r,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=i,this.rightCliff=this.leftCliff=0,this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}return e.prototype.destroy=function(){u(this,this.axis)},e.prototype.render=function(e){var t=this.axis.chart,n=this.options,r=n.format;r=r?a(r,this,t):n.formatter.call(this),this.label?this.label.attr({text:r,visibility:"hidden"}):(this.label=t.renderer.label(r,null,null,n.shape,null,null,n.useHTML,!1,"stack-labels"),r={r:n.borderRadius||0,text:r,rotation:n.rotation,padding:f(n.padding,5),visibility:"hidden"},t.styledMode||(r.fill=n.backgroundColor,r.stroke=n.borderColor,r["stroke-width"]=n.borderWidth,this.label.css(n.style)),this.label.attr(r),this.label.added||this.label.add(e)),this.label.labelrank=t.plotSizeY},e.prototype.setOffset=function(e,t,n,r,o){var s=this.axis,a=s.chart;r=s.translate(s.stacking.usePercentage?100:r||this.total,0,0,0,1),n=s.translate(n||0),n=c(r)&&Math.abs(r-n),e=f(o,a.xAxis[0].translate(this.x))+e,s=c(r)&&this.getStackBox(a,this,e,r,t,n,s),t=this.label,n=this.isNegative,e="justify"===f(this.options.overflow,"justify");var l=this.textAlign;t&&s&&(o=t.getBBox(),r=t.padding,l="left"===l?a.inverted?-r:r:"right"===l?o.width:a.inverted&&"center"===l?o.width/2:a.inverted?n?o.width+r:-r:o.width/2,n=a.inverted?o.height/2:n?-r:o.height,this.alignOptions.x=f(this.options.x,0),this.alignOptions.y=f(this.options.y,0),s.x-=l,s.y-=n,t.align(this.alignOptions,null,s),a.isInsidePlot(t.alignAttr.x+l-this.alignOptions.x,t.alignAttr.y+n-this.alignOptions.y)?t.show():(t.alignAttr.y=-9999,e=!1),e&&i.prototype.justifyDataLabel.call(this.axis,t,this.alignOptions,t.alignAttr,o,s),t.attr({x:t.alignAttr.x,y:t.alignAttr.y}),f(!e&&this.options.crop,!0)&&((a=p(t.x)&&p(t.y)&&a.isInsidePlot(t.x-r+t.width,t.y)&&a.isInsidePlot(t.x+r,t.y))||t.hide()))},e.prototype.getStackBox=function(e,t,n,r,i,o,s){var a=t.axis.reversed,l=e.inverted,c=s.height+s.pos-(l?e.plotLeft:e.plotTop);return t=t.isNegative&&!a||!t.isNegative&&a,{x:l?t?r-s.right:r-o+s.pos-e.plotLeft:n+e.xAxis[0].transB-e.plotLeft,y:l?s.height-n-i:t?c-r-o:c-r,width:l?o:i,height:l?i:o}},e}();return t.prototype.getStacks=function(){var e=this,t=e.inverted;e.yAxis.forEach((function(e){e.stacking&&e.stacking.stacks&&e.hasVisibleSeries&&(e.stacking.oldStacks=e.stacking.stacks)})),e.series.forEach((function(n){var r=n.xAxis&&n.xAxis.options||{};!n.options.stacking||!0!==n.visible&&!1!==e.options.chart.ignoreHiddenSeries||(n.stackKey=[n.type,f(n.options.stack,""),t?r.top:r.left,t?r.height:r.width].join())}))},o.compose(e),i.prototype.setGroupedPoints=function(){var e=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?i.prototype.setStackedPoints.call(this,"group"):e&&d(e.stacks,(function(t,n){"group"===n.slice(-5)&&(d(t,(function(e){return e.destroy()})),delete e.stacks[n])}))},i.prototype.setStackedPoints=function(e){var t=e||this.options.stacking;if(t&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var n=this.processedXData,r=this.processedYData,i=[],o=r.length,s=this.options,a=s.threshold,u=f(s.startFromThreshold&&a,0);s=s.stack,e=e?this.type+","+t:this.stackKey;var p,d,y="-"+e,g=this.negStacks,v=this.yAxis,b=v.stacking.stacks,w=v.stacking.oldStacks;for(v.stacking.stacksTouched+=1,d=0;d<o;d++){var _=n[d],x=r[d],S=this.getStackIndicator(S,_,this.index),T=S.key,E=(p=g&&x<(u?0:a))?y:e;b[E]||(b[E]={}),b[E][_]||(w[E]&&w[E][_]?(b[E][_]=w[E][_],b[E][_].total=null):b[E][_]=new m(v,v.options.stackLabels,p,_,s)),E=b[E][_],null!==x?(E.points[T]=E.points[this.index]=[f(E.cumulative,u)],c(E.cumulative)||(E.base=T),E.touched=v.stacking.stacksTouched,0<S.index&&!1===this.singleStacks&&(E.points[T][0]=E.points[this.index+","+_+",0"][0])):E.points[T]=E.points[this.index]=null,"percent"===t?(p=p?e:y,g&&b[p]&&b[p][_]?(p=b[p][_],E.total=p.total=Math.max(p.total,E.total)+Math.abs(x)||0):E.total=l(E.total+(Math.abs(x)||0))):"group"===t?(h(x)&&(x=x[0]),null!==x&&(E.total=(E.total||0)+1)):E.total=l(E.total+(x||0)),E.cumulative="group"===t?(E.total||1)-1:f(E.cumulative,u)+(x||0),null!==x&&(E.points[T].push(E.cumulative),i[d]=E.cumulative,E.hasValidPoints=!0)}"percent"===t&&(v.stacking.usePercentage=!0),"group"!==t&&(this.stackedYData=i),v.stacking.oldStacks={}}},i.prototype.modifyStacks=function(){var e,t=this,n=t.stackKey,r=t.yAxis.stacking.stacks,i=t.processedXData,o=t.options.stacking;t[o+"Stacker"]&&[n,"-"+n].forEach((function(n){for(var s,a,l=i.length;l--;)s=i[l],e=t.getStackIndicator(e,s,t.index,n),(a=(s=r[n]&&r[n][s])&&s.points[e.key])&&t[o+"Stacker"](a,s,l)}))},i.prototype.percentStacker=function(e,t,n){t=t.total?100/t.total:0,e[0]=l(e[0]*t),e[1]=l(e[1]*t),this.stackedYData[n]=e[1]},i.prototype.getStackIndicator=function(e,t,n,r){return!c(e)||e.x!==t||r&&e.key!==r?e={x:t,index:0,key:r}:e.index++,e.key=[n,t,e.index].join(),e},r.StackItem=m,r.StackItem})),t(n,"Series/Line/LineSeries.js",[n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n.defined,o=n.merge;return n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(n,t),n.prototype.drawGraph=function(){var e=this,t=this.options,n=(this.gappedPath||this.getGraphPath).call(this),r=this.chart.styledMode,i=[["graph","highcharts-graph"]];r||i[0].push(t.lineColor||this.color||"#cccccc",t.dashStyle),i=e.getZonesGraphs(i),i.forEach((function(i,o){var s=i[0],a=e[s],l=a?"animate":"attr";a?(a.endX=e.preventGraphAnimation?null:n.xMap,a.animate({d:n})):n.length&&(e[s]=a=e.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(e.group)),a&&!r&&(s={stroke:i[2],"stroke-width":t.lineWidth,fill:e.fillGraph&&e.color||"none"},i[3]?s.dashstyle=i[3]:"square"!==t.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),a[l](s).shadow(2>o&&t.shadow)),a&&(a.startX=n.xMap,a.isArea=n.isArea)}))},n.prototype.getGraphPath=function(e,t,n){var r,o=this,s=o.options,a=[],l=[],c=s.step;e=e||o.points;var u=e.reversed;return u&&e.reverse(),(c={right:1,center:2}[c]||c&&3)&&u&&(c=4-c),e=this.getValidPoints(e,!1,!(s.connectNulls&&!t&&!n)),e.forEach((function(u,h){var p=u.plotX,d=u.plotY,f=e[h-1];(u.leftCliff||f&&f.rightCliff)&&!n&&(r=!0),u.isNull&&!i(t)&&0<h?r=!s.connectNulls:u.isNull&&!t?r=!0:(0===h||r?h=[["M",u.plotX,u.plotY]]:o.getPointSpline?h=[o.getPointSpline(e,u,h)]:c?(h=1===c?[["L",f.plotX,d]]:2===c?[["L",(f.plotX+p)/2,f.plotY],["L",(f.plotX+p)/2,d]]:[["L",p,f.plotY]],h.push(["L",p,d])):h=[["L",p,d]],l.push(u.x),c&&(l.push(u.x),2===c&&l.push(u.x)),a.push.apply(a,h),r=!1)})),a.xMap=l,o.graphPath=a},n.prototype.getZonesGraphs=function(e){return this.zones.forEach((function(t,n){n=["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(t.className||"")],this.chart.styledMode||n.push(t.color||this.color,t.dashStyle||this.options.dashStyle),e.push(n)}),this),e},n.defaultOptions=o(e.defaultOptions,{}),n}(e),t.registerSeriesType("line",n),n})),t(n,"Series/Area/AreaSeries.js",[n["Core/Color/Color.js"],n["Core/Legend/LegendSymbol.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n,r){var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=e.parse,s=n.seriesTypes.line;e=r.extend;var a=r.merge,l=r.objectEach,c=r.pick;return r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(t,e),t.prototype.drawGraph=function(){this.areaPath=[],e.prototype.drawGraph.apply(this);var t=this,n=this.areaPath,r=this.options,i=[["area","highcharts-area",this.color,r.fillColor]];this.zones.forEach((function(e,n){i.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||r.fillColor])})),i.forEach((function(e){var i=e[0],s=t[i],a=s?"animate":"attr",l={};s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):(l.zIndex=0,s=t[i]=t.chart.renderer.path(n).addClass(e[1]).add(t.group),s.isArea=!0),t.chart.styledMode||(l.fill=c(e[3],o(e[2]).setOpacity(c(r.fillOpacity,.75)).get())),s[a](l),s.startX=n.xMap,s.shiftUnit=r.step?2:1}))},t.prototype.getGraphPath=function(e){var t,n=s.prototype.getGraphPath,r=this.options,i=r.stacking,o=this.yAxis,a=[],l=[],u=this.index,h=o.stacking.stacks[this.stackKey],p=r.threshold,d=Math.round(o.getThreshold(r.threshold));r=c(r.connectNulls,"percent"===i);var f=function(t,n,r){var s=e[t];t=i&&h[s.x].points[u];var c=s[r+"Null"]||0;if(r=s[r+"Cliff"]||0,s=!0,r||c){var f=(c?t[0]:t[1])+r,m=t[0]+r;s=!!c}else!i&&e[n]&&e[n].isNull&&(f=m=p);"undefined"!==typeof f&&(l.push({plotX:y,plotY:null===f?d:o.getThreshold(f),isNull:s,isCliff:!0}),a.push({plotX:y,plotY:null===m?d:o.getThreshold(m),doCurve:!1}))};for(e=e||this.points,i&&(e=this.getStackPoints(e)),t=0;t<e.length;t++){i||(e[t].leftCliff=e[t].rightCliff=e[t].leftNull=e[t].rightNull=void 0);var m=e[t].isNull,y=c(e[t].rectPlotX,e[t].plotX),g=i?c(e[t].yBottom,d):d;m&&!r||(r||f(t,t-1,"left"),m&&!i&&r||(l.push(e[t]),a.push({x:t,plotX:y,plotY:g})),r||f(t,t+1,"right"))}return t=n.call(this,l,!0,!0),a.reversed=!0,m=n.call(this,a,!0,!0),(g=m[0])&&"M"===g[0]&&(m[0]=["L",g[1],g[2]]),m=t.concat(m),m.length&&m.push(["Z"]),n=n.call(this,l,!1,r),m.xMap=t.xMap,this.areaPath=m,n},t.prototype.getStackPoints=function(e){var t=this,n=[],r=[],i=this.xAxis,o=this.yAxis,s=o.stacking.stacks[this.stackKey],a={},u=o.series,h=u.length,p=o.options.reversedStacks?1:-1,d=u.indexOf(t);if(e=e||this.points,this.options.stacking){for(var f=0;f<e.length;f++)e[f].leftNull=e[f].rightNull=void 0,a[e[f].x]=e[f];l(s,(function(e,t){null!==e.total&&r.push(t)})),r.sort((function(e,t){return e-t}));var m=u.map((function(e){return e.visible}));r.forEach((function(e,l){var f,y,g=0;if(a[e]&&!a[e].isNull)n.push(a[e]),[-1,1].forEach((function(n){var i=1===n?"rightNull":"leftNull",o=0,c=s[r[l+n]];if(c)for(var g=d;0<=g&&g<h;){var v=u[g].index;f=c.points[v],f||(v===t.index?a[e][i]=!0:m[g]&&(y=s[e].points[v])&&(o-=y[1]-y[0])),g+=p}a[e][1===n?"rightCliff":"leftCliff"]=o}));else{for(var v=d;0<=v&&v<h;){if(f=s[e].points[u[v].index]){g=f[1];break}v+=p}g=c(g,0),g=o.translate(g,0,1,0,1),n.push({isNull:!0,plotX:i.translate(e,0,0,0,1),x:e,plotY:g,yBottom:g})}}))}return n},t.defaultOptions=a(s.defaultOptions,{threshold:0}),t}(s),e(r.prototype,{singleStacks:!1,drawLegendSymbol:t.drawRectangle}),n.registerSeriesType("area",r),r})),t(n,"Series/Spline/SplineSeries.js",[n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),r=e.seriesTypes.line,i=t.merge,o=t.pick;return t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return n(t,e),t.prototype.getPointSpline=function(e,t,n){var r=t.plotX||0,i=t.plotY||0,s=e[n-1];if(n=e[n+1],s&&!s.isNull&&!1!==s.doCurve&&!t.isCliff&&n&&!n.isNull&&!1!==n.doCurve&&!t.isCliff){e=s.plotY||0;var a=n.plotX||0;n=n.plotY||0;var l=0,c=(1.5*r+(s.plotX||0))/2.5,u=(1.5*i+e)/2.5;a=(1.5*r+a)/2.5;var h=(1.5*i+n)/2.5;a!==c&&(l=(h-u)*(a-r)/(a-c)+i-h),u+=l,h+=l,u>e&&u>i?(u=Math.max(e,i),h=2*i-u):u<e&&u<i&&(u=Math.min(e,i),h=2*i-u),h>n&&h>i?(h=Math.max(n,i),u=2*i-h):h<n&&h<i&&(h=Math.min(n,i),u=2*i-h),t.rightContX=a,t.rightContY=h}return t=["C",o(s.rightContX,s.plotX,0),o(s.rightContY,s.plotY,0),o(c,r,0),o(u,i,0),r,i],s.rightContX=s.rightContY=void 0,t},t.defaultOptions=i(r.defaultOptions),t}(r),e.registerSeriesType("spline",t),t})),t(n,"Series/AreaSpline/AreaSplineSeries.js",[n["Series/Area/AreaSeries.js"],n["Series/Spline/SplineSeries.js"],n["Core/Legend/LegendSymbol.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i){var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=e.prototype,a=i.extend,l=i.merge;return i=function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.points=void 0,e.options=void 0,e}return o(r,n),r.defaultOptions=l(t.defaultOptions,e.defaultOptions),r}(t),a(i.prototype,{getGraphPath:s.getGraphPath,getStackPoints:s.getStackPoints,drawGraph:s.drawGraph,drawLegendSymbol:n.drawRectangle}),r.registerSeriesType("areaspline",i),i})),t(n,"Series/Column/ColumnSeries.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Legend/LegendSymbol.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i,o,s){var a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=e.animObject,c=t.parse,u=n.hasTouch;e=n.noop;var h=s.clamp,p=s.css,d=s.defined,f=s.extend,m=s.fireEvent,y=s.isArray,g=s.isNumber,v=s.merge,b=s.pick,w=s.objectEach;return s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.borderWidth=void 0,t.data=void 0,t.group=void 0,t.options=void 0,t.points=void 0,t}return a(t,e),t.prototype.animate=function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,o={},s=i?"translateX":"translateY";if(e)o.scaleY=.001,e=h(n.toPixels(r.threshold),n.pos,n.pos+n.len),i?o.translateX=e-n.len:o.translateY=e,t.clipBox&&t.setClip(),t.group.attr(o);else{var a=Number(t.group.attr(s));t.group.animate({scaleY:1},f(l(t.options.animation),{step:function(e,r){t.group&&(o[s]=a+r.pos*(n.pos-a),t.group.attr(o))}}))}},t.prototype.init=function(t,n){e.prototype.init.apply(this,arguments);var r=this;t=r.chart,t.hasRendered&&t.series.forEach((function(e){e.type===r.type&&(e.isDirty=!0)}))},t.prototype.getColumnMetrics=function(){var e=this,t=e.options,n=e.xAxis,r=e.yAxis,i=n.options.reversedStacks;i=n.reversed&&!i||!n.reversed&&i;var o,s={},a=0;!1===t.grouping?a=1:e.chart.series.forEach((function(t){var n=t.yAxis,i=t.options;if(t.type===e.type&&(t.visible||!e.chart.options.chart.ignoreHiddenSeries)&&r.len===n.len&&r.pos===n.pos){if(i.stacking&&"group"!==i.stacking){o=t.stackKey,"undefined"===typeof s[o]&&(s[o]=a++);var l=s[o]}else!1!==i.grouping&&(l=a++);t.columnIndex=l}}));var l=Math.min(Math.abs(n.transA)*(n.ordinal&&n.ordinal.slope||t.pointRange||n.closestPointRange||n.tickInterval||1),n.len),c=l*t.groupPadding,u=(l-2*c)/(a||1);return t=Math.min(t.maxPointWidth||n.len,b(t.pointWidth,u*(1-2*t.pointPadding))),e.columnMetrics={width:t,offset:(u-t)/2+(c+((e.columnIndex||0)+(i?1:0))*u-l/2)*(i?-1:1),paddedWidth:u,columnCount:a},e.columnMetrics},t.prototype.crispCol=function(e,t,n,r){var i=this.chart,o=this.borderWidth,s=-(o%2?.5:0);return o=o%2?.5:1,i.inverted&&i.renderer.isVML&&(o+=1),this.options.crisp&&(n=Math.round(e+n)+s,e=Math.round(e)+s,n-=e),r=Math.round(t+r)+o,s=.5>=Math.abs(t)&&.5<r,t=Math.round(t)+o,r-=t,s&&r&&(--t,r+=1),{x:e,y:t,width:n,height:r}},t.prototype.adjustForMissingColumns=function(e,t,n,r){var i=this,o=this.options.stacking;if(!n.isNull&&1<r.columnCount){var s=0,a=0;w(this.yAxis.stacking&&this.yAxis.stacking.stacks,(function(e){if("number"===typeof n.x&&(e=e[n.x.toString()])){var t=e.points[i.index],r=e.total;o?(t&&(s=a),e.hasValidPoints&&a++):y(t)&&(s=t[1],a=r||0)}})),e=(n.plotX||0)+((a-1)*r.paddedWidth+t)/2-t-s*r.paddedWidth}return e},t.prototype.translate=function(){var e=this,t=e.chart,n=e.options,r=e.dense=2>e.closestPointRange*e.xAxis.transA;r=e.borderWidth=b(n.borderWidth,r?0:1);var o=e.xAxis,s=e.yAxis,a=n.threshold,l=e.translatedThreshold=s.getThreshold(a),c=b(n.minPointLength,5),u=e.getColumnMetrics(),p=u.width,f=e.pointXOffset=u.offset,m=e.dataMin,y=e.dataMax,v=e.barW=Math.max(p,1+2*r);t.inverted&&(l-=.5),n.pointPadding&&(v=Math.ceil(v)),i.prototype.translate.apply(e),e.points.forEach((function(r){var i=b(r.yBottom,l),w=999+Math.abs(i),_=r.plotX||0;w=h(r.plotY,-w,s.len+w);var x=Math.min(w,i),S=Math.max(w,i)-x,T=p,E=_+f,M=v;c&&Math.abs(S)<c&&(S=c,_=!s.reversed&&!r.negative||s.reversed&&r.negative,g(a)&&g(y)&&r.y===a&&y<=a&&(s.min||0)<a&&(m!==y||(s.max||0)<=a)&&(_=!_),x=Math.abs(x-l)>c?i-c:l-(_?c:0)),d(r.options.pointWidth)&&(T=M=Math.ceil(r.options.pointWidth),E-=Math.round((T-p)/2)),n.centerInCategory&&(E=e.adjustForMissingColumns(E,T,r,u)),r.barX=E,r.pointWidth=T,r.tooltipPos=t.inverted?[h(s.len+s.pos-t.plotLeft-w,s.pos-t.plotLeft,s.len+s.pos-t.plotLeft),o.len+o.pos-t.plotTop-E-M/2,S]:[o.left-t.plotLeft+E+M/2,h(w+s.pos-t.plotTop,s.pos-t.plotTop,s.len+s.pos-t.plotTop),S],r.shapeType=e.pointClass.prototype.shapeType||"rect",r.shapeArgs=e.crispCol.apply(e,r.isNull?[E,l,M,0]:[E,x,M,S])}))},t.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},t.prototype.pointAttribs=function(e,t){var n=this.options,r=this.pointAttrToOptions||{},i=r.stroke||"borderColor",o=r["stroke-width"]||"borderWidth",s=e&&e.color||this.color,a=e&&e[i]||n[i]||s;r=e&&e.options.dashStyle||n.dashStyle;var l=e&&e[o]||n[o]||this[o]||0,u=b(e&&e.opacity,n.opacity,1);if(e&&this.zones.length){var h=e.getZone();s=e.options.color||h&&(h.color||e.nonZonedColor)||this.color,h&&(a=h.borderColor||a,r=h.dashStyle||r,l=h.borderWidth||l)}return t&&e&&(e=v(n.states[t],e.options.states&&e.options.states[t]||{}),t=e.brightness,s=e.color||"undefined"!==typeof t&&c(s).brighten(e.brightness).get()||s,a=e[i]||a,l=e[o]||l,r=e.dashStyle||r,u=b(e.opacity,u)),i={fill:s,stroke:a,"stroke-width":l,opacity:u},r&&(i.dashstyle=r),i},t.prototype.drawPoints=function(){var e,t=this,n=this.chart,r=t.options,i=n.renderer,o=r.animationLimit||250;t.points.forEach((function(s){var a=s.graphic,l=!!a,c=a&&n.pointCount<o?"animate":"attr";g(s.plotY)&&null!==s.y?(e=s.shapeArgs,a&&s.hasNewShapeType()&&(a=a.destroy()),t.enabledDataSorting&&(s.startXPos=t.xAxis.reversed?-(e&&e.width||0):t.xAxis.width),a||(s.graphic=a=i[s.shapeType](e).add(s.group||t.group))&&t.enabledDataSorting&&n.hasRendered&&n.pointCount<o&&(a.attr({x:s.startXPos}),l=!0,c="animate"),a&&l&&a[c](v(e)),r.borderRadius&&a[c]({r:r.borderRadius}),n.styledMode||a[c](t.pointAttribs(s,s.selected&&"select")).shadow(!1!==s.allowShadow&&r.shadow,null,r.stacking&&!r.borderRadius),a&&(a.addClass(s.getClassName(),!0),a.attr({visibility:s.visible?"inherit":"hidden"}))):a&&(s.graphic=a.destroy())}))},t.prototype.drawTracker=function(){var e,t=this,n=t.chart,r=n.pointer,i=function(e){var t=r.getPointFromEvent(e);"undefined"!==typeof t&&(r.isDirectTouch=!0,t.onMouseOver(e))};t.points.forEach((function(t){e=y(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),e.forEach((function(e){e.div?e.div.point=t:e.element.point=t}))})),t._hasTracking||(t.trackerGroups.forEach((function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",(function(e){r.onTrackerMouseOut(e)})),u&&t[e].on("touchstart",i),!n.styledMode&&t.options.cursor&&t[e].css(p).css({cursor:t.options.cursor}))})),t._hasTracking=!0),m(this,"afterDrawTracker")},t.prototype.remove=function(){var e=this,t=e.chart;t.hasRendered&&t.series.forEach((function(t){t.type===e.type&&(t.isDirty=!0)})),i.prototype.remove.apply(e,arguments)},t.defaultOptions=v(i.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),t}(i),f(s.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:r.drawRectangle,getSymbol:e,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),o.registerSeriesType("column",s),s})),t(n,"Core/Series/DataLabel.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/FormatUtilities.js"],n["Core/Utilities.js"]],(function(e,t,n){var r,i=e.getDeferredAnimation,o=t.format,s=n.defined,a=n.extend,l=n.fireEvent,c=n.isArray,u=n.merge,h=n.objectEach,p=n.pick,d=n.splat;return function(e){function t(e,t,n,r,i){var o=this,s=this.chart,l=this.isCartesian&&s.inverted,c=this.enabledDataSorting,u=p(e.dlBox&&e.dlBox.centerX,e.plotX,-9999),h=p(e.plotY,-9999),d=t.getBBox(),f=n.rotation,m=n.align,y=s.isInsidePlot(u,Math.round(h),{inverted:l,paneCoordinates:!0,series:o}),g=function(n){c&&o.xAxis&&!v&&o.setDataLabelStartPos(e,t,i,y,n)},v="justify"===p(n.overflow,c?"none":"justify"),b=this.visible&&!1!==e.visible&&(e.series.forceDL||c&&!v||y||p(n.inside,!!this.options.stacking)&&r&&s.isInsidePlot(u,l?r.x+1:r.y+r.height-1,{inverted:l,paneCoordinates:!0,series:o}));if(b){var w=s.renderer.fontMetrics(s.styledMode?void 0:n.style.fontSize,t).b;r=a({x:l?this.yAxis.len-h:u,y:Math.round(l?this.xAxis.len-u:h),width:0,height:0},r),a(n,{width:d.width,height:d.height}),f?(v=!1,u=s.renderer.rotCorr(w,f),u={x:r.x+(n.x||0)+r.width/2+u.x,y:r.y+(n.y||0)+{top:0,middle:.5,bottom:1}[n.verticalAlign]*r.height},g(u),t[i?"attr":"animate"](u).attr({align:m}),g=(f+720)%360,g=180<g&&360>g,"left"===m?u.y-=g?d.height:0:"center"===m?(u.x-=d.width/2,u.y-=d.height/2):"right"===m&&(u.x-=d.width,u.y-=g?0:d.height),t.placed=!0,t.alignAttr=u):(g(r),t.align(n,void 0,r),u=t.alignAttr),v&&0<=r.height?this.justifyDataLabel(t,n,u,d,r,i):p(n.crop,!0)&&(b=s.isInsidePlot(u.x,u.y,{paneCoordinates:!0,series:o})&&s.isInsidePlot(u.x+d.width,u.y+d.height,{paneCoordinates:!0,series:o})),n.shape&&!f&&t[i?"attr":"animate"]({anchorX:l?s.plotWidth-e.plotY:e.plotX,anchorY:l?s.plotHeight-e.plotX:e.plotY})}i&&c&&(t.placed=!1),b||c&&!v||(t.hide(!0),t.placed=!1)}function n(e,t){var n=t.filter;return!n||(t=n.operator,e=e[n.property],n=n.value,">"===t&&e>n||"<"===t&&e<n||">="===t&&e>=n||"<="===t&&e<=n||"=="===t&&e==n||"==="===t&&e===n)}function r(){var e,t=this,r=t.chart,a=t.options,u=t.points,f=t.hasRendered||0,y=r.renderer,g=a.dataLabels,v=g.animation;if(v=g.defer?i(r,v,t):{defer:0,duration:0},g=m(m(r.options.plotOptions&&r.options.plotOptions.series&&r.options.plotOptions.series.dataLabels,r.options.plotOptions&&r.options.plotOptions[t.type]&&r.options.plotOptions[t.type].dataLabels),g),l(this,"drawDataLabels"),c(g)||g.enabled||t._hasPointLabels){var b=t.plotGroup("dataLabelsGroup","data-labels",f?"inherit":"hidden",g.zIndex||6);b.attr({opacity:+f}),!f&&(f=t.dataLabelsGroup)&&(t.visible&&b.show(!0),f[a.animation?"animate":"attr"]({opacity:1},v)),u.forEach((function(i){e=d(m(g,i.dlOptions||i.options&&i.options.dataLabels)),e.forEach((function(e,l){var c=e.enabled&&(!i.isNull||i.dataLabelOnNull)&&n(i,e),u=i.connectors?i.connectors[l]:i.connector,d=i.dataLabels?i.dataLabels[l]:i.dataLabel,f=p(e.distance,i.labelDistance),m=!d;if(c){var g=i.getLabelConfig(),v=p(e[i.formatPrefix+"Format"],e.format);g=s(v)?o(v,g,r):(e[i.formatPrefix+"Formatter"]||e.formatter).call(g,e),v=e.style;var w=e.rotation;r.styledMode||(v.color=p(e.color,v.color,t.color,"#000000"),"contrast"===v.color?(i.contrastColor=y.getContrast(i.color||t.color),v.color=!s(f)&&e.inside||0>f||a.stacking?i.contrastColor:"#000000"):delete i.contrastColor,a.cursor&&(v.cursor=a.cursor));var _={r:e.borderRadius||0,rotation:w,padding:e.padding,zIndex:1};r.styledMode||(_.fill=e.backgroundColor,_.stroke=e.borderColor,_["stroke-width"]=e.borderWidth),h(_,(function(e,t){"undefined"===typeof e&&delete _[t]}))}!d||c&&s(g)&&!!d.div===!!e.useHTML||(i.dataLabel=d=i.dataLabel&&i.dataLabel.destroy(),i.dataLabels&&(1===i.dataLabels.length?delete i.dataLabels:delete i.dataLabels[l]),l||delete i.dataLabel,u&&(i.connector=i.connector.destroy(),i.connectors&&(1===i.connectors.length?delete i.connectors:delete i.connectors[l]))),c&&s(g)&&(d?_.text=g:(i.dataLabels=i.dataLabels||[],d=i.dataLabels[l]=w?y.text(g,0,-9999,e.useHTML).addClass("highcharts-data-label"):y.label(g,0,-9999,e.shape,null,null,e.useHTML,null,"data-label"),l||(i.dataLabel=d),d.addClass(" highcharts-data-label-color-"+i.colorIndex+" "+(e.className||"")+(e.useHTML?" highcharts-tracker":""))),d.options=e,d.attr(_),r.styledMode||d.css(v).shadow(e.shadow),d.added||d.add(b),e.textPath&&!e.useHTML&&(d.setTextPath(i.getDataLabelPath&&i.getDataLabelPath(d)||i.graphic,e.textPath),i.dataLabelPath&&!e.textPath.enabled&&(i.dataLabelPath=i.dataLabelPath.destroy())),t.alignDataLabel(i,d,e,null,m))}))}))}l(this,"afterDrawDataLabels")}function f(e,t,n,r,i,o){var s=this.chart,a=t.align,l=t.verticalAlign,c=e.box?0:e.padding||0,u=t.x;u=void 0===u?0:u;var h=t.y;h=void 0===h?0:h;var p=(n.x||0)+c;if(0>p){"right"===a&&0<=u?(t.align="left",t.inside=!0):u-=p;var d=!0}return p=(n.x||0)+r.width-c,p>s.plotWidth&&("left"===a&&0>=u?(t.align="right",t.inside=!0):u+=s.plotWidth-p,d=!0),p=n.y+c,0>p&&("bottom"===l&&0<=h?(t.verticalAlign="top",t.inside=!0):h-=p,d=!0),p=(n.y||0)+r.height-c,p>s.plotHeight&&("top"===l&&0>=h?(t.verticalAlign="bottom",t.inside=!0):h+=s.plotHeight-p,d=!0),d&&(t.x=u,t.y=h,e.placed=!o,e.align(t,void 0,i)),d}function m(e,t){var n,r=[];if(c(e)&&!c(t))r=e.map((function(e){return u(e,t)}));else if(c(t)&&!c(e))r=t.map((function(t){return u(e,t)}));else if(c(e)||c(t))for(n=Math.max(e.length,t.length);n--;)r[n]=u(e[n],t[n]);else r=u(e,t);return r}function y(e,t,n,r,i){var o=this.chart,s=o.inverted,a=this.xAxis,l=a.reversed,c=s?t.height/2:t.width/2;e=(e=e.pointWidth)?e/2:0,t.startXPos=s?i.x:l?-c-e:a.width-c+e,t.startYPos=s?l?this.yAxis.height-c+e:-c-e:i.y,r?"hidden"===t.visibility&&(t.show(),t.attr({opacity:0}).animate({opacity:1})):t.attr({opacity:1}).animate({opacity:0},void 0,t.hide),o.hasRendered&&(n&&t.attr({x:t.startXPos,y:t.startYPos}),t.placed=!0)}var g=[];e.compose=function(e){if(-1===g.indexOf(e)){var n=e.prototype;g.push(e),n.alignDataLabel=t,n.drawDataLabels=r,n.justifyDataLabel=f,n.setDataLabelStartPos=y}}}(r||(r={})),r})),t(n,"Series/Column/ColumnDataLabel.js",[n["Core/Series/DataLabel.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n){var r,i=t.series,o=n.merge,s=n.pick;return function(t){function n(e,t,n,r,a){var l=this.chart.inverted,c=e.series,u=(c.xAxis?c.xAxis.len:this.chart.plotSizeX)||0;c=(c.yAxis?c.yAxis.len:this.chart.plotSizeY)||0;var h=e.dlBox||e.shapeArgs,p=s(e.below,e.plotY>s(this.translatedThreshold,c)),d=s(n.inside,!!this.options.stacking);h&&(r=o(h),0>r.y&&(r.height+=r.y,r.y=0),h=r.y+r.height-c,0<h&&h<r.height&&(r.height-=h),l&&(r={x:c-r.y-r.height,y:u-r.x-r.width,width:r.height,height:r.width}),d||(l?(r.x+=p?0:r.width,r.width=0):(r.y+=p?r.height:0,r.height=0))),n.align=s(n.align,!l||d?"center":p?"right":"left"),n.verticalAlign=s(n.verticalAlign,l||d?"middle":p?"top":"bottom"),i.prototype.alignDataLabel.call(this,e,t,n,r,a),n.inside&&e.contrastColor&&t.css({color:e.contrastColor})}var r=[];t.compose=function(t){e.compose(i),-1===r.indexOf(t)&&(r.push(t),t.prototype.alignDataLabel=n)}}(r||(r={})),r})),t(n,"Series/Bar/BarSeries.js",[n["Series/Column/ColumnSeries.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n.extend,o=n.merge;return n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return r(n,t),n.defaultOptions=o(e.defaultOptions,{}),n}(e),i(n.prototype,{inverted:!0}),t.registerSeriesType("bar",n),n})),t(n,"Series/Scatter/ScatterSeries.js",[n["Series/Column/ColumnSeries.js"],n["Series/Line/LineSeries.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n,r){var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=r.addEvent,s=r.extend,a=r.merge;return r=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i(n,e),n.prototype.applyJitter=function(){var e=this,t=this.options.jitter,n=this.points.length;t&&this.points.forEach((function(r,i){["x","y"].forEach((function(o,s){var a="plot"+o.toUpperCase();if(t[o]&&!r.isNull){var l=e[o+"Axis"],c=t[o]*l.transA;if(l&&!l.isLog){var u=Math.max(0,r[a]-c);l=Math.min(l.len,r[a]+c),s=1e4*Math.sin(i+s*n),r[a]=u+(l-u)*(s-Math.floor(s)),"x"===o&&(r.clientX=r.plotX)}}}))}))},n.prototype.drawGraph=function(){this.options.lineWidth?e.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},n.defaultOptions=a(t.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),n}(t),s(r.prototype,{drawTracker:e.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),o(r,"afterTranslate",(function(){this.applyJitter()})),n.registerSeriesType("scatter",r),r})),t(n,"Series/CenteredUtilities.js",[n["Core/Globals.js"],n["Core/Series/Series.js"],n["Core/Utilities.js"]],(function(e,t,n){var r,i=e.deg2rad,o=n.isNumber,s=n.pick,a=n.relativeLength;return function(e){e.getCenter=function(){var e=this.options,n=this.chart,r=2*(e.slicedOffset||0),i=n.plotWidth-2*r,o=n.plotHeight-2*r,l=e.center,c=Math.min(i,o),u=e.size,h=e.innerSize||0;for("string"===typeof u&&(u=parseFloat(u)),"string"===typeof h&&(h=parseFloat(h)),e=[s(l[0],"50%"),s(l[1],"50%"),s(u&&0>u?void 0:e.size,"100%"),s(h&&0>h?void 0:e.innerSize||0,"0%")],!n.angular||this instanceof t||(e[3]=0),l=0;4>l;++l)u=e[l],n=2>l||2===l&&/%$/.test(u),e[l]=a(u,[i,o,c,e[2]][l])+(n?r:0);return e[3]>e[2]&&(e[3]=e[2]),e},e.getStartAndEndRadians=function(e,t){return e=o(e)?e:0,t=o(t)&&t>e&&360>t-e?t:e+360,{start:i*(e+-90),end:i*(t+-90)}}}(r||(r={})),r})),t(n,"Series/Pie/PiePoint.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"]],(function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=e.setAnimation,o=n.addEvent,s=n.defined;e=n.extend;var a=n.isNumber,l=n.pick,c=n.relativeLength;return t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelDistance=void 0,t.options=void 0,t.series=void 0,t}return r(t,e),t.prototype.getConnectorPath=function(){var e=this.labelPosition,t=this.series.options.dataLabels,n=this.connectorShapes,r=t.connectorShape;return n[r]&&(r=n[r]),r.call(this,{x:e.final.x,y:e.final.y,alignment:e.alignment},e.connectorPosition,t)},t.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},t.prototype.haloPath=function(e){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+e,t.r+e,{innerR:t.r-1,start:t.start,end:t.end})},t.prototype.init=function(){var t=this;e.prototype.init.apply(this,arguments),this.name=l(this.name,"Slice");var n=function(e){t.slice("select"===e.type)};return o(this,"select",n),o(this,"unselect",n),this},t.prototype.isValid=function(){return a(this.y)&&0<=this.y},t.prototype.setVisible=function(e,t){var n=this,r=this.series,i=r.chart,o=r.options.ignoreHiddenPoint;t=l(t,o),e!==this.visible&&(this.visible=this.options.visible=e="undefined"===typeof e?!this.visible:e,r.options.data[r.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach((function(t){n[t]&&n[t][e?"show":"hide"](e)})),this.legendItem&&i.legend.colorizeItem(this,e),e||"hover"!==this.state||this.setState(""),o&&(r.isDirty=!0),t&&i.redraw())},t.prototype.slice=function(e,t,n){var r=this.series;i(n,r.chart),l(t,!0),this.sliced=this.options.sliced=s(e)?e:!this.sliced,r.options.data[r.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},t}(t),e(t.prototype,{connectorShapes:{fixedOffset:function(e,t,n){var r=t.breakAt;return t=t.touchingSliceAt,[["M",e.x,e.y],n.softConnector?["C",e.x+("left"===e.alignment?-5:5),e.y,2*r.x-t.x,2*r.y-t.y,r.x,r.y]:["L",r.x,r.y],["L",t.x,t.y]]},straight:function(e,t){return t=t.touchingSliceAt,[["M",e.x,e.y],["L",t.x,t.y]]},crookedLine:function(e,t,n){t=t.touchingSliceAt;var r=this.series,i=r.center[0],o=r.chart.plotWidth,s=r.chart.plotLeft;r=e.alignment;var a=this.shapeArgs.r;return n=c(n.crookDistance,1),o="left"===r?i+a+(o+s-i-a)*(1-n):s+(i-a)*n,n=["L",o,e.y],i=!0,("left"===r?o>e.x||o<t.x:o<e.x||o>t.x)&&(i=!1),e=[["M",e.x,e.y]],i&&e.push(n),e.push(["L",t.x,t.y]),e}}}),t})),t(n,"Series/Pie/PieSeries.js",[n["Series/CenteredUtilities.js"],n["Series/Column/ColumnSeries.js"],n["Core/Globals.js"],n["Core/Legend/LegendSymbol.js"],n["Series/Pie/PiePoint.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/Symbols.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i,o,s,a,l){var c=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=e.getStartAndEndRadians;n=n.noop;var h=l.clamp,p=l.extend,d=l.fireEvent,f=l.merge,m=l.pick,y=l.relativeLength;return l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.center=void 0,t.data=void 0,t.maxLabelDistance=void 0,t.options=void 0,t.points=void 0,t}return c(t,e),t.prototype.animate=function(e){var t=this,n=t.points,r=t.startAngleRad;e||n.forEach((function(e){var n=e.graphic,i=e.shapeArgs;n&&i&&(n.attr({r:m(e.startR,t.center&&t.center[3]/2),start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}))},t.prototype.drawEmpty=function(){var e=this.startAngleRad,t=this.endAngleRad,n=this.options;if(0===this.total&&this.center){var r=this.center[0],i=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(r,i,this.center[1]/2,0,e,t).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:a.arc(r,i,this.center[2]/2,0,{start:e,end:t,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":n.borderWidth,fill:n.fillColor||"none",stroke:n.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},t.prototype.drawPoints=function(){var e=this.chart.renderer;this.points.forEach((function(t){t.graphic&&t.hasNewShapeType()&&(t.graphic=t.graphic.destroy()),t.graphic||(t.graphic=e[t.shapeType](t.shapeArgs).add(t.series.group),t.delayedRendering=!0)}))},t.prototype.generatePoints=function(){e.prototype.generatePoints.call(this),this.updateTotals()},t.prototype.getX=function(e,t,n){var r=this.center,i=this.radii?this.radii[n.index]||0:r[2]/2;return e=Math.asin(h((e-r[1])/(i+n.labelDistance),-1,1)),r[0]+(t?-1:1)*Math.cos(e)*(i+n.labelDistance)+(0<n.labelDistance?(t?-1:1)*this.options.dataLabels.padding:0)},t.prototype.hasData=function(){return!!this.processedXData.length},t.prototype.redrawPoints=function(){var e,t,n,r,i=this,o=i.chart,s=o.renderer,a=i.options.shadow;this.drawEmpty(),!a||i.shadowGroup||o.styledMode||(i.shadowGroup=s.g("shadow").attr({zIndex:-1}).add(i.group)),i.points.forEach((function(l){var c={};if(t=l.graphic,!l.isNull&&t){var u=void 0;r=l.shapeArgs,e=l.getTranslate(),o.styledMode||(u=l.shadowGroup,a&&!u&&(u=l.shadowGroup=s.g("shadow").add(i.shadowGroup)),u&&u.attr(e),n=i.pointAttribs(l,l.selected&&"select")),l.delayedRendering?(t.setRadialReference(i.center).attr(r).attr(e),o.styledMode||t.attr(n).attr({"stroke-linejoin":"round"}).shadow(a,u),l.delayedRendering=!1):(t.setRadialReference(i.center),o.styledMode||f(!0,c,n),f(!0,c,r,e),t.animate(c)),t.attr({visibility:l.visible?"inherit":"hidden"}),t.addClass(l.getClassName(),!0)}else t&&(l.graphic=t.destroy())}))},t.prototype.sortByAngle=function(e,t){e.sort((function(e,n){return"undefined"!==typeof e.angle&&(n.angle-e.angle)*t}))},t.prototype.translate=function(e){this.generatePoints();var t=this.options,n=t.slicedOffset,r=n+(t.borderWidth||0),i=u(t.startAngle,t.endAngle),o=this.startAngleRad=i.start;i=(this.endAngleRad=i.end)-o;var s=this.points,a=t.dataLabels.distance;t=t.ignoreHiddenPoint;var l,c=s.length,h=0;for(e||(this.center=e=this.getCenter()),l=0;l<c;l++){var p=s[l],f=o+h*i;!p.isValid()||t&&!p.visible||(h+=p.percentage/100);var g=o+h*i,v={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*f)/1e3,end:Math.round(1e3*g)/1e3};p.shapeType="arc",p.shapeArgs=v,p.labelDistance=m(p.options.dataLabels&&p.options.dataLabels.distance,a),p.labelDistance=y(p.labelDistance,v.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,p.labelDistance),g=(g+f)/2,g>1.5*Math.PI?g-=2*Math.PI:g<-Math.PI/2&&(g+=2*Math.PI),p.slicedTranslation={translateX:Math.round(Math.cos(g)*n),translateY:Math.round(Math.sin(g)*n)},v=Math.cos(g)*e[2]/2;var b=Math.sin(g)*e[2]/2;p.tooltipPos=[e[0]+.7*v,e[1]+.7*b],p.half=g<-Math.PI/2||g>Math.PI/2?1:0,p.angle=g,f=Math.min(r,p.labelDistance/5),p.labelPosition={natural:{x:e[0]+v+Math.cos(g)*p.labelDistance,y:e[1]+b+Math.sin(g)*p.labelDistance},final:{},alignment:0>p.labelDistance?"center":p.half?"right":"left",connectorPosition:{breakAt:{x:e[0]+v+Math.cos(g)*f,y:e[1]+b+Math.sin(g)*f},touchingSliceAt:{x:e[0]+v,y:e[1]+b}}}}d(this,"afterTranslate")},t.prototype.updateTotals=function(){var e,t=this.points,n=t.length,r=this.options.ignoreHiddenPoint,i=0;for(e=0;e<n;e++){var o=t[e];!o.isValid()||r&&!o.visible||(i+=o.y)}for(this.total=i,e=0;e<n;e++)o=t[e],o.percentage=0<i&&(o.visible||!r)?o.y/i*100:0,o.total=i},t.defaultOptions=f(o.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),t}(o),p(l.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:r.drawRectangle,drawTracker:t.prototype.drawTracker,getCenter:e.getCenter,getSymbol:n,isCartesian:!1,noSharedTooltip:!0,pointAttribs:t.prototype.pointAttribs,pointClass:i,requireSorting:!1,searchPoint:n,trackerGroups:["group","dataLabelsGroup"]}),s.registerSeriesType("pie",l),l})),t(n,"Series/Pie/PieDataLabel.js",[n["Core/Series/DataLabel.js"],n["Core/Globals.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(e,t,n,r,i){var o,s=t.noop,a=n.distribute,l=r.series,c=i.arrayMax,u=i.clamp,h=i.defined,p=i.merge,d=i.pick,f=i.relativeLength;return function(t){function n(){var e,t,n,r,i,o,s,u,f,m,y,g,v=this,b=v.data,w=v.chart,_=v.options.dataLabels||{},x=_.connectorPadding,S=w.plotWidth,T=w.plotHeight,E=w.plotLeft,M=Math.round(w.chartWidth/3),A=v.center,I=A[2]/2,C=A[1],O=[[],[]],k=[0,0,0,0],R=v.dataLabelPositioners;v.visible&&(_.enabled||v._hasPointLabels)&&(b.forEach((function(e){e.dataLabel&&e.visible&&e.dataLabel.shortened&&(e.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),e.dataLabel.shortened=!1)})),l.prototype.drawDataLabels.apply(v),b.forEach((function(e){e.dataLabel&&(e.visible?(O[e.half].push(e),e.dataLabel._pos=null,!h(_.style.width)&&!h(e.options.dataLabels&&e.options.dataLabels.style&&e.options.dataLabels.style.width)&&e.dataLabel.getBBox().width>M&&(e.dataLabel.css({width:Math.round(.7*M)+"px"}),e.dataLabel.shortened=!0)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&1===e.dataLabels.length&&delete e.dataLabels))})),O.forEach((function(t,n){var l,c=t.length,p=[];if(c){if(v.sortByAngle(t,n-.5),0<v.maxLabelDistance){var b=Math.max(0,C-I-v.maxLabelDistance),M=Math.min(C+I+v.maxLabelDistance,w.plotHeight);t.forEach((function(e){0<e.labelDistance&&e.dataLabel&&(e.top=Math.max(0,C-I-e.labelDistance),e.bottom=Math.min(C+I+e.labelDistance,w.plotHeight),l=e.dataLabel.getBBox().height||21,e.distributeBox={target:e.labelPosition.natural.y-e.top+l/2,size:l,rank:e.y},p.push(e.distributeBox))})),b=M+l-b,a(p,b,b/5)}for(y=0;y<c;y++){if(e=t[y],o=e.labelPosition,r=e.dataLabel,m=!1===e.visible?"hidden":"inherit",f=b=o.natural.y,p&&h(e.distributeBox)&&("undefined"===typeof e.distributeBox.pos?m="hidden":(s=e.distributeBox.size,f=R.radialDistributionY(e))),delete e.positionIndex,_.justify)u=R.justify(e,I,A);else switch(_.alignTo){case"connectors":u=R.alignToConnectors(t,n,S,E);break;case"plotEdges":u=R.alignToPlotEdges(r,n,S,E);break;default:u=R.radialDistributionX(v,e,f,b)}r._attr={visibility:m,align:o.alignment},g=e.options.dataLabels||{},r._pos={x:u+d(g.x,_.x)+({left:x,right:-x}[o.alignment]||0),y:f+d(g.y,_.y)-10},o.final.x=u,o.final.y=f,d(_.crop,!0)&&(i=r.getBBox().width,b=null,u-i<x&&1===n?(b=Math.round(i-u+x),k[3]=Math.max(b,k[3])):u+i>S-x&&0===n&&(b=Math.round(u+i-S+x),k[1]=Math.max(b,k[1])),0>f-s/2?k[0]=Math.max(Math.round(s/2-f),k[0]):f+s/2>T&&(k[2]=Math.max(Math.round(f+s/2-T),k[2])),r.sideOverflow=b)}}})),0===c(k)||this.verifyDataLabelOverflow(k))&&(this.placeDataLabels(),this.points.forEach((function(e){var i;(g=p(_,e.options.dataLabels),t=d(g.connectorWidth,1))&&(n=e.connector,(r=e.dataLabel)&&r._pos&&e.visible&&0<e.labelDistance?(m=r._attr.visibility,(i=!n)&&(e.connector=n=w.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(v.dataLabelsGroup),w.styledMode||n.attr({"stroke-width":t,stroke:g.connectorColor||e.color||"#666666"})),n[i?"attr":"animate"]({d:e.getConnectorPath()}),n.attr("visibility",m)):n&&(e.connector=n.destroy()))})))}function r(){this.points.forEach((function(e){var t,n=e.dataLabel;n&&e.visible&&((t=n._pos)?(n.sideOverflow&&(n._attr.width=Math.max(n.getBBox().width-n.sideOverflow,0),n.css({width:n._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),n.shortened=!0),n.attr(n._attr),n[n.moved?"animate":"attr"](t),n.moved=!0):n&&n.attr({y:-9999})),delete e.distributeBox}),this)}function i(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,o=null!==n.size;if(!o){if(null!==r[0])var s=Math.max(t[2]-Math.max(e[1],e[3]),i);else s=Math.max(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2;null!==r[1]?s=u(s,i,t[2]-Math.max(e[0],e[2])):(s=u(s,i,t[2]-e[0]-e[2]),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,t[3]=Math.min(f(n.innerSize||0,s),s),this.translate(t),this.drawDataLabels&&this.drawDataLabels()):o=!0}return o}var o=[],m={radialDistributionY:function(e){return e.top+e.distributeBox.pos},radialDistributionX:function(e,t,n,r){return e.getX(n<t.top+2||n>t.bottom-2?r:n,t.half,t)},justify:function(e,t,n){return n[0]+(e.half?-1:1)*(t+e.labelDistance)},alignToPlotEdges:function(e,t,n,r){return e=e.getBBox().width,t?e+r:n-e-r},alignToConnectors:function(e,t,n,r){var i,o=0;return e.forEach((function(e){i=e.dataLabel.getBBox().width,i>o&&(o=i)})),t?o+r:n-o-r}};t.compose=function(t){e.compose(l),-1===o.indexOf(t)&&(o.push(t),t=t.prototype,t.dataLabelPositioners=m,t.alignDataLabel=s,t.drawDataLabels=n,t.placeDataLabels=r,t.verifyDataLabelOverflow=i)}}(o||(o={})),o})),t(n,"Extensions/OverlappingDataLabels.js",[n["Core/Chart/Chart.js"],n["Core/Utilities.js"]],(function(e,t){function n(e,t){var n=!1;if(e){var r=e.newOpacity;e.oldOpacity!==r&&(e.alignAttr&&e.placed?(e[r?"removeClass":"addClass"]("highcharts-data-label-hidden"),n=!0,e.alignAttr.opacity=r,e[e.isOld?"animate":"attr"](e.alignAttr,null,(function(){t.styledMode||e.css({pointerEvents:r?"auto":"none"})})),i(t,"afterHideOverlappingLabel")):e.attr({opacity:r})),e.isOld=!0}return n}var r=t.addEvent,i=t.fireEvent,o=t.isArray,s=t.isNumber,a=t.objectEach,l=t.pick;r(e,"render",(function(){var e=this,t=[];(this.labelCollectors||[]).forEach((function(e){t=t.concat(e())})),(this.yAxis||[]).forEach((function(e){e.stacking&&e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&a(e.stacking.stacks,(function(e){a(e,(function(e){e.label&&"hidden"!==e.label.visibility&&t.push(e.label)}))}))})),(this.series||[]).forEach((function(r){var i=r.options.dataLabels;r.visible&&(!1!==i.enabled||r._hasPointLabels)&&(i=function(r){return r.forEach((function(r){r.visible&&(o(r.dataLabels)?r.dataLabels:r.dataLabel?[r.dataLabel]:[]).forEach((function(i){var o=i.options;i.labelrank=l(o.labelrank,r.labelrank,r.shapeArgs&&r.shapeArgs.height),o.allowOverlap?(i.oldOpacity=i.opacity,i.newOpacity=1,n(i,e)):t.push(i)}))}))},i(r.nodes||[]),i(r.points))})),this.hideOverlappingLabels(t)})),e.prototype.hideOverlappingLabels=function(e){var t,r,o,a=this,l=e.length,c=a.renderer,u=!1,h=function(e){var t,n,r=e.box?0:e.padding||0,i=t=0;if(e&&(!e.alignAttr||e.placed)){var o=e.alignAttr||{x:e.attr("x"),y:e.attr("y")},a=e.parentGroup;e.width||(t=e.getBBox(),e.width=t.width,e.height=t.height,t=c.fontMetrics(null,e.element).h);var l=e.width-2*r;return(n={left:"0",center:"0.5",right:"1"}[e.alignValue])?i=+n*l:s(e.x)&&Math.round(e.x)!==e.translateX&&(i=e.x-e.translateX),{x:o.x+(a.translateX||0)+r-(i||0),y:o.y+(a.translateY||0)+r-t,width:e.width-2*r,height:e.height-2*r}}};for(r=0;r<l;r++)(t=e[r])&&(t.oldOpacity=t.opacity,t.newOpacity=1,t.absoluteBox=h(t));for(e.sort((function(e,t){return(t.labelrank||0)-(e.labelrank||0)})),r=0;r<l;r++){var p=(h=e[r])&&h.absoluteBox;for(t=r+1;t<l;++t){var d=(o=e[t])&&o.absoluteBox;!p||!d||h===o||0===h.newOpacity||0===o.newOpacity||d.x>=p.x+p.width||d.x+d.width<=p.x||d.y>=p.y+p.height||d.y+d.height<=p.y||((h.labelrank<o.labelrank?h:o).newOpacity=0)}}e.forEach((function(e){n(e,a)&&(u=!0)})),u&&i(a,"afterHideAllOverlappingLabels")}})),t(n,"Core/Responsive.js",[n["Core/Utilities.js"]],(function(e){var t,n=e.extend,r=e.find,i=e.isArray,o=e.isObject,s=e.merge,a=e.objectEach,l=e.pick,c=e.splat,u=e.uniqueKey;return function(e){var t=[];e.compose=function(e){return-1===t.indexOf(e)&&(t.push(e),n(e.prototype,h.prototype)),e};var h=function(){function e(){}return e.prototype.currentOptions=function(e){function t(e,r,s,l){var u;a(e,(function(e,a){if(!l&&-1<n.collectionsWithUpdate.indexOf(a)&&r[a])for(e=c(e),s[a]=[],u=0;u<Math.max(e.length,r[a].length);u++)r[a][u]&&(void 0===e[u]?s[a][u]=r[a][u]:(s[a][u]={},t(e[u],r[a][u],s[a][u],l+1)));else o(e)?(s[a]=i(e)?[]:{},t(e,r[a]||{},s[a],l+1)):s[a]="undefined"===typeof r[a]?null:r[a]}))}var n=this,r={};return t(e,this.options,r,0),r},e.prototype.matchResponsiveRule=function(e,t){var n=e.condition;(n.callback||function(){return this.chartWidth<=l(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=l(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=l(n.minWidth,0)&&this.chartHeight>=l(n.minHeight,0)}).call(this)&&t.push(e._id)},e.prototype.setResponsive=function(e,t){var n=this,i=this.options.responsive,o=this.currentResponsive,a=[];!t&&i&&i.rules&&i.rules.forEach((function(e){"undefined"===typeof e._id&&(e._id=u()),n.matchResponsiveRule(e,a)}),this),t=s.apply(void 0,a.map((function(e){return r((i||{}).rules||[],(function(t){return t._id===e}))})).map((function(e){return e&&e.chartOptions}))),t.isResponsiveOptions=!0,a=a.toString()||void 0,a!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e,!0),a?(o=this.currentOptions(t),o.isResponsiveOptions=!0,this.currentResponsive={ruleIds:a,mergedOptions:t,undoOptions:o},this.update(t,e,!0)):this.currentResponsive=void 0)},e}()}(t||(t={})),t})),t(n,"masters/highcharts.src.js",[n["Core/Globals.js"],n["Core/Utilities.js"],n["Core/DefaultOptions.js"],n["Core/Animation/Fx.js"],n["Core/Animation/AnimationUtilities.js"],n["Core/Renderer/HTML/AST.js"],n["Core/FormatUtilities.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Renderer/HTML/HTMLElement.js"],n["Core/Renderer/HTML/HTMLRenderer.js"],n["Core/Axis/Axis.js"],n["Core/Axis/DateTimeAxis.js"],n["Core/Axis/LogarithmicAxis.js"],n["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],n["Core/Axis/Tick.js"],n["Core/Tooltip.js"],n["Core/Series/Point.js"],n["Core/Pointer.js"],n["Core/MSPointer.js"],n["Core/Legend/Legend.js"],n["Core/Chart/Chart.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Series/Column/ColumnSeries.js"],n["Series/Column/ColumnDataLabel.js"],n["Series/Pie/PieSeries.js"],n["Series/Pie/PieDataLabel.js"],n["Core/Series/DataLabel.js"],n["Core/Responsive.js"],n["Core/Color/Color.js"],n["Core/Time.js"]],(function(e,t,n,r,i,o,s,a,l,c,u,h,p,d,f,m,y,g,v,b,w,_,x,S,T,E,M,A,I,C,O,k,R){return e.animate=i.animate,e.animObject=i.animObject,e.getDeferredAnimation=i.getDeferredAnimation,e.setAnimation=i.setAnimation,e.stop=i.stop,e.timers=r.timers,e.AST=o,e.Axis=p,e.Chart=x,e.chart=x.chart,e.Fx=r,e.Legend=_,e.PlotLineOrBand=m,e.Point=v,e.Pointer=w.isRequired()?w:b,e.Series=S,e.SVGElement=l,e.SVGRenderer=c,e.Tick=y,e.Time=R,e.Tooltip=g,e.Color=k,e.color=k.parse,h.compose(c),u.compose(l),e.defaultOptions=n.defaultOptions,e.getOptions=n.getOptions,e.time=n.defaultTime,e.setOptions=n.setOptions,e.dateFormat=s.dateFormat,e.format=s.format,e.numberFormat=s.numberFormat,e.addEvent=t.addEvent,e.arrayMax=t.arrayMax,e.arrayMin=t.arrayMin,e.attr=t.attr,e.clearTimeout=t.clearTimeout,e.correctFloat=t.correctFloat,e.createElement=t.createElement,e.css=t.css,e.defined=t.defined,e.destroyObjectProperties=t.destroyObjectProperties,e.discardElement=t.discardElement,e.distribute=a.distribute,e.erase=t.erase,e.error=t.error,e.extend=t.extend,e.extendClass=t.extendClass,e.find=t.find,e.fireEvent=t.fireEvent,e.getMagnitude=t.getMagnitude,e.getStyle=t.getStyle,e.inArray=t.inArray,e.isArray=t.isArray,e.isClass=t.isClass,e.isDOMElement=t.isDOMElement,e.isFunction=t.isFunction,e.isNumber=t.isNumber,e.isObject=t.isObject,e.isString=t.isString,e.keys=t.keys,e.merge=t.merge,e.normalizeTickInterval=t.normalizeTickInterval,e.objectEach=t.objectEach,e.offset=t.offset,e.pad=t.pad,e.pick=t.pick,e.pInt=t.pInt,e.relativeLength=t.relativeLength,e.removeEvent=t.removeEvent,e.seriesType=T.seriesType,e.splat=t.splat,e.stableSort=t.stableSort,e.syncTimeout=t.syncTimeout,e.timeUnits=t.timeUnits,e.uniqueKey=t.uniqueKey,e.useSerialIds=t.useSerialIds,e.wrap=t.wrap,M.compose(E),C.compose(S),d.compose(p),f.compose(p),I.compose(A),m.compose(p),O.compose(x),e})),n["masters/highcharts.src.js"]._modules=n,n["masters/highcharts.src.js"]}))},48364:function(e,t,n){"use strict";var r,i;(function(o){e.exports?(o["default"]=o,e.exports=o):(r=[n(14783)],i=function(e){return o(e),o.Highcharts=e,o}.apply(t,r),void 0===i||(e.exports=i))})((function(e){function t(e,t,n,r){e.hasOwnProperty(t)||(e[t]=r.apply(null,n))}e=e?e._modules:{},t(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(e,t){var n=e.doc,r=t.createElement,i=t.discardElement,o=t.merge,s=t.objectEach,a={ajax:function(e){var t=o(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},e);e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var n=new XMLHttpRequest;if(!t.url)return!1;n.open(t.type.toUpperCase(),t.url,!0),t.headers["Content-Type"]||n.setRequestHeader("Content-Type",e[t.dataType]||e.text),s(t.headers,(function(e,t){n.setRequestHeader(t,e)})),n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status){var e=n.responseText;if("json"===t.dataType)try{e=JSON.parse(e)}catch(r){return void(t.error&&t.error(n,r))}return t.success&&t.success(e)}t.error&&t.error(n,n.responseText)}};try{t.data=JSON.stringify(t.data)}catch(r){}n.send(t.data||!0)},getJSON:function(e,t){a.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(e,t,a){var l=r("form",o({method:"post",action:e,enctype:"multipart/form-data"},a),{display:"none"},n.body);s(t,(function(e,t){r("input",{type:"hidden",name:t,value:e},null,l)})),l.submit(),i(l)}};return a})),t(e,"Extensions/Data.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(e,t,n,r,i,o){var s=t.doc,a=n.ajax,l=i.seriesTypes;n=o.addEvent;var c=o.defined,u=o.extend,h=o.fireEvent,p=o.isNumber,d=o.merge,f=o.objectEach,m=o.pick,y=o.splat;o=function(){function e(e,t,n){this.options=this.rawColumns=this.firstRowAsNames=this.chartOptions=this.chart=void 0,this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(e){return e?Date.UTC(+e[1],e[2]-1,+e[3]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[2]-1,+e[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[1]-1,+e[2]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){if(!e)return NaN;var t=+e[3];return t=t>(new Date).getFullYear()-2e3?t+1900:t+2e3,Date.UTC(t,e[2]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){return e?Date.UTC(+e[3]+2e3,e[1]-1,+e[2]):NaN}}},this.init(e,t,n)}return e.prototype.init=function(e,t,n){var r=e.decimalPoint;if(t&&(this.chartOptions=t),n&&(this.chart=n),"."!==r&&","!==r&&(r=void 0),this.options=e,this.columns=e.columns||this.rowsToColumns(e.rows)||[],this.firstRowAsNames=m(e.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=r&&new RegExp("^(-?[0-9]+)"+r+"([0-9]+)$"),this.rawColumns=[],this.columns.length){this.dataFound();var i=!0}this.hasURLOption(e)&&(clearTimeout(this.liveDataTimeout),i=!1),i||(i=this.fetchLiveData()),i||(i=!!this.parseCSV().length),i||(i=!!this.parseTable().length),i||(i=this.parseGoogleSpreadsheet()),!i&&e.afterComplete&&e.afterComplete()},e.prototype.hasURLOption=function(e){return!(!e||!(e.rowsURL||e.csvURL||e.columnsURL))},e.prototype.getColumnDistribution=function(){var e,t=this.chartOptions,n=this.options,r=[],i=function(e){return(l[e||"line"].prototype.pointArrayMap||[0]).length},o=t&&t.chart&&t.chart.type,s=[],a=[],u=0;n=n&&n.seriesMapping||t&&t.series&&t.series.map((function(){return{x:0}}))||[],(t&&t.series||[]).forEach((function(e){s.push(i(e.type||o))})),n.forEach((function(e){r.push(e.x||0)})),0===r.length&&r.push(0),n.forEach((function(n){var r=new g,h=s[u]||i(o),p=(t&&t.series||[])[u]||{},d=l[p.type||o||"line"].prototype.pointArrayMap,m=d||["y"];for((c(n.x)||p.isCartesian||!d)&&r.addColumnReader(n.x,"x"),f(n,(function(e,t){"x"!==t&&r.addColumnReader(e,t)})),e=0;e<h;e++)r.hasReader(m[e])||r.addColumnReader(void 0,m[e]);a.push(r),u++})),n=l[o||"line"].prototype.pointArrayMap,"undefined"===typeof n&&(n=["y"]),this.valueCount={global:i(o),xColumns:r,individual:s,seriesBuilders:a,globalPointArrayMap:n}},e.prototype.dataFound=function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()},e.prototype.parseCSV=function(e){function t(e,t,n,r){function i(t){u=e[t],h=e[t-1],d=e[t+1]}function o(e){p.length<v+1&&p.push([e]),p[v][p[v].length-1]!==e&&p[v].push(e)}function s(){l>g||g>c?(++g,y=""):(!isNaN(parseFloat(y))&&isFinite(y)?(y=parseFloat(y),o("number")):isNaN(Date.parse(y))?o("string"):(y=y.replace(/\//g,"-"),o("date")),f.length<v+1&&f.push([]),n||(f[v][t]=y),y="",++v,++g)}var a=0,u="",h="",d="",y="",g=0,v=0;if(e.trim().length&&"#"!==e.trim()[0]){for(;a<e.length;a++)if(i(a),'"'===u)for(i(++a);a<e.length&&('"'!==u||'"'===h||'"'===d);)('"'!==u||'"'===u&&'"'!==h)&&(y+=u),i(++a);else r&&r[u]?r[u](u,y)&&s():u===m?s():y+=u;s()}}function n(e){var t=0,n=0,r=!1;return e.some((function(e,r){var i=!1,o="";if(13<r)return!0;for(var s=0;s<e.length;s++){r=e[s];var a=e[s+1],l=e[s-1];if("#"===r)break;if('"'===r)if(i){if('"'!==l&&'"'!==a){for(;" "===a&&s<e.length;)a=e[++s];"undefined"!==typeof d[a]&&d[a]++,i=!1}}else i=!0;else"undefined"!==typeof d[r]?(o=o.trim(),isNaN(Date.parse(o))&&!isNaN(o)&&isFinite(o)||d[r]++,o=""):o+=r;","===r&&n++,"."===r&&t++}})),r=d[";"]>d[","]?";":",",o.decimalPoint||(o.decimalPoint=t>n?".":",",i.decimalRegex=new RegExp("^(-?[0-9]+)"+o.decimalPoint+"([0-9]+)$")),r}function r(e,t){var n,r=[],s=0,a=!1,l=[],c=[];for((!t||t>e.length)&&(t=e.length);s<t;s++)if("undefined"!==typeof e[s]&&e[s]&&e[s].length){var u=e[s].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" ");for(r=["","",""],n=0;n<u.length;n++)n<r.length&&(u[n]=parseInt(u[n],10),u[n]&&(c[n]=!c[n]||c[n]<u[n]?u[n]:c[n],"undefined"!==typeof l[n]?l[n]!==u[n]&&(l[n]=!1):l[n]=u[n],31<u[n]?r[n]=100>u[n]?"YY":"YYYY":12<u[n]&&31>=u[n]?(r[n]="dd",a=!0):r[n].length||(r[n]="mm")))}if(a){for(n=0;n<l.length;n++)!1!==l[n]?12<c[n]&&"YY"!==r[n]&&"YYYY"!==r[n]&&(r[n]="YY"):12<c[n]&&"mm"===r[n]&&(r[n]="dd");return 3===r.length&&"dd"===r[1]&&"dd"===r[2]&&(r[2]="YY"),e=r.join("/"),(o.dateFormats||i.dateFormats)[e]?e:(h("deduceDateFailed"),"YYYY/mm/dd")}return"YYYY/mm/dd"}var i=this,o=e||this.options,s=o.csv;e="undefined"!==typeof o.startRow&&o.startRow?o.startRow:0;var a=o.endRow||Number.MAX_VALUE,l="undefined"!==typeof o.startColumn&&o.startColumn?o.startColumn:0,c=o.endColumn||Number.MAX_VALUE,u=0,p=[],d={",":0,";":0,"\t":0},f=this.columns=[];if(s&&o.beforeParse&&(s=o.beforeParse.call(this,s)),s){if(s=s.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(o.lineDelimiter||"\n"),(!e||0>e)&&(e=0),(!a||a>=s.length)&&(a=s.length-1),o.itemDelimiter)var m=o.itemDelimiter;else m=null,m=n(s);var y=0;for(u=e;u<=a;u++)"#"===s[u][0]?y++:t(s[u],u-e-y);o.columnTypes&&0!==o.columnTypes.length||!p.length||!p[0].length||"date"!==p[0][1]||o.dateFormat||(o.dateFormat=r(f[0])),this.dataFound()}return f},e.prototype.parseTable=function(){var e=this.options,t=e.table,n=this.columns||[],r=e.startRow||0,i=e.endRow||Number.MAX_VALUE,o=e.startColumn||0,a=e.endColumn||Number.MAX_VALUE;return t&&("string"===typeof t&&(t=s.getElementById(t)),[].forEach.call(t.getElementsByTagName("tr"),(function(e,t){t>=r&&t<=i&&[].forEach.call(e.children,(function(e,i){var s=n[i-o],l=1;if(("TD"===e.tagName||"TH"===e.tagName)&&i>=o&&i<=a)for(n[i-o]||(n[i-o]=[]),n[i-o][t-r]=e.innerHTML;t-r>=l&&void 0===s[t-r-l];)s[t-r-l]=null,l++}))})),this.dataFound()),n},e.prototype.fetchLiveData=function(){function e(c){function u(l,u,h){function p(){o&&n.liveDataURL===l&&(t.liveDataTimeout=setTimeout(e,s))}return l&&/^(http|\/|\.\/|\.\.\/)/.test(l)?(c&&(clearTimeout(t.liveDataTimeout),n.liveDataURL=l),a({url:l,dataType:h||"json",success:function(e){n&&n.series&&u(e),p()},error:function(e,t){return 3>++i&&p(),r.error&&r.error(t,e)}}),!0):(l&&r.error&&r.error("Invalid URL"),!1)}u(l.csvURL,(function(e){n.update({data:{csv:e}})}),"text")||u(l.rowsURL,(function(e){n.update({data:{rows:e}})}))||u(l.columnsURL,(function(e){n.update({data:{columns:e}})}))}var t=this,n=this.chart,r=this.options,i=0,o=r.enablePolling,s=1e3*(r.dataRefreshRate||2),l=d(r);return!!this.hasURLOption(r)&&(1e3>s&&(s=1e3),delete r.csvURL,delete r.rowsURL,delete r.columnsURL,e(!0),this.hasURLOption(r))},e.prototype.parseGoogleSpreadsheet=function(){function e(t){var i=["https://sheets.googleapis.com/v4/spreadsheets",r,"values",s(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+n.googleAPIKey].join("/");a({url:i,dataType:"json",success:function(r){t(r),n.enablePolling&&setTimeout((function(){e(t)}),o)},error:function(e,t){return n.error&&n.error(t,e)}})}var t=this,n=this.options,r=n.googleSpreadsheetKey,i=this.chart,o=Math.max(1e3*(n.dataRefreshRate||2),4e3),s=function(){if(n.googleSpreadsheetRange)return n.googleSpreadsheetRange;var e=("ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(n.startColumn||0)||"A")+((n.startRow||0)+1),t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m(n.endColumn,-1))||"ZZ";return c(n.endRow)&&(t+=n.endRow+1),e+":"+t};return r&&(delete n.googleSpreadsheetKey,e((function(e){if(e=e.values,!e||0===e.length)return!1;var n=e.reduce((function(e,t){return Math.max(e,t.length)}),0);e.forEach((function(e){for(var t=0;t<n;t++)"undefined"===typeof e[t]&&(e[t]=null)})),i&&i.series?i.update({data:{columns:e}}):(t.columns=e,t.dataFound())}))),!1},e.prototype.trim=function(e,t){return"string"===typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/^[0-9\s]+$/.test(e)&&(e=e.replace(/\s/g,"")),this.decimalRegex&&(e=e.replace(this.decimalRegex,"$1.$2"))),e},e.prototype.parseTypes=function(){for(var e=this.columns,t=e.length;t--;)this.parseColumn(e[t],t)},e.prototype.parseColumn=function(e,t){var n,r,i=this.rawColumns,o=this.columns,s=e.length,a=this.firstRowAsNames,l=-1!==this.valueCount.xColumns.indexOf(t),c=[],u=this.chartOptions,h=(this.options.columnTypes||[])[t];for(u=l&&(u&&u.xAxis&&"category"===y(u.xAxis)[0].type||"string"===h),i[t]||(i[t]=[]);s--;){var d=c[s]||e[s],f=this.trim(d),m=this.trim(d,!0),g=parseFloat(m);"undefined"===typeof i[t][s]&&(i[t][s]=f),u||0===s&&a?e[s]=""+f:+m===g?(e[s]=g,31536e6<g&&"float"!==h?e.isDatetime=!0:e.isNumeric=!0,"undefined"!==typeof e[s+1]&&(r=g>e[s+1])):(f&&f.length&&(n=this.parseDate(d)),l&&p(n)&&"float"!==h?(c[s]=d,e[s]=n,e.isDatetime=!0,"undefined"!==typeof e[s+1]&&(d=n>e[s+1],d!==r&&"undefined"!==typeof r&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,s=e.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):e.unsorted=!0),r=d)):(e[s]=""===f?null:f,0!==s&&(e.isDatetime||e.isNumeric)&&(e.mixed=!0)))}if(l&&e.mixed&&(o[t]=i[t]),l&&r&&this.options.sort)for(t=0;t<o.length;t++)o[t].reverse(),a&&o[t].unshift(o[t].pop())},e.prototype.parseDate=function(e){var t,n,r=this.options.parseDate,i=this.options.dateFormat||this.dateFormat;if(r)var o=r(e);else if("string"===typeof e){if(i)(r=this.dateFormats[i])||(r=this.dateFormats["YYYY/mm/dd"]),(n=e.match(r.regex))&&(o=r.parser(n));else for(t in this.dateFormats)if(r=this.dateFormats[t],n=e.match(r.regex)){this.dateFormat=t,this.alternativeFormat=r.alternative,o=r.parser(n);break}n||(e.match(/:.+(GMT|UTC|[Z+-])/)&&(e=e.replace(/\s*(?:GMT|UTC)?([+-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),n=Date.parse(e),"object"===typeof n&&null!==n&&n.getTime?o=n.getTime()-6e4*n.getTimezoneOffset():p(n)&&(o=n-6e4*new Date(n).getTimezoneOffset()))}return o},e.prototype.rowsToColumns=function(e){var t,n;if(e){var r=[],i=e.length;for(t=0;t<i;t++){var o=e[t].length;for(n=0;n<o;n++)r[n]||(r[n]=[]),r[n][t]=e[t][n]}}return r},e.prototype.getData=function(){if(this.columns)return this.rowsToColumns(this.columns).slice(1)},e.prototype.parsed=function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},e.prototype.getFreeIndexes=function(e,t){var n,r=[],i=[];for(n=0;n<e;n+=1)r.push(!0);for(e=0;e<t.length;e+=1){var o=t[e].getReferencedColumnIndexes();for(n=0;n<o.length;n+=1)r[o[n]]=!1}for(n=0;n<r.length;n+=1)r[n]&&i.push(n);return i},e.prototype.complete=function(){var e,t,n,r=this.columns,i=this.options,o=[];if(i.complete||i.afterComplete){if(this.firstRowAsNames)for(t=0;t<r.length;t++){var s=r[t];c(s.name)||(s.name=m(s.shift(),"").toString())}s=[];var a=this.getFreeIndexes(r.length,this.valueCount.seriesBuilders);for(t=0;t<this.valueCount.seriesBuilders.length;t++){var l=this.valueCount.seriesBuilders[t];l.populateColumns(a)&&o.push(l)}for(;0<a.length;){for(l=new g,l.addColumnReader(0,"x"),t=a.indexOf(0),-1!==t&&a.splice(t,1),t=0;t<this.valueCount.global;t++)l.addColumnReader(void 0,this.valueCount.globalPointArrayMap[t]);l.populateColumns(a)&&o.push(l)}if(0<o.length&&0<o[0].readers.length&&(l=r[o[0].readers[0].columnIndex],"undefined"!==typeof l&&(l.isDatetime?e="datetime":l.isNumeric||(e="category"))),"category"===e)for(t=0;t<o.length;t++)for(l=o[t],a=0;a<l.readers.length;a++)"x"===l.readers[a].configName&&(l.readers[a].configName="name");for(t=0;t<o.length;t++){for(l=o[t],a=[],n=0;n<r[0].length;n++)a[n]=l.read(r,n);s[t]={data:a},l.name&&(s[t].name=l.name),"category"===e&&(s[t].turboThreshold=0)}r={series:s},e&&(r.xAxis={type:e},"category"===e&&(r.xAxis.uniqueNames=!1)),i.complete&&i.complete(r),i.afterComplete&&i.afterComplete(r)}},e.prototype.update=function(e,t){var n=this.chart;e&&(e.afterComplete=function(e){e&&(e.xAxis&&n.xAxis[0]&&e.xAxis.type===n.xAxis[0].options.type&&delete e.xAxis,n.update(e,t,!0))},d(!0,n.options.data,e),this.init(n.options.data))},e}(),t.data=function(e,n,r){return new t.Data(e,n,r)},n(e,"init",(function(e){var n=this,r=e.args[0]||{},i=e.args[1];r&&r.data&&!n.hasDataDef&&(n.hasDataDef=!0,n.data=new t.Data(u(r.data,{afterComplete:function(e){var t;if(Object.hasOwnProperty.call(r,"series"))if("object"===typeof r.series)for(t=Math.max(r.series.length,e&&e.series?e.series.length:0);t--;){var o=r.series[t]||{};r.series[t]=d(o,e&&e.series?e.series[t]:{})}else delete r.series;r=d(e,r),n.init(r,i)}}),r,n),e.preventDefault())}));var g=function(){function e(){this.readers=[],this.pointIsArray=!0,this.name=void 0}return e.prototype.populateColumns=function(e){var t=!0;return this.readers.forEach((function(t){"undefined"===typeof t.columnIndex&&(t.columnIndex=e.shift())})),this.readers.forEach((function(e){"undefined"===typeof e.columnIndex&&(t=!1)})),t},e.prototype.read=function(e,t){var n=this.pointIsArray,i=n?[]:{};if(this.readers.forEach((function(o){var s=e[o.columnIndex][t];n?i.push(s):0<o.configName.indexOf(".")?r.prototype.setNestedProperty(i,s,o.configName):i[o.configName]=s})),"undefined"===typeof this.name&&2<=this.readers.length){var o=this.getReferencedColumnIndexes();2<=o.length&&(o.shift(),o.sort((function(e,t){return e-t})),this.name=e[o.shift()].name)}return i},e.prototype.addColumnReader=function(e,t){this.readers.push({columnIndex:e,configName:t}),"x"!==t&&"y"!==t&&"undefined"!==typeof t&&(this.pointIsArray=!1)},e.prototype.getReferencedColumnIndexes=function(){var e,t=[];for(e=0;e<this.readers.length;e+=1){var n=this.readers[e];"undefined"!==typeof n.columnIndex&&t.push(n.columnIndex)}return t},e.prototype.hasReader=function(e){var t;for(t=0;t<this.readers.length;t+=1){var n=this.readers[t];if(n.configName===e)return!0}},e}();return t.Data=o,t.Data})),t(e,"masters/modules/data.src.js",[e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Extensions/Data.js"]],(function(e,t,n){e.ajax=t.ajax,e.getJSON=t.getJSON,e.post=t.post,e.Data=n,e.HttpUtilities=t}))}))},20535:function(e,t,n){"use strict";var r,i;(function(o){e.exports?(o["default"]=o,e.exports=o):(r=[n(14783),n(9264)],i=function(e){return o(e),o.Highcharts=e,o}.apply(t,r),void 0===i||(e.exports=i))})((function(e){function t(e,t,n,r){e.hasOwnProperty(t)||(e[t]=r.apply(null,n))}e=e?e._modules:{},t(e,"Extensions/DownloadURL.js",[e["Core/Globals.js"]],(function(e){var t=e.isSafari,n=e.win,r=n.document,i=n.URL||n.webkitURL||n,o=e.dataURLtoBlob=function(e){if((e=e.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<e.length&&n.atob&&n.ArrayBuffer&&n.Uint8Array&&n.Blob&&i.createObjectURL){var t=n.atob(e[3]),r=new n.ArrayBuffer(t.length);r=new n.Uint8Array(r);for(var o=0;o<r.length;++o)r[o]=t.charCodeAt(o);return e=new n.Blob([r],{type:e[1]}),i.createObjectURL(e)}};return e=e.downloadURL=function(e,i){var s=n.navigator,a=r.createElement("a");if("string"===typeof e||e instanceof String||!s.msSaveOrOpenBlob){if(e=""+e,s=/Edge\/\d+/.test(s.userAgent),(t&&"string"===typeof e&&0===e.indexOf("data:application/pdf")||s||2e6<e.length)&&(e=o(e)||"",!e))throw Error("Failed to convert to blob");if("undefined"!==typeof a.download)a.href=e,a.download=i,r.body.appendChild(a),a.click(),r.body.removeChild(a);else try{var l=n.open(e,"chart");if("undefined"===typeof l||null===l)throw Error("Failed to open window")}catch(c){n.location.href=e}}else s.msSaveOrOpenBlob(e,i)},{dataURLtoBlob:o,downloadURL:e}})),t(e,"Extensions/ExportData.js",[e["Core/Axis/Axis.js"],e["Core/Chart/Chart.js"],e["Core/Renderer/HTML/AST.js"],e["Core/Globals.js"],e["Core/DefaultOptions.js"],e["Core/Utilities.js"],e["Extensions/DownloadURL.js"]],(function(e,t,n,r,i,o,s){function a(e,t){var n=u.navigator,r=-1<n.userAgent.indexOf("WebKit")&&0>n.userAgent.indexOf("Chrome"),i=u.URL||u.webkitURL||u;try{if(n.msSaveOrOpenBlob&&u.MSBlobBuilder){var o=new u.MSBlobBuilder;return o.append(e),o.getBlob("image/svg+xml")}if(!r)return i.createObjectURL(new u.Blob(["\ufeff"+e],{type:t}))}catch(s){}}var l=r.doc,c=r.seriesTypes,u=r.win;r=i.getOptions,i=i.setOptions;var h=o.addEvent,p=o.defined,d=o.extend,f=o.find,m=o.fireEvent,y=o.isNumber,g=o.pick,v=s.downloadURL;i({exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:"\n"},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table"}}),h(t,"render",(function(){this.options&&this.options.exporting&&this.options.exporting.showTable&&!this.options.chart.forExport&&!this.dataTableDiv&&this.viewData()})),t.prototype.setUpKeyToAxis=function(){c.arearange&&(c.arearange.prototype.keyToAxis={low:"y",high:"y"}),c.gantt&&(c.gantt.prototype.keyToAxis={start:"x",end:"x"})},t.prototype.getDataRows=function(t){var n,r=this.hasParallelCoordinates,i=this.time,o=this.options.exporting&&this.options.exporting.csv||{},s=this.xAxis,a={},l=[],c=[],u=[],h=this.options.lang.exportData,d=h.categoryHeader,v=h.categoryDatetimeHeader,b=function(n,r,i){if(o.columnHeaderFormatter){var s=o.columnHeaderFormatter(n,r,i);if(!1!==s)return s}return n?n instanceof e?n.options.title&&n.options.title.text||(n.dateTime?v:d):t?{columnTitle:1<i?r:n.name,topLevelColumnTitle:n.name}:n.name+(1<i?" ("+r+")":""):d},w=function(e,t,n){var r={},i={};return t.forEach((function(t){var o=(e.keyToAxis&&e.keyToAxis[t]||t)+"Axis";o=y(n)?e.chart[o][n]:e[o],r[t]=o&&o.categories||[],i[t]=o&&o.dateTime})),{categoryMap:r,dateTimeValueAxisMap:i}},_=function(e,t){return e.data.filter((function(e){return"undefined"!==typeof e.y&&e.name})).length&&t&&!t.categories&&!e.keyToAxis?e.pointArrayMap&&e.pointArrayMap.filter((function(e){return"x"===e})).length?(e.pointArrayMap.unshift("x"),e.pointArrayMap):["x","y"]:e.pointArrayMap||["y"]},x=[],S=0;for(T in this.setUpKeyToAxis(),this.series.forEach((function(e){var l,h=e.xAxis,p=e.options.keys||_(e,h),d=p.length,m=!e.requireSorting&&{},y=s.indexOf(h),v=w(e,p);if(!1!==e.options.includeInDataExport&&!e.options.isInternal&&!1!==e.visible){for(f(x,(function(e){return e[0]===y}))||x.push([y,S]),l=0;l<d;)n=b(e,p[l],p.length),u.push(n.columnTitle||n),t&&c.push(n.topLevelColumnTitle||n),l++;var T={chart:e.chart,autoIncrement:e.autoIncrement,options:e.options,pointArrayMap:e.pointArrayMap};e.options.data.forEach((function(t,n){r&&(v=w(e,p,n));var s={series:T};e.pointClass.prototype.applyOptions.apply(s,[t]),t=s.x;var c=e.data[n]&&e.data[n].name;for(l=0,(!h||"name"===e.exportKey||!r&&h&&h.hasNames&&c)&&(t=c),m&&(m[t]&&(t+="|"+n),m[t]=!0),a[t]||(a[t]=[],a[t].xValues=[]),a[t].x=s.x,a[t].name=c,a[t].xValues[y]=s.x;l<d;)n=p[l],c=s[n],a[t][S+l]=g(v.categoryMap[n][c],v.dateTimeValueAxisMap[n]?i.dateFormat(o.dateFormat,c):null,c),l++})),S+=l}})),a)Object.hasOwnProperty.call(a,T)&&l.push(a[T]);var T=t?[c,u]:[u];for(S=x.length;S--;){var E=x[S][0],M=x[S][1],A=s[E];l.sort((function(e,t){return e.xValues[E]-t.xValues[E]})),h=b(A),T[0].splice(M,0,h),t&&T[1]&&T[1].splice(M,0,h),l.forEach((function(e){var t=e.name;A&&!p(t)&&(A.dateTime?(e.x instanceof Date&&(e.x=e.x.getTime()),t=i.dateFormat(o.dateFormat,e.x)):t=A.categories?g(A.names[e.x],A.categories[e.x],e.x):e.x),e.splice(M,0,t)}))}return T=T.concat(l),m(this,"exportData",{dataRows:T}),T},t.prototype.getCSV=function(e){var t="",n=this.getDataRows(),r=this.options.exporting.csv,i=g(r.decimalPoint,","!==r.itemDelimiter&&e?1.1.toLocaleString()[1]:"."),o=g(r.itemDelimiter,","===i?";":","),s=r.lineDelimiter;return n.forEach((function(e,r){for(var a,l=e.length;l--;)a=e[l],"string"===typeof a&&(a='"'+a+'"'),"number"===typeof a&&"."!==i&&(a=a.toString().replace(".",i)),e[l]=a;t+=e.join(o),r<n.length-1&&(t+=s)})),t},t.prototype.getTable=function(e){var t=function(e){if(!e.tagName||"#text"===e.tagName)return e.textContent||"";var n=e.attributes,r="<"+e.tagName;return n&&Object.keys(n).forEach((function(e){r+=" "+e+'="'+n[e]+'"'})),r+=">",r+=e.textContent||"",(e.children||[]).forEach((function(e){r+=t(e)})),r+="</"+e.tagName+">"};return e=this.getTableAST(e),t(e)},t.prototype.getTableAST=function(e){var t=0,n=[],r=this.options,i=e?1.1.toLocaleString()[1]:".",o=g(r.exporting.useMultiLevelHeaders,!0);e=this.getDataRows(o);var s=o?e.shift():null,a=e.shift(),l=function(e,t,n,r){var o=g(r,"");return t="text"+(t?" "+t:""),"number"===typeof o?(o=o.toString(),","===i&&(o=o.replace(".",i)),t="number"):r||(t="empty"),n=d({class:t},n),{tagName:e,attributes:n,textContent:o}};!1!==r.exporting.tableCaption&&n.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:g(r.exporting.tableCaption,r.title.text?r.title.text:"Chart")});for(var c=0,u=e.length;c<u;++c)e[c].length>t&&(t=e[c].length);n.push(function(e,t,n){var i=[],s=0;n=n||t&&t.length;var a,c=0;if(a=o&&e&&t){e:if(a=e.length,t.length===a){for(;a--;)if(e[a]!==t[a]){a=!1;break e}a=!0}else a=!1;a=!a}if(a){for(a=[];s<n;++s){var u=e[s],h=e[s+1];u===h?++c:c?(a.push(l("th","highcharts-table-topheading",{scope:"col",colspan:c+1},u)),c=0):(u===t[s]?r.exporting.useRowspanHeaders?(h=2,delete t[s]):(h=1,t[s]=""):h=1,u=l("th","highcharts-table-topheading",{scope:"col"},u),1<h&&u.attributes&&(u.attributes.valign="top",u.attributes.rowspan=h),a.push(u))}i.push({tagName:"tr",children:a})}if(t){for(a=[],s=0,n=t.length;s<n;++s)"undefined"!==typeof t[s]&&a.push(l("th",null,{scope:"col"},t[s]));i.push({tagName:"tr",children:a})}return{tagName:"thead",children:i}}(s,a,Math.max(t,a.length)));var h=[];return e.forEach((function(e){for(var n=[],r=0;r<t;r++)n.push(l(r?"td":"th",null,r?{}:{scope:"row"},e[r]));h.push({tagName:"tr",children:n})})),n.push({tagName:"tbody",children:h}),n={tree:{tagName:"table",id:"highcharts-data-table-"+this.index,children:n}},m(this,"aftergetTableAST",n),n.tree},t.prototype.downloadCSV=function(){var e=this.getCSV(!0);v(a(e,"text/csv")||"data:text/csv,\ufeff"+encodeURIComponent(e),this.getFilename()+".csv")},t.prototype.downloadXLS=function(){var e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";v(a(e,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+u.btoa(unescape(encodeURIComponent(e))),this.getFilename()+".xls")},t.prototype.viewData=function(){this.toggleDataTable(!0)},t.prototype.hideData=function(){this.toggleDataTable(!1)},t.prototype.toggleDataTable=function(e){(e=g(e,!this.isDataTableVisible))&&!this.dataTableDiv&&(this.dataTableDiv=l.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv&&(this.dataTableDiv.style.display=e?"block":"none",e&&(this.dataTableDiv.innerHTML=n.emptyHTML,new n([this.getTableAST()]).addToDOM(this.dataTableDiv),m(this,"afterViewData",this.dataTableDiv))),this.isDataTableVisible=e,e=this.exportDivElements;var t=this.options.exporting,r=t&&t.buttons&&t.buttons.contextButton.menuItems;t=this.options.lang,b&&b.menuItemDefinitions&&t&&t.viewData&&t.hideData&&r&&e&&(e=e[r.indexOf("viewData")])&&n.setElementHTML(e,this.isDataTableVisible?t.hideData:t.viewData)};var b=r().exporting;b&&(d(b.menuItemDefinitions,{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.toggleDataTable()}}}),b.buttons&&b.buttons.contextButton.menuItems.push("separator","downloadCSV","downloadXLS","viewData")),c.map&&(c.map.prototype.exportKey="name"),c.mapbubble&&(c.mapbubble.prototype.exportKey="name"),c.treemap&&(c.treemap.prototype.exportKey="name")})),t(e,"masters/modules/export-data.src.js",[],(function(){}))}))},9264:function(e,t,n){"use strict";var r,i;(function(o){e.exports?(o["default"]=o,e.exports=o):(r=[n(14783)],i=function(e){return o(e),o.Highcharts=e,o}.apply(t,r),void 0===i||(e.exports=i))})((function(e){function t(e,t,n,r){e.hasOwnProperty(t)||(e[t]=r.apply(null,n))}e=e?e._modules:{},t(e,"Extensions/FullScreen.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Renderer/HTML/AST.js"],e["Core/Utilities.js"]],(function(e,t,n,r){var i=r.addEvent;return r=function(){function e(e){this.chart=e,this.isOpen=!1,e=e.renderTo,this.browserProps||("function"===typeof e.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:e.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:e.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:e.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return e.prototype.close=function(){var e=this.chart,t=e.options.chart;this.isOpen&&this.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent()),e.setSize(this.origWidth,this.origHeight,!1),this.origHeight=this.origWidth=void 0,t.width=this.origWidthOption,t.height=this.origHeightOption,this.origHeightOption=this.origWidthOption=void 0,this.isOpen=!1,this.setButtonText()},e.prototype.open=function(){var e=this,t=e.chart,n=t.options.chart;if(n&&(e.origWidthOption=n.width,e.origHeightOption=n.height),e.origWidth=t.chartWidth,e.origHeight=t.chartHeight,e.browserProps){var r=i(t.container.ownerDocument,e.browserProps.fullscreenChange,(function(){e.isOpen?(e.isOpen=!1,e.close()):(t.setSize(null,null,!1),e.isOpen=!0,e.setButtonText())})),o=i(t,"destroy",r);e.unbindFullscreenEvent=function(){r(),o()},(n=t.renderTo[e.browserProps.requestFullscreen]())&&n["catch"]((function(){alert("Full screen is not supported inside a frame.")}))}},e.prototype.setButtonText=function(){var e=this.chart,t=e.exportDivElements,r=e.options.exporting,i=r&&r.buttons&&r.buttons.contextButton.menuItems;e=e.options.lang,r&&r.menuItemDefinitions&&e&&e.exitFullscreen&&e.viewFullscreen&&i&&t&&(t=t[i.indexOf("viewFullscreen")])&&n.setElementHTML(t,this.isOpen?e.exitFullscreen:r.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e}(),t.Fullscreen=r,i(e,"beforeRender",(function(){this.fullscreen=new t.Fullscreen(this)})),t.Fullscreen})),t(e,"Core/Chart/ChartNavigationComposition.js",[],(function(){var e;return function(e){e.compose=function(e){return e.navigation||(e.navigation=new t(e)),e};var t=function(){function e(e){this.updates=[],this.chart=e}return e.prototype.addUpdate=function(e){this.chart.navigation.updates.push(e)},e.prototype.update=function(e,t){var n=this;this.updates.forEach((function(r){r.call(n.chart,e,t)}))},e}();e.Additions=t}(e||(e={})),e})),t(e,"Extensions/Exporting/ExportingDefaults.js",[e["Core/Globals.js"]],(function(e){return{exporting:{type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:e.isTouchDevice?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"}}}})),t(e,"Extensions/Exporting/ExportingSymbols.js",[],(function(){var e;return function(e){function t(e,t,n,r){return[["M",e,t+2.5],["L",e+n,t+2.5],["M",e,t+r/2+.5],["L",e+n,t+r/2+.5],["M",e,t+r-1.5],["L",e+n,t+r-1.5]]}function n(e,t,n,r){return e=r/3-2,r=[],r.concat(this.circle(n-e,t,e,e),this.circle(n-e,t+e+4,e,e),this.circle(n-e,t+2*(e+4),e,e))}var r=[];e.compose=function(e){-1===r.indexOf(e)&&(r.push(e),e=e.prototype.symbols,e.menu=t,e.menuball=n.bind(e))}}(e||(e={})),e})),t(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(e,t){var n=e.doc,r=t.createElement,i=t.discardElement,o=t.merge,s=t.objectEach,a={ajax:function(e){var t=o(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},e);e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var n=new XMLHttpRequest;if(!t.url)return!1;n.open(t.type.toUpperCase(),t.url,!0),t.headers["Content-Type"]||n.setRequestHeader("Content-Type",e[t.dataType]||e.text),s(t.headers,(function(e,t){n.setRequestHeader(t,e)})),n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status){var e=n.responseText;if("json"===t.dataType)try{e=JSON.parse(e)}catch(r){return void(t.error&&t.error(n,r))}return t.success&&t.success(e)}t.error&&t.error(n,n.responseText)}};try{t.data=JSON.stringify(t.data)}catch(r){}n.send(t.data||!0)},getJSON:function(e,t){a.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(e,t,a){var l=r("form",o({method:"post",action:e,enctype:"multipart/form-data"},a),{display:"none"},n.body);s(t,(function(e,t){r("input",{type:"hidden",name:t,value:e},null,l)})),l.submit(),i(l)}};return a})),t(e,"Extensions/Exporting/Exporting.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Chart/Chart.js"],e["Core/Chart/ChartNavigationComposition.js"],e["Core/DefaultOptions.js"],e["Extensions/Exporting/ExportingDefaults.js"],e["Extensions/Exporting/ExportingSymbols.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Utilities.js"]],(function(e,t,n,r,i,o,s,a,l){t=r.defaultOptions;var c,u=s.doc,h=s.win,p=l.addEvent,d=l.css,f=l.createElement,m=l.discardElement,y=l.extend,g=l.find,v=l.fireEvent,b=l.isObject,w=l.merge,_=l.objectEach,x=l.pick,S=l.removeEvent,T=l.uniqueKey;return function(t){function r(e){var t=this,n=t.renderer,r=w(t.options.navigation.buttonOptions,e),i=r.onclick,o=r.menuItems,s=r.symbolSize||12;if(t.btnCount||(t.btnCount=0),t.exportDivElements||(t.exportDivElements=[],t.exportSVGElements=[]),!1!==r.enabled&&r.theme){var a,l=r.theme,c=l.states,u=c&&c.hover;c=c&&c.select,t.styledMode||(l.fill=x(l.fill,"#ffffff"),l.stroke=x(l.stroke,"none")),delete l.states,i?a=function(e){e&&e.stopPropagation(),i.call(t,e)}:o&&(a=function(e){e&&e.stopPropagation(),t.contextMenu(h.menuClassName,o,h.translateX,h.translateY,h.width,h.height,h),h.setState(2)}),r.text&&r.symbol?l.paddingLeft=x(l.paddingLeft,30):r.text||y(l,{width:r.width,height:r.height,padding:0}),t.styledMode||(l["stroke-linecap"]="round",l.fill=x(l.fill,"#ffffff"),l.stroke=x(l.stroke,"none"));var h=n.button(r.text,0,0,a,l,u,c).addClass(e.className).attr({title:x(t.options.lang[r._titleKey||r.titleKey],"")});if(h.menuClassName=e.menuClassName||"highcharts-menu-"+t.btnCount++,r.symbol){var p=n.symbol(r.symbol,r.symbolX-s/2,r.symbolY-s/2,s,s,{width:s,height:s}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(h);t.styledMode||p.attr({stroke:r.symbolStroke,fill:r.symbolFill,"stroke-width":r.symbolStrokeWidth||1})}h.add(t.exportingGroup).align(y(r,{width:h.width,x:x(r.x,t.buttonOffset)}),!0,"spacingBox"),t.buttonOffset+=(h.width+r.buttonSpacing)*("right"===r.align?-1:1),t.exportSVGElements.push(h,p)}}function i(){if(this.printReverseInfo){var e=this.printReverseInfo,t=e.childNodes,n=e.origDisplay;e=e.resetParams,this.moveContainers(this.renderTo),[].forEach.call(t,(function(e,t){1===e.nodeType&&(e.style.display=n[t]||"")})),this.isPrinting=!1,e&&this.setSize.apply(this,e),delete this.printReverseInfo,B=void 0,v(this,"afterPrint")}}function c(){var e=u.body,t=this.options.exporting.printMaxWidth,n={childNodes:e.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),v(this,"beforePrint"),t&&this.chartWidth>t&&(n.resetParams=[this.options.chart.width,void 0,!1],this.setSize(t,void 0,!1)),[].forEach.call(n.childNodes,(function(e,t){1===e.nodeType&&(n.origDisplay[t]=e.style.display,e.style.display="none")})),this.moveContainers(e),this.printReverseInfo=n}function E(e){e.renderExporting(),p(e,"redraw",e.renderExporting),p(e,"destroy",e.destroyExport)}function M(t,n,r,i,o,s,a){var c=this,m=c.options.navigation,g=c.chartWidth,w=c.chartHeight,_="cache-"+t,x=Math.max(o,s),S=c[_];if(!S){c.exportContextMenu=c[_]=S=f("div",{className:t},{position:"absolute",zIndex:1e3,padding:x+"px",pointerEvents:"auto"},c.fixedDiv||c.container);var T=f("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},S);c.styledMode||d(T,y({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},m.menuStyle)),S.hideMenu=function(){d(S,{display:"none"}),a&&a.setState(0),c.openMenu=!1,d(c.renderTo,{overflow:"hidden"}),d(c.container,{overflow:"hidden"}),l.clearTimeout(S.hideTimer),v(c,"exportMenuHidden")},c.exportEvents.push(p(S,"mouseleave",(function(){S.hideTimer=h.setTimeout(S.hideMenu,500)})),p(S,"mouseenter",(function(){l.clearTimeout(S.hideTimer)})),p(u,"mouseup",(function(e){c.pointer.inClass(e.target,t)||S.hideMenu()})),p(S,"click",(function(){c.openMenu&&S.hideMenu()}))),n.forEach((function(t){if("string"===typeof t&&(t=c.options.exporting.menuItemDefinitions[t]),b(t,!0)){var n=void 0;t.separator?n=f("hr",void 0,void 0,T):("viewData"===t.textKey&&c.isDataTableVisible&&(t.textKey="hideData"),n=f("li",{className:"highcharts-menu-item",onclick:function(e){e&&e.stopPropagation(),S.hideMenu(),t.onclick&&t.onclick.apply(c,arguments)}},void 0,T),e.setElementHTML(n,t.text||c.options.lang[t.textKey]),c.styledMode||(n.onmouseover=function(){d(this,m.menuItemHoverStyle)},n.onmouseout=function(){d(this,m.menuItemStyle)},d(n,y({cursor:"pointer"},m.menuItemStyle)))),c.exportDivElements.push(n)}})),c.exportDivElements.push(T,S),c.exportMenuWidth=S.offsetWidth,c.exportMenuHeight=S.offsetHeight}n={display:"block"},r+c.exportMenuWidth>g?n.right=g-r-o-x+"px":n.left=r-x+"px",i+s+c.exportMenuHeight>w&&"top"!==a.alignOptions.verticalAlign?n.bottom=w-i-x+"px":n.top=i+s-x+"px",d(S,n),d(c.renderTo,{overflow:""}),d(c.container,{overflow:""}),c.openMenu=!0,v(c,"exportMenuShown")}function A(e){var t,n=e?e.target:this,r=n.exportSVGElements,i=n.exportDivElements;e=n.exportEvents,r&&(r.forEach((function(e,i){e&&(e.onclick=e.ontouchstart=null,t="cache-"+e.menuClassName,n[t]&&delete n[t],r[i]=e.destroy())})),r.length=0),n.exportingGroup&&(n.exportingGroup.destroy(),delete n.exportingGroup),i&&(i.forEach((function(e,t){e&&(l.clearTimeout(e.hideTimer),S(e,"mouseleave"),i[t]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,m(e))})),i.length=0),e&&(e.forEach((function(e){e()})),e.length=0)}function I(e,t){t=this.getSVGForExport(e,t),e=w(this.options.exporting,e),a.post(e.url,{filename:e.filename?e.filename.replace(/\//g,"-"):this.getFilename(),type:e.type,width:e.width||0,scale:e.scale,svg:t},e.formAttributes)}function C(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function O(){var e=this.userOptions.title&&this.userOptions.title.text,t=this.options.exporting.filename;return t?t.replace(/\//g,"-"):("string"===typeof e&&(t=e.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!t||5>t.length)&&(t="chart"),t)}function k(e){var t,n=w(this.options,e);n.plotOptions=w(this.userOptions.plotOptions,e&&e.plotOptions),n.time=w(this.userOptions.time,e&&e.time);var r=f("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},u.body),i=this.renderTo.style.width,o=this.renderTo.style.height;i=n.exporting.sourceWidth||n.chart.width||/px$/.test(i)&&parseInt(i,10)||(n.isGantt?800:600),o=n.exporting.sourceHeight||n.chart.height||/px$/.test(o)&&parseInt(o,10)||400,y(n.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:i,height:o}),n.exporting.enabled=!1,delete n.data,n.series=[],this.series.forEach((function(e){t=w(e.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible}),t.isInternal||n.series.push(t)}));var s={};this.axes.forEach((function(e){e.userOptions.internalKey||(e.userOptions.internalKey=T()),e.options.isInternal||(s[e.coll]||(s[e.coll]=!0,n[e.coll]=[]),n[e.coll].push(w(e.userOptions,{visible:e.visible})))}));var a=new this.constructor(n,this.callback);return e&&["xAxis","yAxis","series"].forEach((function(t){var n={};e[t]&&(n[t]=e[t],a.update(n))})),this.axes.forEach((function(e){var t=g(a.axes,(function(t){return t.options.internalKey===e.userOptions.internalKey})),n=e.getExtremes(),r=n.userMin;n=n.userMax,t&&("undefined"!==typeof r&&r!==t.min||"undefined"!==typeof n&&n!==t.max)&&t.setExtremes(r,n,!0,!1)})),o=a.getChartHTML(),v(this,"getSVG",{chartCopy:a}),o=this.sanitizeSVG(o,n),n=null,a.destroy(),m(r),o}function R(e,t){var n=this.options.exporting;return this.getSVG(w({chart:{borderRadius:0}},n.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||n.sourceWidth,sourceHeight:e&&e.sourceHeight||n.sourceHeight}}))}function L(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))}function N(){function e(t){function a(e,n){if(c=u=!1,i.length){for(p=i.length;p--&&!u;)u=i[p].test(n);c=!u}for("transform"===n&&"none"===e&&(c=!0),p=r.length;p--&&!c;)c=r[p].test(n)||"function"===typeof e;c||m[n]===e&&"svg"!==t.nodeName||o[t.nodeName][n]===e||(V&&-1===V.indexOf(n)?d+=L(n)+":"+e+";":e&&t.setAttribute(L(n),e))}var c,u,p,d="";if(1===t.nodeType&&-1===$.indexOf(t.nodeName)){var f=h.getComputedStyle(t,null),m="svg"===t.nodeName?{}:h.getComputedStyle(t.parentNode,null);if(!o[t.nodeName]){n=l.getElementsByTagName("svg")[0];var y=l.createElementNS(t.namespaceURI,t.nodeName);n.appendChild(y),o[t.nodeName]=w(h.getComputedStyle(y,null)),"text"===t.nodeName&&delete o.text.fill,n.removeChild(y)}if(s.isFirefox||s.isMS)for(var g in f)a(f[g],g);else _(f,a);d&&(f=t.getAttribute("style"),t.setAttribute("style",(f?f+";":"")+d)),"svg"===t.nodeName&&t.setAttribute("stroke-width","1px"),"text"!==t.nodeName&&[].forEach.call(t.children||t.childNodes,e)}}var n,r=G,i=t.inlineWhitelist,o={},a=u.createElement("iframe");d(a,{width:"1px",height:"1px",visibility:"hidden"}),u.body.appendChild(a);var l=a.contentWindow.document;l.open(),l.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),l.close(),e(this.container.querySelector("svg")),n.parentNode.removeChild(n),a.parentNode.removeChild(a)}function P(e){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(t){e.appendChild(t)}))}function D(){var e=this;e.exporting={update:function(t,n){e.isDirtyExporting=!0,w(!0,e.options.exporting,t),x(n,!0)&&e.redraw()}},n.compose(e).navigation.addUpdate((function(t,n){e.isDirtyExporting=!0,w(!0,e.options.navigation,t),x(n,!0)&&e.redraw()}))}function F(){var e=this;e.isPrinting||(B=e,s.isSafari||e.beforePrint(),setTimeout((function(){h.focus(),h.print(),s.isSafari||setTimeout((function(){e.afterPrint()}),1e3)}),1))}function j(){var e=this,t=e.options.exporting,n=t.buttons,r=e.isDirtyExporting||!e.exportSVGElements;e.buttonOffset=0,e.isDirtyExporting&&e.destroyExport(),r&&!1!==t.enabled&&(e.exportEvents=[],e.exportingGroup=e.exportingGroup||e.renderer.g("exporting-group").attr({zIndex:3}).add(),_(n,(function(t){e.addButton(t)})),e.isDirtyExporting=!1)}function U(e,t){var n=e.indexOf("</svg>")+6,r=e.substr(n);return e=e.substr(0,n),t&&t.exporting&&t.exporting.allowHTML&&r&&(r='<foreignObject x="0" y="0" width="'+t.chart.width+'" height="'+t.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+r.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",e=e.replace("</svg>",r+"</svg>")),e=e.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),this.ieSanitizeSVG&&(e=this.ieSanitizeSVG(e)),e}var z=[],G=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/],V="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");t.inlineWhitelist=[];var B,$=["clipPath","defs","desc"];t.compose=function(e,t){o.compose(t),-1===z.indexOf(e)&&(z.push(e),t=e.prototype,t.afterPrint=i,t.exportChart=I,t.inlineStyles=N,t.print=F,t.sanitizeSVG=U,t.getChartHTML=C,t.getSVG=k,t.getSVGForExport=R,t.getFilename=O,t.moveContainers=P,t.beforePrint=c,t.contextMenu=M,t.addButton=r,t.destroyExport=A,t.renderExporting=j,t.callbacks.push(E),p(e,"init",D),s.isSafari&&s.win.matchMedia("print").addListener((function(e){B&&(e.matches?B.beforePrint():B.afterPrint())})))}}(c||(c={})),t.exporting=w(i.exporting,t.exporting),t.lang=w(i.lang,t.lang),t.navigation=w(i.navigation,t.navigation),c})),t(e,"masters/modules/exporting.src.js",[e["Core/Globals.js"],e["Extensions/Exporting/Exporting.js"],e["Core/HttpUtilities.js"]],(function(e,t,n){e.HttpUtilities=n,e.ajax=n.ajax,e.getJSON=n.getJSON,e.post=n.post,t.compose(e.Chart,e.Renderer)}))}))},95866:function(e,t,n){(function(t,r){e.exports=r(n(85471))})("undefined"!==typeof self&&self,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"0008":function(e,t,n){},"0068":function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e)}function i(e){return"[object String]"===r(e)}var o=Object.prototype.hasOwnProperty;function s(e,t){return o.call(e,t)}function a(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!==typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}function l(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function c(e){return!(e>=55296&&e<=57343)&&!(e>=64976&&e<=65007)&&65535!==(65535&e)&&65534!==(65535&e)&&!(e>=0&&e<=8)&&11!==e&&!(e>=14&&e<=31)&&!(e>=127&&e<=159)&&!(e>1114111)}function u(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var h=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,p=/&([a-z#][a-z0-9]{1,31});/gi,d=new RegExp(h.source+"|"+p.source,"gi"),f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,m=n("bd68");function y(e,t){var n=0;return s(m,t)?m[t]:35===t.charCodeAt(0)&&f.test(t)&&(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),c(n))?u(n):e}function g(e){return e.indexOf("\\")<0?e:e.replace(h,"$1")}function v(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(d,(function(e,t,n){return t||y(e,n)}))}var b=/[&<>"]/,w=/[&<>"]/g,_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function x(e){return _[e]}function S(e){return b.test(e)?e.replace(w,x):e}var T=/[.?*+^$[\]\\(){}|-]/g;function E(e){return e.replace(T,"\\$&")}function M(e){switch(e){case 9:case 32:return!0}return!1}function A(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var I=n("7ca0");function C(e){return I.test(e)}function O(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function k(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}t.lib={},t.lib.mdurl=n("d8a6"),t.lib.ucmicro=n("d5d1"),t.assign=a,t.isString=i,t.has=s,t.unescapeMd=g,t.unescapeAll=v,t.isValidEntityCode=c,t.fromCodePoint=u,t.escapeHtml=S,t.arrayReplaceAt=l,t.isSpace=M,t.isWhiteSpace=A,t.isMdAsciiPunct=O,t.isPunctChar=C,t.escapeRE=E,t.normalizeReference=k},"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"0538":function(e,t,n){"use strict";var r=n("1c0b"),i=n("861d"),o=[].slice,s={},a=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("C,a","return new C("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?a(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(s.prototype=t.prototype),s}},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=s(e),t=a(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},"0758":function(e,t,n){"use strict";var r=n("0068").isSpace;e.exports=function(e,t,n,i){var o,s,a,l,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(o=e.src.charCodeAt(c),35!==o||c>=u)return!1;s=1,o=e.src.charCodeAt(++c);while(35===o&&c<u&&s<=6)s++,o=e.src.charCodeAt(++c);return!(s>6||c<u&&!r(o))&&(i||(u=e.skipSpacesBack(u,c),a=e.skipCharsBack(u,35,c),a>c&&r(e.src.charCodeAt(a-1))&&(u=a),e.line=t+1,l=e.push("heading_open","h"+String(s),1),l.markup="########".slice(0,s),l.map=[t,e.line],l=e.push("inline","",0),l.content=e.src.slice(c,u).trim(),l.map=[t,e.line],l.children=[],l=e.push("heading_close","h"+String(s),-1),l.markup="########".slice(0,s)),!0)}},"08ae":function(e,t,n){"use strict";var r=n("0068"),i=n("565b"),o=n("7cc2"),s=n("a915"),a=n("7696"),l=n("4cb4"),c=n("fbcd"),u=n("d8a6"),h=n("1985"),p={default:n("8a31"),zero:n("1caa"),commonmark:n("428d")},d=/^(vbscript|javascript|file|data):/,f=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!d.test(t)||!!f.test(t)}var y=["http:","https:","mailto:"];function g(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||y.indexOf(t.protocol)>=0))try{t.hostname=h.toASCII(t.hostname)}catch(n){}return u.encode(u.format(t))}function v(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||y.indexOf(t.protocol)>=0))try{t.hostname=h.toUnicode(t.hostname)}catch(n){}return u.decode(u.format(t),u.decode.defaultChars+"%")}function b(e,t){if(!(this instanceof b))return new b(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new l,this.block=new a,this.core=new s,this.renderer=new o,this.linkify=new c,this.validateLink=m,this.normalizeLink=g,this.normalizeLinkText=v,this.utils=r,this.helpers=r.assign({},i),this.options={},this.configure(e),t&&this.set(t)}b.prototype.set=function(e){return r.assign(this.options,e),this},b.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&(t=e,e=p[t],!e))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},b.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},b.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},b.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},b.prototype.parse=function(e,t){if("string"!==typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},b.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},b.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},b.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=b},"096b":function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(t=this.attrs,n=0,r=t.length;n<r;n++)if(t[n][0]===e)return n;return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},r.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},r.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=r},"097b":function(e,t,n){"use strict";var r=n("096b"),i=n("0068").isWhiteSpace,o=n("0068").isPunctChar,s=n("0068").isMdAsciiPunct;function a(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}a.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},a.prototype.push=function(e,t,n){this.pending&&this.pushPending();var i=new r(e,t,n),o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(o),i},a.prototype.scanDelims=function(e,t){var n,r,a,l,c,u,h,p,d,f=e,m=!0,y=!0,g=this.posMax,v=this.src.charCodeAt(e);n=e>0?this.src.charCodeAt(e-1):32;while(f<g&&this.src.charCodeAt(f)===v)f++;return a=f-e,r=f<g?this.src.charCodeAt(f):32,h=s(n)||o(String.fromCharCode(n)),d=s(r)||o(String.fromCharCode(r)),u=i(n),p=i(r),p?m=!1:d&&(u||h||(m=!1)),u?y=!1:h&&(p||d||(y=!1)),t?(l=m,c=y):(l=m&&(!y||h),c=y&&(!m||d)),{can_open:l,can_close:c,length:a}},a.prototype.Token=r,e.exports=a},"0cb2":function(e,t,n){var r=n("7b0b"),i=Math.floor,o="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,l,c,u){var h=n+e.length,p=l.length,d=a;return void 0!==c&&(c=r(c),d=s),o.call(u,d,(function(r,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(h);case"<":s=c[o.slice(1,-1)];break;default:var a=+o;if(0===a)return r;if(a>p){var u=i(a/10);return 0===u?r:u<=p?void 0===l[u-1]?o.charAt(1):l[u-1]+o.charAt(1):r}s=l[a-1]}return void 0===s?"":s}))}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d3b":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("c430"),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),s=n("1d80"),a=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),h=n("9263"),p=n("9f7f"),d=p.UNSUPPORTED_Y,f=[].push,m=Math.min,y=4294967295;r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(s(this)),o=void 0===n?y:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var a,l,c,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,m=new RegExp(e.source,p+"g");while(a=h.call(m,r)){if(l=m.lastIndex,l>d&&(u.push(r.slice(d,a.index)),a.length>1&&a.index<r.length&&f.apply(u,a.slice(1)),c=a[0].length,d=l,u.length>=o))break;m.lastIndex===a.index&&m.lastIndex++}return d===r.length?!c&&m.test("")||u.push(""):u.push(r.slice(d)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var h=o(e),p=String(this),f=a(h,RegExp),g=h.unicode,v=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(d?"g":"y"),b=new f(d?"^(?:"+h.source+")":h,v),w=void 0===i?y:i>>>0;if(0===w)return[];if(0===p.length)return null===u(b,p)?[p]:[];var _=0,x=0,S=[];while(x<p.length){b.lastIndex=d?0:x;var T,E=u(b,d?p.slice(x):p);if(null===E||(T=m(c(b.lastIndex+(d?x:0)),p.length))===_)x=l(p,x,g);else{if(S.push(p.slice(_,x)),S.length===w)return S;for(var M=1;M<=E.length-1;M++)if(S.push(E[M]),S.length===w)return S;x=_=T}}return S.push(p.slice(_)),S}]}),d)},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in i){var l=r[a],c=l&&l.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(u){c.forEach=o}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=i("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},1985:function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,l=36,c=1,u=26,h=38,p=700,d=72,f=128,m="-",y=/^xn--/,g=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-c,_=Math.floor,x=String.fromCharCode;function S(e){throw new RangeError(b[e])}function T(e,t){var n=e.length,r=[];while(n--)r[n]=t(e[n]);return r}function E(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(v,".");var i=e.split("."),o=T(i,t).join(".");return r+o}function M(e){var t,n,r=[],i=0,o=e.length;while(i<o)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function A(e){return T(e,(function(e){var t="";return e>65535&&(e-=65536,t+=x(e>>>10&1023|55296),e=56320|1023&e),t+=x(e),t})).join("")}function I(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,n){var r=0;for(e=n?_(e/p):e>>1,e+=_(e/t);e>w*u>>1;r+=l)e=_(e/w);return _(r+(w+1)*e/(e+h))}function k(e){var t,n,r,i,o,s,h,p,y,g,v=[],b=e.length,w=0,x=f,T=d;for(n=e.lastIndexOf(m),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&S("not-basic"),v.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=w,s=1,h=l;;h+=l){if(i>=b&&S("invalid-input"),p=I(e.charCodeAt(i++)),(p>=l||p>_((a-w)/s))&&S("overflow"),w+=p*s,y=h<=T?c:h>=T+u?u:h-T,p<y)break;g=l-y,s>_(a/g)&&S("overflow"),s*=g}t=v.length+1,T=O(w-o,t,0==o),_(w/t)>a-x&&S("overflow"),x+=_(w/t),w%=t,v.splice(w++,0,x)}return A(v)}function R(e){var t,n,r,i,o,s,h,p,y,g,v,b,w,T,E,A=[];for(e=M(e),b=e.length,t=f,n=0,o=d,s=0;s<b;++s)v=e[s],v<128&&A.push(x(v));r=i=A.length,i&&A.push(m);while(r<b){for(h=a,s=0;s<b;++s)v=e[s],v>=t&&v<h&&(h=v);for(w=r+1,h-t>_((a-n)/w)&&S("overflow"),n+=(h-t)*w,t=h,s=0;s<b;++s)if(v=e[s],v<t&&++n>a&&S("overflow"),v==t){for(p=n,y=l;;y+=l){if(g=y<=o?c:y>=o+u?u:y-o,p<g)break;E=p-g,T=l-g,A.push(x(C(g+E%T,0))),p=_(E/T)}A.push(x(C(p,0))),o=O(n,w,r==i),n=0,++r}++n,++t}return A.join("")}function L(e){return E(e,(function(e){return y.test(e)?k(e.slice(4).toLowerCase()):e}))}function N(e){return E(e,(function(e){return g.test(e)?"xn--"+R(e):e}))}s={version:"1.4.1",ucs2:{decode:M,encode:A},decode:k,encode:R,toASCII:N,toUnicode:L},i=function(){return s}.call(t,n,t,e),void 0===i||(e.exports=i)})()}).call(this,n("62e4")(e),n("c8ba"))},"199e":function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o,s,a,l,c,u,h,p,d=t+1,f=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";d<n&&!e.isEmpty(d);d++)if(!(e.sCount[d]-e.blkIndent>3)){if(e.sCount[d]>=e.blkIndent&&(l=e.bMarks[d]+e.tShift[d],c=e.eMarks[d],l<c&&(h=e.src.charCodeAt(l),(45===h||61===h)&&(l=e.skipChars(l,h),l=e.skipSpaces(l),l>=c)))){u=61===h?1:2;break}if(!(e.sCount[d]<0)){for(i=!1,o=0,s=f.length;o<s;o++)if(f[o](e,d,n,!0)){i=!0;break}if(i)break}}return!!u&&(r=e.getLines(t,d,e.blkIndent,!1).trim(),e.line=d+1,a=e.push("heading_open","h"+String(u),1),a.markup=String.fromCharCode(h),a.map=[t,e.line],a=e.push("inline","",0),a.content=r,a.map=[t,e.line-1],a.children=[],a=e.push("heading_close","h"+String(u),-1),a.markup=String.fromCharCode(h),e.parentType=p,!0)}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1b40":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return i.a})),n.d(t,"b",(function(){return A}));var r=n("8bbf"),i=n.n(r);
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return l(e)||c(e)||u()}function l(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function p(e,t){d(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(n){d(e.prototype,t.prototype,n)})),Object.getOwnPropertyNames(t).forEach((function(n){d(e,t,n)}))}function d(e,t,n){var r=n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t);r.forEach((function(r){var i=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,i,e,n):Reflect.defineMetadata(r,i,e)}))}var f={__proto__:[]},m=f instanceof Array;function y(e){return function(t,n,r){var i="function"===typeof t?t:t.constructor;i.__decorators__||(i.__decorators__=[]),"number"!==typeof r&&(r=void 0),i.__decorators__.push((function(t){return e(t,n,r)}))}}function g(e){var t=o(e);return null==e||"object"!==t&&"function"!==t}function v(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var r=new t;t.prototype._init=n;var i={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(i[e]=r[e])})),i}var b=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(b.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"===typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return s({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return v(this,e)}});var r=e.__decorators__;r&&(r.forEach((function(e){return e(t)})),delete e.__decorators__);var o=Object.getPrototypeOf(e.prototype),a=o instanceof i.a?o.constructor:i.a,l=a.extend(t);return x(l,e,a),h()&&p(l,e),l}var _={prototype:!0,arguments:!0,callee:!0,caller:!0};function x(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if(!_[r]){var i=Object.getOwnPropertyDescriptor(e,r);if(!i||i.configurable){var o=Object.getOwnPropertyDescriptor(t,r);if(!m){if("cid"===r)return;var s=Object.getOwnPropertyDescriptor(n,r);if(!g(o.value)&&s&&s.value===o.value)return}Object.defineProperty(e,r,o)}}}))}function S(e){return"function"===typeof e?w(e):function(t){return w(t,e)}}S.registerHooks=function(e){b.push.apply(b,a(e))};var T=S,E="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function M(e,t,n){if(E&&!Array.isArray(e)&&"function"!==typeof e&&!e.hasOwnProperty("type")&&"undefined"===typeof e.type){var r=Reflect.getMetadata("design:type",t,n);r!==Object&&(e.type=r)}}function A(e){return void 0===e&&(e={}),function(t,n){M(e,t,n),y((function(t,n){(t.props||(t.props={}))[n]=e}))(t,n)}}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(l){}return n}},"1caa":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1fbf":function(e,t,n){},2085:function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,i=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)i[t].nesting<0&&r--,i[t].level=r,i[t].nesting>0&&r++,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),a=n("35a1"),l=n("2a62"),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,h,p,d,f,m,y,g=n&&n.that,v=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),_=s(t,g,1+v+w),x=function(e){return u&&l(u),new c(!0,e)},S=function(e){return v?(r(e),w?_(e[0],e[1],x):_(e[0],e[1])):w?_(e,x):_(e)};if(b)u=e;else{if(h=a(e),"function"!=typeof h)throw TypeError("Target is not iterable");if(i(h)){for(p=0,d=o(e.length);d>p;p++)if(f=S(e[p]),f&&f instanceof c)return f;return new c(!1)}u=h.call(e)}m=u.next;while(!(y=m.call(u)).done){try{f=S(y.value)}catch(T){throw l(u),T}if("object"==typeof f&&f&&f instanceof c)return f}return new c(!1)}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,h,p,d,f,m=e.target,y=e.global,g=e.stat;if(u=y?r:g?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(h in t){if(d=t[h],e.noTargetGet?(f=i(u,h),p=f&&f.value):p=u[h],n=c(y?h:m+(g?".":"#")+h,e.forced),!n&&void 0!==p){if(typeof d===typeof p)continue;l(d,p)}(e.sham||p&&p.sham)&&o(d,"sham",!0),s(u,h,d,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2533:function(e,t,n){},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"262e":function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},"27e4":function(e,t,n){},2877:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},"28ec":function(e,t,n){"use strict";var r=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,i=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,t){var n,o,s,a,l,c,u=e.pos;if(60!==e.src.charCodeAt(u))return!1;for(l=e.pos,c=e.posMax;;){if(++u>=c)return!1;if(a=e.src.charCodeAt(u),60===a)return!1;if(62===a)break}return n=e.src.slice(l+1,u),i.test(n)?(o=e.md.normalizeLink(n),!!e.md.validateLink(o)&&(t||(s=e.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(n),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=n.length+2,!0)):!!r.test(n)&&(o=e.md.normalizeLink("mailto:"+n),!!e.md.validateLink(o)&&(t||(s=e.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(n),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=n.length+2,!0))}},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2b3d":function(e,t,n){"use strict";n("3ca3");var r,i=n("23e7"),o=n("83ab"),s=n("0d3b"),a=n("da84"),l=n("37e8"),c=n("6eeb"),u=n("19aa"),h=n("5135"),p=n("60da"),d=n("4df4"),f=n("6547").codeAt,m=n("5fb2"),y=n("d44e"),g=n("9861"),v=n("69f3"),b=a.URL,w=g.URLSearchParams,_=g.getState,x=v.set,S=v.getterFor("URL"),T=Math.floor,E=Math.pow,M="Invalid authority",A="Invalid scheme",I="Invalid host",C="Invalid port",O=/[A-Za-z]/,k=/[\d+-.A-Za-z]/,R=/\d/,L=/^(0x|0X)/,N=/^[0-7]+$/,P=/^\d+$/,D=/^[\dA-Fa-f]+$/,F=/[\0\t\n\r #%/:?@[\\]]/,j=/[\0\t\n\r #/:?@[\\]]/,U=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,z=/[\t\n\r]/g,G=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return I;if(n=B(t.slice(1,-1)),!n)return I;e.host=n}else if(K(e)){if(t=m(t),F.test(t))return I;if(n=V(t),null===n)return I;e.host=n}else{if(j.test(t))return I;for(n="",r=d(t),i=0;i<r.length;i++)n+=X(r[i],W);e.host=n}},V=function(e){var t,n,r,i,o,s,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),t=l.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=l[r],""==i)return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=L.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)s=0;else{if(!(10==o?P:8==o?N:D).test(i))return e;s=parseInt(i,o)}n.push(s)}for(r=0;r<t;r++)if(s=n[r],r==t-1){if(s>=E(256,5-t))return null}else if(s>255)return null;for(a=n.pop(),r=0;r<n.length;r++)a+=n[r]*E(256,3-r);return a},B=function(e){var t,n,r,i,o,s,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,p=function(){return e.charAt(h)};if(":"==p()){if(":"!=e.charAt(1))return;h+=2,c++,u=c}while(p()){if(8==c)return;if(":"!=p()){t=n=0;while(n<4&&D.test(p()))t=16*t+parseInt(p(),16),h++,n++;if("."==p()){if(0==n)return;if(h-=n,c>6)return;r=0;while(p()){if(i=null,r>0){if(!("."==p()&&r<4))return;h++}if(!R.test(p()))return;while(R.test(p())){if(o=parseInt(p(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}l[c]=256*l[c]+i,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==p()){if(h++,!p())return}else if(p())return;l[c++]=t}else{if(null!==u)return;h++,c++,u=c}}if(null!==u){s=c-u,c=7;while(0!=c&&s>0)a=l[c],l[c--]=l[u+s-1],l[u+--s]=a}else if(8!=c)return;return l},$=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},H=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=T(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=$(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},W={},q=p({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),Z=p({},q,{"#":1,"?":1,"{":1,"}":1}),Y=p({},Z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),X=function(e,t){var n=f(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(e){return h(J,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&O.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},se={},ae={},le={},ce={},ue={},he={},pe={},de={},fe={},me={},ye={},ge={},ve={},be={},we={},_e={},xe={},Se={},Te={},Ee={},Me={},Ae=function(e,t,n,i){var o,s,a,l,c=n||se,u=0,p="",f=!1,m=!1,y=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(U,"")),t=t.replace(z,""),o=d(t);while(u<=o.length){switch(s=o[u],c){case se:if(!s||!O.test(s)){if(n)return A;c=le;continue}p+=s.toLowerCase(),c=ae;break;case ae:if(s&&(k.test(s)||"+"==s||"-"==s||"."==s))p+=s.toLowerCase();else{if(":"!=s){if(n)return A;p="",c=le,u=0;continue}if(n&&(K(e)!=h(J,p)||"file"==p&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(K(e)&&J[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=be:K(e)&&i&&i.scheme==e.scheme?c=ce:K(e)?c=de:"/"==o[u+1]?(c=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Te)}break;case le:if(!i||i.cannotBeABaseURL&&"#"!=s)return A;if(i.cannotBeABaseURL&&"#"==s){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=Me;break}c="file"==i.scheme?be:he;continue;case ce:if("/"!=s||"/"!=o[u+1]){c=he;continue}c=fe,u++;break;case ue:if("/"==s){c=me;break}c=Se;continue;case he:if(e.scheme=i.scheme,s==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==s||"\\"==s&&K(e))c=pe;else if("?"==s)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=Ee;else{if("#"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=Se;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Me}break;case pe:if(!K(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=Se;continue}c=me}else c=fe;break;case de:if(c=fe,"/"!=s||"/"!=p.charAt(u+1))continue;u++;break;case fe:if("/"!=s&&"\\"!=s){c=me;continue}break;case me:if("@"==s){f&&(p="%40"+p),f=!0,a=d(p);for(var g=0;g<a.length;g++){var v=a[g];if(":"!=v||y){var b=X(v,Y);y?e.password+=b:e.username+=b}else y=!0}p=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)){if(f&&""==p)return M;u-=d(p).length+1,p="",c=ye}else p+=s;break;case ye:case ge:if(n&&"file"==e.scheme){c=_e;continue}if(":"!=s||m){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)){if(K(e)&&""==p)return I;if(n&&""==p&&(Q(e)||null!==e.port))return;if(l=G(e,p),l)return l;if(p="",c=xe,n)return;continue}"["==s?m=!0:"]"==s&&(m=!1),p+=s}else{if(""==p)return I;if(l=G(e,p),l)return l;if(p="",c=ve,n==ge)return}break;case ve:if(!R.test(s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)||n){if(""!=p){var w=parseInt(p,10);if(w>65535)return C;e.port=K(e)&&w===J[e.scheme]?null:w,p=""}if(n)return;c=xe;continue}return C}p+=s;break;case be:if(e.scheme="file","/"==s||"\\"==s)c=we;else{if(!i||"file"!=i.scheme){c=Se;continue}if(s==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==s)e.host=i.host,e.path=i.path.slice(),e.query="",c=Ee;else{if("#"!=s){ne(o.slice(u).join(""))||(e.host=i.host,e.path=i.path.slice(),re(e)),c=Se;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=Me}}break;case we:if("/"==s||"\\"==s){c=_e;break}i&&"file"==i.scheme&&!ne(o.slice(u).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=Se;continue;case _e:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&te(p))c=Se;else if(""==p){if(e.host="",n)return;c=xe}else{if(l=G(e,p),l)return l;if("localhost"==e.host&&(e.host=""),n)return;p="",c=xe}continue}p+=s;break;case xe:if(K(e)){if(c=Se,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=r&&(c=Se,"/"!=s))continue}else e.fragment="",c=Me;else e.query="",c=Ee;break;case Se:if(s==r||"/"==s||"\\"==s&&K(e)||!n&&("?"==s||"#"==s)){if(oe(p)?(re(e),"/"==s||"\\"==s&&K(e)||e.path.push("")):ie(p)?"/"==s||"\\"==s&&K(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(s==r||"?"==s||"#"==s))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==s?(e.query="",c=Ee):"#"==s&&(e.fragment="",c=Me)}else p+=X(s,Z);break;case Te:"?"==s?(e.query="",c=Ee):"#"==s?(e.fragment="",c=Me):s!=r&&(e.path[0]+=X(s,W));break;case Ee:n||"#"!=s?s!=r&&("'"==s&&K(e)?e.query+="%27":e.query+="#"==s?"%23":X(s,W)):(e.fragment="",c=Me);break;case Me:s!=r&&(e.fragment+=X(s,q));break}u++}},Ie=function(e){var t,n,r=u(this,Ie,"URL"),i=arguments.length>1?arguments[1]:void 0,s=String(e),a=x(r,{type:"URL"});if(void 0!==i)if(i instanceof Ie)t=S(i);else if(n=Ae(t={},String(i)),n)throw TypeError(n);if(n=Ae(a,s,null,t),n)throw TypeError(n);var l=a.searchParams=new w,c=_(l);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(l)||null},o||(r.href=Oe.call(r),r.origin=ke.call(r),r.protocol=Re.call(r),r.username=Le.call(r),r.password=Ne.call(r),r.host=Pe.call(r),r.hostname=De.call(r),r.port=Fe.call(r),r.pathname=je.call(r),r.search=Ue.call(r),r.searchParams=ze.call(r),r.hash=Ge.call(r))},Ce=Ie.prototype,Oe=function(){var e=S(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",Q(e)&&(c+=n+(r?":"+r:"")+"@"),c+=H(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},ke=function(){var e=S(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Ie(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&K(e)?t+"://"+H(e.host)+(null!==n?":"+n:""):"null"},Re=function(){return S(this).scheme+":"},Le=function(){return S(this).username},Ne=function(){return S(this).password},Pe=function(){var e=S(this),t=e.host,n=e.port;return null===t?"":null===n?H(t):H(t)+":"+n},De=function(){var e=S(this).host;return null===e?"":H(e)},Fe=function(){var e=S(this).port;return null===e?"":String(e)},je=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ue=function(){var e=S(this).query;return e?"?"+e:""},ze=function(){return S(this).searchParams},Ge=function(){var e=S(this).fragment;return e?"#"+e:""},Ve=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&l(Ce,{href:Ve(Oe,(function(e){var t=S(this),n=String(e),r=Ae(t,n);if(r)throw TypeError(r);_(t.searchParams).updateSearchParams(t.query)})),origin:Ve(ke),protocol:Ve(Re,(function(e){var t=S(this);Ae(t,String(e)+":",se)})),username:Ve(Le,(function(e){var t=S(this),n=d(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=X(n[r],Y)}})),password:Ve(Ne,(function(e){var t=S(this),n=d(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=X(n[r],Y)}})),host:Ve(Pe,(function(e){var t=S(this);t.cannotBeABaseURL||Ae(t,String(e),ye)})),hostname:Ve(De,(function(e){var t=S(this);t.cannotBeABaseURL||Ae(t,String(e),ge)})),port:Ve(Fe,(function(e){var t=S(this);ee(t)||(e=String(e),""==e?t.port=null:Ae(t,e,ve))})),pathname:Ve(je,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Ae(t,e+"",xe))})),search:Ve(Ue,(function(e){var t=S(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ae(t,e,Ee)),_(t.searchParams).updateSearchParams(t.query)})),searchParams:Ve(ze),hash:Ve(Ge,(function(e){var t=S(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ae(t,e,Me)):t.fragment=null}))}),c(Ce,"toJSON",(function(){return Oe.call(this)}),{enumerable:!0}),c(Ce,"toString",(function(){return Oe.call(this)}),{enumerable:!0}),b){var Be=b.createObjectURL,$e=b.revokeObjectURL;Be&&c(Ie,"createObjectURL",(function(e){return Be.apply(b,arguments)})),$e&&c(Ie,"revokeObjectURL",(function(e){return $e.apply(b,arguments)}))}y(Ie,"URL"),i({global:!0,forced:!s,sham:!o},{URL:Ie})},"2caf":function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return c})),n("4ae1"),n("3410");var o=n("7037"),s=n.n(o);function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return!t||"object"!==s()(t)&&"function"!==typeof t?a(e):t}function c(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}},"2cf4":function(e,t,n){var r,i,o,s=n("da84"),a=n("d039"),l=n("0366"),c=n("1be4"),u=n("cc12"),h=n("1cdc"),p=n("605d"),d=s.location,f=s.setImmediate,m=s.clearImmediate,y=s.process,g=s.MessageChannel,v=s.Dispatch,b=0,w={},_="onreadystatechange",x=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},S=function(e){return function(){x(e)}},T=function(e){x(e.data)},E=function(e){s.postMessage(e+"",d.protocol+"//"+d.host)};f&&m||(f=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},m=function(e){delete w[e]},p?r=function(e){y.nextTick(S(e))}:v&&v.now?r=function(e){v.now(S(e))}:g&&!h?(i=new g,o=i.port2,i.port1.onmessage=T,r=l(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&d&&"file:"!==d.protocol&&!a(E)?(r=E,s.addEventListener("message",T,!1)):r=_ in u("script")?function(e){c.appendChild(u("script"))[_]=function(){c.removeChild(this),x(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:f,clear:m}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,l=a&&a.versions,c=l&&l.v8;c?(r=c.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"2d90":function(e,t,n){},3101:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["Text"]="text",e["Image"]="image",e["Map"]="map",e["Chart"]="chart",e["Video"]="video",e["Audio"]="audio",e["Slideshow"]="slideshow",e["Dynamic"]="dynamic",e["Loading"]="loading"}(r||(r={}))},"333f":function(e,t,n){"use strict";n("f739")},3408:function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},3410:function(e,t,n){var r=n("23e7"),i=n("d039"),o=n("7b0b"),s=n("e163"),a=n("e177"),l=i((function(){s(1)}));r({target:"Object",stat:!0,forced:l,sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},3480:function(e,t,n){"use strict";n("c358")},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),a=r.length,l=0;while(a>l)i.f(e,n=r[l++],t[n]);return e}},"3b61":function(e,t,n){},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("69f3"),o=n("7dd0"),s="String Iterator",a=i.set,l=i.getterFor(s);o(String,"String",(function(e){a(this,{type:s,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3d6d":function(e,t){var n=[{key:"chapters.title",enValue:"Chapters",enValid:"1",frValue:"Chapitres",frValid:"1"},{key:"chapters.return",enValue:"Return to top",enValid:"1",frValue:"Retournez en haut",frValid:"1"},{key:"chapters.menu",enValue:"Toggle menu",enValid:"1",frValue:"Menu bascule",frValid:"0"},{key:"scrollguard.desc",enValue:"Use ctrl + scroll to zoom the map",enValid:"1",frValue:"Utilisez les touches Ctrl et + pour faire un zoom de la carte",frValid:"1"},{key:"story.date",enValue:"Date modified:",enValid:"1",frValue:"Date de modification:",frValid:"1"},{key:"story.error",enValue:"An error occurred while loading this Storylines product. See developer console for more information.",enValid:"1",frValue:"Une erreur est survenue pendant le chargement ce synopsis produit. Voir la console du promoteur pour obtenir de plus amples renseignements.",frValid:"1"},{key:"image.fullscreen",enValue:"Full Screen",enValid:"1",frValue:"Plein Écran",frValid:"1"},{key:"timeslider.expand",enValue:"Expand",enValid:"1",frValue:"Développer",frValid:"1"},{key:"timeslider.minimize",enValue:"Minimize",enValid:"1",frValue:"Réduire",frValid:"1"},{key:"timeslider.play",enValue:"Play",enValid:"1",frValue:"Lire",frValid:"0"},{key:"timeslider.pause",enValue:"Pause",enValid:"1",frValue:"Pause",frValid:"0"},{key:"fullscreen.activate",enValue:"Enter Fullscreen",enValid:"1",frValue:"Entrer en plein écran",frValid:"0"},{key:"fullscreen.deactivate",enValue:"Exit Fullscreen",enValid:"1",frValue:"Sortie plein écran",frValid:"0"},{key:"dynamic.back",enValue:"Back",enValid:"1",frValue:"Retour",frValid:"0"},{key:"video.transcript",enValue:"Transcript",enValid:"1",frValue:"Transcription",frValid:"0"}];n.columns=["key","enValue","enValid","frValue","frValid"],e.exports=n},"3f8c":function(e,t){e.exports={}},4236:function(e,t,n){"use strict";var r=n("0068").isSpace;e.exports=function(e,t){var n,i,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;n=e.pending.length-1,i=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++;while(o<i&&r(e.src.charCodeAt(o)))o++;return e.pos=o,!0}},"428d":function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},"428f":function(e,t,n){var r=n("da84");e.exports=r},"43e0":function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}},"44a8":function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,s,a,l=t+1,c=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(a=e.parentType,e.parentType="paragraph";l<u&&!e.isEmpty(l);l++)if(!(e.sCount[l]-e.blkIndent>3)&&!(e.sCount[l]<0)){for(r=!1,i=0,o=c.length;i<o;i++)if(c[i](e,l,u,!0)){r=!0;break}if(r)break}return n=e.getLines(t,l,e.blkIndent,!1).trim(),e.line=l,s=e.push("paragraph_open","p",1),s.map=[t,e.line],s=e.push("inline","",0),s.content=n,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),e.parentType=a,!0}},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},4883:function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},r.prototype.at=function(e,t,n){var r=this.__find__(e),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=r},4930:function(e,t,n){var r=n("605d"),i=n("2d00"),o=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(r?38===i:i>37&&i<41)}))},"4a94":function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,s,a,l,c,u=e.pos,h=e.src.charCodeAt(u);if(96!==h)return!1;n=u,u++,r=e.posMax;while(u<r&&96===e.src.charCodeAt(u))u++;if(i=e.src.slice(n,u),l=i.length,e.backticksScanned&&(e.backticks[l]||0)<=n)return t||(e.pending+=i),e.pos+=l,!0;s=a=u;while(-1!==(s=e.src.indexOf("`",a))){a=s+1;while(a<r&&96===e.src.charCodeAt(a))a++;if(c=a-s,c===l)return t||(o=e.push("code_inline","code",0),o.markup=i,o.content=e.src.slice(u,s).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=a,!0;e.backticks[c]=s}return e.backticksScanned=!0,t||(e.pending+=i),e.pos+=l,!0}},"4ae1":function(e,t,n){var r=n("23e7"),i=n("d066"),o=n("1c0b"),s=n("825a"),a=n("861d"),l=n("7c73"),c=n("0538"),u=n("d039"),h=i("Reflect","construct"),p=u((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),d=!u((function(){h((function(){}))})),f=p||d;r({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!p)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,u=l(a(i)?i:Object.prototype),f=Function.apply.call(e,u,t);return a(f)?f:u}})},"4b3e":function(e,t,n){"use strict";var r=n("0068").isSpace;function i(e,t){var n,i,o,s;return i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],n=e.src.charCodeAt(i++),42!==n&&45!==n&&43!==n||i<o&&(s=e.src.charCodeAt(i),!r(s))?-1:i}function o(e,t){var n,i=e.bMarks[t]+e.tShift[t],o=i,s=e.eMarks[t];if(o+1>=s)return-1;if(n=e.src.charCodeAt(o++),n<48||n>57)return-1;for(;;){if(o>=s)return-1;if(n=e.src.charCodeAt(o++),!(n>=48&&n<=57)){if(41===n||46===n)break;return-1}if(o-i>=10)return-1}return o<s&&(n=e.src.charCodeAt(o),!r(n))?-1:o}function s(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}e.exports=function(e,t,n,r){var a,l,c,u,h,p,d,f,m,y,g,v,b,w,_,x,S,T,E,M,A,I,C,O,k,R,L,N,P=!1,D=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(P=!0),(C=o(e,t))>=0){if(d=!0,k=e.bMarks[t]+e.tShift[t],b=Number(e.src.substr(k,C-k-1)),P&&1!==b)return!1}else{if(!((C=i(e,t))>=0))return!1;d=!1}if(P&&e.skipSpaces(C)>=e.eMarks[t])return!1;if(v=e.src.charCodeAt(C-1),r)return!0;g=e.tokens.length,d?(N=e.push("ordered_list_open","ol",1),1!==b&&(N.attrs=[["start",b]])):N=e.push("bullet_list_open","ul",1),N.map=y=[t,0],N.markup=String.fromCharCode(v),_=t,O=!1,L=e.md.block.ruler.getRules("list"),T=e.parentType,e.parentType="list";while(_<n){I=C,w=e.eMarks[_],p=x=e.sCount[_]+C-(e.bMarks[t]+e.tShift[t]);while(I<w){if(a=e.src.charCodeAt(I),9===a)x+=4-(x+e.bsCount[_])%4;else{if(32!==a)break;x++}I++}if(l=I,h=l>=w?1:x-p,h>4&&(h=1),u=p+h,N=e.push("list_item_open","li",1),N.markup=String.fromCharCode(v),N.map=f=[t,0],A=e.tight,M=e.tShift[t],E=e.sCount[t],S=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=u,e.tight=!0,e.tShift[t]=l-e.bMarks[t],e.sCount[t]=x,l>=w&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!O||(D=!1),O=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=S,e.tShift[t]=M,e.sCount[t]=E,e.tight=A,N=e.push("list_item_close","li",-1),N.markup=String.fromCharCode(v),_=t=e.line,f[1]=_,l=e.bMarks[t],_>=n)break;if(e.sCount[_]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(R=!1,c=0,m=L.length;c<m;c++)if(L[c](e,_,n,!0)){R=!0;break}if(R)break;if(d){if(C=o(e,_),C<0)break}else if(C=i(e,_),C<0)break;if(v!==e.src.charCodeAt(C-1))break}return N=d?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),N.markup=String.fromCharCode(v),y[1]=_,e.line=_,e.parentType=T,D&&s(e,g),!0}},"4c26":function(e,t,n){"use strict";var r=/\r\n?|\n/g,i=/\0/g;e.exports=function(e){var t;t=e.src.replace(r,"\n"),t=t.replace(i,"�"),e.src=t}},"4cb4":function(e,t,n){"use strict";var r=n("4883"),i=[["text",n("baca")],["newline",n("4236")],["escape",n("6e00")],["backticks",n("4a94")],["strikethrough",n("922c").tokenize],["emphasis",n("c8a9").tokenize],["link",n("cd0f")],["image",n("932d")],["autolink",n("28ec")],["html_inline",n("c2d8")],["entity",n("5b54")]],o=[["balance_pairs",n("838d")],["strikethrough",n("922c").postProcess],["emphasis",n("c8a9").postProcess],["text_collapse",n("2085")]];function s(){var e;for(this.ruler=new r,e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1]);for(this.ruler2=new r,e=0;e<o.length;e++)this.ruler2.push(o[e][0],o[e][1])}s.prototype.skipToken=function(e){var t,n,r=e.pos,i=this.ruler.getRules(""),o=i.length,s=e.md.options.maxNesting,a=e.cache;if("undefined"===typeof a[r]){if(e.level<s){for(n=0;n<o;n++)if(e.level++,t=i[n](e,!0),e.level--,t)break}else e.pos=e.posMax;t||e.pos++,a[r]=e.pos}else e.pos=a[r]},s.prototype.tokenize=function(e){var t,n,r=this.ruler.getRules(""),i=r.length,o=e.posMax,s=e.md.options.maxNesting;while(e.pos<o){if(e.level<s)for(n=0;n<i;n++)if(t=r[n](e,!1),t)break;if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},s.prototype.parse=function(e,t,n,r){var i,o,s,a=new this.State(e,t,n,r);for(this.tokenize(a),o=this.ruler2.getRules(""),s=o.length,i=0;i<s;i++)o[i](a)},s.prototype.State=n("097b"),e.exports=s},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,l=r(t),c=i(l.length),u=o(s,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),s=o("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),s=n("e95a"),a=n("50c4"),l=n("8418"),c=n("35a1");e.exports=function(e){var t,n,u,h,p,d,f=i(e),m="function"==typeof this?this:Array,y=arguments.length,g=y>1?arguments[1]:void 0,v=void 0!==g,b=c(f),w=0;if(v&&(g=r(g,y>2?arguments[2]:void 0,2)),void 0==b||m==Array&&s(b))for(t=a(f.length),n=new m(t);t>w;w++)d=v?g(f[w],w):f[w],l(n,w,d);else for(h=b.call(f),p=h.next,n=new m;!(u=p.call(h)).done;w++)d=v?o(h,g,[u.value,w],!0):u.value,l(n,w,d);return n.length=w,n}},"4fc2":function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t,n){var r=n("7b0b"),i={}.hasOwnProperty;e.exports=function(e,t){return i.call(r(e),t)}},"51aa":function(e,t,n){"use strict";n("c87e")},5319:function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),o=n("50c4"),s=n("a691"),a=n("1d80"),l=n("8aa5"),c=n("0cb2"),u=n("14c3"),h=Math.max,p=Math.min,d=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=r.REPLACE_KEEPS_$0,y=f?"$":"$0";return[function(n,r){var i=a(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!f&&m||"string"===typeof r&&-1===r.indexOf(y)){var a=n(t,e,this,r);if(a.done)return a.value}var g=i(e),v=String(this),b="function"===typeof r;b||(r=String(r));var w=g.global;if(w){var _=g.unicode;g.lastIndex=0}var x=[];while(1){var S=u(g,v);if(null===S)break;if(x.push(S),!w)break;var T=String(S[0]);""===T&&(g.lastIndex=l(v,o(g.lastIndex),_))}for(var E="",M=0,A=0;A<x.length;A++){S=x[A];for(var I=String(S[0]),C=h(p(s(S.index),v.length),0),O=[],k=1;k<S.length;k++)O.push(d(S[k]));var R=S.groups;if(b){var L=[I].concat(O,C,v);void 0!==R&&L.push(R);var N=String(r.apply(void 0,L))}else N=c(I,v,C,O,R,r);C>=M&&(E+=v.slice(M,C)+N,M=C+I.length)}return E+v.slice(M)}]}))},5602:function(e,t,n){"use strict";n("7077")},"565b":function(e,t,n){"use strict";t.parseLinkLabel=n("df56"),t.parseLinkDestination=n("e4ca"),t.parseLinkTitle=n("7d91")},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.11.0",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ba":function(e,t,n){"use strict";n("1fbf")},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},5706:function(e,t,n){"use strict";var r="[a-zA-Z_:][a-zA-Z0-9:._-]*",i="[^\"'=<>`\\x00-\\x20]+",o="'[^']*'",s='"[^"]*"',a="(?:"+i+"|"+o+"|"+s+")",l="(?:\\s+"+r+"(?:\\s*=\\s*"+a+")?)",c="<[A-Za-z][A-Za-z0-9\\-]*"+l+"*\\s*\\/?>",u="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",h="\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e",p="<[?][\\s\\S]*?[?]>",d="<![A-Z]+\\s+[^>]*>",f="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",m=new RegExp("^(?:"+c+"|"+u+"|"+h+"|"+p+"|"+d+"|"+f+")"),y=new RegExp("^(?:"+c+"|"+u+")");e.exports.HTML_TAG_RE=m,e.exports.HTML_OPEN_CLOSE_TAG_RE=y},"5abe":function(e,t){(function(){"use strict";if("object"===typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){var t=e,n=i(t);while(n)t=n.ownerDocument,n=i(t);return t}(window.document),t=[],n=null,r=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?m(e,n):d(),t.forEach((function(e){e._checkForIntersections()}))}),n},s._resetCrossOriginUpdater=function(){n=null,r=null},s.prototype.observe=function(e){var t=this._observationTargets.some((function(t){return t.element==e}));if(!t){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},s.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},s.prototype._parseRootMargin=function(e){var t=e||"0px",n=t.split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},s.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,o=null,s=null;this.POLL_INTERVAL?o=n.setInterval(r,this.POLL_INTERVAL):(c(n,"resize",r,!0),c(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(r),s.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(o&&e.clearInterval(o),u(e,"resize",r,!0)),u(t,"scroll",r,!0),s&&s.disconnect()}));var a=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=a){var l=i(t);l&&this._monitorIntersections(l.ownerDocument)}}},s.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,o=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;while(n&&n!=r){var o=i(n);if(n=o&&o.ownerDocument,n==t)return!0}return!1}));if(!o){var s=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),s(),t!=r){var a=i(t);a&&this._unmonitorIntersections(a.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},s.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():d();this._observationTargets.forEach((function(r){var i=r.element,s=p(i),l=this._rootContainsTarget(i),c=r.entry,u=e&&l&&this._computeTargetAndRootIntersection(i,s,t),h=null;this._rootContainsTarget(i)?n&&!this.root||(h=t):h=d();var f=r.entry=new o({time:a(),target:i,boundingClientRect:s,rootBounds:h,intersectionRect:u});c?e&&l?this._hasCrossedThreshold(c,f)&&this._queuedEntries.push(f):c&&c.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){var s=i,a=g(t),l=!1;while(!l&&a){var c=null,u=1==a.nodeType?window.getComputedStyle(a):{};if("none"==u.display)return null;if(a==this.root||9==a.nodeType)if(l=!0,a==this.root||a==e)n&&!this.root?!r||0==r.width&&0==r.height?(a=null,c=null,s=null):c=r:c=o;else{var d=g(a),f=d&&p(d),y=d&&this._computeTargetAndRootIntersection(d,f,o);f&&y?(a=d,c=m(f,y)):(a=null,s=null)}else{var v=a.ownerDocument;a!=v.body&&a!=v.documentElement&&"visible"!=u.overflow&&(c=p(a))}if(c&&(s=h(c,s)),!s)break;a=a&&g(a)}return s}},s.prototype._getRootRect=function(){var t;if(this.root&&!v(this.root))t=p(this.root);else{var n=v(this.root)?this.root:e,r=n.documentElement,i=n.body;t={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},s.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!==o<r)return!0}},s.prototype._rootIsInDom=function(){return!this.root||y(e,this.root)},s.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return y(n,t)&&(!this.root||n==t.ownerDocument)},s.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},s.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=o}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(t){return null}}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=f(e.rootBounds),this.boundingClientRect=f(e.boundingClientRect),this.intersectionRect=f(e.intersectionRect||d()),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function s(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType&&9!=n.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=l(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(){return window.performance&&performance.now&&performance.now()}function l(e,t){var n=null;return function(){n||(n=setTimeout((function(){e(),n=null}),t))}}function c(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function u(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function h(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),s=o-i,a=r-n;return s>=0&&a>=0&&{top:n,bottom:r,left:i,right:o,width:s,height:a}||null}function p(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):d()}function d(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function f(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function m(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function y(e,t){var n=t;while(n){if(n==e)return!0;n=g(n)}return!1}function g(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?i(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function v(e){return e&&9===e.nodeType}})()},"5b54":function(e,t,n){"use strict";var r=n("bd68"),i=n("0068").has,o=n("0068").isValidEntityCode,s=n("0068").fromCodePoint,a=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,c,u,h=e.pos,p=e.posMax;if(38!==e.src.charCodeAt(h))return!1;if(h+1<p)if(n=e.src.charCodeAt(h+1),35===n){if(u=e.src.slice(h).match(a),u)return t||(c="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),e.pending+=o(c)?s(c):s(65533)),e.pos+=u[0].length,!0}else if(u=e.src.slice(h).match(l),u&&i(r,u[1]))return t||(e.pending+=r[u[1]]),e.pos+=u[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5d6a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-col relative",class:"text"!==e.config.type?"sticky "+("map"===e.config.type?"top-16":"top-8")+" sm:self-start flex-2 order-1 sm:order-2 z-40":"flex order-2 sm:order-1"},[e._t("default"),n(e.getTemplate(),{tag:"component",style:e.config.customStyles,attrs:{config:e.config,configFileStructure:e.configFileStructure,slideIdx:e.slideIdx,lang:e.lang}})],2)},i=[],o=n("ade3"),s=n("d4ec"),a=n("bee2"),l=n("262e"),c=n("2caf"),u=n("9ab4"),h=n("1b40"),p=n("3101"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Scrollama",{staticClass:"flex-1 prose max-w-none my-5"},[n(e.config.titleTag||"h2",{tag:"component",staticClass:"px-10 mb-0 chapter-title top-20"},[e._v(" "+e._s(e.config.title)+" ")]),n("div",{staticClass:"px-10 md-content object-contain",domProps:{innerHTML:e._s(e.mdContent)}})],1)},f=[],m=(n("ac1f"),n("5319"),n("159b"),n("a57f")),y=n("d4cd"),g=n.n(y),v=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.md=new g.a({html:!0}),e.mdContent="",e}return Object(a["a"])(n,[{key:"mounted",value:function(){this.mdContent=this.md.render(this.config.content).replace(/<table/g,'<div class="table-container"><table').replace(/<\/table>/g,"</table></div>"),document.querySelectorAll(".storyramp-app a:not([target])").forEach((function(e){return e.target="_blank"}))}}]),n}(h["c"]);Object(u["a"])([Object(h["b"])()],v.prototype,"config",void 0),v=Object(u["a"])([Object(h["a"])({components:{Scrollama:m["a"]}})],v);var b=v,w=b,_=(n("d0ea"),n("2877")),x=Object(_["a"])(w,d,f,!1,null,"dba5ff32",null),S=x.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col h-full align-middle w-full"},[e.config.title?n("div",{staticClass:"px-10 mb-0 chapter-title top-20 map-title text-center"},[e._v(" "+e._s(e.config.title)+" ")]):e._e(),n("div",{staticClass:"w-full bg-gray-200 rv-map h-story",class:e.config.title?"rv-map-title":"rv-map",attrs:{id:"ramp-map-"+e.slideIdx}},[n("div",{staticClass:"flex items-center justify-center w-full h-full map-loading"},[n("svg",{staticClass:"animate-pulse w-52",attrs:{viewBox:"0 0 100 82.202",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m7.9894 63.572c0.33084-0.34694-0.62753 0.35843 0 0zm0.091962 1.2572c-0.28801-0.47261-0.14201 0.2214 0 0zm0.24004 0.8189-0.025114-0.0581zm-0.1133 0.39964-0.011458 0.0335zm-0.16387-0.75554 0.015634-0.0807zm0.010882-0.0964-0.044562-0.0473zm0.51699-0.63327c0.18122 0.20038 0.20074-0.34328 0 0zm-0.10114 1.2471c-0.12487-0.4479-0.11035 0.17018 0 0zm0.14893-1.4276c0.38127 0.12612-0.01597-0.4532 0 0zm-0.20889 1.1048c-0.73215-1.417-0.067265 0.47398 0 0zm-0.16664 0.35654 0.013362-0.0408zm0.090896-8e-3 -0.018291 0.0465zm-0.0463-0.10903c-0.043085-0.99176-0.47258 0.39967 0 0zm-0.0032 0.34309-0.034777-0.0322zm-1.2755-2.49c-0.28075-0.0354 0.35405 0.55358 0 0zm-0.14402-1.2625c-0.08619-0.88911-0.10584 0.84538 0 0zm0.22361 1.4407c0.21344 0.22304 0.069089-0.25374 0 0zm0.076812-1.4279c-0.33478 0.68019 0.27266-0.22237 0 0zm-0.075959 0.40413 0.053807-1e-3zm-0.20121-1.111c-0.59519-0.0876 0.029784 0.40944 0 0zm0.63605 0.68683c0.026318 0.27658-0.053128-0.205 0 0zm-0.16579 0.8059 0.010498-0.0599zm33.691-31.014c0.31911 0.17509 0.07558-0.41194 0 0zm-33.088 31.972 0.022672 0.0448zm-0.48115-0.12482c0.2524 0.40501 0.17251-0.22319 0 0zm-0.18883-0.65525c0.64005 1.4297 0.50585-0.0896 0 0zm1.1987 2.3197c-0.35709-0.49409-0.10308 0.18954 0 0zm-1.0741-3.4218c-0.4631-0.0397 0.24662 0.66897 0 0zm25.174-28.904c0.21243-0.16398-0.2342-0.37566 0 0zm-28.224 17.762c-0.45934-0.0667 0.10672 0.4408 0 0zm76.584-6.2628 0.01469-0.0235zm-76.528 6.3786c0.98639-0.30515-0.043723-0.58623 0 0zm46.061 3.2801-0.08173 0.12195zm24.497 17.661c-0.18684-1.8422 5.5751-6.1274 3.226-8.2815-1.1307 0.14935 1.4547-0.21232 1.4615-2.0347 1.3259-1.3898 0.86575-4.4603 3.9241-4.9107 1.9334-1.2935 4.8659-1.1702 5.1588-3.8774-0.45329-1.5811 2.3789-2.7446 2.1073-4.9416-0.80926-0.63418-1.2414-2.3318-1.0299-1.2092-0.3779-0.33352-2.6313 0.15306-1.9622-0.72084 0.36112 1.2588-0.69515 1.0916-1.5406 0.0527-1.2182 1.2351-0.83233 3.7673-2.1137 2.2921-0.11204 0.73201 2.9615-3.7845 0.68586-1.3412 3.3808-2.5641-1.7124-2.1079-0.8901-2.0547-0.36168-0.0899-0.67326-1.864-0.38264 5e-3 -0.6693 0.23683-1.1514-1.1581-1.0193 0.0595-0.53949-0.48362-2.8006-0.37727-1.6615-0.36105-0.45-0.28292-1.9693-1.2063-1.7017-0.89233 2.1709-0.55265 0.12996-1.9084-0.56283-1.6484-0.68764-0.90446-1.3626-1.0696-1.3964-0.60811 0.07843-1.1629-1.2016 0.67276-0.71914-1.087-0.90545-0.38039-1.1243-1.57-1.1072-0.66052-0.57374 0.18579-2.193-1.2454-1.5432-0.93926-1.0619-0.98203 0.84462 2.8316-0.14975 1.4888-0.17191 0.36619 0.14225 1.7165 0.06976 1.4475 0.76292 1.1482-1.2647-0.10244-0.90596 2.5109-0.87783-1.3352-0.42411-0.91219-1.4573 1.0203 2.1877-4.1358-0.88574-1.6354-1.4241-1.8979 0.62749-0.23196-1.2448-2.9834-0.73229-1.967-2.6191 1.1665 1.2798-1.2129-1.0031-2.0382-0.57841 0.96959-2.7746-0.47634-2.7735-0.1356-0.52537-1.7837-4.0985-0.18441-3.6653-0.17344-4.6698-1.3876 0.58113 4.876-0.72348 3.8046 0.84527 0.71117 0.63173 3.4708 0.76226 2.5532-1.383 2.6461 5.7358 3.385 2.8795 7.3722-2.2585 2.01-1.678 2.4177-0.63203 4.1497 0.6398 1.3017 1.4662 5.4447 1.4698 3.9536 0.43202 0.85716-2.1474-0.25699-0.29206 1.7133-1.9-1.5991-1.8736 0.96945-2.091-1.4988-2.8951-0.0974-2.4342-4.8708-4.2324-6.1742-2.6177 0.88198-4.445-0.0181-7.5406-2.0766-2.9607-1.5186-4.549 2.1098-4.5707-1.856-0.9432-2.77-2.4522 0.28031-2.395-3.194-0.24027-1.7352 1.4977-5.3697 1.1516-4.6726 0.03406-1.0792 0.05031-2.6639 0.57992-1.7083 3.2637-1.0918-2.3673-2.7507-1.1506-2.2605-1.1846-0.35599 3.803 0.93253 2.6735 0.26429 0.44387-0.92998 2.0637-0.76592 1.2675-0.8847 1.9475-1.0829 1.353-3.3764-1.0897-3.1429-1.948-0.79564 2.0783-0.83382 0.55456-0.43952-1.7699 0.29541 3.5414 1.45 1.9249-1.2823-0.67596-1.2884 4.0892 0.84905 0.92215-1.5217-0.32252-0.39378 2.2111 0.55213 1.6091 0.6303 1.6787-1.9862 0.22558-3.214-0.22197-4.0223 0.53105-1.3896-0.77463-2.0525-1.3217-2.2741-3.1563-0.8668-1.0132 2.8017-1.0797 1.7381-0.0441-0.43975-1.9187 8.4558-0.86371 3.6593-1.7261 0.35351-0.76223-4.6882-2.6655-2.9866 0.60039 2.9625-0.11494-0.27419-0.97458-0.57663 0.69473-1.3124-2.2694 0.33062-1.1069-1.4468 0.51225-1.6e-4 -2.2214-4.53-1.5276-3.2074-0.70319-0.36881-1.0632 2.2489-1.124 0.9253-0.4073 0.5005-0.94097 2.7805 0.80625 3.335 2.285 0.25946 2.2376 1.7735 0.80909 1.4506 1.0712 0.14857-2.0953 2.1436-0.75173 4.001-1.4932 1.0771-2.0405-0.56801-0.77299-0.77457 0.35745-1.7941-1.373-3.0052-0.74278-2.0481-0.85002-0.7729 0.22729 1.2868-0.71414 0.86244 1.5317 1.1442-0.79368 1.6129-0.77773 0.4325-2.3041 0.17494-6.2174-2.4655-4.9099-1.4636-0.06551-2.7666-4.2258 1.144-1.4433 0.0394 1.3886-0.88197 1.2313 0.20053-0.22536 0.43418-1.019-0.31245 0.3469 3.4925-0.39018 1.9975-0.10276 2.3539-0.75803-0.98932-0.60879-0.73424-0.26197-0.63886-1.2132-1.7211-2.6197-0.97914-2.2002 0.0636-3.143-1.5046-1.245-1.6747-0.92678-1.5533-3.5393-2.1063-5.2845-4.3149-2.3503 1.9783-1.7908 0.38337-1.2906-0.78013-0.92681 0.23953-0.67555 1.7909-1.4727 0.21331 0.4241-3.5361-2.4722-1.4642-1.5139-1.0898-0.71855-0.20227-0.99477-0.75256-1.6591 0.0429 0.20955 0.0727-1.4508 1.8143-1.5704 0.80953-1.5906-0.21839 3.6167-1.0704 2.2839-1.1119 2.3113-0.83165-1.7865-0.45272-1.5454-0.44061-2.2967 1.1166 0.03126-1.4459-1.9613-0.13869-0.93813-0.89556-0.36608 2.3152-1.8027-0.61582-1.107-4.754-7.1207 5.0131-5.5134 3.5025-2.4458 3.3262-4.8293 6.6981-7.1479 10.114 2.295 1.4532 0.82556 5.6827 4.2874 4.1609-0.24941 3.6355 1.1435 7.1901 1.0822 10.182-0.53514 0.62718 1.2782-0.20874-0.40647 0.80034-0.18335 1.4049-1.6076 0.34283-0.10169 1.6107-1.7149 0.21735 1.447 0.36282 0.80272 1.1336-0.75124 0.84675 1.0647 1.8609-0.69314 0.46142 0.40348 1.8826 0.79578 2.605 0.31192 2.6261 0.26795 0.98219 1.901-1.3046 0.9939 0.5147 1.0492 0.45326 0.085724 2.1739-1.1468 1.1181 1.1561 0.0684 1.3388 0.14063-0.44268 0.46603-0.057701 0.53846 2.6524 1.553 1.4636 1.4711-0.37291 0.71398 1.8111 0.13175-0.034839 0.65197-0.2898 0.88675 0.79447 1.3555 1.4247 0.62253-0.18472 0.52883-0.21911 3.0568 0.047937 1.7405 2.1299-0.87191-0.511 0.87767 1.0577 0.90383 0.88325 0.22777-0.75925 1.4645 2.1822 1.6942 11.253 3.2442 23.075 4.4015 34.754 3.6835 1.0963-0.65668 1.9399 1.1125 3.3224 0.66983 1.3205 1.0726 3.9892 0.82081 5.8311-0.0985 3.5572 0.87724 6.1085 2.5499 8.5403 4.1699 3.9508 2.8759-0.59515 9.1599 1.8526 7.5512 4.14-1.4515 3.6197-5.6041 7.623-6.0384 0.3349-1.3753 1.0959-2.9233 2.2291-3.799zm17.344-8.073c-1.1828-0.72848-4.2746 0.62826-3.2957 0.5409-1.1016 0.30929-4.1467-2.3193-3.263-1.2781-0.4686 0.10356 0.08088-2.9374-1.3088-0.6926-4.3276-7e-3 2.7213-1.2547 0.22958-2.9955-1.806-1.4324-5.7202 4.1242-6.0818 7.1663-1.9095 0.9286-3.347 5.8629-3.2417 5.3623 2.6729-0.77529 5.4443-1.7349 4.4865-4.7436-0.21503-4.7074 3.1343-2.1118 4.1095 0.18316 0.89558 1.4356 2.283-0.24444 2.3373-0.33556 1.4298-2.7676 1.8197 0.0221 1.453-1.0068 3.1459-1.6135-1.8229 2.1053-0.92005 2.0146-0.49619 1.9481 2.1422 2.0404 1.459 1.9728-0.13486-0.4752 0.07665-3.2176 0.60292-2.4321 0.65109-0.60809 2.3073-2.4354 1.6466-1.5748 0.73355-0.70519 1.1027-1.5437 1.7865-2.181zm-64.181-33.419 0.01699 0.0104zm-23.758 20.695c0.32184 0.10464 0.3169-0.35989 0 0zm28.019-19.322c0.06199 0.51392 0.26849-0.28163 0 0zm0.29765 1.3826 0.083-0.23994zm0.33264-0.41094c0.51293 0.15268-0.34641-0.55526 0 0zm-25.959 28.943c-0.54152-0.6835 0.1404 1.3694 0 0zm25.595-29.848c0.27178 0.11809 0.10625-0.59687 0 0zm-0.01878 0.19309c0.10458 0.48015 0.3852-0.2738 0 0zm-24.093 32.19-0.052853 0.0415zm24.134-33.112c0.40693 0.0293-0.0483-0.38679 0 0zm55.427 39.075c-0.22557-0.0273 0.11895 0.35011 0 0zm-79.464-4.6135c-0.3543-0.39275-0.023308 0.24231 0 0zm76.909 2.9662c-0.33076-0.49964-0.0486 0.87566 0 0zm0.96315 0.32197-0.02102 0.30957zm-34.964-36.747-0.02143 6e-3zm29.336 12.437 0.0072 5e-3zm-74.241 16.819c-0.54329-0.20083-0.22558 0.26153 0 0zm-0.6049-4.5091c-1.5343 0.12487-1.3487 1.1657 0 0zm0.34566 4.3858c-0.49786-0.42096-0.10329 0.33641 0 0zm-1.5557-4.2855c-0.067332 0.49127 0.6412-0.1114 0 0zm0.29018-0.10903c-0.34763-0.46591-0.061253 0.48624 0 0zm-0.12226-0.86969c0.5605-0.38304-0.037374-0.40524 0 0zm-0.016856-0.36038c-0.794 1.2246 0.23069 0.55461 0 0zm-0.15192 1.8288c-0.018141-1.0853-0.62728 1.0578 0 0zm-0.11287-0.7229c-0.38752-0.099 0.039682 0.42221 0 0zm0.084708 0.11544c-0.55177 0.18575 0.14746 0.55522 0 0zm0.15106-1.4315-0.16304 0.40165zm-0.53235 4.3073 0.02247-0.0538zm0.025817-3.7446c0.29295 0.69124 0.38332-0.54163 0 0zm0.1995 2.1446c-0.33572-0.93451-0.18319 1.0354 0 0zm-0.3113-1.657c0.59214-0.58333-0.31928-0.36696 0 0zm-1.024-3.9576c0.20085 0.47108 0.97519-0.50928 0 0zm0.13912 1.1618c1.0766 2.5164-0.34798-2.139 0 0zm0.8012 2.1053c-0.21025-1.6607-0.44642 0.78489 0 0zm-3.5253-4.5945-0.032037 0.0402zm1.8143 0.32773c-2.499 1.1352 0.047248 0.1669-1.5236-0.64063-0.62051 1.541-0.30096 3.1489 0.95411 1.2578l0.38727-0.30784zm-1.4104-0.71436c0.24881-0.0446-0.1446-0.23883 0 0zm3.8835 3.0456c0.41641-0.82138-0.98222 0.79169 0 0zm-1.2503-2.857c-0.83012 0.3756 0.50853 0.34966 0 0zm0.16387 1.6927c-0.43638 0.74977 0.73949 2.4265 0.22316 0.51243zm0.5123 1.6212c-0.55769 0.7993 0.40519-0.18586 0 0zm0.48669-0.35355c-0.76324 0.14292 0.20503 0.77311 0 0zm-1.4114-2.0948 0.032886 0.17476zm0.26927-0.35013-0.095703 0.0645zm0.3288 0.61748c-0.3003 0.10499 0.20591 0.27436 0 0zm-0.077239-0.28869c-0.17856 0.11163 0.35905 0.22797 0 0zm0.55454 2.6831c-0.64561 0.83316 0.74317 1.9999 0.031578-0.11885zm1.5751 10.072 0.076223-0.0967zm-1.5203-5.2531c0.22932 0.0317-0.098879-0.16591 0 0zm1.3589 5.2962 0.00598 0.0384zm-1.0604-4.2693c0.67305 0.42819-0.16706-0.32185 0 0zm1.1513 4.2356 0.019181-0.0183zm2.0714 1.491c-0.6343-1.5699-1.1181-4.5016-3.2321-5.654-2.4288-2.1671-0.5125 1.0415-0.61662 0.14419-1.5351-0.0854 0.6667 2.5422 0.63977 1.7809 0.34737 0.14803 1.6379 1.2425 0.64413 1.0839-0.07656 1.6907 1.4671 0.024 0.83377 1.8801 0.43107 0.25537 1.3504 1.4499 1.7311 0.76493zm-2.5188-5.2326c0.86126 0.1017-0.73447-0.36161 0 0zm0.00789-0.65057c-0.29169-0.34171-0.56008 0.11701 0 0zm-0.38108-0.19437 0.22449 0.0266zm-0.016429 0.57588 0.076682 0.0808zm0.81549-0.17347c-0.85347-0.39602-0.34788 0.73208 0 0zm-0.68534 0.26245c0.30523 0.31163 0.109-0.20391 0 0zm0.18968 0.0286 0.2829-7e-3zm0.3113 3.8193 0.00278 0.0392zm-2.1177-11.325c-0.084221-0.88218-0.36997 0.56288 0 0zm0.037979 1.3237c0.32176 0.0608-0.25115-0.39606 0 0zm0.47304 6.984c0.047615-0.26744-0.25167 0.12808 0 0zm-0.50206-6.7544c0.27014 0.37665-0.050366-0.39051 0 0zm0.32475-0.37894c-0.3815 0.32465 0.38802 0.7697 0 0zm-3.3051-0.91684c0.36609 0.14414-0.24407-0.30344 0 0zm3.0913 1.2365c-0.13538-0.26215 0.01426-0.0888 0 0zm1.9632 9.7635 0.01493 0.036zm-1.7048-5.0579c-0.6007 0.0241 0.15414-0.0238 0 0zm0.62965 3.1052c0.44644-1.0804-0.94755-0.19454 0 0zm1.1712 1.937 0.00178 0.0299zm-1.0961-1.8657c0.10151-0.22416 0.064866-0.0118 0 0zm0.45213 1.0542c-0.20742-0.2205-0.05356 0.30275 0 0zm-0.088548-0.19843c0.21509-0.70814-0.53758 0.0516 0 0zm0.77901 1.0408-0.00595-0.03zm59.077-13.409-0.0014-0.0794zm0.01899 0.11139c0.16263 0.25978-0.05126-0.28496 0 0zm-0.65547-2.1168-0.0651-0.0405zm0.45298 1.0071 0.03053 0.17751zm-0.02283-0.093-0.04012-7e-3zm-0.21892-0.48221-8e-4 0.0777zm-0.03265-0.0975-0.02428 0.071zm0.48328 1.3903-0.05264 0.0173zm-3.6475-7.1779 0.08192-0.017zm0.52958 0.56373-0.01579-8e-3zm-0.15789 0.37979 0.05489-0.0265zm3.2148 5.9592-0.03401 0.0457zm-3.6113-6.972 0.06307 0.0275zm0.07126-0.0638 0.01633-0.0156zm2.5873 5.0929-0.06177-0.12252zm-0.4692 2.7559 0.0408-0.0365zm0.1276-0.0757 0.0197-0.043zm-0.33584-0.46473-0.02225 9e-3zm1.7183 9.0692-0.04684-4e-3zm-0.52937-6.9951 0.31711-0.54486zm-0.7054-1.7505 0.01141 0.0416zm1.3378 9.6613-0.01154-0.0256zm-0.91279-11.95c-0.3639-0.46478 0.14563 0.41542 0 0zm-0.39558 2.2717-0.01066-0.0231zm0.80973-1.3361 0.01928-0.023zm-0.17219-0.53812c-0.28432-0.3563 0.10542 0.37277 0 0zm-0.45341 1.6984c0.07363 0.18551 0.01729-0.27883 0 0zm-0.23513 0.13464 0.0032 0.0339zm-1.8499-6.8395-0.02407-0.0255zm1.4473 6.6038-0.0028 0.0105zm27.974 8.9504 0.02325-0.0171zm1.6764 2.0434c-1.5777-1.0002-2.4713 2.7294-1.355 1.3469 0.51022 0.08-0.37766-4.6556-0.714-1.5125-0.46381 2.8303 1.63 1.9385 2.069 0.16558zm-1.0227 1.4816c-0.51011 0.39496 0.44875 0.13 0 0zm-16.533 7.4496-0.04291 0.0865zm0.15875 0.0728c1.7296-1.4657-1.1883 0.40078 0 0zm0.09794-0.4325c-0.25074-0.19161-0.20614 0.67668 0 0zm24.168-14.966c-0.4545-3.1736-1.1174 0.05-1.5184-2.5526 0.24912 2.6063-1.7509 0.75685-0.74881 0.189 0.43162-2.2033-1.0875 1.152-0.60768-0.2318-0.80458 0.21917-2.8565-1.4858-1.4577-1.3541-0.69456 0.11307-0.72022 2.3201-1.281 0.7009 0.22242 0.92808-1.1921 1.0015-1.0727 0.53401 0.17901-3.1488-1.1738 2.8048-1.1973-1.5284-0.26029-1.1094-1.3458-1.9739-0.75867-2.1895-1.008 2.9164 0.13286 4.5577 0.18492 5.0851 0.23782 0.66633 0.14799 2.7656-0.36736 2.3923 1.533-1.1774-0.37522 3.5688 2.115 1.0594 2.3277-0.48364 3.0477 0.0303 2.6629-1.35 0.41952 0.39644 1.3008-0.36325 0.81848-0.70966 0.15163-0.4063-0.27668 3.3308 0.50758 0.88-0.06316-1.2312 0.575-3.0475 1.2994-0.32146 0.73579-2.4852 0.16942 0.93254 1.4215-0.60314zm-24.423 15.762c-0.79898 0.33334 0.31469 0.17855 0 0zm22.389-16.314-0.18021-0.25067zm-0.21081-1.641c-0.7963 0.37714 0.02512 0.78109 0 0zm0.09153 1.6598c-0.30859-0.79138 0.05927 1.0553 0 0zm-2.0626 1.2173c0.14265-0.41464-0.53967 0.28607 0 0zm0.47368 0.51592-0.07983 0.0561zm-3.0659 5.0285c-0.04787-0.18272-0.12798 0.26805 0 0zm-7.4562-3.7805c5.808-0.98927-5.1784-1.2333-0.25434 0.0277zm-33.24-28.989 0.2669 0.0446zm23.193 42.146c-0.26073-0.13676-0.02548 0.1184 0 0zm10.75-26.054 0.06586-0.0105zm3.3384 17.76c-0.02415 0.21129-3.1159 0.54507-2.9539 0.45343 0.7575 1.2668 2.1866 0.0538 2.6657 0.0951 0.18608-0.14771 0.07021-0.42658 0.28826-0.54857zm-4.2832-1.4633c0.30424-0.14323-0.21611-0.42245 0 0zm0.01707 0.35163c0.52224-0.50601-0.27801-0.46542 0 0zm3.3211-8.5922c0.27085 0.25809-0.2202-0.0859 0 0zm-10.031 12.335c-0.28552 0.27481 0.2411 0.0244 0 0zm10.318-14.077c-0.20414-0.17082-0.11284 0.37617 0 0zm0.18478 8.3133 0.0029-0.0557zm-10.786 6.7582c-0.79354 0.54836 0.21392 0.53197 0 0zm10.686-5.8777c0.21437 0.56206 0.03363 0.20171 0 0zm0.08492-0.29445 0.0017 6.4e-4zm0.04374-0.0668c0.24689-0.40893 0.34041-0.55549-0.0064-0.10892zm-5.1292-3.5336c0.09215-0.19738-0.25175-0.0115 0 0zm-22.323-5.2504c-0.55035 0.62514-0.26062 1.1329 0 0zm0.1421 0.48903c-0.28391 1.4979 0.54186-0.18719 0.69116-0.12833-0.81085-2.4343-0.43125 0.87611-0.69116 0.12833zm-0.45042-4.896 0.06291 0.0531zm-0.16131-0.29444 0.05693 7e-3zm0.40839 4.2418c-0.3832-0.38753 0.1941 0.58507 0 0zm-0.86798 7.9614c2.7589 0.98677 1.4577-1.3131 0 0zm1.2019-11.658-0.05629-3e-3zm0.57674 4.9098c-0.05679 0.77845 0.17113-0.33785 0 0zm0.02326-0.63754c0.22711 1.2314 0.26958-0.83138 0 0zm-0.37062-2.3972-0.02942-0.0296zm-0.23492-1.8038 0.13528 0.011zm0.51272 7.5023c1.1592-0.55922 0.28343-0.48742 0 0zm0.31707-4.1163 0.04091 2e-3zm-0.5059-3.3441 0.29081 0.10053zm-15.409-5.7507c-0.24698-0.1767 0.08164 0.17274 0 0zm0.31173-0.13549 0.20549 0.0495zm-1.9054-2.2564c-0.27505-0.0277 0.17231 0.17951 0 0zm1.5625 0.48413c-0.44087-0.23281 0.11003 0.29122 0 0zm0.36678 0.0465 0.24759 0.0227zm0.2554 0.16728c0.31424 0.0439-0.18175-0.24405 0 0zm-1.7825 3.3049c-0.51607-0.12712 0.20918 0.38002 0 0zm15.121 6.2771c0.25115 0.37848-0.0419-0.63223 0 0zm-0.31749-6.7484 0.05383-0.0779zm-14.232-0.52851c0.37551 0.1167-0.09287-0.1757 0 0zm14.624 0.7869 0.01131-0.0148zm-14.834-0.8682c-0.21118 0.24229 0.35578-0.0214 0 0zm13.96 0.80995c0.57567-0.0169 0.31724-0.77125 0 0zm0.92986 3.7335 0.04264-8e-3zm3.8046 14.035 0.08684-0.0784zm-1.6013-4.877 0.0075 7e-3zm1.2834 3.2769 0.01461-0.0239zm-0.43634-1.8258-0.03403 0.0376zm-0.12205 1.9773 0.04703-0.0817zm-0.98768-8.586-0.01977 0.023zm0.91215 6.5395 0.05347-0.0355zm0.56991 2.904c-0.67599 0.87662 0.75715-0.279 0 0zm0.32645 0.0939 0.0019-0.048zm0.32283-1.0583-0.09046 0.053zm-0.14296 0.75853-0.08018 6e-3zm-0.6847-2.3537-0.023 0.0168zm0.1421 2.1665-0.12705 0.0682zm0.29893 0.55049c-0.15778 0.15673 0.1988-0.0198 0 0zm-0.49288-2.9605-0.02549 0.0298zm-1.019-1.312c0.54798-0.60119-0.35738 0.46679 0 0zm0.06742-0.2266 0.0014 0.0218zm-0.66763-6.2948-0.12258 0.0397zm-0.10967-0.0843-0.08509 0.0302zm-0.02624 1.4793 0.09255-0.0234zm0.38129-3.3494-0.11541-0.0304zm-0.17325 2.1416c-0.19182 0.23801 0.22426-0.0583 0 0zm-1.2282-3.0405h-0.05234zm1.6572 11.093c-0.32954 0.20976 0.33703 0.1804 0 0zm0.14168-0.40582 0.08108 0.0361zm0.03136 0.7741c-0.04031 0.40225 0.40017-0.0742 0 0zm-2.0069-7.479c-0.23353 0.25053 0.5563 0.45102 0 0zm-0.09474 0.2633c-0.06903 0.73796 0.34544-0.35843 0 0zm1.7402 5.7514-0.05705-0.05zm-1.6536-0.55326 0.0056 0.0683zm-55.815 4.2795-0.043538 0.0402zm53.627-14.421-0.02659 0.51234zm-2.1059-16.084c3.4946-0.26899-1.191-4.2812-0.31445-0.48218zm1.6907 10.785c-1.4894-2.6146-0.42459 2.9672 0 0zm0.59018-2.493c1.0804-1.2516-2.2023-0.52019 0 0zm-0.29509 7.3177-0.04797 0.0543zm0.0053 0.42952-0.02222 0.0249zm-2.1343-8.5254c-1.8126 0.0543-1.808-1.3633-4.1778-2.0223-1.505-1.0875-2.2498-0.29411-1.3139 2.719-1.9385 2.2457-1.23 1.287 0.76516 0.75661 0.97648 2.9085 1.7308-3.5083 2.7516-0.77226 0.95309 0.0163 1.6177 0.46002 1.9749-0.68107zm-3.9228-4.2377c-0.36642 0.0256 0.63372 0.27824 0 0zm-0.37852 0.75852c-1.4349-0.27221 1.6312 1.3635 0 0zm-0.84387 0.22169c-0.92429 0.17531 1.2749 1.3182 0 0zm0.97019-0.53854-0.03358 0.0728zm2.9385 6.7177c0.55121-2.6911-3.1358 2.2664-0.14824 0.50936zm6.7789-5.5079c0.26527-0.13484-0.18781-0.2174 0 0zm-3.0708 10.604c-0.11686-0.38665-0.21616 0.61497 0 0zm0.11458-0.29082c0.02372-0.49264-0.31811 0.34171 0 0zm-0.03414 0.83449 0.0094 0.0702zm-0.04459 0.0828 0.01399-0.0432zm3.1933-8.0523c1.3905-0.0619-0.523-0.24315 0 0zm-0.60789-3.6473c0.37536 0.75824-0.19739-0.5835 0 0zm-1.7511 2.8167c-1.0829-1.0687-1.0759 0.6253 0 0zm-0.90276 9.4945-0.04118-8e-3zm-0.13485-0.36358-0.05087 1.6e-4zm-0.03265 0.11906 0.01243-0.0353zm-6.0994-12.36c-0.49745-0.063 0.04982 0.27151 0 0zm6.0814 11.366-0.04979 0.1084zm0.1436 1.3231 0.02449 0.0171zm0.02582-1.0788-0.03107 0.0572zm-6.588-11.917 0.03631-0.0418zm-4.6433-7.3855c0.35365 0.65049 1.0359-0.34941 0 0zm1.4287 3.6166c-1.1902-0.27945 0.76781 2.1916 0 0zm3.8355-3.8682c0.91216-1.1708-0.94323 0.68201 0 0zm-2.6108 0.40988c0.41931-0.58791-0.15385 0.11433 0 0zm9.0327 12.641c0.33998 0.20396 2e-3 -0.2898 0 0zm-13.51-10.923c-0.06372-0.65414-0.22987 0.52204 0 0zm0.04011 0.45148c0.25356 0.27323-0.01356-0.29043 0 0zm3.4568-13.542c-0.90576-1.4687-4.1774 1.1606-3.5623 0.79715-1.2467-0.30909-1.4048 0.5171-1.987-0.79603-1.7461 0.3197 1.5994-0.56722-0.89166-0.85158 0.21876-0.34778-3.0886-1.8429-2.1745-0.89794-2.5397 0.37603 3.9639 2.8082 1.1598 1.3816 1.395 1.0718 0.64631 3.5203 2.5856 3.1583 0.2488-1.308 1.1415 0.64651 1.9037-0.41331 1.1339-0.13893 1.2873-0.47269 3.2031-0.83173-0.03416-1.0379-0.02716-2.5899-0.11924-1.3853zm-3.7685 13.292c0.38926 0.0523-0.44885-0.64134 0 0zm13.755 10.772c-0.12851-0.30322-0.41529 0.31797 0 0zm-9.5177-20.777c0.5851 3.5476 5.6618-0.63013 0.71927-0.0262l-0.36081-0.0397zm9.2329 26.438 0.01397 0.0331zm-2.1435-17.83c1.0949 1.2878 0.28588-0.84153 0 0zm-1.4398-1.0916c-1.2084-0.30602 0.20885 1.265 0 0zm-0.33328 10.883c-0.27329 0.12755 0.22524 0.0975 0 0zm-1.2894-9.4593c1.0139-0.11334 0.34883-2.3314 0 0zm0.88804 0.39366c-0.55197-0.19524-0.01203 0.95187 0 0zm-0.22084 0.92431c0.74057-0.13767-0.54038-0.62495 0 0zm4.4536 17.629-0.0013-0.0337zm-1.6444-19.363c0.69607 0.20128-0.32929-0.5228 0 0zm1.7821 17.95 0.01528-0.12128zm-5.1085-19.127c-0.32923 1.1159 0.76106-0.79689 0 0zm5.146 19.155-0.01026-2e-3zm-0.80163-8.565c-0.20266 0.6264 0.7186-0.49232 0 0zm-0.27802-9.0955c-0.59381-0.75307 0.0767 0.52343 0 0zm0.06508 0.4039c-1.1287 1.4224 2.1443-0.0793 0 0zm10.78 0.24559c0.1086 0.4832 0.58703-0.1836 0 0zm9.2849 13.851c0.53342 0.12674-0.15179-0.54763 0 0zm-0.29253-0.0207c0.54255 0.16933-0.11383-0.57882 0 0zm1.6391 1.2196c0.1093 1.051 0.01887 0.26391 0 0zm0.15747 1.1526c0.6096 0.27836 0.45218-0.42632 0 0zm-1.3203-2.0466c-0.43877 0.40847 0.65976 0.0958 0 0zm0.18222 0.13954c-0.21052 0.51852 0.30834-0.51139 0 0zm-4.5699-2.9573c0.29037 0.35173-0.03845-0.44557 0 0zm-1.3103-0.94992c0.58102 0.6034 0.6084-0.32525 0 0zm-2.1341-3.5054c0.95636 0.14165 0.08378-0.89741 0 0zm-0.05654 1.4942c-0.23514 0.2205 0.37186 9e-3 0 0zm2.1644 1.7443c0.22749-0.0524-0.16521-0.4006 0 0zm-1.7643-2.2301c0.01283 0.57937 0.93055 0.14468 0 0zm0.66912 0.35547c-2.8798 1.6008 0.88307 0.53176 0 0zm8.2211 7.5791c-0.05781 0.4184 0.87623-0.20799 0 0zm13.602 8.7603c0.39958 0.0714-0.03121-0.35295 0 0zm0.03713 0.032c-0.04745 0.30133 0.23588-0.11523 0 0zm1.2181-0.57972c-0.25839-0.0504 0.17541 0.34207 0 0zm-0.37275-0.0399c0.45829 0.35291 0.32409-0.7717 0 0zm0.49758-0.68214c0.29992 0.59523 0.37442-0.57029 0 0zm-2.6396-0.89316c0.28228 0.29244 0.09317-0.49699 0 0zm-11.48-5.8875c0.63488-0.27535-0.16319-0.15297 0 0zm-17.553-9.037-0.07777 0.0889zm28.862 14.637c0.28853 0.18415-0.19713-0.42262 0 0zm-21.598-15.49c-0.26834 0.49401 0.43488-0.16077 0 0zm20.667 13.676c0.31529-0.18731-0.20542-0.46455 0 0zm-9.9065-3.7288c0.20592 0.28953 0.13318-0.38153 0 0zm3.7689 0.3702c0.68959 0.22382 0.02004-0.7483 0 0zm-4.8567-1.5642c-0.11573 0.49342 0.31842-0.13457 0 0zm-10.321-10.868c0.63723 0.81513 0.80506 0.49051 0 0zm-16.977-8.0062c-1.6305-0.13332-1.0779-0.62235 0 0zm-3.8003 0.24665c-1.3427 1.5286 0.38952-0.31738 0 0zm4.016-4.9262c-2.1407 0.35751 0.97677 1.4249-0.96653 1.0912 1.507 1.0691-1.0229-0.55987-0.45336 0.0597-0.29726-0.27574-0.54667 1.6483-0.92333 0.028 0.58726-2.3661-2.4212 0.88219-2.8943-0.76273 1.2023-0.0751 0.7413 0.53283 0.20434 0.4685-0.70953 1.2556 1.9695 1.2566-0.20706 1.8377 2.5534 0.88141-0.15633 2.7307 0.83031 1.2905-2.5033-0.55325 0.04308-7.2539-3.0438-3.7519-0.37395 1.6328-1.118 4.6576 1.5207 4.4301 0.46432 0.22219-2.6114 0.44346 0.03551 1.5418 1.076-0.53193 0.97616 0.43253 2.9374 0.17097 3.0185 0.28628-0.68982-1.4977 2.3488-0.0762-1.9879-1.1627 2.9062-4e-3 0.49928-1.839-0.02947-0.44537 2.1148 1.2952 2.0016 0.89402 0.71758-0.0387 1.6484 2.2139 1.4507 1.7905 0.54804-1.787 2.2337-1.1831 1.7699-0.35989 0.94912 0.84651 3.234 2.3969 1.5993 4.5332 2.5513 1.4712-1.4339 2.0093 0.09509 2.8062 0.52993 0.5506-2.7762-1.5368-2.2347 1.2579 3.7259 1.002 0.56689-0.65013 3.0913-0.35632-0.53493-1.1883 0.91548 0.2179 0.57482-0.34651 0.35517-0.64418 2.409 1.3979 1.4216 0.46553 0.78652 0.26745 2.1455 0.37231 1.3729 0.27251-0.04507 0.85704 0.86022 1.1218 2.2246 0.95247 0.48078 0.35061 2.5205-1.9021 3.6034-0.49099-1.018-0.45369-4.1854-1.6399-3.1596-1.214-1.5119-0.91605-0.63372-1.2525 0.43762-0.65035 2.8103 1.1653 1.0913 0.25798 2.2291 0.58842 1.0193 0.21727-0.86606-2.2134 0.11616-1.2957-1.2832-1.0931 1.8848 0.68115-0.30947-0.69415-0.14877-0.7918-2.157-0.86851-1.368-1.0125-0.32167-1.0198-2.0547-1.9406-1.4325-0.694-1.3041-0.62691-0.60143-0.36794-1.7023-0.71163-0.69732-0.98142-0.82573-0.21078 0.55328-0.58139-2.9553-0.64284 2.9167-1.5308-0.18275-1.0982 1.0952 0.12333 1.232 0.97067 1.7528-0.51805-0.22066 1.8739 1.3251 1.4779 1.001 1.4764-0.3864 0.98193 2.2053 0.9311 0.95381 0.48494 0.734-0.33209 0.42926-1.0868-0.39964-1.4221 1.4057-4e-3 1.7675-1.0618 0.50718-0.96741-1.7761-0.15744 0.66393-1.2279-0.12668-1.2916-1.5284-1.1022-2.3459 0.40167-1.6592 0.42843-0.13369-1.397-1.2402-1.2283-1.1906-0.45484-0.35821-1.6754-0.83402 0.22471-1.2109-1.1521-0.0529 1.7955-0.22301 0.058-0.88971 0.79405-0.30325-0.66758-1.4168-0.79762-1.1705-0.43673 1.0182-0.47964-1.8874 7e-3 -1.0315-0.11179 0.36243-0.49247 1.5552-1.456 0.277-0.73689-0.4486-0.32872-2.164-0.32814 0.26039-0.76379-0.36168-1.1941-3.8415 1.3039-0.81432-0.93467-0.98923-2.5421-1.9383 2.8399-1.3192-0.42701-1.6882 2.9254 1.0121-2.7905-1.3852 5e-3 -0.15895-1.5786-1.3339-0.36624-0.77602 0.45447 1.0631-2.7514-1.8993 1.1893-0.3277-1.5671-2.0453-1.323-0.78463 2.1735-1.865-0.0491 0.02518 0.21554-0.50112 1.0074-0.53254 0.4854-0.33326 0.24291 0.0093-2.4915-0.90526-0.2217-1.259 0.55031 1.3538-2.2124-1.1882-1.6173zm8.871 4.8697c-1.4316 0.0513 0.79995 0.13707 0 0zm3.7312 12.263c1.2236-0.45694-1.4247-0.73611 0 0zm4.1261 3.0134c0.55234 1.1483 0.22284-1.286 0 0zm-8.5599-16.905c-0.66617-0.15019 0.01538 0.7316 0 0zm9.0148 20.044c0.0079-0.67212-0.45675 0.0583 0 0zm-2.1303-11.925c-0.16609-0.89981-0.27742 0.70271 0 0zm-2.2971-5.8723c0.08102 0.60257 0.44327-0.14533 0 0zm0.75191 0.43676c-0.06078-0.42606-0.57492 0.49472 0 0zm2.7862 6.4998c0.20232 0.60956 0.87307 8e-3 0 0zm-2.1744-6.3565c0.42308-9e-3 0.06521-0.79519 0 0zm-3.7623-0.62367c0.62092 0.0137 0.06941-0.51454 0 0zm-18.468 2.0524c-0.29166 0.10404 0.02164 0.47183 0 0zm11.2-6.2786c0.55582-0.0275-0.29149-0.46971 0 0zm-0.19267 0.16984c0.7297 0.85675 0.14137-0.54835 0 0zm5.5314 1.8258c-0.51642 0.18934 0.24113 0.34984 0 0zm-4.166-1.3862c-0.50107 1.0956 0.95399-0.2085 0 0zm-7.9036-7.4423c-0.21742-1.1518-0.40304 0.7442 0 0zm-1.3009-0.1692c0.19006-0.23621-0.25516 0.0224 0 0zm0.90234-5.7213c0.425 0.39341 0.11886-0.35376 0 0zm-48.088 45.956 0.14997 0.0854zm47.672-43.921c-0.38904 6e-3 0.12666 0.35578 0 0zm-12.051-0.79501c1.5985 0.2875-0.60139 1.377 1.1893 1.5544 2.3211 2.3927-1.0172-1.2611-0.01676-1.5901-4e-3 -0.80477-1.4052-0.78926-1.1726 0.0357zm2.1936-1.8266c0.80793 2.0688 0.77007-1.0725 0 0zm6.8201 4.2529c0.3934-0.27945-0.57208-0.21906 0 0zm-6.1606 2.4196c-0.87048 0.01-0.37862 1.8896-0.58378 1.1524-0.12166-0.41179-1.7377-1.2371-0.59152 0.44496-2.4277 0.23203 2.3469 0.24119 0.19295 0.66755 0.3988 1.1599 1.6944 0.92225 1.6143 0.62069-0.55138-2.2754 1.9384-0.38175-0.61714-3.0434l-0.01485 0.15786zm0.91812-7.9755c0.85673 0.0407-0.57728-0.19462 0 0zm-0.30789 1.19c1.1225 1.2955 1.9432 0.79746 1.3942 1.1408 1.2496 0.13998-0.71934 2.2162-0.07301 1.1057 0.24306 0.39552 2.1304 1.9921 1.6601 0.42921 1.0522 0.43372 1.2538-1.2461 1.0609-1.1022 1.3153-1.5655-0.87362-0.63411-0.67834-1.9321-0.27947-0.0721-3.7948-2.4975-2.6456-2.0071-0.19029 0.40548-1.3093 1.7678-0.53452 1.5243-0.53765 0.65255 1.8511 0.20909-0.18371 0.84152zm-0.52275 3.1128c1.0785 3.2215 1.9809-1.5113 0.13656-0.14445l-0.12752 0.0138zm1.8337-6.3326c1.2809 0.41622 0.85444 2.6257 0.94864 1.1483 2.975-1.9823-0.90295 1.2528 1.0807 0.11245 1.236-2.2493-0.22756 1.6347 1.0103 0.091 0.44664-0.018 1.1035-0.24301 1.6488-1.9478-0.68281 1.1536 1.9046 2.2721 0.22312 1.6155-0.42733 2.1521-2.6324 0.88456-0.01979 2.0183-3.704-2.0892-0.60179 2.0232-1.2346 1.3688 1.915 0.17562-2.5919 1.3479-0.72315 0.90992-0.07749 2.5561 1.1769 2.5799 1.2386 1.0408-0.66164 0.52895 0.70718 1.8754 0.91236-0.14445 1.066 3.1026-4.1248-0.52375-1.3515 2.0505-1.7639 3.0219-1.001 0.22196-0.09925 1.6376 1.0075-0.83769 1.9422 0.30042 1.8089-1.0756 0.78844 0.33345 0.46786-0.36791 1.7482 0.59634 1.7923-1.6957-2.5727-1.427-1.4123-1.7742-0.56994-0.97704 2.2199-0.18487 1.5462-1.9004 0.67473-0.50029 0.61516-2.4783-1.0804-1.6303-0.26851-0.84088 2.5741-0.95312-0.27416-0.85166 2.3057-1.2769 2.8541-2.0009 1.9897-1.6857-0.79959-1.0676 0.03404-0.89205 0.08976-3.9773-2.4729 3.1714-0.01223-0.35401-1.0496 0.26166 1.6317-0.53992-1.957-1.8936-0.57955-2.2985-0.34412 0.8963-2.9995 1.7499-2.152 0.65195 0.47627 0.53508 0.84927 2.0988-0.32845 1.0551-1.4894-1.1111-1.0104 1.6918-1.3102 1.0328 2.2826 0.89684-2.9017-0.88531-0.63001 0.88098-0.89045-0.24566-1.2873-0.0434-2.0003 0.81379zm-0.42418 16.956c-0.45376-0.89321-0.32093 0.80238 0 0zm-0.24174 0.52126c0.40222 0.35741 0.08662-0.65542 0 0zm0.79416-6.1975c0.48473 1.2021 0.21449-0.80656 0 0zm-1.3875 2.7794c0.26203 0.24454 0.28086-0.5209 0 0zm1.0007-1.7861c-1.5116 1.227 2.7039 2.1815 0.92486-0.1917-0.13837-0.40621-1.0744-0.2396-0.92486 0.1917zm-0.43804-0.32731c-0.70908 0.94882 0.92435-0.49563 0 0zm3.0115-2.7484c-0.73113 0.46925 0.77563 0.91921 0 0zm0.40732 0.70348-0.11159-0.0187zm2.5297-0.56885c0.15212 0.40353 0.10036-0.17913 0 0zm-2.7892-3.1538c0.10432 0.52625 0.06726-0.68936 0 0zm-2.5786 7.8037 0.16328-0.14558zm-0.72375-6.0149c2.0169 1.4087 1.4008-1.7011 0 0zm2.3202-0.13656c0.53544 1.8936 1.3322-0.84349 0 0zm-6.6765-0.0198c0.45606 2.3764 0.66572-0.3641 0 0zm3.201 7.3732c0.34503 0.75927-1.2979 0.92989 0 0zm-25.207 3.0083c0.26337 0.0446-0.31329-0.48075 0 0zm-2.1277-1.8247c0.16973 0.45825 0.49111-0.33311 0 0zm7.8276 1.7628c0.29757-0.0201-0.10775-0.23249 0 0zm-5.5412-0.41265c0.46335-0.0595-0.09299-0.25067 0 0zm0.97872 0.54195c0.33157 0.03-0.1277-0.23092 0 0zm-14.234 31.458c-0.36496-0.0965 0.24975 0.23927 0 0zm20.431-29.962 0.09761-0.0768zm-20.258 30.657-0.069635 0.0399zm0.095162-0.62816-0.029148 0.0127zm0.028805-0.53043c-1.6705-0.82728-0.14105 2.268-0.27375 1.9545 0.38498 0.20812 1.0173-1.6455 0.17327-1.7396-0.67958-0.51429 0.31047 0.18534 0.10048-0.21483zm-0.10007 0.85902c-0.40824-0.3663-0.46661 0.37213 0 0zm-4.321e-4 1.3688c-0.35242 0.0649-0.11824 0.34198 0 0zm-0.96485-3.6934 0.00617 0.0405zm31.518-36.134-3e-3 -0.0114zm0.87524-1.0372c-1.391-2.1371-1.7625-0.51227-1.9774-0.0493 0.08466 0.75454-1.9027 1.026-0.0692 1.7229 1.161-1.1338 0.82678 0.0914 2.2337 0.0291-3.7022 0.83403-0.26261 1.6369 1.3277 0.57877 1.3378 1.0451-0.11565-0.33725 1.0293-1.5038-0.64244-0.0172-0.71448-3.5775-1.3201-0.98563 0.67372 1.8751-0.87459 1.8942-1.2239 0.2079zm3.2895 5.0622c-2.6931-1.0025 0.55005 3.225 0 0zm-13.496 0.46535 0.0082-0.0318zm10.679-10.049c2.3657 1.0104 2.2483-1.6156 0 0zm-0.25242 1.5465c2.3982 1.8147 1.441-3.4787 0 0zm-3.307 2.8901c1.3455-1.8437-1.8732 1.0349 0 0zm-6.8833 5.6792c0.76472 3.254 2.8178 1.6762 4.8537-0.20803 3.7924-0.86986 0.79148-2.4816 0.06684-2.6357-1.7719-3.3875-2.9984 0.99177-4.6944 2.3357 0.02484 0.0636-0.58724 0.42301-0.22617 0.50803zm5.4695-6.3366c-0.48388 0.55834 0.3728-0.3378 0 0zm4.1029-3.0226c0.76527 0.90468 0.15281-1.146 0 0zm-4.8311 2.2647c0.95739 1.1508 1.8977-0.18858 1.8288 0.54815 1.0524-2.3841 0.8383 1.1146 1.8538-1.2105 1.5411-1.5006-1.5721-1.3092-2.781 0.24498-0.35581-0.20692-0.74594 0.12271-0.90148 0.41735zm4.2648-0.27183c0.56226 0.90934 0.99964-0.60967 0 0zm9.0242 14.287c-0.35005-0.11947 0.28196 0.32569 0 0zm-5.3174 2.7533c-0.67461-0.72254-0.21667 0.71093 0 0zm-3.501 0.80056c-0.37655-0.37401-0.07556 0.49614 0 0zm5.3545-3.1538c-0.22934 0.0829 0.17335 0.29616 0 0zm0.25732 2.1919c-0.08124-0.9517-0.74594 0.48695 0 0zm-5.9127 1.2574 0.12088 0.0143zm6.4126-2.8425c0.07524-0.97043-0.3517 0.40943 0 0zm-0.44786 0.63265c0.20569 0.0512 0.05482-0.45376 0 0zm-7.2667 1.7793c-0.48589 0.34608 0.42744-0.22965 0 0zm0.46344-1.1639c0.22381-0.10659-0.32775-0.1257 0 0zm0.76514 1.1821c0.21717-0.22057-0.32065-0.22274 0 0zm-3.1186-1.6995c0.08454-0.19076-0.35967-0.01 0 0zm1.4469 0.8204c-0.35864 0.41138 0.45969-0.11177 0 0zm1.6026 0.35974-0.20597 0.1301zm-0.79608-0.60874c0-0.39435-0.57818 0.26903 0 0zm-2.4064 0.77922 0.27846 0.0181zm9.8943-2.6921c-1.1486-1.8864-3.0637-2.8511-2.7544-6.3554-2.3084-3.7902-1.1814 5.4979-2.0241 0.58997-1.4785-2.2489-2.713-0.58362-1.477-0.072-0.84018 1.0967 0.27796-2.4596-1.6135-0.67647-0.60418 0.13821 0.6629-2.7318-1.9821-1.0101-1.9929 0.94469-1.5218 3.3229-1.3905 2.7624 4.2347 0.0366-2.5956 0.4633 0.7912 1.8278 2.337-0.24083 4.216 2.18 0.73106 0.80891-4.1383-0.27916 0.40129 3.4337 0.30131 2.5784-0.53764 2.1711 3.3196 1.1583 3.0727 1.1826 2.532-2.5487 2.8921 1.0837 5.6823-0.32865-0.46813-1.1768-1.713-0.2098-0.46346-1.3964 0.63182-0.29674 0.66873 0.26627 1.1265 0.089zm-7.0706 2.7424c-0.7203 0.26141 0.39653-0.0277 0 0zm10.579-2.2226c-0.73413-0.97869-0.18679 0.59889 0 0zm-0.23022-6.7994c-0.19754 0.0833 0.21579 0.23468 0 0zm0.30853 6.6974c0.30812 0.74403 0.78944-0.83964 0 0zm-0.58271 0.0341c-0.84195-1.4516-0.25529 1.6826-1.3281 1.4308 1.9862 1.2414 3.1171-0.36217 1.3919-1.3511l-0.04267-0.0585zm0.78306-4.9796 0.0013 0.0111zm-0.03072 0.28697c-0.30289-0.027 0.08665 0.46852 0 0zm2.5188-4.3013c-1.6772-0.67091-3.6513-0.24824-2.9365 1.8896 0.70661 3.6677 1.2802 0.8691 1.2081 0.46586 1.5551 0.47231 1.3598-1.4361 1.7285-2.3555zm-5.6726 11.32c-0.18744-0.14284 0.04275 0.41073 0 0zm0.04459-1.1678c0.23668-0.59045-0.51391-0.30481 0 0zm-0.51998-2.71c0.41482-1.5623 0.41321-1.2018 0 0zm0.29765-0.64544c-0.68566-0.30712 0.32018 0.69235 0 0zm-0.09815 3.7726c0.60153-0.85753-0.59462-0.51253 0 0zm6.2826-2.6195c-0.29637-0.0139 0.07415 0.21647 0 0zm-5.1428 3.9885c-0.18685-0.20153 0.06102 0.32436 0 0zm1.536-8.7716c-0.92395-1.189-1.6884-1.0278-0.53833-2.5229-2.2832-0.99091-2.1888 0.71958-2.4342 0.25315 0.03448 0.50423 1.2642 1.5597-0.23509 1.5707-2.1965-1.4465 2.2367 4.1491 2.0285 2.7816-0.43168-1.1966 1.3891-0.20383 1.179-2.0826zm-9.2186-0.57673 0.01763 2e-3zm5.1315-6.9846c-1.6355 0.70084 1.5813 0.27455 0 0zm-0.79117 1.953c0.19313 1.3341 0.93864-1.1099 0 0zm-8.0865 12.078 0.01651 0.10137zm4.2014-7.278-0.03577-0.0393zm4.1385-7.326c0.77202 1.5829 0.91165-0.83916 0 0zm-2.481 5.6933c0.54274 0.24523 0.04668-0.41514 0 0zm3.5701-4.7118c-1.3195 6.4e-4 -0.61244 0.77347 0 0zm0.65312-3.4429c-1.5767-0.4647 0.28142 0.91648 0 0zm-0.68171-0.85091c-0.56089 0.0548 0.14372 0.55239 0 0zm0.72652 3.0478c-0.81458 0.76177 0.94333-0.39621 0 0zm-0.73442 1.4541c-1.6706 0.81603 0.87626 0.0845 0 0zm-5.3129 6.144 0.08463 0.0283zm-4.7929 3.3676 0.15984-0.0314zm-0.2554-0.0574 0.12185 0.1039zm0.18158-0.0811c-0.3228-0.0629 0.17959 0.16027 0 0zm0.52382 0.13848-0.11766-0.0175zm1.8222 0.93072-0.14198-0.0594zm-1.6762 2.5034 0.05727 0.0644zm2.5773-2.4025-0.39543-0.13887zm1.6158-4.3047-0.054-0.0526zm-5.1366 3.1098c0.26032-0.0704-0.62685-0.11864 0 0z",fill:"#818283","fill-rule":"evenodd"}})])])])])},E=[];function M(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){M(o,r,i,s,a,"next",e)}function a(e){M(o,r,i,s,a,"throw",e)}s(void 0)}))}}function I(e){if(Array.isArray(e))return e}function C(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){a=!0,i=l}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){return I(e)||C(e,t)||k(e,t)||R()}n("d3b7"),n("e6cf"),n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("3ca3"),n("ddb0"),n("fb6a"),n("b0c0"),n("a630"),n("96cf");var N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-slider absolute w-full left-0 flex flex-col items-center bg-white"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",hideOnClick:!1},expression:"{ placement: 'top', hideOnClick: false }"}],staticClass:"absolute top-1 left-4 play-button",attrs:{content:e.$t(e.intervalID>=0?"timeslider.pause":"timeslider.play")},on:{click:function(t){e.intervalID>=0?e.endLoop():e.startLoop()}}},[-1===e.intervalID?n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#595959"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M8 5v14l11-7z"}})]):n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#595959"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}})])]),n("span",{staticClass:"my-2.5 text-base range-display"},[n("span",{},[e._v(e._s(e.range[0]))]),e.range[1]?n("span",{},[e._v(" - "+e._s(e.range[1]))]):e._e()]),n("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",hideOnClick:!1},expression:"{ placement: 'top', hideOnClick: false }"}],staticClass:"absolute top-1 right-4 minimize-button",attrs:{content:e.$t(e.minimized?"timeslider.expand":"timeslider.minimize")},on:{click:function(t){return e.minimizeToggle()}}},[e.minimized?n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"6 6 36 36",fill:"#595959"}},[n("path",{attrs:{d:"M14.15 30.75 12 28.6l12-12 12 11.95-2.15 2.15L24 20.85Z"}})]):n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"6 6 36 36",height:"24",width:"24",fill:"#595959"}},[n("path",{attrs:{d:"m24 30.75-12-12 2.15-2.15L24 26.5l9.85-9.85L36 18.8Z"}})])]),n("div",{staticClass:"time-slider-backdrop"}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.minimized,expression:"!minimized"}],ref:"sliderTarget",staticClass:"noUi-target noUiSlider"})])},P=[],D=(n("d81d"),n("1276"),n("99af"),n("f528")),F=n.n(D),j=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.minimized=!1,e.range=["",""],e.intervalID=-1,e}return Object(a["a"])(n,[{key:"mounted",value:function(){var e=this;this.start=2010,this.end=2019,this.sliderElement=this.$refs.sliderTarget,this.slider=F.a.create(this.sliderElement,{start:this.config.start,range:{min:this.config.range[0],max:this.config.range[1]},connect:!0,step:1,pips:{mode:D["PipsMode"].Steps,density:1,filter:function(e){return e%1===0?1:-1}}}),this.slider.on("update",(function(){var t,n=e.slider.get();switch(Array.isArray(n)?e.range=n.map((function(e){return e.split(".")[0]})):e.range=[n.split(".")[0]],e.range.length){case 1:t="".concat(e.config.attribute," = ").concat(e.range[0]);break;default:t="".concat(e.config.attribute," >= ").concat(e.range[0]," AND ").concat(e.config.attribute," <= ").concat(e.range[1]);break}e.config.layers&&0!==e.config.layers.length?e.config.layers.forEach((function(n){var r=e.mapi.layers.getLayersById(n);r.forEach((function(e){e.setFilterSql("time_slider",t)}))})):e.mapi.layers.allLayers.forEach((function(e){e.setFilterSql("time_slider",t)}))}));var t=this.sliderElement.querySelectorAll(".noUi-handle");t.forEach((function(e){e.setAttribute("tabindex","-2")}))}},{key:"startLoop",value:function(){var e=this.slider.get();Array.isArray(e)&&this.slider.set(e.map((function(){return e[0]}))),this.intervalID=window.setInterval(this.moveHandleRight,1400)}},{key:"moveHandleRight",value:function(){var e,t=this,n=this.slider.get(!0);e=Array.isArray(n)?n.map((function(){return n[0]===t.config.range[1]?t.config.range[0]:n[0]+1})):[n===this.config.range[1]?this.config.range[0]:n+1],this.slider.set(e)}},{key:"endLoop",value:function(){clearInterval(this.intervalID),this.intervalID=-1}},{key:"minimizeToggle",value:function(){this.minimized=!this.minimized,this.$el.closest(".rv-content-pane").style.minHeight=this.minimized?window.matchMedia("(max-width: 640px)").matches?"32px":"50px":window.matchMedia("(max-width: 640px)").matches?"90px":"110px"}}]),n}(h["c"]);Object(u["a"])([Object(h["b"])()],j.prototype,"config",void 0),Object(u["a"])([Object(h["b"])()],j.prototype,"mapi",void 0),j=Object(u["a"])([h["a"]],j);var U=j,z=U,G=(n("56ba"),Object(_["a"])(z,N,P,!1,null,null,null)),V=G.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"scrollGuard",staticClass:"sg"},[n("p",{staticClass:"sg-label"},[e._v(" "+e._s(e.$t("scrollguard.desc"))+" ")])])},$=[],H=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return n}(h["c"]);Object(u["a"])([Object(h["b"])()],H.prototype,"lang",void 0),H=Object(u["a"])([h["a"]],H);var W=H,q=W,Z=(n("333f"),Object(_["a"])(q,B,$,!1,null,null,null)),Y=Z.exports,X=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.intersectTimeoutHandle=-1,e.scrollguardOpen=!1,e.mapComponent=void 0,e}return Object(a["a"])(n,[{key:"mounted",value:function(){var e=this,t="".concat(this.config.config.substring(this.config.config.indexOf("/")+1));if(this.configFileStructure){var n=this.configFileStructure.zip.file(t);n&&n.async("string").then((function(t){e.config.config=t}))}var r=new IntersectionObserver((function(t){var n=L(t,1),i=n[0];i.isIntersecting?e.intersectTimeoutHandle=window.setTimeout((function(){var t,n;e.init(),r.disconnect(),null===(t=e.mapComponent)||void 0===t||null===(n=t.querySelector(".map-loading"))||void 0===n||n.remove()}),350):clearTimeout(e.intersectTimeoutHandle)}),{threshold:[0]});r.observe(this.$el)}},{key:"init",value:function(){var e=this;this.mapComponent=this.config.title?this.$el.children[1]:this.$el.children[0],new RAMP.Map(this.mapComponent,this.config.config),RAMP.mapAdded.pipe().subscribe(function(){var t=A(regeneratorRuntime.mark((function t(n){var r,i,o,s,a,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.config.scrollguard&&n.id===(null===(r=e.mapComponent)||void 0===r?void 0:r.id)&&(o=n.panels.create("scrollguard"),s=new h["c"]({render:function(t){return t("scrollguard",{props:{lang:e.lang}})},components:{scrollguard:Y},i18n:e.$i18n}).$mount(),o.body=s.$el,o.element.css({opacity:.45,zindex:100,top:0,left:0,position:"absolute"}),e.mapComponent.addEventListener("wheel",(function(t){t.ctrlKey?(o.close(),e.scrollguardOpen=!1):(t.stopPropagation(),o.open(),e.scrollguardOpen||window.setTimeout((function(){o.close(),e.scrollguardOpen=!1}),3e3),e.scrollguardOpen=!0)}),{capture:!0})),e.config.timeSlider&&n.id===(null===(i=e.mapComponent)||void 0===i?void 0:i.id)&&(a=n.panels.create("time-slider-container"),l=new h["c"]({render:function(t){return t("time-slider",{props:{config:e.config.timeSlider,mapi:n}})},components:{"time-slider":V},i18n:e.$i18n}).$mount(),a.body=l.$el,a.element.css({bottom:"73px",right:"60px",left:"auto",top:"auto",width:"50%",padding:"5px","min-height":window.matchMedia("(max-width: 640px)").matches?"90px":"110px"}),a.open()),c=document.getElementById("ramp-map-".concat(e.slideIdx)),null===c||void 0===c||c.removeAttribute("rv-trap-focus");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),n}(h["c"]);Object(u["a"])([Object(h["b"])()],X.prototype,"config",void 0),Object(u["a"])([Object(h["b"])()],X.prototype,"slideIdx",void 0),Object(u["a"])([Object(h["b"])()],X.prototype,"lang",void 0),Object(u["a"])([Object(h["b"])()],X.prototype,"configFileStructure",void 0),X=Object(u["a"])([Object(h["a"])({components:{}})],X);var J=X,K=J,Q=(n("3480"),Object(_["a"])(K,T,E,!1,null,"07c044f7",null)),ee=Q.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"graphic self-start justify-center flex flex-col h-full align-middle py-5 w-full"},[n("full-screen",{attrs:{expandable:e.config.fullscreen,type:e.config.type}},[n("img",{ref:"img",staticClass:"graphic-image px-10 mx-auto my-6 flex object-contain sm:max-w-screen sm:max-h-screen",class:e.config.class,style:{width:e.config.width+"px",height:e.config.height+"px"},attrs:{src:e.slideIdx>2?"":e.config.src,alt:e.config.altText||""}})]),e.config.caption?n("div",{staticClass:"text-center text-sm max-w-full graphic-caption",domProps:{innerHTML:e._s(e.md.render(e.config.caption))}}):e._e()],1)},ne=[],re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fullscreen",{attrs:{pageOnly:!0,teleport:!0,fullscreenClass:"fullscreenElement"},model:{value:e.fullscreen,callback:function(t){e.fullscreen=t},expression:"fullscreen"}},[n("div",{staticClass:"relative bg-white"},[void 0===e.expandable||e.expandable?n("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",hideOnClick:!1},expression:"{ placement: 'top', hideOnClick: false }"}],staticClass:"fullscreenButton expand-button absolute items-center justify-center p-3 z-10",class:[e.fullscreen?"top-0":"bottom-0","image"===e.type?"right-10":"right-2"],attrs:{"aria-label":e.$t("image.fullscreen"),content:e.$t(e.fullscreen?"fullscreen.deactivate":"fullscreen.activate")},on:{click:e.toggleFullscreen}},[n("svg",{directives:[{name:"show",rawName:"v-show",value:e.fullscreen,expression:"fullscreen"}],attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#595959"}},[n("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",fill:"#666666"}})]),n("svg",{directives:[{name:"show",rawName:"v-show",value:!e.fullscreen,expression:"!fullscreen"}],attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#595959"}},[n("path",{attrs:{d:"M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"}})])]):e._e(),e._t("default")],2)])},ie=[],oe=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.fullscreen=!1,e}return Object(a["a"])(n,[{key:"toggleFullscreen",value:function(){this.fullscreen=!this.fullscreen}}]),n}(h["c"]);Object(u["a"])([Object(h["b"])()],oe.prototype,"expandable",void 0),Object(u["a"])([Object(h["b"])()],oe.prototype,"type",void 0),oe=Object(u["a"])([h["a"]],oe);var se=oe,ae=se,le=(n("7375"),Object(_["a"])(ae,re,ie,!1,null,null,null)),ce=le.exports,ue=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.md=new g.a({html:!0}),e.observer=e.slideIdx>2?new IntersectionObserver((function(t){var n=L(t,1),r=n[0];r.isIntersecting&&(e.$refs.img.setAttribute("src",e.config.src),e.$forceUpdate(),e.observer.disconnect())})):void 0,e}return Object(a["a"])(n,[{key:"mounted",value:function(){var e;null===(e=this.observer)||void 0===e||e.observe(this.$refs.img)}}]),n}(h["c"]);Object(u["a"])([Object(h["b"])()],ue.prototype,"config",void 0),Object(u["a"])([Object(h["b"])()],ue.prototype,"slideIdx",void 0),ue=Object(u["a"])([Object(h["a"])({components:{"full-screen":ce}})],ue);var he=ue,pe=he,de=(n("b13b"),Object(_["a"])(pe,te,ne,!1,null,null,null)),fe=de.exports,me=function(){var e=this;e.$createElement;return e._self._c,e._m(0)},ye=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-gray-100 text-center inline-block h-full align-middle"},[n("h1",{staticClass:"align-middle"},[e._v("Temporary Audio Panel")])])}],ge=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return n}(h["c"]);Object(u["a"])([Object(h["b"])()],ge.prototype,"config",void 0),ge=Object(u["a"])([Object(h["a"])({})],ge);var ve=ge,be=ve,we=Object(_["a"])(be,me,ye,!1,null,null,null),_e=we.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-container self-start justify-center flex flex-col h-full align-middle py-5 w-full"},["YouTube"===e.config.videoType?[n("iframe",{staticClass:"media-player",attrs:{src:e.config.src,width:e.config.width?e.config.width:"100%",height:e.config.height?e.config.height:"500px",allowfullscreen:""}})]:e._e(),"local"===e.config.videoType||"external"===e.config.videoType?[n("video",{staticClass:"media-player",attrs:{title:e.config.title,poster:e.config.thumbnailUrl,width:e.config.width?e.config.width:"100%",height:e.config.height?e.config.height:"500px",controls:""}},[n("source",{attrs:{type:e.fileType,src:e.config.src}}),e.config.caption?n("track",{attrs:{kind:"captions",src:e.config.caption,srclang:e.lang,label:e.langs[e.lang]}}):e._e()])]:e._e(),n("figcaption",{staticClass:"bg-gray-200 rounded"},[n("button",{staticClass:"flex w-full items-center justify-between p-4",class:{"hover:bg-gray-300":e.config.transcript,"cursor-pointer":e.config.transcript,"pointer-events-none":!e.transcriptContent},on:{click:function(t){return e.toggleTranscript()}}},[n("span",{staticClass:"font-semibold"},[e._v(e._s(e.config.title)+" "),e.config.transcript?n("span",[e._v("("+e._s(e.$t("video.transcript"))+")")]):e._e()]),e.config.transcript?n("div",{staticClass:"float-right"},[e.expandTranscript?n("svg",{staticClass:"h-6 w-6"},[n("g",{attrs:{id:"chevron-down"}},[n("path",{attrs:{d:"M 7.41348,8.58407L 11.9995,13.1701L 16.5855,8.58407L 17.9995,9.99807L 11.9995,15.9981L 5.99948,9.99807L 7.41348,8.58407 Z "}})])]):n("svg",{staticClass:"h-6 w-6"},[n("g",{attrs:{id:"chevron-up"}},[n("path",{attrs:{d:"M 7.41351,15.4121L 11.9995,10.8261L 16.5855,15.4121L 17.9995,13.9981L 11.9995,7.99807L 5.99951,13.9981L 7.41351,15.4121 Z "}})])])]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.expandTranscript,expression:"expandTranscript"}],staticClass:"content border border-gray-300 p-4"},[n("div",{domProps:{innerHTML:e._s(e.transcriptContent)}})])])],2)},Se=[],Te=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.lang="en",e.langs={en:"English",fr:"French"},e.fileType="",e.expandTranscript=!1,e.md=new g.a({html:!0}),e.rawTranscript="",e.transcriptContent="",e}return Object(a["a"])(n,[{key:"created",value:function(){if(this.lang=this.$route.params.lang?this.$route.params.lang:"en","external"===this.config.videoType||"local"===this.config.videoType){var e=this.extensionType(this.config.src);this.fileType="video/".concat(e)}}},{key:"mounted",value:function(){var e=this;if(this.config.transcript){var t=this.extensionType(this.config.transcript);fetch(this.config.transcript).then((function(n){n.text().then((function(n){e.rawTranscript=n,e.transcriptContent="md"===t?e.md.render(e.rawTranscript):e.rawTranscript}))}))}}},{key:"toggleTranscript",value:function(){this.expandTranscript=!this.expandTranscript}},{key:"extensionType",value:function(e){var t=e.substring(e.lastIndexOf("/")+1);return t.split(".").pop()}}]),n}(h["c"]);Object(u["a"])([Object(h["b"])()],Te.prototype,"config",void 0),Te=Object(u["a"])([Object(h["a"])({})],Te);var Ee=Te,Me=Ee,Ae=(n("bfff"),Object(_["a"])(Me,xe,Se,!1,null,null,null)),Ie=Ae.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return 1===e.config.images.length?n("div",[n("image-panel",{key:e.config.images[0].src,attrs:{config:e.config.images[0],configFileStructure:e.configFileStructure}})],1):n("div",{staticClass:"flex"},[n("div",{ref:"images",staticClass:"carousel self-center px-10 my-8 mx-auto bg-gray-200_ h-28_",style:{width:e.width+"px"}},[n("full-screen",{attrs:{expandable:e.config.fullscreen,type:e.config.type}},[-1!==e.width?n("hooper",{ref:"carousel",staticClass:"h-full bg-white",attrs:{infiniteScroll:e.config.loop}},[e._l(e.config.images,(function(t,r){return n("slide",{key:r,staticClass:"self-center",attrs:{index:r}},[n("img",{staticClass:"m-auto story-graphic carousel-image",style:{width:t.width+"px",height:t.height+"px"},attrs:{"data-src":t.src,src:e.slideIdx>2?"":t.src,alt:t.altText||""}}),t.caption?n("div",{staticClass:"text-center my-8 text-sm",domProps:{innerHTML:e._s(e.md.render(t.caption))}}):e._e()])})),n("hooper-navigation",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"}),n("hooper-pagination",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"})],2):e._e()],1),e.config.caption?n("div",{staticClass:"text-center mt-5 text-sm",domProps:{innerHTML:e._s(e.md.render(e.config.caption))}}):e._e()],1)])},Oe=[],ke=(n("2b3d"),n("8bbf")),Re=n.n(ke);
/**
  * Hopper 0.3.4
  * (c) 2019
    * @license MIT
    */function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Le(e,t,n[t])}))}return e}function Pe(e){return De(e)||Fe(e)||je()}function De(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Fe(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function je(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ue(e,t,n){return Math.max(Math.min(e,n),t)}function ze(){return Date.now()}function Ge(e,t){this.create=function(){return window.setInterval(e,t)},this.stop=function(){this.timer&&(window.clearInterval(this.timer),this.timer=null)},this.start=function(){this.timer||(this.timer=this.create())},this.restart=function(e){t=e||t,this.stop(),this.start()},this.timer=this.create()}function Ve(e){return e=e.replace(/([A-Z]+)/g," $1"),e.charAt(0).toUpperCase()+e.slice(1)}function Be(e,t){var n;return n=e<0?(e+t)%t:e%t,n!==n?0:n}function $e(e,t){var n=t.children||t.componentOptions.children||t.text,r=t.componentOptions.Ctor;return e(r,t.data,n)}function He(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var i=Object.keys(Object(r)),o=0,s=i.length;o<s;o++){var a=i[o],l=Object.getOwnPropertyDescriptor(r,a);void 0!==l&&l.enumerable&&(t[a]=r[a])}}}return t}var We=Object.assign||He;function qe(e){return e<0?-1:e>0?1:0}var Ze=Math.sign||qe;function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.$scopedSlots.default?e.$scopedSlots.default(t)||[]:e.$slots.default||[]}var Xe=new Re.a,Je={name:"Hooper",provide:function(){return{$hooper:this}},props:{itemsToShow:{default:1,type:Number},itemsToSlide:{default:1,type:Number},initialSlide:{default:0,type:Number},infiniteScroll:{default:!1,type:Boolean},centerMode:{default:!1,type:Boolean},vertical:{default:!1,type:Boolean},rtl:{default:null,type:Boolean},autoPlay:{default:!1,type:Boolean},playSpeed:{default:2e3,type:Number},mouseDrag:{default:!0,type:Boolean},touchDrag:{default:!0,type:Boolean},wheelControl:{default:!0,type:Boolean},keysControl:{default:!0,type:Boolean},shortDrag:{default:!0,type:Boolean},transition:{default:300,type:Number},hoverPause:{default:!0,type:Boolean},trimWhiteSpace:{default:!1,type:Boolean},settings:{default:function(){return{}},type:Object},group:{type:String,default:null}},data:function(){return{isDragging:!1,isSliding:!1,isTouch:!1,isHover:!1,isFocus:!1,initialized:!1,slideWidth:0,slideHeight:0,slidesCount:0,trimStart:0,trimEnd:1,currentSlide:null,timer:null,defaults:{},breakpoints:{},delta:{x:0,y:0},config:{}}},computed:{slideBounds:function(){var e=this.config,t=this.currentSlide,n=e.itemsToShow,r=e.centerMode?Math.ceil(t-n/2):t,i=e.centerMode?Math.floor(t+n/2):Math.floor(t+n-1);return{lower:r,upper:i}},trackTransform:function(){var e=this.config,t=e.infiniteScroll,n=e.vertical,r=e.rtl,i=e.centerMode,o=r?-1:1,s=n?this.slideHeight:this.slideWidth,a=n?this.containerHeight:this.containerWidth,l=n?this.delta.y:this.delta.x,c=t?s*this.slidesCount:0,u=i?(a-s)/2:0,h=l+o*(u-c-this.currentSlide*s);return n?"transform: translate(0, ".concat(h,"px);"):"transform: translate(".concat(h,"px, 0);")},trackTransition:function(){return this.initialized&&this.isSliding?"transition: ".concat(this.config.transition,"ms"):""}},watch:{group:function(e,t){e!==t&&(Xe.$off("slideGroup:".concat(t),this._groupSlideHandler),this.addGroupListeners())}},methods:{slideTo:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.isSliding&&e!==this.currentSlide){this.$emit("beforeSlide",{currentSlide:this.currentSlide,slideTo:a});var r=this.config,i=r.infiniteScroll,o=r.transition,s=this.currentSlide,a=i?e:Ue(e,this.trimStart,this.slidesCount-this.trimEnd);this.group&&n&&Xe.$emit("slideGroup:".concat(this.group),e),this.currentSlide=a,this.isSliding=!0,window.setTimeout((function(){t.isSliding=!1,t.currentSlide=Be(a,t.slidesCount)}),o),this.$emit("slide",{currentSlide:this.currentSlide,slideFrom:s})}},slideNext:function(){this.slideTo(this.currentSlide+this.config.itemsToSlide)},slidePrev:function(){this.slideTo(this.currentSlide-this.config.itemsToSlide)},initEvents:function(){null===this.defaults.rtl&&(this.defaults.rtl="rtl"===getComputedStyle(this.$el).direction),this.config.autoPlay&&this.initAutoPlay(),this.config.mouseDrag&&this.$refs.list.addEventListener("mousedown",this.onDragStart),this.config.touchDrag&&this.$refs.list.addEventListener("touchstart",this.onDragStart,{passive:!0}),this.config.keysControl&&this.$el.addEventListener("keydown",this.onKeypress),this.config.wheelControl&&(this.lastScrollTime=ze(),this.$el.addEventListener("wheel",this.onWheel,{passive:!1})),window.addEventListener("resize",this.update)},initAutoPlay:function(){var e=this;this.timer=new Ge((function(){e.isSliding||e.isDragging||e.isHover&&e.config.hoverPause||e.isFocus||(e.currentSlide!==e.slidesCount-1||e.config.infiniteScroll?e.slideNext():e.slideTo(0))}),this.config.playSpeed)},initDefaults:function(){this.breakpoints=this.settings.breakpoints,this.defaults=We({},this.$props,this.settings),this.config=We({},this.defaults)},update:function(){this.breakpoints&&this.updateConfig(),this.updateWidth(),this.updateTrim(),this.$emit("updated",{containerWidth:this.containerWidth,containerHeight:this.containerHeight,slideWidth:this.slideWidth,slideHeight:this.slideHeight,settings:this.config})},updateTrim:function(){var e=this.config,t=e.trimWhiteSpace,n=e.itemsToShow,r=e.centerMode,i=e.infiniteScroll;if(!t||i)return this.trimStart=0,void(this.trimEnd=1);this.trimStart=r?Math.floor((n-1)/2):0,this.trimEnd=r?Math.ceil(n/2):n},updateWidth:function(){var e=this.$el.getBoundingClientRect();this.containerWidth=e.width,this.containerHeight=e.height,this.config.vertical?this.slideHeight=this.containerHeight/this.config.itemsToShow:this.slideWidth=this.containerWidth/this.config.itemsToShow},updateConfig:function(){var e,t=this,n=Object.keys(this.breakpoints).sort((function(e,t){return t-e}));n.some((function(n){if(e=window.matchMedia("(min-width: ".concat(n,"px)")).matches,e)return t.config=We({},t.config,t.defaults,t.breakpoints[n]),!0})),e||(this.config=We(this.config,this.defaults))},restartTimer:function(){this.timer&&this.timer.restart()},restart:function(){var e=this;this.$nextTick((function(){e.update()}))},onDragStart:function(e){this.isTouch="touchstart"===e.type,(this.isTouch||0===e.button)&&(this.startPosition={x:0,y:0},this.endPosition={x:0,y:0},this.isDragging=!0,this.startPosition.x=this.isTouch?e.touches[0].clientX:e.clientX,this.startPosition.y=this.isTouch?e.touches[0].clientY:e.clientY,document.addEventListener(this.isTouch?"touchmove":"mousemove",this.onDrag),document.addEventListener(this.isTouch?"touchend":"mouseup",this.onDragEnd))},isInvalidDirection:function(e,t){return this.config.vertical?!!this.config.vertical&&Math.abs(t)<=Math.abs(e):Math.abs(e)<=Math.abs(t)},onDrag:function(e){if(!this.isSliding){this.endPosition.x=this.isTouch?e.touches[0].clientX:e.clientX,this.endPosition.y=this.isTouch?e.touches[0].clientY:e.clientY;var t=this.endPosition.x-this.startPosition.x,n=this.endPosition.y-this.startPosition.y;this.isInvalidDirection(t,n)||(this.delta.y=n,this.delta.x=t,this.isTouch||e.preventDefault())}},onDragEnd:function(){var e=this.config.shortDrag?.5:.15;if(this.isDragging=!1,this.config.vertical){var t=Math.round(Math.abs(this.delta.y/this.slideHeight)+e);this.slideTo(this.currentSlide-Ze(this.delta.y)*t)}if(!this.config.vertical){var n=(this.config.rtl?-1:1)*Ze(this.delta.x),r=Math.round(Math.abs(this.delta.x/this.slideWidth)+e);this.slideTo(this.currentSlide-n*r)}this.delta.x=0,this.delta.y=0,document.removeEventListener(this.isTouch?"touchmove":"mousemove",this.onDrag),document.removeEventListener(this.isTouch?"touchend":"mouseup",this.onDragEnd),this.restartTimer()},onTransitionend:function(){this.isSliding=!1,this.$emit("afterSlide",{currentSlide:this.currentSlide})},onKeypress:function(e){var t=e.key;return t.startsWith("Arrow")&&e.preventDefault(),this.config.vertical?("ArrowUp"===t&&this.slidePrev(),void("ArrowDown"===t&&this.slideNext())):this.config.rtl?("ArrowRight"===t&&this.slidePrev(),void("ArrowLeft"===t&&this.slideNext())):("ArrowRight"===t&&this.slideNext(),void("ArrowLeft"===t&&this.slidePrev()))},onWheel:function(e){if(e.preventDefault(),!(ze()-this.lastScrollTime<200)){this.lastScrollTime=ze();var t=e.wheelDelta||-e.deltaY,n=Ze(t);-1===n&&this.slideNext(),1===n&&this.slidePrev()}},addGroupListeners:function(){var e=this;this.group&&(this._groupSlideHandler=function(t){e.slideTo(t,!1)},Xe.$on("slideGroup:".concat(this.group),this._groupSlideHandler))}},created:function(){this.initDefaults()},mounted:function(){var e=this;this.initEvents(),this.addGroupListeners(),this.$nextTick((function(){e.update(),e.slideTo(e.config.initialSlide||0),setTimeout((function(){e.$emit("loaded"),e.initialized=!0}),e.transition)}))},beforeDestroy:function(){window.removeEventListener("resize",this.update),this.group&&Xe.$off("slideGroup:".concat(this.group),this._groupSlideHandler),this.timer&&this.timer.stop()},render:function(e){var t=this,n=et.call(this,e);return e("section",{class:{hooper:!0,"is-vertical":this.config.vertical,"is-rtl":this.config.rtl},attrs:{tabindex:"0"},on:{focusin:function(){return t.isFocus=!0},focusout:function(){return t.isFocus=!1},mouseover:function(){return t.isHover=!0},mouseleave:function(){return t.isHover=!1}}},n)}};function Ke(e,t){for(var n=[],r=[],i=t.length,o=0;o<i;o++){var s=t[o],a=$e(e,s),l=o-i;a.data.key="before_".concat(o),a.key=a.data.key,a.componentOptions.propsData.index=l,a.data.props={index:l,isClone:!0},n.push(a);var c=$e(e,s);l=o+i,c.data.key="after_".concat(l),c.componentOptions.propsData.index=l,c.key=c.data.key,c.data.props={index:l,isClone:!0},r.push(c)}return[].concat(n,Pe(t),r)}function Qe(e){for(var t=Ye(this),n=t.length,r=0,i=[],o=0;o<n;o++){var s=t[o],a=s.componentOptions&&s.componentOptions.Ctor;a&&"HooperSlide"===a.options.name&&(s.componentOptions.propsData.index=r,s.data.key=r,s.key=r,s.data.props=Ne({},s.data.props||{},{isClone:!1,index:r++}),i.push(s))}return this.slidesCount=i.length,this.config.infiniteScroll&&(i=Ke(e,i)),e("ul",{class:{"hooper-track":!0,"is-dragging":this.isDragging},style:this.trackTransform+this.trackTransition,ref:"track",on:{transitionend:this.onTransitionend}},i)}function et(e){var t=Qe.call(this,e),n=this.$slots["hooper-addons"]||[],r=e("div",{class:"hooper-liveregion hooper-sr-only",attrs:{"aria-live":"polite","aria-atomic":"true"}},"Item ".concat(this.currentSlide+1," of ").concat(this.slidesCount)),i=[t].concat(Pe(n),[r]);return[e("div",{class:"hooper-list",ref:"list"},i)]}var tt={name:"HooperSlide",inject:["$hooper"],props:{isClone:{type:Boolean,default:!1},index:{type:Number,required:!0}},computed:{style:function(){var e=this.$hooper||{},t=e.config,n=e.slideHeight,r=e.slideWidth;return t.vertical?"height: ".concat(n,"px"):"width: ".concat(r,"px")},isActive:function(){var e=this.$hooper.slideBounds,t=e.upper,n=e.lower;return this.index>=n&&this.index<=t},isPrev:function(){var e=this.$hooper.slideBounds.lower,t=this.$hooper.config.itemsToSlide;return this.index<e&&this.index>=e-t},isNext:function(){var e=this.$hooper.slideBounds.upper,t=this.$hooper.config.itemsToSlide;return this.index>e&&this.index<=e+t},isCurrent:function(){return this.index===this.$hooper.currentSlide}},render:function(e){var t={"hooper-slide":!0,"is-clone":this.isClone,"is-active":this.isActive,"is-prev":this.isPrev,"is-next":this.isNext,"is-current":this.isCurrent},n=Ye(this);return e("li",{class:t,style:this.style,attrs:{"aria-hidden":!this.isActive}},n)}},nt={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},rt={name:"HooperIcon",functional:!0,inheritAttrs:!0,props:{name:{type:String,required:!0,validator:function(e){return e in nt}}},render:function(e,t){var n=t.props,r=nt[n.name],i=[];return i.push(e("title",Ve(n.name))),i.push(e("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})),i.push(e("path",{attrs:{d:r}})),e("svg",{attrs:{class:"icon icon-".concat(n.name),viewBox:"0 0 24 24",width:"24px",height:"24px"}},i)}};function it(e,t,n){return[e("span",t+1),e("span","/"),e("span",n)]}function ot(e,t,n,r){return e("li",[e("button",{class:{"hooper-indicator":!0,"is-active":n},on:{click:r},attrs:{type:"button"}},[e("span",{class:"hooper-sr-only"},"item ".concat(t))])])}function st(e,t,n,r){for(var i=[],o=function(n){i.push(ot(e,n,n===t,(function(){return r(n)})))},s=0;s<n;s++)o(s);return[e("ol",{class:"hooper-indicators"},i)]}var at={inject:["$hooper"],name:"HooperPagination",props:{mode:{default:"indicator",type:String}},computed:{currentSlide:function(){return Be(this.$hooper.currentSlide,this.$hooper.slidesCount)},slides:function(){var e=this.$hooper.slides.map((function(e,t){return t}));return e.slice(this.$hooper.trimStart,this.$hooper.slidesCount-this.$hooper.trimEnd+1)}},render:function(e){var t=this,n=this.$hooper.slidesCount,r="indicator"===this.mode?st(e,this.currentSlide,n,(function(e){return t.$hooper.slideTo(e)})):it(e,this.currentSlide,n);return e("div",{class:{"hooper-pagination":!0,"is-vertical":this.$hooper.config.vertical}},r)}};function lt(e,t,n){return n?e?"arrowUp":t?"arrowRight":"arrowLeft":e?"arrowDown":t?"arrowLeft":"arrowRight"}function ct(e,t,n,r,i,o){var s,a=i.isVertical,l=i.isRTL,c=n&&n.length?n:[e(rt,{props:{name:lt(a,l,r)}})];return e("button",{class:(s={},Le(s,"hooper-".concat(r?"prev":"next"),!0),Le(s,"is-disabled",t),s),attrs:{type:"button"},on:{click:o}},c)}var ut={inject:["$hooper"],name:"HooperNavigation",computed:{isPrevDisabled:function(){return!this.$hooper.config.infiniteScroll&&0===this.$hooper.currentSlide},isNextDisabled:function(){return!this.$hooper.config.infiniteScroll&&(this.$hooper.config.trimWhiteSpace?this.$hooper.currentSlide===this.$hooper.slidesCount-Math.min(this.$hooper.config.itemsToShow,this.$hooper.slidesCount):this.$hooper.currentSlide===this.$hooper.slidesCount-1)}},methods:{slideNext:function(){this.$hooper.slideNext(),this.$hooper.restartTimer()},slidePrev:function(){this.$hooper.slidePrev(),this.$hooper.restartTimer()}},render:function(e){var t=this,n={isRTL:this.$hooper.config.rtl,isVertical:this.$hooper.config.vertical},r=[ct(e,this.isPrevDisabled,this.$slots["hooper-prev"],!0,n,(function(){return t.slidePrev()})),ct(e,this.isNextDisabled,this.$slots["hooper-next"],!1,n,(function(){return t.slideNext()}))];return e("div",{class:{"hooper-navigation":!0,"is-vertical":this.$hooper.config.vertical,"is-rtl":this.$hooper.config.rtl}},r)}},ht=(n("955f"),function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.width=-1,e.md=new g.a({html:!0}),e.observer=e.slideIdx>2?new IntersectionObserver((function(t){var n=L(t,1),r=n[0];r.isIntersecting&&(e.$refs.images.querySelectorAll(".carousel-image").forEach((function(e){e.setAttribute("src",e.getAttribute("data-src"))})),e.$forceUpdate(),e.observer.disconnect())})):void 0,e}return Object(a["a"])(n,[{key:"mounted",value:function(){var e,t=this;setTimeout((function(){t.width=t.$el.clientWidth}),100),this.configFileStructure&&this.config.images.forEach((function(e){var n="".concat(e.src.substring(e.src.indexOf("/")+1)),r=t.configFileStructure.zip.file(n);r&&r.async("blob").then((function(n){e.src=URL.createObjectURL(n),t.$forceUpdate()}))})),this.config.images.length>1&&(null===(e=this.observer)||void 0===e||e.observe(this.$refs.images))}}]),n}(h["c"]));Object(u["a"])([Object(h["b"])()],ht.prototype,"config",void 0),Object(u["a"])([Object(h["b"])()],ht.prototype,"configFileStructure",void 0),Object(u["a"])([Object(h["b"])()],ht.prototype,"slideIdx",void 0),ht=Object(u["a"])([Object(h["a"])({components:{Hooper:Je,Slide:tt,"full-screen":ce,HooperNavigation:ut,HooperPagination:at,"image-panel":fe}})],ht);var pt=ht,dt=pt,ft=(n("5602"),Object(_["a"])(dt,Ce,Oe,!1,null,"574e04e7",null)),mt=ft.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex"},[n("div",{staticClass:"carousel self-center px-10 my-8 mx-auto bg-gray-200_",style:{width:e.width+"px"}},[-1!==e.width&&e.config.charts.length>1?n("hooper",{ref:"carousel",staticClass:"h-full",attrs:{infiniteScroll:e.config.loop}},[e._l(e.config.charts,(function(t,r){return n("slide",{key:"chart-"+r,staticClass:"self-center",attrs:{index:r}},[n("dqv-chart",{attrs:{config:t,configFileStructure:e.configFileStructure}})],1)})),n("hooper-navigation",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"}),n("hooper-pagination",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"})],2):-1!==e.width?n("div",[n("dqv-chart",{attrs:{config:e.config.charts[0],configFileStructure:e.configFileStructure}})],1):e._e()],1)])},gt=[],vt=n("fa95"),bt=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.width=-1,e}return Object(a["a"])(n,[{key:"mounted",value:function(){var e=this;setTimeout((function(){e.width=e.$el.clientWidth-64}),100)}}]),n}(h["c"]);Object(u["a"])([Object(h["b"])()],bt.prototype,"config",void 0),Object(u["a"])([Object(h["b"])()],bt.prototype,"configFileStructure",void 0),bt=Object(u["a"])([Object(h["a"])({components:{"dqv-chart":vt["a"],Hooper:Je,Slide:tt,HooperNavigation:ut,HooperPagination:at}})],bt);var wt=bt,_t=wt,xt=(n("e230"),Object(_["a"])(_t,yt,gt,!1,null,"2cbec786",null)),St=xt.exports,Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"story-slide w-full h-full flex sm:flex-row flex-col",attrs:{id:e.$vnode.key}},[n("Scrollama",{staticClass:"flex-1 order-2 sm:order-1 prose max-w-none my-5"},[n(e.config.titleTag||"h2",{tag:"component",staticClass:"px-10 mb-0 chapter-title top-20",style:e.activeIdx!==e.defaultPanel.id?"margin-top: 0px;":""},[e._v(" "+e._s(e.config.title)+" ")]),n("div",{staticClass:"px-10 md-content",domProps:{innerHTML:e._s(e.md.render(e.config.content))}})],1),n("div",{class:"text"!==e.activeConfig.type?"sticky "+("map"===e.activeConfig.type?"top-16":"top-8")+" sm:self-start flex-2 order-1 sm:order-2 z-40 dynamic-content-media sm:flex-col":"flex-2 order-2 sm:order-1 dynamic-content-text"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.activeIdx!==e.defaultPanel.id,expression:"activeIdx !== defaultPanel.id"}],staticClass:"return-button-container top-16"},[n("button",{staticClass:"return-button py-1 text-base right-0 absolute",on:{click:e.clickBack}},[n("img",{staticStyle:{display:"inline",margin:"0px"},attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAB4UlEQVRIie3WP08WQRAG8J+2SolRQaLyKvR+BTsVaQnfwD9YCH4PS6I2ViAS1GhMKLWESkzUmBAT7azECoS8Fjcvqxe52zuMseBJNpebe2ae2dmdveUA/wiHGnCHcBWXcBqDYf+CT3iOp/j8t5IbwCy20a0ZO3gUie0L4/geQTcxhwmM4EiMkbDNB6eLDYy1Fb2lmEEXj3E2w2cYi9Lsp5qKjofjNm43dcZ0+O9oMPNBqbxtRHuYkcp+MsfhgVTe/WIpYt2rIw4pyrtp7zU9hlW8zhDuRKxtqf3+iJuR4VyF6FpwVjKEKdqri+tVpJdBmqgRXYv3HEyGz4sq0scgnSvZ+/Emvr3D8UxRij7v4n0VaSNIfSX7qvpTqzfKa98n7e5dHG6QeS66bZw+hOP5kr1c6hMNYo7+4reL8ozX43mhZP+Ki3gbgZblb65erPUq0o3Ibn6P723aaSH416pIp6QDZLhCfAWvMkQ72MIPNQcI3I8MFzMC1+FJxJrNIQ9IbTW9D9E7EeObBptxTPqtzbQU7flfaeo8JV0ElhTrVYeOVN4dxdnfCmNS2bcUB/6koqWOxhgN20JweuW93Fa0h37cVezMnMveQxlr2uR6Oyhdb8/4/Xq7rvj7PIv3A/w/+Am/TqGFCMnpPgAAAABJRU5ErkJggg==",alt:e.$t("dynamic.back")}}),e._v(" "+e._s(e.$t("dynamic.back"))+" ")])]),n("panel",{ref:"content",staticClass:"flex-2",attrs:{config:e.activeConfig,slideIdx:e.slideIdx,dynamicIdx:e.activeIdx,ratio:!1}})],1)],1)},Et=[],Mt=(n("7db0"),function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.defaultPanel=e.config.children[0],e.activeConfig=e.defaultPanel.panel,e.activeIdx=e.defaultPanel.id,e.md=new g.a({html:!0}),e}return Object(a["a"])(n,[{key:"mounted",value:function(){document.querySelectorAll(".storyramp-app a:not([target])").forEach((function(e){return e.target="_blank"})),this.addDynamicURLs()}},{key:"addDynamicURLs",value:function(){var e=this,t=Array.from(this.$el.querySelectorAll("a[panel]"));t.forEach((function(t){var n,r=null===(n=t.attributes.getNamedItem("panel"))||void 0===n?void 0:n.value;t.style.setProperty("text-decoration-style","dotted"),t.style.setProperty("text-underline-offset","3px"),t.href="javascript:;",t.target="_self",t.onclick=function(){var t=e.config.children.find((function(e){return r==e.id}));t&&(e.activeConfig={type:"loading"},setTimeout((function(){e.activeConfig=t.panel,e.activeIdx=t.id}),10),setTimeout((function(){var t=e.$refs["content"].$el.getBoundingClientRect().top;window.scrollTo({top:window.pageYOffset+t-63,left:0,behavior:"smooth"})}),50))}}))}},{key:"clickBack",value:function(){var e=this;this.activeConfig={type:"loading"},setTimeout((function(){e.activeConfig=e.defaultPanel.panel,e.activeIdx=e.defaultPanel.id}),10),setTimeout((function(){var t=e.$refs["content"].$el.getBoundingClientRect().top;window.scrollTo({top:window.pageYOffset+t-63,left:0,behavior:"smooth"})}),50)}}]),n}(h["c"]));Object(u["a"])([Object(h["b"])()],Mt.prototype,"config",void 0),Object(u["a"])([Object(h["b"])()],Mt.prototype,"slideIdx",void 0),Mt=Object(u["a"])([Object(h["a"])({components:{panel:function(){return Promise.resolve().then(n.bind(null,"5d6a"))},Scrollama:m["a"]}})],Mt);var At=Mt,It=At,Ct=(n("aea4"),Object(_["a"])(It,Tt,Et,!1,null,"6fa80e56",null)),Ot=Ct.exports,kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Scrollama",{staticClass:"flex-1 prose max-w-none my-5"},[n("div",{staticClass:"block py-20 align-middle text-center h-full",staticStyle:{margin:"0 auto"}})])},Rt=[],Lt=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return n}(h["c"]);Lt=Object(u["a"])([Object(h["a"])({components:{Scrollama:m["a"]}})],Lt);var Nt=Lt,Pt=Nt,Dt=Object(_["a"])(Pt,kt,Rt,!1,null,"8618c8d4",null),Ft=Dt.exports,jt=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"getTemplate",value:function(){var e,t=(e={},Object(o["a"])(e,p["a"].Text,S),Object(o["a"])(e,p["a"].Map,ee),Object(o["a"])(e,p["a"].Image,fe),Object(o["a"])(e,p["a"].Audio,_e),Object(o["a"])(e,p["a"].Video,Ie),Object(o["a"])(e,p["a"].Slideshow,mt),Object(o["a"])(e,p["a"].Chart,St),Object(o["a"])(e,p["a"].Dynamic,Ot),Object(o["a"])(e,p["a"].Loading,Ft),e);return t[this.config.type]}}]),n}(h["c"]);Object(u["a"])([Object(h["b"])()],jt.prototype,"config",void 0),Object(u["a"])([Object(h["b"])()],jt.prototype,"configFileStructure",void 0),Object(u["a"])([Object(h["b"])()],jt.prototype,"ratio",void 0),Object(u["a"])([Object(h["b"])()],jt.prototype,"slideIdx",void 0),Object(u["a"])([Object(h["b"])()],jt.prototype,"lang",void 0),jt=Object(u["a"])([Object(h["a"])({components:{TextPanelV:S}})],jt);var Ut=jt,zt=Ut,Gt=Object(_["a"])(zt,r,i,!1,null,"7f521426",null);t["default"]=Gt.exports},"5fb2":function(e,t,n){"use strict";var r=2147483647,i=36,o=1,s=26,a=38,l=700,c=72,u=128,h="-",p=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",m=i-o,y=Math.floor,g=String.fromCharCode,v=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?y(e/l):e>>1,e+=y(e/t);e>m*s>>1;r+=i)e=y(e/m);return y(r+(m+1)*e/(e+a))},_=function(e){var t=[];e=v(e);var n,a,l=e.length,p=u,d=0,m=c;for(n=0;n<e.length;n++)a=e[n],a<128&&t.push(g(a));var _=t.length,x=_;_&&t.push(h);while(x<l){var S=r;for(n=0;n<e.length;n++)a=e[n],a>=p&&a<S&&(S=a);var T=x+1;if(S-p>y((r-d)/T))throw RangeError(f);for(d+=(S-p)*T,p=S,n=0;n<e.length;n++){if(a=e[n],a<p&&++d>r)throw RangeError(f);if(a==p){for(var E=d,M=i;;M+=i){var A=M<=m?o:M>=m+s?s:M-m;if(E<A)break;var I=E-A,C=i-A;t.push(g(b(A+I%C))),E=y(I/C)}t.push(g(b(E))),m=w(d,T,x==_),d=0,++x}}++d,++p}return t.join("")};e.exports=function(e){var t,n,r=[],i=e.toLowerCase().replace(d,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(p.test(n)?"xn--"+_(n):n);return r.join(".")}},"5fbd":function(e,t,n){"use strict";var r=n("e1f3"),i=n("5706").HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var i,s,a,l,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(l=e.src.slice(c,u),i=0;i<o.length;i++)if(o[i][0].test(l))break;if(i===o.length)return!1;if(r)return o[i][2];if(s=t+1,!o[i][1].test(l))for(;s<n;s++){if(e.sCount[s]<e.blkIndent)break;if(c=e.bMarks[s]+e.tShift[s],u=e.eMarks[s],l=e.src.slice(c,u),o[i][1].test(l)){0!==l.length&&s++;break}}return e.line=s,a=e.push("html_block","",0),a.map=[t,s],a.content=e.getLines(t,s,e.blkIndent,!0),!0}},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),a=n("d1e7"),l=n("7b0b"),c=n("44ad"),u=Object.assign,h=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||o(u({},t)).join("")!=i}))?function(e,t){var n=l(e),i=arguments.length,u=1,h=s.f,p=a.f;while(i>u){var d,f=c(arguments[u++]),m=h?o(f).concat(h(f)):o(f),y=m.length,g=0;while(y>g)d=m[g++],r&&!p.call(f,d)||(n[d]=f[d])}return n}:u},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),o=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),h=n("c6cd"),p=n("f772"),d=n("d012"),f="Object already initialized",m=a.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},g=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var v=h.state||(h.state=new m),b=v.get,w=v.has,_=v.set;r=function(e,t){if(w.call(v,e))throw new TypeError(f);return t.facade=e,_.call(v,e,t),t},i=function(e){return b.call(v,e)||{}},o=function(e){return w.call(v,e)}}else{var x=p("state");d[x]=!0,r=function(e,t){if(u(e,x))throw new TypeError(f);return t.facade=e,c(e,x,t),t},i=function(e){return u(e,x)?e[x]:{}},o=function(e){return u(e,x)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:g}},"6e00":function(e,t,n){"use strict";for(var r=n("0068").isSpace,i=[],o=0;o<256;o++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){i[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,o=e.pos,s=e.posMax;if(92!==e.src.charCodeAt(o))return!1;if(o++,o<s){if(n=e.src.charCodeAt(o),n<256&&0!==i[n])return t||(e.pending+=e.src[o]),e.pos+=2,!0;if(10===n){t||e.push("hardbreak","br",0),o++;while(o<s){if(n=e.src.charCodeAt(o),!r(n))break;o++}return e.pos=o,!0}}return t||(e.pending+="\\"),e.pos++,!0}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var l,c=!!a&&!!a.unsafe,p=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l=u(n),l.source||(l.source=h.join("string"==typeof t?t:""))),e!==r?(c?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=n:i(e,t,n)):p?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},"6fd1":function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},7037:function(e,t,n){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),r(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("e260"),n("3ca3"),n("ddb0"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},7077:function(e,t,n){},7133:function(e,t,n){"use strict";var r=n("096b");function i(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}i.prototype.Token=r,e.exports=i},7375:function(e,t,n){"use strict";n("7f06")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),o=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},"74c8":function(e,t,n){},7696:function(e,t,n){"use strict";var r=n("4883"),i=[["table",n("80d3"),["paragraph","reference"]],["code",n("9c12")],["fence",n("bf2b"),["paragraph","reference","blockquote","list"]],["blockquote",n("e80e"),["paragraph","reference","blockquote","list"]],["hr",n("fdfe"),["paragraph","reference","blockquote","list"]],["list",n("4b3e"),["paragraph","reference","blockquote"]],["reference",n("d670")],["html_block",n("5fbd"),["paragraph","reference","blockquote"]],["heading",n("0758"),["paragraph","reference","blockquote"]],["lheading",n("199e")],["paragraph",n("44a8")]];function o(){this.ruler=new r;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1],{alt:(i[e][2]||[]).slice()})}o.prototype.tokenize=function(e,t,n){var r,i,o=this.ruler.getRules(""),s=o.length,a=t,l=!1,c=e.md.options.maxNesting;while(a<n){if(e.line=a=e.skipEmptyLines(a),a>=n)break;if(e.sCount[a]<e.blkIndent)break;if(e.level>=c){e.line=n;break}for(i=0;i<s;i++)if(r=o[i](e,a,n,!1),r)break;e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),a=e.line,a<n&&e.isEmpty(a)&&(l=!0,a++,e.line=a)}},o.prototype.parse=function(e,t,n,r){var i;e&&(i=new this.State(e,t,n,r),this.tokenize(i,i.line,i.lineMax))},o.prototype.State=n("834f"),e.exports=o},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),h=">",p="<",d="prototype",f="script",m=u("IE_PROTO"),y=function(){},g=function(e){return p+f+h+e+p+"/"+f+h},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+f+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},w=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}w=r?v(r):b();var e=s.length;while(e--)delete w[d][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(y[d]=i(e),n=new y,y[d]=null,n[m]=e):n=w(),void 0===t?n:o(n,t)}},"7ca0":function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},"7cc2":function(e,t,n){"use strict";var r=n("0068").assign,i=n("0068").unescapeAll,o=n("0068").escapeHtml,s={};function a(){this.rules=r({},s)}s.code_inline=function(e,t,n,r,i){var s=e[t];return"<code"+i.renderAttrs(s)+">"+o(e[t].content)+"</code>"},s.code_block=function(e,t,n,r,i){var s=e[t];return"<pre"+i.renderAttrs(s)+"><code>"+o(e[t].content)+"</code></pre>\n"},s.fence=function(e,t,n,r,s){var a,l,c,u,h,p=e[t],d=p.info?i(p.info).trim():"",f="",m="";return d&&(c=d.split(/(\s+)/g),f=c[0],m=c.slice(2).join("")),a=n.highlight&&n.highlight(p.content,f,m)||o(p.content),0===a.indexOf("<pre")?a+"\n":d?(l=p.attrIndex("class"),u=p.attrs?p.attrs.slice():[],l<0?u.push(["class",n.langPrefix+f]):(u[l]=u[l].slice(),u[l][1]+=" "+n.langPrefix+f),h={attrs:u},"<pre><code"+s.renderAttrs(h)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(p)+">"+a+"</code></pre>\n"},s.image=function(e,t,n,r,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(e,t,n)},s.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,t){return o(e[t].content)},s.html_block=function(e,t){return e[t].content},s.html_inline=function(e,t){return e[t].content},a.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+o(e.attrs[t][0])+'="'+o(e.attrs[t][1])+'"';return r},a.prototype.renderToken=function(e,t,n){var r,i="",o=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /"),s.block&&(o=!0,1===s.nesting&&t+1<e.length&&(r=e[t+1],("inline"===r.type||r.hidden||-1===r.nesting&&r.tag===s.tag)&&(o=!1))),i+=o?">\n":">",i)},a.prototype.renderInline=function(e,t,n){for(var r,i="",o=this.rules,s=0,a=e.length;s<a;s++)r=e[s].type,"undefined"!==typeof o[r]?i+=o[r](e,s,t,n,this):i+=this.renderToken(e,s,t);return i},a.prototype.renderInlineAsText=function(e,t,n){for(var r="",i=0,o=e.length;i<o;i++)"text"===e[i].type?r+=e[i].content:"image"===e[i].type?r+=this.renderInlineAsText(e[i].children,t,n):"softbreak"===e[i].type&&(r+="\n");return r},a.prototype.render=function(e,t,n){var r,i,o,s="",a=this.rules;for(r=0,i=e.length;r<i;r++)o=e[r].type,"inline"===o?s+=this.renderInline(e[r].children,t,n):"undefined"!==typeof a[o]?s+=a[e[r].type](e,r,t,n,this):s+=this.renderToken(e,r,t,n);return s},e.exports=a},"7d4f":function(e,t,n){"use strict";n("a563")},"7d91":function(e,t,n){"use strict";var r=n("0068").unescapeAll;e.exports=function(e,t,n){var i,o,s=0,a=t,l={ok:!1,pos:0,lines:0,str:""};if(t>=n)return l;if(o=e.charCodeAt(t),34!==o&&39!==o&&40!==o)return l;t++,40===o&&(o=41);while(t<n){if(i=e.charCodeAt(t),i===o)return l.pos=t+1,l.lines=s,l.str=r(e.slice(a+1,t)),l.ok=!0,l;if(40===i&&41===o)return l;10===i?s++:92===i&&t+1<n&&(t++,10===e.charCodeAt(t)&&s++),t++}return l}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,o=n("44d2"),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),l=n("9112"),c=n("6eeb"),u=n("b622"),h=n("c430"),p=n("3f8c"),d=n("ae93"),f=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,y=u("iterator"),g="keys",v="values",b="entries",w=function(){return this};e.exports=function(e,t,n,u,d,_,x){i(n,t,u);var S,T,E,M=function(e){if(e===d&&k)return k;if(!m&&e in C)return C[e];switch(e){case g:return function(){return new n(this,e)};case v:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",I=!1,C=e.prototype,O=C[y]||C["@@iterator"]||d&&C[d],k=!m&&O||M(d),R="Array"==t&&C.entries||O;if(R&&(S=o(R.call(new e)),f!==Object.prototype&&S.next&&(h||o(S)===f||(s?s(S,f):"function"!=typeof S[y]&&l(S,y,w)),a(S,A,!0,!0),h&&(p[A]=w))),d==v&&O&&O.name!==v&&(I=!0,k=function(){return O.call(this)}),h&&!x||C[y]===k||l(C,y,k),p[t]=k,d)if(T={values:M(v),keys:_?k:M(g),entries:M(b)},x)for(E in T)(m||I||!(E in C))&&c(C,E,T[E]);else r({target:t,proto:!0,forced:m||I},T);return T}},"7f06":function(e,t,n){},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"80d3":function(e,t,n){"use strict";var r=n("0068").isSpace;function i(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.substr(n,r-n)}function o(e){var t,n=[],r=0,i=e.length,o=!1,s=0,a="";t=e.charCodeAt(r);while(r<i)124===t&&(o?(a+=e.substring(s,r-1),s=r):(n.push(a+e.substring(s,r)),a="",s=r+1)),o=92===t,r++,t=e.charCodeAt(r);return n.push(a+e.substring(s)),n}e.exports=function(e,t,n,s){var a,l,c,u,h,p,d,f,m,y,g,v,b,w,_,x,S,T;if(t+2>n)return!1;if(p=t+1,e.sCount[p]<e.blkIndent)return!1;if(e.sCount[p]-e.blkIndent>=4)return!1;if(c=e.bMarks[p]+e.tShift[p],c>=e.eMarks[p])return!1;if(S=e.src.charCodeAt(c++),124!==S&&45!==S&&58!==S)return!1;if(c>=e.eMarks[p])return!1;if(T=e.src.charCodeAt(c++),124!==T&&45!==T&&58!==T&&!r(T))return!1;if(45===S&&r(T))return!1;while(c<e.eMarks[p]){if(a=e.src.charCodeAt(c),124!==a&&45!==a&&58!==a&&!r(a))return!1;c++}for(l=i(e,t+1),d=l.split("|"),y=[],u=0;u<d.length;u++){if(g=d[u].trim(),!g){if(0===u||u===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?y.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?y.push("left"):y.push("")}if(l=i(e,t).trim(),-1===l.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(d=o(l),d.length&&""===d[0]&&d.shift(),d.length&&""===d[d.length-1]&&d.pop(),f=d.length,0===f||f!==y.length)return!1;if(s)return!0;for(w=e.parentType,e.parentType="table",x=e.md.block.ruler.getRules("blockquote"),m=e.push("table_open","table",1),m.map=v=[t,0],m=e.push("thead_open","thead",1),m.map=[t,t+1],m=e.push("tr_open","tr",1),m.map=[t,t+1],u=0;u<d.length;u++)m=e.push("th_open","th",1),y[u]&&(m.attrs=[["style","text-align:"+y[u]]]),m=e.push("inline","",0),m.content=d[u].trim(),m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),p=t+2;p<n;p++){if(e.sCount[p]<e.blkIndent)break;for(_=!1,u=0,h=x.length;u<h;u++)if(x[u](e,p,n,!0)){_=!0;break}if(_)break;if(l=i(e,p).trim(),!l)break;if(e.sCount[p]-e.blkIndent>=4)break;for(d=o(l),d.length&&""===d[0]&&d.shift(),d.length&&""===d[d.length-1]&&d.pop(),p===t+2&&(m=e.push("tbody_open","tbody",1),m.map=b=[t+2,0]),m=e.push("tr_open","tr",1),m.map=[p,p+1],u=0;u<f;u++)m=e.push("td_open","td",1),y[u]&&(m.attrs=[["style","text-align:"+y[u]]]),m=e.push("inline","",0),m.content=d[u]?d[u].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return b&&(m=e.push("tbody_close","tbody",-1),b[1]=p),m=e.push("table_close","table",-1),v[1]=p,e.parentType=w,e.line=p,!0}},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},8307:function(e,t,n){"use strict";n("3b61")},"834f":function(e,t,n){"use strict";var r=n("096b"),i=n("0068").isSpace;function o(e,t,n,r){var o,s,a,l,c,u,h,p;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",s=this.src,p=!1,a=l=u=h=0,c=s.length;l<c;l++){if(o=s.charCodeAt(l),!p){if(i(o)){u++,9===o?h+=4-h%4:h++;continue}p=!0}10!==o&&l!==c-1||(10!==o&&l++,this.bMarks.push(a),this.eMarks.push(l),this.tShift.push(u),this.sCount.push(h),this.bsCount.push(0),p=!1,u=0,h=0,a=l+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}o.prototype.push=function(e,t,n){var i=new r(e,t,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i},o.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},o.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t;e++)if(this.bMarks[e]+this.tShift[e]<this.eMarks[e])break;return e},o.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n;e++)if(t=this.src.charCodeAt(e),!i(t))break;return e},o.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;while(e>t)if(!i(this.src.charCodeAt(--e)))return e+1;return e},o.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n;e++)if(this.src.charCodeAt(e)!==t)break;return e},o.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;while(e>n)if(t!==this.src.charCodeAt(--e))return e+1;return e},o.prototype.getLines=function(e,t,n,r){var o,s,a,l,c,u,h,p=e;if(e>=t)return"";for(u=new Array(t-e),o=0;p<t;p++,o++){s=0,h=l=this.bMarks[p],c=p+1<t||r?this.eMarks[p]+1:this.eMarks[p];while(l<c&&s<n){if(a=this.src.charCodeAt(l),i(a))9===a?s+=4-(s+this.bsCount[p])%4:s++;else{if(!(l-h<this.tShift[p]))break;s++}l++}u[o]=s>n?new Array(s-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return u.join("")},o.prototype.Token=r,e.exports=o},"838d":function(e,t,n){"use strict";function r(e,t){var n,r,i,o,s,a,l,c,u={},h=t.length;for(n=0;n<h;n++)if(i=t[n],i.length=i.length||0,i.close){for(u.hasOwnProperty(i.marker)||(u[i.marker]=[-1,-1,-1]),s=u[i.marker][i.length%3],r=n-i.jump-1,r<-1&&(r=-1),a=r;r>s;r-=o.jump+1)if(o=t[r],o.marker===i.marker&&o.open&&o.end<0&&(l=!1,(o.close||i.open)&&(o.length+i.length)%3===0&&(o.length%3===0&&i.length%3===0||(l=!0)),!l)){c=r>0&&!t[r-1].open?t[r-1].jump+1:0,i.jump=n-r+c,i.open=!1,o.end=n,o.jump=c,o.close=!1,a=-1;break}-1!==a&&(u[i.marker][(i.length||0)%3]=a)}}e.exports=function(e){var t,n=e.tokens_meta,i=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<i;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8875:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(d.stack)||s.exec(d.stack),l=a&&a[1]||!1,c=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var p=0;p<h.length;p++){if("interactive"===h[p].readyState)return h[p];if(h[p].src===l)return h[p];if(l===u&&h[p].innerHTML&&h[p].innerHTML.trim()===i)return h[p]}return null}}return e}))},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"8a31":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8bbf":function(t,n){t.exports=e},"8f37":function(e,t,n){"use strict";var r={};function i(e){var t,n,i=r[e];if(i)return i;for(i=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),i.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),i[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return i}function o(e,t){var n;return"string"!==typeof t&&(t=o.defaultChars),n=i(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,r,i,o,s,a,l,c="";for(t=0,r=e.length;t<r;t+=3)i=parseInt(e.slice(t+1,t+3),16),i<128?c+=n[i]:192===(224&i)&&t+3<r&&(o=parseInt(e.slice(t+4,t+6),16),128===(192&o))?(l=i<<6&1984|63&o,c+=l<128?"��":String.fromCharCode(l),t+=3):224===(240&i)&&t+6<r&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128===(192&o)&&128===(192&s))?(l=i<<12&61440|o<<6&4032|63&s,c+=l<2048||l>=55296&&l<=57343?"���":String.fromCharCode(l),t+=6):240===(248&i)&&t+9<r&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128===(192&o)&&128===(192&s)&&128===(192&a))?(l=i<<18&1835008|o<<12&258048|s<<6&4032|63&a,l<65536||l>1114111?c+="����":(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),t+=9):c+="�";return c}))}o.defaultChars=";/?:@&=+$,#",o.componentChars="",e.exports=o},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"922c":function(e,t,n){"use strict";function r(e,t){var n,r,i,o,s,a=[],l=t.length;for(n=0;n<l;n++)i=t[n],126===i.marker&&-1!==i.end&&(o=t[i.end],s=e.tokens[i.token],s.type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",s=e.tokens[o.token],s.type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&a.push(o.token-1));while(a.length){n=a.pop(),r=n+1;while(r<e.tokens.length&&"s_close"===e.tokens[r].type)r++;r--,n!==r&&(s=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=s)}}e.exports.tokenize=function(e,t){var n,r,i,o,s,a=e.pos,l=e.src.charCodeAt(a);if(t)return!1;if(126!==l)return!1;if(r=e.scanDelims(e.pos,!0),o=r.length,s=String.fromCharCode(l),o<2)return!1;for(o%2&&(i=e.push("text","",0),i.content=s,o--),n=0;n<o;n+=2)i=e.push("text","",0),i.content=s+s,e.delimiters.push({marker:l,length:0,jump:n/2,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,i=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<i;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=n("5692"),s=RegExp.prototype.exec,a=o("native-string-replace",String.prototype.replace),l=s,c=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,h=void 0!==/()??/.exec("")[1],p=c||h||u;p&&(l=function(e){var t,n,i,o,l=this,p=u&&l.sticky,d=r.call(l),f=l.source,m=0,y=e;return p&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),y=String(e).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(f="(?: "+f+")",y=" "+y,m++),n=new RegExp("^(?:"+f+")",d)),h&&(n=new RegExp("^"+f+"$(?!\\s)",d)),c&&(t=l.lastIndex),i=s.call(p?n:l,y),p?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:c&&i&&(l.lastIndex=l.global?i.index+i[0].length:t),h&&i&&i.length>1&&a.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),e.exports=l},"932d":function(e,t,n){"use strict";var r=n("0068").normalizeReference,i=n("0068").isSpace;e.exports=function(e,t){var n,o,s,a,l,c,u,h,p,d,f,m,y,g="",v=e.pos,b=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,l=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),l<0)return!1;if(u=l+1,u<b&&40===e.src.charCodeAt(u)){for(u++;u<b;u++)if(o=e.src.charCodeAt(u),!i(o)&&10!==o)break;if(u>=b)return!1;for(y=u,p=e.md.helpers.parseLinkDestination(e.src,u,e.posMax),p.ok&&(g=e.md.normalizeLink(p.str),e.md.validateLink(g)?u=p.pos:g=""),y=u;u<b;u++)if(o=e.src.charCodeAt(u),!i(o)&&10!==o)break;if(p=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<b&&y!==u&&p.ok){for(d=p.str,u=p.pos;u<b;u++)if(o=e.src.charCodeAt(u),!i(o)&&10!==o)break}else d="";if(u>=b||41!==e.src.charCodeAt(u))return e.pos=v,!1;u++}else{if("undefined"===typeof e.env.references)return!1;if(u<b&&91===e.src.charCodeAt(u)?(y=u+1,u=e.md.helpers.parseLinkLabel(e,u),u>=0?a=e.src.slice(y,u++):u=l+1):u=l+1,a||(a=e.src.slice(c,l)),h=e.env.references[r(a)],!h)return e.pos=v,!1;g=h.href,d=h.title}return t||(s=e.src.slice(c,l),e.md.inline.parse(s,e.md,e.env,m=[]),f=e.push("image","img",0),f.attrs=n=[["src",g],["alt",""]],f.children=m,f.content=s,d&&n.push(["title",d])),e.pos=u,e.posMax=b,!0}},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},"955f":function(e,t,n){},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),s=new C(r||[]);return o._invoke=E(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var h="suspendedStart",p="suspendedYield",d="executing",f="completed",m={};function y(){}function g(){}function v(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==n&&r.call(_,o)&&(b=_);var x=v.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,s,a){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var i;function o(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function E(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return k()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=M(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?f:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}function M(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:k}}function k(){return{value:t,done:!0}}return g.prototype=x.constructor=v,v.constructor=g,g.displayName=l(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,a,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(T.prototype),T.prototype[s]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new T(c(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(x),l(x,a,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},9861:function(e,t,n){"use strict";n("e260");var r=n("23e7"),i=n("d066"),o=n("0d3b"),s=n("6eeb"),a=n("e2cc"),l=n("d44e"),c=n("9ed3"),u=n("69f3"),h=n("19aa"),p=n("5135"),d=n("0366"),f=n("f5df"),m=n("825a"),y=n("861d"),g=n("7c73"),v=n("5c6c"),b=n("9a1f"),w=n("35a1"),_=n("b622"),x=i("fetch"),S=i("Headers"),T=_("iterator"),E="URLSearchParams",M=E+"Iterator",A=u.set,I=u.getterFor(E),C=u.getterFor(M),O=/\+/g,k=Array(4),R=function(e){return k[e-1]||(k[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},L=function(e){try{return decodeURIComponent(e)}catch(t){return e}},N=function(e){var t=e.replace(O," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(R(n--),L);return t}},P=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(e){return D[e]},j=function(e){return encodeURIComponent(e).replace(P,F)},U=function(e,t){if(t){var n,r,i=t.split("&"),o=0;while(o<i.length)n=i[o++],n.length&&(r=n.split("="),e.push({key:N(r.shift()),value:N(r.join("="))}))}},z=function(e){this.entries.length=0,U(this.entries,e)},G=function(e,t){if(e<t)throw TypeError("Not enough arguments")},V=c((function(e,t){A(this,{type:M,iterator:b(I(e).entries),kind:t})}),"Iterator",(function(){var e=C(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),B=function(){h(this,B,E);var e,t,n,r,i,o,s,a,l,c=arguments.length>0?arguments[0]:void 0,u=this,d=[];if(A(u,{type:E,entries:d,updateURL:function(){},updateSearchParams:z}),void 0!==c)if(y(c))if(e=w(c),"function"===typeof e){t=e.call(c),n=t.next;while(!(r=n.call(t)).done){if(i=b(m(r.value)),o=i.next,(s=o.call(i)).done||(a=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:s.value+"",value:a.value+""})}}else for(l in c)p(c,l)&&d.push({key:l,value:c[l]+""});else U(d,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},$=B.prototype;a($,{append:function(e,t){G(arguments.length,2);var n=I(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){G(arguments.length,1);var t=I(this),n=t.entries,r=e+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){G(arguments.length,1);for(var t=I(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){G(arguments.length,1);for(var t=I(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){G(arguments.length,1);var t=I(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){G(arguments.length,1);for(var n,r=I(this),i=r.entries,o=!1,s=e+"",a=t+"",l=0;l<i.length;l++)n=i[l],n.key===s&&(o?i.splice(l--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){var e,t,n,r=I(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){var t,n=I(this).entries,r=d(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),s($,T,$.entries),s($,"toString",(function(){var e,t=I(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(j(e.key)+"="+j(e.value));return n.join("&")}),{enumerable:!0}),l(B,E),r({global:!0,forced:!o},{URLSearchParams:B}),o||"function"!=typeof x||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],y(t)&&(n=t.body,f(n)===E&&(r=t.headers?new S(t.headers):new S,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:v(0,String(n)),headers:v(0,r)}))),i.push(t)),x.apply(this,i)}}),e.exports={URLSearchParams:B,getState:I}},9921:function(e,t,n){"use strict";var r=n("0068").arrayReplaceAt;function i(e){return/^<a[>\s]/i.test(e)}function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,s,a,l,c,u,h,p,d,f,m,y,g,v,b,w,_=e.tokens;if(e.md.options.linkify)for(n=0,s=_.length;n<s;n++)if("inline"===_[n].type&&e.md.linkify.pretest(_[n].content))for(a=_[n].children,y=0,t=a.length-1;t>=0;t--)if(c=a[t],"link_close"!==c.type){if("html_inline"===c.type&&(i(c.content)&&y>0&&y--,o(c.content)&&y++),!(y>0)&&"text"===c.type&&e.md.linkify.test(c.content)){for(p=c.content,w=e.md.linkify.match(p),u=[],m=c.level,f=0,h=0;h<w.length;h++)g=w[h].url,v=e.md.normalizeLink(g),e.md.validateLink(v)&&(b=w[h].text,b=w[h].schema?"mailto:"!==w[h].schema||/^mailto:/i.test(b)?e.md.normalizeLinkText(b):e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,""),d=w[h].index,d>f&&(l=new e.Token("text","",0),l.content=p.slice(f,d),l.level=m,u.push(l)),l=new e.Token("link_open","a",1),l.attrs=[["href",v]],l.level=m++,l.markup="linkify",l.info="auto",u.push(l),l=new e.Token("text","",0),l.content=b,l.level=m,u.push(l),l=new e.Token("link_close","a",-1),l.level=--m,l.markup="linkify",l.info="auto",u.push(l),f=w[h].lastIndex);f<p.length&&(l=new e.Token("text","",0),l.content=p.slice(f),l.level=m,u.push(l)),_[n].children=a=r(a,t,u)}}else{t--;while(a[t].level!==c.level&&"link_open"!==a[t].type)t--}}},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),s=n("861d"),a=n("7b0b"),l=n("50c4"),c=n("8418"),u=n("65f0"),h=n("1dde"),p=n("b622"),d=n("2d00"),f=p("isConcatSpreadable"),m=9007199254740991,y="Maximum allowed index exceeded",g=d>=51||!i((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),v=h("concat"),b=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:o(e)},w=!g||!v;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,r,i,o,s=a(this),h=u(s,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?s:arguments[t],b(o)){if(i=l(o.length),p+i>m)throw TypeError(y);for(n=0;n<i;n++,p++)n in o&&c(h,p,o[n])}else{if(p>=m)throw TypeError(y);c(h,p++,o)}return h.length=p,h}})},"9a1f":function(e,t,n){var r=n("825a"),i=n("35a1");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"9ab4":function(e,t,n){"use strict";function r(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}n.d(t,"a",(function(){return r}))},"9bdd":function(e,t,n){var r=n("825a"),i=n("2a62");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){throw i(e),s}}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9c12":function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o;if(e.sCount[t]-e.blkIndent<4)return!1;i=r=t+1;while(r<n)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;r++,i=r}return e.line=i,o=e.push("code_block","code",0),o.content=e.getLines(t,i,4+e.blkIndent,!0),o.map=[t,e.line],!0}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,c,!1,!0),a[c]=l,e}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a124:function(e,t,n){"use strict";e.exports=function(e){var t,n,r,i=e.tokens;for(n=0,r=i.length;n<r;n++)t=i[n],"inline"===t.type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),s=n("c430"),a=n("83ab"),l=n("4930"),c=n("fdbf"),u=n("d039"),h=n("5135"),p=n("e8b5"),d=n("861d"),f=n("825a"),m=n("7b0b"),y=n("fc6a"),g=n("c04e"),v=n("5c6c"),b=n("7c73"),w=n("df75"),_=n("241c"),x=n("057f"),S=n("7418"),T=n("06cf"),E=n("9bf2"),M=n("d1e7"),A=n("9112"),I=n("6eeb"),C=n("5692"),O=n("f772"),k=n("d012"),R=n("90e3"),L=n("b622"),N=n("e538"),P=n("746f"),D=n("d44e"),F=n("69f3"),j=n("b727").forEach,U=O("hidden"),z="Symbol",G="prototype",V=L("toPrimitive"),B=F.set,$=F.getterFor(z),H=Object[G],W=i.Symbol,q=o("JSON","stringify"),Z=T.f,Y=E.f,X=x.f,J=M.f,K=C("symbols"),Q=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),ne=C("wks"),re=i.QObject,ie=!re||!re[G]||!re[G].findChild,oe=a&&u((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Z(H,t);r&&delete H[t],Y(e,t,n),r&&e!==H&&Y(H,t,r)}:Y,se=function(e,t){var n=K[e]=b(W[G]);return B(n,{type:z,tag:e,description:t}),a||(n.description=t),n},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},le=function(e,t,n){e===H&&le(Q,t,n),f(e);var r=g(t,!0);return f(n),h(K,r)?(n.enumerable?(h(e,U)&&e[U][r]&&(e[U][r]=!1),n=b(n,{enumerable:v(0,!1)})):(h(e,U)||Y(e,U,v(1,{})),e[U][r]=!0),oe(e,r,n)):Y(e,r,n)},ce=function(e,t){f(e);var n=y(t),r=w(n).concat(fe(n));return j(r,(function(t){a&&!he.call(n,t)||le(e,t,n[t])})),e},ue=function(e,t){return void 0===t?b(e):ce(b(e),t)},he=function(e){var t=g(e,!0),n=J.call(this,t);return!(this===H&&h(K,t)&&!h(Q,t))&&(!(n||!h(this,t)||!h(K,t)||h(this,U)&&this[U][t])||n)},pe=function(e,t){var n=y(e),r=g(t,!0);if(n!==H||!h(K,r)||h(Q,r)){var i=Z(n,r);return!i||!h(K,r)||h(n,U)&&n[U][r]||(i.enumerable=!0),i}},de=function(e){var t=X(y(e)),n=[];return j(t,(function(e){h(K,e)||h(k,e)||n.push(e)})),n},fe=function(e){var t=e===H,n=X(t?Q:y(e)),r=[];return j(n,(function(e){!h(K,e)||t&&!h(H,e)||r.push(K[e])})),r};if(l||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),n=function(e){this===H&&n.call(Q,e),h(this,U)&&h(this[U],t)&&(this[U][t]=!1),oe(this,t,v(1,e))};return a&&ie&&oe(H,t,{configurable:!0,set:n}),se(t,e)},I(W[G],"toString",(function(){return $(this).tag})),I(W,"withoutSetter",(function(e){return se(R(e),e)})),M.f=he,E.f=le,T.f=pe,_.f=x.f=de,S.f=fe,N.f=function(e){return se(L(e),e)},a&&(Y(W[G],"description",{configurable:!0,get:function(){return $(this).description}}),s||I(H,"propertyIsEnumerable",he,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),j(w(ne),(function(e){P(e)})),r({target:z,stat:!0,forced:!l},{for:function(e){var t=String(e);if(h(ee,t))return ee[t];var n=W(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(h(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!a},{create:ue,defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:pe}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),q){var me=!l||u((function(){var e=W();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}));r({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(d(t)||void 0!==e)&&!ae(e))return p(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),i[1]=t,q.apply(null,i)}})}W[G][V]||A(W[G],V,W[G].valueOf),D(W,z),k[U]=!0},a563:function(e,t,n){},a57f:function(e,t,n){"use strict";function r(e,t=document){return"string"===typeof e?Array.from(t.querySelectorAll(e)):e instanceof Element?[e]:e instanceof NodeList?Array.from(e):e instanceof Array?e:[]}function i(e){return"scrollama__debug-offset--"+e}function o({id:e,offsetVal:t,stepClass:n}){const r=document.createElement("div");r.id=i(e),r.className="scrollama__debug-offset",r.style.position="fixed",r.style.left="0",r.style.width="100%",r.style.height="0",r.style.borderTop="2px dashed black",r.style.zIndex="9999";const o=document.createElement("p");o.innerHTML=`".${n}" trigger: <span>${t}</span>`,o.style.fontSize="12px",o.style.fontFamily="monospace",o.style.color="black",o.style.margin="0",o.style.padding="6px",r.appendChild(o),document.body.appendChild(r)}function s({id:e,offsetVal:t,stepEl:n}){const r=n[0].className;o({id:e,offsetVal:t,stepClass:r})}function a({id:e,offsetMargin:t,offsetVal:n,format:r}){const o="pixels"===r?"px":"",s=i(e),a=document.getElementById(s);a.style.top=t+"px",a.querySelector("span").innerText=`${n}${o}`}function l({id:e,index:t,state:n}){const r=`scrollama__debug-step--${e}-${t}`,i=document.getElementById(r+"_above"),o=document.getElementById(r+"_below"),s="enter"===n?"block":"none";i&&(i.style.display=s),o&&(o.style.display=s)}function c(){const e=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"];let t={},n={},i=null,o=[],c=[],u=[],h=[],p=0,d=0,f=0,m=0,y=0,g=0,v=!1,b=!1,w=!1,_=!1,x=!1,S=!1,T="down",E="percent";const M=[];function A(e){console.error("scrollama error: "+e)}function I(){t={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},n={}}function C(){const e="abcdefghijklmnopqrstuv",t=e.length,n=Date.now(),r=[0,0,0].map((n=>e[Math.floor(Math.random()*t)])).join("");return`${r}${n}`}function O(e){const{top:t}=e.getBoundingClientRect(),n=window.pageYOffset,r=document.body.clientTop||0;return t+n-r}function k(){const{body:e}=document,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}function R(e){return+e.getAttribute("data-scrollama-index")}function L(){window.pageYOffset>y?T="down":window.pageYOffset<y&&(T="up"),y=window.pageYOffset}function N(e){n[e]&&n[e].forEach((e=>e.disconnect()))}function P(){f=window.innerHeight,m=k();const e="pixels"===E?1:f;d=p*e,v&&(c=o.map((e=>e.getBoundingClientRect().height)),u=o.map(O),b&&K()),w&&a({id:i,offsetMargin:d,offsetVal:p,format:E})}function D(t){if(t&&!b){if(!v)return A("scrollama error: enable() called before scroller was ready"),void(b=!1);K()}!t&&b&&e.forEach(N),b=t}function F(e){const t=Math.ceil(e/g),n=[],r=1/t;for(let i=0;i<t;i+=1)n.push(i*r);return n}function j(e,n){const r=R(e);void 0!==n&&(h[r].progress=n);const i={element:e,index:r,progress:h[r].progress};"enter"===h[r].state&&t.stepProgress(i)}function U(e,t){if("above"===t)for(let n=0;n<e;n+=1){const e=h[n];"enter"!==e.state&&"down"!==e.direction?(z(o[n],"down",!1),G(o[n],"down")):"enter"===e.state&&G(o[n],"down")}else if("below"===t)for(let n=h.length-1;n>e;n-=1){const e=h[n];"enter"===e.state&&G(o[n],"up"),"down"===e.direction&&(z(o[n],"up",!1),G(o[n],"up"))}}function z(e,n,r=!0){const o=R(e),s={element:e,index:o,direction:n};h[o].direction=n,h[o].state="enter",x&&r&&"down"===n&&U(o,"above"),x&&r&&"up"===n&&U(o,"below"),t.stepEnter&&!M[o]&&(t.stepEnter(s,h),w&&l({id:i,index:o,state:"enter"}),S&&(M[o]=!0)),_&&j(e)}function G(e,n){const r=R(e),o={element:e,index:r,direction:n};_&&("down"===n&&h[r].progress<1?j(e,1):"up"===n&&h[r].progress>0&&j(e,0)),h[r].direction=n,h[r].state="exit",t.stepExit(o,h),w&&l({id:i,index:r,state:"exit"})}function V([e]){L();const{isIntersecting:t,boundingClientRect:n,target:r}=e,{top:i,bottom:o}=n,s=i-d,a=o-d,l=R(r),c=h[l];t&&s<=0&&a>=0&&"down"===T&&"enter"!==c.state&&z(r,T),!t&&s>0&&"up"===T&&"enter"===c.state&&G(r,T)}function B([e]){L();const{isIntersecting:t,boundingClientRect:n,target:r}=e,{top:i,bottom:o}=n,s=i-d,a=o-d,l=R(r),c=h[l];t&&s<=0&&a>=0&&"up"===T&&"enter"!==c.state&&z(r,T),!t&&a<0&&"down"===T&&"enter"===c.state&&G(r,T)}function $([e]){L();const{isIntersecting:t,target:n}=e,r=R(n),i=h[r];t&&"down"===T&&"down"!==i.direction&&"enter"!==i.state&&(z(n,"down"),G(n,"down"))}function H([e]){L();const{isIntersecting:t,target:n}=e,r=R(n),i=h[r];t&&"up"===T&&"down"===i.direction&&"enter"!==i.state&&(z(n,"up"),G(n,"up"))}function W([e]){L();const{isIntersecting:t,intersectionRatio:n,boundingClientRect:r,target:i}=e,{bottom:o}=r,s=o-d;t&&s>=0&&j(i,+n)}function q(){n.viewportAbove=o.map(((e,t)=>{const n=m-u[t],r=d-f-c[t],i=`${n}px 0px ${r}px 0px`,o={rootMargin:i},s=new IntersectionObserver($,o);return s.observe(e),s}))}function Z(){n.viewportBelow=o.map(((e,t)=>{const n=-d-c[t],r=d-f+c[t]+m,i=`${n}px 0px ${r}px 0px`,o={rootMargin:i},s=new IntersectionObserver(H,o);return s.observe(e),s}))}function Y(){n.stepAbove=o.map(((e,t)=>{const n=-d+c[t],r=d-f,i=`${n}px 0px ${r}px 0px`,o={rootMargin:i},s=new IntersectionObserver(V,o);return s.observe(e),s}))}function X(){n.stepBelow=o.map(((e,t)=>{const n=-d,r=d-f+c[t],i=`${n}px 0px ${r}px 0px`,o={rootMargin:i},s=new IntersectionObserver(B,o);return s.observe(e),s}))}function J(){n.stepProgress=o.map(((e,t)=>{const n=c[t]-d,r=-f+d,i=`${n}px 0px ${r}px 0px`,o=F(c[t]),s={rootMargin:i,threshold:o},a=new IntersectionObserver(W,s);return a.observe(e),a}))}function K(){e.forEach(N),q(),Z(),Y(),X(),_&&J()}function Q(){o.forEach(((e,t)=>e.setAttribute("data-scrollama-index",t)))}function ee(){h=o.map((()=>({direction:null,state:null,progress:0})))}function te(){w&&s({id:i,stepEl:o,offsetVal:p})}function ne(e){const t=window.getComputedStyle(e);return("scroll"===t.overflowY||"auto"===t.overflowY)&&e.scrollHeight>e.clientHeight}function re(e){return!(!e||1!==e.nodeType)&&(ne(e)?e:re(e.parentNode))}const ie={setup:({step:e,parent:t,offset:n=.5,progress:s=!1,threshold:a=4,debug:l=!1,order:c=!0,once:u=!1})=>{if(I(),i=C(),o=r(e,t),!o.length)return A("no step elements"),ie;const h=o.reduce(((e,t)=>e||re(t.parentNode)),!1);return h&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",h),w=l,_=s,x=c,S=u,ie.offsetTrigger(n),g=Math.max(1,+a),v=!0,te(),Q(),ee(),P(),ie.enable(),ie},resize:()=>(P(),ie),enable:()=>(D(!0),ie),disable:()=>(D(!1),ie),destroy:()=>{D(!1),I()},offsetTrigger:e=>{if(null===e)return p;if("number"===typeof e)E="percent",e>1&&A("offset value is greater than 1. Fallback to 1."),e<0&&A("offset value is lower than 0. Fallback to 0."),p=Math.min(Math.max(0,e),1);else if("string"===typeof e&&e.indexOf("px")>0){const t=+e.replace("px","");isNaN(t)?(A("offset value must be in 'px' format. Fallback to 0.5."),p=.5):(E="pixels",p=t)}else A("offset value does not include 'px'. Fallback to 0.5."),p=.5;return ie},onStepEnter:e=>("function"===typeof e?t.stepEnter=e:A("onStepEnter requires a function"),ie),onStepExit:e=>("function"===typeof e?t.stepExit=e:A("onStepExit requires a function"),ie),onStepProgress:e=>("function"===typeof e?t.stepProgress=e:A("onStepProgress requires a function"),ie)};return ie}var u={inheritAttrs:!1,name:"Scrollama",mounted(){this._scroller=c(),this.setup()},beforeDestroy(){this._scroller.destroy()},computed:{opts(){return Object.assign({},{step:this.$el.childNodes,progress:!!this.$listeners["step-progress"]},this.$attrs)}},methods:{setup(){this._scroller.destroy(),this._scroller.setup(this.opts).onStepProgress((e=>{this.$emit("step-progress",e)})).onStepEnter((e=>{this.$emit("step-enter",e)})).onStepExit((e=>{this.$emit("step-exit",e)})),window.addEventListener("resize",this.handleResize)},handleResize(){this._scroller.resize()}}};function h(e,t,n,r,i,o,s,a,l,c){"boolean"!==typeof s&&(l=a,a=s,s=!1);const u="function"===typeof n?n.options:n;let h;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r),o?(h=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=h):t&&(h=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),h)if(u.functional){const e=u.render;u.render=function(t,n){return h.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,h):[h]}return n}const p=u;var d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scrollama__steps"},[e._t("default")],2)},f=[];const m=void 0,y=void 0,g=void 0,v=!1,b=h({render:d,staticRenderFns:f},m,p,y,v,g,!1,void 0,void 0,void 0);t["a"]=b},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),s=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:i})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a7bc:function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},a915:function(e,t,n){"use strict";var r=n("4883"),i=[["normalize",n("4c26")],["block",n("3408")],["inline",n("a124")],["linkify",n("9921")],["replacements",n("bb4a")],["smartquotes",n("af30")]];function o(){this.ruler=new r;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1])}o.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)},o.prototype.State=n("7133"),e.exports=o},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},aced:function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ade3:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),a=n("e163"),l=n("9112"),c=n("5135"),u=n("b622"),h=n("c430"),p=u("iterator"),d=!1,f=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):d=!0);var m=void 0==r||s((function(){var e={};return r[p].call(e)!==e}));m&&(r={}),h&&!m||c(r,p)||l(r,p,f),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},aea4:function(e,t,n){"use strict";n("0008")},af30:function(e,t,n){"use strict";var r=n("0068").isWhiteSpace,i=n("0068").isPunctChar,o=n("0068").isMdAsciiPunct,s=/['"]/,a=/['"]/g,l="’";function c(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function u(e,t){var n,s,u,h,p,d,f,m,y,g,v,b,w,_,x,S,T,E,M,A,I;for(M=[],n=0;n<e.length;n++){for(s=e[n],f=e[n].level,T=M.length-1;T>=0;T--)if(M[T].level<=f)break;if(M.length=T+1,"text"===s.type){u=s.content,p=0,d=u.length;e:while(p<d){if(a.lastIndex=p,h=a.exec(u),!h)break;if(x=S=!0,p=h.index+1,E="'"===h[0],y=32,h.index-1>=0)y=u.charCodeAt(h.index-1);else for(T=n-1;T>=0;T--){if("softbreak"===e[T].type||"hardbreak"===e[T].type)break;if(e[T].content){y=e[T].content.charCodeAt(e[T].content.length-1);break}}if(g=32,p<d)g=u.charCodeAt(p);else for(T=n+1;T<e.length;T++){if("softbreak"===e[T].type||"hardbreak"===e[T].type)break;if(e[T].content){g=e[T].content.charCodeAt(0);break}}if(v=o(y)||i(String.fromCharCode(y)),b=o(g)||i(String.fromCharCode(g)),w=r(y),_=r(g),_?x=!1:b&&(w||v||(x=!1)),w?S=!1:v&&(_||b||(S=!1)),34===g&&'"'===h[0]&&y>=48&&y<=57&&(S=x=!1),x&&S&&(x=v,S=b),x||S){if(S)for(T=M.length-1;T>=0;T--){if(m=M[T],M[T].level<f)break;if(m.single===E&&M[T].level===f){m=M[T],E?(A=t.md.options.quotes[2],I=t.md.options.quotes[3]):(A=t.md.options.quotes[0],I=t.md.options.quotes[1]),s.content=c(s.content,h.index,I),e[m.token].content=c(e[m.token].content,m.pos,A),p+=I.length-1,m.token===n&&(p+=A.length-1),u=s.content,d=u.length,M.length=T;continue e}}x?M.push({token:n,pos:h.index,single:E,level:f}):S&&E&&(s.content=c(s.content,h.index,l))}else E&&(s.content=c(s.content,h.index,l))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&s.test(e.tokens[t].content)&&u(e.tokens[t].children,e)}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,l="name";r&&!(l in o)&&i(o,l,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},b117:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n("cbc7").source,t.src_Cc=n("a7bc").source,t.src_Z=n("4fc2").source,t.src_P=n("7ca0").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><｜]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},b13b:function(e,t,n){"use strict";n("27e4")},b575:function(e,t,n){var r,i,o,s,a,l,c,u,h=n("da84"),p=n("06cf").f,d=n("2cf4").set,f=n("1cdc"),m=n("a4b4"),y=n("605d"),g=h.MutationObserver||h.WebKitMutationObserver,v=h.document,b=h.process,w=h.Promise,_=p(h,"queueMicrotask"),x=_&&_.value;x||(r=function(){var e,t;y&&(e=b.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},f||y||m||!g||!v?w&&w.resolve?(c=w.resolve(void 0),u=c.then,s=function(){u.call(c,r)}):s=y?function(){b.nextTick(r)}:function(){d.call(h,r)}:(a=!0,l=v.createTextNode(""),new g(r).observe(l,{characterData:!0}),s=function(){l.data=a=!a})),e.exports=x||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),l=n("fdbf"),c=i("wks"),u=r.Symbol,h=l?u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)&&(a||"string"==typeof c[e])||(a&&o(u,e)?c[e]=u[e]:c[e]=h("Symbol."+e)),c[e]}},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),s=n("d039"),a=s((function(){o(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(e){return o(i(e))}})},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,h=6==e,p=7==e,d=5==e||h;return function(f,m,y,g){for(var v,b,w=o(f),_=i(w),x=r(m,y,3),S=s(_.length),T=0,E=g||a,M=t?E(f,S):n||p?E(f,0):void 0;S>T;T++)if((d||T in _)&&(v=_[T],b=x(v,T,w),e))if(t)M[T]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return T;case 2:l.call(M,v)}else switch(e){case 4:return!1;case 7:l.call(M,v)}return h?-1:c||u?u:M}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},b8e4:function(e,t,n){},baca:function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){var n=e.pos;while(n<e.posMax&&!r(e.src.charCodeAt(n)))n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},bb4a:function(e,t,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,i=/\((c|tm|r|p)\)/i,o=/\((c|tm|r|p)\)/gi,s={c:"©",r:"®",p:"§",tm:"™"};function a(e,t){return s[t.toLowerCase()]}function l(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],"text"!==n.type||r||(n.content=n.content.replace(o,a)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function c(e){var t,n,i=0;for(t=e.length-1;t>=0;t--)n=e[t],"text"!==n.type||i||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(i.test(e.tokens[t].content)&&l(e.tokens[t].children),r.test(e.tokens[t].content)&&c(e.tokens[t].children))}},bd68:function(e,t,n){"use strict";e.exports=n("aced")},bee2:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},bf2b:function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i,o,s,a,l,c,u,h=!1,p=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>d)return!1;if(i=e.src.charCodeAt(p),126!==i&&96!==i)return!1;if(l=p,p=e.skipChars(p,i),o=p-l,o<3)return!1;if(u=e.src.slice(l,p),s=e.src.slice(p,d),96===i&&s.indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;for(a=t;;){if(a++,a>=n)break;if(p=l=e.bMarks[a]+e.tShift[a],d=e.eMarks[a],p<d&&e.sCount[a]<e.blkIndent)break;if(e.src.charCodeAt(p)===i&&!(e.sCount[a]-e.blkIndent>=4)&&(p=e.skipChars(p,i),!(p-l<o)&&(p=e.skipSpaces(p),!(p<d)))){h=!0;break}}return o=e.sCount[t],e.line=a+(h?1:0),c=e.push("fence","code",0),c.info=s,c.content=e.getLines(t+1,a,o,!0),c.markup=u,c.map=[t,e.line],!0}},bfff:function(e,t,n){"use strict";n("74c8")},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c2d8:function(e,t,n){"use strict";var r=n("5706").HTML_TAG_RE;function i(e){var t=32|e;return t>=97&&t<=122}e.exports=function(e,t){var n,o,s,a,l=e.pos;return!!e.md.options.html&&(s=e.posMax,!(60!==e.src.charCodeAt(l)||l+2>=s)&&(n=e.src.charCodeAt(l+1),!(33!==n&&63!==n&&47!==n&&!i(n))&&(o=e.src.slice(l).match(r),!!o&&(t||(a=e.push("html_inline","",0),a.content=e.src.slice(l,l+o[0].length)),e.pos+=o[0].length,!0))))}},c358:function(e,t,n){},c430:function(e,t){e.exports=!1},c464:function(e,t,n){"use strict";var r={};function i(e){var t,n,i=r[e];if(i)return i;for(i=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}function o(e,t,n){var r,s,a,l,c,u="";for("string"!==typeof t&&(n=t,t=o.defaultChars),"undefined"===typeof n&&(n=!0),c=i(t),r=0,s=e.length;r<s;r++)if(a=e.charCodeAt(r),n&&37===a&&r+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))u+=e.slice(r,r+3),r+=2;else if(a<128)u+=c[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&r+1<s&&(l=e.charCodeAt(r+1),l>=56320&&l<=57343)){u+=encodeURIComponent(e[r]+e[r+1]),r++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[r]);return u}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c87e:function(e,t,n){},c8a9:function(e,t,n){"use strict";function r(e,t){var n,r,i,o,s,a,l=t.length;for(n=l-1;n>=0;n--)r=t[n],95!==r.marker&&42!==r.marker||-1!==r.end&&(i=t[r.end],a=n>0&&t[n-1].end===r.end+1&&t[n-1].token===r.token-1&&t[r.end+1].token===i.token+1&&t[n-1].marker===r.marker,s=String.fromCharCode(r.marker),o=e.tokens[r.token],o.type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",o=e.tokens[i.token],o.type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,r,i,o=e.pos,s=e.src.charCodeAt(o);if(t)return!1;if(95!==s&&42!==s)return!1;for(r=e.scanDelims(e.pos,42===s),n=0;n<r.length;n++)i=e.push("text","",0),i.content=String.fromCharCode(s),e.delimiters.push({marker:s,length:r.length,jump:n,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,i=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<i;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);while(t.length>l)r(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},cbc7:function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cd0f:function(e,t,n){"use strict";var r=n("0068").normalizeReference,i=n("0068").isSpace;e.exports=function(e,t){var n,o,s,a,l,c,u,h,p,d="",f="",m=e.pos,y=e.posMax,g=e.pos,v=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(l=e.pos+1,a=e.md.helpers.parseLinkLabel(e,e.pos,!0),a<0)return!1;if(c=a+1,c<y&&40===e.src.charCodeAt(c)){for(v=!1,c++;c<y;c++)if(o=e.src.charCodeAt(c),!i(o)&&10!==o)break;if(c>=y)return!1;if(g=c,u=e.md.helpers.parseLinkDestination(e.src,c,e.posMax),u.ok){for(d=e.md.normalizeLink(u.str),e.md.validateLink(d)?c=u.pos:d="",g=c;c<y;c++)if(o=e.src.charCodeAt(c),!i(o)&&10!==o)break;if(u=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<y&&g!==c&&u.ok)for(f=u.str,c=u.pos;c<y;c++)if(o=e.src.charCodeAt(c),!i(o)&&10!==o)break}(c>=y||41!==e.src.charCodeAt(c))&&(v=!0),c++}if(v){if("undefined"===typeof e.env.references)return!1;if(c<y&&91===e.src.charCodeAt(c)?(g=c+1,c=e.md.helpers.parseLinkLabel(e,c),c>=0?s=e.src.slice(g,c++):c=a+1):c=a+1,s||(s=e.src.slice(l,a)),h=e.env.references[r(s)],!h)return e.pos=m,!1;d=h.href,f=h.title}return t||(e.pos=l,e.posMax=a,p=e.push("link_open","a",1),p.attrs=n=[["href",d]],f&&n.push(["title",f]),e.md.inline.tokenize(e),p=e.push("link_close","a",-1)),e.pos=c,e.posMax=y,!0}},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d0ea:function(e,t,n){"use strict";n("b8e4")},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){var r=n("746f");r("iterator")},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d4cd:function(e,t,n){"use strict";e.exports=n("08ae")},d4ec:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},d5d1:function(e,t,n){"use strict";t.Any=n("cbc7"),t.Cc=n("a7bc"),t.Cf=n("6fd1"),t.P=n("7ca0"),t.Z=n("4fc2")},d670:function(e,t,n){"use strict";var r=n("0068").normalizeReference,i=n("0068").isSpace;e.exports=function(e,t,n,o){var s,a,l,c,u,h,p,d,f,m,y,g,v,b,w,_,x=0,S=e.bMarks[t]+e.tShift[t],T=e.eMarks[t],E=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(S))return!1;while(++S<T)if(93===e.src.charCodeAt(S)&&92!==e.src.charCodeAt(S-1)){if(S+1===T)return!1;if(58!==e.src.charCodeAt(S+1))return!1;break}for(c=e.lineMax,w=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";E<c&&!e.isEmpty(E);E++)if(!(e.sCount[E]-e.blkIndent>3)&&!(e.sCount[E]<0)){for(b=!1,h=0,p=w.length;h<p;h++)if(w[h](e,E,c,!0)){b=!0;break}if(b)break}for(v=e.getLines(t,E,e.blkIndent,!1).trim(),T=v.length,S=1;S<T;S++){if(s=v.charCodeAt(S),91===s)return!1;if(93===s){f=S;break}10===s?x++:92===s&&(S++,S<T&&10===v.charCodeAt(S)&&x++)}if(f<0||58!==v.charCodeAt(f+1))return!1;for(S=f+2;S<T;S++)if(s=v.charCodeAt(S),10===s)x++;else if(!i(s))break;if(y=e.md.helpers.parseLinkDestination(v,S,T),!y.ok)return!1;if(u=e.md.normalizeLink(y.str),!e.md.validateLink(u))return!1;for(S=y.pos,x+=y.lines,a=S,l=x,g=S;S<T;S++)if(s=v.charCodeAt(S),10===s)x++;else if(!i(s))break;y=e.md.helpers.parseLinkTitle(v,S,T),S<T&&g!==S&&y.ok?(_=y.str,S=y.pos,x+=y.lines):(_="",S=a,x=l);while(S<T){if(s=v.charCodeAt(S),!i(s))break;S++}if(S<T&&10!==v.charCodeAt(S)&&_){_="",S=a,x=l;while(S<T){if(s=v.charCodeAt(S),!i(s))break;S++}}return!(S<T&&10!==v.charCodeAt(S))&&(d=r(v.slice(1,f)),!!d&&(o||("undefined"===typeof e.env.references&&(e.env.references={}),"undefined"===typeof e.env.references[d]&&(e.env.references[d]={title:_,href:u}),e.parentType=m,e.line=t+x+1),!0))}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),o=n("b622"),s=n("9112"),a=o("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=o("replace"),h=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,u){var d=o(e),f=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),m=f&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[a]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!m||"replace"===e&&(!l||!c||h)||"split"===e&&!p){var y=/./[d],g=n(d,""[e],(function(e,t,n,r,i){return t.exec===RegExp.prototype.exec?f&&!i?{done:!0,value:y.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),v=g[0],b=g[1];r(String.prototype,e,v),r(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&s(RegExp.prototype[d],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d8a6:function(e,t,n){"use strict";e.exports.encode=n("c464"),e.exports.decode=n("8f37"),e.exports.format=n("43e0"),e.exports.parse=n("da5f")},da5f:function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var i=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r","\n","\t"],l=["{","}","|","\\","^","`"].concat(a),c=["'"].concat(l),u=["%","/","?",";","#"].concat(c),h=["/","?","#"],p=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function g(e,t){if(e&&e instanceof r)return e;var n=new r;return n.parse(e,t),n}r.prototype.parse=function(e,t){var n,r,o,a,l,c=e;if(c=c.trim(),!t&&1===e.split("#").length){var g=s.exec(c);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var v=i.exec(c);if(v&&(v=v[0],o=v.toLowerCase(),this.protocol=v,c=c.substr(v.length)),(t||v||c.match(/^\/\/[^@\/]+@[^@\/]+/))&&(l="//"===c.substr(0,2),!l||v&&m[v]||(c=c.substr(2),this.slashes=!0)),!m[v]&&(l||v&&!y[v])){var b,w,_=-1;for(n=0;n<h.length;n++)a=c.indexOf(h[n]),-1!==a&&(-1===_||a<_)&&(_=a);for(w=-1===_?c.lastIndexOf("@"):c.lastIndexOf("@",_),-1!==w&&(b=c.slice(0,w),c=c.slice(w+1),this.auth=b),_=-1,n=0;n<u.length;n++)a=c.indexOf(u[n]),-1!==a&&(-1===_||a<_)&&(_=a);-1===_&&(_=c.length),":"===c[_-1]&&_--;var x=c.slice(0,_);c=c.slice(_),this.parseHost(x),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S){var T=this.hostname.split(/\./);for(n=0,r=T.length;n<r;n++){var E=T[n];if(E&&!E.match(d)){for(var M="",A=0,I=E.length;A<I;A++)E.charCodeAt(A)>127?M+="x":M+=E[A];if(!M.match(d)){var C=T.slice(0,n),O=T.slice(n+1),k=E.match(f);k&&(C.push(k[1]),O.unshift(k[2])),O.length&&(c=O.join(".")+c),this.hostname=C.join(".");break}}}}this.hostname.length>p&&(this.hostname=""),S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var R=c.indexOf("#");-1!==R&&(this.hash=c.substr(R),c=c.slice(0,R));var L=c.indexOf("?");return-1!==L&&(this.search=c.substr(L),c=c.slice(0,L)),c&&(this.pathname=c),y[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(e){var t=o.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=g},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var r=n("23e7"),i=n("83ab"),o=n("56ef"),s=n("fc6a"),a=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=s(e),i=a.f,c=o(r),u={},h=0;while(c.length>h)n=i(r,t=c[h++]),void 0!==n&&l(u,t,n);return u}})},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("e260"),s=n("9112"),a=n("b622"),l=a("iterator"),c=a("toStringTag"),u=o.values;for(var h in i){var p=r[h],d=p&&p.prototype;if(d){if(d[l]!==u)try{s(d,l,u)}catch(m){d[l]=u}if(d[c]||s(d,c,h),i[h])for(var f in o)if(d[f]!==o[f])try{s(d,f,o[f])}catch(m){d[f]=o[f]}}}},dde1:function(e,t,n){"use strict";n("2d90")},df56:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o,s,a=-1,l=e.posMax,c=e.pos;e.pos=t+1,r=1;while(e.pos<l){if(o=e.src.charCodeAt(e.pos),93===o&&(r--,0===r)){i=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===o)if(s===e.pos-1)r++;else if(n)return e.pos=c,-1}return i&&(a=e.pos),e.pos=c,a}},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),s=n("5135"),a=n("861d"),l=n("9bf2").f,c=n("e893"),u=o.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(h[t]=!0),t};c(p,u);var d=p.prototype=u.prototype;d.constructor=p;var f=d.toString,m="Symbol(test)"==String(u("test")),y=/^Symbol\((.*)\)[^)]+$/;l(d,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=f.call(e);if(s(h,e))return"";var n=m?t.slice(7,-1):t.replace(y,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e1f3:function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},e230:function(e,t,n){"use strict";n("2533")},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),l="Array Iterator",c=s.set,u=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e439:function(e,t,n){var r=n("23e7"),i=n("d039"),o=n("fc6a"),s=n("06cf").f,a=n("83ab"),l=i((function(){s(1)})),c=!a||l;r({target:"Object",stat:!0,forced:c,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},e4ca:function(e,t,n){"use strict";var r=n("0068").unescapeAll;e.exports=function(e,t,n){var i,o,s=0,a=t,l={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){t++;while(t<n){if(i=e.charCodeAt(t),10===i)return l;if(60===i)return l;if(62===i)return l.pos=t+1,l.str=r(e.slice(a+1,t)),l.ok=!0,l;92===i&&t+1<n?t+=2:t++}return l}o=0;while(t<n){if(i=e.charCodeAt(t),32===i)break;if(i<32||127===i)break;if(92===i&&t+1<n){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===i&&(o++,o>32))return l;if(41===i){if(0===o)break;o--}t++}}return a===t||0!==o||(l.str=r(e.slice(a,t)),l.lines=s,l.pos=t,l.ok=!0),l}},e538:function(e,t,n){var r=n("b622");t.f=r},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var r,i,o,s,a=n("23e7"),l=n("c430"),c=n("da84"),u=n("d066"),h=n("fea9"),p=n("6eeb"),d=n("e2cc"),f=n("d44e"),m=n("2626"),y=n("861d"),g=n("1c0b"),v=n("19aa"),b=n("8925"),w=n("2266"),_=n("1c7e"),x=n("4840"),S=n("2cf4").set,T=n("b575"),E=n("cdf9"),M=n("44de"),A=n("f069"),I=n("e667"),C=n("69f3"),O=n("94ca"),k=n("b622"),R=n("605d"),L=n("2d00"),N=k("species"),P="Promise",D=C.get,F=C.set,j=C.getterFor(P),U=h,z=c.TypeError,G=c.document,V=c.process,B=u("fetch"),$=A.f,H=$,W=!!(G&&G.createEvent&&c.dispatchEvent),q="function"==typeof PromiseRejectionEvent,Z="unhandledrejection",Y="rejectionhandled",X=0,J=1,K=2,Q=1,ee=2,te=O(P,(function(){var e=b(U)!==String(U);if(!e){if(66===L)return!0;if(!R&&!q)return!0}if(l&&!U.prototype["finally"])return!0;if(L>=51&&/native code/.test(U))return!1;var t=U.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[N]=n,!(t.then((function(){}))instanceof n)})),ne=te||!_((function(e){U.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;T((function(){var r=e.value,i=e.state==J,o=0;while(n.length>o){var s,a,l,c=n[o++],u=i?c.ok:c.fail,h=c.resolve,p=c.reject,d=c.domain;try{u?(i||(e.rejection===ee&&le(e),e.rejection=Q),!0===u?s=r:(d&&d.enter(),s=u(r),d&&(d.exit(),l=!0)),s===c.promise?p(z("Promise-chain cycle")):(a=re(s))?a.call(s,h,p):h(s)):p(r)}catch(f){d&&!l&&d.exit(),p(f)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&se(e)}))}},oe=function(e,t,n){var r,i;W?(r=G.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!q&&(i=c["on"+e])?i(r):e===Z&&M("Unhandled promise rejection",n)},se=function(e){S.call(c,(function(){var t,n=e.facade,r=e.value,i=ae(e);if(i&&(t=I((function(){R?V.emit("unhandledRejection",r,n):oe(Z,n,r)})),e.rejection=R||ae(e)?ee:Q,t.error))throw t.value}))},ae=function(e){return e.rejection!==Q&&!e.parent},le=function(e){S.call(c,(function(){var t=e.facade;R?V.emit("rejectionHandled",t):oe(Y,t,e.value)}))},ce=function(e,t,n){return function(r){e(t,r,n)}},ue=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=K,ie(e,!0))},he=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw z("Promise can't be resolved itself");var r=re(t);r?T((function(){var n={done:!1};try{r.call(t,ce(he,n,e),ce(ue,n,e))}catch(i){ue(n,i,e)}})):(e.value=t,e.state=J,ie(e,!1))}catch(i){ue({done:!1},i,e)}}};te&&(U=function(e){v(this,U,P),g(e),r.call(this);var t=D(this);try{e(ce(he,t),ce(ue,t))}catch(n){ue(t,n)}},r=function(e){F(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:X,value:void 0})},r.prototype=d(U.prototype,{then:function(e,t){var n=j(this),r=$(x(this,U));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=R?V.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=X&&ie(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ce(he,t),this.reject=ce(ue,t)},A.f=$=function(e){return e===U||e===o?new i(e):H(e)},l||"function"!=typeof h||(s=h.prototype.then,p(h.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof B&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return E(U,B.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:te},{Promise:U}),f(U,P,!1,!0),m(P),o=u(P),a({target:P,stat:!0,forced:te},{reject:function(e){var t=$(this);return t.reject.call(void 0,e),t.promise}}),a({target:P,stat:!0,forced:l||te},{resolve:function(e){return E(l&&this===o?U:this,e)}}),a({target:P,stat:!0,forced:ne},{all:function(e){var t=this,n=$(t),r=n.resolve,i=n.reject,o=I((function(){var n=g(t.resolve),o=[],s=0,a=1;w(e,(function(e){var l=s++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[l]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=$(t),r=n.reject,i=I((function(){var i=g(t.resolve);w(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e80e:function(e,t,n){"use strict";var r=n("0068").isSpace;e.exports=function(e,t,n,i){var o,s,a,l,c,u,h,p,d,f,m,y,g,v,b,w,_,x,S,T,E=e.lineMax,M=e.bMarks[t]+e.tShift[t],A=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(M++))return!1;if(i)return!0;l=d=e.sCount[t]+1,32===e.src.charCodeAt(M)?(M++,l++,d++,o=!1,w=!0):9===e.src.charCodeAt(M)?(w=!0,(e.bsCount[t]+d)%4===3?(M++,l++,d++,o=!1):o=!0):w=!1,f=[e.bMarks[t]],e.bMarks[t]=M;while(M<A){if(s=e.src.charCodeAt(M),!r(s))break;9===s?d+=4-(d+e.bsCount[t]+(o?1:0))%4:d++,M++}for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(w?1:0),u=M>=A,v=[e.sCount[t]],e.sCount[t]=d-l,b=[e.tShift[t]],e.tShift[t]=M-e.bMarks[t],x=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",p=t+1;p<n;p++){if(T=e.sCount[p]<e.blkIndent,M=e.bMarks[p]+e.tShift[p],A=e.eMarks[p],M>=A)break;if(62!==e.src.charCodeAt(M++)||T){if(u)break;for(_=!1,a=0,c=x.length;a<c;a++)if(x[a](e,p,n,!0)){_=!0;break}if(_){e.lineMax=p,0!==e.blkIndent&&(f.push(e.bMarks[p]),m.push(e.bsCount[p]),b.push(e.tShift[p]),v.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}f.push(e.bMarks[p]),m.push(e.bsCount[p]),b.push(e.tShift[p]),v.push(e.sCount[p]),e.sCount[p]=-1}else{l=d=e.sCount[p]+1,32===e.src.charCodeAt(M)?(M++,l++,d++,o=!1,w=!0):9===e.src.charCodeAt(M)?(w=!0,(e.bsCount[p]+d)%4===3?(M++,l++,d++,o=!1):o=!0):w=!1,f.push(e.bMarks[p]),e.bMarks[p]=M;while(M<A){if(s=e.src.charCodeAt(M),!r(s))break;9===s?d+=4-(d+e.bsCount[p]+(o?1:0))%4:d++,M++}u=M>=A,m.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(w?1:0),v.push(e.sCount[p]),e.sCount[p]=d-l,b.push(e.tShift[p]),e.tShift[p]=M-e.bMarks[p]}}for(y=e.blkIndent,e.blkIndent=0,S=e.push("blockquote_open","blockquote",1),S.markup=">",S.map=h=[t,0],e.md.block.tokenize(e,t,p),S=e.push("blockquote_close","blockquote",-1),S.markup=">",e.lineMax=E,e.parentType=g,h[1]=e.line,a=0;a<b.length;a++)e.bMarks[a+t]=f[a],e.tShift[a+t]=b[a],e.sCount[a+t]=v[a],e.bsCount[a+t]=m[a];return e.blkIndent=y,!0}},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,l=o.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||a(e,u,l(t,u))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f528:function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";function t(e){return n(e)&&"function"===typeof e.from}function n(e){return"object"===typeof e&&"function"===typeof e.to}function r(e){e.parentElement.removeChild(e)}function i(e){return null!==e&&void 0!==e}function o(e){e.preventDefault()}function s(e){return e.filter((function(e){return!this[e]&&(this[e]=!0)}),{})}function a(e,t){return Math.round(e/t)*t}function l(e,t){var n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.documentElement,o=g(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),t?n.top+o.y-i.clientTop:n.left+o.x-i.clientLeft}function c(e){return"number"===typeof e&&!isNaN(e)&&isFinite(e)}function u(e,t,n){n>0&&(f(e,t),setTimeout((function(){m(e,t)}),n))}function h(e){return Math.max(Math.min(e,100),0)}function p(e){return Array.isArray(e)?e:[e]}function d(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function f(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function m(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function y(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function g(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||""),r=t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,i=t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:i}}function v(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function b(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(n){}return e}function w(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function _(e,t){return 100/(t-e)}function x(e,t,n){return 100*t/(e[n+1]-e[n])}function S(e,t){return x(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}function T(e,t){return t*(e[1]-e[0])/100+e[0]}function E(e,t){var n=1;while(e>=t[n])n+=1;return n}function M(e,t,n){if(n>=e.slice(-1)[0])return 100;var r=E(n,e),i=e[r-1],o=e[r],s=t[r-1],a=t[r];return s+S([i,o],n)/_(s,a)}function A(e,t,n){if(n>=100)return e.slice(-1)[0];var r=E(n,t),i=e[r-1],o=e[r],s=t[r-1],a=t[r];return T([i,o],(n-s)*_(s,a))}function I(e,t,n,r){if(100===r)return r;var i=E(r,e),o=e[i-1],s=e[i];return n?r-o>(s-o)/2?s:o:t[i-1]?e[i-1]+a(r-e[i-1],t[i-1]):r}e.PipsMode=void 0,function(e){e["Range"]="range",e["Steps"]="steps",e["Positions"]="positions",e["Count"]="count",e["Values"]="values"}(e.PipsMode||(e.PipsMode={})),e.PipsType=void 0,function(e){e[e["None"]=-1]="None",e[e["NoValue"]=0]="NoValue",e[e["LargeValue"]=1]="LargeValue",e[e["SmallValue"]=2]="SmallValue"}(e.PipsType||(e.PipsType={}));var C=function(){function e(e,t,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=t;var i=[];for(Object.keys(e).forEach((function(t){i.push([p(e[t]),t])})),i.sort((function(e,t){return e[0][0]-t[0][0]})),r=0;r<i.length;r++)this.handleEntryPoint(i[r][1],i[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return e.prototype.getDistance=function(e){for(var t=[],n=0;n<this.xNumSteps.length-1;n++)t[n]=x(this.xVal,e,n);return t},e.prototype.getAbsoluteDistance=function(e,t,n){var r,i=0;if(e<this.xPct[this.xPct.length-1])while(e>this.xPct[i+1])i++;else e===this.xPct[this.xPct.length-1]&&(i=this.xPct.length-2);n||e!==this.xPct[i+1]||i++,null===t&&(t=[]);var o=1,s=t[i],a=0,l=0,c=0,u=0;r=n?(e-this.xPct[i])/(this.xPct[i+1]-this.xPct[i]):(this.xPct[i+1]-e)/(this.xPct[i+1]-this.xPct[i]);while(s>0)a=this.xPct[i+1+u]-this.xPct[i+u],t[i+u]*o+100-100*r>100?(l=a*r,o=(s-100*r)/t[i+u],r=1):(l=t[i+u]*a/100*o,o=0),n?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),s=t[i+u]*o;return e+c},e.prototype.toStepping=function(e){return e=M(this.xVal,this.xPct,e),e},e.prototype.fromStepping=function(e){return A(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return e=I(this.xPct,this.xSteps,this.snap,e),e},e.prototype.getDefaultStep=function(e,t,n){var r=E(e,this.xPct);return(100===e||t&&e===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},e.prototype.getNearbySteps=function(e){var t=E(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(d);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var n;if(n="min"===e?0:"max"===e?100:parseFloat(e),!c(n)||!c(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(t[0]);var r=Number(t[1]);n?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=x([this.xVal[e],this.xVal[e+1]],t,0)/_(this.xPct[e],this.xPct[e+1]);var n=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],r=Math.ceil(Number(n.toFixed(3))-1),i=this.xVal[e]+this.xNumSteps[e]*r;this.xHighestCompleteStep[e]=i}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),O={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},k={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},R={tooltips:".__tooltips",aria:".__aria"};function L(e,t){if(!c(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function N(e,t){if(!c(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function P(e,t){if(!c(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function D(e,t){if(!c(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function F(e,t){if("object"!==typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new C(t,e.snap||!1,e.singleStep)}function j(e,t){if(t=p(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function U(e,t){if("boolean"!==typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function z(e,t){if("boolean"!==typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function G(e,t){if("number"!==typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function V(e,t){var n,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function B(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function $(e,t){if(!c(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function H(e,t){if(!c(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function W(e,t){var n;if(!c(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!c(t[0])&&!c(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],n=0;n<e.spectrum.xNumSteps.length-1;n++)if(e.padding[0][n]<0||e.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=t[0]+t[1],i=e.spectrum.xVal[0],o=e.spectrum.xVal[e.spectrum.xVal.length-1];if(r/(o-i)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function q(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Z(e,t){if("string"!==typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,i=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,s=t.indexOf("hover")>=0,a=t.indexOf("unconstrained")>=0,l=t.indexOf("drag-all")>=0;if(i){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");$(e,e.start[1]-e.start[0])}if(a&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:n||o,drag:r,dragAll:l,fixed:i,snap:o,hover:s,unconstrained:a}}function Y(e,t){if(!1!==t)if(!0===t||n(t)){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(t)}else{if(t=p(t),t.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach((function(e){if("boolean"!==typeof e&&!n(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=t}}function X(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function J(e,t){if(!n(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function K(e,n){if(!t(n))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=n}function Q(e,t){if("boolean"!==typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function ee(e,t){e.documentElement=t}function te(e,t){if("string"!==typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function ne(e,t){if("object"!==typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"===typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(n){e.cssClasses[n]=e.cssPrefix+t[n]}))):e.cssClasses=t}function re(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:O,format:O},n={step:{r:!1,t:L},keyboardPageMultiplier:{r:!1,t:N},keyboardMultiplier:{r:!1,t:P},keyboardDefaultStep:{r:!1,t:D},start:{r:!0,t:j},connect:{r:!0,t:V},direction:{r:!0,t:q},snap:{r:!1,t:U},animate:{r:!1,t:z},animationDuration:{r:!1,t:G},range:{r:!0,t:F},orientation:{r:!1,t:B},margin:{r:!1,t:$},limit:{r:!1,t:H},padding:{r:!1,t:W},behaviour:{r:!0,t:Z},ariaFormat:{r:!1,t:J},format:{r:!1,t:K},tooltips:{r:!1,t:Y},keyboardSupport:{r:!0,t:Q},documentElement:{r:!1,t:ee},cssPrefix:{r:!0,t:te},cssClasses:{r:!0,t:ne},handleAttributes:{r:!1,t:X}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:k,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach((function(o){if(i(e[o])||void 0!==r[o])n[o].t(t,i(e[o])?e[o]:r[o]);else if(n[o].r)throw new Error("noUiSlider: '"+o+"' is required.")})),t.pips=e.pips;var o=document.createElement("div"),s=void 0!==o.style.msTransform,a=void 0!==o.style.transform;t.transformRule=a?"transform":s?"msTransform":"webkitTransform";var l=[["left","top"],["right","bottom"]];return t.style=l[t.dir][t.ort],t}function ie(t,n,a){var c,d,_,x,S,T=v(),E=w(),M=E&&b(),A=t,I=n.spectrum,C=[],O=[],k=[],L=0,N={},P=t.ownerDocument,D=n.documentElement||P.documentElement,F=P.body,j="rtl"===P.dir||1===n.ort?0:100;function U(e,t){var n=P.createElement("div");return t&&f(n,t),e.appendChild(n),n}function z(e,t){var r=U(e,n.cssClasses.origin),i=U(r,n.cssClasses.handle);if(U(i,n.cssClasses.touchArea),i.setAttribute("data-handle",String(t)),n.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(e){return fe(e,t)}))),void 0!==n.handleAttributes){var o=n.handleAttributes[t];Object.keys(o).forEach((function(e){i.setAttribute(e,o[e])}))}return i.setAttribute("role","slider"),i.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===t?f(i,n.cssClasses.handleLower):t===n.handles-1&&f(i,n.cssClasses.handleUpper),r}function G(e,t){return!!t&&U(e,n.cssClasses.connect)}function V(e,t){var r=U(t,n.cssClasses.connects);d=[],_=[],_.push(G(r,e[0]));for(var i=0;i<n.handles;i++)d.push(z(t,i)),k[i]=i,_.push(G(r,e[i+1]))}function B(e){f(e,n.cssClasses.target),0===n.dir?f(e,n.cssClasses.ltr):f(e,n.cssClasses.rtl),0===n.ort?f(e,n.cssClasses.horizontal):f(e,n.cssClasses.vertical);var t=getComputedStyle(e).direction;return f(e,"rtl"===t?n.cssClasses.textDirectionRtl:n.cssClasses.textDirectionLtr),U(e,n.cssClasses.base)}function $(e,t){return!(!n.tooltips||!n.tooltips[t])&&U(e.firstChild,n.cssClasses.tooltip)}function H(){return A.hasAttribute("disabled")}function W(e){var t=d[e];return t.hasAttribute("disabled")}function q(){S&&(ve("update"+R.tooltips),S.forEach((function(e){e&&r(e)})),S=null)}function Z(){q(),S=d.map($),ye("update"+R.tooltips,(function(e,t,r){if(S&&n.tooltips&&!1!==S[t]){var i=e[t];!0!==n.tooltips[t]&&(i=n.tooltips[t].to(r[t])),S[t].innerHTML=i}}))}function Y(){ve("update"+R.aria),ye("update"+R.aria,(function(e,t,r,i,o){k.forEach((function(e){var t=d[e],i=we(O,e,0,!0,!0,!0),s=we(O,e,100,!0,!0,!0),a=o[e],l=String(n.ariaFormat.to(r[e]));i=I.fromStepping(i).toFixed(1),s=I.fromStepping(s).toFixed(1),a=I.fromStepping(a).toFixed(1),t.children[0].setAttribute("aria-valuemin",i),t.children[0].setAttribute("aria-valuemax",s),t.children[0].setAttribute("aria-valuenow",a),t.children[0].setAttribute("aria-valuetext",l)}))}))}function X(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return I.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");var n=t.values-1,r=100/n,i=[];while(n--)i[n]=n*r;return i.push(100),J(i,t.stepped)}return t.mode===e.PipsMode.Positions?J(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return I.fromStepping(I.getStep(I.toStepping(e)))})):t.values:[]}function J(e,t){return e.map((function(e){return I.fromStepping(t?I.getStep(e):e)}))}function K(t){function n(e,t){return Number((e+t).toFixed(7))}var r=X(t),i={},o=I.xVal[0],a=I.xVal[I.xVal.length-1],l=!1,c=!1,u=0;return r=s(r.slice().sort((function(e,t){return e-t}))),r[0]!==o&&(r.unshift(o),l=!0),r[r.length-1]!==a&&(r.push(a),c=!0),r.forEach((function(o,s){var a,h,p,d,f,m,y,g,v,b,w=o,_=r[s+1],x=t.mode===e.PipsMode.Steps;for(x&&(a=I.xNumSteps[s]),a||(a=_-w),void 0===_&&(_=w),a=Math.max(a,1e-7),h=w;h<=_;h=n(h,a)){for(d=I.toStepping(h),f=d-u,g=f/(t.density||1),v=Math.round(g),b=f/v,p=1;p<=v;p+=1)m=u+p*b,i[m.toFixed(5)]=[I.fromStepping(m),0];y=r.indexOf(h)>-1?e.PipsType.LargeValue:x?e.PipsType.SmallValue:e.PipsType.NoValue,!s&&l&&h!==_&&(y=0),h===_&&c||(i[d.toFixed(5)]=[h,y]),u=d}})),i}function Q(t,r,i){var o,s,a=P.createElement("div"),l=(o={},o[e.PipsType.None]="",o[e.PipsType.NoValue]=n.cssClasses.valueNormal,o[e.PipsType.LargeValue]=n.cssClasses.valueLarge,o[e.PipsType.SmallValue]=n.cssClasses.valueSub,o),c=(s={},s[e.PipsType.None]="",s[e.PipsType.NoValue]=n.cssClasses.markerNormal,s[e.PipsType.LargeValue]=n.cssClasses.markerLarge,s[e.PipsType.SmallValue]=n.cssClasses.markerSub,s),u=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],h=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function p(e,t){var r=t===n.cssClasses.value,i=r?u:h,o=r?l:c;return t+" "+i[n.ort]+" "+o[e]}function d(t,o,s){if(s=r?r(o,s):s,s!==e.PipsType.None){var l=U(a,!1);l.className=p(s,n.cssClasses.marker),l.style[n.style]=t+"%",s>e.PipsType.NoValue&&(l=U(a,!1),l.className=p(s,n.cssClasses.value),l.setAttribute("data-value",String(o)),l.style[n.style]=t+"%",l.innerHTML=String(i.to(o)))}}return f(a,n.cssClasses.pips),f(a,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(t).forEach((function(e){d(e,t[e][0],t[e][1])})),a}function ee(){x&&(r(x),x=null)}function te(e){ee();var t=K(e),n=e.filter,r=e.format||{to:function(e){return String(Math.round(e))}};return x=A.appendChild(Q(t,n,r)),x}function ne(){var e=c.getBoundingClientRect(),t="offset"+["Width","Height"][n.ort];return 0===n.ort?e.width||c[t]:e.height||c[t]}function ie(e,t,r,i){var o=function(o){var s=oe(o,i.pageOffset,i.target||t);return!!s&&!(H()&&!i.doNotReject)&&!(y(A,n.cssClasses.tap)&&!i.doNotReject)&&!(e===T.start&&void 0!==s.buttons&&s.buttons>1)&&(!i.hover||!s.buttons)&&(M||s.preventDefault(),s.calcPoint=s.points[n.ort],void r(s,i))},s=[];return e.split(" ").forEach((function(e){t.addEventListener(e,o,!!M&&{passive:!0}),s.push([e,o])})),s}function oe(e,t,n){var r=0===e.type.indexOf("touch"),i=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),s=0,a=0;if(0===e.type.indexOf("MSPointer")&&(o=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(r){var l=function(t){var r=t.target;return r===n||n.contains(r)||e.composed&&e.composedPath().shift()===n};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(c.length>1)return!1;s=c[0].pageX,a=c[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,l);if(!u)return!1;s=u.pageX,a=u.pageY}}return t=t||g(P),(i||o)&&(s=e.clientX+t.x,a=e.clientY+t.y),e.pageOffset=t,e.points=[s,a],e.cursor=i||o,e}function se(e){var t=e-l(c,n.ort),r=100*t/ne();return r=h(r),n.dir?100-r:r}function ae(e){var t=100,n=!1;return d.forEach((function(r,i){if(!W(i)){var o=O[i],s=Math.abs(o-e),a=100===s&&100===t,l=s<t,c=s<=t&&e>o;(l||c||a)&&(n=i,t=s)}})),n}function le(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&ue(e,t)}function ce(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return ue(e,t);var r=(n.dir?-1:1)*(e.calcPoint-t.startCalcPoint),i=100*r/t.baseSize;xe(r>0,i,t.locations,t.handleNumbers,t.connect)}function ue(e,t){t.handle&&(m(t.handle,n.cssClasses.active),L-=1),t.listeners.forEach((function(e){D.removeEventListener(e[0],e[1])})),0===L&&(m(A,n.cssClasses.drag),Ee(),e.cursor&&(F.style.cursor="",F.removeEventListener("selectstart",o))),t.handleNumbers.forEach((function(e){be("change",e),be("set",e),be("end",e)}))}function he(e,t){if(!t.handleNumbers.some(W)){var r;if(1===t.handleNumbers.length){var i=d[t.handleNumbers[0]];r=i.children[0],L+=1,f(r,n.cssClasses.active)}e.stopPropagation();var s=[],a=ie(T.move,D,ce,{target:e.target,handle:r,connect:t.connect,listeners:s,startCalcPoint:e.calcPoint,baseSize:ne(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:O.slice()}),l=ie(T.end,D,ue,{target:e.target,handle:r,listeners:s,doNotReject:!0,handleNumbers:t.handleNumbers}),c=ie("mouseout",D,le,{target:e.target,handle:r,listeners:s,doNotReject:!0,handleNumbers:t.handleNumbers});s.push.apply(s,a.concat(l,c)),e.cursor&&(F.style.cursor=getComputedStyle(e.target).cursor,d.length>1&&f(A,n.cssClasses.drag),F.addEventListener("selectstart",o,!1)),t.handleNumbers.forEach((function(e){be("start",e)}))}}function pe(e){e.stopPropagation();var t=se(e.calcPoint),r=ae(t);!1!==r&&(n.events.snap||u(A,n.cssClasses.tap,n.animationDuration),Me(r,t,!0,!0),Ee(),be("slide",r,!0),be("update",r,!0),n.events.snap?he(e,{handleNumbers:[r]}):(be("change",r,!0),be("set",r,!0)))}function de(e){var t=se(e.calcPoint),n=I.getStep(t),r=I.fromStepping(n);Object.keys(N).forEach((function(e){"hover"===e.split(".")[0]&&N[e].forEach((function(e){e.call(je,r)}))}))}function fe(e,t){if(H()||W(t))return!1;var r=["Left","Right"],i=["Down","Up"],o=["PageDown","PageUp"],s=["Home","End"];n.dir&&!n.ort?r.reverse():n.ort&&!n.dir&&(i.reverse(),o.reverse());var a,l=e.key.replace("Arrow",""),c=l===o[0],u=l===o[1],h=l===i[0]||l===r[0]||c,p=l===i[1]||l===r[1]||u,d=l===s[0],f=l===s[1];if(!h&&!p&&!d&&!f)return!0;if(e.preventDefault(),p||h){var m=h?0:1,y=Ne(t),g=y[m];if(null===g)return!1;!1===g&&(g=I.getDefaultStep(O[t],h,n.keyboardDefaultStep)),g*=u||c?n.keyboardPageMultiplier:n.keyboardMultiplier,g=Math.max(g,1e-7),g*=h?-1:1,a=C[t]+g}else a=f?n.spectrum.xVal[n.spectrum.xVal.length-1]:n.spectrum.xVal[0];return Me(t,I.toStepping(a),!0,!0),be("slide",t),be("update",t),be("change",t),be("set",t),!1}function me(e){e.fixed||d.forEach((function(e,t){ie(T.start,e.children[0],he,{handleNumbers:[t]})})),e.tap&&ie(T.start,c,pe,{}),e.hover&&ie(T.move,c,de,{hover:!0}),e.drag&&_.forEach((function(t,r){if(!1!==t&&0!==r&&r!==_.length-1){var i=d[r-1],o=d[r],s=[t],a=[i,o],l=[r-1,r];f(t,n.cssClasses.draggable),e.fixed&&(s.push(i.children[0]),s.push(o.children[0])),e.dragAll&&(a=d,l=k),s.forEach((function(e){ie(T.start,e,he,{handles:a,handleNumbers:l,connect:t})}))}}))}function ye(e,t){N[e]=N[e]||[],N[e].push(t),"update"===e.split(".")[0]&&d.forEach((function(e,t){be("update",t)}))}function ge(e){return e===R.aria||e===R.tooltips}function ve(e){var t=e&&e.split(".")[0],n=t?e.substring(t.length):e;Object.keys(N).forEach((function(e){var r=e.split(".")[0],i=e.substring(r.length);t&&t!==r||n&&n!==i||ge(i)&&n!==i||delete N[e]}))}function be(e,t,r){Object.keys(N).forEach((function(i){var o=i.split(".")[0];e===o&&N[i].forEach((function(e){e.call(je,C.map(n.format.to),t,C.slice(),r||!1,O.slice(),je)}))}))}function we(e,t,r,i,o,s){var a;return d.length>1&&!n.events.unconstrained&&(i&&t>0&&(a=I.getAbsoluteDistance(e[t-1],n.margin,!1),r=Math.max(r,a)),o&&t<d.length-1&&(a=I.getAbsoluteDistance(e[t+1],n.margin,!0),r=Math.min(r,a))),d.length>1&&n.limit&&(i&&t>0&&(a=I.getAbsoluteDistance(e[t-1],n.limit,!1),r=Math.min(r,a)),o&&t<d.length-1&&(a=I.getAbsoluteDistance(e[t+1],n.limit,!0),r=Math.max(r,a))),n.padding&&(0===t&&(a=I.getAbsoluteDistance(0,n.padding[0],!1),r=Math.max(r,a)),t===d.length-1&&(a=I.getAbsoluteDistance(100,n.padding[1],!0),r=Math.min(r,a))),r=I.getStep(r),r=h(r),!(r===e[t]&&!s)&&r}function _e(e,t){var r=n.ort;return(r?t:e)+", "+(r?e:t)}function xe(e,t,n,r,i){var o=n.slice(),s=r[0],a=[!e,e],l=[e,!e];r=r.slice(),e&&r.reverse(),r.length>1?r.forEach((function(e,n){var r=we(o,e,o[e]+t,a[n],l[n],!1);!1===r?t=0:(t=r-o[e],o[e]=r)})):a=l=[!0];var c=!1;r.forEach((function(e,r){c=Me(e,n[e]+t,a[r],l[r])||c})),c&&(r.forEach((function(e){be("update",e),be("slide",e)})),void 0!=i&&be("drag",s))}function Se(e,t){return n.dir?100-e-t:e}function Te(e,t){O[e]=t,C[e]=I.fromStepping(t);var r=Se(t,0)-j,i="translate("+_e(r+"%","0")+")";d[e].style[n.transformRule]=i,Ae(e),Ae(e+1)}function Ee(){k.forEach((function(e){var t=O[e]>50?-1:1,n=3+(d.length+t*e);d[e].style.zIndex=String(n)}))}function Me(e,t,n,r,i){return i||(t=we(O,e,t,n,r,!1)),!1!==t&&(Te(e,t),!0)}function Ae(e){if(_[e]){var t=0,r=100;0!==e&&(t=O[e-1]),e!==_.length-1&&(r=O[e]);var i=r-t,o="translate("+_e(Se(t,i)+"%","0")+")",s="scale("+_e(i/100,"1")+")";_[e].style[n.transformRule]=o+" "+s}}function Ie(e,t){return null===e||!1===e||void 0===e?O[t]:("number"===typeof e&&(e=String(e)),e=n.format.from(e),!1!==e&&(e=I.toStepping(e)),!1===e||isNaN(e)?O[t]:e)}function Ce(e,t,r){var i=p(e),o=void 0===O[0];t=void 0===t||t,n.animate&&!o&&u(A,n.cssClasses.tap,n.animationDuration),k.forEach((function(e){Me(e,Ie(i[e],e),!0,!1,r)}));var s=1===k.length?0:1;if(o&&I.hasNoSize()&&(r=!0,O[0]=0,k.length>1)){var a=100/(k.length-1);k.forEach((function(e){O[e]=e*a}))}for(;s<k.length;++s)k.forEach((function(e){Me(e,O[e],!0,!0,r)}));Ee(),k.forEach((function(e){be("update",e),null!==i[e]&&t&&be("set",e)}))}function Oe(e){Ce(n.start,e)}function ke(e,t,n,r){if(e=Number(e),!(e>=0&&e<k.length))throw new Error("noUiSlider: invalid handle number, got: "+e);Me(e,Ie(t,e),!0,!0,r),be("update",e),n&&be("set",e)}function Re(e){if(void 0===e&&(e=!1),e)return 1===C.length?C[0]:C.slice(0);var t=C.map(n.format.to);return 1===t.length?t[0]:t}function Le(){ve(R.aria),ve(R.tooltips),Object.keys(n.cssClasses).forEach((function(e){m(A,n.cssClasses[e])}));while(A.firstChild)A.removeChild(A.firstChild);delete A.noUiSlider}function Ne(e){var t=O[e],r=I.getNearbySteps(t),i=C[e],o=r.thisStep.step,s=null;if(n.snap)return[i-r.stepBefore.startValue||null,r.stepAfter.startValue-i||null];!1!==o&&i+o>r.stepAfter.startValue&&(o=r.stepAfter.startValue-i),s=i>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&i-r.stepBefore.highestStep,100===t?o=null:0===t&&(s=null);var a=I.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(a))),null!==s&&!1!==s&&(s=Number(s.toFixed(a))),[s,o]}function Pe(){return k.map(Ne)}function De(e,t){var r=Re(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach((function(t){void 0!==e[t]&&(a[t]=e[t])}));var s=re(a);o.forEach((function(t){void 0!==e[t]&&(n[t]=s[t])})),I=s.spectrum,n.margin=s.margin,n.limit=s.limit,n.padding=s.padding,n.pips?te(n.pips):ee(),n.tooltips?Z():q(),O=[],Ce(i(e.start)?e.start:r,t)}function Fe(){c=B(A),V(n.connect,c),me(n.events),Ce(n.start),n.pips&&te(n.pips),n.tooltips&&Z(),Y()}Fe();var je={destroy:Le,steps:Pe,on:ye,off:ve,get:Re,set:Ce,setHandle:ke,reset:Oe,__moveHandles:function(e,t,n){xe(e,t,O,n)},options:a,updateOptions:De,target:A,removePips:ee,removeTooltips:q,getPositions:function(){return O.slice()},getTooltips:function(){return S},getOrigins:function(){return d},pips:te};return je}function oe(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=re(t),r=ie(e,n,t);return e.noUiSlider=r,r}var se={__spectrum:C,cssClasses:k,create:oe};e.create=oe,e.cssClasses=k,e["default"]=se,Object.defineProperty(e,"__esModule",{value:!0})}))},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f739:function(e,t,n){},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fa95:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dv-chart justify-center flex align-middle",attrs:{"dv-config":"config"}},[e.loading?e._e():n("div",{staticClass:"dv-chart-container items-stretch h-full w-full",attrs:{role:"region","aria-hidden":"false","aria-label":e.title}},[n("highcharts",{attrs:{options:e.chartOptions}})],1)])},i=[],o=(n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4"),n("ade3"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=n("d4ec"),c=n("bee2"),u=n("262e"),h=n("2caf"),p=(n("ac1f"),n("1276"),n("d3b7"),n("e6cf"),n("fb6a"),n("d81d"),n("9ab4")),d=n("1b40"),f=function(e){Object(u["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.chartOptions={},e.title="",e.loading=!0,e.menuOptions=["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS"],e}return Object(c["a"])(n,[{key:"mounted",value:function(){var e=this,t=this.$el.clientWidth<=640;if(t||this.menuOptions.push("viewData"),this.config.config)this.chartOptions=this.config.config,this.title=this.chartOptions.title.text,this.loading=!1,this.chartOptions.exporting?this.chartOptions.exporting.buttons={contextButton:{menuItems:this.menuOptions}}:this.chartOptions.exporting={buttons:{contextButton:{menuItems:this.menuOptions}}};else if(this.config.src){var n=this.config.src.split(".").pop(),r="".concat(this.config.src.substring(this.config.src.indexOf("/")+1));if("json"===n)fetch(this.config.src).then((function(t){t.json().then((function(t){e.chartOptions=t,e.title=e.chartOptions.title.text,e.loading=!1,e.chartOptions.exporting?e.chartOptions.exporting.buttons={contextButton:{menuItems:e.menuOptions}}:e.chartOptions.exporting={buttons:{contextButton:{menuItems:e.menuOptions}}}}),(function(e){console.error("Error fetching chart JSON file: ".concat(e))}))}));else if("csv"===n)if(this.configFileStructure){var i=this.configFileStructure.zip.file(r);i&&i.async("blob").then((function(t){e.parseCSVFile(t)}))}else fetch(this.config.src).then((function(t){e.parseCSVFile(t)}))}}},{key:"parseCSVFile",value:function(e){var t=this,n=this.config.options,r={buttons:{contextButton:{menuItems:this.menuOptions}},enabled:void 0===(null===n||void 0===n?void 0:n.export)||(null===n||void 0===n?void 0:n.export)},i=a(a(a(a({chart:a(a({renderTo:"dv-chart-container",type:null===n||void 0===n?void 0:n.type},(null===n||void 0===n?void 0:n.height)&&this.$el.clientHeight>=n.height&&{height:n.height}),(null===n||void 0===n?void 0:n.width)&&this.$el.clientWidth>=n.width&&{width:n.width})},(null===n||void 0===n?void 0:n.title)&&{title:{text:null===n||void 0===n?void 0:n.title}}),(null===n||void 0===n?void 0:n.subtitle)&&{subtitle:{text:null===n||void 0===n?void 0:n.subtitle}}),(null===n||void 0===n?void 0:n.colours)&&{colors:null===n||void 0===n?void 0:n.colours}),{},{exporting:r,credits:{enabled:void 0!==(null===n||void 0===n?void 0:n.credits)&&(null===n||void 0===n?void 0:n.credits)}});this.$papa.parse(e.url?e.url:e,{header:"pie"!==(null===n||void 0===n?void 0:n.type),dynamicTyping:!0,download:!!e.url,complete:function(e){"pie"===(null===n||void 0===n?void 0:n.type)?t.makePieChart(e.data,i):t.makeLineChart(e.meta.fields,e.data,i)}}),this.loading=!1}},{key:"makePieChart",value:function(e,t){var n={name:"",data:[]};n.name=e[0][0];var r=e[0][1];e.slice(1).forEach((function(e){n.data.push({name:e[0],y:parseFloat(e[1])})}));var i={pie:{name:"",allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}};this.chartOptions=a(a({},t),{},{plotOptions:i,series:n,yAxis:{title:{text:r}}}),this.$emit("loaded",this.chartOptions)}},{key:"makeLineChart",value:function(e,t,n){var r=this.config.options,i=e.shift(),o={title:{text:null!==r&&void 0!==r&&r.xAxisLabel?null===r||void 0===r?void 0:r.xAxisLabel:""},categories:t.map((function(e){return e[i]}))},s=[];e.forEach((function(e){var n=t.map((function(t){return t[e]}));s.push({name:e,data:n})})),this.chartOptions=a(a({},n),{},{series:s,xAxis:o,yAxis:{title:{text:null!==r&&void 0!==r&&r.yAxisLabel?null===r||void 0===r?void 0:r.yAxisLabel:""}}}),this.$emit("loaded",this.chartOptions)}}]),n}(d["c"]);Object(p["a"])([Object(d["b"])()],f.prototype,"config",void 0),Object(p["a"])([Object(d["b"])()],f.prototype,"configFileStructure",void 0),f=Object(p["a"])([Object(d["a"])({})],f);var m=f,y=m,g=(n("51aa"),n("2877")),v=Object(g["a"])(y,r,i,!1,null,null,null);t["a"]=v.exports},fb15:function(e,t,n){"use strict";if(n.r(t),n.d(t,"storylinesI18n",(function(){return Ct})),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=n("8bbf"),a=n.n(s),l=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function c(e,t){"undefined"!==typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}function u(e,t){"undefined"!==typeof console&&(console.error("[vue-i18n] "+e),t&&console.error(t.stack))}var h=Array.isArray;function p(e){return null!==e&&"object"===typeof e}function d(e){return"boolean"===typeof e}function f(e){return"string"===typeof e}var m=Object.prototype.toString,y="[object Object]";function g(e){return m.call(e)===y}function v(e){return null===e||void 0===e}function b(e){return"function"===typeof e}function w(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];var n=null,r=null;return 1===e.length?p(e[0])||h(e[0])?r=e[0]:"string"===typeof e[0]&&(n=e[0]):2===e.length&&("string"===typeof e[0]&&(n=e[0]),(p(e[1])||h(e[1]))&&(r=e[1])),{locale:n,params:r}}function _(e){return JSON.parse(JSON.stringify(e))}function x(e,t){if(e.delete(t))return e}function S(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}function T(e,t){return!!~e.indexOf(t)}var E=Object.prototype.hasOwnProperty;function M(e,t){return E.call(e,t)}function A(e){for(var t=arguments,n=Object(e),r=1;r<arguments.length;r++){var i=t[r];if(void 0!==i&&null!==i){var o=void 0;for(o in i)M(i,o)&&(p(i[o])?n[o]=A(n[o],i[o]):n[o]=i[o])}}return n}function I(e,t){if(e===t)return!0;var n=p(e),r=p(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=h(e),o=h(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return I(e,t[n])}));if(i||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return I(e[n],t[n])}))}catch(l){return!1}}function C(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function O(e){return null!=e&&Object.keys(e).forEach((function(t){"string"==typeof e[t]&&(e[t]=C(e[t]))})),e}function k(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[e,r.locale,r._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){var n=[],r=arguments.length-2;while(r-- >0)n[r]=arguments[r+2];var i=this.$i18n;return i._tc.apply(i,[e,i.locale,i._getMessages(),this,t].concat(n))},e.prototype.$te=function(e,t){var n=this.$i18n;return n._te(e,n.locale,n._getMessages(),t)},e.prototype.$d=function(e){var t,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(t=this.$i18n).d.apply(t,[e].concat(n))},e.prototype.$n=function(e){var t,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(t=this.$i18n).n.apply(t,[e].concat(n))}}function R(e){function t(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===e&&(e=!1),e?{mounted:t}:{beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n){if(e.i18n instanceof Oe){if(e.__i18nBridge||e.__i18n)try{var t=e.i18n&&e.i18n.messages?e.i18n.messages:{},n=e.__i18nBridge||e.__i18n;n.forEach((function(e){t=A(t,JSON.parse(e))})),Object.keys(t).forEach((function(n){e.i18n.mergeLocaleMessage(n,t[n])}))}catch(l){}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(g(e.i18n)){var r=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Oe?this.$root.$i18n:null;if(r&&(e.i18n.root=this.$root,e.i18n.formatter=r.formatter,e.i18n.fallbackLocale=r.fallbackLocale,e.i18n.formatFallbackMessages=r.formatFallbackMessages,e.i18n.silentTranslationWarn=r.silentTranslationWarn,e.i18n.silentFallbackWarn=r.silentFallbackWarn,e.i18n.pluralizationRules=r.pluralizationRules,e.i18n.preserveDirectiveContent=r.preserveDirectiveContent),e.__i18nBridge||e.__i18n)try{var i=e.i18n&&e.i18n.messages?e.i18n.messages:{},o=e.__i18nBridge||e.__i18n;o.forEach((function(e){i=A(i,JSON.parse(e))})),e.i18n.messages=i}catch(l){}var s=e.i18n,a=s.sharedMessages;a&&g(a)&&(e.i18n.messages=A(e.i18n.messages,a)),this._i18n=new Oe(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),r&&r.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Oe?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Oe&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n?(e.i18n instanceof Oe||g(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Oe||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Oe)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:t,beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}}}var L={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var n=t.data,r=t.parent,i=t.props,o=t.slots,s=r.$i18n;if(s){var a=i.path,l=i.locale,c=i.places,u=o(),h=s.i(a,l,N(u)||c?P(u.default,c):u),p=i.tag&&!0!==i.tag||!1===i.tag?i.tag:"span";return p?e(p,n,h):h}}};function N(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}function P(e,t){var n=t?D(t):{};if(!e)return n;e=e.filter((function(e){return e.tag||""!==e.text.trim()}));var r=e.every(U);return e.reduce(r?F:j,n)}function D(e){return Array.isArray(e)?e.reduce(j,{}):Object.assign({},e)}function F(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function j(e,t,n){return e[n]=t,e}function U(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var z,G={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var n=t.props,r=t.parent,i=t.data,o=r.$i18n;if(!o)return null;var s=null,a=null;f(n.format)?s=n.format:p(n.format)&&(n.format.key&&(s=n.format.key),a=Object.keys(n.format).reduce((function(e,t){var r;return T(l,t)?Object.assign({},e,(r={},r[t]=n.format[t],r)):e}),null));var c=n.locale||o.locale,u=o._ntp(n.value,c,s,a),h=u.map((function(e,t){var n,r=i.scopedSlots&&i.scopedSlots[e.type];return r?r((n={},n[e.type]=e.value,n.index=t,n.parts=u,n)):e.value})),d=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return d?e(d,{attrs:i.attrs,class:i["class"],staticClass:i.staticClass},h):h}};function V(e,t,n){H(e,n)&&q(e,t,n)}function B(e,t,n,r){if(H(e,n)){var i=n.context.$i18n;W(e,n)&&I(t.value,t.oldValue)&&I(e._localeMessage,i.getLocaleMessage(i.locale))||q(e,t,n)}}function $(e,t,n,r){var i=n.context;if(i){var o=n.context.$i18n||{};t.modifiers.preserve||o.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e["_vt"],e._locale=void 0,delete e["_locale"],e._localeMessage=void 0,delete e["_localeMessage"]}else c("Vue instance does not exists in VNode context")}function H(e,t){var n=t.context;return n?!!n.$i18n||(c("VueI18n instance does not exists in Vue instance"),!1):(c("Vue instance does not exists in VNode context"),!1)}function W(e,t){var n=t.context;return e._locale===n.$i18n.locale}function q(e,t,n){var r,i,o=t.value,s=Z(o),a=s.path,l=s.locale,u=s.args,h=s.choice;if(a||l||u)if(a){var p=n.context;e._vt=e.textContent=null!=h?(r=p.$i18n).tc.apply(r,[a,h].concat(Y(l,u))):(i=p.$i18n).t.apply(i,[a].concat(Y(l,u))),e._locale=p.$i18n.locale,e._localeMessage=p.$i18n.getLocaleMessage(p.$i18n.locale)}else c("`path` is required in v-t directive");else c("value type not supported")}function Z(e){var t,n,r,i;return f(e)?t=e:g(e)&&(t=e.path,n=e.locale,r=e.args,i=e.choice),{path:t,locale:n,args:r,choice:i}}function Y(e,t){var n=[];return e&&n.push(e),t&&(Array.isArray(t)||g(t))&&n.push(t),n}function X(e,t){void 0===t&&(t={bridge:!1}),X.installed=!0,z=e,z.version&&Number(z.version.split(".")[0]),k(z),z.mixin(R(t.bridge)),z.directive("t",{bind:V,update:B,unbind:$}),z.component(L.name,L),z.component(G.name,G);var n=z.config.optionMergeStrategies;n.i18n=function(e,t){return void 0===t?e:t}}var J=function(){this._caches=Object.create(null)};J.prototype.interpolate=function(e,t){if(!t)return[e];var n=this._caches[e];return n||(n=ee(e),this._caches[e]=n),te(n,t)};var K=/^(?:\d)+/,Q=/^(?:\w)+/;function ee(e){var t=[],n=0,r="";while(n<e.length){var i=e[n++];if("{"===i){r&&t.push({type:"text",value:r}),r="";var o="";i=e[n++];while(void 0!==i&&"}"!==i)o+=i,i=e[n++];var s="}"===i,a=K.test(o)?"list":s&&Q.test(o)?"named":"unknown";t.push({value:o,type:a})}else"%"===i?"{"!==e[n]&&(r+=i):r+=i}return r&&t.push({type:"text",value:r}),t}function te(e,t){var n=[],r=0,i=Array.isArray(t)?"list":p(t)?"named":"unknown";if("unknown"===i)return n;while(r<e.length){var o=e[r];switch(o.type){case"text":n.push(o.value);break;case"list":n.push(t[parseInt(o.value,10)]);break;case"named":"named"===i&&n.push(t[o.value]);break;case"unknown":break}r++}return n}var ne=0,re=1,ie=2,oe=3,se=0,ae=1,le=2,ce=3,ue=4,he=5,pe=6,de=7,fe=8,me=[];me[se]={ws:[se],ident:[ce,ne],"[":[ue],eof:[de]},me[ae]={ws:[ae],".":[le],"[":[ue],eof:[de]},me[le]={ws:[le],ident:[ce,ne],0:[ce,ne],number:[ce,ne]},me[ce]={ident:[ce,ne],0:[ce,ne],number:[ce,ne],ws:[ae,re],".":[le,re],"[":[ue,re],eof:[de,re]},me[ue]={"'":[he,ne],'"':[pe,ne],"[":[ue,ie],"]":[ae,oe],eof:fe,else:[ue,ne]},me[he]={"'":[ue,ne],eof:fe,else:[he,ne]},me[pe]={'"':[ue,ne],eof:fe,else:[pe,ne]};var ye=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function ge(e){return ye.test(e)}function ve(e){var t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function be(e){if(void 0===e||null===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function we(e){var t=e.trim();return("0"!==e.charAt(0)||!isNaN(e))&&(ge(t)?ve(t):"*"+t)}function _e(e){var t,n,r,i,o,s,a,l=[],c=-1,u=se,h=0,p=[];function d(){var t=e[c+1];if(u===he&&"'"===t||u===pe&&'"'===t)return c++,r="\\"+t,p[ne](),!0}p[re]=function(){void 0!==n&&(l.push(n),n=void 0)},p[ne]=function(){void 0===n?n=r:n+=r},p[ie]=function(){p[ne](),h++},p[oe]=function(){if(h>0)h--,u=ue,p[ne]();else{if(h=0,void 0===n)return!1;if(n=we(n),!1===n)return!1;p[re]()}};while(null!==u)if(c++,t=e[c],"\\"!==t||!d()){if(i=be(t),a=me[u],o=a[i]||a["else"]||fe,o===fe)return;if(u=o[0],s=p[o[1]],s&&(r=o[2],r=void 0===r?t:r,!1===s()))return;if(u===de)return l}}var xe=function(){this._cache=Object.create(null)};xe.prototype.parsePath=function(e){var t=this._cache[e];return t||(t=_e(e),t&&(this._cache[e]=t)),t||[]},xe.prototype.getPathValue=function(e,t){if(!p(e))return null;var n=this.parsePath(t);if(0===n.length)return null;var r=n.length,i=e,o=0;while(o<r){var s=i[n[o]];if(void 0===s||null===s)return null;i=s,o++}return i};var Se,Te=/<\/?[\w\s="/.':;#-\/]+>/,Ee=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,Me=/^@(?:\.([a-zA-Z]+))?:/,Ae=/[()]/g,Ie={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},Ce=new J,Oe=function(e){var t=this;void 0===e&&(e={}),!z&&"undefined"!==typeof window&&window.Vue&&X(window.Vue);var n=e.locale||"en-US",r=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),i=e.messages||{},o=e.dateTimeFormats||e.datetimeFormats||{},s=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||Ce,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._fallbackRootWithEmptyString=void 0===e.fallbackRootWithEmptyString||!!e.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new xe,this._dataListeners=new Set,this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in e&&(this.__VUE_I18N_BRIDGE__=e.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(e,n){var r=Object.getPrototypeOf(t);if(r&&r.getChoiceIndex){var i=r.getChoiceIndex;return i.call(t,e,n)}var o=function(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0};return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,n]):o(e,n)},this._exist=function(e,n){return!(!e||!n)&&(!v(t._path.getPathValue(e,n))||!!e[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(i).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,i[e])})),this._initVM({locale:n,fallbackLocale:r,messages:i,dateTimeFormats:o,numberFormats:s})},ke={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};Oe.prototype._checkLocaleMessage=function(e,t,n){var r=[],i=function(e,t,n,r){if(g(n))Object.keys(n).forEach((function(o){var s=n[o];g(s)?(r.push(o),r.push("."),i(e,t,s,r),r.pop(),r.pop()):(r.push(o),i(e,t,s,r),r.pop())}));else if(h(n))n.forEach((function(n,o){g(n)?(r.push("["+o+"]"),r.push("."),i(e,t,n,r),r.pop(),r.pop()):(r.push("["+o+"]"),i(e,t,n,r),r.pop())}));else if(f(n)){var o=Te.test(n);if(o){var s="Detected HTML in message '"+n+"' of keypath '"+r.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?c(s):"error"===e&&u(s)}}};i(t,e,n,r)},Oe.prototype._initVM=function(e){var t=z.config.silent;z.config.silent=!0,this._vm=new z({data:e,__VUE18N__INSTANCE__:!0}),z.config.silent=t},Oe.prototype.destroyVM=function(){this._vm.$destroy()},Oe.prototype.subscribeDataChanging=function(e){this._dataListeners.add(e)},Oe.prototype.unsubscribeDataChanging=function(e){x(this._dataListeners,e)},Oe.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){var t=S(e._dataListeners),n=t.length;while(n--)z.nextTick((function(){t[n]&&t[n].$forceUpdate()}))}),{deep:!0})},Oe.prototype.watchLocale=function(e){if(e){if(!this.__VUE_I18N_BRIDGE__)return null;var t=this,n=this._vm;return this.vm.$watch("locale",(function(r){n.$set(n,"locale",r),t.__VUE_I18N_BRIDGE__&&e&&(e.locale.value=r),n.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var r=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){r.$set(r,"locale",e),r.$forceUpdate()}),{immediate:!0})},Oe.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},ke.vm.get=function(){return this._vm},ke.messages.get=function(){return _(this._getMessages())},ke.dateTimeFormats.get=function(){return _(this._getDateTimeFormats())},ke.numberFormats.get=function(){return _(this._getNumberFormats())},ke.availableLocales.get=function(){return Object.keys(this.messages).sort()},ke.locale.get=function(){return this._vm.locale},ke.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},ke.fallbackLocale.get=function(){return this._vm.fallbackLocale},ke.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},ke.formatFallbackMessages.get=function(){return this._formatFallbackMessages},ke.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},ke.missing.get=function(){return this._missing},ke.missing.set=function(e){this._missing=e},ke.formatter.get=function(){return this._formatter},ke.formatter.set=function(e){this._formatter=e},ke.silentTranslationWarn.get=function(){return this._silentTranslationWarn},ke.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},ke.silentFallbackWarn.get=function(){return this._silentFallbackWarn},ke.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},ke.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},ke.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},ke.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},ke.warnHtmlInMessage.set=function(e){var t=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,n!==e&&("warn"===e||"error"===e)){var r=this._getMessages();Object.keys(r).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,r[e])}))}},ke.postTranslation.get=function(){return this._postTranslation},ke.postTranslation.set=function(e){this._postTranslation=e},ke.sync.get=function(){return this._sync},ke.sync.set=function(e){this._sync=e},Oe.prototype._getMessages=function(){return this._vm.messages},Oe.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},Oe.prototype._getNumberFormats=function(){return this._vm.numberFormats},Oe.prototype._warnDefault=function(e,t,n,r,i,o){if(!v(n))return n;if(this._missing){var s=this._missing.apply(null,[e,t,r,i]);if(f(s))return s}if(this._formatFallbackMessages){var a=w.apply(void 0,i);return this._render(t,o,a.params,t)}return t},Oe.prototype._isFallbackRoot=function(e){return(this._fallbackRootWithEmptyString?!e:v(e))&&!v(this._root)&&this._fallbackRoot},Oe.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},Oe.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},Oe.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},Oe.prototype._interpolate=function(e,t,n,r,i,o,s){if(!t)return null;var a,l=this._path.getPathValue(t,n);if(h(l)||g(l))return l;if(v(l)){if(!g(t))return null;if(a=t[n],!f(a)&&!b(a))return null}else{if(!f(l)&&!b(l))return null;a=l}return f(a)&&(a.indexOf("@:")>=0||a.indexOf("@.")>=0)&&(a=this._link(e,t,a,r,"raw",o,s)),this._render(a,i,o,n)},Oe.prototype._link=function(e,t,n,r,i,o,s){var a=n,l=a.match(Ee);for(var c in l)if(l.hasOwnProperty(c)){var u=l[c],p=u.match(Me),d=p[0],f=p[1],m=u.replace(d,"").replace(Ae,"");if(T(s,m))return a;s.push(m);var y=this._interpolate(e,t,m,r,"raw"===i?"string":i,"raw"===i?void 0:o,s);if(this._isFallbackRoot(y)){if(!this._root)throw Error("unexpected error");var g=this._root.$i18n;y=g._translate(g._getMessages(),g.locale,g.fallbackLocale,m,r,i,o)}y=this._warnDefault(e,m,y,r,h(o)?o:[o],i),this._modifiers.hasOwnProperty(f)?y=this._modifiers[f](y):Ie.hasOwnProperty(f)&&(y=Ie[f](y)),s.pop(),a=y?a.replace(u,y):a}return a},Oe.prototype._createMessageContext=function(e,t,n,r){var i=this,o=h(e)?e:[],s=p(e)?e:{},a=function(e){return o[e]},l=function(e){return s[e]},c=this._getMessages(),u=this.locale;return{list:a,named:l,values:e,formatter:t,path:n,messages:c,locale:u,linked:function(e){return i._interpolate(u,c[u]||{},e,null,r,void 0,[e])}}},Oe.prototype._render=function(e,t,n,r){if(b(e))return e(this._createMessageContext(n,this._formatter||Ce,r,t));var i=this._formatter.interpolate(e,n,r);return i||(i=Ce.interpolate(e,n,r)),"string"!==t||f(i)?i:i.join("")},Oe.prototype._appendItemToChain=function(e,t,n){var r=!1;return T(e,t)||(r=!0,t&&(r="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),n&&n[t]&&(r=n[t]))),r},Oe.prototype._appendLocaleToChain=function(e,t,n){var r,i=t.split("-");do{var o=i.join("-");r=this._appendItemToChain(e,o,n),i.splice(-1,1)}while(i.length&&!0===r);return r},Oe.prototype._appendBlockToChain=function(e,t,n){for(var r=!0,i=0;i<t.length&&d(r);i++){var o=t[i];f(o)&&(r=this._appendLocaleToChain(e,o,n))}return r},Oe.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[e];if(!n){t||(t=this.fallbackLocale),n=[];var r,i=[e];while(h(i))i=this._appendBlockToChain(n,i,t);r=h(t)?t:p(t)?t["default"]?t["default"]:null:t,i=f(r)?[r]:r,i&&this._appendBlockToChain(n,i,null),this._localeChainCache[e]=n}return n},Oe.prototype._translate=function(e,t,n,r,i,o,s){for(var a,l=this._getLocaleChain(t,n),c=0;c<l.length;c++){var u=l[c];if(a=this._interpolate(u,e[u],r,i,o,s,[r]),!v(a))return a}return null},Oe.prototype._t=function(e,t,n,r){var i,o=[],s=arguments.length-4;while(s-- >0)o[s]=arguments[s+4];if(!e)return"";var a=w.apply(void 0,o);this._escapeParameterHtml&&(a.params=O(a.params));var l=a.locale||t,c=this._translate(n,l,this.fallbackLocale,e,r,"string",a.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(i=this._root).$t.apply(i,[e].concat(o))}return c=this._warnDefault(l,e,c,r,o,"string"),this._postTranslation&&null!==c&&void 0!==c&&(c=this._postTranslation(c,e)),c},Oe.prototype.t=function(e){var t,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(n))},Oe.prototype._i=function(e,t,n,r,i){var o=this._translate(n,t,this.fallbackLocale,e,r,"raw",i);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,i)}return this._warnDefault(t,e,o,r,[i],"raw")},Oe.prototype.i=function(e,t,n){return e?(f(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,n)):""},Oe.prototype._tc=function(e,t,n,r,i){var o,s=[],a=arguments.length-5;while(a-- >0)s[a]=arguments[a+5];if(!e)return"";void 0===i&&(i=1);var l={count:i,n:i},c=w.apply(void 0,s);return c.params=Object.assign(l,c.params),s=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((o=this)._t.apply(o,[e,t,n,r].concat(s)),i)},Oe.prototype.fetchChoice=function(e,t){if(!e||!f(e))return null;var n=e.split("|");return t=this.getChoiceIndex(t,n.length),n[t]?n[t].trim():e},Oe.prototype.tc=function(e,t){var n,r=[],i=arguments.length-2;while(i-- >0)r[i]=arguments[i+2];return(n=this)._tc.apply(n,[e,this.locale,this._getMessages(),null,t].concat(r))},Oe.prototype._te=function(e,t,n){var r=[],i=arguments.length-3;while(i-- >0)r[i]=arguments[i+3];var o=w.apply(void 0,r).locale||t;return this._exist(n[o],e)},Oe.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},Oe.prototype.getLocaleMessage=function(e){return _(this._vm.messages[e]||{})},Oe.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},Oe.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,A("undefined"!==typeof this._vm.messages[e]&&Object.keys(this._vm.messages[e]).length?Object.assign({},this._vm.messages[e]):{},t))},Oe.prototype.getDateTimeFormat=function(e){return _(this._vm.dateTimeFormats[e]||{})},Oe.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},Oe.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,A(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},Oe.prototype._clearDateTimeFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},Oe.prototype._localizeDateTime=function(e,t,n,r,i){for(var o=t,s=r[o],a=this._getLocaleChain(t,n),l=0;l<a.length;l++){var c=a[l];if(s=r[c],o=c,!v(s)&&!v(s[i]))break}if(v(s)||v(s[i]))return null;var u=s[i],h=o+"__"+i,p=this._dateTimeFormatters[h];return p||(p=this._dateTimeFormatters[h]=new Intl.DateTimeFormat(o,u)),p.format(e)},Oe.prototype._d=function(e,t,n){if(!n)return new Intl.DateTimeFormat(t).format(e);var r=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,n,t)}return r||""},Oe.prototype.d=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];var r=this.locale,i=null;return 1===t.length?f(t[0])?i=t[0]:p(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(i=t[0].key)):2===t.length&&(f(t[0])&&(i=t[0]),f(t[1])&&(r=t[1])),this._d(e,r,i)},Oe.prototype.getNumberFormat=function(e){return _(this._vm.numberFormats[e]||{})},Oe.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},Oe.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,A(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},Oe.prototype._clearNumberFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},Oe.prototype._getNumberFormatter=function(e,t,n,r,i,o){for(var s=t,a=r[s],l=this._getLocaleChain(t,n),c=0;c<l.length;c++){var u=l[c];if(a=r[u],s=u,!v(a)&&!v(a[i]))break}if(v(a)||v(a[i]))return null;var h,p=a[i];if(o)h=new Intl.NumberFormat(s,Object.assign({},p,o));else{var d=s+"__"+i;h=this._numberFormatters[d],h||(h=this._numberFormatters[d]=new Intl.NumberFormat(s,p))}return h},Oe.prototype._n=function(e,t,n,r){if(!Oe.availabilities.numberFormat)return"";if(!n){var i=r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t);return i.format(e)}var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),s=o&&o.format(e);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:n,locale:t},r))}return s||""},Oe.prototype.n=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];var r=this.locale,i=null,o=null;return 1===t.length?f(t[0])?i=t[0]:p(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(i=t[0].key),o=Object.keys(t[0]).reduce((function(e,n){var r;return T(l,n)?Object.assign({},e,(r={},r[n]=t[0][n],r)):e}),null)):2===t.length&&(f(t[0])&&(i=t[0]),f(t[1])&&(r=t[1])),this._n(e,r,i,o)},Oe.prototype._ntp=function(e,t,n,r){if(!Oe.availabilities.numberFormat)return[];if(!n){var i=r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t);return i.formatToParts(e)}var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),s=o&&o.formatToParts(e);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,n,r)}return s||[]},Object.defineProperties(Oe.prototype,ke),Object.defineProperty(Oe,"availabilities",{get:function(){if(!Se){var e="undefined"!==typeof Intl;Se={dateTimeFormat:e&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:e&&"undefined"!==typeof Intl.NumberFormat}}return Se}}),Oe.install=X,Oe.version="8.27.2";var Re=Oe;a.a.use(Re);var Le=n("3d6d"),Ne=document.documentElement.getAttribute("lang");function Pe(e){return e.reduce((function(e,t){return e.en[t.key]=t.enValue,e.fr[t.key]=t.frValue,e}),{en:{},fr:{}})}var De=new Re({locale:Ne||void 0,fallbackLocale:"en",messages:Pe(Le)}),Fe=n("fa95"),je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"py-24 mx-auto text-center max-w-9xl",attrs:{id:"intro"}},[e.config.logo&&e.config.logo.src?n("img",{staticClass:"inline-block",attrs:{src:e.config.logo.src,alt:e.config.logo.altText}}):e._e(),n("h1",{staticClass:"m-10 text-5xl font-bold text-gray-800"},[e._v(" "+e._s(e.config.title)+" ")]),n("p",{staticClass:"w-1/2 m-auto text-2xl font-semibold text-gray-500"},[e._v(" "+e._s(e.config.subtitle)+" ")]),e.configFileStructure||e.plugin?n("button",{staticClass:"inline-block mt-10 scroll-arrow",on:{click:e.scrollToStory}},[n("svg",{staticClass:"w-auto h-24 m-auto",attrs:{width:"90",height:"104.84",viewBox:"0 0 90 104.83",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m89.51 77.659-44.51 25.698-44.51-25.698 3.86e-4 -51.395 44.51-25.698 44.51 25.698z",fill:"#fff",stroke:"#00d2d3","stroke-dasharray":"4.8960465, 4.8960465","stroke-dashoffset":"2.7","stroke-width":".5"}}),n("path",{attrs:{d:"m45 104.27-44.51-25.697v-10.646l44.51 25.697 44.51-25.697v10.646z",fill:"#00d2d3",stroke:"#00d2d3","stroke-width":".97921"}})])]):n("router-link",{staticClass:"inline-block mt-10 scroll-arrow",attrs:{to:{hash:"#story"},title:"scroll to story",target:""}},[n("svg",{staticClass:"w-auto h-24 m-auto",attrs:{width:"90",height:"104.84",viewBox:"0 0 90 104.83",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m89.51 77.659-44.51 25.698-44.51-25.698 3.86e-4 -51.395 44.51-25.698 44.51 25.698z",fill:"#fff",stroke:"#00d2d3","stroke-dasharray":"4.8960465, 4.8960465","stroke-dashoffset":"2.7","stroke-width":".5"}}),n("path",{attrs:{d:"m45 104.27-44.51-25.697v-10.646l44.51 25.697 44.51-25.697v10.646z",fill:"#00d2d3",stroke:"#00d2d3","stroke-width":".97921"}})])])],1)},Ue=[],ze=n("d4ec"),Ge=n("bee2"),Ve=n("262e"),Be=n("2caf"),$e=(n("e260"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9ab4")),He=n("1b40"),We=function(e){Object(Ve["a"])(n,e);var t=Object(Be["a"])(n);function n(){return Object(ze["a"])(this,n),t.apply(this,arguments)}return Object(Ge["a"])(n,[{key:"mounted",value:function(){var e=this;if(this.configFileStructure){var t,n=null===(t=this.config.logo)||void 0===t?void 0:t.src;if(n){var r="".concat(n.substring(n.indexOf("/")+1)),i=this.configFileStructure.zip.file(r);i&&i.async("blob").then((function(t){e.config.logo.src=URL.createObjectURL(t),e.$forceUpdate()}))}}}},{key:"scrollToStory",value:function(){var e=document.getElementById("story");e&&e.scrollIntoView({behavior:"smooth"})}}]),n}(He["c"]);Object($e["a"])([Object(He["b"])()],We.prototype,"config",void 0),Object($e["a"])([Object(He["b"])()],We.prototype,"configFileStructure",void 0),Object($e["a"])([Object(He["b"])()],We.prototype,"plugin",void 0),We=Object($e["a"])([Object(He["a"])({})],We);var qe=We,Ze=qe,Ye=n("2877"),Xe=Object(Ye["a"])(Ze,je,Ue,!1,null,null,null),Je=Xe.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sticky w-12 duration-500 ease-in-out transition-width"},[n("div",{staticClass:"flex px-3 py-2"},[n("button",{attrs:{"aria-label":e.$t("chapters.menu")},on:{click:function(t){e.isMenuOpen=!e.isMenuOpen}}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"#707070"}},[n("path",{staticClass:"transition-all duration-500 ease-in-out",attrs:{d:"m3.5 7h"+(e.isMenuOpen?"17":"8.5")}}),n("path",{staticClass:"transition-all duration-500 ease-in-out",attrs:{d:"m3.5 12h"+(e.isMenuOpen?"17":"8.5")}}),n("path",{attrs:{d:"m3.5 17h17"}})])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMenuOpen,expression:"isMenuOpen"}],staticClass:"flex items-center mt-3 py-4 w-72 bg-white"},[n("span",{staticClass:"flex-2 pl-2 ml-4 leading-normal"},[e._v(e._s(e.$t("chapters.title")))]),n("button",{attrs:{"aria-label":e.$t("chapters.menu")},on:{click:function(t){e.isMenuOpen=!e.isMenuOpen}}},[n("svg",{staticClass:"flex-shrink-0 mr-4",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#c0c0c0",stroke:"#c0c0c0"}},[n("path",{attrs:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}})])])]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.isMenuOpen,expression:"isMenuOpen"}],staticClass:"dropdown-nav-content bg-white pb-10 w-72 z-10 border-r border-gray-200"},[e.introExists?n("li",[e.plugin?n("button",{staticClass:"flex py-1 px-3",on:{click:function(t){return e.scrollToChapter("intro")}}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[n("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),n("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[e._v(e._s(e.$t("chapters.return")))])]):n("router-link",{staticClass:"flex py-1 px-3",attrs:{to:{hash:"#intro"},target:""}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[n("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),n("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[e._v(e._s(e.$t("chapters.return")))])])],1):e._e(),e._l(e.slides,(function(t,r){return n("li",{key:r,class:{"is-active":e.activeChapterIndex===r}},[e.plugin?n("button",{staticClass:"flex py-1 px-3",on:{click:function(n){e.scrollToChapter(r+"-"+t.title.toLowerCase().replaceAll(" ","-"))}}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[n("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),n("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[e._v(e._s(t.title))])]):n("router-link",{staticClass:"flex py-1 px-3",attrs:{to:{hash:"#"+r+"-"+t.title.toLowerCase().replaceAll(" ","-")},target:""}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[n("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),n("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[e._v(e._s(t.title))])])],1)}))],2)])},Qe=[],et=function(e){Object(Ve["a"])(n,e);var t=Object(Be["a"])(n);function n(){var e;return Object(ze["a"])(this,n),e=t.apply(this,arguments),e.isMenuOpen=!1,e.introExists=!0,e}return Object(Ge["a"])(n,[{key:"mounted",value:function(){var e=document.getElementById("intro");this.introExists=!!e}},{key:"scrollToChapter",value:function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}}]),n}(He["c"]);Object($e["a"])([Object(He["b"])()],et.prototype,"slides",void 0),Object($e["a"])([Object(He["b"])()],et.prototype,"activeChapterIndex",void 0),Object($e["a"])([Object(He["b"])()],et.prototype,"lang",void 0),Object($e["a"])([Object(He["b"])()],et.prototype,"plugin",void 0),et=Object($e["a"])([He["a"]],et);var tt=et,nt=tt,rt=(n("dde1"),Object(Ye["a"])(nt,Ke,Qe,!1,null,"158b48e6",null)),it=rt.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-stretch"},[n("ChapterMenuV",{staticClass:"side-menu",attrs:{"active-chapter-index":e.activeChapterIndex,slides:e.config.slides,plugin:!!e.configFileStructure||!!e.plugin,lang:e.lang}}),n("Scrollama",{staticClass:"relative story-scrollama w-full",on:{"step-enter":e.stepEnter}},e._l(e.config.slides,(function(t,r){return n("div",{key:r,staticClass:"flex pt-24",attrs:{"data-chapter-index":r,id:r+"-"+t.title.toLowerCase().replaceAll(" ","-"),name:r+"-"+t.title.toLowerCase().replaceAll(" ","-")}},[n("slide",{attrs:{config:t,configFileStructure:e.configFileStructure,slideIdx:r,lang:e.lang}})],1)})),0)],1)},st=[],at=(n("5abe"),n("a57f")),lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-bar sticky self-start w-12 duration-500 ease-in-out transition-width top-16",class:e.isMenuOpen?"w-72":""},[n("div",{staticClass:"flex items-center mt-4 mb-12"},[e.isMenuOpen?e._e():n("tippy",{attrs:{to:"menu-button-tippy",placement:"right",delay:"200"}},[e._v(e._s(e.$t("chapters.title")))]),n("button",{staticClass:"flex items-center flex-shrink-0 px-2 py-1 mx-1 overflow-hidden",attrs:{name:"menu-button-tippy","aria-label":e.$t("chapters.menu")},on:{click:function(t){e.isMenuOpen=!e.isMenuOpen}}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"#707070"}},[n("path",{staticClass:"transition-all duration-500 ease-in-out",attrs:{d:"m3.5 7h"+(e.isMenuOpen?"17":"8.5")}}),n("path",{staticClass:"transition-all duration-500 ease-in-out",attrs:{d:"m3.5 12h"+(e.isMenuOpen?"17":"8.5")}}),n("path",{attrs:{d:"m3.5 17h17"}})]),n("span",{staticClass:"flex-1 pl-2 ml-2 overflow-hidden leading-normal text-left overflow-ellipsis whitespace-nowrap"},[e._v(e._s(e.$t("chapters.title")))])])],1),n("ul",{staticClass:"nav-content menu"},[e.introExists?n("li",[n("tippy",{attrs:{to:"menu-options-tippy",delay:"200",placement:"right"}},[e._v(e._s(e.$t("chapters.return")))]),e.plugin?n("button",{staticClass:"flex items-center px-2 py-1 mx-1",attrs:{name:"menu-options-tippy"},on:{click:function(t){return e.scrollToChapter("intro")}}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[n("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),n("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[e._v(e._s(e.$t("chapters.return")))])]):n("router-link",{staticClass:"flex items-center px-2 py-1 mx-1",attrs:{name:"menu-options-tippy",to:{hash:"#intro"},target:""}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[n("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),n("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[e._v(e._s(e.$t("chapters.return")))])])],1):e._e(),e._l(e.slides,(function(t,r){return n("li",{key:r,class:{"is-active":e.activeChapterIndex===r}},[n("tippy",{attrs:{to:"menu-options-tippy-"+r,delay:"200",placement:"right"}},[e._v(e._s(t.title))]),e.plugin?n("button",{staticClass:"flex items-center px-2 py-1 mx-1",attrs:{name:"menu-options-tippy-"+r},on:{click:function(n){e.scrollToChapter(r+"-"+t.title.toLowerCase().replaceAll(" ","-"))}}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[n("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),n("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[e._v(e._s(t.title))])]):n("router-link",{staticClass:"flex items-center px-2 py-1 mx-1",attrs:{name:"menu-options-tippy-"+r,to:{hash:"#"+r+"-"+t.title.toLowerCase().replaceAll(" ","-")},target:""}},[n("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[n("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),n("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[e._v(e._s(t.title))])])],1)})),n("div",{staticClass:"h-10 flex-shrink-0"})],2)])},ct=[],ut=function(e){Object(Ve["a"])(n,e);var t=Object(Be["a"])(n);function n(){var e;return Object(ze["a"])(this,n),e=t.apply(this,arguments),e.isMenuOpen=!1,e.introExists=!0,e}return Object(Ge["a"])(n,[{key:"mounted",value:function(){var e=document.getElementById("intro");this.introExists=!!e}},{key:"scrollToChapter",value:function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}}]),n}(He["c"]);Object($e["a"])([Object(He["b"])()],ut.prototype,"slides",void 0),Object($e["a"])([Object(He["b"])()],ut.prototype,"activeChapterIndex",void 0),Object($e["a"])([Object(He["b"])()],ut.prototype,"lang",void 0),Object($e["a"])([Object(He["b"])()],ut.prototype,"plugin",void 0),ut=Object($e["a"])([He["a"]],ut);var ht=ut,pt=ht,dt=(n("8307"),Object(Ye["a"])(pt,lt,ct,!1,null,"24350032",null)),ft=dt.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"story-slide h-full flex sm:flex-row flex-col",attrs:{id:e.$vnode.key}},e._l(e.config.panel,(function(t,r){return n("panel",{key:r,attrs:{config:t,configFileStructure:e.configFileStructure,index:r,ratio:e.defaultRatio,slideIdx:e.slideIdx,lang:e.lang}})})),1)},yt=[],gt=n("3101"),vt=n("5d6a"),bt=function(e){Object(Ve["a"])(n,e);var t=Object(Be["a"])(n);function n(){var e;return Object(ze["a"])(this,n),e=t.apply(this,arguments),e.defaultRatio=!1,e}return Object(Ge["a"])(n,[{key:"mounted",value:function(){var e,t,n=this.config.panel;if(2==n.length&&(null===(e=n[0])||void 0===e||!e.width)&&(null===(t=n[1])||void 0===t||!t.width)){var r,i,o=(null===(r=n[0])||void 0===r?void 0:r.type)===gt["a"].Text,s=(null===(i=n[1])||void 0===i?void 0:i.type)===gt["a"].Text;(o&&!s||!o&&s)&&(this.defaultRatio=!0)}}}]),n}(He["c"]);Object($e["a"])([Object(He["b"])()],bt.prototype,"config",void 0),Object($e["a"])([Object(He["b"])()],bt.prototype,"configFileStructure",void 0),Object($e["a"])([Object(He["b"])()],bt.prototype,"slideIdx",void 0),Object($e["a"])([Object(He["b"])()],bt.prototype,"lang",void 0),bt=Object($e["a"])([Object(He["a"])({components:{panel:vt["default"]}})],bt);var wt=bt,_t=wt,xt=Object(Ye["a"])(_t,mt,yt,!1,null,"0fb7c9ec",null),St=xt.exports,Tt=function(e){Object(Ve["a"])(n,e);var t=Object(Be["a"])(n);function n(){var e;return Object(ze["a"])(this,n),e=t.apply(this,arguments),e.activeChapterIndex=-1,e}return Object(Ge["a"])(n,[{key:"mounted",value:function(){var e=this.$route.hash.substring(1);if(e){var t=decodeURIComponent(e),n=document.getElementById(t);null===n||void 0===n||n.scrollIntoView({behavior:"smooth"})}}},{key:"stepEnter",value:function(e){var t=e.element;this.activeChapterIndex=parseInt(t.dataset.chapterIndex||"-1"),this.$emit("step",this.activeChapterIndex)}}]),n}(He["c"]);Object($e["a"])([Object(He["b"])()],Tt.prototype,"config",void 0),Object($e["a"])([Object(He["b"])()],Tt.prototype,"configFileStructure",void 0),Object($e["a"])([Object(He["b"])()],Tt.prototype,"lang",void 0),Object($e["a"])([Object(He["b"])()],Tt.prototype,"plugin",void 0),Tt=Object($e["a"])([Object(He["a"])({components:{Scrollama:at["a"],ChapterMenuV:ft,slide:St}})],Tt);var Et=Tt,Mt=Et,At=(n("7d4f"),Object(Ye["a"])(Mt,ot,st,!1,null,"bfba5224",null)),It=At.exports,Ct=De,Ot=function(e){e.component("storylines-chart",Fe["a"]),e.component("storylines-intro",Je),e.component("storylines-mobile-toc",it),e.component("storylines-content",It)},kt={install:Ot};t["default"]=kt},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("861d"),o=n("e8b5"),s=n("23cb"),a=n("50c4"),l=n("fc6a"),c=n("8418"),u=n("b622"),h=n("1dde"),p=h("slice"),d=u("species"),f=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,u,h=l(this),p=a(h.length),y=s(e,p),g=s(void 0===t?p:t,p);if(o(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[d],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return f.call(h,y,g);for(r=new(void 0===n?Array:n)(m(g-y,0)),u=0;y<g;y++,u++)y in h&&c(r,u,h[y]);return r.length=u,r}})},fbcd:function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object String]"===i(e)}function s(e){return"[object Object]"===i(e)}function a(e){return"[object RegExp]"===i(e)}function l(e){return"[object Function]"===i(e)}function c(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var u={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function h(e){return Object.keys(e||{}).reduce((function(e,t){return e||u.hasOwnProperty(t)}),!1)}var p={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},d="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",f="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function m(e){e.__index__=-1,e.__text_cache__=""}function y(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function g(){return function(e,t){t.normalize(e)}}function v(e){var t=e.re=n("b117")(e.__opts__),r=e.__tlds__.slice();function i(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(d),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(i(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(i(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(i(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(i(t.tpl_host_fuzzy_test),"i");var u=[];function h(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,s(n))return a(n.validate)?r.validate=y(n.validate):l(n.validate)?r.validate=n.validate:h(t,n),void(l(n.normalize)?r.normalize=n.normalize:n.normalize?h(t,n):r.normalize=g());o(n)?u.push(t):h(t,n)}})),u.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:g()};var p=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(c).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+p+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+p+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),m(e)}function b(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function w(e,t){var n=new b(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function _(e,t){if(!(this instanceof _))return new _(e,t);t||h(e)&&(t=e,e={}),this.__opts__=r({},u,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},p,e),this.__compiled__={},this.__tlds__=f,this.__tlds_replaced__=!1,this.re={},v(this)}_.prototype.add=function(e,t){return this.__schemas__[e]=t,v(this),this},_.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},_.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,o,s,a,l,c;if(this.re.schema_test.test(e)){a=this.re.schema_search,a.lastIndex=0;while(null!==(t=a.exec(e)))if(i=this.testSchemaAt(e,t[2],a.lastIndex),i){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s))),this.__index__>=0},_.prototype.pretest=function(e){return this.re.pretest.test(e)},_.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},_.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(w(this,t)),t=this.__last_index__);var r=t?e.slice(t):e;while(this.test(r))n.push(w(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},_.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),v(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,v(this),this)},_.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},_.prototype.onCompile=function(){},e.exports=_},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fdfe:function(e,t,n){"use strict";var r=n("0068").isSpace;e.exports=function(e,t,n,i){var o,s,a,l,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(o=e.src.charCodeAt(c++),42!==o&&45!==o&&95!==o)return!1;s=1;while(c<u){if(a=e.src.charCodeAt(c++),a!==o&&!r(a))return!1;a===o&&s++}return!(s<3)&&(i||(e.line=t+1,l=e.push("hr","hr",0),l.map=[t,e.line],l.markup=Array(s+1).join(String.fromCharCode(o))),!0)}},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise}})}))},12206:function(e){!function(t,n){e.exports=n()}(0,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";function r(){var e={},t=!1,n=0,i=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);n<i;n++){var o=arguments[n];!function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=r(!0,e[i],n[i]):e[i]=n[i])}(o)}return e}t.a=r},function(e,t){!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==e&&e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)o[n[0][r]]=e[r];return o}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},o={request:function(e,n){return new Promise(function(i,o){var s=function(){this.off("change",s),i()}.bind(this);this.on("change",s),e=e||t.documentElement;var a=e[r.requestFullscreen](n);a instanceof Promise&&a.then(s).catch(o)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this);this.on("change",i);var o=t[r.exitFullscreen]();o instanceof Promise&&o.then(i).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=o:window.screenfull=o):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(e,t,n){"use strict";function r(e,t){e.style.position=t.position,e.style.left=t.left,e.style.top=t.top,e.style.width=t.width,e.style.height=t.height}function i(e){var t=e.element;t&&(t.classList.remove(e.options.fullscreenClass),(e.options.teleport||e.options.pageOnly)&&(e.options.teleport&&u&&(u.insertBefore(t,c),u.removeChild(c)),t.__styleCache&&r(t,t.__styleCache)))}var o=n(1),s=n.n(o),a=n(0),l={callback:function(){},fullscreenClass:"fullscreen",pageOnly:!1,teleport:!1},c=void 0,u=void 0,h={options:null,element:null,isFullscreen:!1,isEnabled:s.a.isEnabled,toggle:function(e,t,n){return void 0===n?this.isFullscreen?this.exit():this.request(e,t):n?this.request(e,t):this.exit()},request:function(e,t){var o=this;if(this.isFullscreen)return Promise.resolve();if(e||(e=document.body),this.options=n.i(a.a)({},l,t),e===document.body&&(this.options.teleport=!1),s.a.isEnabled||(this.options.pageOnly=!0),e.classList.add(this.options.fullscreenClass),this.options.teleport||this.options.pageOnly){var h=e.style,p=h.position,d=h.left,f=h.top,m=h.width,y=h.height;e.__styleCache={position:p,left:d,top:f,width:m,height:y},r(e,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"})}if(this.options.teleport&&(u=e.parentNode)&&(c=document.createComment("fullscreen-token"),u.insertBefore(c,e),document.body.appendChild(e)),this.options.pageOnly){var g=function e(t){"Escape"===t.key&&(document.removeEventListener("keyup",e),o.exit())};return this.isFullscreen=!0,this.element=e,document.removeEventListener("keyup",g),document.addEventListener("keyup",g),this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()}var v=function t(){s.a.isFullscreen||(s.a.off("change",t),i(o)),o.isFullscreen=s.a.isFullscreen,o.options.teleport?o.element=e||null:o.element=s.a.element,o.options.callback&&o.options.callback(s.a.isFullscreen)};return s.a.on("change",v),s.a.request(this.options.teleport?document.body:e)},exit:function(){return this.isFullscreen?this.options.pageOnly?(i(this),this.isFullscreen=!1,this.element=null,this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()):s.a.exit():Promise.resolve()}};h.support=h.isEnabled,h.getState=function(){return h.isFullscreen},h.enter=h.request,t.a=h},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=n(2),o=n(0),s=function(e,t){var s=function(){var e=void 0,s={teleport:t.modifiers.teleport,pageOnly:t.modifiers.pageOnly};if(t.value)if("string"==typeof t.value)e=t.value;else{var a=t.value,l=a.target,c=r(a,["target"]);e=l,s=n.i(o.a)(s,c)}"string"==typeof e&&(e=document.querySelector(e)),i.a.toggle(e,s)};e._onClickFullScreen&&e.removeEventListener("click",e._onClickFullScreen),e.addEventListener("click",s),e._onClickFullScreen=s};t.a=s},function(e,t,n){var r=n(7)(n(6),n(8),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n.n(r),o=n(2),s=n(3),a=n(1),l=n.n(a),c=n(0);n.d(t,"screenfull",(function(){return l.a})),n.d(t,"api",(function(){return o.a})),n.d(t,"directive",(function(){return s.a})),n.d(t,"component",(function(){return i.a})),t.default={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.name||"fullscreen";e.component(r,n.i(c.a)(i.a,{name:r})),e.prototype["$"+r]=o.a,e.directive(r,s.a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n.n(r);t.default={props:{value:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},exitOnClickWrapper:{type:Boolean,default:!0},fullscreenClass:{type:String,default:"fullscreen"},pageOnly:{type:Boolean,default:!1},teleport:{type:Boolean,default:!1}},data:function(){return{isFullscreen:!1,isEnabled:!1}},computed:{support:function(){return this.isEnabled},isPageOnly:function(){return this.pageOnly||!i.a.isEnabled},wrapperStyle:function(){return(this.isPageOnly||this.teleport)&&this.isFullscreen?{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}:void 0}},methods:{toggle:function(e){void 0===e?this.isFullscreen?this.exit():this.request():e?this.request():this.exit()},request:function(){if(this.isPageOnly?(this.isFullscreen=!0,this.onChangeFullScreen(),document.removeEventListener("keyup",this.keypressCallback),document.addEventListener("keyup",this.keypressCallback)):(i.a.off("change",this.fullScreenCallback),i.a.on("change",this.fullScreenCallback),i.a.request(this.teleport?document.body:this.$el)),this.teleport){if(this.$el.parentNode===document.body)return;this.__parentNode=this.$el.parentNode,this.__token=document.createComment("fullscreen-token"),this.__parentNode.insertBefore(this.__token,this.$el),document.body.appendChild(this.$el)}},exit:function(){this.isFullscreen&&(this.isPageOnly?(this.isFullscreen=!1,this.onChangeFullScreen(),document.removeEventListener("keyup",this.keypressCallback)):i.a.exit())},shadeClick:function(e){e.target===this.$el&&this.exitOnClickWrapper&&this.exit()},fullScreenCallback:function(){i.a.isFullscreen||i.a.off("change",this.fullScreenCallback),this.isFullscreen=i.a.isFullscreen,this.onChangeFullScreen()},keypressCallback:function(e){"Escape"===e.key&&this.exit()},onChangeFullScreen:function(){this.isFullscreen||this.teleport&&this.__parentNode&&(this.__parentNode.insertBefore(this.$el,this.__token),this.__parentNode.removeChild(this.__token)),this.$emit("change",this.isFullscreen),this.$emit("update:fullscreen",this.isFullscreen),this.$emit("input",this.isFullscreen)},enter:function(){this.request()},getState:function(){return this.isFullscreen}},watch:{value:function(e){e!==this.isFullscreen&&(e?this.request():this.exit())},fullscreen:function(e){e!==this.isFullscreen&&(e?this.request():this.exit())}},created:function(){this.isEnabled=i.a.isEnabled}}},function(e,t){e.exports=function(e,t,n,r){var i,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,o=e.default);var a="function"==typeof o?o.options:o;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),r){var l=Object.create(a.computed||null);Object.keys(r).forEach((function(e){var t=r[e];l[e]=function(){return t}})),a.computed=l}return{esModule:i,exports:o,options:a}}},function(e,t){e.exports={render:function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("div",t._b({ref:"wrapper",class:(e={},e[t.fullscreenClass]=t.isFullscreen,e),style:t.wrapperStyle,on:{click:function(e){return t.shadeClick(e)}}},"div",t.$attrs,!1),[t._t("default")],2)},staticRenderFns:[]}}])}))},64765:function(e,t){"use strict";
/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */var n=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],r=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function i(e,t){"undefined"!==typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}function o(e,t){"undefined"!==typeof console&&(console.error("[vue-i18n] "+e),t&&console.error(t.stack))}var s=Array.isArray;function a(e){return null!==e&&"object"===typeof e}function l(e){return"boolean"===typeof e}function c(e){return"string"===typeof e}var u=Object.prototype.toString,h="[object Object]";function p(e){return u.call(e)===h}function d(e){return null===e||void 0===e}function f(e){return"function"===typeof e}function m(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];var n=null,r=null;return 1===e.length?a(e[0])||s(e[0])?r=e[0]:"string"===typeof e[0]&&(n=e[0]):2===e.length&&("string"===typeof e[0]&&(n=e[0]),(a(e[1])||s(e[1]))&&(r=e[1])),{locale:n,params:r}}function y(e){return JSON.parse(JSON.stringify(e))}function g(e,t){if(e.delete(t))return e}function v(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}function b(e,t){return!!~e.indexOf(t)}var w=Object.prototype.hasOwnProperty;function _(e,t){return w.call(e,t)}function x(e){for(var t=arguments,n=Object(e),r=1;r<arguments.length;r++){var i=t[r];if(void 0!==i&&null!==i){var o=void 0;for(o in i)_(i,o)&&(a(i[o])?n[o]=x(n[o],i[o]):n[o]=i[o])}}return n}function S(e,t){if(e===t)return!0;var n=a(e),r=a(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=s(e),o=s(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return S(e,t[n])}));if(i||o)return!1;var l=Object.keys(e),c=Object.keys(t);return l.length===c.length&&l.every((function(n){return S(e[n],t[n])}))}catch(u){return!1}}function T(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function E(e){return null!=e&&Object.keys(e).forEach((function(t){"string"==typeof e[t]&&(e[t]=T(e[t]))})),e}function M(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[e,r.locale,r._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){var n=[],r=arguments.length-2;while(r-- >0)n[r]=arguments[r+2];var i=this.$i18n;return i._tc.apply(i,[e,i.locale,i._getMessages(),this,t].concat(n))},e.prototype.$te=function(e,t){var n=this.$i18n;return n._te(e,n.locale,n._getMessages(),t)},e.prototype.$d=function(e){var t,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(t=this.$i18n).d.apply(t,[e].concat(n))},e.prototype.$n=function(e){var t,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(t=this.$i18n).n.apply(t,[e].concat(n))}}function A(e){function t(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===e&&(e=!1),e?{mounted:t}:{beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n)if(e.i18n instanceof Ee){if(e.__i18nBridge||e.__i18n)try{var t=e.i18n&&e.i18n.messages?e.i18n.messages:{},n=e.__i18nBridge||e.__i18n;n.forEach((function(e){t=x(t,JSON.parse(e))})),Object.keys(t).forEach((function(n){e.i18n.mergeLocaleMessage(n,t[n])}))}catch(l){0}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(p(e.i18n)){var r=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Ee?this.$root.$i18n:null;if(r&&(e.i18n.root=this.$root,e.i18n.formatter=r.formatter,e.i18n.fallbackLocale=r.fallbackLocale,e.i18n.formatFallbackMessages=r.formatFallbackMessages,e.i18n.silentTranslationWarn=r.silentTranslationWarn,e.i18n.silentFallbackWarn=r.silentFallbackWarn,e.i18n.pluralizationRules=r.pluralizationRules,e.i18n.preserveDirectiveContent=r.preserveDirectiveContent),e.__i18nBridge||e.__i18n)try{var i=e.i18n&&e.i18n.messages?e.i18n.messages:{},o=e.__i18nBridge||e.__i18n;o.forEach((function(e){i=x(i,JSON.parse(e))})),e.i18n.messages=i}catch(l){0}var s=e.i18n,a=s.sharedMessages;a&&p(a)&&(e.i18n.messages=x(e.i18n.messages,a)),this._i18n=new Ee(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),r&&r.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Ee?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Ee&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18nBridge||e.__i18n?{}:null),e.i18n?(e.i18n instanceof Ee||p(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Ee||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof Ee)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:t,beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}}}var I={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var n=t.data,r=t.parent,i=t.props,o=t.slots,s=r.$i18n;if(s){var a=i.path,l=i.locale,c=i.places,u=o(),h=s.i(a,l,C(u)||c?O(u.default,c):u),p=i.tag&&!0!==i.tag||!1===i.tag?i.tag:"span";return p?e(p,n,h):h}}};function C(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}function O(e,t){var n=t?k(t):{};if(!e)return n;e=e.filter((function(e){return e.tag||""!==e.text.trim()}));var r=e.every(N);return e.reduce(r?R:L,n)}function k(e){return Array.isArray(e)?e.reduce(L,{}):Object.assign({},e)}function R(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function L(e,t,n){return e[n]=t,e}function N(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var P,D={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var r=t.props,i=t.parent,o=t.data,s=i.$i18n;if(!s)return null;var l=null,u=null;c(r.format)?l=r.format:a(r.format)&&(r.format.key&&(l=r.format.key),u=Object.keys(r.format).reduce((function(e,t){var i;return b(n,t)?Object.assign({},e,(i={},i[t]=r.format[t],i)):e}),null));var h=r.locale||s.locale,p=s._ntp(r.value,h,l,u),d=p.map((function(e,t){var n,r=o.scopedSlots&&o.scopedSlots[e.type];return r?r((n={},n[e.type]=e.value,n.index=t,n.parts=p,n)):e.value})),f=r.tag&&!0!==r.tag||!1===r.tag?r.tag:"span";return f?e(f,{attrs:o.attrs,class:o["class"],staticClass:o.staticClass},d):d}};function F(e,t,n){z(e,n)&&V(e,t,n)}function j(e,t,n,r){if(z(e,n)){var i=n.context.$i18n;G(e,n)&&S(t.value,t.oldValue)&&S(e._localeMessage,i.getLocaleMessage(i.locale))||V(e,t,n)}}function U(e,t,n,r){var o=n.context;if(o){var s=n.context.$i18n||{};t.modifiers.preserve||s.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e["_vt"],e._locale=void 0,delete e["_locale"],e._localeMessage=void 0,delete e["_localeMessage"]}else i("Vue instance does not exists in VNode context")}function z(e,t){var n=t.context;return n?!!n.$i18n||(i("VueI18n instance does not exists in Vue instance"),!1):(i("Vue instance does not exists in VNode context"),!1)}function G(e,t){var n=t.context;return e._locale===n.$i18n.locale}function V(e,t,n){var r,o,s=t.value,a=B(s),l=a.path,c=a.locale,u=a.args,h=a.choice;if(l||c||u)if(l){var p=n.context;e._vt=e.textContent=null!=h?(r=p.$i18n).tc.apply(r,[l,h].concat($(c,u))):(o=p.$i18n).t.apply(o,[l].concat($(c,u))),e._locale=p.$i18n.locale,e._localeMessage=p.$i18n.getLocaleMessage(p.$i18n.locale)}else i("`path` is required in v-t directive");else i("value type not supported")}function B(e){var t,n,r,i;return c(e)?t=e:p(e)&&(t=e.path,n=e.locale,r=e.args,i=e.choice),{path:t,locale:n,args:r,choice:i}}function $(e,t){var n=[];return e&&n.push(e),t&&(Array.isArray(t)||p(t))&&n.push(t),n}function H(e,t){void 0===t&&(t={bridge:!1}),H.installed=!0,P=e;P.version&&Number(P.version.split(".")[0]);M(P),P.mixin(A(t.bridge)),P.directive("t",{bind:F,update:j,unbind:U}),P.component(I.name,I),P.component(D.name,D);var n=P.config.optionMergeStrategies;n.i18n=function(e,t){return void 0===t?e:t}}var W=function(){this._caches=Object.create(null)};W.prototype.interpolate=function(e,t){if(!t)return[e];var n=this._caches[e];return n||(n=Y(e),this._caches[e]=n),X(n,t)};var q=/^(?:\d)+/,Z=/^(?:\w)+/;function Y(e){var t=[],n=0,r="";while(n<e.length){var i=e[n++];if("{"===i){r&&t.push({type:"text",value:r}),r="";var o="";i=e[n++];while(void 0!==i&&"}"!==i)o+=i,i=e[n++];var s="}"===i,a=q.test(o)?"list":s&&Z.test(o)?"named":"unknown";t.push({value:o,type:a})}else"%"===i?"{"!==e[n]&&(r+=i):r+=i}return r&&t.push({type:"text",value:r}),t}function X(e,t){var n=[],r=0,i=Array.isArray(t)?"list":a(t)?"named":"unknown";if("unknown"===i)return n;while(r<e.length){var o=e[r];switch(o.type){case"text":n.push(o.value);break;case"list":n.push(t[parseInt(o.value,10)]);break;case"named":"named"===i&&n.push(t[o.value]);break;case"unknown":0;break}r++}return n}var J=0,K=1,Q=2,ee=3,te=0,ne=1,re=2,ie=3,oe=4,se=5,ae=6,le=7,ce=8,ue=[];ue[te]={ws:[te],ident:[ie,J],"[":[oe],eof:[le]},ue[ne]={ws:[ne],".":[re],"[":[oe],eof:[le]},ue[re]={ws:[re],ident:[ie,J],0:[ie,J],number:[ie,J]},ue[ie]={ident:[ie,J],0:[ie,J],number:[ie,J],ws:[ne,K],".":[re,K],"[":[oe,K],eof:[le,K]},ue[oe]={"'":[se,J],'"':[ae,J],"[":[oe,Q],"]":[ne,ee],eof:ce,else:[oe,J]},ue[se]={"'":[oe,J],eof:ce,else:[se,J]},ue[ae]={'"':[oe,J],eof:ce,else:[ae,J]};var he=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function pe(e){return he.test(e)}function de(e){var t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function fe(e){if(void 0===e||null===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function me(e){var t=e.trim();return("0"!==e.charAt(0)||!isNaN(e))&&(pe(t)?de(t):"*"+t)}function ye(e){var t,n,r,i,o,s,a,l=[],c=-1,u=te,h=0,p=[];function d(){var t=e[c+1];if(u===se&&"'"===t||u===ae&&'"'===t)return c++,r="\\"+t,p[J](),!0}p[K]=function(){void 0!==n&&(l.push(n),n=void 0)},p[J]=function(){void 0===n?n=r:n+=r},p[Q]=function(){p[J](),h++},p[ee]=function(){if(h>0)h--,u=oe,p[J]();else{if(h=0,void 0===n)return!1;if(n=me(n),!1===n)return!1;p[K]()}};while(null!==u)if(c++,t=e[c],"\\"!==t||!d()){if(i=fe(t),a=ue[u],o=a[i]||a["else"]||ce,o===ce)return;if(u=o[0],s=p[o[1]],s&&(r=o[2],r=void 0===r?t:r,!1===s()))return;if(u===le)return l}}var ge=function(){this._cache=Object.create(null)};ge.prototype.parsePath=function(e){var t=this._cache[e];return t||(t=ye(e),t&&(this._cache[e]=t)),t||[]},ge.prototype.getPathValue=function(e,t){if(!a(e))return null;var n=this.parsePath(t);if(0===n.length)return null;var r=n.length,i=e,o=0;while(o<r){var s=i[n[o]];if(void 0===s||null===s)return null;i=s,o++}return i};var ve,be=/<\/?[\w\s="/.':;#-\/]+>/,we=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,_e=/^@(?:\.([a-zA-Z]+))?:/,xe=/[()]/g,Se={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},Te=new W,Ee=function(e){var t=this;void 0===e&&(e={}),!P&&"undefined"!==typeof window&&window.Vue&&H(window.Vue);var n=e.locale||"en-US",r=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),i=e.messages||{},o=e.dateTimeFormats||e.datetimeFormats||{},s=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||Te,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._fallbackRootWithEmptyString=void 0===e.fallbackRootWithEmptyString||!!e.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new ge,this._dataListeners=new Set,this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in e&&(this.__VUE_I18N_BRIDGE__=e.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(e,n){var r=Object.getPrototypeOf(t);if(r&&r.getChoiceIndex){var i=r.getChoiceIndex;return i.call(t,e,n)}var o=function(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0};return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,n]):o(e,n)},this._exist=function(e,n){return!(!e||!n)&&(!d(t._path.getPathValue(e,n))||!!e[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(i).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,i[e])})),this._initVM({locale:n,fallbackLocale:r,messages:i,dateTimeFormats:o,numberFormats:s})},Me={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};Ee.prototype._checkLocaleMessage=function(e,t,n){var r=[],a=function(e,t,n,r){if(p(n))Object.keys(n).forEach((function(i){var o=n[i];p(o)?(r.push(i),r.push("."),a(e,t,o,r),r.pop(),r.pop()):(r.push(i),a(e,t,o,r),r.pop())}));else if(s(n))n.forEach((function(n,i){p(n)?(r.push("["+i+"]"),r.push("."),a(e,t,n,r),r.pop(),r.pop()):(r.push("["+i+"]"),a(e,t,n,r),r.pop())}));else if(c(n)){var l=be.test(n);if(l){var u="Detected HTML in message '"+n+"' of keypath '"+r.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?i(u):"error"===e&&o(u)}}};a(t,e,n,r)},Ee.prototype._initVM=function(e){var t=P.config.silent;P.config.silent=!0,this._vm=new P({data:e,__VUE18N__INSTANCE__:!0}),P.config.silent=t},Ee.prototype.destroyVM=function(){this._vm.$destroy()},Ee.prototype.subscribeDataChanging=function(e){this._dataListeners.add(e)},Ee.prototype.unsubscribeDataChanging=function(e){g(this._dataListeners,e)},Ee.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){var t=v(e._dataListeners),n=t.length;while(n--)P.nextTick((function(){t[n]&&t[n].$forceUpdate()}))}),{deep:!0})},Ee.prototype.watchLocale=function(e){if(e){if(!this.__VUE_I18N_BRIDGE__)return null;var t=this,n=this._vm;return this.vm.$watch("locale",(function(r){n.$set(n,"locale",r),t.__VUE_I18N_BRIDGE__&&e&&(e.locale.value=r),n.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var r=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){r.$set(r,"locale",e),r.$forceUpdate()}),{immediate:!0})},Ee.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},Me.vm.get=function(){return this._vm},Me.messages.get=function(){return y(this._getMessages())},Me.dateTimeFormats.get=function(){return y(this._getDateTimeFormats())},Me.numberFormats.get=function(){return y(this._getNumberFormats())},Me.availableLocales.get=function(){return Object.keys(this.messages).sort()},Me.locale.get=function(){return this._vm.locale},Me.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},Me.fallbackLocale.get=function(){return this._vm.fallbackLocale},Me.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},Me.formatFallbackMessages.get=function(){return this._formatFallbackMessages},Me.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},Me.missing.get=function(){return this._missing},Me.missing.set=function(e){this._missing=e},Me.formatter.get=function(){return this._formatter},Me.formatter.set=function(e){this._formatter=e},Me.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Me.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},Me.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Me.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},Me.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Me.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},Me.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Me.warnHtmlInMessage.set=function(e){var t=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,n!==e&&("warn"===e||"error"===e)){var r=this._getMessages();Object.keys(r).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,r[e])}))}},Me.postTranslation.get=function(){return this._postTranslation},Me.postTranslation.set=function(e){this._postTranslation=e},Me.sync.get=function(){return this._sync},Me.sync.set=function(e){this._sync=e},Ee.prototype._getMessages=function(){return this._vm.messages},Ee.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},Ee.prototype._getNumberFormats=function(){return this._vm.numberFormats},Ee.prototype._warnDefault=function(e,t,n,r,i,o){if(!d(n))return n;if(this._missing){var s=this._missing.apply(null,[e,t,r,i]);if(c(s))return s}else 0;if(this._formatFallbackMessages){var a=m.apply(void 0,i);return this._render(t,o,a.params,t)}return t},Ee.prototype._isFallbackRoot=function(e){return(this._fallbackRootWithEmptyString?!e:d(e))&&!d(this._root)&&this._fallbackRoot},Ee.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},Ee.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},Ee.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},Ee.prototype._interpolate=function(e,t,n,r,i,o,a){if(!t)return null;var l,u=this._path.getPathValue(t,n);if(s(u)||p(u))return u;if(d(u)){if(!p(t))return null;if(l=t[n],!c(l)&&!f(l))return null}else{if(!c(u)&&!f(u))return null;l=u}return c(l)&&(l.indexOf("@:")>=0||l.indexOf("@.")>=0)&&(l=this._link(e,t,l,r,"raw",o,a)),this._render(l,i,o,n)},Ee.prototype._link=function(e,t,n,r,i,o,a){var l=n,c=l.match(we);for(var u in c)if(c.hasOwnProperty(u)){var h=c[u],p=h.match(_e),d=p[0],f=p[1],m=h.replace(d,"").replace(xe,"");if(b(a,m))return l;a.push(m);var y=this._interpolate(e,t,m,r,"raw"===i?"string":i,"raw"===i?void 0:o,a);if(this._isFallbackRoot(y)){if(!this._root)throw Error("unexpected error");var g=this._root.$i18n;y=g._translate(g._getMessages(),g.locale,g.fallbackLocale,m,r,i,o)}y=this._warnDefault(e,m,y,r,s(o)?o:[o],i),this._modifiers.hasOwnProperty(f)?y=this._modifiers[f](y):Se.hasOwnProperty(f)&&(y=Se[f](y)),a.pop(),l=y?l.replace(h,y):l}return l},Ee.prototype._createMessageContext=function(e,t,n,r){var i=this,o=s(e)?e:[],l=a(e)?e:{},c=function(e){return o[e]},u=function(e){return l[e]},h=this._getMessages(),p=this.locale;return{list:c,named:u,values:e,formatter:t,path:n,messages:h,locale:p,linked:function(e){return i._interpolate(p,h[p]||{},e,null,r,void 0,[e])}}},Ee.prototype._render=function(e,t,n,r){if(f(e))return e(this._createMessageContext(n,this._formatter||Te,r,t));var i=this._formatter.interpolate(e,n,r);return i||(i=Te.interpolate(e,n,r)),"string"!==t||c(i)?i:i.join("")},Ee.prototype._appendItemToChain=function(e,t,n){var r=!1;return b(e,t)||(r=!0,t&&(r="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),n&&n[t]&&(r=n[t]))),r},Ee.prototype._appendLocaleToChain=function(e,t,n){var r,i=t.split("-");do{var o=i.join("-");r=this._appendItemToChain(e,o,n),i.splice(-1,1)}while(i.length&&!0===r);return r},Ee.prototype._appendBlockToChain=function(e,t,n){for(var r=!0,i=0;i<t.length&&l(r);i++){var o=t[i];c(o)&&(r=this._appendLocaleToChain(e,o,n))}return r},Ee.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[e];if(!n){t||(t=this.fallbackLocale),n=[];var r,i=[e];while(s(i))i=this._appendBlockToChain(n,i,t);r=s(t)?t:a(t)?t["default"]?t["default"]:null:t,i=c(r)?[r]:r,i&&this._appendBlockToChain(n,i,null),this._localeChainCache[e]=n}return n},Ee.prototype._translate=function(e,t,n,r,i,o,s){for(var a,l=this._getLocaleChain(t,n),c=0;c<l.length;c++){var u=l[c];if(a=this._interpolate(u,e[u],r,i,o,s,[r]),!d(a))return a}return null},Ee.prototype._t=function(e,t,n,r){var i,o=[],s=arguments.length-4;while(s-- >0)o[s]=arguments[s+4];if(!e)return"";var a=m.apply(void 0,o);this._escapeParameterHtml&&(a.params=E(a.params));var l=a.locale||t,c=this._translate(n,l,this.fallbackLocale,e,r,"string",a.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(i=this._root).$t.apply(i,[e].concat(o))}return c=this._warnDefault(l,e,c,r,o,"string"),this._postTranslation&&null!==c&&void 0!==c&&(c=this._postTranslation(c,e)),c},Ee.prototype.t=function(e){var t,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(n))},Ee.prototype._i=function(e,t,n,r,i){var o=this._translate(n,t,this.fallbackLocale,e,r,"raw",i);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,i)}return this._warnDefault(t,e,o,r,[i],"raw")},Ee.prototype.i=function(e,t,n){return e?(c(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,n)):""},Ee.prototype._tc=function(e,t,n,r,i){var o,s=[],a=arguments.length-5;while(a-- >0)s[a]=arguments[a+5];if(!e)return"";void 0===i&&(i=1);var l={count:i,n:i},c=m.apply(void 0,s);return c.params=Object.assign(l,c.params),s=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((o=this)._t.apply(o,[e,t,n,r].concat(s)),i)},Ee.prototype.fetchChoice=function(e,t){if(!e||!c(e))return null;var n=e.split("|");return t=this.getChoiceIndex(t,n.length),n[t]?n[t].trim():e},Ee.prototype.tc=function(e,t){var n,r=[],i=arguments.length-2;while(i-- >0)r[i]=arguments[i+2];return(n=this)._tc.apply(n,[e,this.locale,this._getMessages(),null,t].concat(r))},Ee.prototype._te=function(e,t,n){var r=[],i=arguments.length-3;while(i-- >0)r[i]=arguments[i+3];var o=m.apply(void 0,r).locale||t;return this._exist(n[o],e)},Ee.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},Ee.prototype.getLocaleMessage=function(e){return y(this._vm.messages[e]||{})},Ee.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},Ee.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,x("undefined"!==typeof this._vm.messages[e]&&Object.keys(this._vm.messages[e]).length?Object.assign({},this._vm.messages[e]):{},t))},Ee.prototype.getDateTimeFormat=function(e){return y(this._vm.dateTimeFormats[e]||{})},Ee.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},Ee.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,x(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},Ee.prototype._clearDateTimeFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},Ee.prototype._localizeDateTime=function(e,t,n,r,i,o){for(var s=t,a=r[s],l=this._getLocaleChain(t,n),c=0;c<l.length;c++){var u=l[c];if(a=r[u],s=u,!d(a)&&!d(a[i]))break}if(d(a)||d(a[i]))return null;var h,p=a[i];if(o)h=new Intl.DateTimeFormat(s,Object.assign({},p,o));else{var f=s+"__"+i;h=this._dateTimeFormatters[f],h||(h=this._dateTimeFormatters[f]=new Intl.DateTimeFormat(s,p))}return h.format(e)},Ee.prototype._d=function(e,t,n,r){if(!n){var i=r?new Intl.DateTimeFormat(t,r):new Intl.DateTimeFormat(t);return i.format(e)}var o=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),n,r);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,n,t)}return o||""},Ee.prototype.d=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];var i=this.locale,o=null,s=null;return 1===t.length?(c(t[0])?o=t[0]:a(t[0])&&(t[0].locale&&(i=t[0].locale),t[0].key&&(o=t[0].key)),s=Object.keys(t[0]).reduce((function(e,n){var i;return b(r,n)?Object.assign({},e,(i={},i[n]=t[0][n],i)):e}),null)):2===t.length&&(c(t[0])&&(o=t[0]),c(t[1])&&(i=t[1])),this._d(e,i,o,s)},Ee.prototype.getNumberFormat=function(e){return y(this._vm.numberFormats[e]||{})},Ee.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},Ee.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,x(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},Ee.prototype._clearNumberFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},Ee.prototype._getNumberFormatter=function(e,t,n,r,i,o){for(var s=t,a=r[s],l=this._getLocaleChain(t,n),c=0;c<l.length;c++){var u=l[c];if(a=r[u],s=u,!d(a)&&!d(a[i]))break}if(d(a)||d(a[i]))return null;var h,p=a[i];if(o)h=new Intl.NumberFormat(s,Object.assign({},p,o));else{var f=s+"__"+i;h=this._numberFormatters[f],h||(h=this._numberFormatters[f]=new Intl.NumberFormat(s,p))}return h},Ee.prototype._n=function(e,t,n,r){if(!Ee.availabilities.numberFormat)return"";if(!n){var i=r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t);return i.format(e)}var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),s=o&&o.format(e);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:n,locale:t},r))}return s||""},Ee.prototype.n=function(e){var t=[],r=arguments.length-1;while(r-- >0)t[r]=arguments[r+1];var i=this.locale,o=null,s=null;return 1===t.length?c(t[0])?o=t[0]:a(t[0])&&(t[0].locale&&(i=t[0].locale),t[0].key&&(o=t[0].key),s=Object.keys(t[0]).reduce((function(e,r){var i;return b(n,r)?Object.assign({},e,(i={},i[r]=t[0][r],i)):e}),null)):2===t.length&&(c(t[0])&&(o=t[0]),c(t[1])&&(i=t[1])),this._n(e,i,o,s)},Ee.prototype._ntp=function(e,t,n,r){if(!Ee.availabilities.numberFormat)return[];if(!n){var i=r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t);return i.formatToParts(e)}var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),s=o&&o.formatToParts(e);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,n,r)}return s||[]},Object.defineProperties(Ee.prototype,Me),Object.defineProperty(Ee,"availabilities",{get:function(){if(!ve){var e="undefined"!==typeof Intl;ve={dateTimeFormat:e&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:e&&"undefined"!==typeof Intl.NumberFormat}}return ve}}),Ee.install=H,Ee.version="8.28.2",t.A=Ee},9603:function(e,t,n){"use strict";n.d(t,{uA:function(){return S},kv:function(){return M},lD:function(){return r["default"]},ox:function(){return A}});var r=n(85471);
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */
function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return a(e)||l(e)||c()}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function h(e,t){p(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(n){p(e.prototype,t.prototype,n)})),Object.getOwnPropertyNames(t).forEach((function(n){p(e,t,n)}))}function p(e,t,n){var r=n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t);r.forEach((function(r){var i=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,i,e,n):Reflect.defineMetadata(r,i,e)}))}var d={__proto__:[]},f=d instanceof Array;function m(e){return function(t,n,r){var i="function"===typeof t?t:t.constructor;i.__decorators__||(i.__decorators__=[]),"number"!==typeof r&&(r=void 0),i.__decorators__.push((function(t){return e(t,n,r)}))}}function y(e){var t=i(e);return null==e||"object"!==t&&"function"!==t}function g(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var r=new t;t.prototype._init=n;var i={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(i[e]=r[e])})),i}var v=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(v.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"===typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return o({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return g(this,e)}});var i=e.__decorators__;i&&(i.forEach((function(e){return e(t)})),delete e.__decorators__);var s=Object.getPrototypeOf(e.prototype),a=s instanceof r["default"]?s.constructor:r["default"],l=a.extend(t);return _(l,e,a),u()&&h(l,e),l}var w={prototype:!0,arguments:!0,callee:!0,caller:!0};function _(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if(!w[r]){var i=Object.getOwnPropertyDescriptor(e,r);if(!i||i.configurable){var o=Object.getOwnPropertyDescriptor(t,r);if(!f){if("cid"===r)return;var s=Object.getOwnPropertyDescriptor(n,r);if(!y(o.value)&&s&&s.value===o.value)return}0,Object.defineProperty(e,r,o)}}}))}function x(e){return"function"===typeof e?b(e):function(t){return b(t,e)}}x.registerHooks=function(e){v.push.apply(v,s(e))};var S=x;var T="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function E(e,t,n){if(T&&!Array.isArray(e)&&"function"!==typeof e&&!e.hasOwnProperty("type")&&"undefined"===typeof e.type){var r=Reflect.getMetadata("design:type",t,n);r!==Object&&(e.type=r)}}function M(e){return void 0===e&&(e={}),function(t,n){E(e,t,n),m((function(t,n){(t.props||(t.props={}))[n]=e}))(t,n)}}function A(e,t){void 0===t&&(t={});var n=t.deep,r=void 0!==n&&n,i=t.immediate,o=void 0!==i&&i;return m((function(t,n){"object"!==typeof t.watch&&(t.watch=Object.create(null));var i=t.watch;"object"!==typeof i[e]||Array.isArray(i[e])?"undefined"===typeof i[e]&&(i[e]=[]):i[e]=[i[e]],i[e].push({handler:n,deep:r,immediate:o})}))}},40173:function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}n.d(t,{Ay:function(){return xt}});var i=/[!'()*]/g,o=function(e){return"%"+e.charCodeAt(0).toString(16)},s=/%2C/g,a=function(e){return encodeURIComponent(e).replace(i,o).replace(s,",")};function l(e){try{return decodeURIComponent(e)}catch(t){0}return e}function c(e,t,n){void 0===t&&(t={});var r,i=n||h;try{r=i(e||"")}catch(a){r={}}for(var o in t){var s=t[o];r[o]=Array.isArray(s)?s.map(u):u(s)}return r}var u=function(e){return null==e||"object"===typeof e?e:String(e)};function h(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),r=l(n.shift()),i=n.length>0?l(n.join("=")):null;void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}function p(e){var t=e?Object.keys(e).map((function(t){var n=e[t];if(void 0===n)return"";if(null===n)return a(t);if(Array.isArray(n)){var r=[];return n.forEach((function(e){void 0!==e&&(null===e?r.push(a(t)):r.push(a(t)+"="+a(e)))})),r.join("&")}return a(t)+"="+a(n)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var d=/\/?$/;function f(e,t,n,r){var i=r&&r.options.stringifyQuery,o=t.query||{};try{o=m(o)}catch(a){}var s={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:v(t,i),matched:e?g(e):[]};return n&&(s.redirectedFrom=v(n,i)),Object.freeze(s)}function m(e){if(Array.isArray(e))return e.map(m);if(e&&"object"===typeof e){var t={};for(var n in e)t[n]=m(e[n]);return t}return e}var y=f(null,{path:"/"});function g(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function v(e,t){var n=e.path,r=e.query;void 0===r&&(r={});var i=e.hash;void 0===i&&(i="");var o=t||p;return(n||"/")+o(r)+i}function b(e,t,n){return t===y?e===t:!!t&&(e.path&&t.path?e.path.replace(d,"")===t.path.replace(d,"")&&(n||e.hash===t.hash&&w(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(n||e.hash===t.hash&&w(e.query,t.query)&&w(e.params,t.params))))}function w(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e).sort(),r=Object.keys(t).sort();return n.length===r.length&&n.every((function(n,i){var o=e[n],s=r[i];if(s!==n)return!1;var a=t[n];return null==o||null==a?o===a:"object"===typeof o&&"object"===typeof a?w(o,a):String(o)===String(a)}))}function _(e,t){return 0===e.path.replace(d,"/").indexOf(t.path.replace(d,"/"))&&(!t.hash||e.hash===t.hash)&&x(e.query,t.query)}function x(e,t){for(var n in t)if(!(n in e))return!1;return!0}function S(e){for(var t=0;t<e.matched.length;t++){var n=e.matched[t];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var s=0;s<o.length;s++)i._isBeingDestroyed||o[s](i)}}}}var T={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,i=t.children,o=t.parent,s=t.data;s.routerView=!0;var a=o.$createElement,l=n.name,c=o.$route,u=o._routerViewCache||(o._routerViewCache={}),h=0,p=!1;while(o&&o._routerRoot!==o){var d=o.$vnode?o.$vnode.data:{};d.routerView&&h++,d.keepAlive&&o._directInactive&&o._inactive&&(p=!0),o=o.$parent}if(s.routerViewDepth=h,p){var f=u[l],m=f&&f.component;return m?(f.configProps&&E(m,s,f.route,f.configProps),a(m,s,i)):a()}var y=c.matched[h],g=y&&y.components[l];if(!y||!g)return u[l]=null,a();u[l]={component:g},s.registerRouteInstance=function(e,t){var n=y.instances[l];(t&&n!==e||!t&&n===e)&&(y.instances[l]=t)},(s.hook||(s.hook={})).prepatch=function(e,t){y.instances[l]=t.componentInstance},s.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==y.instances[l]&&(y.instances[l]=e.componentInstance),S(c)};var v=y.props&&y.props[l];return v&&(r(u[l],{route:c,configProps:v}),E(g,s,c,v)),a(g,s,i)}};function E(e,t,n,i){var o=t.props=M(n,i);if(o){o=t.props=r({},o);var s=t.attrs=t.attrs||{};for(var a in o)e.props&&a in e.props||(s[a]=o[a],delete o[a])}}function M(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}function A(e,t,n){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var i=t.split("/");n&&i[i.length-1]||i.pop();for(var o=e.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?i.pop():"."!==a&&i.push(a)}return""!==i[0]&&i.unshift(""),i.join("/")}function I(e){var t="",n="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var i=e.indexOf("?");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{path:e,query:n,hash:t}}function C(e){return e.replace(/\/(?:\s*\/)+/g,"/")}var O=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},k=X,R=F,L=j,N=G,P=Y,D=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function F(e,t){var n,r=[],i=0,o=0,s="",a=t&&t.delimiter||"/";while(null!=(n=D.exec(e))){var l=n[0],c=n[1],u=n.index;if(s+=e.slice(o,u),o=u+l.length,c)s+=c[1];else{var h=e[o],p=n[2],d=n[3],f=n[4],m=n[5],y=n[6],g=n[7];s&&(r.push(s),s="");var v=null!=p&&null!=h&&h!==p,b="+"===y||"*"===y,w="?"===y||"*"===y,_=n[2]||a,x=f||m;r.push({name:d||i++,prefix:p||"",delimiter:_,optional:w,repeat:b,partial:v,asterisk:!!g,pattern:x?B(x):g?".*":"[^"+V(_)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function j(e,t){return G(F(e,t),t)}function U(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function z(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function G(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",H(t)));return function(t,r){for(var i="",o=t||{},s=r||{},a=s.pretty?U:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var u,h=o[c.name];if(null==h){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(O(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(u=a(h[p]),!n[l].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===p?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?z(h):a(h),!n[l].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');i+=c.prefix+u}}else i+=c}return i}}function V(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function B(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function $(e,t){return e.keys=t,e}function H(e){return e&&e.sensitive?"":"i"}function W(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return $(e,t)}function q(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(X(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",H(n));return $(o,t)}function Z(e,t,n){return Y(F(e,n),t,n)}function Y(e,t,n){O(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"===typeof a)o+=V(a);else{var l=V(a.prefix),c="(?:"+a.pattern+")";t.push(a),a.repeat&&(c+="(?:"+l+c+")*"),c=a.optional?a.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")",o+=c}}var u=V(n.delimiter||"/"),h=o.slice(-u.length)===u;return r||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+u+"|$)",$(new RegExp("^"+o,H(n)),t)}function X(e,t,n){return O(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?W(e,t):O(e)?q(e,t,n):Z(e,t,n)}k.parse=R,k.compile=L,k.tokensToFunction=N,k.tokensToRegExp=P;var J=Object.create(null);function K(e,t,n){t=t||{};try{var r=J[e]||(J[e]=k.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(i){return""}finally{delete t[0]}}function Q(e,t,n,i){var o="string"===typeof e?{path:e}:e;if(o._normalized)return o;if(o.name){o=r({},e);var s=o.params;return s&&"object"===typeof s&&(o.params=r({},s)),o}if(!o.path&&o.params&&t){o=r({},o),o._normalized=!0;var a=r(r({},t.params),o.params);if(t.name)o.name=t.name,o.params=a;else if(t.matched.length){var l=t.matched[t.matched.length-1].path;o.path=K(l,a,"path "+t.path)}else 0;return o}var u=I(o.path||""),h=t&&t.path||"/",p=u.path?A(u.path,h,n||o.append):h,d=c(u.query,o.query,i&&i.options.parseQuery),f=o.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:p,query:d,hash:f}}var ee,te=[String,Object],ne=[String,Array],re=function(){},ie={name:"RouterLink",props:{to:{type:te,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:ne,default:"click"}},render:function(e){var t=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),s=o.location,a=o.route,l=o.href,c={},u=n.options.linkActiveClass,h=n.options.linkExactActiveClass,p=null==u?"router-link-active":u,d=null==h?"router-link-exact-active":h,m=null==this.activeClass?p:this.activeClass,y=null==this.exactActiveClass?d:this.exactActiveClass,g=a.redirectedFrom?f(null,Q(a.redirectedFrom),null,n):a;c[y]=b(i,g,this.exactPath),c[m]=this.exact||this.exactPath?c[y]:_(i,g);var v=c[y]?this.ariaCurrentValue:null,w=function(e){oe(e)&&(t.replace?n.replace(s,re):n.push(s,re))},x={click:oe};Array.isArray(this.event)?this.event.forEach((function(e){x[e]=w})):x[this.event]=w;var S={class:c},T=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:a,navigate:w,isActive:c[m],isExactActive:c[y]});if(T){if(1===T.length)return T[0];if(T.length>1||!T.length)return 0===T.length?e():e("span",{},T)}if("a"===this.tag)S.on=x,S.attrs={href:l,"aria-current":v};else{var E=se(this.$slots.default);if(E){E.isStatic=!1;var M=E.data=r({},E.data);for(var A in M.on=M.on||{},M.on){var I=M.on[A];A in x&&(M.on[A]=Array.isArray(I)?I:[I])}for(var C in x)C in M.on?M.on[C].push(x[C]):M.on[C]=w;var O=E.data.attrs=r({},E.data.attrs);O.href=l,O["aria-current"]=v}else S.on=x}return e(this.tag,S,this.$slots.default)}};function oe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function se(e){if(e)for(var t,n=0;n<e.length;n++){if(t=e[n],"a"===t.tag)return t;if(t.children&&(t=se(t.children)))return t}}function ae(e){if(!ae.installed||ee!==e){ae.installed=!0,ee=e;var t=function(e){return void 0!==e},n=function(e,n){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,n)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",T),e.component("RouterLink",ie);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var le="undefined"!==typeof window;function ce(e,t,n,r,i){var o=t||[],s=n||Object.create(null),a=r||Object.create(null);e.forEach((function(e){ue(o,s,a,e,i)}));for(var l=0,c=o.length;l<c;l++)"*"===o[l]&&(o.push(o.splice(l,1)[0]),c--,l--);return{pathList:o,pathMap:s,nameMap:a}}function ue(e,t,n,r,i,o){var s=r.path,a=r.name;var l=r.pathToRegexpOptions||{},c=pe(s,i,l.strict);"boolean"===typeof r.caseSensitive&&(l.sensitive=r.caseSensitive);var u={path:c,regex:he(c,l),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:a,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?C(o+"/"+r.path):void 0;ue(e,t,n,r,u,i)})),t[u.path]||(e.push(u.path),t[u.path]=u),void 0!==r.alias)for(var h=Array.isArray(r.alias)?r.alias:[r.alias],p=0;p<h.length;++p){var d=h[p];0;var f={path:d,children:r.children};ue(e,t,n,f,i,u.path||"/")}a&&(n[a]||(n[a]=u))}function he(e,t){var n=k(e,[],t);return n}function pe(e,t,n){return n||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:C(t.path+"/"+e)}function de(e,t){var n=ce(e),r=n.pathList,i=n.pathMap,o=n.nameMap;function s(e){ce(e,r,i,o)}function a(e,t){var n="object"!==typeof e?o[e]:void 0;ce([t||e],r,i,o,n),n&&n.alias.length&&ce(n.alias.map((function(e){return{path:e,children:[t]}})),r,i,o,n)}function l(){return r.map((function(e){return i[e]}))}function c(e,n,s){var a=Q(e,n,!1,t),l=a.name;if(l){var c=o[l];if(!c)return p(null,a);var u=c.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof a.params&&(a.params={}),n&&"object"===typeof n.params)for(var h in n.params)!(h in a.params)&&u.indexOf(h)>-1&&(a.params[h]=n.params[h]);return a.path=K(c.path,a.params,'named route "'+l+'"'),p(c,a,s)}if(a.path){a.params={};for(var d=0;d<r.length;d++){var f=r[d],m=i[f];if(fe(m.regex,a.path,a.params))return p(m,a,s)}}return p(null,a)}function u(e,n){var r=e.redirect,i="function"===typeof r?r(f(e,n,null,t)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return p(null,n);var s=i,a=s.name,l=s.path,u=n.query,h=n.hash,d=n.params;if(u=s.hasOwnProperty("query")?s.query:u,h=s.hasOwnProperty("hash")?s.hash:h,d=s.hasOwnProperty("params")?s.params:d,a){o[a];return c({_normalized:!0,name:a,query:u,hash:h,params:d},void 0,n)}if(l){var m=me(l,e),y=K(m,d,'redirect route with path "'+m+'"');return c({_normalized:!0,path:y,query:u,hash:h},void 0,n)}return p(null,n)}function h(e,t,n){var r=K(n,t.params,'aliased route with path "'+n+'"'),i=c({_normalized:!0,path:r});if(i){var o=i.matched,s=o[o.length-1];return t.params=i.params,p(s,t)}return p(null,t)}function p(e,n,r){return e&&e.redirect?u(e,r||n):e&&e.matchAs?h(e,n,e.matchAs):f(e,n,r,t)}return{match:c,addRoute:a,getRoutes:l,addRoutes:s}}function fe(e,t,n){var r=t.match(e);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var s=e.keys[i-1];s&&(n[s.name||"pathMatch"]="string"===typeof r[i]?l(r[i]):r[i])}return!0}function me(e,t){return A(e,t.parent?t.parent.path:"/",!0)}var ye=le&&window.performance&&window.performance.now?window.performance:Date;function ge(){return ye.now().toFixed(3)}var ve=ge();function be(){return ve}function we(e){return ve=e}var _e=Object.create(null);function xe(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),n=r({},window.history.state);return n.key=be(),window.history.replaceState(n,"",t),window.addEventListener("popstate",Ee),function(){window.removeEventListener("popstate",Ee)}}function Se(e,t,n,r){if(e.app){var i=e.options.scrollBehavior;i&&e.app.$nextTick((function(){var o=Me(),s=i.call(e,t,n,r?o:null);s&&("function"===typeof s.then?s.then((function(e){Le(e,o)})).catch((function(e){0})):Le(s,o))}))}}function Te(){var e=be();e&&(_e[e]={x:window.pageXOffset,y:window.pageYOffset})}function Ee(e){Te(),e.state&&e.state.key&&we(e.state.key)}function Me(){var e=be();if(e)return _e[e]}function Ae(e,t){var n=document.documentElement,r=n.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-r.left-t.x,y:i.top-r.top-t.y}}function Ie(e){return ke(e.x)||ke(e.y)}function Ce(e){return{x:ke(e.x)?e.x:window.pageXOffset,y:ke(e.y)?e.y:window.pageYOffset}}function Oe(e){return{x:ke(e.x)?e.x:0,y:ke(e.y)?e.y:0}}function ke(e){return"number"===typeof e}var Re=/^#\d/;function Le(e,t){var n="object"===typeof e;if(n&&"string"===typeof e.selector){var r=Re.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var i=e.offset&&"object"===typeof e.offset?e.offset:{};i=Oe(i),t=Ae(r,i)}else Ie(e)&&(t=Ce(e))}else n&&Ie(e)&&(t=Ce(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var Ne=le&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Pe(e,t){Te();var n=window.history;try{if(t){var i=r({},n.state);i.key=be(),n.replaceState(i,"",e)}else n.pushState({key:we(ge())},"",e)}catch(o){window.location[t?"replace":"assign"](e)}}function De(e){Pe(e,!0)}var Fe={redirected:2,aborted:4,cancelled:8,duplicated:16};function je(e,t){return Ve(e,t,Fe.redirected,'Redirected when going from "'+e.fullPath+'" to "'+$e(t)+'" via a navigation guard.')}function Ue(e,t){var n=Ve(e,t,Fe.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return n.name="NavigationDuplicated",n}function ze(e,t){return Ve(e,t,Fe.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function Ge(e,t){return Ve(e,t,Fe.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function Ve(e,t,n,r){var i=new Error(r);return i._isRouter=!0,i.from=e,i.to=t,i.type=n,i}var Be=["params","query","hash"];function $e(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t={};return Be.forEach((function(n){n in e&&(t[n]=e[n])})),JSON.stringify(t,null,2)}function He(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function We(e,t){return He(e)&&e._isRouter&&(null==t||e.type===t)}function qe(e,t,n){var r=function(i){i>=e.length?n():e[i]?t(e[i],(function(){r(i+1)})):r(i+1)};r(0)}function Ze(e){return function(t,n,r){var i=!1,o=0,s=null;Ye(e,(function(e,t,n,a){if("function"===typeof e&&void 0===e.cid){i=!0,o++;var l,c=Qe((function(t){Ke(t)&&(t=t.default),e.resolved="function"===typeof t?t:ee.extend(t),n.components[a]=t,o--,o<=0&&r()})),u=Qe((function(e){var t="Failed to resolve async component "+a+": "+e;s||(s=He(e)?e:new Error(t),r(s))}));try{l=e(c,u)}catch(p){u(p)}if(l)if("function"===typeof l.then)l.then(c,u);else{var h=l.component;h&&"function"===typeof h.then&&h.then(c,u)}}})),i||r()}}function Ye(e,t){return Xe(e.map((function(e){return Object.keys(e.components).map((function(n){return t(e.components[n],e.instances[n],e,n)}))})))}function Xe(e){return Array.prototype.concat.apply([],e)}var Je="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Ke(e){return e.__esModule||Je&&"Module"===e[Symbol.toStringTag]}function Qe(e){var t=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!t)return t=!0,e.apply(this,n)}}var et=function(e,t){this.router=e,this.base=tt(t),this.current=y,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function tt(e){if(!e)if(le){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function nt(e,t){var n,r=Math.max(e.length,t.length);for(n=0;n<r;n++)if(e[n]!==t[n])break;return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}function rt(e,t,n,r){var i=Ye(e,(function(e,r,i,o){var s=it(e,t);if(s)return Array.isArray(s)?s.map((function(e){return n(e,r,i,o)})):n(s,r,i,o)}));return Xe(r?i.reverse():i)}function it(e,t){return"function"!==typeof e&&(e=ee.extend(e)),e.options[t]}function ot(e){return rt(e,"beforeRouteLeave",at,!0)}function st(e){return rt(e,"beforeRouteUpdate",at)}function at(e,t){if(t)return function(){return e.apply(t,arguments)}}function lt(e){return rt(e,"beforeRouteEnter",(function(e,t,n,r){return ct(e,n,r)}))}function ct(e,t,n){return function(r,i,o){return e(r,i,(function(e){"function"===typeof e&&(t.enteredCbs[n]||(t.enteredCbs[n]=[]),t.enteredCbs[n].push(e)),o(e)}))}}et.prototype.listen=function(e){this.cb=e},et.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},et.prototype.onError=function(e){this.errorCbs.push(e)},et.prototype.transitionTo=function(e,t,n){var r,i=this;try{r=this.router.match(e,this.current)}catch(s){throw this.errorCbs.forEach((function(e){e(s)})),s}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),t&&t(r),i.ensureURL(),i.router.afterHooks.forEach((function(e){e&&e(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(e){e(r)})))}),(function(e){n&&n(e),e&&!i.ready&&(We(e,Fe.redirected)&&o===y||(i.ready=!0,i.readyErrorCbs.forEach((function(t){t(e)}))))}))},et.prototype.confirmTransition=function(e,t,n){var r=this,i=this.current;this.pending=e;var o=function(e){!We(e)&&He(e)&&(r.errorCbs.length?r.errorCbs.forEach((function(t){t(e)})):console.error(e)),n&&n(e)},s=e.matched.length-1,a=i.matched.length-1;if(b(e,i)&&s===a&&e.matched[s]===i.matched[a])return this.ensureURL(),e.hash&&Se(this.router,i,e,!1),o(Ue(i,e));var l=nt(this.current.matched,e.matched),c=l.updated,u=l.deactivated,h=l.activated,p=[].concat(ot(u),this.router.beforeHooks,st(c),h.map((function(e){return e.beforeEnter})),Ze(h)),d=function(t,n){if(r.pending!==e)return o(ze(i,e));try{t(e,i,(function(t){!1===t?(r.ensureURL(!0),o(Ge(i,e))):He(t)?(r.ensureURL(!0),o(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(o(je(i,e)),"object"===typeof t&&t.replace?r.replace(t):r.push(t)):n(t)}))}catch(s){o(s)}};qe(p,d,(function(){var n=lt(h),s=n.concat(r.router.resolveHooks);qe(s,d,(function(){if(r.pending!==e)return o(ze(i,e));r.pending=null,t(e),r.router.app&&r.router.app.$nextTick((function(){S(e)}))}))}))},et.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},et.prototype.setupListeners=function(){},et.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=y,this.pending=null};var ut=function(e){function t(t,n){e.call(this,t,n),this._startLocation=ht(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,r=Ne&&n;r&&this.listeners.push(xe());var i=function(){var n=e.current,i=ht(e.base);e.current===y&&i===e._startLocation||e.transitionTo(i,(function(e){r&&Se(t,e,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){Pe(C(r.base+e.fullPath)),Se(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){De(C(r.base+e.fullPath)),Se(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.ensureURL=function(e){if(ht(this.base)!==this.current.fullPath){var t=C(this.base+this.current.fullPath);e?Pe(t):De(t)}},t.prototype.getCurrentLocation=function(){return ht(this.base)},t}(et);function ht(e){var t=window.location.pathname,n=t.toLowerCase(),r=e.toLowerCase();return!e||n!==r&&0!==n.indexOf(C(r+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var pt=function(e){function t(t,n,r){e.call(this,t,n),r&&dt(this.base)||ft()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,r=Ne&&n;r&&this.listeners.push(xe());var i=function(){var t=e.current;ft()&&e.transitionTo(mt(),(function(n){r&&Se(e.router,n,t,!0),Ne||vt(n.fullPath)}))},o=Ne?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},t.prototype.push=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){gt(e.fullPath),Se(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){vt(e.fullPath),Se(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;mt()!==t&&(e?gt(t):vt(t))},t.prototype.getCurrentLocation=function(){return mt()},t}(et);function dt(e){var t=ht(e);if(!/^\/#/.test(t))return window.location.replace(C(e+"/#"+t)),!0}function ft(){var e=mt();return"/"===e.charAt(0)||(vt("/"+e),!1)}function mt(){var e=window.location.href,t=e.indexOf("#");return t<0?"":(e=e.slice(t+1),e)}function yt(e){var t=window.location.href,n=t.indexOf("#"),r=n>=0?t.slice(0,n):t;return r+"#"+e}function gt(e){Ne?Pe(yt(e)):window.location.hash=e}function vt(e){Ne?De(yt(e)):window.location.replace(yt(e))}var bt=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)}),n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var e=t.current;t.index=n,t.updateRoute(r),t.router.afterHooks.forEach((function(t){t&&t(r,e)}))}),(function(e){We(e,Fe.duplicated)&&(t.index=n)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(et),wt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=de(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Ne&&!1!==e.fallback,this.fallback&&(t="hash"),le||(t="abstract"),this.mode=t,t){case"history":this.history=new ut(this,e.base);break;case"hash":this.history=new pt(this,e.base,this.fallback);break;case"abstract":this.history=new bt(this,e.base);break;default:0}},_t={currentRoute:{configurable:!0}};wt.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},_t.currentRoute.get=function(){return this.history&&this.history.current},wt.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var n=t.apps.indexOf(e);n>-1&&t.apps.splice(n,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var n=this.history;if(n instanceof ut||n instanceof pt){var r=function(e){var r=n.current,i=t.options.scrollBehavior,o=Ne&&i;o&&"fullPath"in e&&Se(t,e,r,!1)},i=function(e){n.setupListeners(),r(e)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},wt.prototype.beforeEach=function(e){return St(this.beforeHooks,e)},wt.prototype.beforeResolve=function(e){return St(this.resolveHooks,e)},wt.prototype.afterEach=function(e){return St(this.afterHooks,e)},wt.prototype.onReady=function(e,t){this.history.onReady(e,t)},wt.prototype.onError=function(e){this.history.onError(e)},wt.prototype.push=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.push(e,t,n)}));this.history.push(e,t,n)},wt.prototype.replace=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.replace(e,t,n)}));this.history.replace(e,t,n)},wt.prototype.go=function(e){this.history.go(e)},wt.prototype.back=function(){this.go(-1)},wt.prototype.forward=function(){this.go(1)},wt.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},wt.prototype.resolve=function(e,t,n){t=t||this.history.current;var r=Q(e,t,n,this),i=this.match(r,t),o=i.redirectedFrom||i.fullPath,s=this.history.base,a=Tt(s,o,this.mode);return{location:r,route:i,href:a,normalizedTo:r,resolved:i}},wt.prototype.getRoutes=function(){return this.matcher.getRoutes()},wt.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},wt.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(wt.prototype,_t);var xt=wt;function St(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function Tt(e,t,n){var r="hash"===n?"#"+t:t;return e?C(e+"/"+r):r}wt.install=ae,wt.version="3.6.5",wt.isNavigationFailure=We,wt.NavigationFailureType=Fe,wt.START_LOCATION=y,le&&window.Vue&&window.Vue.use(wt)},17823:function(e,t,n){"use strict";n.d(t,{Cg:function(){return An}});
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var r="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,i=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(r&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function o(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}function s(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),i))}}var a=r&&window.Promise,l=a?o:s;function c(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView,r=n.getComputedStyle(e,null);return t?r[t]:r}function h(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function p(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:p(h(e))}function d(e){return e&&e.referenceNode?e.referenceNode:e}var f=r&&!(!window.MSInputMethodContext||!document.documentMode),m=r&&/MSIE 10/.test(navigator.userAgent);function y(e){return 11===e?f:10===e?m:f||m}function g(e){if(!e)return document.documentElement;var t=y(10)?document.body:null,n=e.offsetParent||null;while(n===t&&e.nextElementSibling)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?g(n):n:e?e.ownerDocument.documentElement:document.documentElement}function v(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||g(e.firstElementChild)===e)}function b(e){return null!==e.parentNode?b(e.parentNode):e}function w(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(e!==s&&t!==s||r.contains(i))return v(s)?s:g(s);var a=b(e);return a.host?w(a.host,t):w(e,b(t).host)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[n]}return e[n]}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_(t,"top"),i=_(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function S(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function T(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],y(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function E(e){var t=e.body,n=e.documentElement,r=y(10)&&getComputedStyle(n);return{height:T("Height",t,n,r),width:T("Width",t,n,r)}}var M=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function O(e){return C({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};try{if(y(10)){t=e.getBoundingClientRect();var n=_(e,"top"),r=_(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(p){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?E(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,a=o.height||e.clientHeight||i.height,l=e.offsetWidth-s,c=e.offsetHeight-a;if(l||c){var h=u(e);l-=S(h,"x"),c-=S(h,"y"),i.width-=l,i.height-=c}return O(i)}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(10),i="HTML"===t.nodeName,o=k(e),s=k(t),a=p(e),l=u(t),c=parseFloat(l.borderTopWidth),h=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=O({top:o.top-s.top-c,left:o.left-s.left-h,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var f=parseFloat(l.marginTop),m=parseFloat(l.marginLeft);d.top-=c-f,d.bottom-=c-f,d.left-=h-m,d.right-=h-m,d.marginTop=f,d.marginLeft=m}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(d=x(d,t)),d}function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=R(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:_(n),a=t?0:_(n,"left"),l={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return O(l)}function N(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===u(e,"position"))return!0;var n=h(e);return!!n&&N(n)}function P(e){if(!e||!e.parentElement||y())return document.documentElement;var t=e.parentElement;while(t&&"none"===u(t,"transform"))t=t.parentElement;return t||document.documentElement}function D(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=i?P(e):w(e,d(t));if("viewport"===r)o=L(s,i);else{var a=void 0;"scrollParent"===r?(a=p(h(t)),"BODY"===a.nodeName&&(a=e.ownerDocument.documentElement)):a="window"===r?e.ownerDocument.documentElement:r;var l=R(a,s,i);if("HTML"!==a.nodeName||N(s))o=l;else{var c=E(e.ownerDocument),u=c.height,f=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=f+l.left}}n=n||0;var m="number"===typeof n;return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function F(e){var t=e.width,n=e.height;return t*n}function j(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=D(n,r,o,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return C({key:e},a[e],{area:F(a[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function U(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?P(t):w(t,d(n));return R(n,i,r)}function z(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:e.offsetWidth+i,height:e.offsetHeight+r};return o}function G(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function V(e,t,n){n=n.split("-")[0];var r=z(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[s]=t[s]+t[l]/2-r[l]/2,i[a]=n===a?t[a]-r[c]:t[G(a)],i}function B(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function $(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=B(e,(function(e){return e[t]===n}));return e.indexOf(r)}function H(e,t,n){var r=void 0===n?e:e.slice(0,$(e,"name",n));return r.forEach((function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e["function"]||e.fn;e.enabled&&c(n)&&(t.offsets.popper=O(t.offsets.popper),t.offsets.reference=O(t.offsets.reference),t=n(t,e))})),t}function W(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=U(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=j(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=V(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=H(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function q(e,t){return e.some((function(e){var n=e.name,r=e.enabled;return r&&n===t}))}function Z(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function Y(){return this.state.isDestroyed=!0,q(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Z("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function X(e){var t=e.ownerDocument;return t?t.defaultView:window}function J(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||J(p(o.parentNode),t,n,r),r.push(o)}function K(e,t,n,r){n.updateBound=r,X(e).addEventListener("resize",n.updateBound,{passive:!0});var i=p(e);return J(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Q(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}function ee(e,t){return X(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function te(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=ee(this.reference,this.state))}function ne(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function re(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&ne(t[n])&&(r="px"),e.style[n]=t[n]+r}))}function ie(e,t){Object.keys(t).forEach((function(n){var r=t[n];!1!==r?e.setAttribute(n,t[n]):e.removeAttribute(n)}))}function oe(e){return re(e.instance.popper,e.styles),ie(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&re(e.arrowElement,e.arrowStyles),e}function se(e,t,n,r,i){var o=U(i,t,e,n.positionFixed),s=j(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),re(t,{position:n.positionFixed?"fixed":"absolute"}),n}function ae(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},l=o(i.width),c=o(r.width),u=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),p=l%2===c%2,d=l%2===1&&c%2===1,f=t?u||h||p?o:s:a,m=t?o:a;return{left:f(d&&!h&&t?r.left-1:r.left),top:m(r.top),bottom:m(r.bottom),right:f(r.right)}}var le=r&&/Firefox/i.test(navigator.userAgent);function ce(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=B(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=g(e.instance.popper),l=k(a),c={position:i.position},u=ae(e,window.devicePixelRatio<2||!le),h="bottom"===n?"top":"bottom",p="right"===r?"left":"right",d=Z("transform"),f=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,f="right"===p?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,s&&d)c[d]="translate3d("+f+"px, "+m+"px, 0)",c[h]=0,c[p]=0,c.willChange="transform";else{var y="bottom"===h?-1:1,v="right"===p?-1:1;c[h]=m*y,c[p]=f*v,c.willChange=h+", "+p}var b={"x-placement":e.placement};return e.attributes=C({},b,e.attributes),e.styles=C({},c,e.styles),e.arrowStyles=C({},e.offsets.arrow,e.arrowStyles),e}function ue(e,t,n){var r=B(e,(function(e){var n=e.name;return n===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function he(e,t){var n;if(!ue(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",h=l?"Top":"Left",p=h.toLowerCase(),d=l?"left":"top",f=l?"bottom":"right",m=z(r)[c];a[f]-m<s[p]&&(e.offsets.popper[p]-=s[p]-(a[f]-m)),a[p]+m>s[f]&&(e.offsets.popper[p]+=a[p]+m-s[f]),e.offsets.popper=O(e.offsets.popper);var y=a[p]+a[c]/2-m/2,g=u(e.instance.popper),v=parseFloat(g["margin"+h]),b=parseFloat(g["border"+h+"Width"]),w=y-e.offsets.popper[p]-v-b;return w=Math.max(Math.min(s[c]-m,w),0),e.arrowElement=r,e.offsets.arrow=(n={},I(n,p,Math.round(w)),I(n,d,""),n),e}function pe(e){return"end"===e?"start":"start"===e?"end":e}var de=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],fe=de.slice(3);function me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=fe.indexOf(e),r=fe.slice(n+1).concat(fe.slice(0,n));return t?r.reverse():r}var ye={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ge(e,t){if(q(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=D(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=G(r),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case ye.FLIP:s=[r,i];break;case ye.CLOCKWISE:s=me(r);break;case ye.COUNTERCLOCKWISE:s=me(r,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(r!==a||s.length===l+1)return e;r=e.placement.split("-")[0],i=G(r);var c=e.offsets.popper,u=e.offsets.reference,h=Math.floor,p="left"===r&&h(c.right)>h(u.left)||"right"===r&&h(c.left)<h(u.right)||"top"===r&&h(c.bottom)>h(u.top)||"bottom"===r&&h(c.top)<h(u.bottom),d=h(c.left)<h(n.left),f=h(c.right)>h(n.right),m=h(c.top)<h(n.top),y=h(c.bottom)>h(n.bottom),g="left"===r&&d||"right"===r&&f||"top"===r&&m||"bottom"===r&&y,v=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(v&&"start"===o&&d||v&&"end"===o&&f||!v&&"start"===o&&m||!v&&"end"===o&&y),w=!!t.flipVariationsByContent&&(v&&"start"===o&&f||v&&"end"===o&&d||!v&&"start"===o&&y||!v&&"end"===o&&m),_=b||w;(p||g||_)&&(e.flipped=!0,(p||g)&&(r=s[l+1]),_&&(o=pe(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=C({},e.offsets.popper,V(e.instance.popper,e.offsets.reference,e.placement)),e=H(e.instance.modifiers,e,"flip"))})),e}function ve(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[a])&&(e.offsets.popper[l]=o(r[a])),e}function be(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=O(a);return l[t]/100*o}if("vh"===s||"vw"===s){var c=void 0;return c="vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),c/100*o}return o}function we(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(B(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map((function(e,r){var i=(1===r?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return be(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){ne(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}function _e(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return l=ne(+n)?[+n,0]:we(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e}function xe(e,t){var n=t.boundariesElement||g(e.instance.popper);e.instance.reference===n&&(n=g(n));var r=Z("transform"),i=e.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=D(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=s,i[r]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,h={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),I({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),I({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=C({},u,h[t](e))})),e.offsets.popper=u,e}function Se(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:I({},l,o[l]),end:I({},l,o[l]+o[c]-s[c])};e.offsets.popper=C({},s,u[r])}return e}function Te(e){if(!ue(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=B(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Ee(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),e.placement=G(t),e.offsets.popper=O(i),e}var Me={shift:{order:100,enabled:!0,fn:Se},offset:{order:200,enabled:!0,fn:_e,offset:0},preventOverflow:{order:300,enabled:!0,fn:xe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:ve},arrow:{order:500,enabled:!0,fn:he,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ge,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Ee},hide:{order:800,enabled:!0,fn:Te},computeStyle:{order:850,enabled:!0,fn:ce,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:oe,onLoad:se,gpuAcceleration:void 0}},Ae={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Me},Ie=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};M(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=l(this.update.bind(this)),this.options=C({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(C({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=C({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return C({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&c(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return A(e,[{key:"update",value:function(){return W.call(this)}},{key:"destroy",value:function(){return Y.call(this)}},{key:"enableEventListeners",value:function(){return Q.call(this)}},{key:"disableEventListeners",value:function(){return te.call(this)}}]),e}();Ie.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,Ie.placements=de,Ie.Defaults=Ae;
/**!
* tippy.js v4.3.5
* (c) 2017-2019 atomiks
* MIT License
*/
var Ce='.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}';function Oe(){return Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}var ke="4.3.5",Re="undefined"!==typeof window&&"undefined"!==typeof document,Le=Re?navigator.userAgent:"",Ne=/MSIE |Trident\//.test(Le),Pe=/UCBrowser\//.test(Le),De=Re&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,Fe={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},je=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],Ue=Re?Element.prototype:{},ze=Ue.matches||Ue.matchesSelector||Ue.webkitMatchesSelector||Ue.mozMatchesSelector||Ue.msMatchesSelector;function Ge(e){return[].slice.call(e)}function Ve(e,t){return Be(e,(function(e){return ze.call(e,t)}))}function Be(e,t){while(e){if(t(e))return e;e=e.parentElement}return null}var $e={passive:!0},He=4,We="x-placement",qe="x-out-of-boundaries",Ze="tippy-iOS",Ye="tippy-active",Xe="tippy-popper",Je="tippy-tooltip",Ke="tippy-content",Qe="tippy-backdrop",et="tippy-arrow",tt="tippy-roundarrow",nt=".".concat(Xe),rt=".".concat(Je),it=".".concat(Ke),ot=".".concat(Qe),st=".".concat(et),at=".".concat(tt),lt=!1;function ct(){lt||(lt=!0,De&&document.body.classList.add(Ze),window.performance&&document.addEventListener("mousemove",ht))}var ut=0;function ht(){var e=performance.now();e-ut<20&&(lt=!1,document.removeEventListener("mousemove",ht),De||document.body.classList.remove(Ze)),ut=e}function pt(){var e=document,t=e.activeElement;t&&t.blur&&t._tippy&&t.blur()}function dt(){document.addEventListener("touchstart",ct,$e),window.addEventListener("blur",pt)}var ft=Object.keys(Fe);function mt(e){return ft.reduce((function(t,n){var r=(e.getAttribute("data-tippy-".concat(n))||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(i){t[n]=r}return t}),{})}function yt(e){var t={isVirtual:!0,attributes:e.attributes||{},contains:function(){},setAttribute:function(t,n){e.attributes[t]=n},getAttribute:function(t){return e.attributes[t]},removeAttribute:function(t){delete e.attributes[t]},hasAttribute:function(t){return t in e.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(t){e.classList.classNames[t]=!0},remove:function(t){delete e.classList.classNames[t]},contains:function(t){return t in e.classList.classNames}}};for(var n in t)e[n]=t[n]}function gt(e){return"[object Object]"==={}.toString.call(e)&&!e.addEventListener}function vt(e){return!!e._tippy&&!ze.call(e,nt)}function bt(e,t){return{}.hasOwnProperty.call(e,t)}function wt(e){if(Mt(e))return[e];if(e instanceof NodeList)return Ge(e);if(Array.isArray(e))return e;try{return Ge(document.querySelectorAll(e))}catch(t){return[]}}function _t(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?n:r}return e}function xt(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function St(e,t){return e&&e.modifiers&&e.modifiers[t]}function Tt(e,t){return e.indexOf(t)>-1}function Et(e){return e instanceof Element}function Mt(e){return!(!e||!bt(e,"isVirtual"))||Et(e)}function At(){return"innerHTML"}function It(e,t){return"function"===typeof e?e.apply(null,t):e}function Ct(e,t){e.filter((function(e){return"flip"===e.name}))[0].enabled=t}function Ot(e){return!Et(e)||ze.call(e,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!e.hasAttribute("disabled")}function kt(){return document.createElement("div")}function Rt(e,t){e.forEach((function(e){e&&(e.style.transitionDuration="".concat(t,"ms"))}))}function Lt(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Nt(e,t){var n=Oe({},t,{content:It(t.content,[e])},t.ignoreAttributes?{}:mt(e));return(n.arrow||Pe)&&(n.animateFill=!1),n}function Pt(e,t){Object.keys(e).forEach((function(e){if(!bt(t,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))}))}function Dt(e,t){e[At()]=Et(t)?t[At()]:t}function Ft(e,t){if(Et(t.content))Dt(e,""),e.appendChild(t.content);else if("function"!==typeof t.content){var n=t.allowHTML?"innerHTML":"textContent";e[n]=t.content}}function jt(e){return{tooltip:e.querySelector(rt),backdrop:e.querySelector(ot),content:e.querySelector(it),arrow:e.querySelector(st)||e.querySelector(at)}}function Ut(e){e.setAttribute("data-inertia","")}function zt(e){e.removeAttribute("data-inertia")}function Gt(e){var t=kt();return"round"===e?(t.className=tt,Dt(t,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):t.className=et,t}function Vt(){var e=kt();return e.className=Qe,e.setAttribute("data-state","hidden"),e}function Bt(e,t){e.setAttribute("tabindex","-1"),t.setAttribute("data-interactive","")}function $t(e,t){e.removeAttribute("tabindex"),t.removeAttribute("data-interactive")}function Ht(e,t,n){var r=Pe&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](r,n)}function Wt(e){var t=e.getAttribute(We);return t?t.split("-")[0]:""}function qt(e){e.offsetHeight}function Zt(e,t,n){n.split(" ").forEach((function(n){e.classList[t](n+"-theme")}))}function Yt(e,t){var n=kt();n.className=Xe,n.id="tippy-".concat(e),n.style.zIndex=""+t.zIndex,n.style.position="absolute",n.style.top="0",n.style.left="0",t.role&&n.setAttribute("role",t.role);var r=kt();r.className=Je,r.style.maxWidth=t.maxWidth+("number"===typeof t.maxWidth?"px":""),r.setAttribute("data-size",t.size),r.setAttribute("data-animation",t.animation),r.setAttribute("data-state","hidden"),Zt(r,"add",t.theme);var i=kt();return i.className=Ke,i.setAttribute("data-state","hidden"),t.interactive&&Bt(n,r),t.arrow&&r.appendChild(Gt(t.arrowType)),t.animateFill&&(r.appendChild(Vt()),r.setAttribute("data-animatefill","")),t.inertia&&Ut(r),Ft(i,t),r.appendChild(i),n.appendChild(r),n}function Xt(e,t,n){var r=jt(e),i=r.tooltip,o=r.content,s=r.backdrop,a=r.arrow;e.style.zIndex=""+n.zIndex,i.setAttribute("data-size",n.size),i.setAttribute("data-animation",n.animation),i.style.maxWidth=n.maxWidth+("number"===typeof n.maxWidth?"px":""),n.role?e.setAttribute("role",n.role):e.removeAttribute("role"),t.content!==n.content&&Ft(o,n),!t.animateFill&&n.animateFill?(i.appendChild(Vt()),i.setAttribute("data-animatefill","")):t.animateFill&&!n.animateFill&&(i.removeChild(s),i.removeAttribute("data-animatefill")),!t.arrow&&n.arrow?i.appendChild(Gt(n.arrowType)):t.arrow&&!n.arrow&&i.removeChild(a),t.arrow&&n.arrow&&t.arrowType!==n.arrowType&&i.replaceChild(Gt(n.arrowType),a),!t.interactive&&n.interactive?Bt(e,i):t.interactive&&!n.interactive&&$t(e,i),!t.inertia&&n.inertia?Ut(i):t.inertia&&!n.inertia&&zt(i),t.theme!==n.theme&&(Zt(i,"remove",t.theme),Zt(i,"add",n.theme))}function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.exclude,n=e.duration;Ge(document.querySelectorAll(nt)).forEach((function(e){var r=e._tippy;if(r){var i=!1;t&&(i=vt(t)?r.reference===t:e===t.popper),i||r.hide(n)}}))}function Kt(e,t,n,r){if(!e)return!0;var i=n.clientX,o=n.clientY,s=r.interactiveBorder,a=r.distance,l=t.top-o>("top"===e?s+a:s),c=o-t.bottom>("bottom"===e?s+a:s),u=t.left-i>("left"===e?s+a:s),h=i-t.right>("right"===e?s+a:s);return l||c||u||h}function Qt(e){return-(e-10)+"px"}var en=1,tn=[];function nn(e,t){var n,r,i,o,s,a=Nt(e,t);if(!a.multiple&&e._tippy)return null;var l,c,u,h,p=!1,d=!1,f=!1,m=!1,y=[],g=xt(G,a.interactiveDebounce),v=en++,b=Yt(v,a),w=jt(b),_=null,x={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},S={id:v,reference:e,popper:b,popperChildren:w,popperInstance:_,props:a,state:x,clearDelayTimeouts:te,set:ne,setContent:re,show:ie,hide:oe,enable:Q,disable:ee,destroy:se};return e._tippy=S,b._tippy=S,D(),a.lazy||Z(),a.showOnInit&&X(),!a.a11y||a.target||Ot(M())||M().setAttribute("tabindex","0"),b.addEventListener("mouseenter",(function(e){S.props.interactive&&S.state.isVisible&&"mouseenter"===n&&X(e,!0)})),b.addEventListener("mouseleave",(function(){S.props.interactive&&"mouseenter"===n&&document.addEventListener("mousemove",g)})),S;function T(){document.removeEventListener("mousemove",j)}function E(){document.body.removeEventListener("mouseleave",J),document.removeEventListener("mousemove",g),tn=tn.filter((function(e){return e!==g}))}function M(){return S.props.triggerTarget||e}function A(){document.addEventListener("click",K,!0)}function I(){document.removeEventListener("click",K,!0)}function C(){return[S.popperChildren.tooltip,S.popperChildren.backdrop,S.popperChildren.content]}function O(){var e=S.props.followCursor;return e&&"focus"!==n||lt&&"initial"===e}function k(){Rt([b],Ne?0:S.props.updateDuration);var t=e.getBoundingClientRect();function n(){var r=e.getBoundingClientRect();t.top===r.top&&t.right===r.right&&t.bottom===r.bottom&&t.left===r.left||S.popperInstance.scheduleUpdate(),t=r,S.state.isMounted&&requestAnimationFrame(n)}n()}function R(e,t){N(e,(function(){!S.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&t()}))}function L(e,t){N(e,t)}function N(e,t){var n=S.popperChildren.tooltip;function r(e){e.target===n&&(Ht(n,"remove",r),t())}if(0===e)return t();Ht(n,"remove",u),Ht(n,"add",r),u=r}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];M().addEventListener(e,t,n),y.push({eventType:e,handler:t,options:n})}function D(){S.props.touchHold&&!S.props.target&&(P("touchstart",z,$e),P("touchend",V,$e)),S.props.trigger.trim().split(" ").forEach((function(e){if("manual"!==e)if(S.props.target)switch(e){case"mouseenter":P("mouseover",$),P("mouseout",H);break;case"focus":P("focusin",$),P("focusout",H);break;case"click":P(e,$);break}else switch(P(e,z),e){case"mouseenter":P("mouseleave",V);break;case"focus":P(Ne?"focusout":"blur",B);break}}))}function F(){y.forEach((function(e){var t=e.eventType,n=e.handler,r=e.options;M().removeEventListener(t,n,r)})),y=[]}function j(t){var n=r=t,i=n.clientX,o=n.clientY;if(h){var s=Be(t.target,(function(t){return t===e})),a=e.getBoundingClientRect(),l=S.props.followCursor,c="horizontal"===l,u="vertical"===l,p=Tt(["top","bottom"],Wt(b)),d=b.getAttribute(We),f=!!d&&!!d.split("-")[1],m=p?b.offsetWidth:b.offsetHeight,y=m/2,g=p?0:f?m:y,v=p?f?m:y:0;!s&&S.props.interactive||(S.popperInstance.reference=Oe({},S.popperInstance.reference,{referenceNode:e,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:p?m:0,height:p?0:m,top:(c?a.top:o)-g,bottom:(c?a.bottom:o)+g,left:(u?a.left:i)-v,right:(u?a.right:i)+v}}}),S.popperInstance.update()),"initial"===l&&S.state.isVisible&&T()}}function U(e){if(e){var n=Ve(e.target,S.props.target);n&&!n._tippy&&nn(n,Oe({},S.props,{content:It(t.content,[n]),appendTo:t.appendTo,target:"",showOnInit:!0}))}}function z(e){S.state.isEnabled&&!W(e)&&(S.state.isVisible||(n=e.type,e instanceof MouseEvent&&(r=e,tn.forEach((function(t){return t(e)})))),"click"===e.type&&!1!==S.props.hideOnClick&&S.state.isVisible?J():X(e))}function G(t){var n=Ve(t.target,nt)===b,r=Be(t.target,(function(t){return t===e}));n||r||Kt(Wt(b),b.getBoundingClientRect(),t,S.props)&&(E(),J())}function V(e){if(!W(e))return S.props.interactive?(document.body.addEventListener("mouseleave",J),document.addEventListener("mousemove",g),void tn.push(g)):void J()}function B(e){e.target===M()&&(S.props.interactive&&e.relatedTarget&&b.contains(e.relatedTarget)||J())}function $(e){Ve(e.target,S.props.target)&&X(e)}function H(e){Ve(e.target,S.props.target)&&J()}function W(e){var t="ontouchstart"in window,n=Tt(e.type,"touch"),r=S.props.touchHold;return t&&lt&&r&&!n||lt&&!r&&n}function q(){!m&&c&&(m=!0,qt(b),c())}function Z(){var t=S.props.popperOptions,n=S.popperChildren,r=n.tooltip,i=n.arrow,o=St(t,"preventOverflow");function s(e){S.props.flip&&!S.props.flipOnUpdate&&(e.flipped&&(S.popperInstance.options.placement=e.placement),Ct(S.popperInstance.modifiers,!1)),r.setAttribute(We,e.placement),!1!==e.attributes[qe]?r.setAttribute(qe,""):r.removeAttribute(qe),l&&l!==e.placement&&f&&(r.style.transition="none",requestAnimationFrame((function(){r.style.transition=""}))),l=e.placement,f=S.state.isVisible;var t=Wt(b),n=r.style;n.top=n.bottom=n.left=n.right="",n[t]=Qt(S.props.distance);var i=o&&void 0!==o.padding?o.padding:He,s="number"===typeof i,a=Oe({top:s?i:i.top,bottom:s?i:i.bottom,left:s?i:i.left,right:s?i:i.right},!s&&i);a[t]=s?i+S.props.distance:(i[t]||0)+S.props.distance,S.popperInstance.modifiers.filter((function(e){return"preventOverflow"===e.name}))[0].padding=a,h=a}var a=Oe({eventsEnabled:!1,placement:S.props.placement},t,{modifiers:Oe({},t?t.modifiers:{},{preventOverflow:Oe({boundariesElement:S.props.boundary,padding:He},o),arrow:Oe({element:i,enabled:!!i},St(t,"arrow")),flip:Oe({enabled:S.props.flip,padding:S.props.distance+He,behavior:S.props.flipBehavior},St(t,"flip")),offset:Oe({offset:S.props.offset},St(t,"offset"))}),onCreate:function(e){s(e),q(),t&&t.onCreate&&t.onCreate(e)},onUpdate:function(e){s(e),q(),t&&t.onUpdate&&t.onUpdate(e)}});S.popperInstance=new Ie(e,b,a)}function Y(){m=!1;var t=O();S.popperInstance?(Ct(S.popperInstance.modifiers,S.props.flip),t||(S.popperInstance.reference=e,S.popperInstance.enableEventListeners()),S.popperInstance.scheduleUpdate()):(Z(),t||S.popperInstance.enableEventListeners());var n=S.props.appendTo,r="parent"===n?e.parentNode:It(n,[e]);r.contains(b)||(r.appendChild(b),S.props.onMount(S),S.state.isMounted=!0)}function X(e,t){if(te(),!S.state.isVisible){if(S.props.target)return U(e);if(p=!0,e&&!t&&S.props.onTrigger(S,e),S.props.wait)return S.props.wait(S,e);O()&&!S.state.isMounted&&(S.popperInstance||Z(),document.addEventListener("mousemove",j)),A();var n=_t(S.props.delay,0,Fe.delay);n?i=setTimeout((function(){ie()}),n):ie()}}function J(){if(te(),!S.state.isVisible)return T(),void I();p=!1;var e=_t(S.props.delay,1,Fe.delay);e?o=setTimeout((function(){S.state.isVisible&&oe()}),e):s=requestAnimationFrame((function(){oe()}))}function K(e){if(!S.props.interactive||!b.contains(e.target)){if(M().contains(e.target)){if(lt)return;if(S.state.isVisible&&Tt(S.props.trigger,"click"))return}!0===S.props.hideOnClick&&(te(),oe())}}function Q(){S.state.isEnabled=!0}function ee(){S.state.isEnabled=!1}function te(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(s)}function ne(t){t=t||{},Pt(t,Fe),F();var n=S.props,i=Nt(e,Oe({},S.props,{},t,{ignoreAttributes:!0}));i.ignoreAttributes=bt(t,"ignoreAttributes")?t.ignoreAttributes||!1:n.ignoreAttributes,S.props=i,D(),E(),g=xt(G,i.interactiveDebounce),Xt(b,n,i),S.popperChildren=jt(b),S.popperInstance&&(je.some((function(e){return bt(t,e)&&t[e]!==n[e]}))?(S.popperInstance.destroy(),Z(),S.state.isVisible&&S.popperInstance.enableEventListeners(),S.props.followCursor&&r&&j(r)):S.popperInstance.update())}function re(e){ne({content:e})}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t(S.props.duration,0,Fe.duration[1]);if(!S.state.isDestroyed&&S.state.isEnabled&&(!lt||S.props.touch)&&!M().hasAttribute("disabled")&&!1!==S.props.onShow(S)){A(),b.style.visibility="visible",S.state.isVisible=!0,S.props.interactive&&M().classList.add(Ye);var t=C();Rt(t.concat(b),0),c=function(){if(S.state.isVisible){var n=O();n&&r?j(r):n||S.popperInstance.update(),S.popperChildren.backdrop&&(S.popperChildren.content.style.transitionDelay=Math.round(e/12)+"ms"),S.props.sticky&&k(),Rt([b],S.props.updateDuration),Rt(t,e),Lt(t,"visible"),L(e,(function(){S.props.aria&&M().setAttribute("aria-".concat(S.props.aria),b.id),S.props.onShown(S),S.state.isShown=!0}))}},Y()}}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t(S.props.duration,1,Fe.duration[1]);if(!S.state.isDestroyed&&(S.state.isEnabled||d)&&(!1!==S.props.onHide(S)||d)){I(),b.style.visibility="hidden",S.state.isVisible=!1,S.state.isShown=!1,f=!1,S.props.interactive&&M().classList.remove(Ye);var t=C();Rt(t,e),Lt(t,"hidden"),R(e,(function(){p||T(),S.props.aria&&M().removeAttribute("aria-".concat(S.props.aria)),S.popperInstance.disableEventListeners(),S.popperInstance.options.placement=S.props.placement,b.parentNode.removeChild(b),S.props.onHidden(S),S.state.isMounted=!1}))}}function se(t){if(!S.state.isDestroyed){d=!0,S.state.isMounted&&oe(0),F(),delete e._tippy;var n=S.props.target;n&&t&&Et(e)&&Ge(e.querySelectorAll(n)).forEach((function(e){e._tippy&&e._tippy.destroy()})),S.popperInstance&&S.popperInstance.destroy(),d=!1,S.state.isDestroyed=!0}}}function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,r=void 0===n?e[0].props.delay:n,i=t.duration,o=void 0===i?0:i,s=!1;function a(e){s=e,h()}function l(t){t._originalProps.onShow(t),e.forEach((function(e){e.set({duration:o}),e.state.isVisible&&e.hide()})),a(!0)}function c(e){e._originalProps.onHide(e),a(!1)}function u(e){e._originalProps.onShown(e),e.set({duration:e._originalProps.duration})}function h(){e.forEach((function(e){e.set({onShow:l,onShown:u,onHide:c,delay:s?[0,Array.isArray(r)?r[1]:r]:r,duration:s?o:e._originalProps.duration})}))}e.forEach((function(e){e._originalProps?e.set(e._originalProps):e._originalProps=Oe({},e.props)})),h()}var on=!1;function sn(e,t){Pt(t||{},Fe),on||(dt(),on=!0);var n=Oe({},Fe,{},t);gt(e)&&yt(e);var r=wt(e).reduce((function(e,t){var r=t&&nn(t,n);return r&&e.push(r),e}),[]);return Mt(e)?r[0]:r}function an(){Ge(document.querySelectorAll("[data-tippy]")).forEach((function(e){var t=e.getAttribute("data-tippy");t&&sn(e,{content:t})}))}function ln(e){if(Re){var t=document.createElement("style");t.type="text/css",t.textContent=e,t.setAttribute("data-tippy-stylesheet","");var n=document.head,r=n.querySelector("style,link");r?n.insertBefore(t,r):n.appendChild(t)}}sn.version=ke,sn.defaults=Fe,sn.setDefaults=function(e){Object.keys(e).forEach((function(t){Fe[t]=e[t]}))},sn.hideAll=Jt,sn.group=rn,Re&&setTimeout(an),ln(Ce);var cn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function un(e,t){return t={exports:{}},e(t,t.exports),t.exports}var hn=un((function(e){(function(t){var n=function(e,t,r){if(!c(t)||h(t)||p(t)||d(t)||l(t))return t;var i,o=0,s=0;if(u(t))for(i=[],s=t.length;o<s;o++)i.push(n(e,t[o],r));else for(var a in i={},t)Object.prototype.hasOwnProperty.call(t,a)&&(i[e(a,r)]=n(e,t[a],r));return i},r=function(e,t){t=t||{};var n=t.separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)},i=function(e){return f(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""})),e.substr(0,1).toLowerCase()+e.substr(1))},o=function(e){var t=i(e);return t.substr(0,1).toUpperCase()+t.substr(1)},s=function(e,t){return r(e,t).toLowerCase()},a=Object.prototype.toString,l=function(e){return"function"===typeof e},c=function(e){return e===Object(e)},u=function(e){return"[object Array]"==a.call(e)},h=function(e){return"[object Date]"==a.call(e)},p=function(e){return"[object RegExp]"==a.call(e)},d=function(e){return"[object Boolean]"==a.call(e)},f=function(e){return e-=0,e===e},m=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!==typeof n?e:function(t,r){return n(t,e,r)}},y={camelize:i,decamelize:s,pascalize:o,depascalize:s,camelizeKeys:function(e,t){return n(m(i,t),e)},decamelizeKeys:function(e,t){return n(m(s,t),e,t)},pascalizeKeys:function(e,t){return n(m(o,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=y:t.humps=y})(cn)}));function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mn={a11y:!0,allowHTML:!0,animateFill:!0,arrow:!1,flip:!0,flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,lazy:!0,multiple:!1,showOnInit:!1,sticky:!1,touch:!0,touchHold:!1},yn=fn({animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flipBehavior:"flip",interactiveBorder:2,interactiveDebounce:0,maxWidth:350,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},placement:"top",popperOptions:{},role:"tooltip",size:"regular",target:"",theme:"dark",trigger:"mouseenter focus",updateDuration:0,wait:null,zIndex:9999},mn),gn={props:{to:void 0,toSelector:void 0,toElement:void 0,content:void 0,enabled:void 0,visible:void 0,triggerTarget:void 0,tag:{type:String,default:"div"},triggerTag:String,contentTag:String},data:function(){return{tip:null,options:{}}},mounted:function(){this.init()},watch:{content:function(){this.tip&&this.tip.set(this.getOptions())},enabled:function(e){this.tip&&(e?this.tip.enable():(this.tip.hide(),this.tip.disable()))},visible:function(e){this.tip&&(e?this.tip.show():this.tip.hide())}},updated:function(){this.tip&&!this.content&&this.tip.set(this.getOptions())},beforeDestroy:function(){this.tip&&this.tip.destroy()},computed:{isManualTrigger:function(){return"manual"===this.options.trigger}},methods:{init:function(){if(this.tip){try{this.tip.destroy()}catch(n){}this.tip=null}var e=this.toElement;if(null==e&&(e=this.to?document.querySelector("[name='".concat(this.to,"']")):this.toSelector?document.querySelector(this.toSelector):this.$refs.trigger&&this.$refs.trigger.childElementCount>0?this.$refs.trigger:this.$el.parentElement),e){var t=sn(e,this.getOptions());if(t){if(Array.isArray(t)){if(!(t.length>0))return;this.tip=t[0]}this.tip=t,this.$emit("onCreate",this.tip),this.$emit("init",this.tip),!1===this.enabled&&this.tip.disable(),this.isManualTrigger&&!0===this.visible&&this.tip.show()}}},tippy:function(){return this.tip},filterOptions:function(){for(var e=function(e,t){if(mn.hasOwnProperty(e)){if(""===t)return!0;if("false"===t)return!1;if("true"===t)return!0}return t},t=0,n=Object.keys(this.options);t<n.length;t++){var r=n[t];yn.hasOwnProperty(r)?this.options[r]=e(r,this.options[r]):delete this.options[r]}return this.options},getOptions:function(){var e=this;return this.options.content=this.content?this.content:this.$refs.content,Object.assign(this.options,hn.camelizeKeys(this.$attrs)),this.filterOptions(),!this.options.onShow&&this.$listeners&&this.$listeners["show"]&&(this.options.onShow=function(){var t;return(t=e.$listeners["show"]).fns.apply(t,arguments)}),!this.options.onShow&&this.$listeners&&this.$listeners["shown"]&&(this.options.onShown=function(){var t;return(t=e.$listeners["shown"]).fns.apply(t,arguments)}),!this.options.onHidden&&this.$listeners&&this.$listeners["hidden"]&&(this.options.onHidden=function(){var t;return(t=e.$listeners["hidden"]).fns.apply(t,arguments)}),!this.options.onHide&&this.$listeners&&this.$listeners["hide"]&&(this.options.onHide=function(){var t;return(t=e.$listeners["hide"]).fns.apply(t,arguments)}),!this.options.onMount&&this.$listeners&&this.$listeners["mount"]&&(this.options.onMount=function(){var t;return(t=e.$listeners["mount"]).fns.apply(t,arguments)}),this.options.triggerTarget=this.triggerTarget,this.options}}};function vn(e,t,n,r,i,o,s,a,l,c){"boolean"!==typeof s&&(l=a,a=s,s=!1);var u,h="function"===typeof n?n.options:n;if(e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),r&&(h._scopeId=r),o?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=u):t&&(u=s?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),u)if(h.functional){var p=h.render;h.render=function(e,t){return u.call(t),p(e,t)}}else{var d=h.beforeCreate;h.beforeCreate=d?[].concat(d,u):[u]}return n}var bn=vn,wn=gn,_n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tag,{tag:"component",attrs:{"data-tippy-component":""}},[n(e.triggerTag||e.tag,{ref:"trigger",tag:"component",attrs:{"data-tippy-component-trigger":""}},[e._t("trigger")],2),e._v(" "),n(e.contentTag||e.tag,{ref:"content",tag:"component"},[e._t("default")],2)],1)},xn=[];_n._withStripped=!0;var Sn=void 0,Tn=void 0,En=void 0,Mn=!1,An=bn({render:_n,staticRenderFns:xn},Sn,wn,Tn,Mn,En,void 0,void 0),In="tippy",Cn={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(n,i,o){var s=o.data&&o.data.on||o.componentOptions&&o.componentOptions.listeners;n.setAttribute("data-tippy-directive","");var a=r(i),l=Object.keys(i.modifiers||{}),c=l.find((function(e){return"arrow"!==e})),u=-1!==l.findIndex((function(e){return"arrow"===e}));a=Object.assign({},t,a),c&&(a.placement=a.placement||c),u&&(a.arrow=void 0===a.arrow||a.arrow),s&&s["show"]&&(a.onShow=function(){var e;return(e=s["show"]).fns.apply(e,arguments)}),s&&s["shown"]&&(a.onShown=function(){var e;(e=s["shown"]).fns.apply(e,arguments)}),s&&s["hidden"]&&(a.onHidden=function(){var e;(e=s["hidden"]).fns.apply(e,arguments)}),s&&s["hide"]&&(a.onHide=function(){var e;return(e=s["hide"]).fns.apply(e,arguments)}),s&&s["mount"]&&(a.onMount=function(){var e;(e=s["mount"]).fns.apply(e,arguments)}),n.getAttribute("title")&&!a.content&&(a.content=n.getAttribute("title"),n.removeAttribute("title")),n.getAttribute("content")&&!a.content&&(a.content=n.getAttribute("content")),sn(n,a),a.showOnLoad&&n._tippy.show(),e.nextTick((function(){s&&s["init"]&&s["init"].fns(n._tippy,n)}))}function r(e){return"string"===typeof e.value?{content:e.value}:e.value||{}}In=t.directive||"tippy",sn.setDefaults(t||{}),e.directive(In,{inserted:function(t,r,i){e.nextTick((function(){n(t,r,i)}))},unbind:function(e){e._tippy&&e._tippy.destroy()},componentUpdated:function(e,t,n){if(e._tippy){var i=r(t);e.getAttribute("title")&&!i.content&&(i.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!i.content&&(i.content=e.getAttribute("content")),e._tippy.set(i)}}})}};"undefined"!==typeof window&&window.Vue&&(window.Vue.use(Cn),window.Vue.component("tippy",An)),t.Ay=Cn},82064:function(e,t,n){"use strict";n.d(t,{II:function(){return i}});var r,i,o,s=n(85471);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function a(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,a)}l((r=r.apply(e,t||[])).next())}))}(function(e){e["SUCCESS"]="success",e["ERROR"]="error",e["WARNING"]="warning",e["INFO"]="info",e["DEFAULT"]="default"})(r||(r={})),function(e){e["TOP_LEFT"]="top-left",e["TOP_CENTER"]="top-center",e["TOP_RIGHT"]="top-right",e["BOTTOM_LEFT"]="bottom-left",e["BOTTOM_CENTER"]="bottom-center",e["BOTTOM_RIGHT"]="bottom-right"}(i||(i={})),function(e){e["ADD"]="add",e["DISMISS"]="dismiss",e["UPDATE"]="update",e["CLEAR"]="clear",e["UPDATE_DEFAULTS"]="update_defaults"}(o||(o={}));const l="Vue-Toastification",c={type:{type:String,default:r.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},u={type:c.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},h={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:c.classNames,showOnHover:Boolean,ariaLabel:{type:String,default:"close"}},p={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:Boolean,isRunning:Boolean},d={transition:{type:[Object,String],default:`${l}__bounce`},transitionDuration:{type:[Number,Object],default:750}},f={position:{type:String,default:i.TOP_RIGHT},draggable:c.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:c.trueBoolean,pauseOnHover:c.trueBoolean,closeOnClick:c.trueBoolean,timeout:p.timeout,hideProgressBar:p.hideProgressBar,toastClassName:c.classNames,bodyClassName:c.classNames,icon:u.customIcon,closeButton:h.component,closeButtonClassName:h.classNames,showCloseButtonOnHover:h.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:Boolean,eventBus:Object},m={id:{type:[String,Number],required:!0},type:c.type,content:{type:[String,Object,Function],required:!0},onClick:Function,onClose:Function},y={container:{type:void 0,default:()=>document.body},newestOnTop:c.trueBoolean,maxToasts:{type:Number,default:20},transition:d.transition,transitionDuration:d.transitionDuration,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:c.classNames,onMounted:Function};var g={CORE_TOAST:f,TOAST:m,CONTAINER:y,PROGRESS_BAR:p,ICON:u,TRANSITION:d,CLOSE_BUTTON:h};const v=e=>"function"===typeof e,b=e=>"string"===typeof e,w=e=>b(e)&&e.trim().length>0,_=e=>"number"===typeof e,x=e=>"undefined"===typeof e,S=e=>"object"===typeof e&&null!==e,T=e=>R(e,"tag")&&w(e.tag),E=e=>window.TouchEvent&&e instanceof TouchEvent,M=e=>R(e,"component")&&O(e.component),A=e=>v(e)&&R(e,"cid"),I=e=>!!A(e)||!!S(e)&&(!(!e.extends&&!e._Ctor)||(!!b(e.template)||L(e))),C=e=>e instanceof s["default"]||I(e),O=e=>!x(e)&&(b(e)||C(e)||L(e)||T(e)||M(e)),k=e=>S(e)&&_(e.height)&&_(e.width)&&_(e.right)&&_(e.left)&&_(e.top)&&_(e.bottom),R=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),L=e=>R(e,"render")&&v(e.render),N=(e=>()=>e++)(0);function P(e){return E(e)?e.targetTouches[0].clientX:e.clientX}function D(e){return E(e)?e.targetTouches[0].clientY:e.clientY}const F=e=>{x(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},j=e=>M(e)?j(e.component):T(e)?{render(){return e}}:e;var U=s["default"].extend({props:g.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${l}__progress-bar`:""}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeDestroy(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}},watch:{timeout(){this.hasClass=!1,this.$nextTick((()=>this.hasClass=!0))}}});function z(e,t,n,r,i,o,s,a,l,c){"boolean"!==typeof s&&(l=a,a=s,s=!1);const u="function"===typeof n?n.options:n;let h;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r),o?(h=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=h):t&&(h=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),h)if(u.functional){const e=u.render;u.render=function(t,n){return h.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,h):[h]}return n}const G=U;var V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.cpClass,style:e.style})},B=[];V._withStripped=!0;const $=void 0,H=void 0,W=void 0,q=!1,Z=z({render:V,staticRenderFns:B},$,G,H,q,W,!1,void 0,void 0,void 0);var Y=s["default"].extend({props:g.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?j(this.component):"button"},classes(){const e=[`${l}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}});const X=Y;var J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.buttonComponent,e._g({tag:"component",class:e.classes,attrs:{"aria-label":e.ariaLabel}},e.$listeners),[e._v("\n  ×\n")])},K=[];J._withStripped=!0;const Q=void 0,ee=void 0,te=void 0,ne=!1,re=z({render:J,staticRenderFns:K},Q,X,ee,ne,te,!1,void 0,void 0,void 0);var ie={};const oe=ie;var se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"svg-inline--fa fa-check-circle fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}})])},ae=[];se._withStripped=!0;const le=void 0,ce=void 0,ue=void 0,he=!1,pe=z({render:se,staticRenderFns:ae},le,oe,ce,he,ue,!1,void 0,void 0,void 0);var de={};const fe=de;var me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"svg-inline--fa fa-info-circle fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}})])},ye=[];me._withStripped=!0;const ge=void 0,ve=void 0,be=void 0,we=!1,_e=z({render:me,staticRenderFns:ye},ge,fe,ve,we,be,!1,void 0,void 0,void 0);var xe={};const Se=xe;var Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"svg-inline--fa fa-exclamation-circle fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}})])},Ee=[];Te._withStripped=!0;const Me=void 0,Ae=void 0,Ie=void 0,Ce=!1,Oe=z({render:Te,staticRenderFns:Ee},Me,Se,Ae,Ce,Ie,!1,void 0,void 0,void 0);var ke={};const Re=ke;var Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"svg-inline--fa fa-exclamation-triangle fa-w-18",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[n("path",{attrs:{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}})])},Ne=[];Le._withStripped=!0;const Pe=void 0,De=void 0,Fe=void 0,je=!1,Ue=z({render:Le,staticRenderFns:Ne},Pe,Re,De,je,Fe,!1,void 0,void 0,void 0);var ze=s["default"].extend({props:g.ICON,computed:{customIconChildren(){return R(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return b(this.customIcon)?this.trimValue(this.customIcon):R(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return R(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:O(this.customIcon)?j(this.customIcon):this.iconTypeComponent},iconTypeComponent(){const e={[r.DEFAULT]:_e,[r.INFO]:_e,[r.SUCCESS]:pe,[r.ERROR]:Ue,[r.WARNING]:Oe};return e[this.type]},iconClasses(){const e=[`${l}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return w(e)?e.trim():t}}});const Ge=ze;var Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.component,{tag:"component",class:e.iconClasses},[e._v(e._s(e.customIconChildren))])},Be=[];Ve._withStripped=!0;const $e=void 0,He=void 0,We=void 0,qe=!1,Ze=z({render:Ve,staticRenderFns:Be},$e,Ge,He,qe,We,!1,void 0,void 0,void 0);var Ye=s["default"].extend({components:{ProgressBar:Z,CloseButton:re,Icon:Ze},inheritAttrs:!1,props:Object.assign({},g.CORE_TOAST,g.TOAST),data(){const e={isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}};return e},computed:{classes(){const e=[`${l}__toast`,`${l}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${l}__toast--rtl`),e},bodyClasses(){const e=[`${l}__toast-${b(this.content)?"body":"component-body"}`].concat(this.bodyClassName);return e},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return k(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeDestroy(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},destroyed(){setTimeout((()=>{F(this.$el)}),1e3)},methods:{getVueComponentFromObj:j,closeToast(){this.eventBus.$emit(o.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:P(e),y:D(e)},this.dragStart=P(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:P(e),y:D(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick((()=>this.closeToast()))):setTimeout((()=>{this.beingDragged=!1,k(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0})))}}});const Xe=Ye;var Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,style:e.draggableStyle,on:{click:e.clickHandler,mouseenter:e.hoverPause,mouseleave:e.hoverPlay}},[e.icon?n("Icon",{attrs:{"custom-icon":e.icon,type:e.type}}):e._e(),e._v(" "),n("div",{class:e.bodyClasses,attrs:{role:e.accessibility.toastRole||"alert"}},["string"===typeof e.content?[e._v(e._s(e.content))]:n(e.getVueComponentFromObj(e.content),e._g(e._b({tag:"component",attrs:{"toast-id":e.id},on:{"close-toast":e.closeToast}},"component",e.content.props,!1),e.content.listeners))],2),e._v(" "),e.closeButton?n("CloseButton",{attrs:{component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel},on:{click:function(t){return t.stopPropagation(),e.closeToast(t)}}}):e._e(),e._v(" "),e.timeout?n("ProgressBar",{attrs:{"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout},on:{"close-toast":e.timeoutHandler}}):e._e()],1)},Ke=[];Je._withStripped=!0;const Qe=void 0,et=void 0,tt=void 0,nt=!1,rt=z({render:Je,staticRenderFns:Ke},Qe,Xe,et,nt,tt,!1,void 0,void 0,void 0);var it=s["default"].extend({inheritAttrs:!1,props:g.TRANSITION,methods:{beforeEnter(e){const t="number"===typeof this.transitionDuration?this.transitionDuration:this.transitionDuration.enter;e.style.animationDuration=`${t}ms`,e.style.animationFillMode="both",this.$emit("before-enter",e)},afterEnter(e){this.cleanUpStyles(e),this.$emit("after-enter",e)},afterLeave(e){this.cleanUpStyles(e),this.$emit("after-leave",e)},beforeLeave(e){const t="number"===typeof this.transitionDuration?this.transitionDuration:this.transitionDuration.leave;e.style.animationDuration=`${t}ms`,e.style.animationFillMode="both",this.$emit("before-leave",e)},leave(e,t){this.setAbsolutePosition(e),this.$emit("leave",e,t)},setAbsolutePosition(e){e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.height=getComputedStyle(e).height,e.style.position="absolute"},cleanUpStyles(e){e.style.animationFillMode="",e.style.animationDuration=""}}});const ot=it;var st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{attrs:{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:e.transition+"-enter-active","move-class":e.transition.move?e.transition.move:e.transition+"-move","leave-active-class":e.transition.leave?e.transition.leave:e.transition+"-leave-active"},on:{leave:e.leave,"before-enter":e.beforeEnter,"before-leave":e.beforeLeave,"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[e._t("default")],2)},at=[];st._withStripped=!0;const lt=void 0,ct=void 0,ut=void 0,ht=!1,pt=z({render:st,staticRenderFns:at},lt,ot,ct,ht,ut,!1,void 0,void 0,void 0);var dt=s["default"].extend({components:{Toast:rt,VtTransition:pt},props:Object.assign({},g.CORE_TOAST,g.CONTAINER,g.TRANSITION),data(){const e={count:0,positions:Object.values(i),toasts:{},defaults:{}};return e},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){this.setup(this.container);const e=this.eventBus;e.$on(o.ADD,this.addToast),e.$on(o.CLEAR,this.clearToasts),e.$on(o.DISMISS,this.dismissToast),e.$on(o.UPDATE,this.updateToast),e.$on(o.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},methods:{setup(e){return a(this,void 0,void 0,(function*(){v(e)&&(e=yield e()),F(this.$el),e.appendChild(this.$el)}))},setToast(e){x(e.id)||this.$set(this.toasts,e.id,e)},addToast(e){const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];x(t)||x(t.onClose)||t.onClose(),this.$delete(this.toasts,e)},clearToasts(){Object.keys(this.toasts).forEach((e=>{this.dismissToast(e)}))},getPositionToasts(e){const t=this.filteredToasts.filter((t=>t.position===e)).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){x(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){const t=[`${l}__container`,e];return t.concat(this.defaults.containerClassName)}}});const ft=dt;var mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.positions,(function(t){return n("div",{key:t},[n("VtTransition",{class:e.getClasses(t),attrs:{transition:e.defaults.transition,"transition-duration":e.defaults.transitionDuration}},e._l(e.getPositionToasts(t),(function(t){return n("Toast",e._b({key:t.id},"Toast",t,!1))})),1)],1)})),0)},yt=[];mt._withStripped=!0;const gt=void 0,vt=void 0,bt=void 0,wt=!1,_t=z({render:mt,staticRenderFns:yt},gt,ft,vt,wt,bt,!1,void 0,void 0,void 0),xt=(e,t={},n=!0)=>{const i=t.eventBus=t.eventBus||new e;if(n){const n=new(e.extend(_t))({el:document.createElement("div"),propsData:t}),r=t.onMounted;x(r)||r(n)}const s=(e,t)=>{const n=Object.assign({},{id:N(),type:r.DEFAULT},t,{content:e});return i.$emit(o.ADD,n),n.id};function a(e,{content:t,options:n},r=!1){i.$emit(o.UPDATE,{id:e,options:Object.assign({},n,{content:t}),create:r})}return s.clear=()=>i.$emit(o.CLEAR),s.updateDefaults=e=>{i.$emit(o.UPDATE_DEFAULTS,e)},s.dismiss=e=>{i.$emit(o.DISMISS,e)},s.update=a,s.success=(e,t)=>s(e,Object.assign({},t,{type:r.SUCCESS})),s.info=(e,t)=>s(e,Object.assign({},t,{type:r.INFO})),s.error=(e,t)=>s(e,Object.assign({},t,{type:r.ERROR})),s.warning=(e,t)=>s(e,Object.assign({},t,{type:r.WARNING})),s};function St(e,t=s["default"]){const n=e=>e instanceof t;return n(e)?xt(t,{eventBus:e},!1):xt(t,e,!0)}const Tt=(e,t)=>{const n=St(t,e);e.$toast=n,e.prototype.$toast=n};t.Ay=Tt},85471:function(e,t,n){"use strict";n.r(t),n.d(t,{EffectScope:function(){return It},computed:function(){return yt},customRef:function(){return at},default:function(){return ro},defineAsyncComponent:function(){return tr},defineComponent:function(){return vr},del:function(){return Ge},effectScope:function(){return Ct},getCurrentInstance:function(){return ye},getCurrentScope:function(){return kt},h:function(){return jn},inject:function(){return Pt},isProxy:function(){return Ye},isReactive:function(){return We},isReadonly:function(){return Ze},isRef:function(){return Qe},isShallow:function(){return qe},markRaw:function(){return Je},mergeDefaults:function(){return Tn},nextTick:function(){return Kn},onActivated:function(){return ur},onBeforeMount:function(){return ir},onBeforeUnmount:function(){return lr},onBeforeUpdate:function(){return sr},onDeactivated:function(){return hr},onErrorCaptured:function(){return yr},onMounted:function(){return or},onRenderTracked:function(){return dr},onRenderTriggered:function(){return fr},onScopeDispose:function(){return Rt},onServerPrefetch:function(){return pr},onUnmounted:function(){return cr},onUpdated:function(){return ar},provide:function(){return Lt},proxyRefs:function(){return ot},reactive:function(){return Be},readonly:function(){return pt},ref:function(){return et},set:function(){return ze},shallowReactive:function(){return $e},shallowReadonly:function(){return mt},shallowRef:function(){return tt},toRaw:function(){return Xe},toRef:function(){return ct},toRefs:function(){return lt},triggerRef:function(){return rt},unref:function(){return it},useAttrs:function(){return _n},useCssModule:function(){return Qn},useCssVars:function(){return er},useListeners:function(){return xn},useSlots:function(){return wn},version:function(){return gr},watch:function(){return Mt},watchEffect:function(){return _t},watchPostEffect:function(){return xt},watchSyncEffect:function(){return St}});
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),i=Array.isArray;function o(e){return void 0===e||null===e}function s(e){return void 0!==e&&null!==e}function a(e){return!0===e}function l(e){return!1===e}function c(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function u(e){return"function"===typeof e}function h(e){return null!==e&&"object"===typeof e}var p=Object.prototype.toString;function d(e){return"[object Object]"===p.call(e)}function f(e){return"[object RegExp]"===p.call(e)}function m(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function y(e){return s(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function g(e){return null==e?"":Array.isArray(e)||d(e)&&e.toString===p?JSON.stringify(e,null,2):String(e)}function v(e){var t=parseFloat(e);return isNaN(t)?e:t}function b(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}b("slot,component",!0);var w=b("key,ref,slot,slot-scope,is");function _(e,t){var n=e.length;if(n){if(t===e[n-1])return void(e.length=n-1);var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var x=Object.prototype.hasOwnProperty;function S(e,t){return x.call(e,t)}function T(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var E=/-(\w)/g,M=T((function(e){return e.replace(E,(function(e,t){return t?t.toUpperCase():""}))})),A=T((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),I=/\B([A-Z])/g,C=T((function(e){return e.replace(I,"-$1").toLowerCase()}));function O(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function k(e,t){return e.bind(t)}var R=Function.prototype.bind?k:O;function L(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function N(e,t){for(var n in t)e[n]=t[n];return e}function P(e){for(var t={},n=0;n<e.length;n++)e[n]&&N(t,e[n]);return t}function D(e,t,n){}var F=function(e,t,n){return!1},j=function(e){return e};function U(e,t){if(e===t)return!0;var n=h(e),r=h(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return U(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return U(e[n],t[n])}))}catch(l){return!1}}function z(e,t){for(var n=0;n<e.length;n++)if(U(e[n],t))return n;return-1}function G(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function V(e,t){return e===t?0===e&&1/e!==1/t:e===e||t===t}var B="data-server-rendered",$=["component","directive","filter"],H=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],W={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:F,isReservedAttr:F,isUnknownElement:F,getTagNamespace:D,parsePlatformTagName:j,mustUseProp:F,async:!0,_lifecycleHooks:H},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Z(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function Y(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var X=new RegExp("[^".concat(q.source,".$_\\d]"));function J(e){if(!X.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var K="__proto__"in{},Q="undefined"!==typeof window,ee=Q&&window.navigator.userAgent.toLowerCase(),te=ee&&/msie|trident/.test(ee),ne=ee&&ee.indexOf("msie 9.0")>0,re=ee&&ee.indexOf("edge/")>0;ee&&ee.indexOf("android");var ie=ee&&/iphone|ipad|ipod|ios/.test(ee);ee&&/chrome\/\d+/.test(ee),ee&&/phantomjs/.test(ee);var oe,se=ee&&ee.match(/firefox\/(\d+)/),ae={}.watch,le=!1;if(Q)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){le=!0}}),window.addEventListener("test-passive",null,ce)}catch(il){}var ue=function(){return void 0===oe&&(oe=!Q&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),oe},he=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function pe(e){return"function"===typeof e&&/native code/.test(e.toString())}var de,fe="undefined"!==typeof Symbol&&pe(Symbol)&&"undefined"!==typeof Reflect&&pe(Reflect.ownKeys);de="undefined"!==typeof Set&&pe(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var me=null;function ye(){return me&&{proxy:me}}function ge(e){void 0===e&&(e=null),e||me&&me._scope.off(),me=e,e&&e._scope.on()}var ve=function(){function e(e,t,n,r,i,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),be=function(e){void 0===e&&(e="");var t=new ve;return t.text=e,t.isComment=!0,t};function we(e){return new ve(void 0,void 0,void 0,String(e))}function _e(e){var t=new ve(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var xe=0,Se=[],Te=function(){for(var e=0;e<Se.length;e++){var t=Se[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}Se.length=0},Ee=function(){function e(){this._pending=!1,this.id=xe++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,Se.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){var t=this.subs.filter((function(e){return e}));for(var n=0,r=t.length;n<r;n++){var i=t[n];0,i.update()}},e}();Ee.target=null;var Me=[];function Ae(e){Me.push(e),Ee.target=e}function Ie(){Me.pop(),Ee.target=Me[Me.length-1]}var Ce=Array.prototype,Oe=Object.create(Ce),ke=["push","pop","shift","unshift","splice","sort","reverse"];ke.forEach((function(e){var t=Ce[e];Y(Oe,e,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Re=Object.getOwnPropertyNames(Oe),Le={},Ne=!0;function Pe(e){Ne=e}var De={notify:D,depend:D,addSub:D,removeSub:D},Fe=function(){function e(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.value=e,this.shallow=t,this.mock=n,this.dep=n?De:new Ee,this.vmCount=0,Y(e,"__ob__",this),i(e)){if(!n)if(K)e.__proto__=Oe;else for(var r=0,o=Re.length;r<o;r++){var s=Re[r];Y(e,s,Oe[s])}t||this.observeArray(e)}else{var a=Object.keys(e);for(r=0;r<a.length;r++){s=a[r];Ue(e,s,Le,void 0,t,n)}}}return e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)je(e[t],!1,this.mock)},e}();function je(e,t,n){return e&&S(e,"__ob__")&&e.__ob__ instanceof Fe?e.__ob__:!Ne||!n&&ue()||!i(e)&&!d(e)||!Object.isExtensible(e)||e.__v_skip||Qe(e)||e instanceof ve?void 0:new Fe(e,t,n)}function Ue(e,t,n,r,o,s){var a=new Ee,l=Object.getOwnPropertyDescriptor(e,t);if(!l||!1!==l.configurable){var c=l&&l.get,u=l&&l.set;c&&!u||n!==Le&&2!==arguments.length||(n=e[t]);var h=!o&&je(n,!1,s);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=c?c.call(e):n;return Ee.target&&(a.depend(),h&&(h.dep.depend(),i(t)&&Ve(t))),Qe(t)&&!o?t.value:t},set:function(t){var r=c?c.call(e):n;if(V(r,t)){if(u)u.call(e,t);else{if(c)return;if(!o&&Qe(r)&&!Qe(t))return void(r.value=t);n=t}h=!o&&je(t,!1,s),a.notify()}}}),a}}function ze(e,t,n){if(!Ze(e)){var r=e.__ob__;return i(e)&&m(t)?(e.length=Math.max(e.length,t),e.splice(t,1,n),r&&!r.shallow&&r.mock&&je(n,!1,!0),n):t in e&&!(t in Object.prototype)?(e[t]=n,n):e._isVue||r&&r.vmCount?n:r?(Ue(r.value,t,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(e[t]=n,n)}}function Ge(e,t){if(i(e)&&m(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||Ze(e)||S(e,t)&&(delete e[t],n&&n.dep.notify())}}function Ve(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),i(t)&&Ve(t)}function Be(e){return He(e,!1),e}function $e(e){return He(e,!0),Y(e,"__v_isShallow",!0),e}function He(e,t){if(!Ze(e)){je(e,t,ue());0}}function We(e){return Ze(e)?We(e["__v_raw"]):!(!e||!e.__ob__)}function qe(e){return!(!e||!e.__v_isShallow)}function Ze(e){return!(!e||!e.__v_isReadonly)}function Ye(e){return We(e)||Ze(e)}function Xe(e){var t=e&&e["__v_raw"];return t?Xe(t):e}function Je(e){return Object.isExtensible(e)&&Y(e,"__v_skip",!0),e}var Ke="__v_isRef";function Qe(e){return!(!e||!0!==e.__v_isRef)}function et(e){return nt(e,!1)}function tt(e){return nt(e,!0)}function nt(e,t){if(Qe(e))return e;var n={};return Y(n,Ke,!0),Y(n,"__v_isShallow",t),Y(n,"dep",Ue(n,"value",e,null,t,ue())),n}function rt(e){e.dep&&e.dep.notify()}function it(e){return Qe(e)?e.value:e}function ot(e){if(We(e))return e;for(var t={},n=Object.keys(e),r=0;r<n.length;r++)st(t,e,n[r]);return t}function st(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];if(Qe(e))return e.value;var r=e&&e.__ob__;return r&&r.dep.depend(),e},set:function(e){var r=t[n];Qe(r)&&!Qe(e)?r.value=e:t[n]=e}})}function at(e){var t=new Ee,n=e((function(){t.depend()}),(function(){t.notify()})),r=n.get,i=n.set,o={get value(){return r()},set value(e){i(e)}};return Y(o,Ke,!0),o}function lt(e){var t=i(e)?new Array(e.length):{};for(var n in e)t[n]=ct(e,n);return t}function ct(e,t,n){var r=e[t];if(Qe(r))return r;var i={get value(){var r=e[t];return void 0===r?n:r},set value(n){e[t]=n}};return Y(i,Ke,!0),i}var ut="__v_rawToReadonly",ht="__v_rawToShallowReadonly";function pt(e){return dt(e,!1)}function dt(e,t){if(!d(e))return e;if(Ze(e))return e;var n=t?ht:ut,r=e[n];if(r)return r;var i=Object.create(Object.getPrototypeOf(e));Y(e,n,i),Y(i,"__v_isReadonly",!0),Y(i,"__v_raw",e),Qe(e)&&Y(i,Ke,!0),(t||qe(e))&&Y(i,"__v_isShallow",!0);for(var o=Object.keys(e),s=0;s<o.length;s++)ft(i,e,o[s],t);return i}function ft(e,t,n,r){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];return r||!d(e)?e:pt(e)},set:function(){}})}function mt(e){return dt(e,!0)}function yt(e,t){var n,r,i=u(e);i?(n=e,r=D):(n=e.get,r=e.set);var o=ue()?null:new Tr(me,n,D,{lazy:!0});var s={effect:o,get value(){return o?(o.dirty&&o.evaluate(),Ee.target&&o.depend(),o.value):n()},set value(e){r(e)}};return Y(s,Ke,!0),Y(s,"__v_isReadonly",i),s}var gt="watcher",vt="".concat(gt," callback"),bt="".concat(gt," getter"),wt="".concat(gt," cleanup");function _t(e,t){return At(e,null,t)}function xt(e,t){return At(e,null,{flush:"post"})}function St(e,t){return At(e,null,{flush:"sync"})}var Tt,Et={};function Mt(e,t,n){return At(e,t,n)}function At(e,t,n){var o=void 0===n?r:n,s=o.immediate,a=o.deep,l=o.flush,c=void 0===l?"pre":l;o.onTrack,o.onTrigger;var h,p,d=me,f=function(e,t,n){return void 0===n&&(n=null),zn(e,null,n,d,t)},m=!1,y=!1;if(Qe(e)?(h=function(){return e.value},m=qe(e)):We(e)?(h=function(){return e.__ob__.dep.depend(),e},a=!0):i(e)?(y=!0,m=e.some((function(e){return We(e)||qe(e)})),h=function(){return e.map((function(e){return Qe(e)?e.value:We(e)?wr(e):u(e)?f(e,bt):void 0}))}):h=u(e)?t?function(){return f(e,bt)}:function(){if(!d||!d._isDestroyed)return p&&p(),f(e,gt,[v])}:D,t&&a){var g=h;h=function(){return wr(g())}}var v=function(e){p=b.onStop=function(){f(e,wt)}};if(ue())return v=D,t?s&&f(t,vt,[h(),y?[]:void 0,v]):h(),D;var b=new Tr(me,h,D,{lazy:!0});b.noRecurse=!t;var w=y?[]:Et;return b.run=function(){if(b.active)if(t){var e=b.get();(a||m||(y?e.some((function(e,t){return V(e,w[t])})):V(e,w)))&&(p&&p(),f(t,vt,[e,w===Et?void 0:w,v]),w=e)}else b.get()},"sync"===c?b.update=b.run:"post"===c?(b.post=!0,b.update=function(){return ni(b)}):b.update=function(){if(d&&d===me&&!d._isMounted){var e=d._preWatchers||(d._preWatchers=[]);e.indexOf(b)<0&&e.push(b)}else ni(b)},t?s?b.run():w=b.get():"post"===c&&d?d.$once("hook:mounted",(function(){return b.get()})):b.get(),function(){b.teardown()}}var It=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Tt,!e&&Tt&&(this.index=(Tt.scopes||(Tt.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=Tt;try{return Tt=this,e()}finally{Tt=t}}else 0},e.prototype.on=function(){Tt=this},e.prototype.off=function(){Tt=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Ct(e){return new It(e)}function Ot(e,t){void 0===t&&(t=Tt),t&&t.active&&t.effects.push(e)}function kt(){return Tt}function Rt(e){Tt&&Tt.cleanups.push(e)}function Lt(e,t){me&&(Nt(me)[e]=t)}function Nt(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}function Pt(e,t,n){void 0===n&&(n=!1);var r=me;if(r){var i=r.$parent&&r.$parent._provided;if(i&&e in i)return i[e];if(arguments.length>1)return n&&u(t)?t.call(r):t}else 0}var Dt=T((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function Ft(e,t){function n(){var e=n.fns;if(!i(e))return zn(e,null,arguments,t,"v-on handler");for(var r=e.slice(),o=0;o<r.length;o++)zn(r[o],null,arguments,t,"v-on handler")}return n.fns=e,n}function jt(e,t,n,r,i,s){var l,c,u,h;for(l in e)c=e[l],u=t[l],h=Dt(l),o(c)||(o(u)?(o(c.fns)&&(c=e[l]=Ft(c,s)),a(h.once)&&(c=e[l]=i(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,e[l]=u));for(l in t)o(e[l])&&(h=Dt(l),r(h.name,t[l],h.capture))}function Ut(e,t,n){var r;e instanceof ve&&(e=e.data.hook||(e.data.hook={}));var i=e[t];function l(){n.apply(this,arguments),_(r.fns,l)}o(i)?r=Ft([l]):s(i.fns)&&a(i.merged)?(r=i,r.fns.push(l)):r=Ft([i,l]),r.merged=!0,e[t]=r}function zt(e,t,n){var r=t.options.props;if(!o(r)){var i={},a=e.attrs,l=e.props;if(s(a)||s(l))for(var c in r){var u=C(c);Gt(i,l,c,u,!0)||Gt(i,a,c,u,!1)}return i}}function Gt(e,t,n,r,i){if(s(t)){if(S(t,n))return e[n]=t[n],i||delete t[n],!0;if(S(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function Vt(e){for(var t=0;t<e.length;t++)if(i(e[t]))return Array.prototype.concat.apply([],e);return e}function Bt(e){return c(e)?[we(e)]:i(e)?Ht(e):void 0}function $t(e){return s(e)&&s(e.text)&&l(e.isComment)}function Ht(e,t){var n,r,l,u,h=[];for(n=0;n<e.length;n++)r=e[n],o(r)||"boolean"===typeof r||(l=h.length-1,u=h[l],i(r)?r.length>0&&(r=Ht(r,"".concat(t||"","_").concat(n)),$t(r[0])&&$t(u)&&(h[l]=we(u.text+r[0].text),r.shift()),h.push.apply(h,r)):c(r)?$t(u)?h[l]=we(u.text+r):""!==r&&h.push(we(r)):$t(r)&&$t(u)?h[l]=we(u.text+r.text):(a(e._isVList)&&s(r.tag)&&o(r.key)&&s(t)&&(r.key="__vlist".concat(t,"_").concat(n,"__")),h.push(r)));return h}function Wt(e,t){var n,r,o,a,l=null;if(i(e)||"string"===typeof e)for(l=new Array(e.length),n=0,r=e.length;n<r;n++)l[n]=t(e[n],n);else if("number"===typeof e)for(l=new Array(e),n=0;n<e;n++)l[n]=t(n+1,n);else if(h(e))if(fe&&e[Symbol.iterator]){l=[];var c=e[Symbol.iterator](),u=c.next();while(!u.done)l.push(t(u.value,l.length)),u=c.next()}else for(o=Object.keys(e),l=new Array(o.length),n=0,r=o.length;n<r;n++)a=o[n],l[n]=t(e[a],a,n);return s(l)||(l=[]),l._isVList=!0,l}function qt(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=N(N({},r),n)),i=o(n)||(u(t)?t():t)):i=this.$slots[e]||(u(t)?t():t);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Zt(e){return Oi(this.$options,"filters",e,!0)||j}function Yt(e,t){return i(e)?-1===e.indexOf(t):e!==t}function Xt(e,t,n,r,i){var o=W.keyCodes[t]||n;return i&&r&&!W.keyCodes[t]?Yt(i,r):o?Yt(o,e):r?C(r)!==t:void 0===e}function Jt(e,t,n,r,o){if(n)if(h(n)){i(n)&&(n=P(n));var s=void 0,a=function(i){if("class"===i||"style"===i||w(i))s=e;else{var a=e.attrs&&e.attrs.type;s=r||W.mustUseProp(t,a,i)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=M(i),c=C(i);if(!(l in s)&&!(c in s)&&(s[i]=n[i],o)){var u=e.on||(e.on={});u["update:".concat(i)]=function(e){n[i]=e}}};for(var l in n)a(l)}else;return e}function Kt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),en(r,"__static__".concat(e),!1)),r}function Qt(e,t,n){return en(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function en(e,t,n){if(i(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&tn(e[r],"".concat(t,"_").concat(r),n);else tn(e,t,n)}function tn(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function nn(e,t){if(t)if(d(t)){var n=e.on=e.on?N({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function rn(e,t,n,r){t=t||{$stable:!n};for(var o=0;o<e.length;o++){var s=e[o];i(s)?rn(s,t,n):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return r&&(t.$key=r),t}function on(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function sn(e,t){return"string"===typeof e?t+e:e}function an(e){e._o=Qt,e._n=v,e._s=g,e._l=Wt,e._t=qt,e._q=U,e._i=z,e._m=Kt,e._f=Zt,e._k=Xt,e._b=Jt,e._v=we,e._e=be,e._u=rn,e._g=nn,e._d=on,e._p=sn}function ln(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,l=n[a]||(n[a]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(cn)&&delete n[c];return n}function cn(e){return e.isComment&&!e.asyncFactory||" "===e.text}function un(e){return e.isComment&&e.asyncFactory}function hn(e,t,n,i){var o,s=Object.keys(n).length>0,a=t?!!t.$stable:!s,l=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&i&&i!==r&&l===i.$key&&!s&&!i.$hasNormal)return i;for(var c in o={},t)t[c]&&"$"!==c[0]&&(o[c]=pn(e,n,c,t[c]))}else o={};for(var u in n)u in o||(o[u]=dn(n,u));return t&&Object.isExtensible(t)&&(t._normalized=o),Y(o,"$stable",a),Y(o,"$key",l),Y(o,"$hasNormal",s),o}function pn(e,t,n,r){var o=function(){var t=me;ge(e);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!i(n)?[n]:Bt(n);var o=n&&n[0];return ge(t),n&&(!o||1===n.length&&o.isComment&&!un(o))?void 0:n};return r.proxy&&Object.defineProperty(t,n,{get:o,enumerable:!0,configurable:!0}),o}function dn(e,t){return function(){return e[t]}}function fn(e){var t=e.$options,n=t.setup;if(n){var r=e._setupContext=mn(e);ge(e),Ae();var i=zn(n,null,[e._props||$e({}),r],e,"setup");if(Ie(),ge(),u(i))t.render=i;else if(h(i))if(e._setupState=i,i.__sfc){var o=e._setupProxy={};for(var s in i)"__sfc"!==s&&st(o,i,s)}else for(var s in i)Z(s)||st(e,i,s);else 0}}function mn(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};Y(t,"_v_attr_proxy",!0),yn(t,e.$attrs,r,e,"$attrs")}return e._attrsProxy},get listeners(){if(!e._listenersProxy){var t=e._listenersProxy={};yn(t,e.$listeners,r,e,"$listeners")}return e._listenersProxy},get slots(){return vn(e)},emit:R(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return st(e,t,n)}))}}}function yn(e,t,n,r,i){var o=!1;for(var s in t)s in e?t[s]!==n[s]&&(o=!0):(o=!0,gn(e,s,r,i));for(var s in e)s in t||(o=!0,delete e[s]);return o}function gn(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[r][t]}})}function vn(e){return e._slotsProxy||bn(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function bn(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}function wn(){return Sn().slots}function _n(){return Sn().attrs}function xn(){return Sn().listeners}function Sn(){var e=me;return e._setupContext||(e._setupContext=mn(e))}function Tn(e,t){var n=i(e)?e.reduce((function(e,t){return e[t]={},e}),{}):e;for(var r in t){var o=n[r];o?i(o)||u(o)?n[r]={type:o,default:t[r]}:o.default=t[r]:null===o&&(n[r]={default:t[r]})}return n}function En(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=ln(t._renderChildren,i),e.$scopedSlots=n?hn(e.$parent,n.data.scopedSlots,e.$slots):r,e._c=function(t,n,r,i){return Nn(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return Nn(e,t,n,r,i,!0)};var o=n&&n.data;Ue(e,"$attrs",o&&o.attrs||r,null,!0),Ue(e,"$listeners",t._parentListeners||r,null,!0)}var Mn=null;function An(e){an(e.prototype),e.prototype.$nextTick=function(e){return Kn(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,o=n._parentVnode;o&&t._isMounted&&(t.$scopedSlots=hn(t.$parent,o.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&bn(t._slotsProxy,t.$scopedSlots)),t.$vnode=o;try{ge(t),Mn=t,e=r.call(t._renderProxy,t.$createElement)}catch(il){Un(il,t,"render"),e=t._vnode}finally{Mn=null,ge()}return i(e)&&1===e.length&&(e=e[0]),e instanceof ve||(e=be()),e.parent=o,e}}function In(e,t){return(e.__esModule||fe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),h(e)?t.extend(e):e}function Cn(e,t,n,r,i){var o=be();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}function On(e,t){if(a(e.error)&&s(e.errorComp))return e.errorComp;if(s(e.resolved))return e.resolved;var n=Mn;if(n&&s(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),a(e.loading)&&s(e.loadingComp))return e.loadingComp;if(n&&!s(e.owners)){var r=e.owners=[n],i=!0,l=null,c=null;n.$on("hook:destroyed",(function(){return _(r,n)}));var u=function(e){for(var t=0,n=r.length;t<n;t++)r[t].$forceUpdate();e&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},p=G((function(n){e.resolved=In(n,t),i?r.length=0:u(!0)})),d=G((function(t){s(e.errorComp)&&(e.error=!0,u(!0))})),f=e(p,d);return h(f)&&(y(f)?o(e.resolved)&&f.then(p,d):y(f.component)&&(f.component.then(p,d),s(f.error)&&(e.errorComp=In(f.error,t)),s(f.loading)&&(e.loadingComp=In(f.loading,t),0===f.delay?e.loading=!0:l=setTimeout((function(){l=null,o(e.resolved)&&o(e.error)&&(e.loading=!0,u(!1))}),f.delay||200)),s(f.timeout)&&(c=setTimeout((function(){c=null,o(e.resolved)&&d(null)}),f.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}function kn(e){if(i(e))for(var t=0;t<e.length;t++){var n=e[t];if(s(n)&&(s(n.componentOptions)||un(n)))return n}}var Rn=1,Ln=2;function Nn(e,t,n,r,o,s){return(i(n)||c(n))&&(o=r,r=n,n=void 0),a(s)&&(o=Ln),Pn(e,t,n,r,o)}function Pn(e,t,n,r,o){if(s(n)&&s(n.__ob__))return be();if(s(n)&&s(n.is)&&(t=n.is),!t)return be();var a,l;if(i(r)&&u(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===Ln?r=Bt(r):o===Rn&&(r=Vt(r)),"string"===typeof t){var c=void 0;l=e.$vnode&&e.$vnode.ns||W.getTagNamespace(t),a=W.isReservedTag(t)?new ve(W.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!s(c=Oi(e.$options,"components",t))?new ve(t,n,r,void 0,void 0,e):di(c,n,e,r,t)}else a=di(t,n,e,r);return i(a)?a:s(a)?(s(l)&&Dn(a,l),s(n)&&Fn(n),a):be()}function Dn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),s(e.children))for(var r=0,i=e.children.length;r<i;r++){var l=e.children[r];s(l.tag)&&(o(l.ns)||a(n)&&"svg"!==l.tag)&&Dn(l,t,n)}}function Fn(e){h(e.style)&&wr(e.style),h(e.class)&&wr(e.class)}function jn(e,t,n){return Nn(me,e,t,n,2,!0)}function Un(e,t,n){Ae();try{if(t){var r=t;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,e,t,n);if(s)return}catch(il){Gn(il,r,"errorCaptured hook")}}}Gn(e,t,n)}finally{Ie()}}function zn(e,t,n,r,i){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&y(o)&&!o._handled&&(o.catch((function(e){return Un(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(il){Un(il,r,i)}return o}function Gn(e,t,n){if(W.errorHandler)try{return W.errorHandler.call(null,e,t,n)}catch(il){il!==e&&Vn(il,null,"config.errorHandler")}Vn(e,t,n)}function Vn(e,t,n){if(!Q||"undefined"===typeof console)throw e;console.error(e)}var Bn,$n=!1,Hn=[],Wn=!1;function qn(){Wn=!1;var e=Hn.slice(0);Hn.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&pe(Promise)){var Zn=Promise.resolve();Bn=function(){Zn.then(qn),ie&&setTimeout(D)},$n=!0}else if(te||"undefined"===typeof MutationObserver||!pe(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Bn="undefined"!==typeof setImmediate&&pe(setImmediate)?function(){setImmediate(qn)}:function(){setTimeout(qn,0)};else{var Yn=1,Xn=new MutationObserver(qn),Jn=document.createTextNode(String(Yn));Xn.observe(Jn,{characterData:!0}),Bn=function(){Yn=(Yn+1)%2,Jn.data=String(Yn)},$n=!0}function Kn(e,t){var n;if(Hn.push((function(){if(e)try{e.call(t)}catch(il){Un(il,t,"nextTick")}else n&&n(t)})),Wn||(Wn=!0,Bn()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}function Qn(e){if(void 0===e&&(e="$style"),!me)return r;var t=me[e];return t||r}function er(e){if(Q){var t=me;t&&xt((function(){var n=t.$el,r=e(t,t._setupProxy);if(n&&1===n.nodeType){var i=n.style;for(var o in r)i.setProperty("--".concat(o),r[o])}}))}}function tr(e){u(e)&&(e={loader:e});var t=e.loader,n=e.loadingComponent,r=e.errorComponent,i=e.delay,o=void 0===i?200:i,s=e.timeout,a=(e.suspensible,e.onError);var l=null,c=0,h=function(){return c++,l=null,p()},p=function(){var e;return l||(e=l=t().catch((function(e){if(e=e instanceof Error?e:new Error(String(e)),a)return new Promise((function(t,n){var r=function(){return t(h())},i=function(){return n(e)};a(e,r,i,c+1)}));throw e})).then((function(t){return e!==l&&l?l:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),t)})))};return function(){var e=p();return{component:e,delay:o,timeout:s,error:r,loading:n}}}function nr(e){return function(t,n){if(void 0===n&&(n=me),n)return rr(n,e,t)}}function rr(e,t,n){var r=e.$options;r[t]=xi(r[t],n)}var ir=nr("beforeMount"),or=nr("mounted"),sr=nr("beforeUpdate"),ar=nr("updated"),lr=nr("beforeDestroy"),cr=nr("destroyed"),ur=nr("activated"),hr=nr("deactivated"),pr=nr("serverPrefetch"),dr=nr("renderTracked"),fr=nr("renderTriggered"),mr=nr("errorCaptured");function yr(e,t){void 0===t&&(t=me),mr(e,t)}var gr="2.7.14";function vr(e){return e}var br=new de;function wr(e){return _r(e,br),br.clear(),e}function _r(e,t){var n,r,o=i(e);if(!(!o&&!h(e)||e.__v_skip||Object.isFrozen(e)||e instanceof ve)){if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(o){n=e.length;while(n--)_r(e[n],t)}else if(Qe(e))_r(e.value,t);else{r=Object.keys(e),n=r.length;while(n--)_r(e[r[n]],t)}}}var xr,Sr=0,Tr=function(){function e(e,t,n,r,i){Ot(this,Tt&&!Tt._vm?Tt:e?e._scope:void 0),(this.vm=e)&&i&&(e._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Sr,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new de,this.newDepIds=new de,this.expression="",u(t)?this.getter=t:(this.getter=J(t),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;Ae(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(il){if(!this.user)throw il;Un(il,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&wr(e),Ie(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ni(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||h(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');zn(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&_(this.vm._scope.effects,this),this.active){var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function Er(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Cr(e,t)}function Mr(e,t){xr.$on(e,t)}function Ar(e,t){xr.$off(e,t)}function Ir(e,t){var n=xr;return function r(){var i=t.apply(null,arguments);null!==i&&n.$off(e,r)}}function Cr(e,t,n){xr=e,jt(t,n||{},Mr,Ar,Ir,e),xr=void 0}function Or(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(i(e))for(var o=0,s=e.length;o<s;o++)r.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(i(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return n}var s,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;var l=a.length;while(l--)if(s=a[l],s===t||s.fn===t){a.splice(l,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?L(n):n;for(var r=L(arguments,1),i='event handler for "'.concat(e,'"'),o=0,s=n.length;o<s;o++)zn(n[o],t,r,t,i)}return t}}var kr=null;function Rr(e){var t=kr;return kr=e,function(){kr=t}}function Lr(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._provided=n?n._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Nr(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=Rr(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);var s=n;while(s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode)s.$parent.$el=s.$el,s=s.$parent},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){zr(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||_(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),zr(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Pr(e,t,n){var r;e.$el=t,e.$options.render||(e.$options.render=be),zr(e,"beforeMount"),r=function(){e._update(e._render(),n)};var i={before:function(){e._isMounted&&!e._isDestroyed&&zr(e,"beforeUpdate")}};new Tr(e,r,D,i,!0),n=!1;var o=e._preWatchers;if(o)for(var s=0;s<o.length;s++)o[s].run();return null==e.$vnode&&(e._isMounted=!0,zr(e,"mounted")),e}function Dr(e,t,n,i,o){var s=i.data.scopedSlots,a=e.$scopedSlots,l=!!(s&&!s.$stable||a!==r&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key||!s&&e.$scopedSlots.$key),c=!!(o||e.$options._renderChildren||l),u=e.$vnode;e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o;var h=i.data.attrs||r;e._attrsProxy&&yn(e._attrsProxy,h,u.data&&u.data.attrs||r,e,"$attrs")&&(c=!0),e.$attrs=h,n=n||r;var p=e.$options._parentListeners;if(e._listenersProxy&&yn(e._listenersProxy,n,p||r,e,"$listeners"),e.$listeners=e.$options._parentListeners=n,Cr(e,n,p),t&&e.$options.props){Pe(!1);for(var d=e._props,f=e.$options._propKeys||[],m=0;m<f.length;m++){var y=f[m],g=e.$options.props;d[y]=ki(y,g,t,e)}Pe(!0),e.$options.propsData=t}c&&(e.$slots=ln(o,i.context),e.$forceUpdate())}function Fr(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function jr(e,t){if(t){if(e._directInactive=!1,Fr(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)jr(e.$children[n]);zr(e,"activated")}}function Ur(e,t){if((!t||(e._directInactive=!0,!Fr(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Ur(e.$children[n]);zr(e,"deactivated")}}function zr(e,t,n,r){void 0===r&&(r=!0),Ae();var i=me;r&&ge(e);var o=e.$options[t],s="".concat(t," hook");if(o)for(var a=0,l=o.length;a<l;a++)zn(o[a],e,n||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),r&&ge(i),Ie()}var Gr=[],Vr=[],Br={},$r=!1,Hr=!1,Wr=0;function qr(){Wr=Gr.length=Vr.length=0,Br={},$r=Hr=!1}var Zr=0,Yr=Date.now;if(Q&&!te){var Xr=window.performance;Xr&&"function"===typeof Xr.now&&Yr()>document.createEvent("Event").timeStamp&&(Yr=function(){return Xr.now()})}var Jr=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Kr(){var e,t;for(Zr=Yr(),Hr=!0,Gr.sort(Jr),Wr=0;Wr<Gr.length;Wr++)e=Gr[Wr],e.before&&e.before(),t=e.id,Br[t]=null,e.run();var n=Vr.slice(),r=Gr.slice();qr(),ti(n),Qr(r),Te(),he&&W.devtools&&he.emit("flush")}function Qr(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&zr(r,"updated")}}function ei(e){e._inactive=!1,Vr.push(e)}function ti(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,jr(e[t],!0)}function ni(e){var t=e.id;if(null==Br[t]&&(e!==Ee.target||!e.noRecurse)){if(Br[t]=!0,Hr){var n=Gr.length-1;while(n>Wr&&Gr[n].id>e.id)n--;Gr.splice(n+1,0,e)}else Gr.push(e);$r||($r=!0,Kn(Kr))}}function ri(e){var t=e.$options.provide;if(t){var n=u(t)?t.call(e):t;if(!h(n))return;for(var r=Nt(e),i=fe?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var s=i[o];Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}}}function ii(e){var t=oi(e.$options.inject,e);t&&(Pe(!1),Object.keys(t).forEach((function(n){Ue(e,n,t[n])})),Pe(!0))}function oi(e,t){if(e){for(var n=Object.create(null),r=fe?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=e[o].from;if(s in t._provided)n[o]=t._provided[s];else if("default"in e[o]){var a=e[o].default;n[o]=u(a)?a.call(t):a}else 0}}return n}}function si(e,t,n,o,s){var l,c=this,u=s.options;S(o,"_uid")?(l=Object.create(o),l._original=o):(l=o,o=o._original);var h=a(u._compiled),p=!h;this.data=e,this.props=t,this.children=n,this.parent=o,this.listeners=e.on||r,this.injections=oi(u.inject,o),this.slots=function(){return c.$slots||hn(o,e.scopedSlots,c.$slots=ln(n,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return hn(o,e.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=hn(o,e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,r){var s=Nn(l,e,t,n,r,p);return s&&!i(s)&&(s.fnScopeId=u._scopeId,s.fnContext=o),s}:this._c=function(e,t,n,r){return Nn(l,e,t,n,r,p)}}function ai(e,t,n,o,a){var l=e.options,c={},u=l.props;if(s(u))for(var h in u)c[h]=ki(h,u,t||r);else s(n.attrs)&&ci(c,n.attrs),s(n.props)&&ci(c,n.props);var p=new si(n,c,a,o,e),d=l.render.call(null,p._c,p);if(d instanceof ve)return li(d,n,p.parent,l,p);if(i(d)){for(var f=Bt(d)||[],m=new Array(f.length),y=0;y<f.length;y++)m[y]=li(f[y],n,p.parent,l,p);return m}}function li(e,t,n,r,i){var o=_e(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function ci(e,t){for(var n in t)e[M(n)]=t[n]}function ui(e){return e.name||e.__name||e._componentTag}an(si.prototype);var hi={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;hi.prepatch(n,n)}else{var r=e.componentInstance=fi(e,kr);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;Dr(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,zr(n,"mounted")),e.data.keepAlive&&(t._isMounted?ei(n):jr(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Ur(t,!0):t.$destroy())}},pi=Object.keys(hi);function di(e,t,n,r,i){if(!o(e)){var l=n.$options._base;if(h(e)&&(e=l.extend(e)),"function"===typeof e){var c;if(o(e.cid)&&(c=e,e=On(c,l),void 0===e))return Cn(c,t,n,r,i);t=t||{},to(e),s(t.model)&&gi(e.options,t);var u=zt(t,e,i);if(a(e.options.functional))return ai(e,u,t,n,r);var p=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var d=t.slot;t={},d&&(t.slot=d)}mi(t);var f=ui(e.options)||i,m=new ve("vue-component-".concat(e.cid).concat(f?"-".concat(f):""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:u,listeners:p,tag:i,children:r},c);return m}}}function fi(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return s(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function mi(e){for(var t=e.hook||(e.hook={}),n=0;n<pi.length;n++){var r=pi[n],i=t[r],o=hi[r];i===o||i&&i._merged||(t[r]=i?yi(o,i):o)}}function yi(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function gi(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[r],l=t.model.callback;s(a)?(i(a)?-1===a.indexOf(l):a!==l)&&(o[r]=[l].concat(a)):o[r]=l}var vi=D,bi=W.optionMergeStrategies;function wi(e,t,n){if(void 0===n&&(n=!0),!t)return e;for(var r,i,o,s=fe?Reflect.ownKeys(t):Object.keys(t),a=0;a<s.length;a++)r=s[a],"__ob__"!==r&&(i=e[r],o=t[r],n&&S(e,r)?i!==o&&d(i)&&d(o)&&wi(i,o):ze(e,r,o));return e}function _i(e,t,n){return n?function(){var r=u(t)?t.call(n,n):t,i=u(e)?e.call(n,n):e;return r?wi(r,i):i}:t?e?function(){return wi(u(t)?t.call(this,this):t,u(e)?e.call(this,this):e)}:t:e}function xi(e,t){var n=t?e?e.concat(t):i(t)?t:[t]:e;return n?Si(n):n}function Si(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function Ti(e,t,n,r){var i=Object.create(e||null);return t?N(i,t):i}bi.data=function(e,t,n){return n?_i(e,t,n):t&&"function"!==typeof t?e:_i(e,t)},H.forEach((function(e){bi[e]=xi})),$.forEach((function(e){bi[e+"s"]=Ti})),bi.watch=function(e,t,n,r){if(e===ae&&(e=void 0),t===ae&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};for(var s in N(o,e),t){var a=o[s],l=t[s];a&&!i(a)&&(a=[a]),o[s]=a?a.concat(l):i(l)?l:[l]}return o},bi.props=bi.methods=bi.inject=bi.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return N(i,e),t&&N(i,t),i},bi.provide=function(e,t){return e?function(){var n=Object.create(null);return wi(n,u(e)?e.call(this):e),t&&wi(n,u(t)?t.call(this):t,!1),n}:t};var Ei=function(e,t){return void 0===t?e:t};function Mi(e,t){var n=e.props;if(n){var r,o,s,a={};if(i(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(s=M(o),a[s]={type:null})}else if(d(n))for(var l in n)o=n[l],s=M(l),a[s]=d(o)?o:{type:o};else 0;e.props=a}}function Ai(e,t){var n=e.inject;if(n){var r=e.inject={};if(i(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(d(n))for(var s in n){var a=n[s];r[s]=d(a)?N({from:s},a):{from:a}}else 0}}function Ii(e){var t=e.directives;if(t)for(var n in t){var r=t[n];u(r)&&(t[n]={bind:r,update:r})}}function Ci(e,t,n){if(u(t)&&(t=t.options),Mi(t,n),Ai(t,n),Ii(t),!t._base&&(t.extends&&(e=Ci(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Ci(e,t.mixins[r],n);var o,s={};for(o in e)a(o);for(o in t)S(e,o)||a(o);function a(r){var i=bi[r]||Ei;s[r]=i(e[r],t[r],n,r)}return s}function Oi(e,t,n,r){if("string"===typeof n){var i=e[t];if(S(i,n))return i[n];var o=M(n);if(S(i,o))return i[o];var s=A(o);if(S(i,s))return i[s];var a=i[n]||i[o]||i[s];return a}}function ki(e,t,n,r){var i=t[e],o=!S(n,e),s=n[e],a=Di(Boolean,i.type);if(a>-1)if(o&&!S(i,"default"))s=!1;else if(""===s||s===C(e)){var l=Di(String,i.type);(l<0||a<l)&&(s=!0)}if(void 0===s){s=Ri(r,i,e);var c=Ne;Pe(!0),je(s),Pe(c)}return s}function Ri(e,t,n){if(S(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:u(r)&&"Function"!==Ni(t.type)?r.call(e):r}}var Li=/^\s*function (\w+)/;function Ni(e){var t=e&&e.toString().match(Li);return t?t[1]:""}function Pi(e,t){return Ni(e)===Ni(t)}function Di(e,t){if(!i(t))return Pi(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Pi(t[n],e))return n;return-1}var Fi={enumerable:!0,configurable:!0,get:D,set:D};function ji(e,t,n){Fi.get=function(){return this[t][n]},Fi.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Fi)}function Ui(e){var t=e.$options;if(t.props&&zi(e,t.props),fn(e),t.methods&&Zi(e,t.methods),t.data)Gi(e);else{var n=je(e._data={});n&&n.vmCount++}t.computed&&$i(e,t.computed),t.watch&&t.watch!==ae&&Yi(e,t.watch)}function zi(e,t){var n=e.$options.propsData||{},r=e._props=$e({}),i=e.$options._propKeys=[],o=!e.$parent;o||Pe(!1);var s=function(o){i.push(o);var s=ki(o,t,n,e);Ue(r,o,s),o in e||ji(e,"_props",o)};for(var a in t)s(a);Pe(!0)}function Gi(e){var t=e.$options.data;t=e._data=u(t)?Vi(t,e):t||{},d(t)||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);while(i--){var o=n[i];0,r&&S(r,o)||Z(o)||ji(e,"_data",o)}var s=je(t);s&&s.vmCount++}function Vi(e,t){Ae();try{return e.call(t,t)}catch(il){return Un(il,t,"data()"),{}}finally{Ie()}}var Bi={lazy:!0};function $i(e,t){var n=e._computedWatchers=Object.create(null),r=ue();for(var i in t){var o=t[i],s=u(o)?o:o.get;0,r||(n[i]=new Tr(e,s||D,D,Bi)),i in e||Hi(e,i,o)}}function Hi(e,t,n){var r=!ue();u(n)?(Fi.get=r?Wi(t):qi(n),Fi.set=D):(Fi.get=n.get?r&&!1!==n.cache?Wi(t):qi(n.get):D,Fi.set=n.set||D),Object.defineProperty(e,t,Fi)}function Wi(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Ee.target&&t.depend(),t.value}}function qi(e){return function(){return e.call(this,this)}}function Zi(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?D:R(t[n],e)}function Yi(e,t){for(var n in t){var r=t[n];if(i(r))for(var o=0;o<r.length;o++)Xi(e,n,r[o]);else Xi(e,n,r)}}function Xi(e,t,n,r){return d(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function Ji(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=ze,e.prototype.$delete=Ge,e.prototype.$watch=function(e,t,n){var r=this;if(d(t))return Xi(r,e,t,n);n=n||{},n.user=!0;var i=new Tr(r,e,t,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');Ae(),zn(t,r,[i.value],r,o),Ie()}return function(){i.teardown()}}}var Ki=0;function Qi(e){e.prototype._init=function(e){var t=this;t._uid=Ki++,t._isVue=!0,t.__v_skip=!0,t._scope=new It(!0),t._scope._vm=!0,e&&e._isComponent?eo(t,e):t.$options=Ci(to(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Lr(t),Er(t),En(t),zr(t,"beforeCreate",void 0,!1),ii(t),Ui(t),ri(t),zr(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function eo(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function to(e){var t=e.options;if(e.super){var n=to(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var i=no(e);i&&N(e.extendOptions,i),t=e.options=Ci(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function no(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function ro(e){this._init(e)}function io(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=L(arguments,1);return n.unshift(this),u(e.install)?e.install.apply(e,n):u(e)&&e.apply(null,n),t.push(e),this}}function oo(e){e.mixin=function(e){return this.options=Ci(this.options,e),this}}function so(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=ui(e)||ui(n.options);var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=Ci(n.options,e),s["super"]=n,s.options.props&&ao(s),s.options.computed&&lo(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,$.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=N({},s.options),i[r]=s,s}}function ao(e){var t=e.options.props;for(var n in t)ji(e.prototype,"_props",n)}function lo(e){var t=e.options.computed;for(var n in t)Hi(e.prototype,n,t[n])}function co(e){$.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&d(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&u(n)&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function uo(e){return e&&(ui(e.Ctor.options)||e.tag)}function ho(e,t){return i(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!f(e)&&e.test(t)}function po(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!t(a)&&fo(n,o,r,i)}}}function fo(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,_(n,t)}Qi(ro),Ji(ro),Or(ro),Nr(ro),An(ro);var mo=[String,RegExp,Array],yo={name:"keep-alive",abstract:!0,props:{include:mo,exclude:mo,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,r=e.vnodeToCache,i=e.keyToCache;if(r){var o=r.tag,s=r.componentInstance,a=r.componentOptions;t[i]={name:uo(a),tag:o,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&fo(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)fo(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){po(e,(function(e){return ho(t,e)}))})),this.$watch("exclude",(function(t){po(e,(function(e){return!ho(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=kn(e),n=t&&t.componentOptions;if(n){var r=uo(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!ho(o,r))||s&&r&&ho(s,r))return t;var a=this,l=a.cache,c=a.keys,u=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;l[u]?(t.componentInstance=l[u].componentInstance,_(c,u),c.push(u)):(this.vnodeToCache=t,this.keyToCache=u),t.data.keepAlive=!0}return t||e&&e[0]}},go={KeepAlive:yo};function vo(e){var t={get:function(){return W}};Object.defineProperty(e,"config",t),e.util={warn:vi,extend:N,mergeOptions:Ci,defineReactive:Ue},e.set=ze,e.delete=Ge,e.nextTick=Kn,e.observable=function(e){return je(e),e},e.options=Object.create(null),$.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,N(e.options.components,go),io(e),oo(e),so(e),co(e)}vo(ro),Object.defineProperty(ro.prototype,"$isServer",{get:ue}),Object.defineProperty(ro.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ro,"FunctionalRenderContext",{value:si}),ro.version=gr;var bo=b("style,class"),wo=b("input,textarea,option,select,progress"),_o=function(e,t,n){return"value"===n&&wo(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},xo=b("contenteditable,draggable,spellcheck"),So=b("events,caret,typing,plaintext-only"),To=function(e,t){return Co(t)||"false"===t?"false":"contenteditable"===e&&So(t)?t:"true"},Eo=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Mo="http://www.w3.org/1999/xlink",Ao=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Io=function(e){return Ao(e)?e.slice(6,e.length):""},Co=function(e){return null==e||!1===e};function Oo(e){var t=e.data,n=e,r=e;while(s(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=ko(r.data,t));while(s(n=n.parent))n&&n.data&&(t=ko(t,n.data));return Ro(t.staticClass,t.class)}function ko(e,t){return{staticClass:Lo(e.staticClass,t.staticClass),class:s(e.class)?[e.class,t.class]:t.class}}function Ro(e,t){return s(e)||s(t)?Lo(e,No(t)):""}function Lo(e,t){return e?t?e+" "+t:e:t||""}function No(e){return Array.isArray(e)?Po(e):h(e)?Do(e):"string"===typeof e?e:""}function Po(e){for(var t,n="",r=0,i=e.length;r<i;r++)s(t=No(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function Do(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var Fo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},jo=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Uo=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),zo=function(e){return jo(e)||Uo(e)};function Go(e){return Uo(e)?"svg":"math"===e?"math":void 0}var Vo=Object.create(null);function Bo(e){if(!Q)return!0;if(zo(e))return!1;if(e=e.toLowerCase(),null!=Vo[e])return Vo[e];var t=document.createElement(e);return e.indexOf("-")>-1?Vo[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Vo[e]=/HTMLUnknownElement/.test(t.toString())}var $o=b("text,number,password,search,email,tel,url");function Ho(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Wo(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function qo(e,t){return document.createElementNS(Fo[e],t)}function Zo(e){return document.createTextNode(e)}function Yo(e){return document.createComment(e)}function Xo(e,t,n){e.insertBefore(t,n)}function Jo(e,t){e.removeChild(t)}function Ko(e,t){e.appendChild(t)}function Qo(e){return e.parentNode}function es(e){return e.nextSibling}function ts(e){return e.tagName}function ns(e,t){e.textContent=t}function rs(e,t){e.setAttribute(t,"")}var is=Object.freeze({__proto__:null,createElement:Wo,createElementNS:qo,createTextNode:Zo,createComment:Yo,insertBefore:Xo,removeChild:Jo,appendChild:Ko,parentNode:Qo,nextSibling:es,tagName:ts,setTextContent:ns,setStyleScope:rs}),os={create:function(e,t){ss(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ss(e,!0),ss(t))},destroy:function(e){ss(e,!0)}};function ss(e,t){var n=e.data.ref;if(s(n)){var r=e.context,o=e.componentInstance||e.elm,a=t?null:o,l=t?void 0:o;if(u(n))zn(n,r,[a],r,"template ref function");else{var c=e.data.refInFor,h="string"===typeof n||"number"===typeof n,p=Qe(n),d=r.$refs;if(h||p)if(c){var f=h?d[n]:n.value;t?i(f)&&_(f,o):i(f)?f.includes(o)||f.push(o):h?(d[n]=[o],as(r,n,d[n])):n.value=[o]}else if(h){if(t&&d[n]!==o)return;d[n]=l,as(r,n,a)}else if(p){if(t&&n.value!==o)return;n.value=a}else 0}}}function as(e,t,n){var r=e._setupState;r&&S(r,t)&&(Qe(r[t])?r[t].value=n:r[t]=n)}var ls=new ve("",{},[]),cs=["create","activate","update","remove","destroy"];function us(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&s(e.data)===s(t.data)&&hs(e,t)||a(e.isAsyncPlaceholder)&&o(t.asyncFactory.error))}function hs(e,t){if("input"!==e.tag)return!0;var n,r=s(n=e.data)&&s(n=n.attrs)&&n.type,i=s(n=t.data)&&s(n=n.attrs)&&n.type;return r===i||$o(r)&&$o(i)}function ps(e,t,n){var r,i,o={};for(r=t;r<=n;++r)i=e[r].key,s(i)&&(o[i]=r);return o}function ds(e){var t,n,r={},l=e.modules,u=e.nodeOps;for(t=0;t<cs.length;++t)for(r[cs[t]]=[],n=0;n<l.length;++n)s(l[n][cs[t]])&&r[cs[t]].push(l[n][cs[t]]);function h(e){return new ve(u.tagName(e).toLowerCase(),{},[],void 0,e)}function p(e,t){function n(){0===--n.listeners&&d(e)}return n.listeners=t,n}function d(e){var t=u.parentNode(e);s(t)&&u.removeChild(t,e)}function f(e,t,n,r,i,o,l){if(s(e.elm)&&s(o)&&(e=o[l]=_e(e)),e.isRootInsert=!i,!m(e,t,n,r)){var c=e.data,h=e.children,p=e.tag;s(p)?(e.elm=e.ns?u.createElementNS(e.ns,p):u.createElement(p,e),S(e),w(e,h,t),s(c)&&x(e,t),v(n,e.elm,r)):a(e.isComment)?(e.elm=u.createComment(e.text),v(n,e.elm,r)):(e.elm=u.createTextNode(e.text),v(n,e.elm,r))}}function m(e,t,n,r){var i=e.data;if(s(i)){var o=s(e.componentInstance)&&i.keepAlive;if(s(i=i.hook)&&s(i=i.init)&&i(e,!1),s(e.componentInstance))return y(e,t),v(n,e.elm,r),a(o)&&g(e,t,n,r),!0}}function y(e,t){s(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,_(e)?(x(e,t),S(e)):(ss(e),t.push(e))}function g(e,t,n,i){var o,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,s(o=a.data)&&s(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](ls,a);t.push(a);break}v(n,e.elm,i)}function v(e,t,n){s(e)&&(s(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function w(e,t,n){if(i(t)){0;for(var r=0;r<t.length;++r)f(t[r],n,e.elm,null,!0,t,r)}else c(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function _(e){while(e.componentInstance)e=e.componentInstance._vnode;return s(e.tag)}function x(e,n){for(var i=0;i<r.create.length;++i)r.create[i](ls,e);t=e.data.hook,s(t)&&(s(t.create)&&t.create(ls,e),s(t.insert)&&n.push(e))}function S(e){var t;if(s(t=e.fnScopeId))u.setStyleScope(e.elm,t);else{var n=e;while(n)s(t=n.context)&&s(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent}s(t=kr)&&t!==e.context&&t!==e.fnContext&&s(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function T(e,t,n,r,i,o){for(;r<=i;++r)f(n[r],o,e,t,!1,n,r)}function E(e){var t,n,i=e.data;if(s(i))for(s(t=i.hook)&&s(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(s(t=e.children))for(n=0;n<e.children.length;++n)E(e.children[n])}function M(e,t,n){for(;t<=n;++t){var r=e[t];s(r)&&(s(r.tag)?(A(r),E(r)):d(r.elm))}}function A(e,t){if(s(t)||s(e.data)){var n,i=r.remove.length+1;for(s(t)?t.listeners+=i:t=p(e.elm,i),s(n=e.componentInstance)&&s(n=n._vnode)&&s(n.data)&&A(n,t),n=0;n<r.remove.length;++n)r.remove[n](e,t);s(n=e.data.hook)&&s(n=n.remove)?n(e,t):t()}else d(e.elm)}function I(e,t,n,r,i){var a,l,c,h,p=0,d=0,m=t.length-1,y=t[0],g=t[m],v=n.length-1,b=n[0],w=n[v],_=!i;while(p<=m&&d<=v)o(y)?y=t[++p]:o(g)?g=t[--m]:us(y,b)?(O(y,b,r,n,d),y=t[++p],b=n[++d]):us(g,w)?(O(g,w,r,n,v),g=t[--m],w=n[--v]):us(y,w)?(O(y,w,r,n,v),_&&u.insertBefore(e,y.elm,u.nextSibling(g.elm)),y=t[++p],w=n[--v]):us(g,b)?(O(g,b,r,n,d),_&&u.insertBefore(e,g.elm,y.elm),g=t[--m],b=n[++d]):(o(a)&&(a=ps(t,p,m)),l=s(b.key)?a[b.key]:C(b,t,p,m),o(l)?f(b,r,e,y.elm,!1,n,d):(c=t[l],us(c,b)?(O(c,b,r,n,d),t[l]=void 0,_&&u.insertBefore(e,c.elm,y.elm)):f(b,r,e,y.elm,!1,n,d)),b=n[++d]);p>m?(h=o(n[v+1])?null:n[v+1].elm,T(e,h,n,d,v,r)):d>v&&M(t,p,m)}function C(e,t,n,r){for(var i=n;i<r;i++){var o=t[i];if(s(o)&&us(e,o))return i}}function O(e,t,n,i,l,c){if(e!==t){s(t.elm)&&s(i)&&(t=i[l]=_e(t));var h=t.elm=e.elm;if(a(e.isAsyncPlaceholder))s(t.asyncFactory.resolved)?L(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,d=t.data;s(d)&&s(p=d.hook)&&s(p=p.prepatch)&&p(e,t);var f=e.children,m=t.children;if(s(d)&&_(t)){for(p=0;p<r.update.length;++p)r.update[p](e,t);s(p=d.hook)&&s(p=p.update)&&p(e,t)}o(t.text)?s(f)&&s(m)?f!==m&&I(h,f,m,n,c):s(m)?(s(e.text)&&u.setTextContent(h,""),T(h,null,m,0,m.length-1,n)):s(f)?M(f,0,f.length-1):s(e.text)&&u.setTextContent(h,""):e.text!==t.text&&u.setTextContent(h,t.text),s(d)&&s(p=d.hook)&&s(p=p.postpatch)&&p(e,t)}}}function k(e,t,n){if(a(n)&&s(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var R=b("attrs,class,staticClass,staticStyle,key");function L(e,t,n,r){var i,o=t.tag,l=t.data,c=t.children;if(r=r||l&&l.pre,t.elm=e,a(t.isComment)&&s(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(s(l)&&(s(i=l.hook)&&s(i=i.init)&&i(t,!0),s(i=t.componentInstance)))return y(t,n),!0;if(s(o)){if(s(c))if(e.hasChildNodes())if(s(i=l)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==e.innerHTML)return!1}else{for(var u=!0,h=e.firstChild,p=0;p<c.length;p++){if(!h||!L(h,c[p],n,r)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else w(t,c,n);if(s(l)){var d=!1;for(var f in l)if(!R(f)){d=!0,x(t,n);break}!d&&l["class"]&&wr(l["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,i){if(!o(t)){var l=!1,c=[];if(o(e))l=!0,f(t,c);else{var p=s(e.nodeType);if(!p&&us(e,t))O(e,t,c,null,null,i);else{if(p){if(1===e.nodeType&&e.hasAttribute(B)&&(e.removeAttribute(B),n=!0),a(n)&&L(e,t,c))return k(t,c,!0),e;e=h(e)}var d=e.elm,m=u.parentNode(d);if(f(t,c,d._leaveCb?null:m,u.nextSibling(d)),s(t.parent)){var y=t.parent,g=_(t);while(y){for(var v=0;v<r.destroy.length;++v)r.destroy[v](y);if(y.elm=t.elm,g){for(var b=0;b<r.create.length;++b)r.create[b](ls,y);var w=y.data.hook.insert;if(w.merged)for(var x=1;x<w.fns.length;x++)w.fns[x]()}else ss(y);y=y.parent}}s(m)?M([e],0,0):s(e.tag)&&E(e)}}return k(t,c,l),t.elm}s(e)&&E(e)}}var fs={create:ms,update:ms,destroy:function(e){ms(e,ls)}};function ms(e,t){(e.data.directives||t.data.directives)&&ys(e,t)}function ys(e,t){var n,r,i,o=e===ls,s=t===ls,a=vs(e.data.directives,e.context),l=vs(t.data.directives,t.context),c=[],u=[];for(n in l)r=a[n],i=l[n],r?(i.oldValue=r.value,i.oldArg=r.arg,ws(i,"update",t,e),i.def&&i.def.componentUpdated&&u.push(i)):(ws(i,"bind",t,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var h=function(){for(var n=0;n<c.length;n++)ws(c[n],"inserted",t,e)};o?Ut(t,"insert",h):h()}if(u.length&&Ut(t,"postpatch",(function(){for(var n=0;n<u.length;n++)ws(u[n],"componentUpdated",t,e)})),!o)for(n in a)l[n]||ws(a[n],"unbind",e,e,s)}var gs=Object.create(null);function vs(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++){if(r=e[n],r.modifiers||(r.modifiers=gs),i[bs(r)]=r,t._setupState&&t._setupState.__sfc){var o=r.def||Oi(t,"_setupState","v-"+r.name);r.def="function"===typeof o?{bind:o,update:o}:o}r.def=r.def||Oi(t.$options,"directives",r.name,!0)}return i}function bs(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function ws(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(il){Un(il,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var _s=[os,fs];function xs(e,t){var n=t.componentOptions;if((!s(n)||!1!==n.Ctor.options.inheritAttrs)&&(!o(e.data.attrs)||!o(t.data.attrs))){var r,i,l,c=t.elm,u=e.data.attrs||{},h=t.data.attrs||{};for(r in(s(h.__ob__)||a(h._v_attr_proxy))&&(h=t.data.attrs=N({},h)),h)i=h[r],l=u[r],l!==i&&Ss(c,r,i,t.data.pre);for(r in(te||re)&&h.value!==u.value&&Ss(c,"value",h.value),u)o(h[r])&&(Ao(r)?c.removeAttributeNS(Mo,Io(r)):xo(r)||c.removeAttribute(r))}}function Ss(e,t,n,r){r||e.tagName.indexOf("-")>-1?Ts(e,t,n):Eo(t)?Co(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):xo(t)?e.setAttribute(t,To(t,n)):Ao(t)?Co(n)?e.removeAttributeNS(Mo,Io(t)):e.setAttributeNS(Mo,t,n):Ts(e,t,n)}function Ts(e,t,n){if(Co(n))e.removeAttribute(t);else{if(te&&!ne&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Es={create:xs,update:xs};function Ms(e,t){var n=t.elm,r=t.data,i=e.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var a=Oo(t),l=n._transitionClasses;s(l)&&(a=Lo(a,No(l))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var As,Is={create:Ms,update:Ms},Cs="__r",Os="__c";function ks(e){if(s(e[Cs])){var t=te?"change":"input";e[t]=[].concat(e[Cs],e[t]||[]),delete e[Cs]}s(e[Os])&&(e.change=[].concat(e[Os],e.change||[]),delete e[Os])}function Rs(e,t,n){var r=As;return function i(){var o=t.apply(null,arguments);null!==o&&Ps(e,i,n,r)}}var Ls=$n&&!(se&&Number(se[1])<=53);function Ns(e,t,n,r){if(Ls){var i=Zr,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}As.addEventListener(e,t,le?{capture:n,passive:r}:n)}function Ps(e,t,n,r){(r||As).removeEventListener(e,t._wrapper||t,n)}function Ds(e,t){if(!o(e.data.on)||!o(t.data.on)){var n=t.data.on||{},r=e.data.on||{};As=t.elm||e.elm,ks(n),jt(n,r,Ns,Ps,Rs,t.context),As=void 0}}var Fs,js={create:Ds,update:Ds,destroy:function(e){return Ds(e,ls)}};function Us(e,t){if(!o(e.data.domProps)||!o(t.data.domProps)){var n,r,i=t.elm,l=e.data.domProps||{},c=t.data.domProps||{};for(n in(s(c.__ob__)||a(c._v_attr_proxy))&&(c=t.data.domProps=N({},c)),l)n in c||(i[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===l[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var u=o(r)?"":String(r);zs(i,u)&&(i.value=u)}else if("innerHTML"===n&&Uo(i.tagName)&&o(i.innerHTML)){Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>".concat(r,"</svg>");var h=Fs.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(h.firstChild)i.appendChild(h.firstChild)}else if(r!==l[n])try{i[n]=r}catch(il){}}}}function zs(e,t){return!e.composing&&("OPTION"===e.tagName||Gs(e,t)||Vs(e,t))}function Gs(e,t){var n=!0;try{n=document.activeElement!==e}catch(il){}return n&&e.value!==t}function Vs(e,t){var n=e.value,r=e._vModifiers;if(s(r)){if(r.number)return v(n)!==v(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var Bs={create:Us,update:Us},$s=T((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function Hs(e){var t=Ws(e.style);return e.staticStyle?N(e.staticStyle,t):t}function Ws(e){return Array.isArray(e)?P(e):"string"===typeof e?$s(e):e}function qs(e,t){var n,r={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=Hs(i.data))&&N(r,n)}(n=Hs(e.data))&&N(r,n);var o=e;while(o=o.parent)o.data&&(n=Hs(o.data))&&N(r,n);return r}var Zs,Ys=/^--/,Xs=/\s*!important$/,Js=function(e,t,n){if(Ys.test(t))e.style.setProperty(t,n);else if(Xs.test(n))e.style.setProperty(C(t),n.replace(Xs,""),"important");else{var r=Qs(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},Ks=["Webkit","Moz","ms"],Qs=T((function(e){if(Zs=Zs||document.createElement("div").style,e=M(e),"filter"!==e&&e in Zs)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Ks.length;n++){var r=Ks[n]+t;if(r in Zs)return r}}));function ea(e,t){var n=t.data,r=e.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var i,a,l=t.elm,c=r.staticStyle,u=r.normalizedStyle||r.style||{},h=c||u,p=Ws(t.data.style)||{};t.data.normalizedStyle=s(p.__ob__)?N({},p):p;var d=qs(t,!0);for(a in h)o(d[a])&&Js(l,a,"");for(a in d)i=d[a],i!==h[a]&&Js(l,a,null==i?"":i)}}var ta={create:ea,update:ea},na=/\s+/;function ra(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(na).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function ia(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(na).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" ".concat(e.getAttribute("class")||""," "),r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function oa(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&N(t,sa(e.name||"v")),N(t,e),t}return"string"===typeof e?sa(e):void 0}}var sa=T((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),aa=Q&&!ne,la="transition",ca="animation",ua="transition",ha="transitionend",pa="animation",da="animationend";aa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ua="WebkitTransition",ha="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(pa="WebkitAnimation",da="webkitAnimationEnd"));var fa=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function ma(e){fa((function(){fa(e)}))}function ya(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),ra(e,t))}function ga(e,t){e._transitionClasses&&_(e._transitionClasses,t),ia(e,t)}function va(e,t,n){var r=wa(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===la?ha:da,l=0,c=function(){e.removeEventListener(a,u),n()},u=function(t){t.target===e&&++l>=s&&c()};setTimeout((function(){l<s&&c()}),o+1),e.addEventListener(a,u)}var ba=/\b(transform|all)(,|$)/;function wa(e,t){var n,r=window.getComputedStyle(e),i=(r[ua+"Delay"]||"").split(", "),o=(r[ua+"Duration"]||"").split(", "),s=_a(i,o),a=(r[pa+"Delay"]||"").split(", "),l=(r[pa+"Duration"]||"").split(", "),c=_a(a,l),u=0,h=0;t===la?s>0&&(n=la,u=s,h=o.length):t===ca?c>0&&(n=ca,u=c,h=l.length):(u=Math.max(s,c),n=u>0?s>c?la:ca:null,h=n?n===la?o.length:l.length:0);var p=n===la&&ba.test(r[ua+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:p}}function _a(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return xa(t)+xa(e[n])})))}function xa(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Sa(e,t){var n=e.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=oa(e.data.transition);if(!o(r)&&!s(n._enterCb)&&1===n.nodeType){var i=r.css,a=r.type,l=r.enterClass,c=r.enterToClass,p=r.enterActiveClass,d=r.appearClass,f=r.appearToClass,m=r.appearActiveClass,y=r.beforeEnter,g=r.enter,b=r.afterEnter,w=r.enterCancelled,_=r.beforeAppear,x=r.appear,S=r.afterAppear,T=r.appearCancelled,E=r.duration,M=kr,A=kr.$vnode;while(A&&A.parent)M=A.context,A=A.parent;var I=!M._isMounted||!e.isRootInsert;if(!I||x||""===x){var C=I&&d?d:l,O=I&&m?m:p,k=I&&f?f:c,R=I&&_||y,L=I&&u(x)?x:g,N=I&&S||b,P=I&&T||w,D=v(h(E)?E.enter:E);0;var F=!1!==i&&!ne,j=Ma(L),U=n._enterCb=G((function(){F&&(ga(n,k),ga(n,O)),U.cancelled?(F&&ga(n,C),P&&P(n)):N&&N(n),n._enterCb=null}));e.data.show||Ut(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),L&&L(n,U)})),R&&R(n),F&&(ya(n,C),ya(n,O),ma((function(){ga(n,C),U.cancelled||(ya(n,k),j||(Ea(D)?setTimeout(U,D):va(n,a,U)))}))),e.data.show&&(t&&t(),L&&L(n,U)),F||j||U()}}}function Ta(e,t){var n=e.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=oa(e.data.transition);if(o(r)||1!==n.nodeType)return t();if(!s(n._leaveCb)){var i=r.css,a=r.type,l=r.leaveClass,c=r.leaveToClass,u=r.leaveActiveClass,p=r.beforeLeave,d=r.leave,f=r.afterLeave,m=r.leaveCancelled,y=r.delayLeave,g=r.duration,b=!1!==i&&!ne,w=Ma(d),_=v(h(g)?g.leave:g);0;var x=n._leaveCb=G((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),b&&(ga(n,c),ga(n,u)),x.cancelled?(b&&ga(n,l),m&&m(n)):(t(),f&&f(n)),n._leaveCb=null}));y?y(S):S()}function S(){x.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),p&&p(n),b&&(ya(n,l),ya(n,u),ma((function(){ga(n,l),x.cancelled||(ya(n,c),w||(Ea(_)?setTimeout(x,_):va(n,a,x)))}))),d&&d(n,x),b||w||x())}}function Ea(e){return"number"===typeof e&&!isNaN(e)}function Ma(e){if(o(e))return!1;var t=e.fns;return s(t)?Ma(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Aa(e,t){!0!==t.data.show&&Sa(t)}var Ia=Q?{create:Aa,activate:Aa,remove:function(e,t){!0!==e.data.show?Ta(e,t):t()}}:{},Ca=[Es,Is,js,Bs,ta,Ia],Oa=Ca.concat(_s),ka=ds({nodeOps:is,modules:Oa});ne&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Ua(e,"input")}));var Ra={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Ut(n,"postpatch",(function(){Ra.componentUpdated(e,t,n)})):La(e,t,n.context),e._vOptions=[].map.call(e.options,Da)):("textarea"===n.tag||$o(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Fa),e.addEventListener("compositionend",ja),e.addEventListener("change",ja),ne&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){La(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,Da);if(i.some((function(e,t){return!U(e,r[t])}))){var o=e.multiple?t.value.some((function(e){return Pa(e,i)})):t.value!==t.oldValue&&Pa(t.value,i);o&&Ua(e,"change")}}}};function La(e,t,n){Na(e,t,n),(te||re)&&setTimeout((function(){Na(e,t,n)}),0)}function Na(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,l=e.options.length;a<l;a++)if(s=e.options[a],i)o=z(r,Da(s))>-1,s.selected!==o&&(s.selected=o);else if(U(Da(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));i||(e.selectedIndex=-1)}}function Pa(e,t){return t.every((function(t){return!U(t,e)}))}function Da(e){return"_value"in e?e._value:e.value}function Fa(e){e.target.composing=!0}function ja(e){e.target.composing&&(e.target.composing=!1,Ua(e.target,"input"))}function Ua(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function za(e){return!e.componentInstance||e.data&&e.data.transition?e:za(e.componentInstance._vnode)}var Ga={bind:function(e,t,n){var r=t.value;n=za(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,Sa(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value,i=t.oldValue;if(!r!==!i){n=za(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Sa(n,(function(){e.style.display=e.__vOriginalDisplay})):Ta(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},Va={model:Ra,show:Ga},Ba={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function $a(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?$a(kn(t.children)):e}function Ha(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var r in i)t[M(r)]=i[r];return t}function Wa(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function qa(e){while(e=e.parent)if(e.data.transition)return!0}function Za(e,t){return t.key===e.key&&t.tag===e.tag}var Ya=function(e){return e.tag||un(e)},Xa=function(e){return"show"===e.name},Ja={name:"transition",props:Ba,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Ya),n.length)){0;var r=this.mode;0;var i=n[0];if(qa(this.$vnode))return i;var o=$a(i);if(!o)return i;if(this._leaving)return Wa(e,i);var s="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?s+"comment":s+o.tag:c(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=Ha(this),l=this._vnode,u=$a(l);if(o.data.directives&&o.data.directives.some(Xa)&&(o.data.show=!0),u&&u.data&&!Za(o,u)&&!un(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=N({},a);if("out-in"===r)return this._leaving=!0,Ut(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Wa(e,i);if("in-out"===r){if(un(o))return l;var p,d=function(){p()};Ut(a,"afterEnter",d),Ut(a,"enterCancelled",d),Ut(h,"delayLeave",(function(e){p=e}))}}return i}}},Ka=N({tag:String,moveClass:String},Ba);delete Ka.mode;var Qa={props:Ka,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Rr(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=Ha(this),a=0;a<i.length;a++){var l=i[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(r){var c=[],u=[];for(a=0;a<r.length;a++){l=r[a];l.data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=e(t,null,c),this.removed=u}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(el),e.forEach(tl),e.forEach(nl),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;ya(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ha,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ha,e),n._moveCb=null,ga(n,t))})}})))},methods:{hasMove:function(e,t){if(!aa)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){ia(n,e)})),ra(n,t),n.style.display="none",this.$el.appendChild(n);var r=wa(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function el(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function tl(e){e.data.newPos=e.elm.getBoundingClientRect()}function nl(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var rl={Transition:Ja,TransitionGroup:Qa};ro.config.mustUseProp=_o,ro.config.isReservedTag=zo,ro.config.isReservedAttr=bo,ro.config.getTagNamespace=Go,ro.config.isUnknownElement=Bo,N(ro.options.directives,Va),N(ro.options.components,rl),ro.prototype.__patch__=Q?ka:D,ro.prototype.$mount=function(e,t){return e=e&&Q?Ho(e):void 0,Pr(this,e,t)},Q&&setTimeout((function(){W.devtools&&he&&he.emit("init",ro)}),0)},37107:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return d(e)||m(e,t)||y(e,t)||b()}function h(e){return p(e)||f(e)||y(e)||v()}function p(e){if(Array.isArray(e))return g(e)}function d(e){if(Array.isArray(e))return e}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),t&&o.length===t)break}catch(l){a=!0,i=l}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}function y(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{$W:function(){return cr},Kk:function(){return pr},Qq:function(){return dr},Yv:function(){return ur},qg:function(){return hr}});var w=function(){},_={},x={},S=null,T={mark:w,measure:w};try{"undefined"!==typeof window&&(_=window),"undefined"!==typeof document&&(x=document),"undefined"!==typeof MutationObserver&&(S=MutationObserver),"undefined"!==typeof performance&&(T=performance)}catch(fr){}var E,M,A,I,C,O=_.navigator||{},k=O.userAgent,R=void 0===k?"":k,L=_,N=x,P=S,D=T,F=(L.document,!!N.documentElement&&!!N.head&&"function"===typeof N.addEventListener&&"function"===typeof N.createElement),j=~R.indexOf("MSIE")||~R.indexOf("Trident/"),U="___FONT_AWESOME___",z=16,G="fa",V="svg-inline--fa",B="data-fa-i2svg",$="data-fa-pseudo-element",H="data-fa-pseudo-element-pending",W="data-prefix",q="data-icon",Z="fontawesome-i2svg",Y="async",X=["HTML","HEAD","STYLE","SCRIPT"],J=function(){try{return!0}catch(fr){return!1}}(),K="classic",Q="sharp",ee=[K,Q];function te(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[K]}})}var ne=te((E={},c(E,K,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),c(E,Q,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),E)),re=te((M={},c(M,K,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),c(M,Q,{solid:"fass",regular:"fasr",light:"fasl"}),M)),ie=te((A={},c(A,K,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),c(A,Q,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),A)),oe=te((I={},c(I,K,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),c(I,Q,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),I)),se=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,ae="fa-layers-text",le=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ce=te((C={},c(C,K,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),c(C,Q,{900:"fass",400:"fasr",300:"fasl"}),C)),ue=[1,2,3,4,5,6,7,8,9,10],he=ue.concat([11,12,13,14,15,16,17,18,19,20]),pe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],de={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},fe=new Set;Object.keys(re[K]).map(fe.add.bind(fe)),Object.keys(re[Q]).map(fe.add.bind(fe));var me=[].concat(ee,h(fe),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",de.GROUP,de.SWAP_OPACITY,de.PRIMARY,de.SECONDARY]).concat(ue.map((function(e){return"".concat(e,"x")}))).concat(he.map((function(e){return"w-".concat(e)}))),ye=L.FontAwesomeConfig||{};function ge(e){var t=N.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function ve(e){return""===e||"false"!==e&&("true"===e||e)}if(N&&"function"===typeof N.querySelector){var be=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];be.forEach((function(e){var t=u(e,2),n=t[0],r=t[1],i=ve(ge(n));void 0!==i&&null!==i&&(ye[r]=i)}))}var we={styleDefault:"solid",familyDefault:"classic",cssPrefix:G,replacementClass:V,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ye.familyPrefix&&(ye.cssPrefix=ye.familyPrefix);var _e=i(i({},we),ye);_e.autoReplaceSvg||(_e.observeMutations=!1);var xe={};Object.keys(we).forEach((function(e){Object.defineProperty(xe,e,{enumerable:!0,set:function(t){_e[e]=t,Se.forEach((function(e){return e(xe)}))},get:function(){return _e[e]}})})),Object.defineProperty(xe,"familyPrefix",{enumerable:!0,set:function(e){_e.cssPrefix=e,Se.forEach((function(e){return e(xe)}))},get:function(){return _e.cssPrefix}}),L.FontAwesomeConfig=xe;var Se=[];function Te(e){return Se.push(e),function(){Se.splice(Se.indexOf(e),1)}}var Ee=z,Me={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ae(e){if(e&&F){var t=N.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=N.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}return N.head.insertBefore(t,r),e}}var Ie="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ce(){var e=12,t="";while(e-- >0)t+=Ie[62*Math.random()|0];return t}function Oe(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function ke(e){return e.classList?Oe(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Re(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Le(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Re(e[n]),'" ')}),"").trim()}function Ne(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Pe(e){return e.size!==Me.size||e.x!==Me.x||e.y!==Me.y||e.rotate!==Me.rotate||e.flipX||e.flipY}function De(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(o," ").concat(s," ").concat(a)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:c}}function Fe(e){var t=e.transform,n=e.width,r=void 0===n?z:n,i=e.height,o=void 0===i?z:i,s=e.startCentered,a=void 0!==s&&s,l="";return l+=a&&j?"translate(".concat(t.x/Ee-r/2,"em, ").concat(t.y/Ee-o/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/Ee,"em), calc(-50% + ").concat(t.y/Ee,"em)) "):"translate(".concat(t.x/Ee,"em, ").concat(t.y/Ee,"em) "),l+="scale(".concat(t.size/Ee*(t.flipX?-1:1),", ").concat(t.size/Ee*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var je=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Ue(){var e=G,t=V,n=xe.cssPrefix,r=xe.replacementClass,i=je;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var ze=!1;function Ge(){xe.autoAddCss&&!ze&&(Ae(Ue()),ze=!0)}var Ve={mixout:function(){return{dom:{css:Ue,insertCss:Ge}}},hooks:function(){return{beforeDOMElementCreation:function(){Ge()},beforeI2svg:function(){Ge()}}}},Be=L||{};Be[U]||(Be[U]={}),Be[U].styles||(Be[U].styles={}),Be[U].hooks||(Be[U].hooks={}),Be[U].shims||(Be[U].shims=[]);var $e=Be[U],He=[],We=function e(){N.removeEventListener("DOMContentLoaded",e),qe=1,He.map((function(e){return e()}))},qe=!1;function Ze(e){F&&(qe?setTimeout(e,0):He.push(e))}function Ye(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?Re(e):"<".concat(t," ").concat(Le(r),">").concat(o.map(Ye).join(""),"</").concat(t,">")}function Xe(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}F&&(qe=(N.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(N.readyState),qe||N.addEventListener("DOMContentLoaded",We));var Je=function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}},Ke=function(e,t,n,r){var i,o,s,a=Object.keys(e),l=a.length,c=void 0!==r?Je(t,r):t;for(void 0===n?(i=1,s=e[a[0]]):(i=0,s=n);i<l;i++)o=a[i],s=c(s,e[o],o,e);return s};function Qe(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}function et(e){var t=Qe(e);return 1===t.length?t[0].toString(16):null}function tt(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?1024*(i-55296)+n-56320+65536:i}function nt(e){return Object.keys(e).reduce((function(t,n){var r=e[n],i=!!r.icon;return i?t[r.iconName]=r.icon:t[n]=r,t}),{})}function rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,o=void 0!==r&&r,s=nt(t);"function"!==typeof $e.hooks.addPack||o?$e.styles[e]=i(i({},$e.styles[e]||{}),s):$e.hooks.addPack(e,nt(t)),"fas"===e&&rt("fa",t)}var it,ot,st,at=$e.styles,lt=$e.shims,ct=(it={},c(it,K,Object.values(ie[K])),c(it,Q,Object.values(ie[Q])),it),ut=null,ht={},pt={},dt={},ft={},mt={},yt=(ot={},c(ot,K,Object.keys(ne[K])),c(ot,Q,Object.keys(ne[Q])),ot);function gt(e){return~me.indexOf(e)}function vt(e,t){var n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r!==e||""===i||gt(i)?null:i}var bt=function(){var e=function(e){return Ke(at,(function(t,n,r){return t[r]=Ke(n,e,{}),t}),{})};ht=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),pt=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),mt=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in at||xe.autoFetchSvg,n=Ke(lt,(function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:o}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:o}),e}),{names:{},unicodes:{}});dt=n.names,ft=n.unicodes,ut=At(xe.styleDefault,{family:xe.familyDefault})};function wt(e,t){return(ht[e]||{})[t]}function _t(e,t){return(pt[e]||{})[t]}function xt(e,t){return(mt[e]||{})[t]}function St(e){return dt[e]||{prefix:null,iconName:null}}function Tt(e){var t=ft[e],n=wt("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Et(){return ut}Te((function(e){ut=At(e.styleDefault,{family:xe.familyDefault})})),bt();var Mt=function(){return{prefix:null,iconName:null,rest:[]}};function At(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.family,r=void 0===n?K:n,i=ne[r][e],o=re[r][e]||re[r][i],s=e in $e.styles?e:null;return o||s||null}var It=(st={},c(st,K,Object.keys(ie[K])),c(st,Q,Object.keys(ie[Q])),st);function Ct(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.skipLookups,i=void 0!==r&&r,o=(t={},c(t,K,"".concat(xe.cssPrefix,"-").concat(K)),c(t,Q,"".concat(xe.cssPrefix,"-").concat(Q)),t),s=null,a=K;(e.includes(o[K])||e.some((function(e){return It[K].includes(e)})))&&(a=K),(e.includes(o[Q])||e.some((function(e){return It[Q].includes(e)})))&&(a=Q);var l=e.reduce((function(e,t){var n=vt(xe.cssPrefix,t);if(at[t]?(t=ct[a].includes(t)?oe[a][t]:t,s=t,e.prefix=t):yt[a].indexOf(t)>-1?(s=t,e.prefix=At(t,{family:a})):n?e.iconName=n:t!==xe.replacementClass&&t!==o[K]&&t!==o[Q]&&e.rest.push(t),!i&&e.prefix&&e.iconName){var r="fa"===s?St(e.iconName):{},l=xt(e.prefix,e.iconName);r.prefix&&(s=null),e.iconName=r.iconName||l||e.iconName,e.prefix=r.prefix||e.prefix,"far"!==e.prefix||at["far"]||!at["fas"]||xe.autoFetchSvg||(e.prefix="fas")}return e}),Mt());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),l.prefix||a!==Q||!at["fass"]&&!xe.autoFetchSvg||(l.prefix="fass",l.iconName=xt(l.prefix,l.iconName)||l.iconName),"fa"!==l.prefix&&"fa"!==s||(l.prefix=Et()||"fas"),l}var Ot=function(){function e(){s(this,e),this.definitions={}}return l(e,[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach((function(t){e.definitions[t]=i(i({},e.definitions[t]||{}),o[t]),rt(t,o[t]);var n=ie[K][t];n&&rt(n,o[t]),bt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,o=r.iconName,s=r.icon,a=s[2];e[i]||(e[i]={}),a.length>0&&a.forEach((function(t){"string"===typeof t&&(e[i][t]=s)})),e[i][o]=s})),e}}]),e}(),kt=[],Rt={},Lt={},Nt=Object.keys(Lt);function Pt(e,t){var n=t.mixoutsTo;return kt=e,Rt={},Object.keys(Lt).forEach((function(e){-1===Nt.indexOf(e)&&delete Lt[e]})),kt.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===o(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){Rt[e]||(Rt[e]=[]),Rt[e].push(r[e])}))}e.provides&&e.provides(Lt)})),n}function Dt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=Rt[e]||[];return o.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function Ft(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Rt[e]||[];i.forEach((function(e){e.apply(null,n)}))}function jt(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Lt[e]?Lt[e].apply(null,t):void 0}function Ut(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Et();if(t)return t=xt(n,t)||t,Xe(zt.definitions,n,t)||Xe($e.styles,n,t)}var zt=new Ot,Gt=function(){xe.autoReplaceSvg=!1,xe.observeMutations=!1,Ft("noAuto")},Vt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F?(Ft("beforeI2svg",e),jt("pseudoElements2svg",e),jt("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===xe.autoReplaceSvg&&(xe.autoReplaceSvg=!0),xe.observeMutations=!0,Ze((function(){Ht({autoReplaceSvgRoot:t}),Ft("watch",e)}))}},Bt={icon:function(e){if(null===e)return null;if("object"===o(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:xt(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=At(e[0]);return{prefix:n,iconName:xt(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(xe.cssPrefix,"-"))>-1||e.match(se))){var r=Ct(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Et(),iconName:xt(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Et();return{prefix:i,iconName:xt(i,e)||e}}}},$t={noAuto:Gt,config:xe,dom:Vt,parse:Bt,library:zt,findIconDefinition:Ut,toHtml:Ye},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?N:t;(Object.keys($e.styles).length>0||xe.autoFetchSvg)&&F&&xe.autoReplaceSvg&&$t.dom.i2svg({node:n})};function Wt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Ye(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(F){var t=N.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function qt(e){var t=e.children,n=e.main,r=e.mask,o=e.attributes,s=e.styles,a=e.transform;if(Pe(a)&&n.found&&!r.found){var l=n.width,c=n.height,u={x:l/c/2,y:.5};o["style"]=Ne(i(i({},s),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}function Zt(e){var t=e.prefix,n=e.iconName,r=e.children,o=e.attributes,s=e.symbol,a=!0===s?"".concat(t,"-").concat(xe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:i(i({},o),{},{id:a}),children:r}]}]}function Yt(e){var t=e.icons,n=t.main,r=t.mask,o=e.prefix,s=e.iconName,a=e.transform,l=e.symbol,c=e.title,u=e.maskId,h=e.titleId,p=e.extra,d=e.watchable,f=void 0!==d&&d,m=r.found?r:n,y=m.width,g=m.height,v="fak"===o,b=[xe.replacementClass,s?"".concat(xe.cssPrefix,"-").concat(s):""].filter((function(e){return-1===p.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(p.classes).join(" "),w={children:[],attributes:i(i({},p.attributes),{},{"data-prefix":o,"data-icon":s,class:b,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(g)})},_=v&&!~p.classes.indexOf("fa-fw")?{width:"".concat(y/g*16*.0625,"em")}:{};f&&(w.attributes[B]=""),c&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(h||Ce())},children:[c]}),delete w.attributes.title);var x=i(i({},w),{},{prefix:o,iconName:s,main:n,mask:r,maskId:u,transform:a,symbol:l,styles:i(i({},_),p.styles)}),S=r.found&&n.found?jt("generateAbstractMask",x)||{children:[],attributes:{}}:jt("generateAbstractIcon",x)||{children:[],attributes:{}},T=S.children,E=S.attributes;return x.children=T,x.attributes=E,l?Zt(x):qt(x)}function Xt(e){var t=e.content,n=e.width,r=e.height,o=e.transform,s=e.title,a=e.extra,l=e.watchable,c=void 0!==l&&l,u=i(i(i({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});c&&(u[B]="");var h=i({},a.styles);Pe(o)&&(h["transform"]=Fe({transform:o,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h["transform"]);var p=Ne(h);p.length>0&&(u["style"]=p);var d=[];return d.push({tag:"span",attributes:u,children:[t]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function Jt(e){var t=e.content,n=e.title,r=e.extra,o=i(i(i({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Ne(r.styles);s.length>0&&(o["style"]=s);var a=[];return a.push({tag:"span",attributes:o,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}var Kt=$e.styles;function Qt(e){var t=e[0],n=e[1],r=e.slice(4),i=u(r,1),o=i[0],s=null;return s=Array.isArray(o)?{tag:"g",attributes:{class:"".concat(xe.cssPrefix,"-").concat(de.GROUP)},children:[{tag:"path",attributes:{class:"".concat(xe.cssPrefix,"-").concat(de.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(xe.cssPrefix,"-").concat(de.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:t,height:n,icon:s}}var en={found:!1,width:512,height:512};function tn(e,t){J||xe.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function nn(e,t){var n=t;return"fa"===t&&null!==xe.styleDefault&&(t=Et()),new Promise((function(r,o){jt("missingIconAbstract");if("fa"===n){var s=St(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&Kt[t]&&Kt[t][e]){var a=Kt[t][e];return r(Qt(a))}tn(e,t),r(i(i({},en),{},{icon:xe.showMissingIcons&&e&&jt("missingIconAbstract")||{}}))}))}var rn=function(){},on=xe.measurePerformance&&D&&D.mark&&D.measure?D:{mark:rn,measure:rn},sn='FA "6.4.0"',an=function(e){return on.mark("".concat(sn," ").concat(e," begins")),function(){return ln(e)}},ln=function(e){on.mark("".concat(sn," ").concat(e," ends")),on.measure("".concat(sn," ").concat(e),"".concat(sn," ").concat(e," begins"),"".concat(sn," ").concat(e," ends"))},cn={begin:an,end:ln},un=function(){};function hn(e){var t=e.getAttribute?e.getAttribute(B):null;return"string"===typeof t}function pn(e){var t=e.getAttribute?e.getAttribute(W):null,n=e.getAttribute?e.getAttribute(q):null;return t&&n}function dn(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(xe.replacementClass)}function fn(){if(!0===xe.autoReplaceSvg)return bn.replace;var e=bn[xe.autoReplaceSvg];return e||bn.replace}function mn(e){return N.createElementNS("http://www.w3.org/2000/svg",e)}function yn(e){return N.createElement(e)}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?mn:yn:n;if("string"===typeof e)return N.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var o=e.children||[];return o.forEach((function(e){i.appendChild(gn(e,{ceFn:r}))})),i}function vn(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var bn={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(gn(e),t)})),null===t.getAttribute(B)&&xe.keepOriginalSource){var n=N.createComment(vn(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~ke(t).indexOf(xe.replacementClass))return bn.replace(e);var r=new RegExp("".concat(xe.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===xe.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var o=n.map((function(e){return Ye(e)})).join("\n");t.setAttribute(B,""),t.innerHTML=o}};function wn(e){e()}function _n(e,t){var n="function"===typeof t?t:un;if(0===e.length)n();else{var r=wn;xe.mutateApproach===Y&&(r=L.requestAnimationFrame||wn),r((function(){var t=fn(),r=cn.begin("mutate");e.map(t),r(),n()}))}}var xn=!1;function Sn(){xn=!0}function Tn(){xn=!1}var En=null;function Mn(e){if(P&&xe.observeMutations){var t=e.treeCallback,n=void 0===t?un:t,r=e.nodeCallback,i=void 0===r?un:r,o=e.pseudoElementsCallback,s=void 0===o?un:o,a=e.observeMutationsRoot,l=void 0===a?N:a;En=new P((function(e){if(!xn){var t=Et();Oe(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!hn(e.addedNodes[0])&&(xe.searchPseudoElements&&s(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&xe.searchPseudoElements&&s(e.target.parentNode),"attributes"===e.type&&hn(e.target)&&~pe.indexOf(e.attributeName))if("class"===e.attributeName&&pn(e.target)){var r=Ct(ke(e.target)),o=r.prefix,a=r.iconName;e.target.setAttribute(W,o||t),a&&e.target.setAttribute(q,a)}else dn(e.target)&&i(e.target)}))}})),F&&En.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function An(){En&&En.disconnect()}function In(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function Cn(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Ct(ke(e));return i.prefix||(i.prefix=Et()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=_t(i.prefix,e.innerText)||wt(i.prefix,et(e.innerText))),!i.iconName&&xe.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function On(e){var t=Oe(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return xe.autoA11y&&(n?t["aria-labelledby"]="".concat(xe.replacementClass,"-title-").concat(r||Ce()):(t["aria-hidden"]="true",t["focusable"]="false")),t}function kn(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Me,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Cn(e),r=n.iconName,o=n.prefix,s=n.rest,a=On(e),l=Dt("parseNodeAttributes",{},e),c=t.styleParser?In(e):[];return i({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:o,transform:Me,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:a}},l)}var Ln=$e.styles;function Nn(e){var t="nest"===xe.autoReplaceSvg?Rn(e,{styleParser:!1}):Rn(e);return~t.extra.classes.indexOf(ae)?jt("generateLayersText",e,t):jt("generateSvgReplacementMutation",e,t)}var Pn=new Set;function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!F)return Promise.resolve();var n=N.documentElement.classList,r=function(e){return n.add("".concat(Z,"-").concat(e))},i=function(e){return n.remove("".concat(Z,"-").concat(e))},o=xe.autoFetchSvg?Pn:ee.map((function(e){return"fa-".concat(e)})).concat(Object.keys(Ln));o.includes("fa")||o.push("fa");var s=[".".concat(ae,":not([").concat(B,"])")].concat(o.map((function(e){return".".concat(e,":not([").concat(B,"])")}))).join(", ");if(0===s.length)return Promise.resolve();var a=[];try{a=Oe(e.querySelectorAll(s))}catch(fr){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var l=cn.begin("onTree"),c=a.reduce((function(e,t){try{var n=Nn(t);n&&e.push(n)}catch(fr){J||"MissingIcon"===fr.name&&console.error(fr)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){_n(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Nn(e).then((function(e){e&&_n([e],t)}))}function jn(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:Ut(t||{}),o=n.mask;return o&&(o=(o||{}).icon?o:Ut(o||{})),e(r,i(i({},n),{},{mask:o}))}}ee.map((function(e){Pn.add("fa-".concat(e))})),Object.keys(ne[K]).map(Pn.add.bind(Pn)),Object.keys(ne[Q]).map(Pn.add.bind(Pn)),Pn=h(Pn);var Un=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Me:n,o=t.symbol,s=void 0!==o&&o,a=t.mask,l=void 0===a?null:a,c=t.maskId,u=void 0===c?null:c,h=t.title,p=void 0===h?null:h,d=t.titleId,f=void 0===d?null:d,m=t.classes,y=void 0===m?[]:m,g=t.attributes,v=void 0===g?{}:g,b=t.styles,w=void 0===b?{}:b;if(e){var _=e.prefix,x=e.iconName,S=e.icon;return Wt(i({type:"icon"},e),(function(){return Ft("beforeDOMElementCreation",{iconDefinition:e,params:t}),xe.autoA11y&&(p?v["aria-labelledby"]="".concat(xe.replacementClass,"-title-").concat(f||Ce()):(v["aria-hidden"]="true",v["focusable"]="false")),Yt({icons:{main:Qt(S),mask:l?Qt(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:x,transform:i(i({},Me),r),symbol:s,title:p,maskId:u,titleId:f,extra:{attributes:v,styles:w,classes:y}})}))}},zn={mixout:function(){return{icon:jn(Un)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Dn,e.nodeCallback=Fn,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?N:t,r=e.callback,i=void 0===r?function(){}:r;return Dn(n,i)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,o=t.prefix,s=t.transform,a=t.symbol,l=t.mask,c=t.maskId,h=t.extra;return new Promise((function(t,p){Promise.all([nn(n,o),l.iconName?nn(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var p=u(l,2),d=p[0],f=p[1];t([e,Yt({icons:{main:d,mask:f},prefix:o,iconName:n,transform:s,symbol:a,maskId:c,title:r,titleId:i,extra:h,watchable:!0})])})).catch(p)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.transform,s=e.styles,a=Ne(s);return a.length>0&&(r["style"]=a),Pe(o)&&(t=jt("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Gn={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return Wt({type:"layer"},(function(){Ft("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(xe.cssPrefix,"-layers")].concat(h(r)).join(" ")},children:n}]}))}}}},Vn={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,o=void 0===i?[]:i,s=t.attributes,a=void 0===s?{}:s,l=t.styles,c=void 0===l?{}:l;return Wt({type:"counter",content:e},(function(){return Ft("beforeDOMElementCreation",{content:e,params:t}),Jt({content:e.toString(),title:r,extra:{attributes:a,styles:c,classes:["".concat(xe.cssPrefix,"-layers-counter")].concat(h(o))}})}))}}}},Bn={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Me:n,o=t.title,s=void 0===o?null:o,a=t.classes,l=void 0===a?[]:a,c=t.attributes,u=void 0===c?{}:c,p=t.styles,d=void 0===p?{}:p;return Wt({type:"text",content:e},(function(){return Ft("beforeDOMElementCreation",{content:e,params:t}),Xt({content:e,transform:i(i({},Me),r),title:s,extra:{attributes:u,styles:d,classes:["".concat(xe.cssPrefix,"-layers-text")].concat(h(l))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,o=null,s=null;if(j){var a=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/a,s=l.height/a}return xe.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Xt({content:e.innerHTML,width:o,height:s,transform:r,title:n,extra:i,watchable:!0})])}}},$n=new RegExp('"',"ug"),Hn=[1105920,1112319];function Wn(e){var t=e.replace($n,""),n=tt(t,0),r=n>=Hn[0]&&n<=Hn[1],i=2===t.length&&t[0]===t[1];return{value:et(i?t[0]:t),isSecondary:r||i}}function qn(e,t){var n="".concat(H).concat(t.replace(":","-"));return new Promise((function(r,o){if(null!==e.getAttribute(n))return r();var s=Oe(e.children),a=s.filter((function(e){return e.getAttribute($)===t}))[0],l=L.getComputedStyle(e,t),c=l.getPropertyValue("font-family").match(le),u=l.getPropertyValue("font-weight"),h=l.getPropertyValue("content");if(a&&!c)return e.removeChild(a),r();if(c&&"none"!==h&&""!==h){var p=l.getPropertyValue("content"),d=~["Sharp"].indexOf(c[2])?Q:K,f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?re[d][c[2].toLowerCase()]:ce[d][u],m=Wn(p),y=m.value,g=m.isSecondary,v=c[0].startsWith("FontAwesome"),b=wt(f,y),w=b;if(v){var _=Tt(y);_.iconName&&_.prefix&&(b=_.iconName,f=_.prefix)}if(!b||g||a&&a.getAttribute(W)===f&&a.getAttribute(q)===w)r();else{e.setAttribute(n,w),a&&e.removeChild(a);var x=kn(),S=x.extra;S.attributes[$]=t,nn(b,f).then((function(o){var s=Yt(i(i({},x),{},{icons:{main:o,mask:Mt()},prefix:f,iconName:w,extra:S,watchable:!0})),a=N.createElement("svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=s.map((function(e){return Ye(e)})).join("\n"),e.removeAttribute(n),r()})).catch(o)}}else r()}))}function Zn(e){return Promise.all([qn(e,"::before"),qn(e,"::after")])}function Yn(e){return e.parentNode!==document.head&&!~X.indexOf(e.tagName.toUpperCase())&&!e.getAttribute($)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Xn(e){if(F)return new Promise((function(t,n){var r=Oe(e.querySelectorAll("*")).filter(Yn).map(Zn),i=cn.begin("searchPseudoElements");Sn(),Promise.all(r).then((function(){i(),Tn(),t()})).catch((function(){i(),Tn(),n()}))}))}var Jn={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Xn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?N:t;xe.searchPseudoElements&&Xn(n)}}},Kn=!1,Qn={mixout:function(){return{dom:{unwatch:function(){Sn(),Kn=!0}}}},hooks:function(){return{bootstrap:function(){Mn(Dt("mutationObserverCallbacks",{}))},noAuto:function(){An()},watch:function(e){var t=e.observeMutationsRoot;Kn?Tn():Mn(Dt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},er=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i;break}return e}),t)},tr={mixout:function(){return{parse:{transform:function(e){return er(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=er(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,o=e.iconWidth,s={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),u={transform:"".concat(a," ").concat(l," ").concat(c)},h={transform:"translate(".concat(o/2*-1," -256)")},p={outer:s,inner:u,path:h};return{tag:"g",attributes:i({},p.outer),children:[{tag:"g",attributes:i({},p.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:i(i({},t.icon.attributes),p.path)}]}]}}}},nr={x:0,y:0,width:"100%",height:"100%"};function rr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function ir(e){return"g"===e.tag?e.children:[e]}var or={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Ct(n.split(" ").map((function(e){return e.trim()}))):Mt();return r.prefix||(r.prefix=Et()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t=e.children,n=e.attributes,r=e.main,o=e.mask,s=e.maskId,a=e.transform,l=r.width,c=r.icon,u=o.width,h=o.icon,p=De({transform:a,containerWidth:u,iconWidth:l}),d={tag:"rect",attributes:i(i({},nr),{},{fill:"white"})},f=c.children?{children:c.children.map(rr)}:{},m={tag:"g",attributes:i({},p.inner),children:[rr(i({tag:c.tag,attributes:i(i({},c.attributes),p.path)},f))]},y={tag:"g",attributes:i({},p.outer),children:[m]},g="mask-".concat(s||Ce()),v="clip-".concat(s||Ce()),b={tag:"mask",attributes:i(i({},nr),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,y]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:ir(h)},b]};return t.push(w,{tag:"rect",attributes:i({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(g,")")},nr)}),{children:t,attributes:n}}}},sr={provides:function(e){var t=!1;L.matchMedia&&(t=L.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:i(i({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=i(i({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:i(i({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:i(i({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:i(i({},o),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:i(i({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:i(i({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:i(i({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:i(i({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},ar={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e["symbol"]=r,e}}}},lr=[Ve,zn,Gn,Vn,Bn,Jn,Qn,tr,or,sr,ar];Pt(lr,{mixoutsTo:$t});$t.noAuto;var cr=$t.config,ur=$t.library,hr=($t.dom,$t.parse),pr=($t.findIconDefinition,$t.toHtml,$t.icon),dr=($t.layer,$t.text);$t.counter},37875:function(e,t,n){"use strict";n.d(t,{Vz1:function(){return r}});var r={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]}},2586:function(e,t,n){"use strict";function r(e,t){return function(){return e.apply(t,arguments)}}n.d(t,{A:function(){return jt}});const{toString:i}=Object.prototype,{getPrototypeOf:o}=Object,s=(e=>t=>{const n=i.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),a=e=>(e=e.toLowerCase(),t=>s(t)===e),l=e=>t=>typeof t===e,{isArray:c}=Array,u=l("undefined");function h(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const p=a("ArrayBuffer");function d(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t}const f=l("string"),m=l("function"),y=l("number"),g=e=>null!==e&&"object"===typeof e,v=e=>!0===e||!1===e,b=e=>{if("object"!==s(e))return!1;const t=o(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},w=a("Date"),_=a("File"),x=a("Blob"),S=a("FileList"),T=e=>g(e)&&m(e.pipe),E=e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=s(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},M=a("URLSearchParams"),A=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function I(e,t,{allOwnKeys:n=!1}={}){if(null===e||"undefined"===typeof e)return;let r,i;if("object"!==typeof e&&(e=[e]),c(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function C(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;while(i-- >0)if(r=n[i],t===r.toLowerCase())return r;return null}const O=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),k=e=>!u(e)&&e!==O;function R(){const{caseless:e}=k(this)&&this||{},t={},n=(n,r)=>{const i=e&&C(t,r)||r;b(t[i])&&b(n)?t[i]=R(t[i],n):b(n)?t[i]=R({},n):c(n)?t[i]=n.slice():t[i]=n};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&I(arguments[r],n);return t}const L=(e,t,n,{allOwnKeys:i}={})=>(I(t,((t,i)=>{n&&m(t)?e[i]=r(t,n):e[i]=t}),{allOwnKeys:i}),e),N=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),P=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},D=(e,t,n,r)=>{let i,s,a;const l={};if(t=t||{},null==e)return t;do{i=Object.getOwnPropertyNames(e),s=i.length;while(s-- >0)a=i[s],r&&!r(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==n&&o(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},F=(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},j=e=>{if(!e)return null;if(c(e))return e;let t=e.length;if(!y(t))return null;const n=new Array(t);while(t-- >0)n[t]=e[t];return n},U=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&o(Uint8Array)),z=(e,t)=>{const n=e&&e[Symbol.iterator],r=n.call(e);let i;while((i=r.next())&&!i.done){const n=i.value;t.call(e,n[0],n[1])}},G=(e,t)=>{let n;const r=[];while(null!==(n=e.exec(t)))r.push(n);return r},V=a("HTMLFormElement"),B=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),$=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),H=a("RegExp"),W=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};I(n,((n,i)=>{!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},q=e=>{W(e,((t,n)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];m(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},Z=(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return c(e)?r(e):r(String(e).split(t)),n},Y=()=>{},X=(e,t)=>(e=+e,Number.isFinite(e)?e:t),J="abcdefghijklmnopqrstuvwxyz",K="0123456789",Q={DIGIT:K,ALPHA:J,ALPHA_DIGIT:J+J.toUpperCase()+K},ee=(e=16,t=Q.ALPHA_DIGIT)=>{let n="";const{length:r}=t;while(e--)n+=t[Math.random()*r|0];return n};function te(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const ne=e=>{const t=new Array(10),n=(e,r)=>{if(g(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=c(e)?[]:{};return I(e,((e,t)=>{const o=n(e,r+1);!u(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},re=a("AsyncFunction"),ie=e=>e&&(g(e)||m(e))&&m(e.then)&&m(e.catch);var oe={isArray:c,isArrayBuffer:p,isBuffer:h,isFormData:E,isArrayBufferView:d,isString:f,isNumber:y,isBoolean:v,isObject:g,isPlainObject:b,isUndefined:u,isDate:w,isFile:_,isBlob:x,isRegExp:H,isFunction:m,isStream:T,isURLSearchParams:M,isTypedArray:U,isFileList:S,forEach:I,merge:R,extend:L,trim:A,stripBOM:N,inherits:P,toFlatObject:D,kindOf:s,kindOfTest:a,endsWith:F,toArray:j,forEachEntry:z,matchAll:G,isHTMLForm:V,hasOwnProperty:$,hasOwnProp:$,reduceDescriptors:W,freezeMethods:q,toObjectSet:Z,toCamelCase:B,noop:Y,toFiniteNumber:X,findKey:C,global:O,isContextDefined:k,ALPHABET:Q,generateString:ee,isSpecCompliantForm:te,toJSONObject:ne,isAsyncFn:re,isThenable:ie};function se(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}oe.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ae=se.prototype,le={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{le[e]={value:e}})),Object.defineProperties(se,le),Object.defineProperty(ae,"isAxiosError",{value:!0}),se.from=(e,t,n,r,i,o)=>{const s=Object.create(ae);return oe.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),se.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};var ce=se,ue=null;function he(e){return oe.isPlainObject(e)||oe.isArray(e)}function pe(e){return oe.endsWith(e,"[]")?e.slice(0,-2):e}function de(e,t,n){return e?e.concat(t).map((function(e,t){return e=pe(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}function fe(e){return oe.isArray(e)&&!e.some(he)}const me=oe.toFlatObject(oe,{},null,(function(e){return/^is[A-Z]/.test(e)}));function ye(e,t,n){if(!oe.isObject(e))throw new TypeError("target must be an object");t=t||new(ue||FormData),n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!oe.isUndefined(t[e])}));const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,a=n.Blob||"undefined"!==typeof Blob&&Blob,l=a&&oe.isSpecCompliantForm(t);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(oe.isDate(e))return e.toISOString();if(!l&&oe.isBlob(e))throw new ce("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(e)||oe.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(oe.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(oe.isArray(e)&&fe(e)||(oe.isFileList(e)||oe.endsWith(n,"[]"))&&(a=oe.toArray(e)))return n=pe(n),a.forEach((function(e,r){!oe.isUndefined(e)&&null!==e&&t.append(!0===s?de([n],r,o):null===s?n:n+"[]",c(e))})),!1;return!!he(e)||(t.append(de(i,n,o),c(e)),!1)}const h=[],p=Object.assign(me,{defaultVisitor:u,convertValue:c,isVisitable:he});function d(e,n){if(!oe.isUndefined(e)){if(-1!==h.indexOf(e))throw Error("Circular reference detected in "+n.join("."));h.push(e),oe.forEach(e,(function(e,r){const o=!(oe.isUndefined(e)||null===e)&&i.call(t,e,oe.isString(r)?r.trim():r,n,p);!0===o&&d(e,n?n.concat(r):[r])})),h.pop()}}if(!oe.isObject(e))throw new TypeError("data must be an object");return d(e),t}var ge=ye;function ve(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function be(e,t){this._pairs=[],e&&ge(e,this,t)}const we=be.prototype;we.append=function(e,t){this._pairs.push([e,t])},we.toString=function(e){const t=e?function(t){return e.call(this,t,ve)}:ve;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var _e=be;function xe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Se(e,t,n){if(!t)return e;const r=n&&n.encode||xe,i=n&&n.serialize;let o;if(o=i?i(t,n):oe.isURLSearchParams(t)?t.toString():new _e(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}class Te{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var Ee=Te,Me={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ae="undefined"!==typeof URLSearchParams?URLSearchParams:_e,Ie="undefined"!==typeof FormData?FormData:null,Ce="undefined"!==typeof Blob?Blob:null;const Oe=(()=>{let e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)})(),ke=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)();var Re={isBrowser:!0,classes:{URLSearchParams:Ae,FormData:Ie,Blob:Ce},isStandardBrowserEnv:Oe,isStandardBrowserWebWorkerEnv:ke,protocols:["http","https","file","blob","url","data"]};function Le(e,t){return ge(e,new Re.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Re.isNode&&oe.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function Ne(e){return oe.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function Pe(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function De(e){function t(e,n,r,i){let o=e[i++];const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&oe.isArray(r)?r.length:o,a)return oe.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&oe.isObject(r[o])||(r[o]=[]);const l=t(e,n,r[o],i);return l&&oe.isArray(r[o])&&(r[o]=Pe(r[o])),!s}if(oe.isFormData(e)&&oe.isFunction(e.entries)){const n={};return oe.forEachEntry(e,((e,r)=>{t(Ne(e),r,n,0)})),n}return null}var Fe=De;const je={"Content-Type":void 0};function Ue(e,t,n){if(oe.isString(e))try{return(t||JSON.parse)(e),oe.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}const ze={transitional:Me,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=oe.isObject(e);i&&oe.isHTMLForm(e)&&(e=new FormData(e));const o=oe.isFormData(e);if(o)return r&&r?JSON.stringify(Fe(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Le(e,this.formSerializer).toString();if((s=oe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ge(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),Ue(e)):e}],transformResponse:[function(e){const t=this.transitional||ze.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&oe.isString(e)&&(n&&!this.responseType||r)){const n=t&&t.silentJSONParsing,o=!n&&r;try{return JSON.parse(e)}catch(i){if(o){if("SyntaxError"===i.name)throw ce.from(i,ce.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Re.classes.FormData,Blob:Re.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};oe.forEach(["delete","get","head"],(function(e){ze.headers[e]={}})),oe.forEach(["post","put","patch"],(function(e){ze.headers[e]=oe.merge(je)}));var Ge=ze;const Ve=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Be=e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Ve[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t};const $e=Symbol("internals");function He(e){return e&&String(e).trim().toLowerCase()}function We(e){return!1===e||null==e?e:oe.isArray(e)?e.map(We):String(e)}function qe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;while(r=n.exec(e))t[r[1]]=r[2];return t}const Ze=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ye(e,t,n,r,i){return oe.isFunction(r)?r.call(this,t,n):(i&&(t=n),oe.isString(t)?oe.isString(r)?-1!==t.indexOf(r):oe.isRegExp(r)?r.test(t):void 0:void 0)}function Xe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}function Je(e,t){const n=oe.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}class Ke{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=He(t);if(!i)throw new Error("header name must be a non-empty string");const o=oe.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=We(e))}const o=(e,t)=>oe.forEach(e,((e,n)=>i(e,n,t)));return oe.isPlainObject(e)||e instanceof this.constructor?o(e,t):oe.isString(e)&&(e=e.trim())&&!Ze(e)?o(Be(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=He(e),e){const n=oe.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return qe(e);if(oe.isFunction(t))return t.call(this,e,n);if(oe.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=He(e),e){const n=oe.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ye(this,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=He(e),e){const i=oe.findKey(n,e);!i||t&&!Ye(n,n[i],i,t)||(delete n[i],r=!0)}}return oe.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;while(n--){const i=t[n];e&&!Ye(this,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return oe.forEach(this,((r,i)=>{const o=oe.findKey(n,i);if(o)return t[o]=We(r),void delete t[i];const s=e?Xe(i):String(i).trim();s!==i&&delete t[i],t[s]=We(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&oe.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=this[$e]=this[$e]={accessors:{}},n=t.accessors,r=this.prototype;function i(e){const t=He(e);n[t]||(Je(r,e),n[t]=!0)}return oe.isArray(e)?e.forEach(i):i(e),this}}Ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oe.freezeMethods(Ke.prototype),oe.freezeMethods(Ke);var Qe=Ke;function et(e,t){const n=this||Ge,r=t||n,i=Qe.from(r.headers);let o=r.data;return oe.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function tt(e){return!(!e||!e.__CANCEL__)}function nt(e,t,n){ce.call(this,null==e?"canceled":e,ce.ERR_CANCELED,t,n),this.name="CanceledError"}oe.inherits(nt,ce,{__CANCEL__:!0});var rt=nt;function it(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new ce("Request failed with status code "+n.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var ot=Re.isStandardBrowserEnv?function(){return{write:function(e,t,n,r,i,o){const s=[];s.push(e+"="+encodeURIComponent(t)),oe.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&s.push("path="+r),oe.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function st(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function at(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function lt(e,t){return e&&!st(t)?at(e,t):t}var ct=Re.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=oe.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return function(){return!0}}();function ut(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ht(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,h=0;while(u!==o)h+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const p=c&&l-c;return p?Math.round(1e3*h/p):void 0}}var pt=ht;function dt(e,t){let n=0;const r=pt(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a),c=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-o)/l:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const ft="undefined"!==typeof XMLHttpRequest;var mt=ft&&function(e){return new Promise((function(t,n){let r=e.data;const i=Qe.from(e.headers).normalize(),o=e.responseType;let s;function a(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}oe.isFormData(r)&&(Re.isStandardBrowserEnv||Re.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const c=lt(e.baseURL,e.url);function u(){if(!l)return;const r=Qe.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),i=o&&"text"!==o&&"json"!==o?l.response:l.responseText,s={data:i,status:l.status,statusText:l.statusText,headers:r,config:e,request:l};it((function(e){t(e),a()}),(function(e){n(e),a()}),s),l=null}if(l.open(e.method.toUpperCase(),Se(c,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new ce("Request aborted",ce.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new ce("Network Error",ce.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Me;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new ce(t,r.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,l)),l=null},Re.isStandardBrowserEnv){const t=(e.withCredentials||ct(c))&&e.xsrfCookieName&&ot.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in l&&oe.forEach(i.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),oe.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),o&&"json"!==o&&(l.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",dt(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",dt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{l&&(n(!t||t.type?new rt(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const h=ut(c);h&&-1===Re.protocols.indexOf(h)?n(new ce("Unsupported protocol "+h+":",ce.ERR_BAD_REQUEST,e)):l.send(r||null)}))};const yt={http:ue,xhr:mt};oe.forEach(yt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var gt={getAdapter:e=>{e=oe.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t;i++)if(n=e[i],r=oe.isString(n)?yt[n.toLowerCase()]:n)break;if(!r){if(!1===r)throw new ce(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(oe.hasOwnProp(yt,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!oe.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:yt};function vt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rt(null,e)}function bt(e){vt(e),e.headers=Qe.from(e.headers),e.data=et.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=gt.getAdapter(e.adapter||Ge.adapter);return t(e).then((function(t){return vt(e),t.data=et.call(e,e.transformResponse,t),t.headers=Qe.from(t.headers),t}),(function(t){return tt(t)||(vt(e),t&&t.response&&(t.response.data=et.call(e,e.transformResponse,t.response),t.response.headers=Qe.from(t.response.headers))),Promise.reject(t)}))}const wt=e=>e instanceof Qe?e.toJSON():e;function _t(e,t){t=t||{};const n={};function r(e,t,n){return oe.isPlainObject(e)&&oe.isPlainObject(t)?oe.merge.call({caseless:n},e,t):oe.isPlainObject(t)?oe.merge({},t):oe.isArray(t)?t.slice():t}function i(e,t,n){return oe.isUndefined(t)?oe.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!oe.isUndefined(t))return r(void 0,t)}function s(e,t){return oe.isUndefined(t)?oe.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(wt(e),wt(t),!0)};return oe.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);oe.isUndefined(s)&&o!==a||(n[r]=s)})),n}const xt="1.4.0",St={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{St[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Tt={};function Et(e,t,n){if("object"!==typeof e)throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;while(i-- >0){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new ce("option "+o+" must be "+n,ce.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ce("Unknown option "+o,ce.ERR_BAD_OPTION)}}St.transitional=function(e,t,n){function r(e,t){return"[Axios v"+xt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new ce(r(i," has been removed"+(t?" in "+t:"")),ce.ERR_DEPRECATED);return t&&!Tt[i]&&(Tt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var Mt={assertOptions:Et,validators:St};const At=Mt.validators;class It{constructor(e){this.defaults=e,this.interceptors={request:new Ee,response:new Ee}}request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=_t(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;let o;void 0!==n&&Mt.assertOptions(n,{silentJSONParsing:At.transitional(At.boolean),forcedJSONParsing:At.transitional(At.boolean),clarifyTimeoutError:At.transitional(At.boolean)},!1),null!=r&&(oe.isFunction(r)?t.paramsSerializer={serialize:r}:Mt.assertOptions(r,{encode:At.function,serialize:At.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),o=i&&oe.merge(i.common,i[t.method]),o&&oe.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Qe.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[bt.bind(this),void 0];e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);while(h<u)c=c.then(e[h++],e[h++]);return c}u=s.length;let p=t;h=0;while(h<u){const e=s[h++],t=s[h++];try{p=e(p)}catch(d){t.call(this,d);break}}try{c=bt.call(this,p)}catch(d){return Promise.reject(d)}h=0,u=l.length;while(h<u)c=c.then(l[h++],l[h++]);return c}getUri(e){e=_t(this.defaults,e);const t=lt(e.baseURL,e.url);return Se(t,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],(function(e){It.prototype[e]=function(t,n){return this.request(_t(n||{},{method:e,url:t,data:(n||{}).data}))}})),oe.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(_t(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}It.prototype[e]=t(),It.prototype[e+"Form"]=t(!0)}));var Ct=It;class Ot{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;while(t-- >0)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new rt(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Ot((function(t){e=t}));return{token:t,cancel:e}}}var kt=Ot;function Rt(e){return function(t){return e.apply(null,t)}}function Lt(e){return oe.isObject(e)&&!0===e.isAxiosError}const Nt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nt).forEach((([e,t])=>{Nt[t]=e}));var Pt=Nt;function Dt(e){const t=new Ct(e),n=r(Ct.prototype.request,t);return oe.extend(n,Ct.prototype,t,{allOwnKeys:!0}),oe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(t){return Dt(_t(e,t))},n}const Ft=Dt(Ge);Ft.Axios=Ct,Ft.CanceledError=rt,Ft.CancelToken=kt,Ft.isCancel=tt,Ft.VERSION=xt,Ft.toFormData=ge,Ft.AxiosError=ce,Ft.Cancel=Ft.CanceledError,Ft.all=function(e){return Promise.all(e)},Ft.spread=Rt,Ft.isAxiosError=Lt,Ft.mergeConfig=_t,Ft.AxiosHeaders=Qe,Ft.formToJSON=e=>Fe(oe.isHTMLForm(e)?new FormData(e):e),Ft.HttpStatusCode=Pt,Ft.default=Ft;var jt=Ft},44444:function(e,t,n){"use strict";n.r(t),n.d(t,{$:function(){return RY},A:function(){return pNe},B:function(){return lr},C:function(){return Il},D:function(){return sd},E:function(){return st},F:function(){return put},G:function(){return Ye},H:function(){return bSe},I:function(){return ba},J:function(){return or},K:function(){return rse},L:function(){return ym},M:function(){return ise},N:function(){return ZP},O:function(){return YP},P:function(){return XP},Q:function(){return A},R:function(){return al},S:function(){return Wf},T:function(){return _e},U:function(){return Bl},V:function(){return WY},W:function(){return $Y},X:function(){return Sr},Y:function(){return _m},Z:function(){return bm},_:function(){return qa},a:function(){return W2},a$:function(){return nv},a0:function(){return g5},a1:function(){return jL},a2:function(){return sse},a3:function(){return mM},a4:function(){return nh},a5:function(){return Qu},a6:function(){return ih},a7:function(){return ah},a8:function(){return Rc},a9:function(){return iF},aA:function(){return PMe},aB:function(){return JMe},aC:function(){return _Me},aD:function(){return oe},aE:function(){return le},aF:function(){return ue},aG:function(){return P},aH:function(){return me},aI:function(){return yt},aJ:function(){return tAe},aK:function(){return EAe},aL:function(){return OAe},aM:function(){return XAe},aN:function(){return cv},aO:function(){return NEe},aP:function(){return LEe},aQ:function(){return yMe},aR:function(){return bMe},aS:function(){return wMe},aT:function(){return gMe},aU:function(){return Wh},aV:function(){return e1},aW:function(){return o1},aX:function(){return t1},aY:function(){return Ip},aZ:function(){return no},a_:function(){return lv},aa:function(){return pF},ab:function(){return fF},ac:function(){return mF},ad:function(){return TF},ae:function(){return LF},af:function(){return NF},ag:function(){return IF},ah:function(){return CF},ai:function(){return RF},aj:function(){return UF},ak:function(){return zF},al:function(){return nSe},am:function(){return rSe},an:function(){return ASe},ao:function(){return tSe},ap:function(){return oC},aq:function(){return aC},ar:function(){return sF},as:function(){return Ve},at:function(){return Ne},au:function(){return OT},av:function(){return wT},aw:function(){return Ua},ax:function(){return wl},ay:function(){return vMe},az:function(){return kMe},b:function(){return AV},b$:function(){return xT},b0:function(){return Wm},b1:function(){return $e},b2:function(){return tg},b3:function(){return eh},b4:function(){return $s},b5:function(){return J4},b6:function(){return hv},b7:function(){return uv},b8:function(){return dv},b9:function(){return pv},bA:function(){return de},bB:function(){return ye},bC:function(){return Hm},bD:function(){return E2},bE:function(){return J1},bF:function(){return S2},bG:function(){return bh},bH:function(){return wh},bI:function(){return _h},bJ:function(){return xh},bK:function(){return ch},bL:function(){return hh},bM:function(){return Sa},bN:function(){return kl},bO:function(){return mue},bP:function(){return xie},bQ:function(){return khe},bR:function(){return WW},bS:function(){return mv},bT:function(){return th},bU:function(){return Sy},bV:function(){return cM},bW:function(){return uM},bX:function(){return hM},bY:function(){return QS},bZ:function(){return bT},b_:function(){return ST},ba:function(){return Ig},bb:function(){return Q4},bc:function(){return Fy},bd:function(){return K4},be:function(){return Bj},bf:function(){return $j},bg:function(){return qm},bh:function(){return Tt},bi:function(){return Qj},bj:function(){return Er},bk:function(){return ULe},bl:function(){return JW},bm:function(){return US},bn:function(){return Gd},bo:function(){return Wd},bp:function(){return Be},bq:function(){return n5},br:function(){return t5},bs:function(){return r5},bt:function(){return S},bu:function(){return To},bv:function(){return gs},bw:function(){return Hs},bx:function(){return tq},by:function(){return nse},bz:function(){return zi},c:function(){return L},c$:function(){return vH},c0:function(){return BS},c1:function(){return _T},c2:function(){return l4},c3:function(){return pxe},c4:function(){return gxe},c5:function(){return b_e},c6:function(){return Txe},c7:function(){return dr},c8:function(){return exe},c9:function(){return YR},cA:function(){return AMe},cB:function(){return ege},cC:function(){return bl},cD:function(){return Ue},cE:function(){return lO},cF:function(){return kO},cG:function(){return kg},cH:function(){return fO},cI:function(){return OO},cJ:function(){return Lc},cK:function(){return Nc},cL:function(){return Xoe},cM:function(){return Zn},cN:function(){return j},cO:function(){return ITe},cP:function(){return D},cQ:function(){return _v},cR:function(){return SOe},cS:function(){return Zke},cT:function(){return Mke},cU:function(){return lOe},cV:function(){return Dke},cW:function(){return ZCe},cX:function(){return EOe},cY:function(){return dh},cZ:function(){return lG},c_:function(){return $G},ca:function(){return RE},cb:function(){return mE},cc:function(){return WR},cd:function(){return tL},ce:function(){return SI},cf:function(){return JV},cg:function(){return nV},ch:function(){return mt},ci:function(){return q},cj:function(){return c2},ck:function(){return d2},cl:function(){return f2},cm:function(){return sp},cn:function(){return Tu},co:function(){return xu},cp:function(){return _u},cq:function(){return Iu},cr:function(){return Pu},cs:function(){return v2},ct:function(){return iAe},cu:function(){return IMe},cv:function(){return CMe},cw:function(){return TMe},cx:function(){return EMe},cy:function(){return aAe},cz:function(){return zMe},d:function(){return pq},d$:function(){return xO},d0:function(){return pM},d1:function(){return nE},d2:function(){return DI},d3:function(){return HG},d4:function(){return dc},d5:function(){return AO},d6:function(){return bae},d7:function(){return mg},d8:function(){return Oie},d9:function(){return Cie},dA:function(){return sC},dB:function(){return Fxe},dC:function(){return Zxe},dD:function(){return Kxe},dE:function(){return Dxe},dF:function(){return Nxe},dG:function(){return Co},dH:function(){return at},dI:function(){return Qa},dJ:function(){return La},dK:function(){return nl},dL:function(){return lt},dM:function(){return A2},dN:function(){return vv},dO:function(){return hq},dP:function(){return rg},dQ:function(){return Pxe},dR:function(){return Xxe},dS:function(){return Lxe},dT:function(){return _Se},dU:function(){return Km},dV:function(){return Rq},dW:function(){return Oq},dX:function(){return cSe},dY:function(){return $q},dZ:function(){return My},d_:function(){return BD},da:function(){return mh},db:function(){return KD},dc:function(){return qW},dd:function(){return $E},de:function(){return HE},df:function(){return Rue},dg:function(){return tu},dh:function(){return aae},di:function(){return Pue},dj:function(){return lae},dk:function(){return oae},dl:function(){return sae},dm:function(){return iae},dn:function(){return lE},dp:function(){return aM},dq:function(){return bM},dr:function(){return AM},ds:function(){return lM},dt:function(){return vM},du:function(){return fh},dv:function(){return ly},dw:function(){return Da},dx:function(){return hae},dy:function(){return Wp},dz:function(){return Rie},e:function(){return wf},e$:function(){return LCe},e0:function(){return FO},e1:function(){return dp},e2:function(){return eJ},e3:function(){return WM},e4:function(){return kY},e5:function(){return gr},e6:function(){return mr},e7:function(){return Vs},e8:function(){return iI},e9:function(){return Ms},eA:function(){return Of},eB:function(){return Cf},eC:function(){return zf},eD:function(){return nn},eE:function(){return Ga},eF:function(){return Nf},eG:function(){return Va},eH:function(){return Pf},eI:function(){return k0},eJ:function(){return Ya},eK:function(){return Gf},eL:function(){return eL},eM:function(){return en},eN:function(){return rn},eO:function(){return su},eP:function(){return gL},eQ:function(){return i4},eR:function(){return ag},eS:function(){return y2},eT:function(){return gg},eU:function(){return og},eV:function(){return Pe},eW:function(){return u4},eX:function(){return vg},eY:function(){return jr},eZ:function(){return LOe},e_:function(){return sOe},ea:function(){return IY},eb:function(){return d3},ec:function(){return H0},ed:function(){return J2},ee:function(){return f3},ef:function(){return sB},eg:function(){return Cp},eh:function(){return VJ},ei:function(){return PJ},ej:function(){return NJ},ek:function(){return AI},el:function(){return DC},em:function(){return GR},en:function(){return fL},eo:function(){return uL},ep:function(){return kH},eq:function(){return _q},er:function(){return CY},es:function(){return oq},et:function(){return Jm},eu:function(){return $xe},ev:function(){return Hxe},ew:function(){return xSe},ex:function(){return DJ},ey:function(){return Eo},ez:function(){return $t},f:function(){return Y2},f$:function(){return yHe},f0:function(){return kp},f1:function(){return fv},f2:function(){return LW},f3:function(){return wr},f4:function(){return Xp},f5:function(){return Yp},f6:function(){return E},f7:function(){return Khe},f8:function(){return xr},f9:function(){return It},fA:function(){return Xm},fB:function(){return Qq},fC:function(){return cC},fD:function(){return eZ},fE:function(){return mZ},fF:function(){return ky},fG:function(){return mu},fH:function(){return EEe},fI:function(){return hqe},fJ:function(){return V4e},fK:function(){return U6e},fL:function(){return Lat},fM:function(){return vJe},fN:function(){return oZe},fO:function(){return lZe},fP:function(){return PWe},fQ:function(){return wXe},fR:function(){return MXe},fS:function(){return NWe},fT:function(){return RXe},fU:function(){return EXe},fV:function(){return hZe},fW:function(){return BVe},fX:function(){return _Be},fY:function(){return _He},fZ:function(){return fXe},f_:function(){return nYe},fa:function(){return Zfe},fb:function(){return At},fc:function(){return f7},fd:function(){return M2},fe:function(){return I2},ff:function(){return lp},fg:function(){return xl},fh:function(){return au},fi:function(){return Wc},fj:function(){return Fae},fk:function(){return RK},fl:function(){return FW},fm:function(){return UY},fn:function(){return zY},fo:function(){return jY},fp:function(){return PY},fq:function(){return MH},fr:function(){return yq},fs:function(){return W},ft:function(){return vr},fu:function(){return gse},fv:function(){return IX},fw:function(){return goe},fx:function(){return vC},fy:function(){return bC},fz:function(){return wC},g:function(){return OV},g$:function(){return qR},g0:function(){return fqe},g1:function(){return h0e},g2:function(){return qqe},g3:function(){return jYe},g4:function(){return Zqe},g5:function(){return Jqe},g6:function(){return FXe},g7:function(){return UXe},g8:function(){return Nat},g9:function(){return v0e},gA:function(){return ybe},gB:function(){return xbe},gC:function(){return Jbe},gD:function(){return Sbe},gE:function(){return Ebe},gF:function(){return _be},gG:function(){return cr},gH:function(){return Hbe},gI:function(){return bH},gJ:function(){return gle},gK:function(){return Mt},gL:function(){return fr},gM:function(){return Tv},gN:function(){return DMe},gO:function(){return vt},gP:function(){return Al},gQ:function(){return wa},gR:function(){return _a},gS:function(){return sle},gT:function(){return ig},gU:function(){return gbe},gV:function(){return age},gW:function(){return bbe},gX:function(){return mbe},gY:function(){return LX},gZ:function(){return ut},g_:function(){return Hye},ga:function(){return qLe},gb:function(){return Dp},gc:function(){return Rbe},gd:function(){return uy},ge:function(){return dbe},gf:function(){return uSe},gg:function(){return Gp},gh:function(){return sh},gi:function(){return uh},gj:function(){return ph},gk:function(){return Aq},gl:function(){return Qxe},gm:function(){return Pq},gn:function(){return Fq},go:function(){return ay},gp:function(){return rh},gq:function(){return c1},gr:function(){return G1},gs:function(){return V1},gt:function(){return s1},gu:function(){return Vq},gv:function(){return a1},gw:function(){return Cq},gx:function(){return oK},gy:function(){return xhe},gz:function(){return hr},h:function(){return N},h$:function(){return c0e},h0:function(){return tr},h1:function(){return UI},h2:function(){return gy},h3:function(){return qle},h4:function(){return LXe},h5:function(){return Lqe},h6:function(){return cte},h7:function(){return re},h8:function(){return hSe},h9:function(){return Yxe},hA:function(){return oue},hB:function(){return eue},hC:function(){return Cm},hD:function(){return ru},hE:function(){return J3},hF:function(){return Ct},hG:function(){return nL},hH:function(){return XR},hI:function(){return We},hJ:function(){return bv},hK:function(){return I3},hL:function(){return QV},hM:function(){return PK},hN:function(){return aJ},hO:function(){return yo},hP:function(){return $J},hQ:function(){return BJ},hR:function(){return zJ},hS:function(){return Rat},hT:function(){return pHe},hU:function(){return l0e},hV:function(){return hlt},hW:function(){return mMe},hX:function(){return w5},hY:function(){return Tbe},hZ:function(){return kAe},h_:function(){return fMe},ha:function(){return so},hb:function(){return s5},hc:function(){return k9},hd:function(){return dle},he:function(){return ple},hf:function(){return kf},hg:function(){return Q0},hh:function(){return z0},hi:function(){return VX},hj:function(){return S3},hk:function(){return hE},hl:function(){return dE},hm:function(){return U3},hn:function(){return WJ},ho:function(){return ZS},hp:function(){return LJ},hq:function(){return r0},hr:function(){return R3},hs:function(){return UJ},ht:function(){return RJ},hu:function(){return HV},hv:function(){return WV},hw:function(){return kJ},hx:function(){return M3},hy:function(){return C3},hz:function(){return aue},i:function(){return B2},i$:function(){return fq},i0:function(){return plt},i1:function(){return $h},i2:function(){return Ile},i3:function(){return jhe},i4:function(){return Xh},i5:function(){return Jh},i6:function(){return Kh},i7:function(){return Qh},i8:function(){return ep},i9:function(){return tp},iA:function(){return l1},iB:function(){return ZF},iC:function(){return Eh},iD:function(){return lC},iE:function(){return Rye},iF:function(){return Bxe},iG:function(){return jxe},iH:function(){return F5},iI:function(){return A6},iJ:function(){return Gte},iK:function(){return Jee},iL:function(){return sne},iM:function(){return Vte},iN:function(){return d6},iO:function(){return f6},iP:function(){return i6},iQ:function(){return g6},iR:function(){return y6},iS:function(){return M6},iT:function(){return _oe},iU:function(){return r2},iV:function(){return XF},iW:function(){return Xt},iX:function(){return oSe},iY:function(){return Jxe},iZ:function(){return XX},i_:function(){return mq},ia:function(){return yc},ib:function(){return hn},ic:function(){return T},id:function(){return xMe},ie:function(){return SMe},ig:function(){return Wve},ih:function(){return cF},ii:function(){return aNe},ij:function(){return lNe},ik:function(){return qp},il:function(){return m2},im:function(){return yue},io:function(){return zW},ip:function(){return wae},iq:function(){return oP},ir:function(){return li},is:function(){return roe},it:function(){return yC},iu:function(){return Vxe},iv:function(){return MSe},iw:function(){return ISe},ix:function(){return Obe},iy:function(){return DF},iz:function(){return lh},j:function(){return bD},j$:function(){return $Z},j0:function(){return vq},j1:function(){return bq},j2:function(){return dme},j3:function(){return Y0},j4:function(){return Ui},j5:function(){return Vfe},j6:function(){return yH},j7:function(){return vQ},j8:function(){return YY},j9:function(){return hK},jA:function(){return MK},jB:function(){return mK},jC:function(){return yK},jD:function(){return gK},jE:function(){return vK},jF:function(){return bK},jG:function(){return wK},jH:function(){return _3},jI:function(){return wt},jJ:function(){return Wi},jK:function(){return xv},jL:function(){return g2},jM:function(){return ult},jN:function(){return hKe},jO:function(){return G6e},jP:function(){return Fle},jQ:function(){return bt},jR:function(){return pg},jS:function(){return ft},jT:function(){return Qc},jU:function(){return fg},jV:function(){return y0e},jW:function(){return fct},jX:function(){return HD},jY:function(){return ob},jZ:function(){return Ub},j_:function(){return fb},ja:function(){return jK},jb:function(){return _K},jc:function(){return F3},jd:function(){return Xs},je:function(){return Oa},jf:function(){return P2},jg:function(){return Lo},jh:function(){return TN},ji:function(){return $V},jj:function(){return FD},jk:function(){return J6},jl:function(){return Uj},jm:function(){return Z6},jn:function(){return n8},jo:function(){return xK},jp:function(){return AK},jq:function(){return OJ},jr:function(){return rD},js:function(){return nD},jt:function(){return tD},ju:function(){return LK},jv:function(){return lK},jw:function(){return uK},jx:function(){return pr},jy:function(){return dK},jz:function(){return fK},k:function(){return Xk},k$:function(){return Bke},k0:function(){return FZ},k1:function(){return jZ},k2:function(){return _Ee},k3:function(){return cEe},k4:function(){return uEe},k5:function(){return mEe},k6:function(){return yEe},k7:function(){return hEe},k8:function(){return pEe},k9:function(){return dEe},kA:function(){return OHe},kB:function(){return Vn},kC:function(){return Qm},kD:function(){return cO},kE:function(){return mO},kF:function(){return dO},kG:function(){return Mr},kH:function(){return Ar},kI:function(){return cse},kJ:function(){return lse},kK:function(){return ese},kL:function(){return ose},kM:function(){return cNe},kN:function(){return qJe},kO:function(){return hQe},kP:function(){return mHe},kQ:function(){return aoe},kR:function(){return ae},kS:function(){return ce},kT:function(){return jI},kU:function(){return FI},kV:function(){return Hle},kW:function(){return Hu},kX:function(){return Mh},kY:function(){return Ale},kZ:function(){return ble},k_:function(){return xle},ka:function(){return fEe},kb:function(){return EQe},kc:function(){return AQe},kd:function(){return nlt},ke:function(){return rlt},kf:function(){return clt},kg:function(){return alt},kh:function(){return slt},ki:function(){return yct},kj:function(){return h},kk:function(){return dlt},kl:function(){return m0e},km:function(){return nHe},kn:function(){return i},ko:function(){return x},kp:function(){return XLe},kq:function(){return FVe},kr:function(){return AGe},ks:function(){return Pat},kt:function(){return fNe},ku:function(){return glt},kv:function(){return yd},kw:function(){return Id},kx:function(){return AHe},ky:function(){return dZe},kz:function(){return BXe},l:function(){return Z2},l$:function(){return n6},l0:function(){return Fke},l1:function(){return RCe},l2:function(){return NRe},l3:function(){return wRe},l4:function(){return eRe},l5:function(){return jRe},l6:function(){return cCe},l7:function(){return Gde},l8:function(){return we},l9:function(){return ur},lA:function(){return IEe},lB:function(){return SEe},lC:function(){return aD},lD:function(){return lD},lE:function(){return sD},lF:function(){return vG},lG:function(){return _ae},lH:function(){return Ose},lI:function(){return Zse},lJ:function(){return Kse},lK:function(){return $se},lL:function(){return wd},lM:function(){return Pd},lN:function(){return eae},lO:function(){return ld},lP:function(){return cd},lQ:function(){return wct},lR:function(){return Nct},lS:function(){return _ct},lT:function(){return mlt},lU:function(){return Ny},lV:function(){return Boe},lW:function(){return Yae},lX:function(){return rle},lY:function(){return wv},lZ:function(){return $oe},l_:function(){return yE},la:function(){return ar},lb:function(){return ua},lc:function(){return Ha},ld:function(){return Ys},le:function(){return ja},lf:function(){return Ia},lg:function(){return Ol},lh:function(){return rAe},li:function(){return KMe},lj:function(){return jMe},lk:function(){return LMe},ll:function(){return MMe},lm:function(){return YMe},ln:function(){return OMe},lo:function(){return RMe},lp:function(){return XMe},lq:function(){return yae},lr:function(){return mae},ls:function(){return eEe},lt:function(){return Hy},lu:function(){return $y},lv:function(){return Dy},lw:function(){return dg},lx:function(){return RTe},ly:function(){return MEe},lz:function(){return AEe},m:function(){return IV},m$:function(){return Qoe},m0:function(){return C6},m1:function(){return ve},m2:function(){return be},m3:function(){return ge},m4:function(){return Ba},m5:function(){return $a},m6:function(){return _lt},m7:function(){return flt},m8:function(){return PLe},m9:function(){return KLe},mA:function(){return zue},mB:function(){return Vue},mC:function(){return EO},mD:function(){return k_e},mE:function(){return Gue},mF:function(){return jue},mG:function(){return ip},mH:function(){return eu},mI:function(){return ti},mJ:function(){return ii},mK:function(){return ri},mL:function(){return poe},mM:function(){return NY},mN:function(){return loe},mO:function(){return Nie},mP:function(){return dae},mQ:function(){return pae},mR:function(){return oi},mS:function(){return ni},mT:function(){return hoe},mU:function(){return X},mV:function(){return ee},mW:function(){return ug},mX:function(){return XA},mY:function(){return v3},mZ:function(){return vE},m_:function(){return FK},ma:function(){return wlt},mb:function(){return tIe},mc:function(){return dMe},md:function(){return YAe},me:function(){return iIe},mf:function(){return oIe},mg:function(){return jc},mh:function(){return HLe},mi:function(){return DLe},mj:function(){return I},mk:function(){return ESe},ml:function(){return rwe},mm:function(){return iwe},mn:function(){return J},mo:function(){return $D},mp:function(){return MO},mq:function(){return tge},mr:function(){return Uxe},ms:function(){return u0e},mt:function(){return aZe},mu:function(){return Hz},mv:function(){return Yg},mw:function(){return Wg},mx:function(){return By},my:function(){return gt},mz:function(){return sr},n:function(){return Zk},n$:function(){return qD},n0:function(){return Koe},n1:function(){return TQ},n2:function(){return d0},n3:function(){return WK},n4:function(){return HI},n5:function(){return x3},n6:function(){return Hq},n7:function(){return Dq},n8:function(){return jq},n9:function(){return yr},nA:function(){return YVe},nB:function(){return XVe},nC:function(){return JVe},nD:function(){return GVe},nE:function(){return DGe},nF:function(){return DVe},nG:function(){return GQe},nH:function(){return TBe},nI:function(){return Sv},nJ:function(){return iW},nK:function(){return EY},nL:function(){return AY},nM:function(){return GX},nN:function(){return m0},nO:function(){return K0},nP:function(){return se},nQ:function(){return Dle},nR:function(){return Ja},nS:function(){return ul},nT:function(){return ga},nU:function(){return yh},nV:function(){return Zs},nW:function(){return Df},nX:function(){return XIe},nY:function(){return Ul},nZ:function(){return pu},n_:function(){return mQ},na:function(){return UEe},nb:function(){return nve},nc:function(){return abe},nd:function(){return tve},ne:function(){return Gge},nf:function(){return Ege},ng:function(){return lge},nh:function(){return gge},ni:function(){return Gi},nj:function(){return QMe},nk:function(){return Ybe},nl:function(){return QGe},nm:function(){return UGe},nn:function(){return tVe},no:function(){return BGe},np:function(){return eVe},nq:function(){return mVe},nr:function(){return pVe},ns:function(){return FGe},nt:function(){return qGe},nu:function(){return cVe},nv:function(){return GGe},nw:function(){return yVe},nx:function(){return zGe},ny:function(){return lVe},nz:function(){return KVe},o:function(){return LV},o$:function(){return S8},o0:function(){return WD},o1:function(){return py},o2:function(){return vbe},o3:function(){return Nge},o4:function(){return Ige},o5:function(){return qye},o6:function(){return Ym},o7:function(){return oI},o8:function(){return vIe},o9:function(){return Xa},oA:function(){return Ooe},oB:function(){return B6},oC:function(){return V6},oD:function(){return Pj},oE:function(){return Rj},oF:function(){return Nj},oG:function(){return bwe},oH:function(){return jn},oI:function(){return Aie},oJ:function(){return FJ},oK:function(){return aB},oL:function(){return iu},oM:function(){return iC},oN:function(){return GJ},oO:function(){return fxe},oP:function(){return gq},oQ:function(){return c7},oR:function(){return d7},oS:function(){return W9},oT:function(){return T6},oU:function(){return K9},oV:function(){return Q9},oW:function(){return L5},oX:function(){return O8},oY:function(){return k8},oZ:function(){return P9},o_:function(){return e9},oa:function(){return rr},ob:function(){return w},oc:function(){return _},od:function(){return hHe},oe:function(){return f0e},of:function(){return olt},og:function(){return ilt},oh:function(){return jXe},oi:function(){return llt},oj:function(){return pct},ok:function(){return y},ol:function(){return uu},om:function(){return SL},on:function(){return g},oo:function(){return CD},op:function(){return NN},oq:function(){return y0},or:function(){return TX},os:function(){return nK},ot:function(){return gC},ou:function(){return FMe},ov:function(){return NMe},ow:function(){return eAe},ox:function(){return $Me},oy:function(){return BMe},oz:function(){return Mbe},p:function(){return If},p$:function(){return fe},p0:function(){return T8},p1:function(){return it},p2:function(){return A8},p3:function(){return ore},p4:function(){return l7},p5:function(){return i7},p6:function(){return a7},p7:function(){return Rte},p8:function(){return wte},p9:function(){return u7},pA:function(){return joe},pB:function(){return b9e},pC:function(){return yWe},pD:function(){return Z9e},pE:function(){return J9e},pF:function(){return Xqe},pG:function(){return YXe},pH:function(){return N7e},pI:function(){return Ast},pJ:function(){return c},pK:function(){return fIe},pL:function(){return aO},pM:function(){return sO},pN:function(){return oO},pO:function(){return pO},pP:function(){return uO},pQ:function(){return Fa},pR:function(){return tZ},pS:function(){return Kq},pT:function(){return eSe},pU:function(){return Jq},pV:function(){return RO},pW:function(){return rt},pX:function(){return tYe},pY:function(){return nZe},pZ:function(){return ylt},p_:function(){return sxe},pa:function(){return vte},pb:function(){return fte},pc:function(){return _te},pd:function(){return gte},pe:function(){return mte},pf:function(){return X9},pg:function(){return M5},ph:function(){return qd},pi:function(){return Y9},pj:function(){return oh},pk:function(){return Bte},pl:function(){return Xee},pm:function(){return ir},pn:function(){return s6},po:function(){return wie},pp:function(){return vie},pq:function(){return K7},pr:function(){return $7},ps:function(){return Iee},pt:function(){return xee},pu:function(){return See},pv:function(){return J7},pw:function(){return Cee},px:function(){return bee},py:function(){return _ee},pz:function(){return wee},q:function(){return dq},q$:function(){return qj},q0:function(){return Wbe},q1:function(){return dV},q2:function(){return hV},q3:function(){return TL},q4:function(){return EL},q5:function(){return ML},q6:function(){return zt},q7:function(){return TEe},q8:function(){return MAe},q9:function(){return oEe},qA:function(){return XEe},qB:function(){return YEe},qC:function(){return rEe},qD:function(){return iEe},qE:function(){return Hj},qF:function(){return kge},qG:function(){return Zge},qH:function(){return Qge},qI:function(){return Nd},qJ:function(){return lEe},qK:function(){return Yge},qL:function(){return Kge},qM:function(){return RAe},qN:function(){return jAe},qO:function(){return $Ee},qP:function(){return HEe},qQ:function(){return WEe},qR:function(){return qEe},qS:function(){return OEe},qT:function(){return REe},qU:function(){return kEe},qV:function(){return tae},qW:function(){return KAe},qX:function(){return eP},qY:function(){return aP},qZ:function(){return nEe},q_:function(){return BG},qa:function(){return $Re},qb:function(){return Bhe},qc:function(){return sbe},qd:function(){return GI},qe:function(){return Dve},qf:function(){return nbe},qg:function(){return Rve},qh:function(){return Kve},qi:function(){return Zve},qj:function(){return sge},qk:function(){return rbe},ql:function(){return uF},qm:function(){return Zm},qn:function(){return wH},qo:function(){return IO},qp:function(){return GS},qq:function(){return VS},qr:function(){return rE},qs:function(){return KT},qt:function(){return NQ},qu:function(){return ZEe},qv:function(){return xEe},qw:function(){return EU},qx:function(){return CU},qy:function(){return Ty},qz:function(){return Oz},r:function(){return ll},r$:function(){return gEe},r0:function(){return P3},r1:function(){return ey},r2:function(){return UX},r3:function(){return nle},r4:function(){return VE},r5:function(){return EE},r6:function(){return CE},r7:function(){return AE},r8:function(){return OE},r9:function(){return gE},rA:function(){return Rz},rB:function(){return fz},rC:function(){return Tz},rD:function(){return xz},rE:function(){return Sz},rF:function(){return _z},rG:function(){return wz},rH:function(){return Ez},rI:function(){return Mz},rJ:function(){return kz},rK:function(){return Cz},rL:function(){return zEe},rM:function(){return eve},rN:function(){return mve},rO:function(){return Nz},rP:function(){return jEe},rQ:function(){return FEe},rR:function(){return oz},rS:function(){return sAe},rT:function(){return DEe},rU:function(){return IAe},rV:function(){return sEe},rW:function(){return aEe},rX:function(){return VEe},rY:function(){return GEe},rZ:function(){return JEe},r_:function(){return KEe},ra:function(){return IM},rb:function(){return qAe},rc:function(){return De},rd:function(){return bE},re:function(){return LQe},rf:function(){return bJe},rg:function(){return mQe},rh:function(){return b},ri:function(){return but},rj:function(){return r},rk:function(){return n7e},rl:function(){return iNe},rm:function(){return ZAe},rn:function(){return $6},ro:function(){return $z},rp:function(){return eU},rq:function(){return dz},rr:function(){return KU},rs:function(){return Fz},rt:function(){return pj},ru:function(){return QU},rv:function(){return sz},rw:function(){return hz},rx:function(){return mz},ry:function(){return pz},rz:function(){return Uz},s:function(){return et},s$:function(){return j5},s0:function(){return eMe},s1:function(){return tMe},s2:function(){return vEe},s3:function(){return QEe},s4:function(){return CEe},s5:function(){return YIe},s6:function(){return Ur},s7:function(){return BEe},s8:function(){return yl},s9:function(){return d5},sA:function(){return uV},sB:function(){return qTe},sC:function(){return C5},sD:function(){return I5},sE:function(){return E5},sF:function(){return A5},sG:function(){return nne},sH:function(){return G5},sI:function(){return uN},sJ:function(){return b4},sK:function(){return g4},sL:function(){return hN},sM:function(){return L4},sN:function(){return N4},sO:function(){return M4},sP:function(){return B5},sQ:function(){return ote},sR:function(){return _5},sS:function(){return V5},sT:function(){return Fte},sU:function(){return H5},sV:function(){return Yte},sW:function(){return rne},sX:function(){return U5},sY:function(){return ine},sZ:function(){return Qte},s_:function(){return Xte},sa:function(){return h2},sb:function(){return Abe},sc:function(){return b5},sd:function(){return GAe},se:function(){return VAe},sf:function(){return BAe},sg:function(){return $Ae},sh:function(){return FAe},si:function(){return bEe},sj:function(){return wEe},sk:function(){return DAe},sl:function(){return HAe},sm:function(){return QTe},sn:function(){return YH},so:function(){return Vse},sp:function(){return Ase},sq:function(){return Ise},sr:function(){return Ch},ss:function(){return kie},st:function(){return Sae},su:function(){return Wie},sv:function(){return Jie},sw:function(){return coe},sx:function(){return fae},sy:function(){return oW},sz:function(){return pV},t:function(){return dm},t$:function(){return uz},t0:function(){return e6},t1:function(){return z5},t2:function(){return K5},t3:function(){return hy},t4:function(){return Q5},t5:function(){return W5},t6:function(){return Z5},t7:function(){return P4},t8:function(){return ene},t9:function(){return tne},tA:function(){return mI},tB:function(){return _fe},tC:function(){return y8},tD:function(){return f8},tE:function(){return m8},tF:function(){return WRe},tG:function(){return Yr},tH:function(){return fU},tI:function(){return cU},tJ:function(){return Ey},tK:function(){return uU},tL:function(){return Ly},tM:function(){return Pz},tN:function(){return MU},tO:function(){return hU},tP:function(){return Cg},tQ:function(){return gU},tR:function(){return NU},tS:function(){return PU},tT:function(){return DU},tU:function(){return Og},tV:function(){return qy},tW:function(){return Oy},tX:function(){return FU},tY:function(){return Ky},tZ:function(){return ek},t_:function(){return pbe},ta:function(){return $te},tb:function(){return Dte},tc:function(){return qte},td:function(){return Wte},te:function(){return OM},tf:function(){return CT},tg:function(){return ORe},th:function(){return Pde},ti:function(){return Nde},tj:function(){return Lde},tk:function(){return Rde},tl:function(){return JM},tm:function(){return FG},tn:function(){return R},to:function(){return oA},tp:function(){return bye},tq:function(){return lCe},tr:function(){return VM},ts:function(){return LA},tt:function(){return GA},tu:function(){return eA},tv:function(){return qe},tw:function(){return URe},tx:function(){return z3},ty:function(){return cI},tz:function(){return pI},u:function(){return q2},u$:function(){return jge},u0:function(){return Iz},u1:function(){return vz},u2:function(){return bz},u3:function(){return WU},u4:function(){return oU},u5:function(){return Yj},u6:function(){return Xj},u7:function(){return Jj},u8:function(){return vU},u9:function(){return HU},uA:function(){return zy},uB:function(){return vge},uC:function(){return xge},uD:function(){return Mge},uE:function(){return _ge},uF:function(){return wSe},uG:function(){return wge},uH:function(){return Fge},uI:function(){return Phe},uJ:function(){return Pge},uK:function(){return rge},uL:function(){return pp},uM:function(){return Lfe},uN:function(){return bp},uO:function(){return qh},uP:function(){return Zh},uQ:function(){return Yh},uR:function(){return Zr},uS:function(){return uCe},uT:function(){return zI},uU:function(){return ed},uV:function(){return Ah},uW:function(){return fp},uX:function(){return Hme},uY:function(){return gi},uZ:function(){return bge},u_:function(){return Zye},ua:function(){return ZU},ub:function(){return sU},uc:function(){return rk},ud:function(){return sg},ue:function(){return yz},uf:function(){return gz},ug:function(){return X3},uh:function(){return UMe},ui:function(){return Pl},uj:function(){return SO},uk:function(){return TO},ul:function(){return vZ},um:function(){return gZ},un:function(){return cge},uo:function(){return Age},up:function(){return OI},uq:function(){return wu},ur:function(){return vu},us:function(){return ku},ut:function(){return kT},uu:function(){return yp},uv:function(){return ap},uw:function(){return np},ux:function(){return yve},uy:function(){return Xge},uz:function(){return Uy},v:function(){return j3},v0:function(){return KF},v1:function(){return Uge},v2:function(){return Vy},v3:function(){return L_e},v4:function(){return oD},v5:function(){return BI},v6:function(){return fge},v7:function(){return mge},v8:function(){return fSe},v9:function(){return jj},vA:function(){return Dut},vB:function(){return Fut},vC:function(){return OP},vD:function(){return K1},vE:function(){return G2},vF:function(){return o4},vG:function(){return Goe},vH:function(){return cle},vI:function(){return Sle},vJ:function(){return Mle},vK:function(){return Ble},vL:function(){return jce},vM:function(){return FIe},va:function(){return Xme},vb:function(){return nge},vc:function(){return qz},vd:function(){return U},ve:function(){return Qr},vf:function(){return V},vg:function(){return rZ},vh:function(){return yZ},vi:function(){return AF},vj:function(){return aZ},vk:function(){return VI},vl:function(){return k},vm:function(){return C},vn:function(){return O},vo:function(){return _O},vp:function(){return wO},vq:function(){return nAe},vr:function(){return sj},vs:function(){return JF},vt:function(){return aj},vu:function(){return hg},vv:function(){return LO},vw:function(){return Iq},vx:function(){return Lut},vy:function(){return Nut},vz:function(){return Put},w:function(){return $2},x:function(){return xL},y:function(){return CV},z:function(){return m7}});var r=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(r||{}),i=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(i||{}),o=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(o||{}),s=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(s||{}),a=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(a||{}),l=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(l||{}),c=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(c||{}),u=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(u||{}),h=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.IMAGERY="esri-imagery",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(h||{}),p=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.WMS="wms",e))(p||{}),d=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(d||{}),f=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(f||{}),m=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(m||{}),y=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(y||{}),g=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(g||{}),v=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(v||{}),b=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))(b||{}),w=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(w||{}),_=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(_||{});class x{attributes;geometry;style;id;constructor(e,t,n){this.geometry=e,this.id=t||Fut.sharedUtils.generateUUID(),this.attributes=n||{}}_hover;get hover(){return this._hover}set hover(e){e&&this._hover&&this._hover.id!==e.id&&this.removeHover(),this._hover=e}removeHover(){this._hover&&(this._hover=void 0)}}function S(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function T(e,t){return function(n,r){t(n,r,e)}}function E(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(t,n){function o(e){try{a(r.next(e))}catch(t){n(t)}}function s(e){try{a(r.throw(e))}catch(t){n(t)}}function a(e){e.done?t(e.value):i(e.value).then(o,s)}a((r=r.apply(e,[])).next())}))}let M;function A(e){return"function"==typeof M[e]?M[e]=M[e](globalThis):M[e]}M=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},A.add=(e,t,n,r)=>{(r||void 0===M[e])&&(M[e]=t),n&&A(e)},A.cache=M,A.add("big-integer-warning-enabled",!0),A.add("esri-deprecation-warnings",!0),A.add("esri-tests-disable-screenshots",!1),A.add("esri-tests-use-full-window",!1),A.add("esri-tests-post-to-influx",!0),A.add("esri-cim-animations-enable-status","enabled"),A.add("esri-cim-animations-spotlight",!1),A.add("esri-cim-animations-freeze-time",!1),A.add("enable-feature:multiple-highlights",!1),(()=>{A.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(A.add("host-browser",e),A.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),A.add("dom",e),A("host-browser")){const e=navigator,t=e.userAgent,n=e.appVersion,r=parseFloat(n);if(A.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),A.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),A.add("khtml",n.includes("Konqueror")?r:void 0),A.add("edge",parseFloat(t.split("Edge/")[1])||void 0),A.add("opr",parseFloat(t.split("OPR/")[1])||void 0),A.add("webkit",!A("wp")&&!A("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),A.add("chrome",!A("edge")&&!A("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),A.add("android",!A("wp")&&parseFloat(t.split("Android ")[1])||void 0),A.add("safari",!n.includes("Safari")||A("wp")||A("chrome")||A("android")||A("edge")||A("opr")?void 0:parseFloat(n.split("Version/")[1])),A.add("mac",n.includes("Macintosh")),!A("wp")&&/(iPhone|iPod|iPad)/.test(t)){const e=RegExp.$1.replace(/P/,"p"),n=/OS ([\d_]+)/.test(t)?RegExp.$1:"1",r=parseFloat(n.replace(/_/,".").replaceAll("_",""));A.add(e,r),A.add("ios",r)}A("webkit")||(!t.includes("Gecko")||A("wp")||A("khtml")||A("edge")||A.add("mozilla",r),A("mozilla")&&A.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&A.add("esri-mobile",t),n&&A.add("esri-iPhone",n),A.add("esri-geolocation",!!navigator.geolocation)}A.add("esri-wasm","WebAssembly"in globalThis),A.add("esri-performance-mode-frames-between-render",20),A.add("esri-force-performance-mode",!1),A.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,t=!1===globalThis.crossOriginIsolated;return e&&!t})),A.add("wasm-simd",(()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))})),A.add("esri-atomics","Atomics"in globalThis),A.add("esri-workers","Worker"in globalThis),A.add("web-feat:cache","caches"in globalThis),A.add("esri-workers-arraybuffer-transfer",!A("safari")||Number(A("safari"))>=12),A.add("workers-pool-size",8),A.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),A.add("featurelayer-simplify-payload-size-factors",[1,1,4]),A.add("featurelayer-fast-triangulation-enabled",!0),A.add("featurelayer-animation-enabled",!0),A.add("featurelayer-snapshot-enabled",!0),A.add("featurelayer-snapshot-point-min-threshold",8e4),A.add("featurelayer-snapshot-point-max-threshold",4e5),A.add("featurelayer-snapshot-point-coverage",.1),A.add("featurelayer-query-max-depth",4),A.add("featurelayer-query-pausing-enabled",!1),A.add("featurelayer-advanced-symbols",!1),A.add("featurelayer-pbf",!0),A.add("featurelayer-pbf-statistics",!1),A.add("feature-layers-workers",!0),A.add("feature-polyline-generalization-factor",1),A.add("mapview-transitions-duration",200),A.add("mapview-essential-goto-duration",200),A.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),A.add("mapserver-pbf-version-support",10.81),A.add("mapservice-popup-identify-max-tolerance",20),A("host-webworker")||A("host-browser")&&(A.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),A.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{A.add("esri-image-decode",!0,!0,!0)})).catch((()=>{A.add("esri-image-decode",!1,!0,!0)}))}return!1})),A.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))})();let I=class e{constructor(e=1){this._seed=e}set seed(t){this._seed=t??Math.random()*e._m}getInt(){return this._seed=(e._a*this._seed+e._c)%e._m,this._seed}getFloat(){return this.getInt()/(e._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(t,n){const r=n-t;return t+this.getInt()/e._m*r}};I._m=2147483647,I._a=48271,I._c=0;const C=1.5,O=1/C,k=.5;function R(e,t){return t?e.filter(((e,n,r)=>r.findIndex(t.bind(null,e))===n)):Array.from(new Set(e))}function L(e,t,n){if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function N(e,t,n){let r,i;return n?(r=t.filter((t=>!e.some((e=>n(e,t))))),i=e.filter((e=>!t.some((t=>n(t,e)))))):(r=t.filter((t=>!e.includes(t))),i=e.filter((e=>!t.includes(e)))),{added:r,removed:i}}function P(e){return e&&"number"==typeof e.length}let D=class{constructor(){this.last=0}};const F=new D;function j(e,t,n,r){r=r||F;const i=Math.max(0,r.last-10);for(let s=i;s<n;++s)if(e[s]===t)return r.last=s,s;const o=Math.min(i,n);for(let s=0;s<o;++s)if(e[s]===t)return r.last=s,s;return-1}function U(e,t,n,r){const i=e.length,o=j(e,t,i,r);if(-1!==o)return e[o]=e[i-1],e.pop(),t}const z=new Set;function G(e,t,n=e.length,r=t.length,i,o){if(0===r||0===n)return n;z.clear();for(let a=0;a<r;++a)z.add(t[a]);i=i||F;const s=Math.max(0,i.last-10);for(let a=s;a<n;++a)if(z.has(e[a])&&(o?.push(e[a]),z.delete(e[a]),e[a]=e[n-1],--n,--a,0===z.size||0===n))return z.clear(),n;for(let a=0;a<s;++a)if(z.has(e[a])&&(o?.push(e[a]),z.delete(e[a]),e[a]=e[n-1],--n,--a,0===z.size||0===n))return z.clear(),n;return z.clear(),n}function V(e,t){let n=0;for(let r=0;r<e.length;++r){const i=e[r];t(i,r)&&(e[n]=i,n++)}e.length=n}function B(e){return e?(H.seed=e,()=>H.getFloat()):Math.random}function $(e,t){const n=B(t);for(let r=e.length-1;r>0;r--){const t=Math.floor(n()*(r+1)),i=e[r];e[r]=e[t],e[t]=i}return e}const H=new I;function W(e,t){const n=e.indexOf(t);return-1!==n?(e.splice(n,1),t):null}function q(e,t){return null!=e}function Z(e){return 32+e.length}function Y(){return 16}function X(e){if(!e)return 0;let t=te;for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];switch(typeof r){case"string":t+=Z(r);break;case"number":t+=Y();break;case"boolean":t+=4}}return t}function J(e){if(!e)return 0;if(Array.isArray(e))return K(e);let t=te;for(const n in e)e.hasOwnProperty(n)&&(t+=Q(e[n]));return t}function K(e){const t=e.length;if(0===t||"number"==typeof e[0])return 32+8*t;let n=ne;for(let r=0;r<t;r++)n+=Q(e[r]);return n}function Q(e){switch(typeof e){case"object":return J(e);case"string":return Z(e);case"number":return Y();case"boolean":return 4;default:return 8}}function ee(e,t){return ne+e.length*t}const te=32,ne=16;function re(e){return e instanceof ArrayBuffer}function ie(e){return"Int8Array"===e?.constructor?.name}function oe(e){return"Uint8Array"===e?.constructor?.name}function se(e){return"Uint8ClampedArray"===e?.constructor?.name}function ae(e){return"Int16Array"===e?.constructor?.name}function le(e){return"Uint16Array"===e?.constructor?.name}function ce(e){return"Int32Array"===e?.constructor?.name}function ue(e){return"Uint32Array"===e?.constructor?.name}function he(e){return"Float32Array"===e?.constructor?.name}function pe(e){return"Float64Array"===e?.constructor?.name}function de(e){return!("buffer"in e)}function fe(...e){return e.reduce(((e,t)=>e+(t?de(t)?ee(t,Y()):t.byteLength+me:0)),0)}const me=145,ye=1024;function ge(e){return pe(e)||he(e)||ce(e)||ae(e)||ie(e)}function ve(e){return pe(e)||he(e)}function be(e){return pe(e)?179769e303:he(e)?3402823e32:ue(e)?4294967295:le(e)?65535:oe(e)||se(e)?255:ce(e)?2147483647:ae(e)?32767:ie(e)?127:256}function we(e,t){let n;for(n in e)e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];return e}function _e(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;const t=Ae(e);if(null!=t)return t;if(Se(e))return e.clone();if(Te(e))return e.map(_e);if(Ee(e))return e.clone();const n={};for(const r of Object.getOwnPropertyNames(e))n[r]=_e(e[r]);return n}function xe(e){if(!e||"object"!=typeof e||"function"==typeof e||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=Ae(e);if(null!=t)return t;if(Te(e)){let t=!0;const n=e.map((e=>{const n=xe(e);return null!=e&&null==n&&(t=!1),n}));return t?n:null}if(Se(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!Ee(e)){const t=new(Object.getPrototypeOf(e).constructor);for(const n of Object.getOwnPropertyNames(e)){const r=e[n],i=xe(r);if(null!=r&&null==i)return null;t[n]=i}return t}return null}function Se(e){return"function"==typeof e.clone}function Te(e){return"function"==typeof e.map&&"function"==typeof e.forEach}function Ee(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}function Me(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Ae(e){if(ie(e)||oe(e)||se(e)||ae(e)||le(e)||ce(e)||ue(e)||he(e)||pe(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[n,r]of e)t.set(n,_e(r));return t}if(e instanceof Set){const t=new Set;for(const n of e)t.add(_e(n));return t}return null}function Ie(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof e?.getTime&&"function"==typeof t?.getTime&&e.getTime()===t.getTime()||!1}function Ce(e,t){return e===t||(null==e||"string"==typeof e?e===t:"number"==typeof e?e===t||"number"==typeof t&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&L(e,t):e instanceof Set?t instanceof Set&&ke(e,t):e instanceof Map?t instanceof Map&&Re(e,t):!!Me(e)&&Me(t)&&Oe(e,t))}function Oe(e,t){if(null===e||null===t)return!1;const n=Object.keys(e);if(null===t||Object.keys(t).length!==n.length)return!1;for(const r of n)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function ke(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Re(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e){const e=t.get(n);if(e!==r||void 0===e&&!t.has(n))return!1}return!0}function Le(e,t,n=!1){return je(e,t,n)}function Ne(e,t){if(null!=t)return t[e]||Fe(e.split("."),!1,t)}function Pe(e,t,n){const r=e.split("."),i=r.pop(),o=Fe(r,!0,n);o&&i&&(o[i]=t)}function De(e,t){if(null==e&&null==t)return!1;if(null==e||null==t)return!0;if("object"==typeof e){if(Array.isArray(e)){const n=t;if(e.length!==n.length)return!0;for(let t=0;t<e.length;t++)if(De(e[t],n[t]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in e)if(De(e[n],t[n]))return!0;return!1}return e!==t}function Fe(e,t,n){let r=n;for(const i of e){if(null==r)return;if(!(i in r)){if(!t)return;r[i]={}}r=r[i]}return r}function je(e,t,n){return t?Object.keys(t).reduce(((e,r)=>{let i=e[r],o=t[r];return i===o?e:void 0===i?(e[r]=_e(o),e):(Array.isArray(o)||Array.isArray(e)?(i=i?Array.isArray(i)?e[r]=i.slice():e[r]=[i]:e[r]=[],o&&(Array.isArray(o)||(o=[o]),n?o.forEach((e=>{i.includes(e)||i.push(e)})):e[r]=o.slice())):o&&"object"==typeof o?e[r]=je(i,o,n):e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[r]=o),e)}),e||{}):e}const Ue={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(Le(Ue,globalThis.esriConfig,!0),delete Ue.has),!Ue.assetsPath){{const e="4.31";Ue.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Ue.defaultAssetsPath=Ue.assetsPath}const ze=/\{([^}]+)\}/g;function Ge(e){return e??""}function Ve(e,t){return t?e.replaceAll(ze,"object"==typeof t?(e,n)=>Ge(Ne(n,t)):(e,n)=>Ge(t(n))):e}function Be(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,(e=>t?.includes(e)?e:`\\${e}`))}function $e(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}let He;function We(e){return He??=new DOMParser,He.parseFromString(e||"","text/html").body.innerText||""}function qe(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const Ze={info:0,warn:1,error:2,none:3};let Ye=class e{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,e._loggers.set(this.module,this);const n=this.module.lastIndexOf(".");-1!==n&&(this._parent=e.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(t){return t="string"!=typeof t?t.declaredClass:t,e._loggers.get(t)||new e({module:t})}_log(t,n,...r){if(this._matchLevel(t)){if("always"!==n&&!e._throttlingDisabled){const i=Je(r),o=this._loggedMessages[t].get(i);if("once"===n&&null!=o||"oncePerTick"===n&&o&&o>=e._tickCounter)return;this._loggedMessages[t].set(i,e._tickCounter),e._scheduleTickCounterIncrement()}for(const e of Ue.log.interceptors)if(e(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(e,t){let n=this;for(;null!=n;){const t=n[e];if(null!=t)return t;n=n.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",Xe)}_matchLevel(e){const t=Ue.log.level||"warn";return Ze[this._parentWithMember("level",t)]<=Ze[e]}static _scheduleTickCounterIncrement(){e._tickCounterScheduled||(e._tickCounterScheduled=!0,Promise.resolve().then((()=>{e._tickCounter++,e._tickCounterScheduled=!1})))}};function Xe(e,t,...n){console[e](`[${t}]`,...n)}function Je(...e){return $e(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}function Ke(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,((e,n)=>""===n?"$":(Ne(n,t)??"").toString()))}Ye._loggers=new Map,Ye._tickCounter=0,Ye._tickCounterScheduled=!1,Ye._throttlingDisabled=!1;let Qe=class{constructor(e,t,n=void 0){this.name=e,this.details=n,this.message=(t&&Ke(t,n))??""}toString(){return"["+this.name+"]: "+this.message}},et=class e extends Qe{constructor(e,t,n){super(e,t,n)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return _e(t)}catch{return"[object]"}})))}}catch(e){throw Ye.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new e(t.name,t.message,t.details)}};et.prototype.type="error";const tt=new WeakMap;function nt(e,t,n=!1){const r=`🛑 DEPRECATED - ${t}`;if(!n)return void e.warn(r);let i=tt.get(e);i||(i=new Set,tt.set(e,i)),i.has(t)||(i.add(t),e.warn(r))}function rt(e,t,n={}){if(A("esri-deprecation-warnings")){const{moduleName:r}=n;st(e,"Function: "+((r?r+"::":"")+t+"()"),n)}}function it(e,t,n={}){if(A("esri-deprecation-warnings")){const{moduleName:r}=n;st(e,"Property: "+((r?r+"::":"")+t),n)}}function ot(e,t,n={}){A("esri-deprecation-warnings")&&st(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...n})}function st(e,t,n={}){if(A("esri-deprecation-warnings")){const{replacement:r,version:i,see:o,warnOnce:s}=n;let a=t;r&&(a+=`\n\t🛠️ Replacement: ${r}`),i&&(a+=`\n\t⚙️ Version: ${i}`),o&&(a+=`\n\t🔗 See ${o} for more details.`),nt(e,a,s)}}function at(e){const t=[];return function*(){yield*t;for(const n of e)t.push(n),yield n}}function lt(e,t){for(const n of e)if(null!=n&&t(n))return n}function ct(e){return null!=e&&"function"==typeof e[Symbol.iterator]}let ut=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(ct(e)){const n=this._getOrCreateGroup(t);for(const t of e)dt(t)&&n.push(t)}else dt(e)&&this._getOrCreateGroup(t).push(e);return this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const n=this._getGroup(e);n&&t&&n.forEach(t)}}has(e){return this._groups.has(ht(e))}remove(e){if("string"!=typeof e&&ct(e)){for(const t of e)this.remove(t);return this}return this.has(e)?(pt(this._getGroup(e)),this._groups.delete(ht(e)),this):this}removeAll(){return this._groups.forEach(pt),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(ht(e),t),t}_getGroup(e){return this._groups.get(ht(e))}};function ht(e){return e||"_default_"}function pt(e){for(const t of e)t instanceof ut?t.removeAll():t.remove()}function dt(e){return null!=e&&(!!e.remove||e instanceof ut)}function ft(e,t){if(null==e)throw new Error(t??"value is None")}function mt(e){return e?.destroy(),null}function yt(e){return e?.dispose(),null}function gt(e){return e?.remove(),null}function vt(e){return e?.abort(),null}function bt(e){return e?.release(),null}function wt(e,t,n){return null!=e&&null!=t?null!=n?n(e,t):e.equals(t):e===t}function _t(e,t){let n;return e.some(((e,r)=>(n=t(e,r),null!=n))),n??void 0}const xt=Symbol("Accessor-beforeDestroy"),St={remove:()=>{}};function Tt(e){return e?{remove(){e&&(e(),e=void 0)}}:St}function Et(e){e.forEach((e=>e?.remove()))}function Mt(e){return Tt((()=>Et(e)))}function At(e){return Tt((()=>e?.abort()))}function It(e){return Tt(null!=e?()=>e.destroy():void 0)}function Ct(e){return e.__accessor__??null}function Ot(e,t){return null!=e?.metadata?.[t]}function kt(e,t,n){return Rt(e,t,n?{policy:n,path:""}:null)}function Rt(e,t,n){return t?Object.keys(t).reduce(((e,r)=>{const i=r;let o=null,s="merge";if(n&&(o=n.path?`${n.path}.${r}`:r,s=n.policy(o)),"replace"===s||"replace-arrays"===s&&Array.isArray(e[i]))return e[i]=t[i],e;if(void 0===e[i])return e[i]=_e(t[i]),e;let a=e[i],l=t[i];if(a===l)return e;if(Array.isArray(l)||Array.isArray(e))a=a?Array.isArray(a)?e[i]=a.slice():e[i]=[a]:e[i]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach((e=>{a.includes(e)||a.push(e)})));else if(l&&"object"==typeof l)if(n){const t=n.path;n.path=o,e[i]=Rt(a,l,n),n.path=t}else e[i]=Rt(a,l,null);else e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[i]=l);return e}),e||{}):e}function Lt(e){return Array.isArray(e)?e:e.split(".")}function Nt(e){return e.includes(",")?e.split(",").map((e=>e.trim())):[e.trim()]}function Pt(e){if(Array.isArray(e)){const t=[];for(const n of e)t.push(...Nt(n));return t}return Nt(e)}function Dt(e,t,n,r){const i=Pt(t);if(1!==i.length){const t=i.map((t=>r(e,t,n)));return Mt(t)}return r(e,i[0],n)}function Ft(e,t){const n="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(n,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.at(e)}const r=Ct(t);return Ot(r,n)?r.get(n):t[n]}function jt(e,t,n){if(null==e)return e;const r=Ft(t[n],e);return!r&&n<t.length-1?void 0:n===t.length-1?r:jt(r,t,n+1)}function Ut(e,t,n=0){return"string"!=typeof t||t.includes(".")?jt(e,Lt(t),n):Ft(t,e)}function zt(e,t){return Ut(e,t)}function Gt(e,t){return void 0!==Ut(t,e)}var Vt;function Bt(e){let t=e.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!n){t=Object.create(t);for(const e in t)t[e]=_e(t[e]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function $t(e,t){const n=Bt(e);let r=n[t];return r||(r=n[t]={}),r}function Ht(e,t){return kt(e,t,qt)}(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Vt||(Vt={}));const Wt=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function qt(e){return Wt.test(e)?"replace":"merge"}function Zt(e){return e?.release&&"function"==typeof e.release}function Yt(e){return e?.acquire&&"function"==typeof e.acquire}let Xt=class e{constructor(e,t,n,r=1,i=0){this._ctor=e,this._acquireFunction=t,this._releaseFunction=n,this.allocationSize=r,this._pool=new Array(i),this._initialSize=i;for(let o=0;o<i;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...t){let n;if(e.test.disabled)n=new this._ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this._ctor}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...t):Yt(n)&&n.acquire(...t),n}release(t){t&&!e.test.disabled&&(this._releaseFunction?this._releaseFunction(t):Zt(t)&&t.release(),this._pool.push(t))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}};Xt.test={disabled:!1};let Jt=class{constructor(e,t){this._observers=e,this._observer=t}remove(){W(this._observers,this._observer)}},Kt=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return Qt;null==this._observers&&(this._observers=[]);const t=this._observers;let n=!1,r=!1;const i=t.length;for(let o=0;o<i;++o){const i=t[o];if(i.destroyed)r=!0;else if(i===e){n=!0;break}}return n||(t.push(e),r&&this._removeDestroyedObservers()),new Jt(t,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||0===e.length)return;const t=e.length;let n=0;for(let r=0;r<t;++r){for(;r+n<t&&e[r+n].destroyed;)++n;if(n>0){if(!(r+n<t))break;e[r]=e[r+n]}}e.length=t-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(null!=e){for(const t of e)t.onCommitted();this._observers=null}}};const Qt=Tt();var en;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(en||(en={}));const tn=en.USER+1;function nn(e){switch(e){case"defaults":return en.DEFAULTS;case"service":return en.SERVICE;case"portal-item":return en.PORTAL_ITEM;case"web-scene":return en.WEB_SCENE;case"web-map":return en.WEB_MAP;case"link-chart":return en.LINK_CHART;case"user":return en.USER;default:return null}}function rn(e){switch(e){case en.DEFAULTS:return"defaults";case en.SERVICE:return"service";case en.PORTAL_ITEM:return"portal-item";case en.WEB_SCENE:return"web-scene";case en.WEB_MAP:return"web-map";case en.LINK_CHART:return"link-chart";case en.USER:return"user"}}function on(e){return rn(e)}var sn;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(sn||(sn={}));let an=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){null!=this._observer&&e!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach((e=>{this._handles.push(e.observe(this._observer))})),this.accessed.clear()))}clear(){if(null!=this._handles){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const ln=new an,cn=[];let un=ln;function hn(e){un.onAccessed(e)}let pn=!1,dn=!1;function fn(e,t,n){if(pn)return yn(e,t,n);let r=null;return gn(e),r=t.call(n),vn(),r}function mn(e,t){return fn(ln,e,t)}function yn(e,t,n){const r=pn;pn=!0,gn(e);let i=null;try{i=t.call(n)}catch(o){dn&&Ye.getLogger("esri.core.accessorSupport.tracking").error(o)}return vn(),pn=r,i}function gn(e){un=e,cn.push(e)}function vn(){const e=cn.length;if(e>1){const t=cn.pop();un=cn[e-2],t.onTrackingEnd()}else if(1===e){const e=cn.pop();un=ln,e.onTrackingEnd()}else un=ln}function bn(e,t){if(t.flags&sn.DepTrackingInitialized)return;t.flags|=sn.DepTrackingInitialized;const n=dn;dn=!1,t.flags&sn.AutoTracked?yn(t.trackingTarget,t.metadata.get,e):_n(e,t),dn=n}const wn=[];function _n(e,t){t.flags&sn.ExplicitlyTracking||(t.flags|=sn.ExplicitlyTracking,yn(t.trackingTarget,(()=>{const n=t.metadata.dependsOn||wn;for(const t of n)if("string"!=typeof t||t.includes(".")){const n=Lt(t);for(let t=0,r=e;t<n.length&&null!=r&&"object"==typeof r;++t)r=xn(r,n[t],t!==n.length-1)}else xn(e,t,!1)})),t.flags&=~sn.ExplicitlyTracking)}function xn(e,t,n){const r="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(r,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.at(t)}const i=Ct(e);if(i){const t=i.propertiesByName.get(r);t&&(hn(t),bn(e,t))}return n?e[r]:void 0}let Sn=class extends Kt{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this.trackingTarget=new an(this),this.flags=0,this.flags=sn.Dirty|(t.nonNullable?sn.NonNullable:0)|(t.hasOwnProperty("value")?sn.HasDefaultValue:0)|(void 0===t.get?sn.DepTrackingInitialized:0)|(void 0===t.dependsOn?sn.AutoTracked:0)}destroy(){this.flags&sn.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&hn(this);const t=e.store,n=this.propertyName,r=this.flags,i=t.get(n);if(r&sn.Computing||~r&sn.Dirty&&t.has(n))return i;this.flags|=sn.Computing;const o=e.host;let s;r&sn.AutoTracked?s=fn(this.trackingTarget,this.metadata.get,o):(_n(o,this),s=this.metadata.get.call(o)),this.flags|=sn.DepTrackingInitialized,t.set(n,s,en.COMPUTED);const a=t.get(n);return a===i?this.flags&=~sn.Dirty:mn(this.commit,this),this.flags&=~sn.Computing,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~sn.Dirty,this.onCommitted()}onInvalidated(){~this.flags&sn.Overridden&&(this.flags|=sn.Dirty);const e=this._observers;if(e&&e.length>0)for(const t of e)t.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onCommitted()}}},Tn=class e{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const n=new e;return this._values.forEach(((e,r)=>{t&&t.has(r)||n.set(r,_e(e))})),n}get(e){return this._values.get(e)}originOf(){return en.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}};function En(e,t,n){return void 0!==e}function Mn(e,t,n,r){return void 0!==e&&(!(null==n&&e.flags&sn.NonNullable)||(r.lifecycle,Vt.INITIALIZING,!1))}let An=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Vt.INITIALIZING,this.store=new Tn,this.mutable=!0,this._origin=en.USER;const t=this.host.constructor.__accessorMetadata__;for(const n in t){const e=new Sn(n,t[n]);this.propertiesByName.set(n,e)}this.metadata=t}initialize(){this.lifecycle=Vt.CONSTRUCTING}constructed(){this.lifecycle=Vt.CONSTRUCTED}destroy(){this.lifecycle=Vt.DESTROYED,this.propertiesByName.forEach((e=>e.destroy()))}get initialized(){return this.lifecycle!==Vt.INITIALIZING}get(e){const t=this.propertiesByName.get(e);if(t.metadata.get)return t.getComputed(this);this.mutable&&hn(t);const n=this.store;return n.has(e)?n.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.propertiesByName.get(e);if(void 0!==t&&t.flags&sn.HasDefaultValue)return"defaults"}return rn(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const t=this.propertiesByName.get(e);if(En(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const n=this.propertiesByName.get(e);En(n)&&this._internalSet(n,t)}getDependsInfo(e,t,n){const r=this.propertiesByName.get(t);if(!En(r))return"";const i=new an,o=fn(i,(()=>r.metadata.get?.call(e)));let s=`${n}${e.declaredClass.split(".").pop()}.${t}: ${o}\n`;const a=i.accessed??new Set;if(0===a.size)return s;n+="  ";for(const l of a)l instanceof Sn&&(s+=`${n}${l.propertyName}: undefined\n`);return s}setAtOrigin(e,t,n){const r=this.propertiesByName.get(e);if(En(r))return this._setAtOrigin(r,t,n)}isOverridden(e){const t=this.propertiesByName.get(e);return void 0!==t&&!!(t.flags&sn.Overridden)}clearOverride(e){const t=this.propertiesByName.get(e);t&&t.flags&sn.Overridden&&(t.flags&=~sn.Overridden,t.notifyChange())}override(e,t){const n=this.propertiesByName.get(e);if(!Mn(n,e,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:i}=e;if(Cn.release(e),!n)return;t=i}n.flags|=sn.Overridden,this._internalSet(n,t)}set(e,t){const n=this.propertiesByName.get(e);if(!Mn(n,e,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:i}=e;if(Cn.release(e),!n)return;t=i}const i=n.metadata.set;i?i.call(this.host,t):this._internalSet(n,t)}setDefaultOrigin(e){this._origin=nn(e)}getDefaultOrigin(){return rn(this._origin)}notifyChange(e){const t=this.propertiesByName.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.propertiesByName.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.propertiesByName.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const n=this.lifecycle!==Vt.INITIALIZING?this._origin:en.DEFAULTS;this._setAtOrigin(e,t,n)}_setAtOrigin(e,t,n){const r=this.store,i=e.propertyName;r.has(i,n)&&Ie(t,r.get(i))&&~e.flags&sn.Overridden&&n===r.originOf(i)||(e.invalidate(),r.set(i,t,n),e.commit(),bn(this.host,e))}_cast(e,t){const n=Cn.acquire();return n.valid=!0,n.value=t,e&&(n.value=e.call(this.host,t,n)),n}},In=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Cn=new Xt(In);function On(e,t,n){if(e&&t)if("object"==typeof t)for(const r of Object.getOwnPropertyNames(t))On(e,r,t[r]);else{if(t.includes(".")){const r=t.split("."),i=r.splice(-1,1)[0];return void On(zt(e,r),i,n)}const r=e.__accessor__;null!=r&&kn(t,r),e[t]=n}}function kn(e,t){if(A("esri-unknown-property-errors")&&!Rn(e,t))throw new et("set:unknown-property",Ln(e,t))}function Rn(e,t){return null!=t.metadata[e]}function Ln(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let Nn;function Pn(){return Nn}var Dn;function Fn(e){e.length=0}(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(Dn||(Dn={}));let jn=class{constructor(e=50,t=50){this._pool=new Xt(Array,void 0,Fn,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return Un.acquire()}static release(e){return Un.release(e)}static prune(){Un.prune()}};const Un=new jn(100);let zn=class extends Xt{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const Gn=[];function Vn(e){Gn.push(e),1===Gn.length&&queueMicrotask((()=>{const e=Gn.slice();Gn.length=0;for(const t of e)t()}))}let Bn=class{constructor(e,t=30){this.name=e,this._counter=0,this._samples=new Array(t)}push(e){null!=e&&(this._samples[++this._counter%this._samples.length]=e)}set(e){null!=e&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort(((e,t)=>e-t))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((e,t)=>e+t),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var $n;(function(e){const t=(e,t,n,r)=>{let i=t,o=t;const s=n>>>1,a=e[i-1];for(;o<=s;){o=i<<1,o<n&&r(e[o-1],e[o])<0&&++o;const t=e[o-1];if(r(t,a)<=0)break;e[i-1]=t,i=o}e[i-1]=a},n=(e,t)=>e<t?-1:e>t?1:0;function r(e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===o&&(o=n);for(let n=i>>>1;n>r;n--)t(e,n,i,o);const s=r+1;for(let n=i-1;n>r;n--){const i=e[r];e[r]=e[n],e[n]=i,t(e,s,n,o)}}function*i(e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===o&&(o=n);for(let n=i>>>1;n>r;n--)t(e,n,i,o),yield;const s=r+1;for(let n=i-1;n>r;n--){const i=e[r];e[r]=e[n],e[n]=i,t(e,s,n,o),yield}}e.sort=r,e.iterableSort=i})($n||($n={}));const Hn=$n,Wn=1.5,qn=1.1;let Zn=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new D,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>Yn(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const t=new Array;for(let n=0;n<this._length;n++){const r=this.data[n];e(r)&&t.push(r)}return t}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,t){const n=this.data.indexOf(e,t);return-1!==n&&n<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let n=0;n<t;n++)this.data[this._length++]=e[n]}fill(e,t){for(let n=0;n<t;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,Yn(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=j(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(j(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,n){this.length=G(this.data,e,this.length,t,this._hint,n),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return;const n=this.data[e];this.data[e]=this.data[t],this.data[t]=n}sort(e){Hn.sort(this.data,0,this.length,e)}iterableSort(e){return Hn.iterableSort(this.data,0,this.length,e)}some(e,t){for(let n=0;n<this.length;++n)if(e.call(t,this.data[n],n,this.data))return!0;return!1}find(e,t){const{data:n,length:r}=this;for(let i=0;i<r;++i)if(e.call(t,n[i]))return n[i]}filterInPlace(e,t){let n=0;for(let r=0;r<this._length;++r){const i=this.data[r];e.call(t,i,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=n,this._shrink(),this}forAll(e,t){const{data:n,length:r}=this;for(let i=0;i<r;++i)e.call(t,n[i],i,n)}forEach(e,t){this.data.slice(0,this.length).forEach(e,t)}map(e,t){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=e.call(t,this.data[r],r,this.data);return n}reduce(e,t){let n=t;for(let r=0;r<this.length;++r)n=e(n,this.data[r],r,this.data);return n}has(e){const t=this.length,n=this.data;for(let r=0;r<t;++r)if(n[r]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function Yn(e){e.data.length>Wn*e.length&&(e.data.length=Math.floor(e.length*qn))}function Xn(e){return{setTimeout:(t,n)=>{const r=e.setTimeout(t,n);return Tt((()=>e.clearTimeout(r)))}}}const Jn=Xn(globalThis);function Kn(e){return Qn(e)||er(e)}function Qn(e){return null!=e&&"object"==typeof e&&"on"in e&&"function"==typeof e.on}function er(e){return null!=e&&"object"==typeof e&&"addEventListener"in e&&"function"==typeof e.addEventListener}function tr(e,t,n){if(!Kn(e))throw new TypeError("target is not a Evented or EventTarget object");return er(e)?nr(e,t,n):e.on(t,n)}function nr(e,t,n,r){if(Array.isArray(t)){const i=t.slice();for(const t of i)e.addEventListener(t,n,r);return Tt((()=>{for(const t of i)e.removeEventListener(t,n,r)}))}return e.addEventListener(t,n,r),Tt((()=>e.removeEventListener(t,n,r)))}function rr(e,t,n){if(!Kn(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const r=tr(e,t,(t=>{r.remove(),n.call(e,t)}));return r}function ir(e="Aborted"){return new et("AbortError",e)}function or(e,t="Aborted"){if(ar(e))throw ir(t)}function sr(e){return e instanceof AbortSignal?e:e?.signal??void 0}function ar(e){const t=sr(e);return null!=t&&t.aborted}function lr(e){if(dr(e))throw e}function cr(e){if(!dr(e))throw e}function ur(e,t){const n=sr(e);if(null!=n){if(!n.aborted)return rr(n,"abort",(()=>t()));t()}}function hr(e,t){const n=sr(e);if(null!=n)return or(n),rr(n,"abort",(()=>t(ir())))}function pr(e,t){return null==sr(t)?e:new Promise(((n,r)=>{let i=ur(t,(()=>r(ir())));const o=()=>{i=gt(i)};e.then(o,o),e.then(n,r)}))}function dr(e){return"AbortError"===e?.name}async function fr(e){try{return await e}catch(t){if(!dr(t))throw t;return}}async function mr(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e),n=t.map((t=>e[t])),r=await mr(n),i={};return t.map(((e,t)=>i[e]=r[t])),i}const t=e;return Promise.allSettled(t).then((e=>Array.from(t,((t,n)=>{const r=e[n];return"fulfilled"===r.status?{promise:t,value:r.value}:{promise:t,error:r.reason}}))))}async function yr(e){return(await Promise.allSettled(e)).filter((e=>"fulfilled"===e.status)).map((e=>e.value))}async function gr(e){return(await Promise.allSettled(e)).filter((e=>"rejected"===e.status)).map((e=>e.reason))}function vr(e,t=void 0,n){const r=new AbortController;return ur(n,(()=>r.abort())),new Promise(((n,i)=>{let o=setTimeout((()=>{o=0,n(t)}),e);ur(r,(()=>{o&&(clearTimeout(o),i(ir()))}))}))}function br(e,t){const n=new AbortController,r=setTimeout((()=>n.abort()),t);return ur(e,(()=>{n.abort(),clearTimeout(r)})),{...e,signal:n.signal}}function wr(e){return e&&"function"==typeof e.then}function _r(e){return wr(e)?e:Promise.resolve(e)}function xr(e,t=-1){let n,r,i,o,s=null;const a=(...l)=>{if(n){r=l,o&&o.reject(ir()),o=Sr();const e=o.promise;if(s){const e=s;s=null,e.abort()}return e}if(i=o||Sr(),o=null,t>0){const r=new AbortController;n=_r(e(...l,r.signal));const i=n;vr(t).then((()=>{n===i&&(o?r.abort():s=r)}))}else n=1,n=_r(e(...l));const c=()=>{const e=r;r=i=n=s=null,null!=e&&a(...e)},u=n,h=i;return u.then(c,c),u.then(h.resolve,h.reject),h.promise};return a}function Sr(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r})),r=t=>{e(t)};return r.resolve=t=>e(t),r.reject=e=>t(e),r.timeout=(e,t)=>Jn.setTimeout((()=>r.reject(t)),e),r.promise=n,r}async function Tr(e){await Promise.resolve(),or(e)}function Er(e){return e}function Mr(e){return 1e3*e}function Ar(e){return e}let Ir=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},Cr=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},Or=0;const kr={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Rr=["prepare","preRender","render","postRender","update","finish"],Lr=[],Nr=new Zn;let Pr=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function Dr(){null!=zr&&(cancelAnimationFrame(zr),zr=requestAnimationFrame(Vr))}const Fr={frameTasks:Nr,willDispatch:!1,clearFrameTasks:Gr,dispatch:Wr,executeFrameTasks:Br,reschedule:Dr};function jr(e){const t=new Cr(e);return Lr.push(t),Fr.willDispatch||(Fr.willDispatch=!0,Vn(Wr)),t}function Ur(e){const t=new Ir(e);return Nr.push(t),null==zr&&(Or=performance.now(),zr=requestAnimationFrame(Vr)),new Pr(t)}let zr=null;function Gr(e=!1){Nr.forAll((e=>{e.removed=!0})),e&&Hr()}function Vr(){const e=performance.now();zr=null,zr=Nr.length>0?requestAnimationFrame(Vr):null,Fr.executeFrameTasks(e)}function Br(e){const t=e-Or;Or=e;const n=1e3/60,r=Math.max(0,t-n);kr.time=e,kr.frameDuration=n-r;for(let i=0;i<Rr.length;i++){const n=performance.now(),r=Rr[i];Nr.forAll((n=>{n.paused||n.removed||(0===i&&n.ticks++,n.phases[r]&&(kr.elapsedFrameTime=performance.now()-e,kr.deltaTime=0===n.ticks?0:t,n.phases[r]?.call(n,kr)))})),Xr[i].push(performance.now()-n)}Hr(),Jr.push(performance.now()-e)}const $r=new Zn;function Hr(){Nr.forAll((e=>{e.removed&&$r.push(e)})),Nr.removeUnorderedMany($r.data,$r.length),$r.clear()}function Wr(){for(;Lr.length;){const e=Lr.shift();e.isActive&&e.callback()}Fr.willDispatch=!1}function qr(e=1,t){const n=Sr(),r=()=>{ar(t)?n.reject(ir()):0===e?n():(--e,Vn((()=>r())))};return r(),n.promise}function Zr(e){return qr(1,e)}async function Yr(e){await Zr(e),await new Promise((t=>requestAnimationFrame((()=>{e?.aborted||t()}))))}const Xr=Rr.map((e=>new Bn(e))),Jr=new Bn("total");function Kr(e,t){for(const n of e.values())if(t(n))return!0;return!1}function Qr(e,t){if(!t)return e;for(const n of t)null!=n&&e.add(n);return e}function ei(e,t){return null!=t&&e.add(t),e}function ti(e,t){const n=new Set;return Qr(n,e),Qr(n,t),n}function ni(e,t){const n=new Set;for(const r of t)e.has(r)&&n.add(r);return n}function ri(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const n of e)if(!t.has(n))return!1;return!0}function ii(e,t){if(null==e&&null==t)return!0;if(null==e||null==t||e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function oi(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}function si(e,t){return oi(ti(e,t),ni(e,t))}let ai=0;function li(){return++ai}let ci=class extends an{constructor(e){super(new ui(e)),this._observer&&hi.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&hi.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},ui=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=pi}};const hi=new FinalizationRegistry((e=>{e.deref()?.destroy()}));function pi(){}let di=!1;const fi=[];function mi(e,t){let n=new ci(o),r=null,i=!1;function o(){if(!n||i)return;if(di)return void vi(o);const s=r;n.clear(),di=!0,i=!0,r=fn(n,e),i=!1,di=!1,t(r,s),bi()}function s(){n&&(n.destroy(),n=null,r=null)}return i=!0,r=fn(n,e),i=!1,Tt(s)}function yi(e,t){let n=new ci(i),r=null;function i(){t(r,s)}function o(){n&&(n.destroy(),n=null),r=null}function s(){return n?(n.clear(),r=fn(n,e),r):null}return s(),Tt(o)}function gi(e,t){let n=!1,r=!1;const i=!!t?.sync;let o=new ci((()=>{n||r||(r=!0,i?s():queueMicrotask(s))}));function s(){r=!1,o&&!n&&(di?vi(s):(o.clear(),di=!0,n=!0,fn(o,e),n=!1,di=!1,bi()))}function a(){o&&(o.destroy(),o=null)}return n=!0,fn(o,e),n=!1,Tt(a)}function vi(e){fi.includes(e)||fi.unshift(e)}function bi(){for(;fi.length;)fi.pop()()}var wi;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(wi||(wi={}));let _i=class{constructor(){this.uid=li(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,t,n,r,i){return this.pool.acquire(wi.Untracked,e,t,n,r,i,Ie)}static acquireTracked(e,t,n,r){return this.pool.acquire(wi.Tracked,e,t,n,null,null,r)}notify(e,t){this.type===wi.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,n,r,i,o,s){this.uid=li(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=n,this.getValue=r,this.target=i,this.path=o,this.equals=s}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=li(),this.removed=!0}};_i.pool=new zn(_i);const xi=new jn,Si=new Set;let Ti;function Ei(e){Si.delete(e),Si.add(e),Ti||(Ti=jr(Ii))}function Mi(e){if(e.removed)return;const t=e.oldValue,n=e.getValue();e.equals(t,n)||(e.oldValue=n,e.notify(n,t))}function Ai(e){for(const t of Si.values())t.target===e&&(t.removed=!0)}function Ii(){let e=10;for(;Ti&&e--;){Ti=null;const e=Ci(),t=xi.acquire();for(const n of e){const e=n.uid;Mi(n),e===n.uid&&n.removed&&t.push(n)}for(const n of Si)n.removed&&(t.push(n),Si.delete(n));for(const n of t)_i.pool.release(n);xi.release(t),xi.release(e),Oi.forEach((e=>e()))}}function Ci(){const e=xi.acquire();e.length=Si.size;let t=0;for(const n of Si)e[t]=n,++t;return Si.clear(),e}const Oi=new Set;function ki(e){return Oi.add(e),Tt((()=>Oi.delete(e)))}function Ri(e,t,n){let r=Dt(e,t,n,((e,t,n)=>{let i,o,s=yi((()=>Ut(e,t)),((s,a)=>{e.__accessor__?.lifecycle===Vt.DESTROYED||i&&i.uid!==o?r.remove():(i||(i=_i.acquireUntracked(s,n,a,e,t),o=i.uid),Ei(i))}));return Tt((()=>{s.remove(),i&&(i.uid!==o||i.removed||(i.removed=!0,Ei(i)),i=null),r=s=null}))}));return r}function Li(e,t,n){const r=Dt(e,t,n,((e,t,n)=>{let i=!1;return mi((()=>Ut(e,t)),((o,s)=>{e.__accessor__.lifecycle!==Vt.DESTROYED?i||(i=!0,Ie(s,o)||n.call(e,o,s,t,e),i=!1):r.remove()}))}));return r}function Ni(e,t,n,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Vt.DESTROYED?r?Li(e,t,n):Ri(e,t,n):Tt()}function Pi(e,t,n){let r,i,o=yi(e,((e,s)=>{r&&r.uid!==i?o.remove():(r||(r=_i.acquireTracked(e,t,s,n),i=r.uid),Ei(r))}));return Tt((()=>{o.remove(),r&&(r.uid!==i||r.removed||(r.removed=!0,Ei(r)),r=null),o=null}))}function Di(e,t,n){let r=!1;return mi(e,((e,i)=>{r||(r=!0,n(i,e)||t(e,i),r=!1)}))}function Fi(e,t,n=!1,r=Ce){return n?Di(e,t,r):Pi(e,t,r)}function ji(e){return Kr(Si,(t=>t.oldValue===e))}function Ui(e,t){for(const n of e.values())if(t(n))return!0;return!1}function zi(e,t,n){const r=e.get(t);if(void 0!==r)return r;const i=n();return e.set(t,i),i}function Gi(e){const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}const Vi=()=>Ye.getLogger("esri.core.accessorSupport.ensureTypes");function Bi(e){return null==e?e:new Date(e)}function $i(e){return null==e?e:!!e}function Hi(e){return null==e?e:e.toString()}function Wi(e,t=0){return null==e?e:(e=parseFloat(e),isNaN(e)?t:e)}function qi(e){return null==e?e:Math.round(parseFloat(e))}function Zi(e){return null}function Yi(e,t){return n=>{let r=e(n);return null!=t.step&&(r=Math.round(r/t.step)*t.step),null!=t.min&&(r=Math.max(t.min,r)),null!=t.max&&(r=Math.min(t.max,r)),r}}function Xi(e){return e?.constructor&&void 0!==e.constructor.__accessorMetadata__}function Ji(e,t){return null!=t&&e&&!(t instanceof e)}function Ki(e){return e&&"isCollection"in e}function Qi(e){return e?.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function eo(e,t){if(!t?.constructor||!Ki(t.constructor))return to(e,t)?t:new e(t);const n=Qi(e.prototype.itemType),r=Qi(t.constructor.prototype.itemType);return n?r?n===r?t:n.prototype.isPrototypeOf(r.prototype)?new e(t):(to(e,t),t):new e(t):t}function to(e,t){return!!Xi(t)&&(Vi().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+ro(e)+"'"),!0)}function no(e,t){return null==t?t:Ki(e)?eo(e,t):Ji(e,t)?to(e,t)?t:new e(t):t}function ro(e){return e?.prototype?.declaredClass||"unknown"}const io=new WeakMap;function oo(e){switch(e){case Number:return e=>Wi(e);case yo:return qi;case Boolean:return $i;case String:return Hi;case Date:return Bi;case go:return Zi;default:return zi(io,e,(()=>no.bind(null,e)))}}function so(e,t){const n=oo(e);return 1===arguments.length?n:n(t)}function ao(e,t,n){return 1===arguments.length?ao.bind(null,e):t&&(Array.isArray(t)?t.map((t=>e(t,n))):[e(t,n)])}function lo(e,t){return 1===arguments.length?ao((t=>so(e,t))):ao((t=>so(e,t)),t)}function co(e,t,n){return 0!==t&&Array.isArray(n)?n.map((n=>co(e,t-1,n))):e(n)}function uo(e,t,n){if(2===arguments.length)return n=>uo(e,t,n);if(!n)return n;n=co(e,t,n);let r=t,i=n;for(;r>0&&Array.isArray(i);)r--,i=i[0];if(void 0!==i)for(let o=0;o<r;o++)n=[n];return n}function ho(e,t,n){return 2===arguments.length?uo((t=>so(e,t)),t):uo((t=>so(e,t)),t,n)}function po(e){return!!Array.isArray(e)&&!e.some((t=>{const n=typeof t;return!("string"===n||"number"===n||"function"===n&&e.length>1)}))}function fo(e,t){if(2===arguments.length)return fo(e).call(null,t);const n=new Set,r=e.filter((e=>"function"!=typeof e)),i=e.filter((e=>"function"==typeof e));for(const a of e)"string"!=typeof a&&"number"!=typeof a||n.add(a);let o=null,s=null;return(e,t)=>{if(null==e)return e;const a=typeof e,l="string"===a||"number"===a;return l&&(n.has(e)||i.some((e=>"string"===a&&e===String||"number"===a&&e===Number)))||"object"===a&&i.some((t=>!Ji(e,t)))?e:(l&&r.length?(o||(o=r.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),Vi().error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${o}`)):"object"==typeof e&&i.length?(s||(s=i.map((e=>ro(e))).join(", ")),Vi().error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${s}`)):Vi().error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function mo(e,t){if(2===arguments.length)return mo(e).call(null,t);const n={},r=[],i=[];for(const l in e.typeMap){const t=e.typeMap[l];n[l]=so(t),r.push(ro(t)),i.push(l)}const o=()=>`'${r.join("', '")}'`,s=()=>`'${i.join("', '")}'`,a="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!Ji(e.base,t)||null==t)return t;const r=a(t)||e.defaultKeyValue,i=n[r];if(!i)return Vi().error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${s()})`),null;if(!Ji(e.typeMap[r],t))return t;if("string"==typeof e.key&&!Xi(t)){const n={};for(const r in t)r!==e.key&&(n[r]=t[r]);return i(n)}return i(t)}}let yo=class{},go=class{};const vo={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function bo(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function wo(e){switch(e.type){case"native":return so(e.value);case"array":return ao(wo(e.value));case"one-of":return _o(e);default:return null}}function _o(e){let t=null;return(n,r)=>So(n,e)?n:(null==t&&(t=xo(e)),Vi().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function xo(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case yo:return"integer";case Date:return"date";case go:return"null";default:return ro(e.value)}case"array":return`array of ${xo(e.value)}`;case"one-of":{const t=e.values.map((e=>xo(e)));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function So(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case yo:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e;case go:return null===e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!So(e,t.value)));case"one-of":return t.values.some((t=>So(e,t)))}}function To(e={}){return(t,n)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${n}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,n),i=$t(t,n);r&&(r.get||r.set?(i.get=r.get||i.get,i.set=r.set||i.set):"value"in r&&("value"in e&&Ye.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=r.value)),null!=e.readOnly&&(i.readOnly=e.readOnly);const o=e.aliasOf;if(o){const e="string"==typeof o?o:o.source,t="string"==typeof o?null:!0===o.overridable;let r;i.dependsOn=[e],i.get=function(){let t=zt(this,e);if("function"==typeof t){r||(r=e.split(".").slice(0,-1).join("."));const n=zt(this,r);n&&(t=t.bind(n))}return t},i.readOnly||(i.set=t?function(e){this._override(n,e)}:function(t){On(this,e,t)})}const s=e.type,a=e.types;if(!i.cast){let t;s?t=Mo(s):a&&(t=Array.isArray(a)?ao(mo(a[0])):mo(a)),e.cast=Ao(e.cast,t)}Ht(i,e),e.range&&(i.cast=Yi(i.cast,e.range))}}function Eo(e,t,n){const r=$t(e,n);r.json||(r.json={});let i=r.json;return void 0!==t&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function Mo(e){let t=0,n=e;if(bo(e))return wo(e);for(;Array.isArray(n)&&1===n.length&&"string"!=typeof n[0]&&"number"!=typeof n[0];)n=n[0],t++;const r=n;if(po(r))return 0===t?fo(r):uo(fo(r),t);if(1===t)return lo(r);if(t>1)return ho(r,t);const i=e;return i.from?i.from:so(i)}function Ao(e,t){if(e||t)return e?t?(n,r)=>t(e(n,r),r):e:t}function Io(e){if(e.json&&e.json.origins){const t=e.json.origins,n={"web-document":["web-scene","web-map"]};for(const e in n)if(t[e]){const r=t[e];n[e].forEach((e=>{t[e]=r})),delete t[e]}}}let Co=class extends Qe{constructor(e,t,n){super(e,t,n)}};function Oo(e){return!!e&&e.prototype?.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}Co.prototype.type="warning";const ko=()=>Ye.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function Ro(e,t,n){e&&(!n&&!t.read||t.read?.reader||!1===t.read?.enabled||zo(e)&&Pe("read.reader",Lo(e),t))}function Lo(e){const t=e.ndimArray??0;if(t>1)return Fo(e);if(1===t)return jo(e);if("type"in e&&Uo(e.type)){const t=e.type.prototype?.itemType?.Type,n=jo("function"==typeof t?{type:t}:{types:t});return(t,r,i)=>{const o=n(t,r,i);return o&&new e.type(o)}}return No(e)}function No(e){return"type"in e?Po(e.type):Bo(e.types)}function Po(e){return e.prototype.read?(t,n,r)=>{if(null==t)return t;const i=typeof t;if("object"!==i)return void ko().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const o=new e;return o.read(t,r),o}:e.fromJSON}function Do(e,t,n,r){return 0!==r&&Array.isArray(t)?t.map((t=>Do(e,t,n,r-1))):e(t,void 0,n)}function Fo(e){const t=No(e),n=Do.bind(null,t),r=e.ndimArray??0;return(e,t,i)=>{if(null==e)return e;e=n(e,i,r);let o=r,s=e;for(;o>0&&Array.isArray(s);)o--,s=s[0];if(void 0!==s)for(let n=0;n<o;n++)e=[e];return e}}function jo(e){const t=No(e);return(e,n,r)=>{if(null==e)return e;if(Array.isArray(e)){const n=[];for(const i of e){const e=t(i,void 0,r);void 0!==e&&n.push(e)}return n}const i=t(e,void 0,r);return void 0!==i?[i]:void 0}}function Uo(e){if(!Oo(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?Go(t.Type):Vo(t.Type))}function zo(e){return"types"in e?Vo(e.types):Go(e.type)}function Go(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||Uo(e))}function Vo(e){for(const t in e.typeMap)if(!Go(e.typeMap[t]))return!1;return!0}function Bo(e){let t=null;const n=e.errorContext??"type",r=e.validate;return(i,o,s)=>{if(null==i)return i;const a=typeof i;if("object"!==a)return void ko().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=$o(e));const l=e.key;if("string"!=typeof l)return;const c=i[l],u=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!u){const e=`Type '${c||"unknown"}' is not supported`;return s?.messages&&i&&s.messages.push(new Co(`${n}:unsupported`,e,{definition:i,context:s})),void ko().error(e)}const h=new u;return h.read(i,s),r?r(h):h}}function $o(e){const t={};for(const n in e.typeMap){const r=e.typeMap[n],i=Bt(r.prototype);if("function"==typeof e.key)continue;const o=i[e.key];if(!o)continue;if(o.json?.type&&Array.isArray(o.json.type)&&1===o.json.type.length&&"string"==typeof o.json.type[0]){t[o.json.type[0]]=r;continue}const s=o.json?.write;if(!s?.writer){t[n]=r;continue}const a=s.target,l="string"==typeof a?a:e.key,c={};s.writer(n,c,l),c[l]&&(t[c[l]]=r)}return t}function Ho(e){if(e.json||(e.json={}),qo(e.json),Zo(e.json),Wo(e.json),e.json.origins)for(const t in e.json.origins)qo(e.json.origins[t]),Zo(e.json.origins[t]),Wo(e.json.origins[t]);return!0}function Wo(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function qo(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function Zo(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}function Yo(e,t){if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const n=e?.ndimArray??0;e&&(1===n||"type"in e&&Oo(e.type))?t.write.writer=ns:n>1?t.write.writer=is(n):t.types?Array.isArray(t.types)?t.write.writer=Ko(t.types[0]):t.write.writer=Xo(t.types):t.write.writer=Qo}function Xo(e){return(t,n,r,i)=>t?Jo(t,e,i)?Qo(t,n,r,i):void 0:Qo(t,n,r,i)}function Jo(e,t,n){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(n?.messages){const r=t.errorContext??"type",i=`Values of type '${("function"!=typeof t.key?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;n&&n.messages&&e&&n.messages.push(new et(`${r}:unsupported`,i,{definition:e,context:n})),Ye.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function Ko(e){return(t,n,r,i)=>t&&Array.isArray(t)?Qo(t.filter((t=>Jo(t,e,i))),n,r,i):Qo(t,n,r,i)}function Qo(e,t,n,r){Pe(n,es(e,r),t)}function es(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?ts(e):e}function ts(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function ns(e,t,n,r){let i;null===e?i=null:e&&"function"==typeof e.map?(i=e.map((e=>es(e,r))),"function"==typeof i.toArray&&(i=i.toArray())):i=[es(e,r)],Pe(n,i,t)}function rs(e,t,n){return 0!==n&&Array.isArray(e)?e.map((e=>rs(e,t,n-1))):es(e,t)}function is(e){return(t,n,r,i)=>{let o;if(null===t)o=null;else{o=rs(t,i,e);let n=e,r=o;for(;n>0&&Array.isArray(r);)n--,r=r[0];if(void 0!==r)for(let e=0;e<n;e++)o=[o]}Pe(r,o,n)}}function os(e,t){return ls(e,"any",t?.origin)}function ss(e,t){return ls(e,"read",t?.origin)}function as(e,t){return ls(e,"write",t?.origin)}function ls(e,t,n){let r=e?.json;if(r?.origins&&n){let e;e="link-chart"===n?r.origins[n]&&("any"===t||t in r.origins[n])?r.origins[n]:r.origins["web-map"]:r.origins[n],e&&("any"===t||t in e)&&(r=e)}return r}function cs(e){const t=us(e);if(e.json.origins)for(const n in e.json.origins){const r=e.json.origins[n],i=r.types?hs(r):t;Ro(i,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),Yo(i,r)}Ro(t,e.json,!0),Yo(t,e.json)}function us(e){return e.json.types?ds(e.json):e.type?ps(e):ds(e)}function hs(e){return e.type?ps(e):ds(e)}function ps(e){if(!e.type)return;let t=0,n=e.type;for(;Array.isArray(n)&&!po(n);)n=n[0],t++;return{type:n,ndimArray:t}}function ds(e){if(!e.types)return;let t=0,n=e.types;for(;Array.isArray(n);)n=n[0],t++;return{types:n,ndimArray:t}}function fs(e){Ho(e)&&(Io(e),cs(e))}const ms=new Set,ys=new Set;function gs(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,bs(t);const n=[],r=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!ms.has(i.initialize)&&(ms.add(i.initialize),n.push(i.initialize)),i.hasOwnProperty("destroy")&&!ys.has(i.destroy)&&(ys.add(i.destroy),r.push(i.destroy)),i=Object.getPrototypeOf(i);ms.clear(),ys.clear();const o=class extends t{constructor(...e){if(super(...e),this.constructor===o&&"function"==typeof this.postscript){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=n.length-1;e>=0;e--)n[e].call(this)}}),r.length){let e=!1;const t=this[xt];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0,t.call(this);for(let e=0;e<r.length;e++)r[e].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};o.__accessorMetadata__=Bt(t.prototype),o.prototype.declaredClass=e;const s=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(o,"name",{value:s,configurable:!0}),o}}function vs(e,t){return null==t.get?function(){const t=this.__accessor__,n=t.propertiesByName.get(e);if(void 0===n)return;t.mutable&&hn(n);const r=t.store;return r.has(e)?r.get(e):n.metadata.value}:function(){const t=this.__accessor__,n=t.propertiesByName.get(e);if(void 0!==n)return n.getComputed(t)}}function bs(e){const t=e.prototype,n=Bt(t),r={};for(const i of Object.getOwnPropertyNames(n)){const e=n[i];fs(e),r[i]={enumerable:!0,configurable:!0,get:vs(i,e),set(t){const n=this.__accessor__;if(void 0!==n){if(n.mutable)return n.initialized&&e.readOnly?ws("read-only",i):n.lifecycle===Vt.CONSTRUCTED&&e.constructOnly?ws("construct-only",i):void n.set(i,t)}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:t})}}}Object.defineProperties(e.prototype,r)}const ws=(e,t)=>{Ye.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var _s,xs;function Ss(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Ts=Symbol("Accessor-Handles"),Es=Symbol("Accessor-Initialized");let Ms=class e{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:n,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const i=this;class o extends i{constructor(...e){super(...e),this.inherited=null,r&&r.apply(this,e)}}Bt(o.prototype);for(const s in e){const t=e[s];o.prototype[s]="function"==typeof t?function(...e){const n=this.inherited;let r;this.inherited=function(...e){if(i.prototype[s])return i.prototype[s].apply(this,e)};try{r=t.apply(this,e)}catch(o){throw this.inherited=n,o}return this.inherited=n,r}:e[s]}for(const s in t){const e=Ss(t[s]);To(e)(o.prototype,s)}return gs(n)(o)}static freeze(t){return t instanceof e?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof e?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[_s]=null,this[xs]=!1,this.constructor===e)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const n=new An(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:n}),t.length>0&&(n.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const e=this.__accessor__,t=e.ctorArgs;e.initialize(),t&&(this.set(t),e.ctorArgs=null),e.constructed(),this.initialize(),this[Es]=!0}initialize(){}[xt](){this[Ts]=mt(this[Ts])}destroy(){this.destroyed||(Ai(this),this.__accessor__.destroy(),Pn()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Es]}get destroyed(){return this.__accessor__?.lifecycle===Vt.DESTROYED||!1}commitProperty(e){zt(this,e)}get(e){return rt(Ye.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),zt(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return On(this,e,t),this}watch(e,t,n){return Ni(this,e,t,n)}addHandles(e,t){if(this.destroyed){const t=Array.isArray(e)?e:[e];for(const e of t)e.remove()}else(this[Ts]??=new ut).add(e,t)}removeHandles(e){this[Ts]?.remove(e)}removeAllHandles(){this[Ts]?.removeAll()}removeHandlesReference(e){this[Ts]?.removeReference(e)}hasHandles(e){return!0===this[Ts]?.has(e)}_override(e,t){void 0===t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){null==t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}};_s=Ts,xs=Es;let As=class e{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const n=new e;return this._values.forEach(((e,r)=>{t&&t.has(r)||n.set(r,_e(e.value),e.origin)})),n}get(e,t){t=this._normalizeOrigin(t);const n=this._values.get(e);return null==t||n?.origin===t?n?.value:void 0}originOf(e){return this._values.get(e)?.origin??en.USER}keys(e){e=this._normalizeOrigin(e);const t=[...this._values.keys()];return null==e?t:t.filter((t=>this._values.get(t)?.origin===e))}set(e,t,n){if((n=this._normalizeOrigin(n))===en.DEFAULTS){const t=this._values.get(e);if(null!=t?.origin&&t.origin>n)return}this._values.set(e,new Is(t,n))}delete(e,t){null!=(t=this._normalizeOrigin(t))&&this._values.get(e)?.origin!==t||this._values.delete(e)}has(e,t){return null!=(t=this._normalizeOrigin(t))?this._values.get(e)?.origin===t:this._values.has(e)}forEach(e){this._values.forEach((({value:t},n)=>e(t,n)))}_normalizeOrigin(e){if(null!=e)return e===en.DEFAULTS?e:en.USER}},Is=class{constructor(e,t){this.value=e,this.origin=t}};function Cs(e,t,n){t.keys().forEach((e=>{n.set(e,t.get(e),en.DEFAULTS)}));const r=e.metadata;Object.keys(r).forEach((t=>{e.internalGet(t)&&n.set(t,e.internalGet(t),en.DEFAULTS)}))}function Os(e,t,n){if(!e?.read||!1===e.read.enabled||!e.read.source)return!1;const r=e.read.source;if("string"==typeof r){if(r===t||r.includes(".")&&0===r.indexOf(t)&&Gt(r,n))return!0}else for(const i of r)if(i===t||i.includes(".")&&0===i.indexOf(t)&&Gt(i,n))return!0;return!1}function ks(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)}function Rs(e,t,n,r,i){let o=ss(t[n],i);ks(o)&&(e[n]=!0);for(const s of Object.getOwnPropertyNames(t))o=ss(t[s],i),Os(o,n,r)&&(e[s]=!0)}function Ls(e,t,n,r){const i=n.metadata,o=os(i[t],r),s=o?.default;if(void 0===s)return;const a="function"==typeof s?s.call(e,t,r):s;void 0!==a&&n.set(t,a)}const Ns={origin:"service"};function Ps(e,t,n=Ns){if(!t||"object"!=typeof t)return;const r=Ct(e),i=r.metadata,o={};for(const s of Object.getOwnPropertyNames(t))Rs(o,i,s,t,n);r.setDefaultOrigin(n.origin);for(const s of Object.getOwnPropertyNames(o)){const o=ss(i[s],n).read,a=o?.source;let l;l=a&&"string"==typeof a?Ut(t,a):t[s],o?.reader&&(l=o.reader.call(e,l,t,n)),void 0!==l&&r.set(s,l)}if(!n||!n.ignoreDefaults){r.setDefaultOrigin("defaults");for(const t of Object.getOwnPropertyNames(i))o[t]||Ls(e,t,r,n)}r.setDefaultOrigin("user")}function Ds(e,t,n,r=Ns){const i={...r,messages:[]};n(i),i.messages?.forEach((t=>{"warning"!==t.type||e.loaded?r?.messages&&r.messages.push(t):e.loadWarnings.push(t)}))}function Fs(e,t,n,r,i){const o={};return t.write?.writer?.call(e,r,o,n,i),o}function js(e,t,n,r,i,o){if(!r?.write)return!1;const s=zt(e,n);if(!i&&r.write.overridePolicy){const t=r.write.overridePolicy.call(e,s,n,o??void 0);void 0!==t&&(i=t)}if(i||(i=r.write),!i||!1===i.enabled||i.layerContainerTypes&&o?.layerContainerType&&!i.layerContainerTypes.includes(o.layerContainerType))return!1;if((null===s&&!i.allowNull&&!i.writerEnsuresNonNull||void 0===s)&&i.isRequired){const t=new et("web-document-write:property-required",`Missing value for required property '${n}' on '${e.declaredClass}'`,{propertyName:n,target:e});return t&&o?.messages?o.messages.push(t):t&&!o&&Ye.getLogger("esri.core.accessorSupport.write").error(t.name,t.message),!1}return!(void 0===s||null===s&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(n)===en.DEFAULTS)&&Us(e,n,o,r,s)||!i.ignoreOrigin&&o?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(n)<nn(o.origin))}function Us(e,t,n,r,i){const o=r.default;if(void 0===o)return!1;if(null!=r.defaultEquals)return r.defaultEquals(i);if("function"==typeof o){if(Array.isArray(i)){const r=o.call(e,t,n??void 0);return L(r,i)}return!1}return o===i}function zs(e,t,n,r){const i=Ct(e),o=i.metadata,s=as(o[t],r);return!!s&&js(e,i,t,s,n,r)}function Gs(e,t,n){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return kt(t,e.toJSON(n));const r=Ct(e),i=r.metadata;for(const o in i){const s=as(i[o],n);if(!js(e,r,o,s,void 0,n))continue;const a=zt(e,o),l=Fs(e,s,s.write&&"string"==typeof s.write.target?s.write.target:o,a,n);Object.keys(l).length>0&&(t=kt(t,l),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then((()=>kt(t,l,(()=>"replace-arrays"))))),n?.writtenProperties&&n.writtenProperties.push({target:e,propName:o,oldOrigin:on(r.store.originOf(o)),newOrigin:n.origin}))}return t}const Vs=e=>{let t=class extends e{constructor(...e){super(...e);const t=Ct(this),n=t.store,r=new As;t.store=r,Cs(t,n,r)}read(e,t){Ps(this,e,t)}write(e,t){return Gs(this,e??{},t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return Bs.call(this,e,t)}};return t=S([gs("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Bs(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const n=new this;return n.read(e,t),n}function $s(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}let Hs=class extends(Vs(Ms)){};Hs=S([gs("esri.core.JSONSupport")],Hs);const Ws=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,qs={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function Zs(e){const t=e?.match(Ws);if(!t)return null;const[,n,r,i]=t;if(!n)return null;let o=null,s=null,a=null;const{devext:l,qaext:c,www:u}=qs;if(r)if(o=n,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:s,portalHostname:a}=l);break;case"qa":({customBaseUrl:s,portalHostname:a}=c);break;default:return null}else({customBaseUrl:s,portalHostname:a}=u);else switch(n.toLowerCase()){case"devext":({customBaseUrl:s,portalHostname:a}=l);break;case"qaext":({customBaseUrl:s,portalHostname:a}=c);break;case"www":({customBaseUrl:s,portalHostname:a}=u);break;default:return null}return{customBaseUrl:s,isPortal:!1,portalHostname:a,urlKey:o}}function Ys(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function Xs(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):n.test(e)?e=e.replace(n,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function Js(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}function Ks(e){const t=new Uint8Array(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}const Qs=()=>Ye.getLogger("esri.core.urlUtils"),ea=Ue.request,ta="esri/config: esriConfig.request.proxyUrl is not set.",na=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ra=/^\s*http:/i,ia=/^\s*https:/i,oa=/^\s*file:/i,sa=/:\d+$/,aa=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,la=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ca=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let ua=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=this.uri.match(la);this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=this.authority.match(ca),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}};const ha={},pa=new ua(Ue.applicationUrl);let da=pa;const fa=va();let ma=fa;const ya=()=>da,ga=()=>ma;function va(){const e=da.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${da.scheme}://${da.host}${null!=da.port?`:${da.port}`:""}${t}`}function ba(e){if(!e)return null;const t={path:null,query:null},n=new ua(e),r=e.indexOf("?");return null===n.query?t.path=e:(t.path=e.slice(0,r),t.query=wa(n.query)),n.fragment&&(t.hash=n.fragment,null===n.query&&(t.path=t.path.slice(0,t.path.length-(n.fragment.length+1)))),t}function wa(e){const t=e.split("&"),n={};for(const r of t){if(!r)continue;const e=r.indexOf("=");let t,i;e<0?(t=decodeURIComponent(r),i=""):(t=decodeURIComponent(r.slice(0,e)),i=decodeURIComponent(r.slice(e+1)));let o=n[t];"string"==typeof o&&(o=n[t]=[o]),Array.isArray(o)?o.push(i):n[t]=i}return n}function _a(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((n=>encodeURIComponent(n)+"="+encodeURIComponent(t(n,e[n])))).join("&"):Object.keys(e).map((n=>{const r=e[n];if(null==r)return"";const i=encodeURIComponent(n)+"=",o=t?.[n];return o?i+encodeURIComponent(o(r)):Array.isArray(r)?r.map((e=>$s(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e))).join("&"):$s(r)?i+encodeURIComponent(JSON.stringify(r)):i+encodeURIComponent(r)})).filter((e=>e)).join("&"):""}function xa(e=!1){let t,n=ea.proxyUrl;if("string"==typeof e){t=Qa(e);const r=Ia(e);r&&(n=r.proxyUrl)}else t=!!e;if(!n)throw Qs().warn(ta),new et("urlUtils:proxy-not-set",ta);return t&&il()&&(n=nl(n)),ba(n)}function Sa(e,t=!1){const n=Ia(e);let r,i;if(n){const e=Ea(n.proxyUrl);r=e.path,i=e.query?wa(e.query):null}else if(t){const t=xa(e);r=t.path,i=t.query}if(r){const t=ba(e);e=r+"?"+t.path;const n=_a({...i,...t.query});n&&(e=`${e}?${n}`)}return e}const Ta={path:"",query:""};function Ea(e){const t=e.indexOf("?");return-1!==t?(Ta.path=e.slice(0,t),Ta.query=e.slice(t+1)):(Ta.path=e,Ta.query=null),Ta}function Ma(e){return(e=ol(e=cl(e=Ea(e).path),!0)).toLowerCase()}function Aa(e){const t={proxyUrl:e.proxyUrl,urlPrefix:Ma(e.urlPrefix)},n=ea.proxyRules,r=t.urlPrefix;let i=n.length;for(let o=0;o<n.length;o++){const e=n[o].urlPrefix;if(0===r.indexOf(e)){if(r.length===e.length)return-1;i=o;break}0===e.indexOf(r)&&(i=o+1)}return n.splice(i,0,t),i}function Ia(e){const t=ea.proxyRules,n=Ma(e);for(let r=0;r<t.length;r++)if(0===n.indexOf(t[r].urlPrefix))return t[r]}function Ca(e,t){if(!e||!t)return!1;e=ka(e),t=ka(t);const n=Zs(e),r=Zs(t);return null!=n&&null!=r?n.portalHostname===r.portalHostname:null==n&&null==r&&La(e,t,!0)}function Oa(e,t){return e=ka(e),t=ka(t),ol(e)===ol(t)}function ka(e){const t=(e=ja(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function Ra(e,t=ea.interceptors){const n=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t);if(t)for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(n))return r}else if(n(r.urls))return r;return null}function La(e,t,n=!1){if(!e||!t)return!1;const r=ml(e),i=ml(t);return!(!n&&r.scheme!==i.scheme)&&null!=r.host&&null!=i.host&&r.host.toLowerCase()===i.host.toLowerCase()&&r.port===i.port}function Na(e){if("string"==typeof e){if(!Ga(e))return!0;e=ml(e)}if(La(e,da))return!0;const t=ea.trustedServers||[];for(let n=0;n<t.length;n++){const r=Pa(t[n]);for(let t=0;t<r.length;t++)if(La(e,r[t]))return!0}return!1}function Pa(e){return ha[e]||(Ka(e)||Ja(e)?ha[e]=[new ua(Da(e))]:ha[e]=[new ua(`http://${e}`),new ua(`https://${e}`)]),ha[e]}function Da(e,t=ma,n){return Ja(e)?n?.preserveProtocolRelative?e:"http"===da.scheme&&da.authority===za(e).slice(2)?`http:${e}`:`https:${e}`:Ka(e)?e:Ua("/"===e[0]?sl(t):t,e)}function Fa(e,t=ma,n){if(null==e||!Ga(e))return e;const r=ja(e),i=r.toLowerCase(),o=ja(t).toLowerCase().replace(/\/+$/,""),s=n?ja(n).toLowerCase().replace(/\/+$/,""):null;if(s&&0!==o.indexOf(s))return e;const a=(e,t,n)=>-1===(n=e.indexOf(t,n))?e.length:n;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===o.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(-1===c||s&&c<s.length)return e;e=r.slice(c);const u=o.slice(c-1).replaceAll(/[^/]+/g,"").length;if(u>0)for(let h=0;h<u;h++)e=`../${e}`;else e=`./${e}`;return e}function ja(e){return dl(e=pl(e=hl(e=Da(e=e.trim()))))}function Ua(...e){const t=e.filter(q);if(!t?.length)return;const n=[];if(Ga(t[0])){const e=t[0],r=e.indexOf("//");-1!==r&&(n.push(e.slice(0,r+1)),tl(t[0])&&(n[0]+="/"),t[0]=e.slice(r+2))}else"/"===t[0][0]&&n.push("");const r=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let i=0;i<r.length;i++){const e=r[i];".."===e&&n.length>0&&".."!==n[n.length-1]?n.pop():(!e&&i===r.length-1||e&&("."!==e||0===n.length))&&n.push(e)}return n.join("/")}function za(e,t=!1){if(null==e||Va(e)||Ba(e))return null;let n=e.indexOf("://");if(-1===n&&Ja(e))n=2;else{if(-1===n)return null;n+=3}const r=e.indexOf("/",n);return-1!==r&&(e=e.slice(0,r)),t&&(e=ol(e,!0)),e}function Ga(e){return Ja(e)||Ka(e)}function Va(e){return null!=e&&"blob:"===e.slice(0,5)}function Ba(e){return null!=e&&"data:"===e.slice(0,5)}function $a(e){const t=qa(e);return t?.isBase64?Js(t.data):null}function Ha(e){return Ks(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const Wa=/^data:(.*?)(;base64)?,(.*)$/;function qa(e){const t=e.match(Wa);if(!t)return null;const[,n,r,i]=t;return{mediaType:n,isBase64:!!r,data:i}}function Za(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Ya(e){return(await fetch(e)).blob()}function Xa(e){const t=$a(e);if(!t)return null;const n=qa(e);return new Blob([t],{type:n.mediaType})}function Ja(e){return null!=e&&"/"===e[0]&&"/"===e[1]}function Ka(e){return null!=e&&na.test(e)}function Qa(e){return null!=e&&ia.test(e)||"https"===da.scheme&&Ja(e)}function el(e){return null!=e&&ra.test(e)||"http"===da.scheme&&Ja(e)}function tl(e){return null!=e&&oa.test(e)}function nl(e){return Ja(e)?`https:${e}`:e.replace(ra,"https:")}function rl(){return"http"===da.scheme}function il(){return"https"===da.scheme}function ol(e,t=!1){return Ja(e)?e.slice(2):(e=e.replace(na,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function sl(e){const t=e.indexOf("//"),n=e.indexOf("/",t+2);return-1===n?e:e.slice(0,n)}function al(e){let t=0;if(Ga(e)){const n=e.indexOf("//");-1!==n&&(t=n+2)}const n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function ll(e,t){if(!e)return"";const n=ba(e).path.replace(/\/+$/,""),r=n.slice(n.lastIndexOf("/")+1);if(!t?.length)return r;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(i,"")}function cl(e){return e.endsWith("/")?e:`${e}/`}function ul(e){return e.replace(/\/+$/,"")}function hl(e){if(/^https?:\/\//i.test(e)){const t=Ea(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function pl(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function dl(e){const t=ea.httpsDomains;if(!el(e))return e;const n=e.indexOf("/",7);let r;if(r=-1===n?e:e.slice(0,n),r=r.toLowerCase().slice(7),sa.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return rl()&&r===da.authority&&!aa.test(e)||(il()&&r===da.authority||t&&t.some((e=>r===e||r.endsWith(`.${e}`)))||il()&&!Ia(e))&&(e=nl(e)),e}function fl(e,t,n){if(!(t&&n&&e&&Ga(e)))return e;const r=e.indexOf("//"),i=e.indexOf("/",r+2),o=e.indexOf(":",r+2),s=Math.min(i<0?e.length:i,o<0?e.length:o);return e.slice(r+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${n}${e.slice(s)}`}function ml(e){return"string"==typeof e?new ua(Da(e)):(e.scheme||(e.scheme=da.scheme),e)}function yl(e){return Tl.test(e)}function gl(e,t){const n=ba(e),r=Object.keys(n.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),n.path}function vl(e,t,n){const r=ba(e),i=r.query||{};return i[t]=String(n),`${r.path}?${_a(i)}`}function bl(e,t){if(!t)return e;const n=ba(e),r=n.query||{};for(const[o,s]of Object.entries(t))null!=s&&(r[o]=s);const i=_a(r);return i?`${n.path}?${i}`:n.path}function wl(e){if(null==e)return null;const t=e.match(Sl);return t?t[2]:null}function _l(e){if(null==e)return null;const t=e.match(Sl);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function xl(e){return"string"==typeof e?qa(e)??{data:e}:new Promise(((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(qa(r.result)),r.onerror=e=>n(e)}))}const Sl=/([^.]*)\.([^/]*)$/,Tl=/(^data:image\/svg|\.svg$)/i,El="20241122",Ml="f6f7099a0e79cf518abdcf87c5aa8b6f24ecdcd8";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const Al="4.31";let Il,Cl=Al;function Ol(e){Il=e}function kl(e){const t=Il?.findCredential(e);return t?.token?vl(e,"token",t.token):e}Cl="4.31.6",A("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),A("host-webworker");const Rl=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function Ll(e){const t=za(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!Rl.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function Nl(e,t){return!(!Ue.apiKey||!Ll(e))}function Pl(e,t,n=!1,r){return new Promise(((i,o)=>{if(ar(r))return void o(Dl());let s=()=>{c(),o(new Error(`Unable to load ${t}`))},a=()=>{const t=e;c(),i(t)},l=()=>{if(!e)return;const t=e;c(),t.src="",o(Dl())};const c=()=>{A("esri-image-decode")||(e.removeEventListener("error",s),e.removeEventListener("load",a)),s=null,a=null,e=null,r?.removeEventListener("abort",l),l=null,n&&URL.revokeObjectURL(t)};r?.addEventListener("abort",l),A("esri-image-decode")?e.decode().then(a,s):(e.addEventListener("error",s),e.addEventListener("load",a))}))}function Dl(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const Fl="Timeout exceeded";function jl(){return new Error(Fl)}function Ul(e){return"object"==typeof e&&!!e&&"message"in e&&e.message===Fl}function zl(e){Ue.request.crossOriginNoCorsDomains||(Ue.request.crossOriginNoCorsDomains={});const t=Ue.request.crossOriginNoCorsDomains;for(let n of e)n=n.toLowerCase(),/^https?:\/\//.test(n)?t[za(n)??""]=0:(t[za("http://"+n)??""]=0,t[za("https://"+n)??""]=0)}function Gl(e){const t=Ue.request.crossOriginNoCorsDomains;if(t){let n=za(e);if(n)return n=n.toLowerCase(),!La(n,ya())&&t[n]<Date.now()-36e5}return!1}async function Vl(e){const t=ba(e);e=t.path,"json"===t.query?.f&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const n=Ue.request.crossOriginNoCorsDomains,r=za(e);n&&r&&(n[r.toLowerCase()]=Date.now())}async function Bl(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=wa(t.query.toString().replaceAll("+"," ")));const n=Ba(e),r=Va(e);r||n||(e=ja(e));const i={url:e,requestOptions:{...t}},o=e=>({data:e,getAllHeaders:Xl,getHeader:Xl,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),s=Ra(e,Hl.internalInterceptors);if(s){const e=await sc(s,i);if(null!=e)return o(e)}let a=Ra(e);if(a){const e=await sc(a,i);if(null!=e)return o(e);a.after||a.error||(a=null)}if(e=i.url,"image"===(t=i.requestOptions).responseType&&(A("host-webworker")||A("host-node")))throw ec("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if("head"===t.method){if(t.body)throw ec("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(n||r)throw ec("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await tc(),$l)return $l.execute(e,t);const l=new AbortController,c=ur(t,(()=>l.abort())),u={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:i,redoRequest:!1,useIdentity:Hl.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},h=await cc(u).finally((()=>c?.remove()));return a?.after?.(h),h}let $l;const Hl=Ue.request,Wl="FormData"in globalThis,ql=new Set([499,498,403,401]),Zl=new Set(["COM_0056","COM_0057","SB_0008"]),Yl=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Xl=()=>null,Jl=Symbol();function Kl(e){const t=za(e);t&&!Bl._corsServers.includes(t)&&Bl._corsServers.push(t)}function Ql(e){const t=za(e);return!t||t.endsWith(".arcgis.com")||Bl._corsServers.includes(t)||Na(t)}function ec(e,t,n,r){let i="Error";const o={url:n.url,requestOptions:n.requestOptions,getAllHeaders:Xl,getHeader:Xl,ssl:!1};if(t instanceof et)return t.details?(t.details=_e(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=o,t;if(t){const e=r&&(()=>Array.from(r.headers)),n=r&&(e=>r.headers.get(e)),s=r?.status,a=t.message;a&&(i=a),e&&n&&(o.getAllHeaders=e,o.getHeader=n),o.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||s||0,o.subCode=t.subcode,o.messageCode=t.messageCode,"string"==typeof t.details?o.messages=[t.details]:o.messages=t.details,o.raw=Jl in t?t[Jl]:t}return dr(t)?ir():new et(e,i,o)}async function tc(){A("host-webworker")&&!$l&&($l=await n.e(8691).then(n.bind(n,38691)))}async function nc(){Il||await n.e(653).then(n.bind(n,653))}async function rc(e){const t=e.params.url,n=e.params.requestOptions,r=e.controller.signal,i=n.body;let o=null,s=null;if(Wl&&"HTMLFormElement"in globalThis&&(i instanceof FormData?o=i:i instanceof HTMLFormElement&&(o=new FormData(i))),"string"==typeof i&&(s=i),e.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",priority:Hl.priority,redirect:"follow",signal:r},(o||s)&&(e.fetchOptions.body=o||s),"anonymous"===n.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query?.token||o?.get("token")),!e.hasToken&&Nl(t)&&(n.query||(n.query={}),n.query.token=Ue.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!ic(t)&&!ar(r)){let i;"immediate"===n.authMode?(await nc(),i=await Il.getCredential(t,{signal:r}),e.credential=i):"no-prompt"===n.authMode?(await nc(),i=await Il.getCredential(t,{prompt:!1,signal:r}).catch((()=>{})),e.credential=i):Il&&(i=Il.findCredential(t)),i&&(e.credentialToken=i.token,e.useSSL=!!i.ssl)}}function ic(e){return Yl.some((t=>t.test(e)))}async function oc(e){let t=e.params.url;const n=e.params.requestOptions,r=e.fetchOptions??{},i=Va(t)||Ba(t),o=n.responseType||"json",s=i?0:null!=n.timeout?n.timeout:Hl.timeout;let a=!1;if(!i){e.useSSL&&(t=nl(t));let i={...n.query};e.credentialToken&&(i.token=e.credentialToken);let o=_a(i);A("esri-url-encodes-apostrophe")&&(o=o.replaceAll("'","%27"));const s=t.length+1+o.length;let l;a="delete"===n.method||"post"===n.method||"put"===n.method||!!n.body||s>Hl.maxUrlLength;const c=n.useProxy||!!Ia(t);if(c){const e=xa(t);l=e.path,!a&&l.length+1+s>Hl.maxUrlLength&&(a=!0),e.query&&(i={...e.query,...i})}if("HEAD"===r.method&&(a||c)){if(a)throw s>Hl.maxUrlLength?ec("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):ec("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(c)throw ec("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(r.method="delete"===n.method?"DELETE":"put"===n.method?"PUT":"POST",n.body?t=bl(t,i):(r.body=_a(i),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=bl(t,i),c&&(e.useProxy=!0,t=`${l}?${t}`),i.token&&Wl&&r.body instanceof FormData&&!Ys(t)&&r.body.set("token",i.token),n.hasOwnProperty("withCredentials")?e.withCredentials=n.withCredentials:La(t,ya())||(Na(t)||Il&&Il.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(r.credentials="include",Gl(t)&&await Vl(a?bl(t,i):t))}let l,c,u=0,h=!1;s>0&&(u=setTimeout((()=>{h=!0,e.controller.abort()}),s));try{if("native-request-init"===n.responseType)c=r,c.url=t,n.signal?c.signal=n.signal:delete c.signal;else if("image"!==n.responseType||"default"!==r.cache||"GET"!==r.method||a||ac(n.headers)||!i&&!e.useProxy&&Hl.proxyUrl&&!Ql(t)){if(Bl._beforeFetch&&await Bl._beforeFetch(t,r),l=await fetch(t,r),Bl._afterFetch&&await Bl._afterFetch(l),e.useProxy||Kl(t),"native"===n.responseType)c=l;else if("HEAD"!==r.method)if(l.ok){switch(o){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(u&&(clearTimeout(u),u=0),"json"===o||"xml"===o||"document"===o)if(c)switch(o){case"json":c=JSON.parse(c);break;case"xml":c=lc(c,"application/xml");break;case"document":c=lc(c,"text/html")}else c=null;if(c){if("array-buffer"===o||"blob"===o){const e=l.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&c["blob"===o?"size":"byteLength"]<=750)try{const e=await new Response(c).json();e.error&&(c=e)}catch{}}"image"===o&&c instanceof Blob&&(c=await hc(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await hc(t,e)}catch(p){if("AbortError"===p.name)throw h?jl():ir("Request canceled");if(!(!l&&p instanceof TypeError&&Hl.proxyUrl)||n.body||"delete"===n.method||"head"===n.method||"post"===n.method||"put"===n.method||e.useProxy||Ql(t))throw p;e.redoRequest=!0,Aa({proxyUrl:Hl.proxyUrl,urlPrefix:za(t)??""})}finally{u&&clearTimeout(u)}return[l,c]}async function sc(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(n){r=ec("request:interceptor",n,t)}if((i instanceof Error||i instanceof et)&&(r=ec("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function ac(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}function lc(e,t){let n;try{n=(new DOMParser).parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}async function cc(e){let t,n;await rc(e);try{do{[t,n]=await oc(e)}while(!await uc(e,t,n))}catch(o){const n=ec("request:server",o,e.params,t);throw n.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(n),n}const r=e.params.url;if(n&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&n.user?.username&&!Na(r)){const e=za(r,!0);e&&Hl.trustedServers.push(e)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&zl(n.authorizedCrossOriginNoCorsDomains)}const i=e.credential;if(i&&Il){let e=Il.findServerInfo(i.server)?.owningSystemUrl;if(e){e=e.replace(/\/?$/,"/sharing");const t=Il.findCredential(e,i.userId);t&&-1===Il._getIdenticalSvcIdx(e,t)&&t.resources.unshift(e)}}return{data:n,getAllHeaders:t?()=>Array.from(t.headers):Xl,getHeader:t?e=>t.headers.get(e):Xl,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function uc(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let i,o;if(n&&(n.error&&"object"==typeof n.error?i=n.error:"error"===n.status&&Array.isArray(n.messages)&&(i={...n},i[Jl]=n,i.details=n.messages)),!i&&!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[Jl]=n,i;let s,a=null;i&&(o=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,s=i.messageCode,s=s?.toUpperCase());const l=r.authMode;if(403===o&&(4===a||i.message?.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==l||498===o)&&void 0!==o&&ql.has(o)&&!ic(e.params.url)&&(403!==o||(!s||!Zl.has(s))&&(null==a||2===a&&e.credentialToken))){await nc();try{const t=await Il.getCredential(e.params.url,{error:ec("request:server",i,e.params),prompt:"no-prompt"!==l,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(c){if("no-prompt"===l)return e.credential=void 0,e.credentialToken=void 0,!1;i=c}}if(i)throw i;return!0}function hc(e,t,n=!1){const r=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=Hl.priority,i.src=e,Pl(i,e,n,r)}Bl._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Bl._beforeFetch=void 0,Bl._afterFetch=void 0;let pc=class e{constructor(){this._emitter=new e.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};(function(e){class t{constructor(e=null){this._target=e,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(e,t){let n=this._listenersMap?.get(e);if(!n)return!1;const r=this._target||this;let i=!1;for(const o of n.slice()){const e="deref"in o?o.deref():o;e?e?.call(r,t):i=!0}return i&&(n=n.filter((e=>!("deref"in e)||null!=e.deref())),this._listenersMap.set(e,n)),n.length>0}on(e,t){if(Array.isArray(e)){const n=e.map((e=>this.on(e,t)));return Mt(n)}if(e.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const n=this._listenersMap.get(e)||[];return n.push(t),this._listenersMap.set(e,n),Tt((()=>{const n=this._listenersMap?.get(e),r=n?.indexOf(t)??-1;r>=0&&n.splice(r,1)}))}once(e,t){const n=this.on(e,(e=>{n.remove(),("deref"in t?t.deref():t)?.call(null,e)}));return n}hasEventListener(e){const t=this._listenersMap?.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let n=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return n=S([gs("esri.core.Evented")],n),n};let n=class extends Ms{constructor(){super(...arguments),this._emitter=new pc.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};n=S([gs("esri.core.Evented.EventedAccessor")],n),e.EventedAccessor=n})(pc||(pc={}));const dc=pc;var fc;function mc(e){return(t,n)=>{t[n]=e}}(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(fc||(fc={}));let yc=class extends Kt{notify(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onInvalidated(),e.onCommitted()}}};var gc;let vc=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},bc=class{constructor(e,t,n,r,i){this.target=e,this.added=t,this.removed=n,this.start=r,this.deleteCount=i}};const wc=new Xt(vc,void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}));function _c(e){e&&"object"==typeof e&&"destroy"in e&&"function"==typeof e.destroy&&e.destroy()}function xc(e){return e?e instanceof kc?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function Sc(e){if(e?.length)return e[0]}function Tc(e,t,n,r){const i=Math.min(e.length-n,t.length-r);let o=0;for(;o<i&&e[n+o]===t[r+o];)o++;return o}function Ec(e,t,n,r){t&&t.forEach(((t,i,o)=>{e.push(t),Ec(e,n.call(r,t,i,o),n,r)}))}const Mc=new Set,Ac=new Set,Ic=new Set,Cc=new Map;let Oc=0,kc=gc=class extends dc.EventedAccessor{static isCollection(e){return null!=e&&e instanceof gc}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new yc,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Oc++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof gc?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return hn(this._observable),this._items}set items(e){this._emitBeforeChanges(fc.ADD)||(this._splice(0,this.length,xc(e)),this._emitAfterChanges(fc.ADD))}hasEventListener(e){return!this.destroyed&&("change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Tt();if("change"===e){const e=this._chgListeners,n={removed:!1,callback:t};return e.push(n),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),Tt((()=>{n.removed=!0,e.splice(e.indexOf(n),1)}))}return this._emitter.on(e,t)}once(e,t){const n="deref"in t?()=>t.deref():()=>t,r=this.on(e,(e=>{n()?.call(null,e),r.remove()}));return r}add(e,t){if(hn(this._observable),this._emitBeforeChanges(fc.ADD))return this;const n=this.getNextIndex(t??null);return this._splice(n,0,[e]),this._emitAfterChanges(fc.ADD),this}addMany(e,t=this._items.length){if(hn(this._observable),!e?.length)return this;if(this._emitBeforeChanges(fc.ADD))return this;const n=this.getNextIndex(t);return this._splice(n,0,xc(e)),this._emitAfterChanges(fc.ADD),this}at(e){if(hn(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(hn(this._observable),!this.length||this._emitBeforeChanges(fc.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(fc.REMOVE),e}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return hn(this._observable),this._createNewInstance({items:this._items.map(_e)})}concat(...e){hn(this._observable);const t=e.map(xc);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(hn(this._observable),!this.length||this._emitBeforeChanges(fc.REMOVE))return;const n=this._splice(0,this.length),r=n.length;for(let i=0;i<r;i++)e.call(t,n[i],i,n);this._emitAfterChanges(fc.REMOVE)}destroyAll(){this.drain(_c)}destroyMany(e){const t=this.removeMany(e);return t.forEach(_c),t}every(e,t){return hn(this._observable),this._items.every(e,t)}filter(e,t){let n;return hn(this._observable),n=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:n})}find(e,t){return hn(this._observable),this._items.find(e,t)}findIndex(e,t){return hn(this._observable),this._items.findIndex(e,t)}flatten(e,t){hn(this._observable);const n=[];return Ec(n,this,e,t),new gc(n)}forEach(e,t){return hn(this._observable),this._items.forEach(e,t)}getItemAt(e){return hn(this._observable),this._items[e]}getNextIndex(e){hn(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return hn(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return hn(this._observable),this._items.indexOf(e,t)}join(e=","){return hn(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return hn(this._observable),this._items.lastIndexOf(e,t)}map(e,t){hn(this._observable);const n=this._items.map(e,t);return new gc({items:n})}reorder(e,t=this.length-1){hn(this._observable);const n=this.indexOf(e);if(-1!==n){if(t<0?t=0:t>=this.length&&(t=this.length-1),n!==t){if(this._emitBeforeChanges(fc.MOVE))return e;this._splice(n,1),this._splice(t,0,[e]),this._emitAfterChanges(fc.MOVE)}return e}}pop(){if(hn(this._observable),!this.length||this._emitBeforeChanges(fc.REMOVE))return;const e=Sc(this._splice(this.length-1,1));return this._emitAfterChanges(fc.REMOVE),e}push(...e){return hn(this._observable),this._emitBeforeChanges(fc.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(fc.ADD)),this.length}reduce(e,t){hn(this._observable);const n=this._items;return 2===arguments.length?n.reduce(e,t):n.reduce(e)}reduceRight(e,t){hn(this._observable);const n=this._items;return 2===arguments.length?n.reduceRight(e,t):n.reduceRight(e)}remove(e){return hn(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(hn(this._observable),e<0||e>=this.length||this._emitBeforeChanges(fc.REMOVE))return;const t=Sc(this._splice(e,1));return this._emitAfterChanges(fc.REMOVE),t}removeMany(e){if(hn(this._observable),!e?.length||this._emitBeforeChanges(fc.REMOVE))return[];const t=e instanceof gc?e.toArray():e,n=this._items,r=[],i=t.length;for(let o=0;o<i;o++){const e=t[o],i=n.indexOf(e);if(i>-1){const e=1+Tc(t,n,o+1,i+1),s=this._splice(i,e);s&&s.length>0&&r.push.apply(r,s),o+=e-1}}return this._emitAfterChanges(fc.REMOVE),r}reverse(){if(hn(this._observable),this._emitBeforeChanges(fc.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(fc.MOVE),this}shift(){if(hn(this._observable),!this.length||this._emitBeforeChanges(fc.REMOVE))return;const e=Sc(this._splice(0,1));return this._emitAfterChanges(fc.REMOVE),e}slice(e=0,t=this.length){return hn(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return hn(this._observable),this._items.some(e,t)}sort(e){if(hn(this._observable),!this.length||this._emitBeforeChanges(fc.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(fc.MOVE),this}splice(e,t,...n){hn(this._observable);const r=(t?fc.REMOVE:0)|(n.length?fc.ADD:0);if(this._emitBeforeChanges(r))return[];const i=this._splice(e,t,n)||[];return this._emitAfterChanges(r),i}toArray(){return hn(this._observable),this._items.slice()}toJSON(){return hn(this._observable),this.toArray()}toLocaleString(){return hn(this._observable),this._items.toLocaleString()}toString(){return hn(this._observable),this._items.toString()}unshift(...e){return hn(this._observable),!e.length||this._emitBeforeChanges(fc.ADD)||(this._splice(0,0,e),this._emitAfterChanges(fc.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,n){const r=this._items,i=this.itemType;let o,s;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=jr((()=>this._dispatchChange()))),e<0&&(e+=this.length),t){if(s=r.splice(e,t),this.hasEventListener("before-remove")){const t=wc.acquire();t.target=this,t.cancellable=!0;for(let n=0,i=s.length;n<i;n++)o=s[n],t.reset(o),this.emit("before-remove",t),t.defaultPrevented&&(s.splice(n,1),r.splice(e,0,o),e+=1,n-=1,i-=1);wc.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=wc.acquire();e.target=this,e.cancellable=!1;const t=s.length;for(let n=0;n<t;n++)e.reset(s[n]),this.emit("after-remove",e);wc.release(e)}}if(n?.length){if(i){const e=[];for(const t of n){const n=i.ensureType(t);null==n&&null!=t||e.push(n)}n=e}const t=this.hasEventListener("before-add"),o=this.hasEventListener("after-add"),s=e===this.length;if(t||o){const i=wc.acquire();i.target=this,i.cancellable=!0;const a=wc.acquire();a.target=this,a.cancellable=!1;for(const l of n)t?(i.reset(l),this.emit("before-add",i),i.defaultPrevented||(s?r.push(l):r.splice(e++,0,l),this._set("length",r.length),o&&(a.reset(l),this.emit("after-add",a)))):(s?r.push(l):r.splice(e++,0,l),this._set("length",r.length),a.reset(l),this.emit("after-add",a));wc.release(a),wc.release(i)}else{if(s)for(const e of n)r.push(e);else r.splice(e,0,...n);this._set("length",r.length)}}if((n?.length||s?.length)&&this._notifyChangeEvent(n,s),this.hasEventListener("after-splice")){const r=new bc(this,n,s,e,t);this.emit("after-splice",r)}return s}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const n=wc.acquire();n.target=this,n.cancellable=!0,n.type=e,this.emit("before-changes",n),t=n.defaultPrevented,wc.release(n)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=wc.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),wc.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;Mc.clear(),Ac.clear(),Ic.clear();for(const{added:t,removed:a}of e){if(t)if(0===Ic.size&&0===Ac.size)for(const e of t)Mc.add(e);else for(const e of t)Ac.has(e)?(Ic.add(e),Ac.delete(e)):Ic.has(e)||Mc.add(e);if(a)if(0===Ic.size&&0===Mc.size)for(const e of a)Ac.add(e);else for(const e of a)Mc.has(e)?Mc.delete(e):(Ic.delete(e),Ac.add(e))}const n=jn.acquire();Mc.forEach((e=>{n.push(e)}));const r=jn.acquire();Ac.forEach((e=>{r.push(e)}));const i=this._items,o=t.items,s=jn.acquire();if(Ic.forEach((e=>{o.indexOf(e)!==i.indexOf(e)&&s.push(e)})),t.listeners&&(n.length||r.length||s.length)){const e={target:this,added:n,removed:r,moved:s},i=t.listeners.length;for(let n=0;n<i;n++){const r=t.listeners[n];r.removed||r.callback.call(this,e)}}jn.release(n),jn.release(r),jn.release(s)}Mc.clear(),Ac.clear(),Ic.clear()}};kc.ofType=e=>{if(!e)return gc;if(Cc.has(e))return Cc.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const n=e.typeMap[r].prototype.declaredClass;t?t+=` | ${n}`:t=n}let n=class extends gc{};return S([mc({Type:e,ensureType:"function"==typeof e?so(e):mo(e)})],n.prototype,"itemType",void 0),n=S([gs(`esri.core.Collection<${t}>`)],n),Cc.set(e,n),n},S([To()],kc.prototype,"_updating",void 0),S([To()],kc.prototype,"length",void 0),S([To()],kc.prototype,"items",null),S([To({readOnly:!0})],kc.prototype,"updating",null),kc=gc=S([gs("esri.core.Collection")],kc);const Rc=kc;function Lc(e,t,n=Rc){return t||(t=new n),t===e||(t.removeAll(),Pc(e)?t.addMany(e):e&&t.add(e)),t}function Nc(e){return e}function Pc(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Dc;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Dc||(Dc={}));let Fc=class{constructor(){this._resolver=Sr(),this._status=Dc.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=Dc.RESOLVED,this._cleanUp()}),(()=>{this._status=Dc.REJECTED,this._cleanUp()})),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===Dc.RESOLVED}isRejected(){return this._status===Dc.REJECTED}isFulfilled(){return this._status!==Dc.PENDING}abort(){this._resolver.reject(ir())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=Sr(),t=[...this._resolvingPromises,e.promise],n=this._allPromise=Promise.all(t);n.then((()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()}),(e=>{this.isFulfilled()||this._allPromise!==n||dr(e)||this._resolver.reject(e)})),e.resolve()}};const jc=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new Fc,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return this._promiseProps.promise.then((()=>this)).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=S([gs("esri.core.Promise")],t),t};let Uc=class extends(jc(Ms)){};Uc=S([gs("esri.core.Promise")],Uc);const zc="not-loaded",Gc="loading",Vc="failed",Bc="loaded",$c=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=n=>{const r=new Promise(((e,t)=>{const r=hr(n,t);this.destroyed&&t(new et("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(e,t).finally((()=>{r&&r.remove()}))}));if(this.loadStatus===zc){this._set("loadStatus",Gc);const e=this._loadController=new AbortController;t({signal:e.signal})}return e(),r}}))),this.when((()=>{this._set("loadStatus",Bc),this._loadController=null}),(e=>{this._set("loadStatus",Vc),this._set("loadError",e),this._loadController=null}))}destroy(){this._loadController&&(this._loadController=vt(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===Bc}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new et("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return S([To({readOnly:!0})],t.prototype,"loaded",null),S([To({readOnly:!0})],t.prototype,"loadError",void 0),S([To({clonable:!1})],t.prototype,"loadStatus",void 0),S([To({type:[Co],readOnly:!0})],t.prototype,"loadWarnings",null),t=S([gs("esri.core.Loadable")],t),t};let Hc=class extends($c(Uc)){};Hc=S([gs("esri.core.Loadable")],Hc),function(e){function t(e){return!(!e||!e.load)}e.LoadableMixin=$c,e.isLoadable=t}(Hc||(Hc={}));const Wc=Hc;function qc(e,t,n){return mr(e.map(((e,r)=>t.apply(n,[e,r]))))}async function Zc(e,t,n){return(await mr(e.map(((e,r)=>t.apply(n,[e,r]))))).map((e=>e.value))}function Yc(e){return{ok:!0,value:e}}function Xc(e){return{ok:!1,error:e}}function Jc(e){return null!=e&&!0===e.ok?e.value:null}function Kc(e){return null!=e&&!1===e.ok?e.error:null}async function Qc(e){if(null==e)return{ok:!1,error:new Error("no promise provided")};try{return Yc(await e)}catch(t){return Xc(t)}}async function eu(e){try{return Yc(await e)}catch(t){return lr(t),Xc(t)}}function tu(e,t){return new nu(e,t)}let nu=class extends Ms{get value(){return Jc(this._result)}get error(){return Kc(this._result)}get finished(){return null!=this._result}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=vt(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=e(n),this.promise.then((e=>{this._result=Yc(e),this._cleanup()}),(e=>{this._result=Xc(e),this._cleanup()})),this._abortHandle=ur(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=gt(this._abortHandle),this._abortController=null}};async function ru(e,t){return await e.load(),iu(e,t)}async function iu(e,t){const n=[],r=(...e)=>{for(const t of e)null!=t&&(Array.isArray(t)?r(...t):Rc.isCollection(t)?t.forEach((e=>r(e))):Wc.isLoadable(t)&&n.push(t))};t(r);let i=null;if(await Zc(n,(async e=>{const t=await Qc(ou(e)?e.loadAll():e.load());!1!==t.ok||i||(i=t)})),i)throw i.error;return e}function ou(e){return"loadAll"in e&&"function"==typeof e.loadAll}function su(e,t,n){let r,i;return void 0===t?(i=e,r=[void 0]):"string"!=typeof t?(i=e,r=[void 0],n=t):(i=t,r=Array.isArray(e)?e:[e]),(e,t)=>{const o=e.constructor.prototype;for(const s of r){const r=Eo(e,s,i);r.write&&"object"==typeof r.write||(r.write={}),n&&(r.write.target=n),r.write.writer=o[t]}}}S([To()],nu.prototype,"value",null),S([To()],nu.prototype,"error",null),S([To()],nu.prototype,"finished",null),S([To()],nu.prototype,"promise",void 0),S([To()],nu.prototype,"_result",void 0),nu=S([gs("esri.core.asyncUtils.ReactiveTask")],nu);let au=class{constructor(e,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=lu(e),this.apiValues=cu(this._apiToJSON),this.jsonValues=cu(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,n)=>{const r=this.toJSON(e);void 0!==r&&Pe(n,r,t)},this.write.isJSONMapWriter=!0}toJSON(e){if(null==e)return null;if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?void 0:e}fromJSON(e){return null!=e&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function lu(e){const t={};for(const n in e)t[e[n]]=n;return t}function cu(e){const t=[];for(const n in e)t.push(n);return t.sort(),t}function uu(){return function(e,t){return new au(e,{ignoreUnknown:!0,...t})}}let hu=class{constructor(e,t,n,r,i,o){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=r,this.scaleHeight=i;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const pu=new hu(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),du=new hu(3396190,1/169.8944472236118,23e4,6e4,.111),fu=new hu(1737400,0,0,0,0);function mu(e){if(!Ue.assetsPath)throw Ye.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new et("assets:path-not-set","config.assetsPath is not set");return Ua(Ue.assetsPath,e)}let yu,gu=null;function vu(){return!!gu}function bu(){return!!A("esri-wasm")}function wu(){return yu||(yu=n.e(2065).then(n.bind(n,2065)).then((e=>e.p)).then((({default:e})=>e({locateFile:e=>mu(`esri/geometry/support/${e}`)}))).then((e=>{Fu(e)})),yu)}var _u,xu;(function(e){function t(e,t,n){gu.ensureCache.prepare();const r=zu(n),i=n===r,o=gu.ensureFloat64(r),s=gu._pe_geog_to_proj(gu.getPointer(e),t,o);return s&&Gu(n,t,o,i),s}function n(e,n,i,o){switch(o){case xu.PE_TRANSFORM_P_TO_G:return r(e,n,i);case xu.PE_TRANSFORM_G_TO_P:return t(e,n,i)}return 0}function r(e,t,n){return i(e,t,n,0)}function i(e,t,n,r){gu.ensureCache.prepare();const i=zu(n),o=n===i,s=gu.ensureFloat64(i),a=gu._pe_proj_to_geog_center(gu.getPointer(e),t,s,r);return a&&Gu(n,t,s,o),a}e.geogToProj=t,e.projGeog=n,e.projToGeog=r,e.projToGeogCenter=i})(_u||(_u={})),function(e){function t(){e.PE_BUFFER_MAX=gu.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=gu.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=gu.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=gu.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=gu.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=gu.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=gu.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=gu.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=gu.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=gu.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=gu.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=gu.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=gu.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=gu.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=gu.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=gu.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=gu.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=gu.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=gu.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=gu.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=gu.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=gu.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=gu.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=gu.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=gu.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=gu.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=gu.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=gu.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=gu.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=gu.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=gu.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=gu.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(xu||(xu={}));let Su=null;var Tu;(function(e){const t={},n={},r=e=>{const t=e.getType();switch(t){case xu.PE_TYPE_GEOGCS:e=gu.castObject(e,gu.PeGeogcs);break;case xu.PE_TYPE_PROJCS:e=gu.castObject(e,gu.PeProjcs);break;case xu.PE_TYPE_GEOGTRAN:e=gu.castObject(e,gu.PeGeogtran);break;default:t&xu.PE_TYPE_UNIT&&(e=gu.castObject(e,gu.PeUnit))}return e};function i(){gu.PeFactory.prototype.initialize(null)}function o(e){return s(xu.PE_TYPE_COORDSYS,e)}function s(e,n){let i=null,o=t[e];if(o||(o={},t[e]=o),o.hasOwnProperty(String(n))&&(i=o[n],gu.compare(i,gu.NULL)&&(i=null)),!i){const t=gu.PeFactory.prototype.factoryByType(e,n);gu.compare(t,gu.NULL)||(i=r(t),o[n]=i)}return i}function a(e,t){let i=null,o=n[e];if(o||(o={},n[e]=o),o.hasOwnProperty(t)&&(i=o[t],gu.compare(i,gu.NULL)&&(i=null)),!i){const n=gu.PeFactory.prototype.fromString(e,t);gu.compare(n,gu.NULL)||(i=r(n),o[t]=i)}return i}function l(e){return s(xu.PE_TYPE_GEOGCS,e)}function c(e){return s(xu.PE_TYPE_GEOGTRAN,e)}function u(e){return gu.PeFactory.prototype.getCode(e)}function h(e){return s(xu.PE_TYPE_PROJCS,e)}function p(e){return s(xu.PE_TYPE_UNIT,e)}e.initialize=i,e.coordsys=o,e.factoryByType=s,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=u,e.projcs=h,e.unit=p})(Tu||(Tu={}));let Eu=null;var Mu,Au,Iu,Cu,Ou,ku,Ru,Lu,Nu,Pu,Du;function Fu(e){function t(e,t,n){e[t]=n(e[t])}gu=e,xu.init(),Mu.init(),Ru.init(),Nu.init(),Pu.init(),Su=class extends gu.PeDouble{constructor(e=NaN){super(e)}destroy(){gu.destroy(this)}[Symbol.dispose](){this.destroy()}},Eu=class extends gu.PeGCSExtent{destroy(){gu.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[gu.PeAngunit,gu.PeDatum,gu.PeGeogcs,gu.PeGeogtran,gu.PeObject,gu.PeParameter,gu.PePrimem,gu.PeProjcs,gu.PeSpheroid,gu.PeUnit];for(const o of n)t(o.prototype,"getName",(e=>function(){return e.call(this,new Array(xu.PE_NAME_MAX))}));for(const o of[gu.PeGeogtran,gu.PeProjcs])t(o.prototype,"getParameters",(e=>function(){const t=new Array(xu.PE_PARM_MAX);let n=e.call(this);for(let e=0;e<t.length;e++){const r=gu.getValue(n,"*");t[e]=r?gu.wrapPointer(r,gu.PeParameter):null,n+=Int32Array.BYTES_PER_ELEMENT}return t}));t(gu.PeHorizon.prototype,"getCoord",(e=>function(t=!1){const n=this.getSize();if(!n)return null;const r=[];return Gu(r,n,e.call(this),t),r})),t(gu.PeGTlistExtendedEntry.prototype,"getEntries",(e=>{const t=gu._pe_getPeGTlistExtendedGTsSize();return function(){let n=null;const r=e.call(this);if(!gu.compare(r,gu.NULL)){n=[r];const e=this.getSteps();if(e>1){const i=gu.getPointer(r);for(let r=1;r<e;r++)n.push(gu.wrapPointer(i+t*r,gu.PeGTlistExtendedGTs))}}return n}}));const r=gu._pe_getPeHorizonSize(),i=e=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);let n=null;const i=e.call(this);if(!gu.compare(i,gu.NULL)){n=[i];const e=i.getNump();if(e>1){const t=gu.getPointer(i);for(let i=1;i<e;i++)n.push(gu.wrapPointer(t+r*i,gu.PeHorizon))}}return t.set(e,n),n};t(gu.PeProjcs.prototype,"horizonGcsGenerate",i),t(gu.PeProjcs.prototype,"horizonPcsGenerate",i),gu.PeObject.prototype.toString=function(e=xu.PE_STR_OPTS_NONE){gu.ensureCache.prepare();const t=gu.getPointer(this),n=gu.ensureInt8(new Array(xu.PE_BUFFER_MAX));return gu.UTF8ToString(gu._pe_object_to_string_ext(t,e,n))},gu.PeGeogcs.prototype.destroy=function(){this.Delete(),ju(this),this.ptr=0},gu.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},gu.PeProjcs.prototype.destroy=function(){this.Delete(),ju(this),this.ptr=0},gu.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function ju(e){if(!e)return;const t=gu.getClass(e);if(!t)return;const n=gu.getCache(t);if(!n)return;const r=gu.getPointer(e);r&&delete n[r]}function Uu(e,t){const n=[],r=new Array(t);for(let i=0;i<e;i++)n.push(gu.ensureInt8(r));return n}function zu(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Gu(e,t,n,r=!1){if(r)for(let i=0;i<2*t;i++)e[i]=gu.getValue(n+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=0===e.length;for(let i=0;i<t;i++)r&&(e[i]=new Array(2)),e[i][0]=gu.getValue(n,"double"),e[i][1]=gu.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function n(){e.PE_GTLIST_OPTS_COMMON=gu.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=gu._pe_getPeGTlistExtendedEntrySize()}function r(e,n,r,i,o,s){let a=null;const l=new gu.PeInteger(s);try{const c=gu.PeGTlistExtended.prototype.getGTlist(e,n,r,i,o,l);if((s=l.val)&&(a=[c],s>1)){const e=gu.getPointer(c);for(let n=1;n<s;n++)a.push(gu.wrapPointer(e+t*n,gu.PeGTlistExtendedEntry))}}finally{gu.destroy(l)}return a}e.init=n,e.getGTlist=r})(Mu||(Mu={})),function(e){function t(e){if(e?.length){for(const t of e)ju(t),t.getEntries().forEach((e=>{ju(e);const t=e.getGeogtran();ju(t),t.getParameters().forEach(ju),[t.getGeogcs1(),t.getGeogcs2()].forEach((e=>{ju(e);const t=e.getDatum();ju(t),ju(t.getSpheroid()),ju(e.getPrimem()),ju(e.getUnit())}))}));gu.PeGTlistExtendedEntry.prototype.Delete(e[0])}}e.destroy=t}(Au||(Au={})),function(e){function t(e,t,n,r,i){gu.ensureCache.prepare();const o=zu(n),s=n===o,a=gu.ensureFloat64(o);let l=0;r&&(l=gu.ensureFloat64(r));const c=gu._pe_geog_to_geog(gu.getPointer(e),t,a,l,i);return c&&Gu(n,t,a,s),c}e.geogToGeog=t}(Iu||(Iu={})),function(e){function t(e,t,n,r,i,o,s,a){gu.PeLineType.prototype.geodesic_coordinate(e,t,n,r,i,o,s,a)}function n(e,t,n,r,i,o,s,a,l){gu.PeLineType.prototype.geodetic_coordinate(e,t,n,r,i,o,s,a,l)}function r(e,t,n,r,i,o,s,a,l,c){gu.PeLineType.prototype.geodetic_distance(e,t,n,r,i,o,s,a,l,c)}function i(e,t,n,r,i,o,s,a,l){gu.PeLineType.prototype.great_elliptic_distance(e,t,n,r,i,o,s,a,l)}e.geodesicCoordinate=t,e.geodeticCoordinate=n,e.geodeticDistance=r,e.greatEllipticDistance=i}(Cu||(Cu={})),function(e){function t(e,t){return gu.PeMath.prototype.phi_to_eta(e,t)}function n(e,t){return gu.PeMath.prototype.eta_to_phi(e,t)}function r(e,t){return gu.PeMath.prototype.phi_to_phig(e,t)}function i(e,t,n){return gu.PeMath.prototype.q(e,t,n)}function o(e,t){return gu.PeMath.prototype.q90(e,t)}e.phiToEta=t,e.etaToPhi=n,e.phiToPhig=r,e.q=i,e.q90=o}(Ou||(Ou={})),function(e){const t=(e,t,n,r,i,o)=>{let s,a;switch(gu.ensureCache.prepare(),e){case"dd":s=gu._pe_geog_to_dd,a=xu.PE_DD_MAX;break;case"ddm":s=gu._pe_geog_to_ddm,a=xu.PE_DDM_MAX;break;case"dms":s=gu._pe_geog_to_dms,a=xu.PE_DMS_MAX}let l=0;t&&(l=gu.getPointer(t));const c=zu(r),u=gu.ensureFloat64(c),h=Uu(n,a),p=s(l,n,u,i,gu.ensureInt32(h));if(p)for(let d=0;d<n;d++)o[d]=gu.UTF8ToString(h[d]);return p},n=(e,t,n,r,i)=>{let o;switch(gu.ensureCache.prepare(),e){case"dd":o=gu._pe_dd_to_geog;break;case"ddm":o=gu._pe_ddm_to_geog;break;case"dms":o=gu._pe_dms_to_geog}let s=0;t&&(s=gu.getPointer(t));const a=r.map((e=>gu.ensureString(e))),l=gu.ensureInt32(a),c=gu.ensureFloat64(new Array(2*n)),u=o(s,n,l,c);return u&&Gu(i,n,c),u};function r(e,n,r,i,o){return t("dms",e,n,r,i,o)}function i(e,t,r,i){return n("dms",e,t,r,i)}function o(e,n,r,i,o){return t("ddm",e,n,r,i,o)}function s(e,t,r,i){return n("ddm",e,t,r,i)}function a(e,n,r,i,o){return t("dd",e,n,r,i,o)}function l(e,t,r,i){return n("dd",e,t,r,i)}e.geogToDms=r,e.dmsToGeog=i,e.geogToDdm=o,e.ddmToGeog=s,e.geogToDd=a,e.ddToGeog=l}(ku||(ku={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=gu.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=gu.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=gu.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=gu.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=gu.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function n(e,t,n,r,i,o,s){gu.ensureCache.prepare();let a=0;e&&(a=gu.getPointer(e));const l=zu(n),c=gu.ensureFloat64(l),u=Uu(t,xu.PE_MGRS_MAX),h=gu.ensureInt32(u),p=gu._pe_geog_to_mgrs_extended(a,t,c,r,i,o,h);if(p)for(let d=0;d<t;d++)s[d]=gu.UTF8ToString(u[d]);return p}function r(e,t,n,r,i){gu.ensureCache.prepare();let o=0;e&&(o=gu.getPointer(e));const s=n.map((e=>gu.ensureString(e))),a=gu.ensureInt32(s),l=gu.ensureFloat64(new Array(2*t)),c=gu._pe_mgrs_to_geog_extended(o,t,a,r,l);return c&&Gu(i,t,l),c}e.init=t,e.geogToMgrsExtended=n,e.mgrsToGeogExtended=r}(Ru||(Ru={})),function(e){function t(e,t,n,r,i,o,s){gu.ensureCache.prepare();let a=0;e&&(a=gu.getPointer(e));const l=zu(n),c=gu.ensureFloat64(l),u=Uu(t,xu.PE_MGRS_MAX),h=gu.ensureInt32(u),p=gu._pe_geog_to_usng(a,t,c,r,i,o,h);if(p)for(let d=0;d<t;d++)s[d]=gu.UTF8ToString(u[d]);return p}function n(e,t,n,r){gu.ensureCache.prepare();let i=0;e&&(i=gu.getPointer(e));const o=n.map((e=>gu.ensureString(e))),s=gu.ensureInt32(o),a=gu.ensureFloat64(new Array(2*t)),l=gu._pe_usng_to_geog(i,t,s,a);return l&&Gu(r,t,a),l}e.geogToUsng=t,e.usngToGeog=n}(Lu||(Lu={})),function(e){function t(){e.PE_UTM_OPTS_NONE=gu.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=gu.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=gu.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function n(e,t,n,r,i){gu.ensureCache.prepare();let o=0;e&&(o=gu.getPointer(e));const s=zu(n),a=gu.ensureFloat64(s),l=Uu(t,xu.PE_UTM_MAX),c=gu.ensureInt32(l),u=gu._pe_geog_to_utm(o,t,a,r,c);if(u)for(let h=0;h<t;h++)i[h]=gu.UTF8ToString(l[h]);return u}function r(e,t,n,r,i){gu.ensureCache.prepare();let o=0;e&&(o=gu.getPointer(e));const s=n.map((e=>gu.ensureString(e))),a=gu.ensureInt32(s),l=gu.ensureFloat64(new Array(2*t)),c=gu._pe_utm_to_geog(o,t,a,r,l);return c&&Gu(i,t,l),c}e.init=t,e.geogToUtm=n,e.utmToGeog=r}(Nu||(Nu={})),function(e){const t=new Map;function n(){e.PE_PCSINFO_OPTION_NONE=gu.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=gu.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=gu.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=gu.PePCSInfo.prototype.PE_POLE_POINT}function r(n,r=e.PE_PCSINFO_OPTION_DOMAIN){let i=null,o=null;return t.has(n)&&(o=t.get(n),o[r]&&(i=o[r])),i||(i=gu.PePCSInfo.prototype.generate(n,r),o||(o=[],t.set(n,o)),o[r]=i),i}e.init=n,e.generate=r}(Pu||(Pu={})),function(e){function t(){return gu.PeVersion.prototype.version_string()}e.versionString=t}(Du||(Du={}));const Vu=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return _u},get PeDefs(){return xu},get PeDouble(){return Su},get PeFactory(){return Tu},get PeGCSExtent(){return Eu},get PeGTTransformations(){return Iu},get PeGTlistExtended(){return Mu},get PeGTlistExtendedEntry(){return Au},get PeLineType(){return Cu},get PeMath(){return Ou},get PeNotationDms(){return ku},get PeNotationMgrs(){return Ru},get PeNotationUsng(){return Lu},get PeNotationUtm(){return Nu},get PePCSInfo(){return Pu},get PeVersion(){return Du},_init:Fu,get _pe(){return gu},isLoaded:vu,isSupported:bu,load:wu},Symbol.toStringTag,{value:"Module"}));var Bu;let $u;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Bu||(Bu={}));const Hu={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for($u=2e3;$u<=2045;$u++)Hu[$u]=0;for($u=2056;$u<=2065;$u++)Hu[$u]=0;for($u=2067;$u<=2135;$u++)Hu[$u]=0;for($u=2137;$u<=2154;$u++)Hu[$u]=0;for($u=2161;$u<=2170;$u++)Hu[$u]=0;for($u=2172;$u<=2193;$u++)Hu[$u]=0;for($u=2195;$u<=2198;$u++)Hu[$u]=0;for($u=2200;$u<=2203;$u++)Hu[$u]=0;for($u=2205;$u<=2217;$u++)Hu[$u]=0;for($u=2222;$u<=2224;$u++)Hu[$u]=1;for($u=2225;$u<=2250;$u++)Hu[$u]=2;for($u=2251;$u<=2253;$u++)Hu[$u]=1;for($u=2257;$u<=2264;$u++)Hu[$u]=2;for($u=2274;$u<=2279;$u++)Hu[$u]=2;for($u=2280;$u<=2282;$u++)Hu[$u]=1;for($u=2283;$u<=2289;$u++)Hu[$u]=2;for($u=2290;$u<=2292;$u++)Hu[$u]=0;for($u=2308;$u<=2313;$u++)Hu[$u]=0;for($u=2315;$u<=2491;$u++)Hu[$u]=0;for($u=2494;$u<=2866;$u++)Hu[$u]=0;for($u=2867;$u<=2869;$u++)Hu[$u]=1;for($u=2870;$u<=2888;$u++)Hu[$u]=2;for($u=2891;$u<=2895;$u++)Hu[$u]=2;for($u=2896;$u<=2898;$u++)Hu[$u]=1;for($u=2902;$u<=2908;$u++)Hu[$u]=2;for($u=2915;$u<=2920;$u++)Hu[$u]=2;for($u=2921;$u<=2923;$u++)Hu[$u]=1;for($u=2924;$u<=2930;$u++)Hu[$u]=2;for($u=2931;$u<=2962;$u++)Hu[$u]=0;for($u=2964;$u<=2968;$u++)Hu[$u]=2;for($u=2969;$u<=2973;$u++)Hu[$u]=0;for($u=2975;$u<=2991;$u++)Hu[$u]=0;for($u=2995;$u<=3051;$u++)Hu[$u]=0;for($u=3054;$u<=3079;$u++)Hu[$u]=0;for($u=3081;$u<=3088;$u++)Hu[$u]=0;for($u=3092;$u<=3101;$u++)Hu[$u]=0;for($u=3106;$u<=3138;$u++)Hu[$u]=0;for($u=3146;$u<=3151;$u++)Hu[$u]=0;for($u=3153;$u<=3166;$u++)Hu[$u]=0;for($u=3168;$u<=3172;$u++)Hu[$u]=0;for($u=3174;$u<=3203;$u++)Hu[$u]=0;for($u=3294;$u<=3358;$u++)Hu[$u]=0;for($u=3367;$u<=3403;$u++)Hu[$u]=0;for($u=3408;$u<=3416;$u++)Hu[$u]=0;for($u=3417;$u<=3438;$u++)Hu[$u]=2;for($u=3441;$u<=3446;$u++)Hu[$u]=2;for($u=3447;$u<=3450;$u++)Hu[$u]=0;for($u=3451;$u<=3459;$u++)Hu[$u]=2;for($u=3460;$u<=3478;$u++)Hu[$u]=0;for($u=3554;$u<=3559;$u++)Hu[$u]=0;for($u=3560;$u<=3570;$u++)Hu[$u]=2;for($u=3571;$u<=3581;$u++)Hu[$u]=0;for($u=3594;$u<=3597;$u++)Hu[$u]=0;for($u=3601;$u<=3604;$u++)Hu[$u]=0;for($u=3637;$u<=3639;$u++)Hu[$u]=0;for($u=3665;$u<=3667;$u++)Hu[$u]=0;for($u=3693;$u<=3695;$u++)Hu[$u]=0;for($u=3701;$u<=3727;$u++)Hu[$u]=0;for($u=3728;$u<=3739;$u++)Hu[$u]=2;for($u=3740;$u<=3751;$u++)Hu[$u]=0;for($u=3753;$u<=3760;$u++)Hu[$u]=2;for($u=3761;$u<=3773;$u++)Hu[$u]=0;for($u=3775;$u<=3777;$u++)Hu[$u]=0;for($u=3779;$u<=3781;$u++)Hu[$u]=0;for($u=3783;$u<=3785;$u++)Hu[$u]=0;for($u=3788;$u<=3791;$u++)Hu[$u]=0;for($u=3797;$u<=3802;$u++)Hu[$u]=0;for($u=3814;$u<=3816;$u++)Hu[$u]=0;for($u=3825;$u<=3829;$u++)Hu[$u]=0;for($u=3832;$u<=3841;$u++)Hu[$u]=0;for($u=3844;$u<=3852;$u++)Hu[$u]=0;for($u=3873;$u<=3885;$u++)Hu[$u]=0;for($u=3890;$u<=3893;$u++)Hu[$u]=0;for($u=3907;$u<=3912;$u++)Hu[$u]=0;for($u=3942;$u<=3950;$u++)Hu[$u]=0;for($u=3968;$u<=3970;$u++)Hu[$u]=0;for($u=3973;$u<=3976;$u++)Hu[$u]=0;for($u=3986;$u<=3989;$u++)Hu[$u]=0;for($u=3994;$u<=3997;$u++)Hu[$u]=0;for($u=4048;$u<=4051;$u++)Hu[$u]=0;for($u=4056;$u<=4063;$u++)Hu[$u]=0;for($u=4093;$u<=4096;$u++)Hu[$u]=0;for($u=4390;$u<=4398;$u++)Hu[$u]=0;for($u=4399;$u<=4413;$u++)Hu[$u]=2;for($u=4418;$u<=4433;$u++)Hu[$u]=2;for($u=4455;$u<=4457;$u++)Hu[$u]=2;for($u=4484;$u<=4489;$u++)Hu[$u]=0;for($u=4491;$u<=4554;$u++)Hu[$u]=0;for($u=4568;$u<=4589;$u++)Hu[$u]=0;for($u=4652;$u<=4656;$u++)Hu[$u]=0;for($u=4766;$u<=4800;$u++)Hu[$u]=0;for($u=5014;$u<=5016;$u++)Hu[$u]=0;for($u=5069;$u<=5072;$u++)Hu[$u]=0;for($u=5105;$u<=5130;$u++)Hu[$u]=0;for($u=5167;$u<=5188;$u++)Hu[$u]=0;for($u=5253;$u<=5259;$u++)Hu[$u]=0;for($u=5269;$u<=5275;$u++)Hu[$u]=0;for($u=5292;$u<=5311;$u++)Hu[$u]=0;for($u=5329;$u<=5331;$u++)Hu[$u]=0;for($u=5343;$u<=5349;$u++)Hu[$u]=0;for($u=5355;$u<=5357;$u++)Hu[$u]=0;for($u=5387;$u<=5389;$u++)Hu[$u]=0;for($u=5459;$u<=5463;$u++)Hu[$u]=0;for($u=5479;$u<=5482;$u++)Hu[$u]=0;for($u=5518;$u<=5520;$u++)Hu[$u]=0;for($u=5530;$u<=5539;$u++)Hu[$u]=0;for($u=5550;$u<=5552;$u++)Hu[$u]=0;for($u=5562;$u<=5583;$u++)Hu[$u]=0;for($u=5623;$u<=5625;$u++)Hu[$u]=2;for($u=5631;$u<=5639;$u++)Hu[$u]=0;for($u=5649;$u<=5653;$u++)Hu[$u]=0;for($u=5663;$u<=5680;$u++)Hu[$u]=0;for($u=5682;$u<=5685;$u++)Hu[$u]=0;for($u=5875;$u<=5877;$u++)Hu[$u]=0;for($u=5896;$u<=5899;$u++)Hu[$u]=0;for($u=5921;$u<=5940;$u++)Hu[$u]=0;for($u=6050;$u<=6125;$u++)Hu[$u]=0;for($u=6244;$u<=6275;$u++)Hu[$u]=0;for($u=6328;$u<=6348;$u++)Hu[$u]=0;for($u=6350;$u<=6356;$u++)Hu[$u]=0;for($u=6366;$u<=6372;$u++)Hu[$u]=0;for($u=6381;$u<=6387;$u++)Hu[$u]=0;for($u=6393;$u<=6404;$u++)Hu[$u]=0;for($u=6480;$u<=6483;$u++)Hu[$u]=0;for($u=6511;$u<=6514;$u++)Hu[$u]=0;for($u=6579;$u<=6581;$u++)Hu[$u]=0;for($u=6619;$u<=6624;$u++)Hu[$u]=0;for($u=6625;$u<=6627;$u++)Hu[$u]=2;for($u=6628;$u<=6632;$u++)Hu[$u]=0;for($u=6634;$u<=6637;$u++)Hu[$u]=0;for($u=6669;$u<=6692;$u++)Hu[$u]=0;for($u=6707;$u<=6709;$u++)Hu[$u]=0;for($u=6720;$u<=6723;$u++)Hu[$u]=0;for($u=6732;$u<=6738;$u++)Hu[$u]=0;for($u=6931;$u<=6933;$u++)Hu[$u]=0;for($u=6956;$u<=6959;$u++)Hu[$u]=0;for($u=7005;$u<=7007;$u++)Hu[$u]=0;for($u=7057;$u<=7070;$u++)Hu[$u]=2;for($u=7074;$u<=7082;$u++)Hu[$u]=0;for($u=7109;$u<=7118;$u++)Hu[$u]=0;for($u=7119;$u<=7127;$u++)Hu[$u]=1;for($u=7374;$u<=7376;$u++)Hu[$u]=0;for($u=7528;$u<=7586;$u++)Hu[$u]=0;for($u=7587;$u<=7645;$u++)Hu[$u]=2;for($u=7692;$u<=7696;$u++)Hu[$u]=0;for($u=7755;$u<=7787;$u++)Hu[$u]=0;for($u=7791;$u<=7795;$u++)Hu[$u]=0;for($u=7799;$u<=7801;$u++)Hu[$u]=0;for($u=7803;$u<=7805;$u++)Hu[$u]=0;for($u=7825;$u<=7831;$u++)Hu[$u]=0;for($u=7845;$u<=7859;$u++)Hu[$u]=0;for($u=8013;$u<=8032;$u++)Hu[$u]=0;for($u=8065;$u<=8068;$u++)Hu[$u]=1;for($u=8518;$u<=8529;$u++)Hu[$u]=2;for($u=8533;$u<=8536;$u++)Hu[$u]=2;for($u=8538;$u<=8540;$u++)Hu[$u]=2;for($u=8677;$u<=8679;$u++)Hu[$u]=0;for($u=8836;$u<=8840;$u++)Hu[$u]=0;for($u=8857;$u<=8859;$u++)Hu[$u]=0;for($u=8908;$u<=8910;$u++)Hu[$u]=0;for($u=9154;$u<=9159;$u++)Hu[$u]=0;for($u=9205;$u<=9218;$u++)Hu[$u]=0;for($u=9271;$u<=9273;$u++)Hu[$u]=0;for($u=9295;$u<=9297;$u++)Hu[$u]=0;for($u=9356;$u<=9360;$u++)Hu[$u]=0;for($u=9404;$u<=9407;$u++)Hu[$u]=0;for($u=9476;$u<=9482;$u++)Hu[$u]=0;for($u=9487;$u<=9494;$u++)Hu[$u]=0;for($u=9697;$u<=9699;$u++)Hu[$u]=0;for($u=9821;$u<=9865;$u++)Hu[$u]=0;for($u=10285;$u<=10291;$u++)Hu[$u]=0;for($u=10314;$u<=10317;$u++)Hu[$u]=0;for($u=10448;$u<=10465;$u++)Hu[$u]=0;for($u=10731;$u<=10733;$u++)Hu[$u]=0;for($u=11114;$u<=11118;$u++)Hu[$u]=0;for($u=20004;$u<=20032;$u++)Hu[$u]=0;for($u=20047;$u<=20049;$u++)Hu[$u]=0;for($u=20062;$u<=20092;$u++)Hu[$u]=0;for($u=20135;$u<=20138;$u++)Hu[$u]=0;for($u=20248;$u<=20258;$u++)Hu[$u]=0;for($u=20348;$u<=20358;$u++)Hu[$u]=0;for($u=20436;$u<=20440;$u++)Hu[$u]=0;for($u=20822;$u<=20824;$u++)Hu[$u]=0;for($u=20904;$u<=20932;$u++)Hu[$u]=0;for($u=20934;$u<=20936;$u++)Hu[$u]=0;for($u=21004;$u<=21032;$u++)Hu[$u]=0;for($u=21035;$u<=21037;$u++)Hu[$u]=0;for($u=21095;$u<=21097;$u++)Hu[$u]=0;for($u=21148;$u<=21150;$u++)Hu[$u]=0;for($u=21207;$u<=21264;$u++)Hu[$u]=0;for($u=21307;$u<=21364;$u++)Hu[$u]=0;for($u=21413;$u<=21423;$u++)Hu[$u]=0;for($u=21453;$u<=21463;$u++)Hu[$u]=0;for($u=21473;$u<=21483;$u++)Hu[$u]=0;for($u=21780;$u<=21782;$u++)Hu[$u]=0;for($u=21891;$u<=21894;$u++)Hu[$u]=0;for($u=21896;$u<=21899;$u++)Hu[$u]=0;for($u=22171;$u<=22177;$u++)Hu[$u]=0;for($u=22181;$u<=22187;$u++)Hu[$u]=0;for($u=22191;$u<=22197;$u++)Hu[$u]=0;for($u=22207;$u<=22222;$u++)Hu[$u]=0;for($u=22229;$u<=22232;$u++)Hu[$u]=0;for($u=22234;$u<=22236;$u++)Hu[$u]=0;for($u=22243;$u<=22250;$u++)Hu[$u]=0;for($u=22262;$u<=22265;$u++)Hu[$u]=0;for($u=22307;$u<=22322;$u++)Hu[$u]=0;for($u=22348;$u<=22357;$u++)Hu[$u]=0;for($u=22407;$u<=22422;$u++)Hu[$u]=0;for($u=22462;$u<=22465;$u++)Hu[$u]=0;for($u=22521;$u<=22525;$u++)Hu[$u]=0;for($u=22607;$u<=22622;$u++)Hu[$u]=0;for($u=22641;$u<=22646;$u++)Hu[$u]=0;for($u=22648;$u<=22657;$u++)Hu[$u]=0;for($u=22707;$u<=22722;$u++)Hu[$u]=0;for($u=22762;$u<=22765;$u++)Hu[$u]=0;for($u=22807;$u<=22822;$u++)Hu[$u]=0;for($u=22991;$u<=22994;$u++)Hu[$u]=0;for($u=23028;$u<=23038;$u++)Hu[$u]=0;for($u=23301;$u<=23333;$u++)Hu[$u]=2;for($u=23830;$u<=23853;$u++)Hu[$u]=0;for($u=23866;$u<=23872;$u++)Hu[$u]=0;for($u=23877;$u<=23884;$u++)Hu[$u]=0;for($u=23886;$u<=23894;$u++)Hu[$u]=0;for($u=23946;$u<=23948;$u++)Hu[$u]=0;for($u=24311;$u<=24313;$u++)Hu[$u]=0;for($u=24342;$u<=24347;$u++)Hu[$u]=0;for($u=24370;$u<=24374;$u++)Hu[$u]=10;for($u=24375;$u<=24381;$u++)Hu[$u]=0;for($u=24718;$u<=24721;$u++)Hu[$u]=0;for($u=24817;$u<=24821;$u++)Hu[$u]=0;for($u=24877;$u<=24882;$u++)Hu[$u]=0;for($u=24891;$u<=24893;$u++)Hu[$u]=0;for($u=25391;$u<=25395;$u++)Hu[$u]=0;for($u=25828;$u<=25838;$u++)Hu[$u]=0;for($u=26191;$u<=26195;$u++)Hu[$u]=0;for($u=26391;$u<=26393;$u++)Hu[$u]=0;for($u=26701;$u<=26722;$u++)Hu[$u]=0;for($u=26729;$u<=26799;$u++)Hu[$u]=2;for($u=26801;$u<=26803;$u++)Hu[$u]=2;for($u=26811;$u<=26813;$u++)Hu[$u]=2;for($u=26847;$u<=26870;$u++)Hu[$u]=2;for($u=26891;$u<=26899;$u++)Hu[$u]=0;for($u=26901;$u<=26923;$u++)Hu[$u]=0;for($u=26929;$u<=26946;$u++)Hu[$u]=0;for($u=26948;$u<=26998;$u++)Hu[$u]=0;for($u=27037;$u<=27040;$u++)Hu[$u]=0;for($u=27205;$u<=27232;$u++)Hu[$u]=0;for($u=27258;$u<=27260;$u++)Hu[$u]=0;for($u=27391;$u<=27398;$u++)Hu[$u]=0;for($u=27561;$u<=27564;$u++)Hu[$u]=0;for($u=27571;$u<=27574;$u++)Hu[$u]=0;for($u=27581;$u<=27584;$u++)Hu[$u]=0;for($u=27591;$u<=27594;$u++)Hu[$u]=0;for($u=27700;$u<=27707;$u++)Hu[$u]=0;for($u=28191;$u<=28193;$u++)Hu[$u]=0;for($u=28348;$u<=28358;$u++)Hu[$u]=0;for($u=28402;$u<=28432;$u++)Hu[$u]=0;for($u=28462;$u<=28492;$u++)Hu[$u]=0;for($u=29118;$u<=29122;$u++)Hu[$u]=0;for($u=29168;$u<=29172;$u++)Hu[$u]=0;for($u=29177;$u<=29185;$u++)Hu[$u]=0;for($u=29187;$u<=29195;$u++)Hu[$u]=0;for($u=29900;$u<=29903;$u++)Hu[$u]=0;for($u=30161;$u<=30179;$u++)Hu[$u]=0;for($u=30491;$u<=30494;$u++)Hu[$u]=0;for($u=30729;$u<=30732;$u++)Hu[$u]=0;for($u=31251;$u<=31259;$u++)Hu[$u]=0;for($u=31265;$u<=31268;$u++)Hu[$u]=0;for($u=31275;$u<=31279;$u++)Hu[$u]=0;for($u=31281;$u<=31297;$u++)Hu[$u]=0;for($u=31461;$u<=31469;$u++)Hu[$u]=0;for($u=31491;$u<=31495;$u++)Hu[$u]=0;for($u=31917;$u<=31922;$u++)Hu[$u]=0;for($u=31965;$u<=32e3;$u++)Hu[$u]=0;for($u=32001;$u<=32003;$u++)Hu[$u]=2;for($u=32005;$u<=32031;$u++)Hu[$u]=2;for($u=32033;$u<=32060;$u++)Hu[$u]=2;for($u=32064;$u<=32067;$u++)Hu[$u]=2;for($u=32074;$u<=32077;$u++)Hu[$u]=2;for($u=32081;$u<=32086;$u++)Hu[$u]=0;for($u=32107;$u<=32130;$u++)Hu[$u]=0;for($u=32133;$u<=32159;$u++)Hu[$u]=0;for($u=32164;$u<=32167;$u++)Hu[$u]=2;for($u=32180;$u<=32199;$u++)Hu[$u]=0;for($u=32201;$u<=32260;$u++)Hu[$u]=0;for($u=32301;$u<=32360;$u++)Hu[$u]=0;for($u=32401;$u<=32460;$u++)Hu[$u]=0;for($u=32501;$u<=32560;$u++)Hu[$u]=0;for($u=32601;$u<=32662;$u++)Hu[$u]=0;for($u=32664;$u<=32667;$u++)Hu[$u]=2;for($u=32701;$u<=32761;$u++)Hu[$u]=0;for($u=53001;$u<=53004;$u++)Hu[$u]=0;for($u=53008;$u<=53019;$u++)Hu[$u]=0;for($u=53021;$u<=53032;$u++)Hu[$u]=0;for($u=53034;$u<=53037;$u++)Hu[$u]=0;for($u=53042;$u<=53046;$u++)Hu[$u]=0;for($u=53074;$u<=53080;$u++)Hu[$u]=0;for($u=54001;$u<=54004;$u++)Hu[$u]=0;for($u=54008;$u<=54019;$u++)Hu[$u]=0;for($u=54021;$u<=54032;$u++)Hu[$u]=0;for($u=54034;$u<=54037;$u++)Hu[$u]=0;for($u=54042;$u<=54046;$u++)Hu[$u]=0;for($u=54048;$u<=54053;$u++)Hu[$u]=0;for($u=54074;$u<=54080;$u++)Hu[$u]=0;for($u=54098;$u<=54101;$u++)Hu[$u]=0;for($u=102001;$u<=102040;$u++)Hu[$u]=0;for($u=102042;$u<=102063;$u++)Hu[$u]=0;for($u=102065;$u<=102067;$u++)Hu[$u]=0;for($u=102070;$u<=102117;$u++)Hu[$u]=0;for($u=102122;$u<=102216;$u++)Hu[$u]=0;for($u=102221;$u<=102377;$u++)Hu[$u]=0;for($u=102382;$u<=102388;$u++)Hu[$u]=0;for($u=102389;$u<=102398;$u++)Hu[$u]=2;for($u=102399;$u<=102444;$u++)Hu[$u]=0;for($u=102445;$u<=102447;$u++)Hu[$u]=2;for($u=102448;$u<=102458;$u++)Hu[$u]=0;for($u=102459;$u<=102468;$u++)Hu[$u]=2;for($u=102469;$u<=102499;$u++)Hu[$u]=0;for($u=102500;$u<=102519;$u++)Hu[$u]=1;for($u=102520;$u<=102524;$u++)Hu[$u]=0;for($u=102525;$u<=102529;$u++)Hu[$u]=2;for($u=102530;$u<=102588;$u++)Hu[$u]=0;for($u=102590;$u<=102598;$u++)Hu[$u]=0;for($u=102601;$u<=102603;$u++)Hu[$u]=0;for($u=102605;$u<=102628;$u++)Hu[$u]=0;for($u=102629;$u<=102646;$u++)Hu[$u]=2;for($u=102648;$u<=102700;$u++)Hu[$u]=2;for($u=102701;$u<=102703;$u++)Hu[$u]=0;for($u=102707;$u<=102730;$u++)Hu[$u]=2;for($u=102733;$u<=102758;$u++)Hu[$u]=2;for($u=102767;$u<=102900;$u++)Hu[$u]=0;for($u=102901;$u<=102933;$u++)Hu[$u]=2;for($u=102934;$u<=102950;$u++)Hu[$u]=13;for($u=102951;$u<=102963;$u++)Hu[$u]=0;for($u=102965;$u<=102969;$u++)Hu[$u]=0;for($u=102971;$u<=102973;$u++)Hu[$u]=0;for($u=102975;$u<=102989;$u++)Hu[$u]=0;for($u=102990;$u<=102992;$u++)Hu[$u]=1;for($u=102997;$u<=103002;$u++)Hu[$u]=0;for($u=103003;$u<=103008;$u++)Hu[$u]=2;for($u=103009;$u<=103011;$u++)Hu[$u]=0;for($u=103012;$u<=103014;$u++)Hu[$u]=2;for($u=103019;$u<=103021;$u++)Hu[$u]=0;for($u=103022;$u<=103024;$u++)Hu[$u]=2;for($u=103029;$u<=103031;$u++)Hu[$u]=0;for($u=103032;$u<=103034;$u++)Hu[$u]=2;for($u=103065;$u<=103068;$u++)Hu[$u]=0;for($u=103074;$u<=103076;$u++)Hu[$u]=0;for($u=103077;$u<=103079;$u++)Hu[$u]=1;for($u=103080;$u<=103082;$u++)Hu[$u]=0;for($u=103083;$u<=103085;$u++)Hu[$u]=2;for($u=103090;$u<=103093;$u++)Hu[$u]=0;for($u=103097;$u<=103099;$u++)Hu[$u]=0;for($u=103100;$u<=103102;$u++)Hu[$u]=2;for($u=103107;$u<=103109;$u++)Hu[$u]=0;for($u=103110;$u<=103112;$u++)Hu[$u]=2;for($u=103113;$u<=103116;$u++)Hu[$u]=0;for($u=103117;$u<=103120;$u++)Hu[$u]=2;for($u=103153;$u<=103157;$u++)Hu[$u]=0;for($u=103158;$u<=103162;$u++)Hu[$u]=2;for($u=103163;$u<=103165;$u++)Hu[$u]=0;for($u=103166;$u<=103168;$u++)Hu[$u]=1;for($u=103169;$u<=103171;$u++)Hu[$u]=2;for($u=103186;$u<=103188;$u++)Hu[$u]=0;for($u=103189;$u<=103191;$u++)Hu[$u]=2;for($u=103192;$u<=103195;$u++)Hu[$u]=0;for($u=103196;$u<=103199;$u++)Hu[$u]=2;for($u=103200;$u<=103224;$u++)Hu[$u]=0;for($u=103225;$u<=103227;$u++)Hu[$u]=1;for($u=103232;$u<=103237;$u++)Hu[$u]=0;for($u=103238;$u<=103243;$u++)Hu[$u]=2;for($u=103244;$u<=103246;$u++)Hu[$u]=0;for($u=103247;$u<=103249;$u++)Hu[$u]=2;for($u=103254;$u<=103256;$u++)Hu[$u]=0;for($u=103257;$u<=103259;$u++)Hu[$u]=2;for($u=103264;$u<=103266;$u++)Hu[$u]=0;for($u=103267;$u<=103269;$u++)Hu[$u]=2;for($u=103300;$u<=103375;$u++)Hu[$u]=0;for($u=103381;$u<=103383;$u++)Hu[$u]=0;for($u=103384;$u<=103386;$u++)Hu[$u]=1;for($u=103387;$u<=103389;$u++)Hu[$u]=0;for($u=103390;$u<=103392;$u++)Hu[$u]=2;for($u=103397;$u<=103399;$u++)Hu[$u]=0;for($u=103400;$u<=103471;$u++)Hu[$u]=2;for($u=103476;$u<=103478;$u++)Hu[$u]=0;for($u=103479;$u<=103481;$u++)Hu[$u]=2;for($u=103486;$u<=103488;$u++)Hu[$u]=0;for($u=103489;$u<=103491;$u++)Hu[$u]=2;for($u=103492;$u<=103495;$u++)Hu[$u]=0;for($u=103496;$u<=103499;$u++)Hu[$u]=2;for($u=103528;$u<=103543;$u++)Hu[$u]=0;for($u=103544;$u<=103548;$u++)Hu[$u]=2;for($u=103549;$u<=103551;$u++)Hu[$u]=0;for($u=103552;$u<=103554;$u++)Hu[$u]=1;for($u=103555;$u<=103557;$u++)Hu[$u]=2;for($u=103558;$u<=103560;$u++)Hu[$u]=0;for($u=103571;$u<=103573;$u++)Hu[$u]=0;for($u=103574;$u<=103576;$u++)Hu[$u]=2;for($u=103577;$u<=103580;$u++)Hu[$u]=0;for($u=103581;$u<=103583;$u++)Hu[$u]=2;for($u=103595;$u<=103694;$u++)Hu[$u]=0;for($u=103696;$u<=103699;$u++)Hu[$u]=0;for($u=103700;$u<=103793;$u++)Hu[$u]=2;for($u=103794;$u<=103890;$u++)Hu[$u]=0;for($u=103891;$u<=103896;$u++)Hu[$u]=2;for($u=103900;$u<=103971;$u++)Hu[$u]=2;for($u=103972;$u<=103977;$u++)Hu[$u]=0;for($u=112e3;$u<=112101;$u++)Hu[$u]=0;const Wu=[102100,102113,3857,3785,900913],qu=[104905,104971],Zu=[4326,...Wu,...qu],Yu=[-20037508.342788905,20037508.342788905],Xu=[-20037508.342787,20037508.342787],Ju={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Yu,origin:Xu,dx:1e-5},Ku={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Yu,origin:Xu,dx:1e-5},102100:Ju,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Yu,origin:Xu,dx:1e-5},3857:Ju,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:Ju};function Qu(e,t){if(e===t)return!0;if(null==e||null==t)return!1;const n=e.wkid,r=t.wkid;if(null!=n||null!=r){if(n===r||ah(e)&&ah(t))return!0;const i=e.latestWkid;if(null!=i&&r===i)return!0;const o=t.latestWkid;return null!=o&&n===o}let i,o;return e.wkt2&&t.wkt2?(i=e.wkt2,o=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,o=t.wkt),!(!i||!o)&&i.toUpperCase()===o.toUpperCase()}function eh(e){const t=e?.wkid;return null!=t&&t>=2e3&&Ku[t]||null}function th(e){if(!e)return;const{wkid:t,vcsWkid:n}=e;if(t)return n?JSON.stringify({wkid:t,vcsWkid:n}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?n?{wkt:r,vcsWkid:n}:{wkt:r}:{})}function nh(e){if(!fh(e))return!1;const{wkid:t}=e;if(t)return null==Hu[t];const n=e.wkt2||e.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function rh(e){return!(uh(e)||ph(e))}function ih(e){return 4326===e?.wkid}function oh(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function sh(e){return e?.wkid===Bu.CGCS2000}function ah(e){const t=e?.wkid;return null!=t&&t>=2e3&&Wu.includes(t)}function lh(e){return 32662===e?.wkid}function ch(e){return e===Bu.GCSMARS2000||e===Bu.GCSMARS2000_SPHERE}function uh(e){return ch(e?.wkid)}function hh(e){return e===Bu.GCSMOON2000}function ph(e){return hh(e?.wkid)}function dh(e){const t=e?.wkid;return null!=t&&t>=2e3&&Zu.includes(t)}function fh(e){if(null==e)return!1;const t=e.wkid;return null!=t&&t>=2e3||null!=e.wkt2||null!=e.wkt}const mh={wkid:4326,wkt:Ve(Ku[4326].wkTemplate,{Central_Meridian:"0.0"})},yh={wkid:102100,latestWkid:3857},gh={wkid:32662};function vh(e){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const bh=vh(pu),wh=vh(du),_h=vh(fu),xh={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${pu.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},Sh=wh.wkt.toUpperCase(),Th=_h.wkt.toUpperCase();function Eh(e){if(null!=e&&fh(e)){const t=e.wkid,n=e.wkt2??e.wkt;if(ch(t))return du;const r=n?.toUpperCase();if(n&&r===Sh)return du;if(hh(t)||r&&r===Th)return fu}return pu}function Mh(e){return ch(e)?du:hh(e)?fu:pu}function Ah(e){return Qu(e,bh)}function Ih(e){return Ah(e)||Qu(e,wh)||Qu(e,_h)}const Ch=39.37,Oh=pu.radius*Math.PI/200,kh=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Rh=Hu,Lh=/UNIT\[([^\]]+)]/i,Nh=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),Ph=uu()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Dh=e=>e*e,Fh=e=>e*e*e,jh={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Dh(.001)},"square-centimeters":{inBaseUnits:Dh(.01)},"square-decimeters":{inBaseUnits:Dh(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Dh(1e3)},"square-inches":{inBaseUnits:Dh(.0254)},"square-feet":{inBaseUnits:Dh(.3048)},"square-yards":{inBaseUnits:Dh(.9144)},"square-miles":{inBaseUnits:Dh(1609.344)},"square-us-feet":{inBaseUnits:Dh(1200/3937)},acres:{inBaseUnits:.0015625*Dh(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Fh(.001)},"cubic-centimeters":{inBaseUnits:1e3*Fh(.01)},"cubic-decimeters":{inBaseUnits:1e3*Fh(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Fh(1e3)},"cubic-inches":{inBaseUnits:1e3*Fh(.0254)},"cubic-feet":{inBaseUnits:1e3*Fh(.3048)},"cubic-yards":{inBaseUnits:1e3*Fh(.9144)},"cubic-miles":{inBaseUnits:1e3*Fh(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Uh=(()=>{const e={};for(const t in jh)for(const n in jh[t].units)e[n]=t;return e})();function zh(e,t,n){return e*jh[n].units[t].inBaseUnits}function Gh(e,t,n){return e/jh[n].units[t].inBaseUnits}const Vh=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],Bh=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function $h(e){const t=Uh[e];if(!t)throw new Error("unknown type");return t}function Hh(e,t=null){return t=t||$h(e),jh[t].baseUnit===e}function Wh(e,t,n){if(t===n)return e;const r=$h(t);if(r!==$h(n))throw new Error("incompatible units");const i=Hh(t,r)?e:zh(e,t,r);return Hh(n,r)?i:Gh(i,n,r)}function qh(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function Zh(e){return qh(e)}function Yh(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function Xh(e,t){const n=Wh(e,t,"meters");return Math.abs(n)<3e3?"meters":"kilometers"}function Jh(e,t){const n=Wh(e,t,"meters");return Math.abs(n)<1e5?"meters":"kilometers"}function Kh(e,t){const n=Wh(e,t,"feet");return Math.abs(n)<1e3?"feet":"miles"}function Qh(e,t){const n=Wh(e,t,"feet");return Math.abs(n)<1e5?"feet":"miles"}function ep(e,t){const n=Wh(e,t,"square-meters");return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function tp(e,t){const n=Wh(e,t,"square-feet");return Math.abs(n)<1e6?"square-feet":"square-miles"}function np(e,t,n){return Wh(e,t,"meters")/(n*Math.PI/180)}function rp(e){return Ph.fromJSON(e.toLowerCase())||null}function ip(e){if(null!=e&&!rh(e))return 1;const t=sp(e);return t>1e5?1:t}function op(e){return sp(e)>=Eh(e).metersPerDegree?"meters":hp(e)}function sp(e,t=pu.metersPerDegree){return ap(e,!0)??t}function ap(e,t=!1){const n=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let i=null;if(n){if(ch(n))return du.metersPerDegree;if(hh(n))return fu.metersPerDegree;i=Rh.values[Rh[n]],!i&&t&&Nh.has(n)&&(i=Oh)}else r&&(yp(r)?i=cp(kh.exec(r),i):mp(r)&&(i=cp(Lh.exec(r),i)));return i}function lp(e){return nh(e)?1:sp(e)}function cp(e,t){return e?.[1]?up(e[1]):t}function up(e){return parseFloat(e.split(",")[1])}function hp(e){const t=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let r=null;if(t)r=Rh.units[Rh[t]];else if(n){const e=yp(n)?kh:mp(n)?Lh:null;if(e){const t=e.exec(n);t?.[1]&&(r=vp(t[1]))}}return null!=r?rp(r):null}function pp(e){const t=hp(e);return null!=t&&Vh.includes(t)?t:null}function dp(e){const t=op(e);return null!=t&&Vh.includes(t)?t:null}function fp(e){const t=hp(e);return null==t?null:Bh.get(t)}function mp(e){return/^GEOCCS/i.test(e)}function yp(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const gp=1e-7;function vp(e){let t=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!t||!Rh.units.includes(t)){const n=up(e);t=null;const r=Rh.values;for(let e=0;e<r.length;++e)if(Math.abs(n-r[e])<gp){t=Rh.units[e];break}}return t}function bp(e){const t=hp(e);if(null==t)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"chains":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const wp={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},_p={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},xp={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Sp=uu()(wp),Tp=uu()(_p),Ep=uu()(xp);var Mp;let Ap=Mp=class extends Hs{static fromJSON(e){if(!e)return null;if(102100===e?.wkid)return Mp.WebMercator;if(4326===e?.wkid)return Mp.WGS84;const t=new Mp;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&"object"==typeof e?e:{["string"==typeof e?"wkt":"wkid"]:e}}get isWGS84(){return ih(this)}get isWebMercator(){return ah(this)}get isGeographic(){return nh(this)}get isWrappable(){return dh(this)}get metersPerUnit(){return sp(this)}get unit(){return hp(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Mp.WGS84)return new Mp(mh);if(this===Mp.WebMercator)return new Mp(yh);const e=new Mp;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(e.wkt=this.wkt),null!=this.wkt2&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=_e(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;const{id:t,referenceServiceName:n}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return null==t||r?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):n?i.id===t&&i.referenceServiceName===n:i.id===t}return Qu(this,e)}toJSON(e){return this.write(void 0,e)}};Ap.GCS_NAD_1927=null,Ap.WGS84=null,Ap.WebMercator=null,Ap.PlateCarree=null,S([To({readOnly:!0})],Ap.prototype,"isWGS84",null),S([To({readOnly:!0})],Ap.prototype,"isWebMercator",null),S([To({readOnly:!0})],Ap.prototype,"isGeographic",null),S([To({readOnly:!0})],Ap.prototype,"isWrappable",null),S([To({type:yo,json:{write:!0}})],Ap.prototype,"latestWkid",void 0),S([To({readOnly:!0})],Ap.prototype,"metersPerUnit",null),S([To({readOnly:!0})],Ap.prototype,"unit",null),S([To({type:yo,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],Ap.prototype,"wkid",void 0),S([To({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],Ap.prototype,"wkt",void 0),S([su("wkt"),su("web-scene","wkt")],Ap.prototype,"writeWkt",null),S([To({type:String,json:{write:!1}})],Ap.prototype,"wkt2",void 0),S([To({type:yo,json:{write:!0}})],Ap.prototype,"vcsWkid",void 0),S([To({type:yo,json:{write:!0}})],Ap.prototype,"latestVcsWkid",void 0),S([To()],Ap.prototype,"imageCoordinateSystem",void 0),Ap=Mp=S([gs("esri.geometry.SpatialReference")],Ap),Ap.prototype.toJSON.isDefaultToJSON=!0,Ap.GCS_NAD_1927=Ms.freeze(new Ap({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Ap.WGS84=Ms.freeze(new Ap(mh)),Ap.WebMercator=Ms.freeze(new Ap(yh)),Ap.PlateCarree=Ms.freeze(new Ap(gh));const Ip=Ap;function Cp(e,t,n){let r,i;return void 0===t||Array.isArray(t)?(i=e,n=t,r=[void 0]):(i=t,r=Array.isArray(e)?e:[e]),(e,t)=>{const o=e.constructor.prototype;r.forEach((r=>{const s=Eo(e,r,i);s.read&&"object"==typeof s.read||(s.read={}),s.read.reader=o[t],n&&(s.read.source=(s.read.source||[]).concat(n))}))}}let Op=class extends Hs{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ip.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof Ip)return e;if(null!=e){const n=new Ip;return n.read(e,t),n}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};S([To()],Op.prototype,"type",void 0),S([To({readOnly:!0})],Op.prototype,"cache",null),S([To({readOnly:!0})],Op.prototype,"extent",null),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Op.prototype,"hasM",void 0),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Op.prototype,"hasZ",void 0),S([To({type:Ip,json:{write:!0},value:Ip.WGS84})],Op.prototype,"spatialReference",void 0),S([Cp("spatialReference")],Op.prototype,"readSpatialReference",null),Op=S([gs("esri.geometry.Geometry")],Op);const kp=Op,Rp=Object.prototype.toString;function Lp(e){const t="__accessorMetadata__"in e?so(e):e;return function(...e){if(e.push(t),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Np.apply(this,e)}}function Np(e,t,n,r){$t(e,t).cast=r}function Pp(e){return(t,n)=>{$t(t,e).cast=t[n]}}function Dp(...e){if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===Rp.call(e[0])?Lp(e[0]):1===e.length&&"string"==typeof e[0]?Pp(e[0]):void 0}const Fp=57.29577951308232,jp=.017453292519943;function Up(e){return e*Fp}function zp(e){return e*jp}function Gp(e){return Math.PI/2-2*Math.atan(Math.exp(-e/pu.radius))}function Vp(e){return null!=e.wkid||null!=e.wkt}const Bp=[0,0];function $p(e,t,n,r,i){const o=e,s=i;if(s.spatialReference=n,"x"in o&&"x"in s)[s.x,s.y]=t(o.x,o.y,Bp,r);else if("xmin"in o&&"xmin"in s)[s.xmin,s.ymin]=t(o.xmin,o.ymin,Bp,r),[s.xmax,s.ymax]=t(o.xmax,o.ymax,Bp,r);else if("paths"in o&&"paths"in s||"rings"in o&&"rings"in s){const e="paths"in o?o.paths:o.rings,n=[];let i;for(let o=0;o<e.length;o++){const s=e[o];i=[],n.push(i);for(let e=0;e<s.length;e++)i.push(t(s[e][0],s[e][1],[0,0],r)),s[e].length>2&&i[e].push(s[e][2]),s[e].length>3&&i[e].push(s[e][3])}"paths"in s?s.paths=n:s.rings=n}else if("points"in o&&"points"in s){const e=o.points,n=[];for(let i=0;i<e.length;i++)n[i]=t(e[i][0],e[i][1],[0,0],r),e[i].length>2&&n[i].push(e[i][2]),e[i].length>3&&n[i].push(e[i][3]);s.points=n}return i}function Hp(e,t){const n=e&&(Vp(e)?e:e.spatialReference),r=t&&(Vp(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!n||!r)&&(!!Qu(r,n)||ah(r)&&ih(n)||ah(n)&&ih(r))}function Wp(e,t){if(null==e)return null;const n=e.spatialReference,r=t&&(Vp(t)?t:t.spatialReference);return Hp(n,r)?Qu(n,r)?_e(e):ah(r)?$p(e,qp,Ip.WebMercator,!1,_e(e)):ih(r)?$p(e,Zp,Ip.WGS84,!1,_e(e)):null:null}function qp(e,t,n=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=zp(t);return n[0]=zp(e)*pu.radius,n[1]=pu.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),n}function Zp(e,t,n=[0,0],r=!1){if(e===Yu[0])n[0]=-180;else if(e===Yu[1])n[0]=180;else{const t=Up(e/pu.radius);n[0]=r?t:t-360*Math.floor((t+180)/360)}return n[1]=Up(Math.PI/2-2*Math.atan(Math.exp(-t/pu.radius))),n}function Yp(e,t=!1,n=_e(e)){return $p(e,qp,Ip.WebMercator,t,n)}function Xp(e,t=!1,n=_e(e)){return $p(e,Zp,Ip.WGS84,t,n)}function Jp(e,t){const n=e.x-t.x,r=e.y-t.y,i=null!=e.z&&null!=t.z?e.z-t.z:0;return Math.sqrt(n*n+r*r+i*i)}function Kp(e){return ed(e,td)?.[0]??null}function Qp(e){return ed(e,td)?.[1]??null}function ed({x:e,y:t,spatialReference:n},r=[0,0]){if(n){if(ah(n))return Zp(e,t,r);if(nh(n))return r[0]=e,r[1]=t,r}return null}const td=[0,0];var nd;const rd=[0,0];function id(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let od=nd=class extends kp{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const n=e._get("spatialReference");t._set("spatialReference",Ms.isFrozen(n)?n:n.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,n,r,i){let o;if(Array.isArray(e))o=e,i=t,e=o[0],t=o[1],n=o[2],r=o[3];else if(e&&"object"==typeof e){if(o=e,e=null!=o.x?o.x:o.longitude,t=null!=o.y?o.y:o.latitude,n=o.z,r=o.m,(i=o.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new Ip(i)),null!=o.longitude||null!=o.latitude)if(null==o.longitude)Ye.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==o.latitude)Ye.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&i?.isWebMercator){const n=qp(o.longitude,o.latitude,rd);e=n[0],t=n[1]}}else id(n)?(i=n,n=null):id(r)&&(i=r,r=null);const s={x:e,y:t};return null==s.x&&null!=s.y?Ye.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==s.y&&null!=s.x&&Ye.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(s.spatialReference=i),null!=n&&(s.z=n),null!=r&&(s.m=r),s}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return Qp(this)}set latitude(e){const{spatialReference:t,x:n}=this;null!=e&&t&&(t.isWebMercator?this._set("y",qp(n,e,rd)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Kp(this)}set longitude(e){const{y:t,spatialReference:n}=this;null!=e&&n&&(n.isWebMercator?this._set("x",qp(e,t,rd)[0]):n.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,n){t[n]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new nd;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return nd.copy(e,this),this}equals(e){if(null==e)return!1;const{x:t,y:n,z:r,m:i,spatialReference:o}=this,{z:s,m:a}=e;let{x:l,y:c,spatialReference:u}=e;if(!o.equals(u))if(o.isWebMercator&&u.isWGS84)[l,c]=qp(l,c),u=o;else{if(!o.isWGS84||!u.isWebMercator)return!1;[l,c]=Zp(l,c),u=o}return t===l&&n===c&&r===s&&i===a&&o.wkid===u.wkid}offset(e,t,n){return this.x+=e,this.y+=t,null!=n&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;const e=eh(this.spatialReference);if(!e)return this;let t=this.x;const[n,r]=e.valid,i=2*r;let o;return t>r?(o=Math.ceil(Math.abs(t-r)/i),t-=o*i):t<n&&(o=Math.ceil(Math.abs(t-n)/i),t+=o*i),this._set("x",t),this}distance(e){return Jp(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};S([To({readOnly:!0})],od.prototype,"cache",null),S([To({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],od.prototype,"hasM",null),S([To({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],od.prototype,"hasZ",null),S([To({type:Number})],od.prototype,"latitude",null),S([To({type:Number})],od.prototype,"longitude",null),S([To({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Dp((e=>isNaN(e)?e:Wi(e)))],od.prototype,"x",void 0),S([su("x")],od.prototype,"writeX",null),S([Cp("x")],od.prototype,"readX",null),S([To({type:Number,json:{write:!0}})],od.prototype,"y",void 0),S([To({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],od.prototype,"z",void 0),S([To({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],od.prototype,"m",void 0),od=nd=S([gs("esri.geometry.Point")],od),od.prototype.toJSON.isDefaultToJSON=!0;const sd=od,ad=[0,0];function ld(e,t){return null!=t&&dd(e,t.x,t.y,t.z)}function cd(e,t){if(!t.points||t.points.length)return!1;for(const n of t.points)if(!hd(e,n))return!1;return!0}function ud(e,t){const{xmin:n,ymin:r,zmin:i,xmax:o,ymax:s,zmax:a}=t;return e.hasZ&&t.hasZ?dd(e,n,r,i)&&dd(e,n,s,i)&&dd(e,o,s,i)&&dd(e,o,r,i)&&dd(e,n,r,a)&&dd(e,n,s,a)&&dd(e,o,s,a)&&dd(e,o,r,a):dd(e,n,r)&&dd(e,n,s)&&dd(e,o,s)&&dd(e,o,r)}function hd(e,t){return dd(e,t[0],t[1])}function pd(e,t){return dd(e,t[0],t[1],t[2])}function dd(e,t,n,r){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax&&(null==r||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function fd(e,t){return ad[1]=t.y,ad[0]=t.x,md(e,ad)}function md(e,t){return yd(e.rings,t)}function yd(e,t){if(!e)return!1;if(gd(e))return vd(!1,e,t);let n=!1;for(let r=0,i=e.length;r<i;r++)n=vd(n,e[r],t);return n}function gd(e){return!Array.isArray(e[0][0])}function vd(e,t,n){const[r,i]=n;let o=e,s=0;for(let a=0,l=t.length;a<l;a++){s++,s===l&&(s=0);const[e,n]=t[a],[c,u]=t[s];(n<i&&u>=i||u<i&&n>=i)&&e+(i-n)/(u-n)*(c-e)<r&&(o=!o)}return o}function bd(e,t){return ld(e,t)}function wd(e,t){const n=e.hasZ&&t.hasZ;let r,i,o;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(n&&t.hasZ)if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1;return!0}function _d(e,t){const{points:n,hasZ:r}=t,i=r?pd:hd;for(const o of n)if(i(e,o))return!0;return!1}const xd=[0,0],Sd=[0,0],Td=[0,0],Ed=[0,0],Md=[xd,Sd,Td,Ed],Ad=[[Td,xd],[xd,Sd],[Sd,Ed],[Ed,Td]];function Id(e,t){return Cd(e,t.rings)}function Cd(e,t){xd[0]=e.xmin,xd[1]=e.ymax,Sd[0]=e.xmax,Sd[1]=e.ymax,Td[0]=e.xmin,Td[1]=e.ymin,Ed[0]=e.xmax,Ed[1]=e.ymin;for(const n of Md)if(yd(t,n))return!0;for(const n of t){if(!n.length)continue;let t=n[0];if(hd(e,t))return!0;for(let r=1;r<n.length;r++){const i=n[r];if(hd(e,i)||Ld(t,i,Ad))return!0;t=i}}return!1}function Od(e,t){xd[0]=e.xmin,xd[1]=e.ymax,Sd[0]=e.xmax,Sd[1]=e.ymax,Td[0]=e.xmin,Td[1]=e.ymin,Ed[0]=e.xmax,Ed[1]=e.ymin;const n=t.paths;for(const r of n){if(!n.length)continue;let t=r[0];if(hd(e,t))return!0;for(let n=1;n<r.length;n++){const i=r[n];if(hd(e,i)||Ld(t,i,Ad))return!0;t=i}}return!1}const kd=[0,0];function Rd(e){for(let t=0;t<e.length;t++){const n=e[t];for(let i=0;i<n.length-1;i++){const r=n[i],o=n[i+1];for(let n=t+1;n<e.length;n++)for(let t=0;t<e[n].length-1;t++){const i=e[n][t],s=e[n][t+1];if(Nd(r,o,i,s,kd)&&!(kd[0]===r[0]&&kd[1]===r[1]||kd[0]===i[0]&&kd[1]===i[1]||kd[0]===o[0]&&kd[1]===o[1]||kd[0]===s[0]&&kd[1]===s[1]))return!0}}const r=n.length;if(!(r<=4))for(let e=0;e<r-3;e++){let t=r-1;0===e&&(t=r-2);const i=n[e],o=n[e+1];for(let r=e+2;r<t;r++){const e=n[r],t=n[r+1];if(Nd(i,o,e,t,kd)&&!(kd[0]===i[0]&&kd[1]===i[1]||kd[0]===e[0]&&kd[1]===e[1]||kd[0]===o[0]&&kd[1]===o[1]||kd[0]===t[0]&&kd[1]===t[1]))return!0}}}return!1}function Ld(e,t,n){for(let r=0;r<n.length;r++)if(Nd(e,t,n[r][0],n[r][1]))return!0;return!1}function Nd(e,t,n,r,i){const[o,s]=e,[a,l]=t,[c,u]=n,[h,p]=r,d=h-c,f=o-c,m=a-o,y=p-u,g=s-u,v=l-s,b=y*m-d*v;if(0===b)return!1;const w=(d*g-y*f)/b,_=(m*g-v*f)/b;return w>=0&&w<=1&&_>=0&&_<=1&&(i&&(i[0]=o+w*(a-o),i[1]=s+w*(l-s)),!0)}function Pd(e){switch(e){case"esriGeometryEnvelope":case"extent":return wd;case"esriGeometryMultipoint":case"multipoint":return _d;case"esriGeometryPoint":case"point":return bd;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Id;case"esriGeometryPolyline":case"polyline":return Od}}var Dd;function Fd(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}function jd(e,t,n){return null==t?n:null==n?t:e(t,n)}let Ud=Dd=class extends kp{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,n,r,i){return Fd(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof e?(e.spatialReference=null==e.spatialReference?Ip.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:i??Ip.WGS84}}static fromBounds(e,t){return new Dd({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Dd({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new sd({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Dd;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&Hp(t,n)&&(e=t.isWebMercator?Yp(e):Xp(e,!0)),"point"===e.type?ld(this,e):"extent"===e.type&&ud(this,e)}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&Hp(t,n)&&(e=t.isWebMercator?Yp(e):Xp(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),n=this.width*t,r=this.height*t;if(this.xmin+=n,this.ymin+=r,this.xmax-=n,this.ymax-=r,this.hasZ){const e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(null==e)return!1;"mesh"===e.type&&(e=e.extent);const t=this.spatialReference,n=e.spatialReference;return t&&n&&!Qu(t,n)&&Hp(t,n)&&(e=t.isWebMercator?Yp(e):Xp(e,!0)),Pd(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,n){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=n&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=jd(Math.min,this.zmin,e.zmin),this.zmax=jd(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=jd(Math.min,this.mmin,e.mmin),this.mmax=jd(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:null!=e&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=jd(Math.max,this.zmin,e.zmin),this.zmax=jd(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=jd(Math.max,this.mmin,e.mmin),this.mmax=jd(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=eh(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,n=this._getCM(e);if(n){const r=t.isWebMercator?Xp(n):n;this.xmin-=n.x,this.xmax-=n.x,t.isWebMercator||(r.x=zd(r.x,e).x),this.spatialReference=new Ip(Ve((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[n,r]=e.valid,i=this.xmin,o=this.xmax;return i>=n&&i<=r&&o>=n&&o<=r||(t=this.center),t}_normalize(e,t,n){const r=this.spatialReference;if(!r)return this;const i=n??eh(r);if(null==i)return this;const o=this._getParts(i).map((e=>e.extent));if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return o;let s=!0,a=!0;return o.forEach((e=>{e.hasZ||(s=!1),e.hasM||(a=!1)})),{rings:o.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(s){const n=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(n)}if(a){const n=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(n)}return t})),hasZ:s,hasM:a,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:r,spatialReference:i}=this,o=this.width,s=this.xmin,a=this.xmax;let l;e=e||eh(i);const[c,u]=e.valid;l=zd(this.xmin,e);const h=l.x,p=l.frameId;l=zd(this.xmax,e);const d=l.x,f=l.frameId,m=h===d&&o>0;if(o>2*u){const e=new Dd(s<a?h:d,n,u,r,i),o=new Dd(c,n,s<a?d:h,r,i),l=new Dd(0,n,u,r,i),m=new Dd(c,n,0,r,i),y=[],g=[];e.contains(l)&&y.push(p),e.contains(m)&&g.push(p),o.contains(l)&&y.push(f),o.contains(m)&&g.push(f);for(let t=p+1;t<f;t++)y.push(t),g.push(t);t.push({extent:e,frameIds:[p]},{extent:o,frameIds:[f]},{extent:l,frameIds:y},{extent:m,frameIds:g})}else h>d||m?t.push({extent:new Dd(h,n,u,r,i),frameIds:[p]},{extent:new Dd(c,n,d,r,i),frameIds:[f]}):t.push({extent:new Dd(h,n,d,r,i),frameIds:[p]});this.cache._parts=t}const n=this.hasZ,r=this.hasM;if(n||r){const e={};n&&(e.zmin=this.zmin,e.zmax=this.zmax),r&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(e)}return t}};function zd(e,t){const[n,r]=t.valid,i=2*r;let o,s=0;return e>r?(o=Math.ceil(Math.abs(e-r)/i),e-=o*i,s=o):e<n&&(o=Math.ceil(Math.abs(e-n)/i),e+=o*i,s=-o),{x:e,frameId:s}}S([To({readOnly:!0})],Ud.prototype,"cache",null),S([To({readOnly:!0})],Ud.prototype,"center",null),S([To({readOnly:!0})],Ud.prototype,"extent",null),S([To({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ud.prototype,"hasM",null),S([To({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ud.prototype,"hasZ",null),S([To({readOnly:!0})],Ud.prototype,"height",null),S([To({readOnly:!0})],Ud.prototype,"width",null),S([To({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Ud.prototype,"xmin",void 0),S([To({type:Number,json:{write:!0}})],Ud.prototype,"ymin",void 0),S([To({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ud.prototype,"mmin",void 0),S([To({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ud.prototype,"zmin",void 0),S([To({type:Number,json:{write:!0}})],Ud.prototype,"xmax",void 0),S([To({type:Number,json:{write:!0}})],Ud.prototype,"ymax",void 0),S([To({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ud.prototype,"mmax",void 0),S([To({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ud.prototype,"zmax",void 0),Ud=Dd=S([gs("esri.geometry.Extent")],Ud),Ud.prototype.toJSON.isDefaultToJSON=!0;const Gd=Ud;let Vd;const Bd=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,$d=globalThis.document?.documentElement;function Hd(){const e=$d?.getAttribute("lang"),t=globalThis.navigator?.language;return Bd??e??t??"en"}function Wd(){return void 0===Vd&&(Vd=Hd()),Vd}function qd(e=Wd()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const Zd=[];function Yd(e){return Zd.push(e),Tt((()=>Zd.splice(Zd.indexOf(e),1)))}const Xd=[];function Jd(e){return Xd.push(e),Tt((()=>Xd.splice(Xd.indexOf(e),1)))}function Kd(){const e=Hd();Vd!==e&&([...Xd].forEach((t=>t(e))),Vd=e,[...Zd].forEach((t=>t(e))))}let Qd;function ef(e){return Qd&&!Qd.destroyed||(Qd=e()),Qd}var tf;globalThis.addEventListener?.("languagechange",Kd),$d&&new MutationObserver((()=>{Kd()})).observe($d,{attributeFilter:["lang"]});const nf=new au({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let rf=tf=class extends Ms{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new tf({categories:this.categories?_e(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let n=[];this.categories&&(n=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e)));let r="";if(this.extent){const e=Wp(this.extent,Ip.WGS84);null!=e&&(r=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const o={categories:n,bbox:r,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((e=>nf.toJSON(e.trim()))).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};S([To()],rf.prototype,"categories",void 0),S([To()],rf.prototype,"disableExtraQuery",void 0),S([To({type:Gd})],rf.prototype,"extent",void 0),S([To()],rf.prototype,"filter",void 0),S([To()],rf.prototype,"num",void 0),S([To()],rf.prototype,"query",void 0),S([To()],rf.prototype,"sortField",void 0),S([To()],rf.prototype,"sortOrder",null),S([To()],rf.prototype,"start",void 0),rf=tf=S([gs("esri.portal.PortalQueryParams")],rf);const of=rf;var sf;let af=sf=class extends Hs{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then((t=>{const n=t.categorySchema||[];return n.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):n}))}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new et("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new sf({sourceJSON:e});return t.read(e),t}queryItems(e,t){let n=so(of,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(n=n||new of,r.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",t)):(n=n?n.clone():new of,n.query="group:"+this.id+(n.query?" "+n.query:""),r.queryItems(n,t))}_fetchCategorySchemaSet(e,t){const n=this.portal;return n.fetchSelf(n.authMode,!0,t).then((e=>{const r=e.contentCategorySetsGroupQuery;if(r){const e=new of({disableExtraQuery:!0,num:1,query:r});return n.queryGroups(e,t)}throw new et("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((n=>{if(n.total){const r=n.results[0],i=new of({num:1,query:`typekeywords:"${e}"`});return r.queryItems(i,t)}throw new et("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e?.categorySchema;return t?.length?t:[]})):[]))}};S([To()],af.prototype,"access",void 0),S([To({type:Date})],af.prototype,"created",void 0),S([To()],af.prototype,"description",void 0),S([To()],af.prototype,"id",void 0),S([To()],af.prototype,"isInvitationOnly",void 0),S([To({type:Date})],af.prototype,"modified",void 0),S([To()],af.prototype,"owner",void 0),S([To()],af.prototype,"portal",void 0),S([To()],af.prototype,"snippet",void 0),S([To()],af.prototype,"sortField",void 0),S([To()],af.prototype,"sortOrder",void 0),S([To()],af.prototype,"sourceJSON",void 0),S([To()],af.prototype,"tags",void 0),S([To()],af.prototype,"thumbnail",void 0),S([To({readOnly:!0})],af.prototype,"thumbnailUrl",null),S([To()],af.prototype,"title",void 0),S([To({readOnly:!0})],af.prototype,"url",null),af=sf=S([gs("esri.portal.PortalGroup")],af);const lf=af;let cf=class extends Ms{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};S([To()],cf.prototype,"nextQueryParams",void 0),S([To()],cf.prototype,"queryParams",void 0),S([To()],cf.prototype,"results",void 0),S([To()],cf.prototype,"total",void 0),cf=S([gs("esri.portal.PortalQueryResult")],cf);const uf=cf;let hf=class extends Hs{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new et("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};S([To({type:Date})],hf.prototype,"created",void 0),S([To()],hf.prototype,"id",void 0),S([To()],hf.prototype,"portal",void 0),S([To()],hf.prototype,"title",void 0),S([To({readOnly:!0})],hf.prototype,"url",null),S([To()],hf.prototype,"username",void 0),hf=S([gs("esri.portal.PortalFolder")],hf);const pf=hf;var df;let ff=df=class extends Hs{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,n=e?.data,r=e?.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),null!=n&&("string"==typeof n?i.query.text=n:"object"==typeof n&&(i.query.text=JSON.stringify(n))));let o=this.userContentUrl;return r&&(o+="/"+("string"==typeof r?r:r.id)),this.portal.request(o+"/addItem",i).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}async deleteItem(e,t=!1){let n=this.userContentUrl;e.ownerFolder&&(n+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const n=this.userContentUrl+"/deleteItems",r=[],i=e.map((e=>e.id));if(i.length){const o={method:"post",query:{items:i.join(","),permanentDelete:t}},s=await this.portal.request(n,o);for(const t of s.results){const n=e.find((e=>t.itemId===e.id)),i=t.success;let o=null;i?(n.id=null,n.portal=null):t.error&&(o=new et("portal:delete-item-failed",t.error.message,t.error)),r.push({item:n,success:i,error:o})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=pf.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal.request(this.url??"").then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=lf.fromJSON(e);return t.portal=this.portal,t})):[],t}))}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:n}=await Promise.resolve().then((()=>qf)),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},i=await this.portal.request(t,{query:r});let o;return i?.items?(o=i.items.map((e=>{const t=n.fromJSON(e);return t.portal=this.portal,t})),await Promise.all(o.map((e=>e.load()))),{items:o,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new lf({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new et("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const n=this.userContentUrl,r=t?{folderID:"string"==typeof t?t:t.id}:null;await this.portal.request(n+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new et("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new df({sourceJSON:e});return t.read(e),t}};S([To()],ff.prototype,"access",void 0),S([To({type:Date})],ff.prototype,"created",void 0),S([To()],ff.prototype,"culture",void 0),S([To()],ff.prototype,"description",void 0),S([To()],ff.prototype,"email",void 0),S([To()],ff.prototype,"favGroupId",void 0),S([To()],ff.prototype,"fullName",void 0),S([To({type:Date})],ff.prototype,"modified",void 0),S([To()],ff.prototype,"orgId",void 0),S([To()],ff.prototype,"portal",void 0),S([To()],ff.prototype,"preferredView",void 0),S([To()],ff.prototype,"privileges",void 0),S([To()],ff.prototype,"region",void 0),S([To()],ff.prototype,"role",void 0),S([To()],ff.prototype,"roleId",void 0),S([To()],ff.prototype,"sourceJSON",void 0),S([To()],ff.prototype,"thumbnail",void 0),S([To({readOnly:!0})],ff.prototype,"thumbnailUrl",null),S([To()],ff.prototype,"units",void 0),S([To({readOnly:!0})],ff.prototype,"userContentUrl",null),S([To({readOnly:!0})],ff.prototype,"url",null),S([To()],ff.prototype,"username",void 0),S([To()],ff.prototype,"userLicenseTypeId",void 0),S([To()],ff.prototype,"userType",void 0),ff=df=S([gs("esri.portal.PortalUser")],ff);const mf=ff;var yf;let gf;const vf={PortalGroup:()=>Promise.resolve({default:lf}),PortalItem:()=>Promise.resolve().then((()=>qf)),PortalUser:()=>Promise.resolve({default:mf})};let bf=yf=class extends(Vs(Wc)){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Ue.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){_f.unregister(this),this.defaultBasemap=mt(this.defaultBasemap),this.defaultDevBasemap=mt(this.defaultDevBasemap),this.defaultVectorBasemap=mt(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=gt(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Ue.request.trustedServers.includes(t)||Ue.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return Nl(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=mf.fromJSON(e),t.portal=this),t}load(e){const t=Promise.resolve().then((()=>Dm)).then((({default:t})=>{or(e),gf=t})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e))).then((e=>{if(!this.hasAPIKey&&Il){const e=Il;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==yf.AUTH_MODE_AUTO&&this.authMode!==yf.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=e.on("credential-create",xf(new WeakRef(this))),_f.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await n.e(488).then(n.bind(n,50488))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async fetchBasemaps(e,t){const n=await this._fetchBasemaps(e,t);if(!0===t?.include3d&&!1!==this.use3dBasemaps){const r=await this._fetchBasemaps3D(e,t);n.unshift(...r)}return n}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||"none"===this.default3DBasemapQuery)return null;const t=new of;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const n=(await this.queryItems(t,e)).results.find((e=>"Web Scene"===e.type));return n?new gf({portalItem:n}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):ar(e)?Promise.reject(ir()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,n=new of({num:100,sortField:"title"});if(t?.length){const r=[];for(const e of t)r.push(`(title:"${e.title}" AND owner:${e.owner})`);return n.query=r.join(" OR "),this.queryGroups(n,e).then((e=>e.results))}return ar(e)?Promise.reject(ir()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||Wd();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||Wd();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return ef((()=>new yf))}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,n){const r=this.restUrl+"/portals/self",i={authMode:e,query:{culture:Wd().toLowerCase()},withCredentials:!0,...n};return"auto"===i.authMode&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(r,i)}queryPortal(e,t,n,r){const i=so(of,t),o=t=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...r}).then((e=>{const n=i.clone();return n.start=e.nextStart,new uf({nextQueryParams:n,queryParams:i,total:e.total,results:yf._resultsToTypedArray(t,{portal:this},e,r)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>(lr(t),e)))));return n&&vf[n]?vf[n]().then((({default:e})=>(or(r),o(e)))):o()}signIn(){if(this.hasAPIKey)return this.load().then((()=>{if(!this.user)throw new et("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")}));if(this.authMode===yf.AUTH_MODE_ANONYMOUS||this.authMode===yf.AUTH_MODE_NO_PROMPT&&!Il)return Promise.reject(new et("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return Il?Il.getCredential(this.restUrl,{prompt:this.authMode!==yf.AUTH_MODE_NO_PROMPT}).then((t=>e(t))):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,n){return this.request(e,t).then((e=>{const t=yf._resultsToTypedArray(n,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}request(e,t={}){const n={f:"json",...t.query},{authMode:r=(this.authMode===yf.AUTH_MODE_ANONYMOUS||this.authMode===yf.AUTH_MODE_NO_PROMPT?this.authMode:"auto"),body:i=null,cacheBust:o=!1,method:s="auto",responseType:a="json",signal:l}=t,c={authMode:r,body:i,cacheBust:o,method:s,query:n,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),Bl(this._normalizeSSL(e),c).then((e=>e.data))}toJSON(){throw new et("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new yf({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new et("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const n=new of;n.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const r=await this.queryGroups(n,t);if(!r.total)return[];const i=r.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=i.sortField||"name",n.sortOrder=i.sortOrder||"desc";const o=await i.queryItems(n,t);return o.total?o.results.filter((e=>"Web Map"===e.type)).map((e=>new gf({portalItem:e}))):[]}async _fetchBasemaps3D(e,t){const n=e||this.basemapGalleryGroupQuery3D;if(!n)return[];const r=new of({query:n,disableExtraQuery:!0}),i=await this.queryGroups(r,t);if(!i.total)return[];const o=i.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=o.sortField||"name",r.sortOrder=o.sortOrder||"desc";const s=await o.queryItems(r,t);return s.total?s.results.filter((e=>"Web Scene"===e.type)).map((e=>new gf({portalItem:e}))):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=gf.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,n,r){let i;if(n){const o=null!=r?r.signal:null;i=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(e||t)&&(i=i.map((n=>{const r=Object.assign(e?e.fromJSON(n):n,t);return"function"==typeof r.load&&r.load(o),r})))}else i=[];return i}};bf.AUTH_MODE_ANONYMOUS="anonymous",bf.AUTH_MODE_AUTO="auto",bf.AUTH_MODE_IMMEDIATE="immediate",bf.AUTH_MODE_NO_PROMPT="no-prompt",S([To()],bf.prototype,"access",void 0),S([To()],bf.prototype,"allSSL",void 0),S([To()],bf.prototype,"authMode",void 0),S([To()],bf.prototype,"authorizedCrossOriginDomains",void 0),S([Cp("authorizedCrossOriginDomains")],bf.prototype,"readAuthorizedCrossOriginDomains",null),S([To()],bf.prototype,"basemapGalleryGroupQuery",void 0),S([To({json:{name:"3DBasemapGalleryGroupQuery"}})],bf.prototype,"basemapGalleryGroupQuery3D",void 0),S([To()],bf.prototype,"bingKey",void 0),S([To()],bf.prototype,"canListApps",void 0),S([To()],bf.prototype,"canListData",void 0),S([To()],bf.prototype,"canListPreProvisionedItems",void 0),S([To()],bf.prototype,"canProvisionDirectPurchase",void 0),S([To()],bf.prototype,"canSearchPublic",void 0),S([To()],bf.prototype,"canShareBingPublic",void 0),S([To()],bf.prototype,"canSharePublic",void 0),S([To()],bf.prototype,"canSignInArcGIS",void 0),S([To()],bf.prototype,"canSignInIDP",void 0),S([To()],bf.prototype,"colorSetsGroupQuery",void 0),S([To()],bf.prototype,"commentsEnabled",void 0),S([To({type:Date})],bf.prototype,"created",void 0),S([To()],bf.prototype,"credential",void 0),S([To()],bf.prototype,"culture",void 0),S([To()],bf.prototype,"currentVersion",void 0),S([To()],bf.prototype,"customBaseUrl",void 0),S([To()],bf.prototype,"default3DBasemapQuery",void 0),S([To()],bf.prototype,"defaultBasemap",void 0),S([Cp("defaultBasemap")],bf.prototype,"readDefaultBasemap",null),S([To()],bf.prototype,"defaultDevBasemap",void 0),S([Cp("defaultDevBasemap")],bf.prototype,"readDefaultDevBasemap",null),S([To({type:Gd})],bf.prototype,"defaultExtent",void 0),S([To()],bf.prototype,"defaultVectorBasemap",void 0),S([Cp("defaultVectorBasemap")],bf.prototype,"readDefaultVectorBasemap",null),S([To()],bf.prototype,"description",void 0),S([To()],bf.prototype,"devBasemapGalleryGroupQuery",void 0),S([To()],bf.prototype,"eueiEnabled",void 0),S([To({readOnly:!0})],bf.prototype,"extraQuery",null),S([To()],bf.prototype,"featuredGroups",void 0),S([To()],bf.prototype,"featuredItemsGroupQuery",void 0),S([To()],bf.prototype,"galleryTemplatesGroupQuery",void 0),S([To()],bf.prototype,"layoutGroupQuery",void 0),S([To()],bf.prototype,"livingAtlasGroupQuery",void 0),S([To({readOnly:!0})],bf.prototype,"hasAPIKey",null),S([To()],bf.prototype,"hasCategorySchema",void 0),S([To()],bf.prototype,"hasClassificationSchema",void 0),S([To()],bf.prototype,"helpBase",void 0),S([To()],bf.prototype,"helperServices",void 0),S([To()],bf.prototype,"helpMap",void 0),S([To()],bf.prototype,"homePageFeaturedContent",void 0),S([To()],bf.prototype,"homePageFeaturedContentCount",void 0),S([To()],bf.prototype,"httpPort",void 0),S([To()],bf.prototype,"httpsPort",void 0),S([To()],bf.prototype,"id",void 0),S([To()],bf.prototype,"ipCntryCode",void 0),S([To({readOnly:!0})],bf.prototype,"isOrganization",null),S([To()],bf.prototype,"isPortal",void 0),S([To()],bf.prototype,"isReadOnly",void 0),S([To({readOnly:!0})],bf.prototype,"itemPageUrl",null),S([To()],bf.prototype,"layerTemplatesGroupQuery",void 0),S([To()],bf.prototype,"maxTokenExpirationMinutes",void 0),S([To({type:Date})],bf.prototype,"modified",void 0),S([To()],bf.prototype,"name",void 0),S([To()],bf.prototype,"portalHostname",void 0),S([To()],bf.prototype,"portalMode",void 0),S([To()],bf.prototype,"portalProperties",void 0),S([To()],bf.prototype,"region",void 0),S([To()],bf.prototype,"recycleBinEnabled",void 0),S([To({readOnly:!0})],bf.prototype,"restUrl",null),S([To()],bf.prototype,"rotatorPanels",void 0),S([To()],bf.prototype,"showHomePageDescription",void 0),S([To()],bf.prototype,"sourceJSON",void 0),S([To()],bf.prototype,"staticImagesUrl",void 0),S([To({json:{name:"2DStylesGroupQuery"}})],bf.prototype,"stylesGroupQuery2d",void 0),S([To({json:{name:"stylesGroupQuery"}})],bf.prototype,"stylesGroupQuery3d",void 0),S([To()],bf.prototype,"supportsHostedServices",void 0),S([To()],bf.prototype,"symbolSetsGroupQuery",void 0),S([To()],bf.prototype,"templatesGroupQuery",void 0),S([To()],bf.prototype,"thumbnail",void 0),S([To({readOnly:!0})],bf.prototype,"thumbnailUrl",null),S([To()],bf.prototype,"units",void 0),S([To()],bf.prototype,"url",void 0),S([To()],bf.prototype,"urlKey",void 0),S([Cp("urlKey")],bf.prototype,"readUrlKey",null),S([To()],bf.prototype,"user",void 0),S([Cp("user")],bf.prototype,"readUser",null),S([To()],bf.prototype,"use3dBasemaps",void 0),S([To()],bf.prototype,"useDefault3dBasemap",void 0),S([To()],bf.prototype,"useStandardizedQuery",void 0),S([To()],bf.prototype,"useVectorBasemaps",void 0),S([To()],bf.prototype,"vectorBasemapGalleryGroupQuery",void 0),bf=yf=S([gs("esri.portal.Portal")],bf);const wf=bf,_f=new FinalizationRegistry((e=>{e.remove()}));function xf(e){const t=Il;return()=>{const n=e.deref();n&&t.findCredential(n.restUrl)&&n.signIn().catch((()=>{}))}}let Sf=class extends Ms{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:Tf(e.path,e.portalItem)}:e}set path(e){null!=e&&Ga(e)?Ye.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return Tf(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const n=this.cdnUrl;if(null==n)throw new et("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:e,query:{token:this.portalItem.apiKey,_ts:t?.cacheBust?Date.now():null},signal:t?.signal})}async update(e,t){const{addOrUpdateResources:r}=await n.e(9569).then(n.bind(n,29569));return await r(this.portalItem,[{resource:this,content:e,compress:t?.compress,access:t?.access}],"update",t),this}hasPath(){return null!=this.path}};function Tf(e,t){return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&Ga(e)&&(e=Fa(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}S([To()],Sf.prototype,"portalItem",void 0),S([To({type:String,value:null})],Sf.prototype,"path",null),S([Dp("path")],Sf.prototype,"_castPath",null),S([To({type:String,readOnly:!0})],Sf.prototype,"url",null),S([To({type:String,readOnly:!0})],Sf.prototype,"cdnUrl",null),S([To({type:String,readOnly:!0})],Sf.prototype,"itemRelativeUrl",null),Sf=S([gs("esri.portal.PortalItemResource")],Sf);const Ef=Sf;let Mf=class extends Ms{constructor(e){super(e),this.created=null,this.rating=null}};S([To()],Mf.prototype,"created",void 0),S([To()],Mf.prototype,"rating",void 0),Mf=S([gs("esri.portal.PortalRating")],Mf);const Af=Mf;function If(e,t){const n=t?.url?.path;if(e&&n&&(e=Da(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=Fa(e,t.portalItem.itemUrl);null!=n&&Lf.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=Ff(e,t?.portal))&&Rf.test(e)?jf(e):e}function Cf(e,t,n=zf.YES){if(null==(e=e&&Rf.test(e)?Uf(e):e))return e;!Ga(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=Da(e);if(t){const n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){const i=Ff(n,t.portal),o=Ff(r,t.portal);r=Fa(o,i,i),null!=r&&r!==o&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=Df(r,t?.portal),Ga(r)&&(r=ja(r)),t?.resources&&t?.portalItem&&!Ga(r)&&!Ba(r)&&n===zf.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function Of(e,t,n){return If(e,n)}function kf(e,t,n,r){const i=Cf(e,r);void 0!==i&&(t[n]=i)}const Rf=/\/items\/([^/]+)\/resources\/(.*)/,Lf=/^\.\/resources\//;function Nf(e){return(e?.match(Rf)??null)?.[1]??null}function Pf(e){const t=e?.match(Rf)??null;if(null==t)return null;const n=t[2],r=n.lastIndexOf("/");if(-1===r){const{path:e,extension:t}=_l(n);return{prefix:null,filename:e,extension:t}}const{path:i,extension:o}=_l(n.slice(r+1));return{prefix:n.slice(0,r),filename:i,extension:o}}function Df(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?fl(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function Ff(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const n=`${t.urlKey}.${t.customBaseUrl}`,r=ya();return La(r,`${r.scheme}://${n}`)?fl(e,t.portalHostname,n):fl(e,n,t.portalHostname)}function jf(e){if(!e)return e||null;let t=e;return t&&Il&&!Il.findCredential(t)&&(t=Xs(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function Uf(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Il&&!Il.findCredential(t)&&(t=Xs(t)),t}var zf;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(zf||(zf={}));const Gf=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return zf},ensureMainOnlineDomain:Df,fromCDNUrl:Uf,fromJSON:If,itemIdFromResourceUrl:Nf,prefixAndFilenameFromResourceUrl:Pf,read:Of,toCDNUrl:jf,toJSON:Cf,write:kf},Symbol.toStringTag,{value:"Module"}));var Vf;const Bf=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),$f=new Set(["KML","GeoJson","CSV"]);let Hf=Vf=class extends(Vs(Wc)){static from(e){return no(Vf,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let n=e;return"Feature Service"===e||"Feature Collection"===e?n=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?n=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?n="Scene Layer":"Video Service"===e?n="Video Layer":"Scene Package"===e?n="Scene Layer Package":"Stream Service"===e?n="Feature Layer":"Geoprocessing Service"===e?n=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===e?n="GeoEnrichment Service":"Geocoding Service"===e?n="Locator":"Microsoft Powerpoint"===e?n="Microsoft PowerPoint":"GeoJson"===e?n="GeoJSON":"Globe Service"===e?n="Globe Layer":"Vector Tile Service"===e?n="Tile Layer":"netCDF"===e?n="NetCDF":"Map Service"===e?n=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?n=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?n="Big Data File Share":"Compact Tile Package"===e?n="Tile Package (tpkx)":"Raster function template"===e?n="Raster Function Template":"OGCFeatureServer"===e?n="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?n="Instant App":"Insights Page"===e?n="Insights Report":"Excalibur Imagery Project"===e?n="Excalibur Project":"3DTiles Service"===e?n="3D tiles layer":"3DTiles Package"===e&&(n="3D tiles package"),n}readExtent(e){return e&&e.length?new Gd(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[],n="esri/images/portal/",r="16";let i,o=!1,s=!1,a=!1,l=!1,c=!1,u=!1,h=!1,p=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(o=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(s=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),c=t.includes("Spatiotemporal"),u=t.includes("UtilityNetwork"),i=c&&s?"spatiotemporaltable":s?"table":a?"routelayer":l?"markup":c?"spatiotemporal":u?"utilitynetwork":o?"featureshosted":"features"):"map service"===e||"wms"===e||"wmts"===e?(c=t.includes("Spatiotemporal"),h=t.includes("Relational"),i=c||h?"mapimages":o||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages"):i="scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"video service"===e?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===e?t.includes("Web Tool")?"tool":"layers":"geodata service"===e?"geodataservice":"3dtiles service"===e?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===e||"cityengine web scene"===e?i="maps":"web scene"===e?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?i="instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?i="apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?i="mapsgray":"service definition"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"netcdf"===e||"administrative report"===e?i="datafiles":"360 vr experience"===e?i="360vr":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?i="appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?i="addindesktop":"pdf"===e?i="pdf":"microsoft word"===e?i="word":"microsoft excel"===e?i="excel":"microsoft powerpoint"===e?i="ppt":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?i="toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?i="layersgray":"analysis model"===e?i="analysismodel":"scene package"===e?i="scenepackage":"3dtiles package"===e?i="3dtileslayerpackage":"3dtiles service"===e?i="3dtileslayer":"mobile scene package"===e?i="mobilescenepackage":"tile package"===e||"compact tile package"===e?i="tilepackage":"task file"===e?i="taskfile":"report template"===e?i="report-template":"statistical data collection"===e?i="statisticaldatacollection":"insights workbook"===e?i="workbook":"insights model"===e?i="insightsmodel":"insights page"===e?i="insightspage":"insights theme"===e?i="insightstheme":"hub initiative"===e?i="hubinitiative":"hub page"===e?i="hubpage":"hub site application"===e?i="hubsite":"hub event"===e?i="hubevent":"hub project"===e?i="hubproject":"relational database connection"===e?i="relationaldatabaseconnection":"big data file share"===e?i="datastorecollection":"image collection"===e?i="imagecollection":"desktop style"===e?i="desktopstyle":"style"===e?i=t.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===e?i="dashboard":"raster function template"===e?i="rasterprocessingtemplate":"vector tile package"===e?i="vectortilepackage":"ortho mapping project"===e?i="orthomappingproject":"ortho mapping template"===e?i="orthomappingtemplate":"solution"===e?i="solutions":"geopackage"===e?i="geopackage":"deep learning package"===e?i="deeplearningpackage":"real time analytic"===e?i="realtimeanalytics":"reality mapping project"===e?i="realitymappingproject":"big data analytic"===e?i="bigdataanalytics":"feed"===e?i="feed":"excalibur imagery project"===e?i="excaliburimageryproject":"notebook"===e?i="notebook":"storymap"===e?i="storymap":"survey123 add in"===e?i="survey123addin":"mission"===e?i="mission":"mission report"===e?i="missionreport":"mission template"===e?i="missiontemplate":"quickcapture project"===e?i="quickcaptureproject":"pro report"===e?i="proreport":"pro report template"===e?i="proreporttemplate":"urban model"===e?i="urbanmodel":"urban project"===e?i="urbanproject":"web experience"===e?i="experiencebuilder":"web experience template"===e?i="webexperiencetemplate":"experience builder widget"===e?i="experiencebuilderwidget":"experience builder widget package"===e?i="experiencebuilderwidgetpackage":"workflow"===e?i="workflow":"kernel gateway connection"===e?i="kernelgatewayconnection":"insights script"===e?i="insightsscript":"hub initiative template"===e?i="hubinitiativetemplate":"storymap theme"===e?i="storymaptheme":"knowledge graph"===e?i="knowledgegraph":"knowledge graph layer"===e?i="knowledgegraphlayer":"knowledge studio project"===e?i="knowledgestudio":"native application"===e?i="nativeapp":"native application installer"===e?i="nativeappinstaller":"web link chart"===e?i="linkchart":"knowledge graph web investigation"===e?i="investigation":"ogcfeatureserver"===e?i="features":"pro presentation"===e?i="propresentation":"pro project"===e?i="proproject":"insights workbook package"===e?i="insightsworkbookpackage":"apache parquet"===e?i="apacheparquet":"notebook code snippet library"===e?i="notebookcodesnippets":"suitability model"===e?i="suitabilitymodel":"esri classifier definition"===e?i="classifierdefinition":"esri classification schema"===e?i="classificationschema":"insights data engineering workbook"===e?i="dataengineeringworkbook":"insights data engineering model"===e?i="dataengineeringmodel":"deep learning studio project"===e?i="deeplearningproject":"discussion"===e?i="discussion":"allsource project"===e?i="allsourceproject":"api key"===e?i="apikey":"data pipeline"===e?i="datapipelines":"group layer"===e?(p=t.includes("Map"),i=p?"layergroup2d":"layergroup"):i="media layer"===e?"onlinemedialayer":"form"===e?t.includes("Survey123")?"survey":"datafilesgray":"csv"===e?"csv":"image"===e?"image":"maps",i?mu(n+i+r+".png"):null}get isLayer(){return null!=this.type&&Bf.has(this.type)}get itemCdnUrl(){return jf(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.username;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=wf.getDefault()),n=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(n),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof Af&&(e=e.rating),null==e||isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new Af({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:_e(this.applicationProxies),avgRating:this.avgRating,categories:_e(this.categories),classification:_e(this.classification),created:_e(this.created),culture:this.culture,description:this.description,extent:_e(this.extent),groupCategories:_e(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:_e(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:_e(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:_e(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:_e(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Vf({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const n=e[t];n&&(e[t]=JSON.stringify(n))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return null!=t.rating?(t.created=new Date(t.created),new Af(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Vf)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e?.data,n={method:"post"};n.query=this.createPostQuery();for(const e in n.query)null===n.query[e]&&(n.query[e]="");return n.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?n.query.text=t:"object"==typeof t&&(n.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,n).then((()=>this.reload()))})):Promise.reject(new et("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new et("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:n}=this;await t.signIn();const{copyResources:r,folder:i,tags:o,title:s}=e||{},a={method:"post",query:{copyPrivateResources:"all"===r,folder:"string"==typeof i?i:i?.id,includeResources:!!r,tags:o?.join(","),title:s}},{itemId:l}=await t.request(`${n}/copy`,a);return new Vf({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,n=e.filename,r={method:"post"};if("string"==typeof t)Ba(t)?r.query={data:t}:r.query={url:Da(t)},null!=n&&(r.query.filename=n);else{const e=new FormData;null!=n?e.append("file",t,n):e.append("file",t),r.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new et("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await n.e(9569).then(n.bind(n,29569));return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:i}=await n.e(9569).then(n.bind(n,29569));return e.portalItem=this,await i(this,[{resource:e,content:t,compress:r?.compress,access:r?.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await n.e(9569).then(n.bind(n,29569));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new et("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await n.e(9569).then(n.bind(n,29569));return t(this,e)}resourceFromPath(e){return new Ef({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:_e(this.categories),classification:_e(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:_e(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:_e(this.typeKeywords),url:this.url};return we(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Vf({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};S([To({type:["private","shared","org","public"]})],Hf.prototype,"access",void 0),S([To()],Hf.prototype,"accessInformation",void 0),S([To({type:String})],Hf.prototype,"apiKey",void 0),S([To({json:{read:{source:"appProxies"}}})],Hf.prototype,"applicationProxies",void 0),S([To()],Hf.prototype,"avgRating",void 0),S([To()],Hf.prototype,"categories",void 0),S([To()],Hf.prototype,"classification",void 0),S([To({type:Date})],Hf.prototype,"created",void 0),S([To()],Hf.prototype,"culture",void 0),S([To()],Hf.prototype,"description",void 0),S([To({readOnly:!0})],Hf.prototype,"displayName",null),S([To({type:Gd})],Hf.prototype,"extent",void 0),S([Cp("extent")],Hf.prototype,"readExtent",null),S([To()],Hf.prototype,"groupCategories",void 0),S([To({readOnly:!0})],Hf.prototype,"iconUrl",null),S([To()],Hf.prototype,"id",void 0),S([To({readOnly:!0})],Hf.prototype,"isLayer",null),S([To({type:Boolean,readOnly:!0})],Hf.prototype,"isOrgItem",void 0),S([To()],Hf.prototype,"itemControl",void 0),S([To({readOnly:!0})],Hf.prototype,"itemPageUrl",null),S([To({readOnly:!0})],Hf.prototype,"itemUrl",null),S([To()],Hf.prototype,"licenseInfo",void 0),S([To({type:Date})],Hf.prototype,"modified",void 0),S([To()],Hf.prototype,"name",void 0),S([To()],Hf.prototype,"numComments",void 0),S([To()],Hf.prototype,"numRatings",void 0),S([To()],Hf.prototype,"numViews",void 0),S([To()],Hf.prototype,"owner",void 0),S([To()],Hf.prototype,"ownerFolder",void 0),S([To({type:wf})],Hf.prototype,"portal",void 0),S([To()],Hf.prototype,"screenshots",void 0),S([To()],Hf.prototype,"size",void 0),S([To()],Hf.prototype,"snippet",void 0),S([To()],Hf.prototype,"sourceJSON",void 0),S([To({type:String})],Hf.prototype,"sourceUrl",void 0),S([To({type:String})],Hf.prototype,"spatialReference",void 0),S([To()],Hf.prototype,"tags",void 0),S([To()],Hf.prototype,"thumbnail",void 0),S([To({readOnly:!0})],Hf.prototype,"thumbnailUrl",null),S([To()],Hf.prototype,"title",void 0),S([To()],Hf.prototype,"type",void 0),S([To()],Hf.prototype,"typeKeywords",void 0),S([To({type:String,json:{read(e,t){if($f.has(t.type)){const t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],Hf.prototype,"url",void 0),S([To({readOnly:!0})],Hf.prototype,"userItemUrl",null),Hf=Vf=S([gs("esri.portal.PortalItem")],Hf);const Wf=Hf,qf=Object.freeze(Object.defineProperty({__proto__:null,default:Wf},Symbol.toStringTag,{value:"Module"})),Zf=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,Yf={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function Xf(e){return e in Yf}const Jf=[],Kf=new Map;function Qf(e){for(const t of Kf.keys())im(e.pattern,t)&&Kf.delete(t)}function em(e){return Jf.includes(e)||(Qf(e),Jf.unshift(e)),Tt((()=>{const t=Jf.indexOf(e);t>-1&&(Jf.splice(t,1),Qf(e))}))}async function tm(e){const t=Wd();Kf.has(e)||Kf.set(e,rm(e,t));const n=Kf.get(e);return n&&await om.add(n),n}function nm(e){if(!Zf.test(e))return null;const t=Zf.exec(e);if(null===t)return null;const[,n,r]=t,i=n+(r?"-"+r.toUpperCase():"");return Xf(i)?i:Xf(n)?n:null}async function rm(e,t){const n=[];for(const i of Jf)if(im(i.pattern,e))try{return await i.fetchMessageBundle(e,t)}catch(r){n.push(r)}throw n.length?new et("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:n}):new et("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function im(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}Jd((()=>{Kf.clear()}));const om=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Sr())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}};async function sm(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,n=await tm("esri/t9n/basemaps");return n[e]||n[t]}const am={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return mu("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return mu("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return mu("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return mu("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return mu("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return mu("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return mu("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return mu("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return mu("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return mu("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return mu("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return mu("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return mu("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return mu("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return mu("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return mu("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},lm=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let cm=class extends Ms{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const e=Wd().toLowerCase();switch(e){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const t=qd(e);return"pt"===t?"pt-BR":t&&lm.has(t)?t:"global"}};S([To()],cm.prototype,"apiKey",void 0),S([To()],cm.prototype,"id",void 0),S([To()],cm.prototype,"language",void 0),S([To()],cm.prototype,"places",void 0),S([To()],cm.prototype,"serviceUrl",void 0),S([To()],cm.prototype,"worldview",void 0),cm=S([gs("esri.support.BasemapStyle")],cm);const um=cm;function hm(e){return null!=e&&"object"==typeof e&&"type"in e&&"subtype-group"===e.type&&"sublayers"in e}function pm(e){return"subtype-sublayer"===e?.type}const dm={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function fm(e){const t=e?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function mm(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type}function ym(e){const t=e?.type;return("feature"===t||"subtype-group"===t||"oriented-imagery"===t)&&"feature-layer"===e.source?.type}async function gm(e,t){const n=Il?.findServerInfo(e);if(null!=n?.currentVersion)return n.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(-1===r)return null;const i=`${e.slice(0,r)}/rest/info`,o=null!=t?t.signal:null,{data:s}=await Bl(i,{query:{f:"json"},responseType:"json",signal:o});return s?.owningSystemUrl||null}function vm(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function bm(e){return vm(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function wm(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function _m(e){return!!wm(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const xm=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),Sm=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function Tm(e){return"basemap"===e.layerContainerType?xm:"operational-layers"===e.layerContainerType?Sm:null}function Em(e,t){if(t.restrictedWebMapWriting){const n=Tm(t);return null==n||n.has(e.type)&&!mm(e)}return!0}function Mm(e,t){if(t)if(mm(e)){const n=Ne("featureCollection.layers",t),r=n?.[0]?.layerDefinition;r&&Am(e,r)}else"group"!==e.type&&Am(e,t)}function Am(e,t){"maxScale"in e&&(t.maxScale=ts(e.maxScale)??void 0),"minScale"in e&&(t.minScale=ts(e.minScale)??void 0)}function Im(e,t){if(Mm(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=ts(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if(mm(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function Cm(e,t,n){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return n?.messages&&n.messages.push(new et("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(mm(e)&&!e.isTable)t=e.resourceInfo;else if(Em(e,n)){const t={};return e.write(t,n)?t:null}return null!=t&&Im(e,t=_e(t)),t}var Om;let km=0,Rm=Om=class extends(Vs(Wc)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+km++,this.baseLayers=new Rc,this.referenceLayers=new Rc;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&Ye.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},n=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>n(e.item))),this.referenceLayers.on("after-remove",(e=>n(e.item)))])}initialize(){this.when().catch((e=>{Ye.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const n of e)n.destroy();const t=this.referenceLayers.toArray();for(const n of t)n.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=mt(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Lc(e,this._get("baseLayers")))}_writeBaseLayers(e,t,n){const r=[];e&&(n={...n,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=Cm(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);null!=t&&r.push(t)})),this.referenceLayers.forEach((e=>{const t=Cm(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);null!=t&&("scene"!==e.type&&(t.isReference=!0),r.push(t))}))),t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",Lc(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return ru(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>Se(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>Se(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new Om({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=_e(e);return t.url&&Ja(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&Ja(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:n,style:r}=this;or(e);const i=[];if(t){const n=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,n,e)),t.data.id&&!t.data.title){const e=t.data.id;i.push(sm(e).then((e=>{e&&this.read({title:e},t.context)})))}}else n?i.push(this._loadFromItem(n,e)):r&&i.push(this._loadFromStylesService(r,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){const i=this.resourceInfo?.context,o=this.portalItem?.portal||i?.portal||null,s=Nm[i?.origin||""]??"web-map",{populateOperationalLayers:a}=await n.e(4308).then(n.bind(n,94308)),l=[];if(or(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const n={context:{...i,origin:s,url:t,portal:o,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},r=e=>"web-scene"===s&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,c=a(this.baseLayers,e.baseMapLayers.filter((e=>!r(e))),n);l.push(c);const u=a(this.referenceLayers,e.baseMapLayers.filter(r),n);l.push(u)}await Promise.allSettled(l)}async _loadFromItem(e,t){const n=await e.load(t),r=await n.fetchData("json",t),i=ba(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:Lm[e.type||""]??"web-map",portal:e.portal||wf.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||wf.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){const n=`${e.serviceUrl}/${e.id}`,r=(await Bl(n,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview,token:e.apiKey},signal:t?.signal})).data,i=ba(n);if(this._set("resourceInfo",{data:r.baseMap??{},context:{origin:"web-map",url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,i,t),e.apiKey)for(const o of[...this.baseLayers,...this.referenceLayers])"apiKey"in o&&(o.apiKey=e.apiKey)}static fromId(e){const t=am[e];return t?t.itemId?new Om({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):Om.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};S([To({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,n,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Rc}},writer(e,t,n,r){this._writeBaseLayers(e,t,r)}}}}}})],Rm.prototype,"baseLayers",null),S([To({type:String,json:{origins:{"web-scene":{write:!0}}}})],Rm.prototype,"id",void 0),S([To({type:Wf})],Rm.prototype,"portalItem",void 0),S([To()],Rm.prototype,"referenceLayers",null),S([To({readOnly:!0})],Rm.prototype,"resourceInfo",void 0),S([To({type:Ip})],Rm.prototype,"spatialReference",void 0),S([To({type:um})],Rm.prototype,"style",void 0),S([To()],Rm.prototype,"thumbnailUrl",void 0),S([To({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Rm.prototype,"title",void 0),S([su("title")],Rm.prototype,"writeTitle",null),Rm=Om=S([gs("esri.Basemap")],Rm);const Lm={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},Nm={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Pm=Rm,Dm=Object.freeze(Object.defineProperty({__proto__:null,default:Pm},Symbol.toStringTag,{value:"Module"})),Fm={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function jm(e){return!!Fm[e]||!!Fm[e.toLowerCase()]}function Um(e){return Fm[e]??Fm[e.toLowerCase()]}function zm(e){return[...Um(e)]}function Gm(e,t,n){n<0&&++n,n>1&&--n;const r=6*n;return r<1?e+(t-e)*r:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function Vm(e,t,n,r=1){const i=(e%360+360)%360/360,o=n<=.5?n*(t+1):n+t-n*t,s=2*n-o;return[Math.round(255*Gm(s,o,i+1/3)),Math.round(255*Gm(s,o,i)),Math.round(255*Gm(s,o,i-1/3)),r]}function Bm(e){const t=e.length>5,n=t?8:4,r=(1<<n)-1,i=t?1:17,o=t?9===e.length:5===e.length;let s=+("0x"+e.slice(1));if(isNaN(s))return null;const a=[0,0,0,1];let l;return o&&(l=s&r,s>>=n,a[3]=i*l/255),l=s&r,s>>=n,a[2]=i*l,l=s&r,s>>=n,a[1]=i*l,l=s&r,s>>=n,a[0]=i*l,a}const $m=new Float32Array(1);function Hm(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Wm(e,t,n){return Math.min(Math.max(e,t),n)}function qm(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function Zm(e,t,n){return e+(t-e)*n}function Ym(e,t,n,r,i){return Zm(r,i,(e-t)/(n-t))}function Xm(e){return e*Math.PI/180}function Jm(e){return 180*e/Math.PI}function Km(e){return Math.acos(Wm(e,-1,1))}function Qm(e){return Math.asin(Wm(e,-1,1))}function ey(e,t,n=1e-6){return e===t||!(!Number.isFinite(e)||!Number.isFinite(t))&&(e>t?e-t:t-e)<=n}const ty=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function ny(e){return ty.setFloat64(0,e),ty.getBigInt64(0)}function ry(e){return ty.setBigInt64(0,e),ty.getFloat64(0)}const iy=BigInt("1000000"),oy=sy(1);function sy(e){const t=ny(e=Math.abs(e)),n=ry(t<=iy?iy:t-iy);return Math.abs(e-n)}function ay(e,t,n=oy){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(null!=n&&sy(Math.min(Math.abs(e),Math.abs(t)))<n)return Math.abs(e-t)<=n;const r=ny(e),i=ny(t);return r<0==i<0&&!((r<i?i-r:r-i)>iy)}function ly(e){return cy(Math.max(-hy,Math.min(e,hy)))}function cy(e){return $m[0]=e,$m[0]}function uy(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(ey(t,1)&&ey(n,1)&&ey(r,1))}const hy=cy(34028234663852886e22);function py(e,t,n){if(void 0===n||0==+n)return Math[e](t);if(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-n:-n)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+n:n))}function dy(e){return Wm(qi(e),0,255)}function fy(e,t,n){return e=Number(e),isNaN(e)?n:e<t?t:e>n?n:e}function my(e,t){const n=e.toString(16).padStart(2,"0");return t?n.slice(0,1):n}let yy=class e{static blendColors(t,n,r,i=new e){return i.r=Math.round(t.r+(n.r-t.r)*r),i.g=Math.round(t.g+(n.g-t.g)*r),i.b=Math.round(t.b+(n.b-t.b)*r),i.a=t.a+(n.a-t.a)*r,i._sanitize()}static fromRgb(t,n){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const t=r[2].split(/\s*,\s*/),i=r[1];if("rgb"===i&&3===t.length||"rgba"===i&&4===t.length){const r=t[0];if("%"===r.charAt(r.length-1)){const r=t.map((e=>2.56*parseFloat(e)));return 4===t.length&&(r[3]=parseFloat(t[3])),e.fromArray(r,n)}return e.fromArray(t.map((e=>parseFloat(e))),n)}if("hsl"===i&&3===t.length||"hsla"===i&&4===t.length)return e.fromArray(Vm(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),n)}return null}static fromHex(t,n=new e){if("#"!==t[0]||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),i=parseInt(t.slice(2,3),16),o=parseInt(t.slice(3,4),16),s=5===t.length?15:parseInt(t.slice(4),16);return e.fromArray([r+16*r,i+16*i,o+16*o,(s+16*s)/255],n)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16),s=7===t.length?255:parseInt(t.slice(7),16);return e.fromArray([r,i,o,s/255],n)}default:return null}}static fromArray(t,n=new e){return n._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(t,n){const r=jm(t)?Um(t):null;return r&&e.fromArray(r,n)||e.fromRgb(t,n)||e.fromHex(t,n)}static fromJSON(t){return null!=t?new e([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return"string"==typeof t?e.fromString(t,this):Array.isArray(t)?e.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof e||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const t=e?.capitalize??!1,n=e?.digits??6,r=3===n||4===n,i=4===n||8===n,o=`#${my(this.r,r)}${my(this.g,r)}${my(this.b,r)}${i?my(Math.round(255*this.a),r):""}`;return t?o.toUpperCase():o}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=e.AlphaMode.ALWAYS){const n=dy(this.r),r=dy(this.g),i=dy(this.b);return t===e.AlphaMode.ALWAYS||1!==this.a?[n,r,i,dy(255*this.a)]:[n,r,i]}clone(){return new e(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Math.round(fy(this.r,0,255)),this.g=Math.round(fy(this.g,0,255)),this.b=Math.round(fy(this.b,0,255)),this.a=fy(this.a,0,1),this}_set(e,t,n,r){this.r=e,this.g=t,this.b=n,this.a=r}};yy.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(yy||(yy={}));const gy=yy;function vy(e,t,n=!1){let{hasM:r,hasZ:i}=e;Array.isArray(t)?4!==t.length||r||i?3===t.length&&n&&!r?(i=!0,r=!1):3===t.length&&r&&i&&(r=!1,i=!1):(r=!0,i=!0):(i=!i&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=r}var by;function wy(e){return(t,n)=>null==t?n:null==n?t:e(t,n)}function _y(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let xy=by=class extends kp{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const n={};Array.isArray(e)?(n.points=e,n.spatialReference=t):_y(e)?n.spatialReference=e:(e.points&&(n.points=e.points),e.spatialReference&&(n.spatialReference=e.spatialReference),e.hasZ&&(n.hasZ=e.hasZ),e.hasM&&(n.hasM=e.hasM));const r=n.points?.[0];return r&&(void 0===n.hasZ&&void 0===n.hasM?(n.hasZ=r.length>2,n.hasM=!1):void 0===n.hasZ?n.hasZ=r.length>3:void 0===n.hasM&&(n.hasM=r.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Gd,n=this.hasZ,r=this.hasM,i=n?3:2,o=e[0],s=wy(Math.min),a=wy(Math.max);let l,c,u,h,[p,d]=o,[f,m]=o;for(let y=0,g=e.length;y<g;y++){const t=e[y],[o,g]=t;if(p=s(p,o),d=s(d,g),f=a(f,o),m=a(m,g),n&&t.length>2){const e=t[2];l=s(l,e),u=a(u,e)}if(r&&t.length>i){const e=t[i];c=s(c,e),h=a(h,e)}}return t.xmin=p,t.ymin=d,t.xmax=f,t.ymax=m,t.spatialReference=this.spatialReference,n?(t.zmin=l,t.zmax=u):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=c,t.mmax=h):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=_e(this.points)}addPoint(e){return vy(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:_e(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new by(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],n={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(n.z=t[2],r=3),this.hasM&&(n.m=t[r]),new sd(n)}removePoint(e){if(!this._validateInputs(e))return null;const t=new sd(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(vy(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}};S([To({readOnly:!0})],xy.prototype,"cache",null),S([To()],xy.prototype,"extent",null),S([To({type:[[Number]],json:{write:{isRequired:!0}}})],xy.prototype,"points",void 0),S([su("points")],xy.prototype,"writePoints",null),xy=by=S([gs("esri.geometry.Multipoint")],xy),xy.prototype.toJSON.isDefaultToJSON=!0;const Sy=xy;function Ty(e){const t=[];for(e.reset();e.nextPath();){const n=[];for(;e.nextPoint();)n.push([e.x,e.y]);t.push(n)}return e.reset(),t}function Ey(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var My;function Ay(e,t){const n=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}return Math.sqrt(n*n+r*r)}function Iy(e,t,n){const r=e[0]+n*(t[0]-e[0]),i=e[1]+n*(t[1]-e[1]);return e.length>2&&t.length>2?[r,i,e[2]+n*(t[2]-e[2])]:[r,i]}function Cy(e,t,n,r){return Oy(e,t,n[r],n[r+1])}function Oy(e,t,n,r){const[i,o]=t,[s,a]=n,[l,c]=r,u=l-s,h=c-a,p=u*u+h*h,d=(i-s)*u+(o-a)*h,f=Math.min(1,Math.max(0,d/p));return e[0]=s+u*f,e[1]=a+h*f,e}function ky(e,t,n,r,i,o){let s=n,a=r,l=i-s,c=o-a;if(0!==l||0!==c){const n=((e-s)*l+(t-a)*c)/(l*l+c*c);n>1?(s=i,a=o):n>0&&(s+=l*n,a+=c*n)}return l=e-s,c=t-a,l*l+c*c}function Ry(e,t){return Iy(e,t,.5)}function Ly(e){const t=e.length;let n=0;for(let r=0;r<t-1;++r)n+=Ay(e[r],e[r+1]);return n}function Ny(e,t=My.X,n=My.Y){let r=0;const i=e.length;let o=e[0];for(let s=1;s<i;s++){const i=e[s];r+=(i[t]-o[t])*(i[n]+o[n]),o=i}if(!Py(e)){const i=e[0];r+=(i[t]-o[t])*(i[n]+o[n])}return r>=0}function Py(e){const t=e.length;return t<3||L(e[0],e[t-1])}function Dy(e){"rings"in e&&(Fy(e),jy(e))}function Fy(e){if(!("rings"in e))return!1;let t=!1;for(const n of e.rings)Py(n)||(n.push(n[0].slice()),t=!0);return t}function jy(e){if(!("rings"in e)||0===e.rings.length||Ny(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function Uy(e){return"polygon"!==e.type&&"polyline"!==e.type||zy("polygon"===e.type?e.rings:e.paths,e.spatialReference),e}function zy(e,t){const n=eh(t);if(!n)return;const r=n.valid[0],i=n.valid[1],o=i-r;for(const s of e){let e=1/0,t=-1/0;for(const o of s){const n=Gy(o[0],r,i);e=Math.min(e,n),t=Math.max(t,n),o[0]=n}const n=t-e;o-n<n&&s.forEach((e=>{e[0]<0&&(e[0]+=o)}))}}function Gy(e,t,n){const r=n-t;return e<t?n-(t-e)%r:e>n?t+(e-t)%r:e}function Vy(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if("point"===e.type||"mesh"===e.type||"extent"===e.type)return!0;if("multipoint"===e.type)return e.points.length===t.points.length;const[n,r]="polyline"===e.type?[e.paths,t.paths]:[e.rings,t.rings];return n.length===r.length&&n.every(((e,t)=>e.length===r[t].length))}function By(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function $y(e){return e?Hy(e.rings,e.hasZ??!1):null}function Hy(e,t){if(!e?.length)return null;const n=[],r=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let o=0,s=e.length;o<s;o++){const n=Wy(e[o],t,i);n&&r.push(n)}if(r.sort(((e,n)=>{let r=e[2]-n[2];return 0===r&&t&&(r=e[4]-n[4]),r})),r.length&&(n[0]=r[0][0],n[1]=r[0][1],t&&(n[2]=r[0][3]),(n[0]<i[0]||n[0]>i[1]||n[1]<i[2]||n[1]>i[3]||t&&(n[2]<i[4]||n[2]>i[5]))&&(n.length=0)),!n.length){const r=e[0]&&e[0].length?Zy(e[0],t):null;if(!r)return null;n[0]=r[0],n[1]=r[1],t&&r.length>2&&(n[2]=r[2])}return n}function Wy(e,t,n){let r=0,i=0,o=0,s=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const h=e[p],d=e[(p+1)%e.length],[f,m,y]=h,g=f-l,v=m-c,[b,w,_]=d,x=b-l,S=w-c,T=g*S-x*v;if(s+=T,r+=(g+x)*T,i+=(v+S)*T,t&&h.length>2&&d.length>2){const e=y-u,t=_-u,n=g*t-x*e;o+=(e+t)*n,a+=n}f<n[0]&&(n[0]=f),f>n[1]&&(n[1]=f),m<n[2]&&(n[2]=m),m>n[3]&&(n[3]=m),t&&(y<n[4]&&(n[4]=y),y>n[5]&&(n[5]=y))}if(s>0&&(s*=-1),a>0&&(a*=-1),!s)return null;s*=.5,a*=.5;const h=[r/(6*s)+l,i/(6*s)+c,s];return t&&(n[4]===n[5]||0===a?(h[3]=(n[4]+n[5])/2,h[4]=0):(h[3]=o/(6*a)+u,h[4]=a)),h}function qy(e,t){let n=0,r=0,i=0;e.nextPoint();const o=e.pathSize?e.x:0,s=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[u,h]=l,p=u-o,d=h-s,[f,m]=c,y=f-o,g=m-s,v=p*g-y*d;i+=v,n+=(p+y)*v,r+=(d+g)*v,u<t[0]&&(t[0]=u),u>t[1]&&(t[1]=u),h<t[2]&&(t[2]=h),h>t[3]&&(t[3]=h)}return i>0&&(i*=-1),i?(i*=.5,[n/(6*i)+o,r/(6*i)+s,i]):null}function Zy(e,t){const n=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let i=0,o=0,s=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const c=e[l],u=e[l+1];if(c&&u){n[0]=c[0],n[1]=c[1],r[0]=u[0],r[1]=u[1],t&&c.length>2&&u.length>2&&(n[2]=c[2],r[2]=u[2]);const e=Ay(n,r);if(e){i+=e;const n=Ry(c,u);o+=e*n[0],s+=e*n[1],t&&n.length>2&&(a+=e*n[2])}}}return i>0?t?[o/i,s/i,a/i]:[o/i,s/i]:e.length?e[0]:null}function Yy(e){const{hasZ:t,totalSize:n}=e;if(0===n)return null;const r=[],i=[],o=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const t=Wy(Ey(e),e.hasZ,o);t&&i.push(t)}if(i.sort(((e,n)=>{let r=e[2]-n[2];return 0===r&&t&&(r=e[4]-n[4]),r})),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<o[0]||r[0]>o[1]||r[1]<o[2]||r[1]>o[3]||t&&(r[2]<o[4]||r[2]>o[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const n=e.pathSize?Xy(e):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function Xy(e){const{hasZ:t}=e,n=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let i=0,o=0,s=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,u=e.z;for(;e.nextPoint();){const h=e.x,p=e.y,d=e.z;n[0]=l,n[1]=c,r[0]=h,r[1]=p,t&&(n[2]=u,r[2]=d);const f=Ay(n,r);if(f){i+=f;const e=Ry(n,r);o+=f*e[0],s+=f*e[1],t&&e.length>2&&(a+=f*e[2])}l=h,c=p,u=d}}return i>0?t?[o/i,s/i,a/i]:[o/i,s/i]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(My||(My={}));const Jy=1e-6;function Ky(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<Jy){const t=Yy(e);return t?[t[0],t[1]]:null}const n=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)eg(n,r,e);return n[0]*=1/t,n[1]*=1/t,n[0]+=r[0],n[1]+=r[1],n}const Qy=1/3;function eg(e,t,n){if(!e||!n||n.pathSize<3)return null;n.nextPoint();const r=n.x,i=n.y;n.nextPoint();let o,s=n.x-r,a=n.y-i,l=0,c=0;for(;n.nextPoint();)l=n.x-r,c=n.y-i,o=.5*Qy*(l*a-c*s),e[0]+=o*(s+l),e[1]+=o*(a+c),s=l,a=c;const u=n.getCurrentRingArea(),h=[r,i];return h[0]-=t[0],h[1]-=t[1],h[0]*=u,h[1]*=u,e[0]+=h[0],e[1]+=h[1],e}function tg(e=bg){return[e[0],e[1],e[2],e[3]]}function ng(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function rg(e,t,n,r,i=tg()){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function ig(e,t=tg()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function og(e,t){return new Gd({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function sg(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function ag(e,t,n){if(null!=t)if("length"in t)yg(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}else ng(n,e)}function lg(e){return null==e||e[0]>=e[2]?0:e[2]-e[0]}function cg(e){return null==e||e[1]>=e[3]?0:e[3]-e[1]}function ug(e){return lg(e)*cg(e)}function hg(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function pg(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function dg(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function fg(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function mg(e){return e?ng(e,vg):tg(vg)}function yg(e){return null!=e&&4===e.length}function gg(e,t){return yg(e)&&yg(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const vg=[1/0,1/0,-1/0,-1/0],bg=[0,0,0,0];function wg(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function _g(e){return void 0!==e.points}function xg(e){return void 0!==e.x&&void 0!==e.y}function Sg(e){return void 0!==e.paths}function Tg(e){return void 0!==e.rings}function Eg(e){function t(t,n){return null==t?n:null==n?t:e(t,n)}return t}const Mg=Eg(Math.min),Ag=Eg(Math.max);function Ig(e,t){return Sg(t)?Rg(e,t.paths,!1,!1):Tg(t)?Rg(e,t.rings,!1,!1):_g(t)?Ng(e,t.points,!1,!1,!1,!1):wg(t)?Lg(e,t):(xg(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function Cg(e){let t,n,r,i;for(e.reset(),t=r=1/0,n=i=-1/0;e.nextPath();){const o=Og(e);t=Math.min(o[0],t),r=Math.min(o[1],r),n=Math.max(o[2],n),i=Math.max(o[3],i)}return tg([t,r,n,i])}function Og(e){let t,n,r,i;for(t=r=1/0,n=i=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),n=Math.max(e.x,n),i=Math.max(e.y,i);return tg([t,r,n,i])}function kg(e,t){return Sg(t)?Rg(e,t.paths,!0,!1):Tg(t)?Rg(e,t.rings,!0,!1):_g(t)?Ng(e,t.points,!0,!1,!0,!1):wg(t)?Lg(e,t,!0,!1,!0,!1):(xg(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Rg(e,t,n,r){const i=n?3:2;if(!t.length||!t[0].length)return null;let o,s,a,l,[c,u]=t[0][0],[h,p]=t[0][0];for(let d=0;d<t.length;d++){const e=t[d];for(let t=0;t<e.length;t++){const d=e[t],[f,m]=d;if(c=Mg(c,f),u=Mg(u,m),h=Ag(h,f),p=Ag(p,m),n&&d.length>2){const e=d[2];o=Mg(o,e),s=Ag(s,e)}if(r&&d.length>i){const e=d[i];a=Mg(o,e),l=Ag(s,e)}}}return n?r?(e[0]=c,e[1]=u,e[2]=o,e[3]=a,e[4]=h,e[5]=p,e[6]=s,e[7]=l,e.length=8,e):(e[0]=c,e[1]=u,e[2]=o,e[3]=h,e[4]=p,e[5]=s,e.length=6,e):r?(e[0]=c,e[1]=u,e[2]=a,e[3]=h,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=u,e[2]=h,e[3]=p,e.length=4,e)}function Lg(e,t,n,r,i,o){const s=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let u=t.zmin,h=t.zmax,p=t.mmin,d=t.mmax;return i?(u=u||0,h=h||0,o?(p=p||0,d=d||0,e[0]=s,e[1]=l,e[2]=u,e[3]=p,e[4]=a,e[5]=c,e[6]=h,e[7]=d,e):(e[0]=s,e[1]=l,e[2]=u,e[3]=a,e[4]=c,e[5]=h,e)):o?(p=p||0,d=d||0,e[0]=s,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=d,e):(e[0]=s,e[1]=l,e[2]=a,e[3]=c,e)}function Ng(e,t,n,r,i,o){const s=n?3:2,a=r&&o,l=n&&i;if(!t.length||!t[0].length)return null;let c,u,h,p,[d,f]=t[0],[m,y]=t[0];for(let g=0;g<t.length;g++){const e=t[g],[n,r]=e;if(d=Mg(d,n),f=Mg(f,r),m=Ag(m,n),y=Ag(y,r),l&&e.length>2){const t=e[2];c=Mg(c,t),u=Ag(u,t)}if(a&&e.length>s){const t=e[s];h=Mg(c,t),p=Ag(u,t)}}return i?(c=c||0,u=u||0,o?(h=h||0,p=p||0,e[0]=d,e[1]=f,e[2]=c,e[3]=h,e[4]=m,e[5]=y,e[6]=u,e[7]=p,e):(e[0]=d,e[1]=f,e[2]=c,e[3]=m,e[4]=y,e[5]=u,e)):o?(h=h||0,p=p||0,e[0]=d,e[1]=f,e[2]=h,e[3]=m,e[4]=y,e[5]=p,e):(e[0]=d,e[1]=f,e[2]=m,e[3]=y,e)}function Pg(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function Dg(e){return void 0!==e.points}function Fg(e){return void 0!==e.x&&void 0!==e.y}function jg(e){return void 0!==e.paths}function Ug(e){return void 0!==e.rings}const zg=[];function Gg(e,t,n,r){return{xmin:e,ymin:t,xmax:n,ymax:r}}function Vg(e,t,n,r,i,o){return{xmin:e,ymin:t,zmin:n,xmax:r,ymax:i,zmax:o}}function Bg(e,t,n,r,i,o){return{xmin:e,ymin:t,mmin:n,xmax:r,ymax:i,mmax:o}}function $g(e,t,n,r,i,o,s,a){return{xmin:e,ymin:t,zmin:n,mmin:r,xmax:i,ymax:o,zmax:s,mmax:a}}function Hg(e,t=!1,n=!1){return t?n?$g(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Vg(e[0],e[1],e[2],e[3],e[4],e[5]):n?Bg(e[0],e[1],e[2],e[3],e[4],e[5]):Gg(e[0],e[1],e[2],e[3])}function Wg(e){return e?Pg(e)?e:Fg(e)?Zg(e):Ug(e)?Yg(e):jg(e)?Xg(e):Dg(e)?qg(e):null:null}function qg(e){const{hasZ:t,hasM:n,points:r}=e;return Hg(Ng(zg,r,t??!1,n??!1),t,n)}function Zg(e){const{x:t,y:n,z:r,m:i}=e,o=null!=i;return null!=r?o?$g(t,n,r,i,t,n,r,i):Vg(t,n,r,t,n,r):o?Bg(t,n,i,t,n,i):Gg(t,n,t,n)}function Yg(e){const{hasZ:t,hasM:n,rings:r}=e,i=Rg(zg,r,t??!1,n??!1);return i?Hg(i,t,n):null}function Xg(e){const{hasZ:t,hasM:n,paths:r}=e,i=Rg(zg,r,t??!1,n??!1);return i?Hg(i,t,n):null}var Jg;function Kg(e){return!Array.isArray(e[0])}function Qg(e){return"number"==typeof e[0]?.[0]}function ev(e){if(!e)return;let{rings:t,hasM:n,hasZ:r,spatialReference:i}=e;switch(t??=[],Qg(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=!0!==n,n??=!r;break;default:r??=!1,n??=!1}return i??=Ip.WGS84,{...e,hasM:n,hasZ:r,rings:t,spatialReference:i}}let tv=Jg=class extends kp{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:n}=e;let r=!1,i=!1;for(const s of t)s.hasZ&&(r=!0),s.hasM&&(i=!0);const o={rings:t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(r&&e.hasZ){const n=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(n)}if(i&&e.hasM){const n=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(n)}return t})),spatialReference:n};return r&&(o.hasZ=!0),i&&(o.hasM=!0),new Jg(o)}constructor(e){super(ev(e)),this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=$y(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new sd;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Yg(this);if(!t)return null;const n=new Gd(t);return n.spatialReference=e,n}get isSelfIntersecting(){return Rd(this.rings)}writeRings(e,t){t.rings=_e(this.rings)}addRing(e){if(!e)return;const t=this.rings,n=t.length;if(Kg(e)){const r=[];for(let t=0,n=e.length;t<n;t++)r[t]=e[t].toArray();t[n]=r}else t[n]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new Jg;return e.spatialReference=this.spatialReference,e.rings=_e(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,n=e.spatialReference;if(null!=t!=(null!=n)||null!=t&&null!=n&&!t.equals(n)||this.rings.length!==e.rings.length)return!1;const r=([e,t,n,r],[i,o,s,a])=>e===i&&t===o&&(null==n&&null==s||n===s)&&(null==r&&null==a||r===a);for(let i=0;i<this.rings.length;i++){const t=this.rings[i],n=e.rings[i];if(!L(t,n,r))return!1}return!0}contains(e){if(!e)return!1;const t=Wp(e,this.spatialReference);return fd(this,t??e)}isClockwise(e){const t=Kg(e)?e.map((e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])):e;return Ny(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.rings[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new sd(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new sd(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new sd(n[0],n[1],n[2],n[3],this.spatialReference):new sd(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(vy(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e].splice(t,0,n),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new sd(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],n=this.spatialReference,r=t.map((e=>new sd(e,n)));return this.notifyChange("rings"),r}setPoint(e,t,n){return this._validateInputs(e,t)?(vy(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e][t]=n,this.notifyChange("rings"),this):this}_validateInputs(e,t,n=!1){if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){const r=this.rings[e];if(n&&(t<0||t>r.length)||!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};S([To({readOnly:!0})],tv.prototype,"cache",null),S([To({readOnly:!0})],tv.prototype,"centroid",null),S([To({readOnly:!0})],tv.prototype,"extent",null),S([To({readOnly:!0})],tv.prototype,"isSelfIntersecting",null),S([To({type:[[[Number]]],json:{write:{isRequired:!0}}})],tv.prototype,"rings",void 0),S([su("rings")],tv.prototype,"writeRings",null),tv=Jg=S([gs("esri.geometry.Polygon")],tv);const nv=tv;var rv;function iv(e){return!Array.isArray(e[0])}function ov(e){return"number"==typeof e[0]?.[0]}function sv(e){if(!e)return;let{paths:t,hasM:n,hasZ:r,spatialReference:i}=e;switch(t??=[],ov(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=!0!==n,n??=!r;break;default:r??=!1,n??=!1}return i??=Ip.WGS84,{...e,hasM:n,hasZ:r,paths:t,spatialReference:i}}tv.prototype.toJSON.isDefaultToJSON=!0;let av=rv=class extends kp{constructor(e){super(sv(e)),this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Xg(this);if(!t)return null;const n=new Gd(t);return n.spatialReference=e,n}writePaths(e,t){t.paths=_e(this.paths)}addPath(e){if(!e)return;const t=this.paths,n=t.length;if(iv(e)){const r=[];for(let t=0,n=e.length;t<n;t++)r[t]=e[t].toArray();t[n]=r}else t[n]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new rv;return e.spatialReference=this.spatialReference,e.paths=_e(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.paths[e][t],r=this.hasZ,i=this.hasM;return r&&!i?new sd(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new sd(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new sd(n[0],n[1],n[2],n[3],this.spatialReference):new sd(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(vy(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e].splice(t,0,n),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],n=this.spatialReference,r=t.map((e=>new sd(e,n)));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new sd(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(e,t,n){return this._validateInputs(e,t)?(vy(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e][t]=n,this.notifyChange("paths"),this):this}_validateInputs(e,t,n=!1){if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){const r=this.paths[e];if(n&&(t<0||t>r.length)||!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};S([To({readOnly:!0})],av.prototype,"cache",null),S([To({readOnly:!0})],av.prototype,"extent",null),S([To({type:[[[Number]]],json:{write:{isRequired:!0}}})],av.prototype,"paths",void 0),S([su("paths")],av.prototype,"writePaths",null),av=rv=S([gs("esri.geometry.Polyline")],av);const lv=av;function cv(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function uv(e){return void 0!==e.points}function hv(e){return void 0!==e.x&&void 0!==e.y}function pv(e){return void 0!==e.paths}function dv(e){return void 0!==e.rings}function fv(e){return null==e?null:e instanceof kp?e:hv(e)?sd.fromJSON(e):pv(e)?lv.fromJSON(e):dv(e)?nv.fromJSON(e):uv(e)?Sy.fromJSON(e):cv(e)?Gd.fromJSON(e):null}function mv(e){return e?hv(e)?"esriGeometryPoint":pv(e)?"esriGeometryPolyline":dv(e)?"esriGeometryPolygon":cv(e)?"esriGeometryEnvelope":uv(e)?"esriGeometryMultipoint":null:null}av.prototype.toJSON.isDefaultToJSON=!0;const yv={esriGeometryPoint:sd,esriGeometryPolyline:lv,esriGeometryPolygon:nv,esriGeometryEnvelope:Gd,esriGeometryMultipoint:Sy,esriGeometryMultiPatch:nv};function gv(e){return e&&yv[e]||null}const vv=uu()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),bv=uu()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),wv={base:kp,key:"type",typeMap:{extent:Gd,multipoint:Sy,point:sd,polyline:lv,polygon:nv}};mo(wv);const _v=e=>{let t=class extends e{clone(){const e=Ct(this);ft(e,"unable to clone instance of non-accessor class");const t=e.metadata,n=e.store,r={},i=new Map;for(const s in t){const e=t[s],o=n?.originOf(s),a=e.clonable;if(e.readOnly||!1===a||o!==en.USER&&o!==en.DEFAULTS&&o!==en.WEB_MAP&&o!==en.WEB_SCENE)continue;const l=this[s];let c=null;c="function"==typeof a?a(l):"reference"===a?l:xe(l),null!=l&&null==c||(o===en.DEFAULTS?i.set(s,c):r[s]=c)}const o=new(Object.getPrototypeOf(this).constructor)(r);if(i.size){const e=Ct(o)?.store;if(e)for(const[t,n]of i)e.set(t,n,en.DEFAULTS)}return o}};return t=S([gs("esri.core.Clonable")],t),t};let xv=class extends(_v(Ms)){};async function Sv(e,t){const{WhereClause:r}=await Promise.all([n.e(413),n.e(6628)]).then(n.bind(n,10413)).then((e=>e.W));return r.create(e,{fieldsIndex:t})}function Tv(e,t){return"1=1"===e?t??e:"1=1"===t?e??t:null!=e&&""!==e?null!=t&&""!==t?`(${e}) AND (${t})`:e:t}xv=S([gs("esri.core.Clonable")],xv);const Ev=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Mv extends Error{}class Av extends Mv{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Iv extends Mv{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Cv extends Mv{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Ov extends Mv{}class kv extends Mv{constructor(e){super(`Invalid unit ${e}`)}}class Rv extends Mv{}class Lv extends Mv{constructor(){super("Zone is an abstract class")}}const Nv="numeric",Pv="short",Dv="long",Fv={year:Nv,month:Nv,day:Nv},jv={year:Nv,month:Pv,day:Nv},Uv={year:Nv,month:Pv,day:Nv,weekday:Pv},zv={year:Nv,month:Dv,day:Nv},Gv={year:Nv,month:Dv,day:Nv,weekday:Dv},Vv={hour:Nv,minute:Nv},Bv={hour:Nv,minute:Nv,second:Nv},$v={hour:Nv,minute:Nv,second:Nv,timeZoneName:Pv},Hv={hour:Nv,minute:Nv,second:Nv,timeZoneName:Dv},Wv={hour:Nv,minute:Nv,hourCycle:"h23"},qv={hour:Nv,minute:Nv,second:Nv,hourCycle:"h23"},Zv={hour:Nv,minute:Nv,second:Nv,hourCycle:"h23",timeZoneName:Pv},Yv={hour:Nv,minute:Nv,second:Nv,hourCycle:"h23",timeZoneName:Dv},Xv={year:Nv,month:Nv,day:Nv,hour:Nv,minute:Nv},Jv={year:Nv,month:Nv,day:Nv,hour:Nv,minute:Nv,second:Nv},Kv={year:Nv,month:Pv,day:Nv,hour:Nv,minute:Nv},Qv={year:Nv,month:Pv,day:Nv,hour:Nv,minute:Nv,second:Nv},eb={year:Nv,month:Pv,day:Nv,weekday:Pv,hour:Nv,minute:Nv},tb={year:Nv,month:Dv,day:Nv,hour:Nv,minute:Nv,timeZoneName:Pv},nb={year:Nv,month:Dv,day:Nv,hour:Nv,minute:Nv,second:Nv,timeZoneName:Pv},rb={year:Nv,month:Dv,day:Nv,weekday:Dv,hour:Nv,minute:Nv,timeZoneName:Dv},ib={year:Nv,month:Dv,day:Nv,weekday:Dv,hour:Nv,minute:Nv,second:Nv,timeZoneName:Dv};class ob{get type(){throw new Lv}get name(){throw new Lv}get ianaName(){return this.name}get isUniversal(){throw new Lv}offsetName(e,t){throw new Lv}formatOffset(e,t){throw new Lv}offset(e){throw new Lv}equals(e){throw new Lv}get isValid(){throw new Lv}}let sb=null;class ab extends ob{static get instance(){return null===sb&&(sb=new ab),sb}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return qw(e,t,n)}formatOffset(e,t){return Jw(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let lb={};function cb(e){return lb[e]||(lb[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),lb[e]}const ub={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hb(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,s,a,l,c,u]=r;return[s,i,o,a,l,c,u]}function pb(e,t){const n=e.formatToParts(t),r=[];for(let i=0;i<n.length;i++){const{type:e,value:t}=n[i],o=ub[e];"era"===e?r[o]=t:_w(o)||(r[o]=parseInt(t,10))}return r}let db={};class fb extends ob{static create(e){return db[e]||(db[e]=new fb(e)),db[e]}static resetCache(){db={},lb={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=fb.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return qw(e,t,n,this.name)}formatOffset(e,t){return Jw(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=cb(this.name);let[r,i,o,s,a,l,c]=n.formatToParts?pb(n,t):hb(n,t);"BC"===s&&(r=1-Math.abs(r));const u=Bw({year:r,month:i,day:o,hour:24===a?0:a,minute:l,second:c,millisecond:0});let h=+t;const p=h%1e3;return h-=p>=0?p:1e3+p,(u-h)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let mb={};function yb(e,t={}){const n=JSON.stringify([e,t]);let r=mb[n];return r||(r=new Intl.ListFormat(e,t),mb[n]=r),r}let gb={};function vb(e,t={}){const n=JSON.stringify([e,t]);let r=gb[n];return r||(r=new Intl.DateTimeFormat(e,t),gb[n]=r),r}let bb={};function wb(e,t={}){const n=JSON.stringify([e,t]);let r=bb[n];return r||(r=new Intl.NumberFormat(e,t),bb[n]=r),r}let _b={};function xb(e,t={}){const{base:n,...r}=t,i=JSON.stringify([e,r]);let o=_b[i];return o||(o=new Intl.RelativeTimeFormat(e,t),_b[i]=o),o}let Sb=null;function Tb(){return Sb||(Sb=(new Intl.DateTimeFormat).resolvedOptions().locale,Sb)}let Eb={};function Mb(e){let t=Eb[e];if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,Eb[e]=t}return t}function Ab(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(-1===n)return[e];{let t,r;try{t=vb(e).resolvedOptions(),r=e}catch{const i=e.substring(0,n);t=vb(i).resolvedOptions(),r=i}const{numberingSystem:i,calendar:o}=t;return[r,i,o]}}function Ib(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function Cb(e){const t=[];for(let n=1;n<=12;n++){const r=US.utc(2009,n,1);t.push(e(r))}return t}function Ob(e){const t=[];for(let n=1;n<=7;n++){const r=US.utc(2016,11,13+n);t.push(e(r))}return t}function kb(e,t,n,r){const i=e.listingMode();return"error"===i?null:"en"===i?n(t):r(t)}function Rb(e){return(!e.numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)}class Lb{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:i,...o}=n;if(!t||Object.keys(o).length>0){const t={useGrouping:!1,...n};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=wb(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}{const t=this.floor?Math.floor(e):Uw(e,3);return Pw(t,this.padTo)}}}class Nb{constructor(e,t,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,n=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&fb.create(n).valid?(r=n,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||r,this.dtf=vb(t,i)}format(){return this.originalZone?this.formatToParts().map((({value:e})=>e)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Pb{constructor(e,t,n){this.opts={style:"long",...n},!t&&Mw()&&(this.rtf=xb(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):y_(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Db={firstDay:1,minimalDays:4,weekend:[6,7]};class Fb{static fromOpts(e){return Fb.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,r,i=!1){const o=e||rw.defaultLocale,s=o||(i?"en-US":Tb()),a=t||rw.defaultNumberingSystem,l=n||rw.defaultOutputCalendar,c=Rw(r)||rw.defaultWeekSettings;return new Fb(s,a,l,c,o)}static resetCache(){Sb=null,gb={},bb={},_b={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:r}={}){return Fb.create(e,t,n,r)}constructor(e,t,n,r,i){const[o,s,a]=Ab(e);this.locale=o,this.numberingSystem=t||s||null,this.outputCalendar=n||a||null,this.weekSettings=r,this.intl=Ib(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=Rb(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?Fb.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Rw(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return kb(this,e,n_,(()=>{const n=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=Cb((e=>this.extract(e,n,"month")))),this.monthsCache[r][e]}))}weekdays(e,t=!1){return kb(this,e,s_,(()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=Ob((e=>this.extract(e,n,"weekday")))),this.weekdaysCache[r][e]}))}meridiems(){return kb(this,void 0,(()=>a_),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[US.utc(2016,11,13,9),US.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return kb(this,e,h_,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[US.utc(-40,1,1),US.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,n){const r=this.dtFormatter(e,t),i=r.formatToParts(),o=i.find((e=>e.type.toLowerCase()===n));return o?o.value:null}numberFormatter(e={}){return new Lb(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Nb(e,this.intl,t)}relFormatter(e={}){return new Pb(this.intl,this.isEnglish(),e)}listFormatter(e={}){return yb(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Aw()?Mb(this.locale):Db}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let jb=null;class Ub extends ob{static get utcInstance(){return null===jb&&(jb=new Ub(0)),jb}static instance(e){return 0===e?Ub.utcInstance:new Ub(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Ub(Zw(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Jw(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Jw(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Jw(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class zb extends ob{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Gb(e,t){if(_w(e)||null===e)return t;if(e instanceof ob)return e;if(Tw(e)){const n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?ab.instance:"utc"===n||"gmt"===n?Ub.utcInstance:Ub.parseSpecifier(n)||fb.create(e)}return xw(e)?Ub.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new zb(e)}const Vb={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Bb={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},$b=Vb.hanidec.replace(/[\[|\]]/g,"").split("");function Hb(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(Vb.hanidec))t+=$b.indexOf(e[n]);else for(const e in Bb){const[n,i]=Bb[e];r>=n&&r<=i&&(t+=r-n)}}return parseInt(t,10)}return t}let Wb={};function qb(){Wb={}}function Zb({numberingSystem:e},t=""){const n=e||"latn";return Wb[n]||(Wb[n]={}),Wb[n][t]||(Wb[n][t]=new RegExp(`${Vb[n]}${t}`)),Wb[n][t]}let Yb,Xb=()=>Date.now(),Jb="system",Kb=null,Qb=null,ew=null,tw=60,nw=null;class rw{static get now(){return Xb}static set now(e){Xb=e}static set defaultZone(e){Jb=e}static get defaultZone(){return Gb(Jb,ab.instance)}static get defaultLocale(){return Kb}static set defaultLocale(e){Kb=e}static get defaultNumberingSystem(){return Qb}static set defaultNumberingSystem(e){Qb=e}static get defaultOutputCalendar(){return ew}static set defaultOutputCalendar(e){ew=e}static get defaultWeekSettings(){return nw}static set defaultWeekSettings(e){nw=Rw(e)}static get twoDigitCutoffYear(){return tw}static set twoDigitCutoffYear(e){tw=e%100}static get throwOnInvalid(){return Yb}static set throwOnInvalid(e){Yb=e}static resetCaches(){Fb.resetCache(),fb.resetCache(),US.resetCache(),qb()}}class iw{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const ow=[0,31,59,90,120,151,181,212,243,273,304,334],sw=[0,31,60,91,121,152,182,213,244,274,305,335];function aw(e,t){return new iw("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function lw(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return 0===i?7:i}function cw(e,t,n){return n+(zw(e)?sw:ow)[t-1]}function uw(e,t){const n=zw(e)?sw:ow,r=n.findIndex((e=>e<t)),i=t-n[r];return{month:r+1,day:i}}function hw(e,t){return(e-t+7)%7+1}function pw(e,t=4,n=1){const{year:r,month:i,day:o}=e,s=cw(r,i,o),a=hw(lw(r,i,o),n);let l,c=Math.floor((s-a+14-t)/7);return c<1?(l=r-1,c=Hw(l,t,n)):c>Hw(r,t,n)?(l=r+1,c=1):l=r,{weekYear:l,weekNumber:c,weekday:a,...Kw(e)}}function dw(e,t=4,n=1){const{weekYear:r,weekNumber:i,weekday:o}=e,s=hw(lw(r,1,t),n),a=Gw(r);let l,c=7*i+o-s-7+t;c<1?(l=r-1,c+=Gw(l)):c>a?(l=r+1,c-=Gw(r)):l=r;const{month:u,day:h}=uw(l,c);return{year:l,month:u,day:h,...Kw(e)}}function fw(e){const{year:t,month:n,day:r}=e,i=cw(t,n,r);return{year:t,ordinal:i,...Kw(e)}}function mw(e){const{year:t,ordinal:n}=e,{month:r,day:i}=uw(t,n);return{year:t,month:r,day:i,...Kw(e)}}function yw(e,t){if(_w(e.localWeekday)&&_w(e.localWeekNumber)&&_w(e.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!_w(e.weekday)||!_w(e.weekNumber)||!_w(e.weekYear))throw new Ov("Cannot mix locale-based week fields with ISO-based week fields");return _w(e.localWeekday)||(e.weekday=e.localWeekday),_w(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),_w(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}function gw(e,t=4,n=1){const r=Sw(e.weekYear),i=Lw(e.weekNumber,1,Hw(e.weekYear,t,n)),o=Lw(e.weekday,1,7);return r?i?!o&&aw("weekday",e.weekday):aw("week",e.weekNumber):aw("weekYear",e.weekYear)}function vw(e){const t=Sw(e.year),n=Lw(e.ordinal,1,Gw(e.year));return t?!n&&aw("ordinal",e.ordinal):aw("year",e.year)}function bw(e){const t=Sw(e.year),n=Lw(e.month,1,12),r=Lw(e.day,1,Vw(e.year,e.month));return t?n?!r&&aw("day",e.day):aw("month",e.month):aw("year",e.year)}function ww(e){const{hour:t,minute:n,second:r,millisecond:i}=e,o=Lw(t,0,23)||24===t&&0===n&&0===r&&0===i,s=Lw(n,0,59),a=Lw(r,0,59),l=Lw(i,0,999);return o?s?a?!l&&aw("millisecond",i):aw("second",r):aw("minute",n):aw("hour",t)}function _w(e){return typeof e>"u"}function xw(e){return"number"==typeof e}function Sw(e){return"number"==typeof e&&e%1===0}function Tw(e){return"string"==typeof e}function Ew(e){return"[object Date]"===Object.prototype.toString.call(e)}function Mw(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Aw(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Iw(e){return Array.isArray(e)?e:[e]}function Cw(e,t,n){if(0!==e.length)return e.reduce(((e,r)=>{const i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function Ow(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function kw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rw(e){if(null==e)return null;if("object"!=typeof e)throw new Rv("Week settings must be an object");if(!Lw(e.firstDay,1,7)||!Lw(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!Lw(e,1,7))))throw new Rv("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Lw(e,t,n){return Sw(e)&&e>=t&&e<=n}function Nw(e,t){return e-t*Math.floor(e/t)}function Pw(e,t=2){const n=e<0;let r;return r=n?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),r}function Dw(e){if(!_w(e)&&null!==e&&""!==e)return parseInt(e,10)}function Fw(e){if(!_w(e)&&null!==e&&""!==e)return parseFloat(e)}function jw(e){if(!_w(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Uw(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function zw(e){return e%4===0&&(e%100!==0||e%400===0)}function Gw(e){return zw(e)?366:365}function Vw(e,t){const n=Nw(t-1,12)+1,r=e+(t-n)/12;return 2===n?zw(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Bw(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function $w(e,t,n){return-hw(lw(e,1,t),n)+t-1}function Hw(e,t=4,n=1){const r=$w(e,t,n),i=$w(e+1,t,n);return(Gw(e)-r+i)/7}function Ww(e){return e>99?e:e>rw.twoDigitCutoffYear?1900+e:2e3+e}function qw(e,t,n,r=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(n,s).formatToParts(i).find((e=>"timezonename"===e.type.toLowerCase()));return a?a.value:null}function Zw(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,i=n<0||Object.is(n,-0)?-r:r;return 60*n+i}function Yw(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new Rv(`Invalid unit value ${e}`);return t}function Xw(e,t){const n={};for(const r in e)if(kw(e,r)){const i=e[r];if(null==i)continue;n[t(r)]=Yw(i)}return n}function Jw(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${Pw(n,2)}:${Pw(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Pw(n,2)}${Pw(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Kw(e){return Ow(e,["hour","minute","second","millisecond"])}const Qw=["January","February","March","April","May","June","July","August","September","October","November","December"],e_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t_=["J","F","M","A","M","J","J","A","S","O","N","D"];function n_(e){switch(e){case"narrow":return[...t_];case"short":return[...e_];case"long":return[...Qw];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const r_=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],i_=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o_=["M","T","W","T","F","S","S"];function s_(e){switch(e){case"narrow":return[...o_];case"short":return[...i_];case"long":return[...r_];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const a_=["AM","PM"],l_=["Before Christ","Anno Domini"],c_=["BC","AD"],u_=["B","A"];function h_(e){switch(e){case"narrow":return[...u_];case"short":return[...c_];case"long":return[...l_];default:return null}}function p_(e){return a_[e.hour<12?0:1]}function d_(e,t){return s_(t)[e.weekday-1]}function f_(e,t){return n_(t)[e.month-1]}function m_(e,t){return h_(t)[e.year<0?0:1]}function y_(e,t,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&o){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${i[e][0]}`;case-1:return n?"yesterday":`last ${i[e][0]}`;case 0:return n?"today":`this ${i[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),l=1===a,c=i[e],u=r?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return s?`${a} ${u} ago`:`in ${a} ${u}`}function g_(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const v_={D:Fv,DD:jv,DDD:zv,DDDD:Gv,t:Vv,tt:Bv,ttt:$v,tttt:Hv,T:Wv,TT:qv,TTT:Zv,TTTT:Yv,f:Xv,ff:Kv,fff:tb,ffff:rb,F:Jv,FF:Qv,FFF:nb,FFFF:ib};class b_{static create(e,t={}){return new b_(e,t)}static parseFormat(e){let t=null,n="",r=!1;const i=[];for(let o=0;o<e.length;o++){const s=e.charAt(o);"'"===s?(n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),t=null,n="",r=!r):r||s===t?n+=s:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=s,t=s)}return n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return v_[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Pw(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,i=(t,n)=>this.loc.extract(e,t,n),o=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=()=>n?p_(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(t,r)=>n?f_(e,t):i(r?{month:t}:{month:t,day:"numeric"},"month"),l=(t,r)=>n?d_(e,t):i(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const n=b_.macroTokenToFormatOpts(t);return n?this.formatWithSystemDefault(e,n):t},u=t=>n?m_(e,t):i({era:t},"era"),h=t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return r?i({day:"numeric"},"day"):this.num(e.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(e.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(e.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}};return g_(b_.parseFormat(t),h)}formatDurationFromString(e,t){const n=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=e=>t=>{const r=n(t);return r?this.num(e.get(r),t.length):t},i=b_.parseFormat(t),o=i.reduce(((e,{literal:t,val:n})=>t?e:e.concat(n)),[]),s=e.shiftTo(...o.map(n).filter((e=>e)));return g_(i,r(s))}}const w_=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function __(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function x_(...e){return t=>e.reduce((([e,n,r],i)=>{const[o,s,a]=i(t,r);return[{...e,...o},s||n,a]}),[{},null,1]).slice(0,2)}function S_(e,...t){if(null==e)return[null,null];for(const[n,r]of t){const t=n.exec(e);if(t)return r(t)}return[null,null]}function T_(...e){return(t,n)=>{const r={};let i;for(i=0;i<e.length;i++)r[e[i]]=Dw(t[n+i]);return[r,null,n+i]}}const E_=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,M_=`(?:${E_.source}?(?:\\[(${w_.source})\\])?)?`,A_=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,I_=RegExp(`${A_.source}${M_}`),C_=RegExp(`(?:T${I_.source})?`),O_=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,k_=/(\d{4})-?W(\d\d)(?:-?(\d))?/,R_=/(\d{4})-?(\d{3})/,L_=T_("weekYear","weekNumber","weekDay"),N_=T_("year","ordinal"),P_=/(\d{4})-(\d\d)-(\d\d)/,D_=RegExp(`${A_.source} ?(?:${E_.source}|(${w_.source}))?`),F_=RegExp(`(?: ${D_.source})?`);function j_(e,t,n){const r=e[t];return _w(r)?n:Dw(r)}function U_(e,t){return[{year:j_(e,t),month:j_(e,t+1,1),day:j_(e,t+2,1)},null,t+3]}function z_(e,t){return[{hours:j_(e,t,0),minutes:j_(e,t+1,0),seconds:j_(e,t+2,0),milliseconds:jw(e[t+3])},null,t+4]}function G_(e,t){const n=!e[t]&&!e[t+1],r=Zw(e[t+1],e[t+2]),i=n?null:Ub.instance(r);return[{},i,t+3]}function V_(e,t){const n=e[t]?fb.create(e[t]):null;return[{},n,t+1]}const B_=RegExp(`^T?${A_.source}$`),$_=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function H_(e){const[t,n,r,i,o,s,a,l,c]=e,u="-"===t[0],h=l&&"-"===l[0],p=(e,t=!1)=>void 0!==e&&(t||e&&u)?-e:e;return[{years:p(Fw(n)),months:p(Fw(r)),weeks:p(Fw(i)),days:p(Fw(o)),hours:p(Fw(s)),minutes:p(Fw(a)),seconds:p(Fw(l),"-0"===l),milliseconds:p(jw(c),h)}]}const W_={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function q_(e,t,n,r,i,o,s){const a={year:2===t.length?Ww(Dw(t)):Dw(t),month:e_.indexOf(n)+1,day:Dw(r),hour:Dw(i),minute:Dw(o)};return s&&(a.second=Dw(s)),e&&(a.weekday=e.length>3?r_.indexOf(e)+1:i_.indexOf(e)+1),a}const Z_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Y_(e){const[,t,n,r,i,o,s,a,l,c,u,h]=e,p=q_(t,i,r,n,o,s,a);let d;return d=l?W_[l]:c?0:Zw(u,h),[p,new Ub(d)]}function X_(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const J_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,K_=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Q_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ex(e){const[,t,n,r,i,o,s,a]=e;return[q_(t,i,r,n,o,s,a),Ub.utcInstance]}function tx(e){const[,t,n,r,i,o,s,a]=e;return[q_(t,a,n,r,i,o,s),Ub.utcInstance]}const nx=__(O_,C_),rx=__(k_,C_),ix=__(R_,C_),ox=__(I_),sx=x_(U_,z_,G_,V_),ax=x_(L_,z_,G_,V_),lx=x_(N_,z_,G_,V_),cx=x_(z_,G_,V_);function ux(e){return S_(e,[nx,sx],[rx,ax],[ix,lx],[ox,cx])}function hx(e){return S_(X_(e),[Z_,Y_])}function px(e){return S_(e,[J_,ex],[K_,ex],[Q_,tx])}function dx(e){return S_(e,[$_,H_])}const fx=x_(z_);function mx(e){return S_(e,[B_,fx])}const yx=__(P_,F_),gx=__(D_),vx=x_(z_,G_,V_);function bx(e){return S_(e,[yx,sx],[gx,vx])}const wx="Invalid Duration",_x={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},xx={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},..._x},Sx=365.2425,Tx=30.436875,Ex={years:{quarters:4,months:12,weeks:Sx/7,days:Sx,hours:24*Sx,minutes:24*Sx*60,seconds:24*Sx*60*60,milliseconds:24*Sx*60*60*1e3},quarters:{months:3,weeks:Sx/28,days:Sx/4,hours:24*Sx/4,minutes:24*Sx*60/4,seconds:24*Sx*60*60/4,milliseconds:24*Sx*60*60*1e3/4},months:{weeks:Tx/7,days:Tx,hours:24*Tx,minutes:24*Tx*60,seconds:24*Tx*60*60,milliseconds:24*Tx*60*60*1e3},..._x},Mx=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ax=Mx.slice(0).reverse();function Ix(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Rx(r)}function Cx(e,t){let n=t.milliseconds??0;for(const r of Ax.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function Ox(e,t){const n=Cx(e,t)<0?-1:1;Mx.reduceRight(((r,i)=>{if(_w(t[i]))return r;if(r){const o=t[r]*n,s=e[i][r],a=Math.floor(o/s);t[i]+=a*n,t[r]-=a*s*n}return i}),null),Mx.reduce(((n,r)=>{if(_w(t[r]))return n;if(n){const i=t[n]%1;t[n]-=i,t[r]+=i*e[n][r]}return r}),null)}function kx(e){const t={};for(const[n,r]of Object.entries(e))0!==r&&(t[n]=r);return t}class Rx{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let n=t?Ex:xx;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Fb.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return Rx.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new Rv("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new Rx({values:Xw(e,Rx.normalizeUnit),loc:Fb.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(xw(e))return Rx.fromMillis(e);if(Rx.isDuration(e))return e;if("object"==typeof e)return Rx.fromObject(e);throw new Rv(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=dx(e);return n?Rx.fromObject(n,t):Rx.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=mx(e);return n?Rx.fromObject(n,t):Rx.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Rv("need to specify a reason the Duration is invalid");const n=e instanceof iw?e:new iw(e,t);if(rw.throwOnInvalid)throw new Cv(n);return new Rx({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new kv(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?b_.create(this.loc,n).formatDurationFromString(this,e):wx}toHuman(e={}){if(!this.isValid)return wx;const t=Mx.map((t=>{const n=this.values[t];return _w(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(n)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(e+=Uw(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},US.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Cx(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Rx.fromDurationLike(e),n={};for(const r of Mx)(kw(t.values,r)||kw(this.values,r))&&(n[r]=t.get(r)+this.get(r));return Ix(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=Rx.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Yw(e(this.values[n],n));return Ix(this,{values:t},!0)}get(e){return this[Rx.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Xw(e,Rx.normalizeUnit)};return Ix(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:r}={}){const i={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:n};return Ix(this,i)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Ox(this.matrix,e),Ix(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=kx(this.normalize().shiftToAll().toObject());return Ix(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>Rx.normalizeUnit(e)));const t={},n={},r=this.toObject();let i;for(const o of Mx)if(e.indexOf(o)>=0){i=o;let e=0;for(const t in n)e+=this.matrix[t][o]*n[t],n[t]=0;xw(r[o])&&(e+=r[o]);const s=Math.trunc(e);t[o]=s,n[o]=(1e3*e-1e3*s)/1e3}else xw(r[o])&&(n[o]=r[o]);for(const o in n)0!==n[o]&&(t[i]+=o===i?n[o]:n[o]/this.matrix[i][o]);return Ox(this.matrix,t),Ix(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return Ix(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(e,t){return void 0===e||0===e?void 0===t||0===t:e===t}for(const n of Mx)if(!t(this.values[n],e.values[n]))return!1;return!0}}const Lx="Invalid Interval";function Nx(e,t){return e&&e.isValid?t&&t.isValid?t<e?Px.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:Px.invalid("missing or invalid end"):Px.invalid("missing or invalid start")}class Px{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Rv("need to specify a reason the Interval is invalid");const n=e instanceof iw?e:new iw(e,t);if(rw.throwOnInvalid)throw new Iv(n);return new Px({invalid:n})}static fromDateTimes(e,t){const n=zS(e),r=zS(t);return Nx(n,r)??new Px({start:n,end:r})}static after(e,t){const n=Rx.fromDurationLike(t),r=zS(e);return Px.fromDateTimes(r,r.plus(n))}static before(e,t){const n=Rx.fromDurationLike(t),r=zS(e);return Px.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let e,i,o,s;try{e=US.fromISO(n,t),i=e.isValid}catch{i=!1}try{o=US.fromISO(r,t),s=o.isValid}catch{s=!1}if(i&&s)return Px.fromDateTimes(e,o);if(i){const n=Rx.fromISO(r,t);if(n.isValid)return Px.after(e,n)}else if(s){const e=Rx.fromISO(n,t);if(e.isValid)return Px.before(o,e)}}return Px.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let r;return r=t?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set({start:e,end:t}={}){return this.isValid?Px.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(zS).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),n=[];let{s:r}=this,i=0;for(;r<this.e;){const e=t[i]||this.e,o=+e>+this.e?this.e:e;n.push(Px.fromDateTimes(r,o)),r=o,i+=1}return n}splitBy(e){const t=Rx.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let n,{s:r}=this,i=1;const o=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits((e=>e*i)));n=+e>+this.e?this.e:e,o.push(Px.fromDateTimes(r,n)),r=n,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:Px.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return Px.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],n)=>t?t.overlaps(n)||t.abutsStart(n)?[e,t.union(n)]:[e.concat([t]),n]:[e,n]),[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],i=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),o=Array.prototype.concat(...i),s=o.sort(((e,t)=>e.time-t.time));for(const a of s)n+="s"===a.type?1:-1,1===n?t=a.time:(t&&+t!=+a.time&&r.push(Px.fromDateTimes(t,a.time)),t=null);return Px.merge(r)}difference(...e){return Px.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Lx}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Fv,t={}){return this.isValid?b_.create(this.s.loc.clone(t),e).formatInterval(this):Lx}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Lx}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Lx}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Lx}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Lx}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Rx.invalid(this.invalidReason)}mapEndpoints(e){return Px.fromDateTimes(e(this.s),e(this.e))}}class Dx{static hasDST(e=rw.defaultZone){const t=US.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return fb.isValidZone(e)}static normalizeZone(e){return Gb(e,rw.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||Fb.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||Fb.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||Fb.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||Fb.create(t,n,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||Fb.create(t,n,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Fb.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Fb.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Fb.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Fb.create(t,null,"gregory").eras(e)}static features(){return{relative:Mw(),localeWeek:Aw()}}}function Fx(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(Rx.fromMillis(r).as("days"))}function jx(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=Fx(e,t);return(n-n%7)/7}],["days",Fx]],i={},o=e;let s,a;for(const[l,c]of r)n.indexOf(l)>=0&&(s=l,i[l]=c(e,t),a=o.plus(i),a>t?(i[l]--,e=o.plus(i),e>t&&(a=e,i[l]--,e=o.plus(i))):e=a);return[e,i,a,s]}function Ux(e,t,n,r){let[i,o,s,a]=jx(e,t,n);const l=t-i,c=n.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(s<t&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+l/(s-i)));const u=Rx.fromObject(o,r);return c.length>0?Rx.fromMillis(l,r).shiftTo(...c).plus(u):u}const zx="missing Intl.DateTimeFormat.formatToParts support";function Gx(e,t=e=>e){return{regex:e,deser:([e])=>t(Hb(e))}}const Vx=" ",Bx=`[ ${Vx}]`,$x=new RegExp(Bx,"g");function Hx(e){return e.replace(/\./g,"\\.?").replace($x,Bx)}function Wx(e){return e.replace(/\./g,"").replace($x," ").toLowerCase()}function qx(e,t){return null===e?null:{regex:RegExp(e.map(Hx).join("|")),deser:([n])=>e.findIndex((e=>Wx(n)===Wx(e)))+t}}function Zx(e,t){return{regex:e,deser:([,e,t])=>Zw(e,t),groups:t}}function Yx(e){return{regex:e,deser:([e])=>e}}function Xx(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Jx(e,t){const n=Zb(t),r=Zb(t,"{2}"),i=Zb(t,"{3}"),o=Zb(t,"{4}"),s=Zb(t,"{6}"),a=Zb(t,"{1,2}"),l=Zb(t,"{1,3}"),c=Zb(t,"{1,6}"),u=Zb(t,"{1,9}"),h=Zb(t,"{2,4}"),p=Zb(t,"{4,6}"),d=e=>({regex:RegExp(Xx(e.val)),deser:([e])=>e,literal:!0}),f=(f=>{if(e.literal)return d(f);switch(f.val){case"G":return qx(t.eras("short"),0);case"GG":return qx(t.eras("long"),0);case"y":return Gx(c);case"yy":return Gx(h,Ww);case"yyyy":return Gx(o);case"yyyyy":return Gx(p);case"yyyyyy":return Gx(s);case"M":return Gx(a);case"MM":return Gx(r);case"MMM":return qx(t.months("short",!0),1);case"MMMM":return qx(t.months("long",!0),1);case"L":return Gx(a);case"LL":return Gx(r);case"LLL":return qx(t.months("short",!1),1);case"LLLL":return qx(t.months("long",!1),1);case"d":return Gx(a);case"dd":return Gx(r);case"o":return Gx(l);case"ooo":return Gx(i);case"HH":return Gx(r);case"H":return Gx(a);case"hh":return Gx(r);case"h":return Gx(a);case"mm":return Gx(r);case"m":return Gx(a);case"q":return Gx(a);case"qq":return Gx(r);case"s":return Gx(a);case"ss":return Gx(r);case"S":return Gx(l);case"SSS":return Gx(i);case"u":return Yx(u);case"uu":return Yx(a);case"uuu":return Gx(n);case"a":return qx(t.meridiems(),0);case"kkkk":return Gx(o);case"kk":return Gx(h,Ww);case"W":return Gx(a);case"WW":return Gx(r);case"E":case"c":return Gx(n);case"EEE":return qx(t.weekdays("short",!1),1);case"EEEE":return qx(t.weekdays("long",!1),1);case"ccc":return qx(t.weekdays("short",!0),1);case"cccc":return qx(t.weekdays("long",!0),1);case"Z":case"ZZ":return Zx(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return Zx(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return Yx(/[a-z_+-/]{1,256}?/i);case" ":return Yx(/[^\S\n\r]/);default:return d(f)}})(e)||{invalidReason:zx};return f.token=e,f}const Kx={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Qx(e,t,n){const{type:r,value:i}=e;if("literal"===r){const e=/^\s+$/.test(i);return{literal:!e,val:e?" ":i}}const o=t[r];let s=r;"hour"===r&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");let a=Kx[s];if("object"==typeof a&&(a=a[o]),a)return{literal:!1,val:a}}function eS(e){return[`^${e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,e]}function tS(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const i in n)if(kw(n,i)){const o=n[i],s=o.groups?o.groups+1:1;!o.literal&&o.token&&(e[o.token.val[0]]=o.deser(r.slice(t,t+s))),t+=s}return[r,e]}return[r,{}]}function nS(e){const t=e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n,r=null;return _w(e.z)||(r=fb.create(e.z)),_w(e.Z)||(r||(r=new Ub(e.Z)),n=e.Z),_w(e.q)||(e.M=3*(e.q-1)+1),_w(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),_w(e.u)||(e.S=jw(e.u)),[Object.keys(e).reduce(((n,r)=>{const i=t(r);return i&&(n[i]=e[r]),n}),{}),r,n]}let rS=null;function iS(){return rS||(rS=US.fromMillis(1555555555555)),rS}function oS(e,t){if(e.literal)return e;const n=b_.macroTokenToFormatOpts(e.val),r=uS(n,t);return null==r||r.includes(void 0)?e:r}function sS(e,t){return Array.prototype.concat(...e.map((e=>oS(e,t))))}class aS{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=sS(b_.parseFormat(t),e),this.units=this.tokens.map((t=>Jx(t,e))),this.disqualifyingUnit=this.units.find((e=>e.invalidReason)),!this.disqualifyingUnit){const[e,t]=eS(this.units);this.regex=RegExp(e,"i"),this.handlers=t}}explainFromTokens(e){if(this.isValid){const[t,n]=tS(e,this.regex,this.handlers),[r,i,o]=n?nS(n):[null,null,void 0];if(kw(n,"a")&&kw(n,"H"))throw new Ov("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:r,zone:i,specificOffset:o}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function lS(e,t,n){return new aS(e,n).explainFromTokens(t)}function cS(e,t,n){const{result:r,zone:i,specificOffset:o,invalidReason:s}=lS(e,t,n);return[r,i,o,s]}function uS(e,t){if(!e)return null;const n=b_.create(t,e).dtFormatter(iS()),r=n.formatToParts(),i=n.resolvedOptions();return r.map((t=>Qx(t,e,i)))}const hS="Invalid DateTime",pS=864e13;function dS(e){return new iw("unsupported zone",`the zone "${e.name}" is not supported`)}function fS(e){return null===e.weekData&&(e.weekData=pw(e.c)),e.weekData}function mS(e){return null===e.localWeekData&&(e.localWeekData=pw(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function yS(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new US({...n,...t,old:n})}function gS(e,t,n){let r=e-60*t*1e3;const i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;const o=n.offset(r);return i===o?[r,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}function vS(e,t){e+=60*t*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function bS(e,t,n){return gS(Bw(e),t,n)}function wS(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o={...e.c,year:r,month:i,day:Math.min(e.c.day,Vw(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=Rx.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Bw(o);let[l,c]=gS(a,n,e.zone);return 0!==s&&(l+=s,c=e.zone.offset(l)),{ts:l,o:c}}function _S(e,t,n,r,i,o){const{setZone:s,zone:a}=n;if(e&&0!==Object.keys(e).length||t){const r=t||a,i=US.fromObject(e,{...n,zone:r,specificOffset:o});return s?i:i.setZone(a)}return US.invalid(new iw("unparsable",`the input "${i}" can't be parsed as ${r}`))}function xS(e,t,n=!0){return e.isValid?b_.create(Fb.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function SS(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=Pw(e.c.year,n?6:4),t?(r+="-",r+=Pw(e.c.month),r+="-",r+=Pw(e.c.day)):(r+=Pw(e.c.month),r+=Pw(e.c.day)),r}function TS(e,t,n,r,i,o){let s=Pw(e.c.hour);return t?(s+=":",s+=Pw(e.c.minute),(0!==e.c.millisecond||0!==e.c.second||!n)&&(s+=":")):s+=Pw(e.c.minute),(0!==e.c.millisecond||0!==e.c.second||!n)&&(s+=Pw(e.c.second),(0!==e.c.millisecond||!r)&&(s+=".",s+=Pw(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!o?s+="Z":e.o<0?(s+="-",s+=Pw(Math.trunc(-e.o/60)),s+=":",s+=Pw(Math.trunc(-e.o%60))):(s+="+",s+=Pw(Math.trunc(e.o/60)),s+=":",s+=Pw(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}const ES={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},MS={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},AS={ordinal:1,hour:0,minute:0,second:0,millisecond:0},IS=["year","month","day","hour","minute","second","millisecond"],CS=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],OS=["year","ordinal","hour","minute","second","millisecond"];function kS(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new kv(e);return t}function RS(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return kS(e)}}function LS(e){return jS[e]||(void 0===FS&&(FS=rw.now()),jS[e]=e.offset(FS)),jS[e]}function NS(e,t){const n=Gb(t.zone,rw.defaultZone);if(!n.isValid)return US.invalid(dS(n));const r=Fb.fromObject(t);let i,o;if(_w(e.year))i=rw.now();else{for(const n of IS)_w(e[n])&&(e[n]=ES[n]);const t=bw(e)||ww(e);if(t)return US.invalid(t);const r=LS(n);[i,o]=bS(e,r,n)}return new US({ts:i,zone:n,loc:r,o:o})}function PS(e,t,n){const r=!!_w(n.round)||n.round,i=(e,i)=>(e=Uw(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,i)),o=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return i(o(n.unit),n.unit);for(const s of n.units){const e=o(s);if(Math.abs(e)>=1)return i(e,s)}return i(e>t?-0:0,n.units[n.units.length-1])}function DS(e){let t,n={};return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}let FS,jS={};class US{constructor(e){const t=e.zone||rw.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new iw("invalid input"):null)||(t.isValid?null:dS(t));this.ts=_w(e.ts)?rw.now():e.ts;let r=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,i]=[e.old.c,e.old.o];else{const o=xw(e.o)&&!e.old?e.o:t.offset(this.ts);r=vS(this.ts,o),n=Number.isNaN(r.year)?new iw("invalid input"):null,r=n?null:r,i=n?null:o}this._zone=t,this.loc=e.loc||Fb.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new US({})}static local(){const[e,t]=DS(arguments),[n,r,i,o,s,a,l]=t;return NS({year:n,month:r,day:i,hour:o,minute:s,second:a,millisecond:l},e)}static utc(){const[e,t]=DS(arguments),[n,r,i,o,s,a,l]=t;return e.zone=Ub.utcInstance,NS({year:n,month:r,day:i,hour:o,minute:s,second:a,millisecond:l},e)}static fromJSDate(e,t={}){const n=Ew(e)?e.valueOf():NaN;if(Number.isNaN(n))return US.invalid("invalid input");const r=Gb(t.zone,rw.defaultZone);return r.isValid?new US({ts:n,zone:r,loc:Fb.fromObject(t)}):US.invalid(dS(r))}static fromMillis(e,t={}){if(xw(e))return e<-pS||e>pS?US.invalid("Timestamp out of range"):new US({ts:e,zone:Gb(t.zone,rw.defaultZone),loc:Fb.fromObject(t)});throw new Rv(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(xw(e))return new US({ts:1e3*e,zone:Gb(t.zone,rw.defaultZone),loc:Fb.fromObject(t)});throw new Rv("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=Gb(t.zone,rw.defaultZone);if(!n.isValid)return US.invalid(dS(n));const r=Fb.fromObject(t),i=Xw(e,RS),{minDaysInFirstWeek:o,startOfWeek:s}=yw(i,r),a=rw.now(),l=_w(t.specificOffset)?n.offset(a):t.specificOffset,c=!_w(i.ordinal),u=!_w(i.year),h=!_w(i.month)||!_w(i.day),p=u||h,d=i.weekYear||i.weekNumber;if((p||c)&&d)throw new Ov("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&c)throw new Ov("Can't mix ordinal dates with month/day");const f=d||i.weekday&&!p;let m,y,g=vS(a,l);f?(m=CS,y=MS,g=pw(g,o,s)):c?(m=OS,y=AS,g=fw(g)):(m=IS,y=ES);let v=!1;for(const E of m){const e=i[E];_w(e)?i[E]=v?y[E]:g[E]:v=!0}const b=f?gw(i,o,s):c?vw(i):bw(i),w=b||ww(i);if(w)return US.invalid(w);const _=f?dw(i,o,s):c?mw(i):i,[x,S]=bS(_,l,n),T=new US({ts:x,zone:n,o:S,loc:r});return i.weekday&&p&&e.weekday!==T.weekday?US.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${T.toISO()}`):T.isValid?T:US.invalid(T.invalid)}static fromISO(e,t={}){const[n,r]=ux(e);return _S(n,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,r]=hx(e);return _S(n,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,r]=px(e);return _S(n,r,t,"HTTP",t)}static fromFormat(e,t,n={}){if(_w(e)||_w(t))throw new Rv("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=n,o=Fb.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[s,a,l,c]=cS(o,e,t);return c?US.invalid(c):_S(s,a,n,`format ${t}`,e,l)}static fromString(e,t,n={}){return US.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,r]=bx(e);return _S(n,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Rv("need to specify a reason the DateTime is invalid");const n=e instanceof iw?e:new iw(e,t);if(rw.throwOnInvalid)throw new Av(n);return new US({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=uS(e,Fb.fromObject(t));return n?n.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return sS(b_.parseFormat(e),Fb.fromObject(t)).map((e=>e.val)).join("")}static resetCache(){FS=void 0,jS={}}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?fS(this).weekYear:NaN}get weekNumber(){return this.isValid?fS(this).weekNumber:NaN}get weekday(){return this.isValid?fS(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?mS(this).weekday:NaN}get localWeekNumber(){return this.isValid?mS(this).weekNumber:NaN}get localWeekYear(){return this.isValid?mS(this).weekYear:NaN}get ordinal(){return this.isValid?fw(this.c).ordinal:NaN}get monthShort(){return this.isValid?Dx.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Dx.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Dx.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Dx.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=Bw(this.c),r=this.zone.offset(n-e),i=this.zone.offset(n+e),o=this.zone.offset(n-r*t),s=this.zone.offset(n-i*t);if(o===s)return[this];const a=n-o*t,l=n-s*t,c=vS(a,o),u=vS(l,s);return c.hour===u.hour&&c.minute===u.minute&&c.second===u.second&&c.millisecond===u.millisecond?[yS(this,{ts:a}),yS(this,{ts:l})]:[this]}get isInLeapYear(){return zw(this.year)}get daysInMonth(){return Vw(this.year,this.month)}get daysInYear(){return this.isValid?Gw(this.year):NaN}get weeksInWeekYear(){return this.isValid?Hw(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Hw(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:r}=b_.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Ub.instance(e),t)}toLocal(){return this.setZone(rw.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=Gb(e,rw.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const t=e.offset(this.ts),n=this.toObject();[r]=bS(n,t,e)}return yS(this,{ts:r,zone:e})}return US.invalid(dS(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return yS(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Xw(e,RS),{minDaysInFirstWeek:n,startOfWeek:r}=yw(t,this.loc),i=!_w(t.weekYear)||!_w(t.weekNumber)||!_w(t.weekday),o=!_w(t.ordinal),s=!_w(t.year),a=!_w(t.month)||!_w(t.day),l=s||a,c=t.weekYear||t.weekNumber;if((l||o)&&c)throw new Ov("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&o)throw new Ov("Can't mix ordinal dates with month/day");let u;i?u=dw({...pw(this.c,n,r),...t},n,r):_w(t.ordinal)?(u={...this.toObject(),...t},_w(t.day)&&(u.day=Math.min(Vw(u.year,u.month),u.day))):u=mw({...fw(this.c),...t});const[h,p]=bS(u,this.o,this.zone);return yS(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;const t=Rx.fromDurationLike(e);return yS(this,wS(this,t))}minus(e){if(!this.isValid)return this;const t=Rx.fromDurationLike(e).negate();return yS(this,wS(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},r=Rx.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if("weeks"===r)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;if("quarters"===r){const e=Math.ceil(this.month/3);n.month=3*(e-1)+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?b_.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):hS}toLocaleString(e=Fv,t={}){return this.isValid?b_.create(this.loc.clone(t),e).formatDateTime(this):hS}toLocaleParts(e={}){return this.isValid?b_.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const o="extended"===e;let s=SS(this,o);return s+="T",s+=TS(this,o,t,n,r,i),s}toISODate({format:e="extended"}={}){return this.isValid?SS(this,"extended"===e):null}toISOWeekDate(){return xS(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:i=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+TS(this,"extended"===o,t,e,n,i):null}toRFC2822(){return xS(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return xS(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?SS(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(n&&(r+=" "),t?r+="z":e&&(r+="ZZ")),xS(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():hS}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return Rx.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=Iw(t).map(Rx.normalizeUnit),o=e.valueOf()>this.valueOf(),s=o?this:e,a=o?e:this,l=Ux(s,a,i,r);return o?l.negate():l}diffNow(e="milliseconds",t={}){return this.diff(US.now(),e,t)}until(e){return this.isValid?Px.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,n)<=r&&r<=i.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||US.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(r=e.unit,i=void 0),PS(t,this.plus(n),{...e,numeric:"always",units:r,unit:i})}toRelativeCalendar(e={}){return this.isValid?PS(e.base||US.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(US.isDateTime))throw new Rv("min requires all arguments be DateTimes");return Cw(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(US.isDateTime))throw new Rv("max requires all arguments be DateTimes");return Cw(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:r=null,numberingSystem:i=null}=n,o=Fb.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return lS(o,e,t)}static fromStringExplain(e,t,n={}){return US.fromFormatExplain(e,t,n)}static buildFormatParser(e,t={}){const{locale:n=null,numberingSystem:r=null}=t,i=Fb.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return new aS(i,e)}static fromFormatParser(e,t,n={}){if(_w(e)||_w(t))throw new Rv("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:i=null}=n,o=Fb.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});if(!o.equals(t.locale))throw new Rv(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${t.locale}`);const{result:s,zone:a,specificOffset:l,invalidReason:c}=t.explainFromTokens(e);return c?US.invalid(c):_S(s,a,n,`format ${t.format}`,e,l)}static get DATE_SHORT(){return Fv}static get DATE_MED(){return jv}static get DATE_MED_WITH_WEEKDAY(){return Uv}static get DATE_FULL(){return zv}static get DATE_HUGE(){return Gv}static get TIME_SIMPLE(){return Vv}static get TIME_WITH_SECONDS(){return Bv}static get TIME_WITH_SHORT_OFFSET(){return $v}static get TIME_WITH_LONG_OFFSET(){return Hv}static get TIME_24_SIMPLE(){return Wv}static get TIME_24_WITH_SECONDS(){return qv}static get TIME_24_WITH_SHORT_OFFSET(){return Zv}static get TIME_24_WITH_LONG_OFFSET(){return Yv}static get DATETIME_SHORT(){return Xv}static get DATETIME_SHORT_WITH_SECONDS(){return Jv}static get DATETIME_MED(){return Kv}static get DATETIME_MED_WITH_SECONDS(){return Qv}static get DATETIME_MED_WITH_WEEKDAY(){return eb}static get DATETIME_FULL(){return tb}static get DATETIME_FULL_WITH_SECONDS(){return nb}static get DATETIME_HUGE(){return rb}static get DATETIME_HUGE_WITH_SECONDS(){return ib}}function zS(e){if(US.isDateTime(e))return e;if(e&&e.valueOf&&xw(e.valueOf()))return US.fromJSDate(e);if(e&&"object"==typeof e)return US.fromObject(e);throw new Rv(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const GS="system",VS="unknown",BS="UTC",$S=Intl.DateTimeFormat().resolvedOptions().timeZone,HS="shortOffset";function WS(e){return"timeZoneIANA"in e}function qS(e){return e.startsWith("UTC")}function ZS(e,t=!1){return{json:{read:{source:e,reader:(t,n)=>n[e]?YS(n[e]):null},write:!!t&&{allowNull:!0,writer(t,n){n[e]=t?XS(t):null}}}}}function YS(e,t=GS){return e?WS(e)?e.timeZoneIANA:JS(e,t):t}function XS(e){return{timeZoneIANA:e}}function JS(e,t=GS){if(!e||!Ev.has(e.timeZone))return t;const n=Ev.get(e.timeZone);return qS(e.timeZone)||e.respectsDaylightSaving?n:KS(n)}function KS(e){const t=US.local().setZone(e),n=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===n?"Etc/UTC":`Etc/GMT${Ub.instance(-n).formatOffset(0,"narrow")}`}function QS(e,t,n,r,i){if(t&&"date"===i)return{timeZone:BS,timeZoneName:void 0};const o=r.timeStyle||r.hour,s=n===VS;return{timeZone:s?"timestamp-offset"===i?void 0:e??BS:n,timeZoneName:s&&o?HS:void 0}}function eT(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),n=new Set(Intl.supportedValuesOf("timeZone").map((e=>e.toLowerCase())));return e===GS||e===VS||t.has(e.toLowerCase())||n.has(e.toLowerCase())}const tT={year:void 0,month:void 0,day:void 0,weekday:void 0},nT={hour:void 0,minute:void 0,second:void 0},rT={timeZone:BS},iT={year:"numeric",month:"numeric",day:"numeric"},oT={year:"numeric",month:"long",day:"numeric"},sT={year:"numeric",month:"short",day:"numeric"},aT={year:"numeric",month:"long",weekday:"long",day:"numeric"},lT={hour:"numeric",minute:"numeric"},cT={...lT,second:"numeric"},uT={hourCycle:"h23"},hT={...lT,...uT},pT={...cT,...uT},dT={"short-date":iT,"short-date-short-time":{...iT,...lT},"short-date-short-time-24":{...iT,...hT},"short-date-long-time":{...iT,...cT},"short-date-long-time-24":{...iT,...pT},"short-date-le":iT,"short-date-le-short-time":{...iT,...lT},"short-date-le-short-time-24":{...iT,...hT},"short-date-le-long-time":{...iT,...cT},"short-date-le-long-time-24":{...iT,...pT},"long-month-day-year":oT,"long-month-day-year-short-time":{...oT,...lT},"long-month-day-year-short-time-24":{...oT,...hT},"long-month-day-year-long-time":{...oT,...cT},"long-month-day-year-long-time-24":{...oT,...pT},"day-short-month-year":sT,"day-short-month-year-short-time":{...sT,...lT},"day-short-month-year-short-time-24":{...sT,...hT},"day-short-month-year-long-time":{...sT,...cT},"day-short-month-year-long-time-24":{...sT,...pT},"long-date":aT,"long-date-short-time":{...aT,...lT},"long-date-short-time-24":{...aT,...hT},"long-date-long-time":{...aT,...cT},"long-date-long-time-24":{...aT,...pT},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":lT,"long-time":cT},fT=uu()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),mT={ar:"ar-u-nu-latn-ca-gregory"};let yT=new WeakMap;const gT=dT["short-date-short-time"];function vT(e){let t=yT.get(e);if(!t){const n=Wd(),r=mT[n]||n,i=TT(e.timeZone??GS),o={...e,timeZone:i};t=new Intl.DateTimeFormat(r,o),yT.set(e,t)}return t}function bT(e){return dT[e]}function wT(e,t=gT){return vT(t).format(e)}function _T(e,t=gT){return wT(new Date(e),{...t,...rT,...nT})}function xT(e,t=gT){return wT(new Date(`1970-01-01T${e}Z`),{...t,...rT,...tT})}function ST(e,t=gT){if(t.timeZone)return wT(new Date(e),t);const n=US.fromISO(e,{setZone:!0}),r=Wd(),i=mT[r]??r,o=0===n.offset?BS:t.timeZone,s={...t,timeZone:o};return n.toLocaleString(s,{locale:i})}function TT(e){switch(e){case GS:return $S;case VS:return BS;default:return e}}Jd((()=>{yT=new WeakMap}));const ET={ar:"ar-u-nu-latn"};let MT=new WeakMap,AT={};function IT(e){const t=e||AT;if(!MT.has(t)){const n=Wd(),r=ET[Wd()]||n;MT.set(t,new Intl.NumberFormat(r,e))}return MT.get(t)}function CT(e={}){const t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function OT(e,t){return Object.is(e,-0)&&(e=0),IT(t).format(e)}function kT(e,t=Wd()){if(!e)return null;let n=RT.get(t);if(!n){const e=IT().formatToParts(12345.6),r=[...IT({useGrouping:!1}).format(9876543210)].reverse(),i=new Map(r.map(((e,t)=>[e,t]))),o=new RegExp(`[${e.find((e=>"group"===e.type))?.value}]`,"g"),s=new RegExp(`[${e.find((e=>"decimal"===e.type))?.value}]`),a=new RegExp(`[${r.join("")}]`,"g"),l=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,c=/[-\u2212\u2013\u2014\u2015]/g;n=e=>{if(""===(e=e.trim().replaceAll(o,"").replace(s,".").replace(a,(e=>String(i.get(e)))).replaceAll(l,"").replaceAll(c,"-")))return null;const t=Number(e);return isNaN(t)?null:t},RT.set(t,n)}return n(e)}Jd((()=>{MT=new WeakMap,AT={}}));const RT=new Map;async function LT(e,t,n,r){const i=t.exec(n);if(!i)throw new et("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${t}"`);const o=i[1]?`${i[1]}/`:"",s=i[2],a=nm(r),l=`${o}${s}.json`,c=a?`${o}${s}_${a}.json`:l;let u;try{u=await NT(e(c))}catch(h){if(c===l)throw new et("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:h});try{u=await NT(e(l))}catch(p){throw new et("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:p})}}return u}async function NT(e){if(null!=FT.fetchBundleAsset)return FT.fetchBundleAsset(e);const t=await Bl(e,{responseType:"text"});return JSON.parse(t.data)}let PT=class{constructor({base:e="",pattern:t,location:n=new URL(window.location.href)}){let r;r="string"==typeof n?e=>new URL(e,new URL(n,window.location.href)).href:n instanceof URL?e=>new URL(e,n).href:n,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=r,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,t){return LT(this.getAssetUrl,this.matcher,e,t)}};function DT(e){return new PT(e)}const FT={};function jT(e){return"string"==typeof e||e instanceof String}var UT;em(DT({pattern:"esri/",location:mu})),function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"}(UT||(UT={}));const zT=[UT.HMS_MS,UT.HMS,UT.HM,"TT"],GT="yyyy-MM-dd";function VT(e){if(!e||!jT(e))return null;const t=US.fromFormat(e,GT);return t.isValid?t:null}function BT(e){return e&&jT(e)?_t(zT,(t=>{const n=US.fromFormat(e,t);return n.isValid?n:null}))??null:null}function $T(e){if(!e||!jT(e))return null;const t=US.fromISO(e);return t.isValid?t:null}var HT;UT.HMS,function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"}(HT||(HT={}));const WT=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function qT(e){return null!=e&&WT.has(e.type)}function ZT(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function YT(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function XT(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}function JT(e,t,n){const r=e?.domain;if(!r)return null;switch(r.type){case"range":{const{min:n,max:r}=KT(e);if(null!=n&&+t<n||null!=r&&+t>r)return HT.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==r.codedValues||r.codedValues.every((e=>null==e||e.code!==t)))return HT.INVALID_CODED_VALUE}return null}function KT(e,t){const n=e?.domain;if(!n||"range"!==n.type)return;const r="range"in n?n.range[0]:n.minValue,i="range"in n?n.range[1]:n.maxValue,o=qT(e);return ZT(e)||XT(e)||YT(e)?{...QT(e,i,r),isInteger:o}:{min:null!=r&&"number"==typeof r?r:null,max:null!=i&&"number"==typeof i?i:null,rawMin:r,rawMax:i,isInteger:o}}function QT(e,t,n){return ZT(e)?{min:VT(n)?.toMillis(),max:VT(t)?.toMillis(),rawMin:n,rawMax:t}:XT(e)?{min:BT(n)?.toMillis(),max:BT(t)?.toMillis(),rawMin:n,rawMax:t}:YT(e)?{min:$T(n)?.toMillis(),max:$T(t)?.toMillis(),rawMin:n,rawMax:t}:{max:null,min:null}}const eE=()=>Ye.getLogger("esri.support.arcadeOnDemand");let tE;function nE(){return tE||(tE=(async()=>{const e=await Promise.all([n.e(6485),n.e(1721)]).then(n.bind(n,41721)).then((e=>e.i));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),tE}const rE=(e,t,n)=>oE.create(e,t,n,null,["$feature","$view"],[]),iE=(e,t,n,r)=>oE.create(e,t,n,r,["$feature","$view"],[]);let oE=class e{constructor(e,t,n,r,i,o,s){this.services=null,this.script=e,this.evaluate=r;const a=Array.isArray(o)?o:o?.fields;this.fields=a??[],this._syntaxTree=n,this._arcade=t,this._arcadeFeature=i,this._spatialReference=s,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,n,r,i,o,s){const{arcade:a,Feature:l,Dictionary:c}=await nE(),u=n instanceof Ip?n:Ip.fromJSON(n);let h;try{h=a.parseScript(t,s)}catch(T){return eE().error(new et("arcade-bad-expression","Failed to parse arcade script",{script:t,error:T})),null}const p=o.reduce(((e,t)=>({...e,[t]:null})),{});let d=null;null!=i&&(d=new c(i),d.immutable=!0,p.$config=null);const f=a.scriptUsesGeometryEngine(h),m=f&&a.enableGeometrySupport(),y=a.scriptUsesFeatureSet(h)&&a.enableFeatureSetSupport(),g=a.scriptIsAsync(h),v=g&&a.enableAsyncSupport(),b={vars:p,spatialReference:u,useAsync:!!v};await Promise.all([m,y,v]);const w=new Set;await a.loadDependentModules(w,h,null,g,f);const _=new c;_.immutable=!1,_.setField("scale",0);const x=a.compileScript(h,b),S=(e,t)=>{const n=e.$view?.timeZone;return"$view"in e&&e.$view&&(_.setField("scale","object"==typeof e.$view&&"scale"in e.$view?e.$view.scale:void 0),e.$view=_),d&&(e.$config=d),x({vars:e,spatialReference:u,services:t,timeZone:n})};return new e(t,a,h,S,new l,r,u)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const sE=/^([0-9_])/,aE=/[^a-z0-9_\u0080-\uffff]+/gi;function lE(e){return null==e?null:e.trim().replaceAll(aE,"_").replace(sE,"F$1")||null}const cE=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],uE=["field","normalizationField"];function hE(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(pE(cE,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)pE(uE,e,t)}function pE(e,t,n){if(e)for(const r of e){const e=Ne(r,t),i=e&&"function"!=typeof e&&n.get(e);i&&Pe(r,i.name,t)}}function dE(e,t){if(null!=e&&t?.fields?.length)if("startField"in e){const n=t.get(e.startField),r=t.get(e.endField);e.startField=n?.name??null,e.endField=r?.name??null}else{const n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=n?.name??null,e.endTimeField=r?.name??null}}const fE=new Set;function mE(e,t){return e&&t?(fE.clear(),yE(fE,e,t),Array.from(fE).sort()):[]}function yE(e,t,n){if(n)if(t?.fields?.length)if(n.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of n)gE(e,t,r);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const t of n)null!=t&&e.add(t)}}function gE(e,t,n){if("string"==typeof n)if(t){const r=t.get(n);r&&e.add(r.name)}else e.add(n)}function vE(e,t){return null==t||null==e?[]:t.includes("*")?(e.fields??[]).map((e=>e.name)):t}function bE(e,t,n=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=mE(e,t);return r.length/e.fields.length>=n?["*"]:r}async function wE(e,t,n){if(!n)return;const{arcadeUtils:r}=await nE(),i=r.extractFieldNames(n,t?.fields?.map((e=>e.name)));for(const o of i)gE(e,t,o)}async function _E(e,t,n){if(n&&"1=1"!==n){const r=await Sv(n,t);if(!r.isStandardized)throw new et("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});yE(e,t,r.fieldNames)}}function xE({displayField:e,fields:t}){return e||(t?.length?TE(t,"name-or-title")||TE(t,"unique-identifier")||TE(t,"type-or-category")||SE(t):null)}function SE(e){for(const t of e){if(!t?.name)continue;const e=t.name.toLowerCase();if(e.includes("name")||e.includes("title"))return t.name}return null}function TE(e,t){for(const n of e)if(n?.valueType&&n.valueType===t)return n.name;return null}async function EE(e,t){if(!t)return;const n=t.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}function ME(e,t,n){n.onStatisticExpression?wE(e,t,n.onStatisticExpression.expression):e.add(n.onStatisticField)}async function AE(e,t,n){if(!t||!n||!("fields"in n))return;const r=[],i=n.popupTemplate;r.push(IE(e,t,i)),n.fields&&r.push(...n.fields.map((async n=>ME(e,t.fieldsIndex,n)))),await Promise.all(r)}async function IE(e,t,n){const r=[];n?.expressionInfos&&r.push(...n.expressionInfos.map((n=>wE(e,t.fieldsIndex,n.expression))));const i=n?.content;if(Array.isArray(i))for(const o of i)"expression"===o.type&&o.expressionInfo&&r.push(wE(e,t.fieldsIndex,o.expressionInfo.expression));await Promise.all(r)}async function CE(e,t,n){t&&(t.timeInfo&&n?.timeExtent&&yE(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&yE(e,t.fieldsIndex,[t.floorInfo.floorField]),null!=n?.where&&await _E(e,t.fieldsIndex,n.where))}async function OE(e,t,n){t&&n&&await Promise.all(n.map((n=>kE(e,t,n))))}async function kE(e,t,n){t&&n&&(n.valueExpression?await wE(e,t.fieldsIndex,n.valueExpression):n.field&&gE(e,t.fieldsIndex,n.field))}function RE(e){return e?mE(e.fieldsIndex,jE(e)):[]}function LE(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?mE(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const NE=new Set(["oid","global-id","guid"]),PE=new Set(["oid","global-id"]),DE=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function FE(e){const t=new Set;UE(e).forEach((e=>t.add(e))),LE(e).forEach((e=>t.add(e.toLowerCase())));const n=e&&"infoFor3D"in e?e.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach((e=>t.add(e.toLowerCase()))),Object.values(n.transformFieldRoles).forEach((e=>t.add(e.toLowerCase())))),Array.from(t)}function jE(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:n,creatorField:r,editDateField:i,editorField:o}=t;return[n,r,i,o].filter(Boolean)}function UE(e){return jE(e).map((e=>e.toLowerCase()))}function zE(e,t){return e.editable&&!NE.has(e.type)&&!UE(t).includes(e.name?.toLowerCase()??"")}function GE(e,t){const n=e.name?.toLowerCase()??"";return!(null!=t?.objectIdField&&n===t.objectIdField.toLowerCase()||null!=t?.globalIdField&&n===t.globalIdField.toLowerCase()||FE(t).includes(n)||PE.has(e.type)||DE.some((e=>e.test(n))))}async function VE(e,t){const{labelingInfo:n,fieldsIndex:r}=t;n?.length&&await Promise.all(n.map((t=>BE(e,r,t))))}async function BE(e,t,n){if(!n)return;const r=n.getLabelExpression(),i=n.where;if("arcade"===r.type)await wE(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach((n=>{gE(e,t,n.slice(1,-1))}))}await _E(e,t,i)}function $E(e){const t=e.defaultValue;return void 0!==t&&KE(e,t)?t:e.nullable?null:void 0}function HE(e){const t="string"==typeof e?{type:e}:e;return lM(t)?255:"esriFieldTypeDate"===t.type||"date"===t.type?8:void 0}function WE(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function qE(e){return null===e||WE(e)}function ZE(e){return null===e||Number.isInteger(e)}function YE(e){return null!=e&&"string"==typeof e}function XE(e){return null===e||YE(e)}function JE(){return!0}function KE(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=e.nullable?ZE:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?qE:WE;break;case"string":case"esriFieldTypeString":n=e.nullable?XE:YE;break;default:n=JE}return 1===arguments.length?n:n(t)}const QE=["integer","small-integer","big-integer"],eM=["single","double"],tM=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],nM=["esriFieldTypeSingle","esriFieldTypeDouble"],rM=new Set([...QE,...tM]),iM=new Set([...eM,...nM]),oM=ti(rM,iM);function sM(e){return null!=e&&rM.has(e.type)}function aM(e){return null!=e&&oM.has(e.type)}function lM(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function cM(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function uM(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function hM(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function pM(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}function dM(e){return null!=e&&("oid"===e.type||"esriFieldTypeOID"===e.type)}function fM(e){return null!=e&&("global-id"===e.type||"esriFieldTypeGlobalID"===e.type)}function mM(e,t){return null===bM(e,t)}var yM,gM;function vM(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function bM(e,t){return null==e||e.nullable&&null===t?null:aM(e)&&!wM(e.type,Number(t))?yM.OUT_OF_RANGE:KE(e,t)?e.domain?JT(e,t):null:gM.INVALID_TYPE}function wM(e,t){const n="string"==typeof e?_M(e):e;if(!n)return!1;const r=n.min,i=n.max;return n.isInteger?Number.isInteger(t)&&t>=r&&t<=i:t>=r&&t<=i}function _M(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return xM;case"esriFieldTypeInteger":case"integer":return SM;case"esriFieldTypeBigInteger":case"big-integer":return TM;case"esriFieldTypeSingle":case"single":return EM;case"esriFieldTypeDouble":case"double":return MM}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(yM||(yM={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(gM||(gM={}));const xM={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},SM={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},TM={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},EM={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},MM={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function AM(e,t,n){switch(e){case HT.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case HT.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case gM.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case yM.OUT_OF_RANGE:{const{min:e,max:r}=_M(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}function IM(e,t){return!CM(e,t,null)}function CM(e,t,n){if(!t?.attributes||!e)return!0;const r=new Set(Object.keys(t.attributes));let i=!1;for(const o of e)if(!r.has(o)&&(i=!0,null==n))break;return i}function OM(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some((t=>e.toLowerCase().startsWith(t)))}function kM(e){const t=e?.match(/{[^}]+}/g);return t?t.map((e=>e.slice(1,-1).split(":")[0].trim())):[]}let RM=class extends Hs{constructor(e){super(e),this.type=null}};S([To({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],RM.prototype,"type",void 0),RM=S([gs("esri.popup.content.Content")],RM);const LM=RM;var NM;let PM=NM=class extends LM{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new NM({description:this.description,displayType:this.displayType,title:this.title})}};S([To({type:String,json:{write:!0}})],PM.prototype,"description",void 0),S([To({type:["auto","preview","list"],json:{write:!0}})],PM.prototype,"displayType",void 0),S([To({type:String,json:{write:!0}})],PM.prototype,"title",void 0),S([To({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],PM.prototype,"type",void 0),PM=NM=S([gs("esri.popup.content.AttachmentsContent")],PM);const DM=PM;var FM;let jM=FM=class extends LM{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new FM({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?_e(this.outFields):null})}};S([To()],jM.prototype,"creator",void 0),S([To()],jM.prototype,"destroyer",void 0),S([To()],jM.prototype,"outFields",void 0),S([To({type:["custom"],readOnly:!0})],jM.prototype,"type",void 0),jM=FM=S([gs("esri.popup.content.CustomContent")],jM);const UM=jM;var zM;let GM=zM=class extends Hs{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new zM({title:this.title,expression:this.expression})}};S([To({type:String,json:{write:!0}})],GM.prototype,"title",void 0),S([To({type:String,json:{write:!0}})],GM.prototype,"expression",void 0),S([To({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],GM.prototype,"returnType",void 0),GM=zM=S([gs("esri.popup.ElementExpressionInfo")],GM);const VM=GM;var BM;let $M=BM=class extends LM{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new BM({expressionInfo:this.expressionInfo?.clone()})}};S([To({type:VM,json:{write:!0}})],$M.prototype,"expressionInfo",void 0),S([To({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],$M.prototype,"type",void 0),$M=BM=S([gs("esri.popup.content.ExpressionContent")],$M);const HM=$M;function WM(e,t={}){const n=e instanceof au?e:new au(e,t),{alwaysWriteDefaults:r,default:i,ignoreUnknown:o=!0,name:s,nonNullable:a,readOnly:l=!1}=t;return To({type:o?n.apiValues:String,json:{type:n.jsonValues,default:i,name:s,read:!l&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}let qM=class extends(_v(Hs)){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};S([WM(fT)],qM.prototype,"dateFormat",void 0),S([To({type:Boolean,json:{write:!0}})],qM.prototype,"digitSeparator",void 0),S([To({type:yo,json:{write:!0}})],qM.prototype,"places",void 0),qM=S([gs("esri.popup.support.FieldInfoFormat")],qM);const ZM=qM;var YM;let XM=YM=class extends Hs{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new YM({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};S([To({type:String,json:{write:!0}})],XM.prototype,"fieldName",void 0),S([To({type:ZM,json:{write:!0}})],XM.prototype,"format",void 0),S([To({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],XM.prototype,"isEditable",void 0),S([To({type:String,json:{write:!0}})],XM.prototype,"label",void 0),S([WM(new au({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],XM.prototype,"stringFieldOption",void 0),S([To({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],XM.prototype,"statisticType",void 0),S([To({type:String,json:{write:!0}})],XM.prototype,"tooltip",void 0),S([To({type:Boolean,json:{write:!0}})],XM.prototype,"visible",void 0),XM=YM=S([gs("esri.popup.FieldInfo")],XM);const JM=XM;var KM;let QM=KM=class extends LM{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map((e=>e.toJSON()))}clone(){return new KM(_e({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};S([To({type:Object,json:{write:!0}})],QM.prototype,"attributes",void 0),S([To({type:String,json:{write:!0}})],QM.prototype,"description",void 0),S([To({type:[JM]})],QM.prototype,"fieldInfos",void 0),S([su("fieldInfos")],QM.prototype,"writeFieldInfos",null),S([To({type:String,json:{write:!0}})],QM.prototype,"title",void 0),S([To({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],QM.prototype,"type",void 0),QM=KM=S([gs("esri.popup.content.FieldsContent")],QM);const eA=QM;let tA=class extends Hs{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};S([To({type:String,json:{write:!0}})],tA.prototype,"altText",void 0),S([To({type:String,json:{write:!0}})],tA.prototype,"caption",void 0),S([To({type:String,json:{write:!0}})],tA.prototype,"title",void 0),S([To({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],tA.prototype,"type",void 0),tA=S([gs("esri.popup.content.mixins.MediaInfo")],tA);const nA=tA;var rA;let iA=rA=class extends Ms{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new rA({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};S([To()],iA.prototype,"color",void 0),S([To()],iA.prototype,"fieldName",void 0),S([To()],iA.prototype,"tooltip",void 0),S([To()],iA.prototype,"value",void 0),iA=rA=S([gs("esri.popup.content.support.ChartMediaInfoValueSeries")],iA);const oA=iA;var sA;let aA=sA=class extends Hs{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new sA({colors:_e(this.colors),fields:_e(this.fields),normalizeField:this.normalizeField,series:_e(this.series),tooltipField:this.tooltipField})}};S([To({type:[gy],json:{type:[[yo]],write:!0}})],aA.prototype,"colors",void 0),S([To({type:[String],json:{write:!0}})],aA.prototype,"fields",void 0),S([To({type:String,json:{write:!0}})],aA.prototype,"normalizeField",void 0),S([To({type:[oA],json:{read:!1}})],aA.prototype,"series",void 0),S([To({type:String,json:{write:!0}})],aA.prototype,"tooltipField",void 0),aA=sA=S([gs("esri.popup.content.support.ChartMediaInfoValue")],aA);const lA=aA;let cA=class extends nA{constructor(e){super(e),this.type=null,this.value=void 0}};S([To({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],cA.prototype,"type",void 0),S([To({type:lA,json:{write:!0}})],cA.prototype,"value",void 0),cA=S([gs("esri.popup.content.mixins.ChartMediaInfo")],cA);const uA=cA,hA=uu()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var pA;let dA=pA=class extends uA{constructor(e){super(e),this.type="bar-chart"}clone(){return new pA({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};S([To({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:hA.write}})],dA.prototype,"type",void 0),dA=pA=S([gs("esri.popup.content.BarChartMediaInfo")],dA);const fA=dA;var mA;let yA=mA=class extends uA{constructor(e){super(e),this.type="column-chart"}clone(){return new mA({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};S([To({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:hA.write}})],yA.prototype,"type",void 0),yA=mA=S([gs("esri.popup.content.ColumnChartMediaInfo")],yA);const gA=yA;var vA;let bA=vA=class extends Hs{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new vA({linkURL:this.linkURL,sourceURL:this.sourceURL})}};S([To({type:String,json:{write:!0}})],bA.prototype,"linkURL",void 0),S([To({type:String,json:{write:!0}})],bA.prototype,"sourceURL",void 0),bA=vA=S([gs("esri.popup.content.support.ImageMediaInfoValue")],bA);const wA=bA;var _A;let xA=_A=class extends nA{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new _A({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};S([To({type:Number,json:{write:!0}})],xA.prototype,"refreshInterval",void 0),S([To({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],xA.prototype,"type",void 0),S([To({type:wA,json:{write:!0}})],xA.prototype,"value",void 0),xA=_A=S([gs("esri.popup.content.ImageMediaInfo")],xA);const SA=xA;var TA;let EA=TA=class extends uA{constructor(e){super(e),this.type="line-chart"}clone(){return new TA({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};S([To({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:hA.write}})],EA.prototype,"type",void 0),EA=TA=S([gs("esri.popup.content.LineChartMediaInfo")],EA);const MA=EA;var AA;let IA=AA=class extends uA{constructor(e){super(e),this.type="pie-chart"}clone(){return new AA({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};S([To({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:hA.write}})],IA.prototype,"type",void 0),IA=AA=S([gs("esri.popup.content.PieChartMediaInfo")],IA);const CA=IA,OA={base:nA,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":fA,"column-chart":gA,"line-chart":MA,"pie-chart":CA,image:SA}};var kA;let RA=kA=class extends LM{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map((e=>"image"===e.type?SA.fromJSON(e):"barchart"===e.type?fA.fromJSON(e):"columnchart"===e.type?gA.fromJSON(e):"linechart"===e.type?MA.fromJSON(e):"piechart"===e.type?CA.fromJSON(e):void 0)).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map((e=>e.toJSON()))}clone(){return new kA(_e({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};S([To()],RA.prototype,"activeMediaInfoIndex",void 0),S([To({type:Object,json:{write:!0}})],RA.prototype,"attributes",void 0),S([To({type:String,json:{write:!0}})],RA.prototype,"description",void 0),S([To({types:[OA]})],RA.prototype,"mediaInfos",void 0),S([Cp("mediaInfos")],RA.prototype,"readMediaInfos",null),S([su("mediaInfos")],RA.prototype,"writeMediaInfos",null),S([To({type:String,json:{write:!0}})],RA.prototype,"title",void 0),S([To({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],RA.prototype,"type",void 0),RA=kA=S([gs("esri.popup.content.MediaContent")],RA);const LA=RA;var NA;let PA=NA=class extends Hs{constructor(e){super(e),this.field=null,this.order=null}clone(){return new NA({field:this.field,order:this.order})}};S([To({type:String,json:{write:!0}})],PA.prototype,"field",void 0),S([To({type:["asc","desc"],json:{write:!0}})],PA.prototype,"order",void 0),PA=NA=S([gs("esri.popup.support.RelatedRecordsInfoFieldOrder")],PA);const DA=PA;let FA=class extends(_v(LM)){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};S([To({type:String,json:{write:!0}})],FA.prototype,"description",void 0),S([To({type:Number,json:{type:yo,write:!0}})],FA.prototype,"displayCount",void 0),S([To({type:["list"],json:{write:!0}})],FA.prototype,"displayType",void 0),S([To({type:[DA],json:{write:!0}})],FA.prototype,"orderByFields",void 0),S([To({type:Number,json:{type:yo,write:!0}})],FA.prototype,"relationshipId",void 0),S([To({type:String,json:{write:!0}})],FA.prototype,"title",void 0),S([To({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],FA.prototype,"type",void 0),FA=S([gs("esri.popup.content.RelationshipContent")],FA);const jA=FA;var UA;let zA=UA=class extends LM{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new UA({text:this.text})}};S([To({type:String,json:{write:!0}})],zA.prototype,"text",void 0),S([To({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],zA.prototype,"type",void 0),zA=UA=S([gs("esri.popup.content.TextContent")],zA);const GA=zA;let VA=class extends(_v(Hs)){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.open=!1,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};S([To({type:String,json:{write:!0}})],VA.prototype,"title",void 0),S([To({type:String,json:{write:!0}})],VA.prototype,"description",void 0),S([To({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],VA.prototype,"type",void 0),S([To({type:Boolean,json:{read:!1}})],VA.prototype,"open",void 0),S([To({type:Number,json:{type:yo,write:!0}})],VA.prototype,"associatedNetworkSourceId",void 0),S([To({type:Number,json:{type:yo,write:!0}})],VA.prototype,"associatedAssetGroup",void 0),S([To({type:Number,json:{type:yo,write:!0}})],VA.prototype,"associatedAssetType",void 0),VA=S([gs("esri.popup.support.UtilityNetworkAssociationType")],VA);const BA=VA;let $A=class extends(_v(LM)){constructor(e){super(e),this.description=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};S([To({type:String,json:{write:!0}})],$A.prototype,"description",void 0),S([To({type:String,json:{write:!0}})],$A.prototype,"title",void 0),S([To({type:[BA],json:{write:!0}})],$A.prototype,"associationTypes",void 0),S([WM({utilityNetworkAssociations:"utility-network-associations"})],$A.prototype,"type",void 0),$A=S([gs("esri.popup.content.UtilityNetworkAssociationsContent")],$A);const HA=$A,WA={base:null,key:"type",typeMap:{attachment:DM,media:LA,text:GA,expression:HM,field:eA,relationship:jA,utilityNetworkAssociations:HA}},qA={base:null,key:"type",typeMap:{attachment:DM,media:LA,text:GA,expression:HM,field:eA,relationship:jA}};var ZA;let YA=ZA=class extends Hs{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new ZA({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};S([To({type:String,json:{write:!0}})],YA.prototype,"name",void 0),S([To({type:String,json:{write:!0}})],YA.prototype,"title",void 0),S([To({type:String,json:{write:!0}})],YA.prototype,"expression",void 0),S([To({type:["string","number"],json:{write:!0}})],YA.prototype,"returnType",void 0),YA=ZA=S([gs("esri.popup.ExpressionInfo")],YA);const XA=YA;var JA;let KA=JA=class extends Hs{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new JA({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};S([To({type:Boolean,json:{write:!0}})],KA.prototype,"returnTopmostRaster",void 0),S([To({type:Boolean,json:{write:!0}})],KA.prototype,"showNoDataRecords",void 0),KA=JA=S([gs("esri.popup.LayerOptions")],KA);const QA=KA;var eI;let tI=eI=class extends Hs{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new eI({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?_e(this.orderByFields):null})}};S([To({type:Boolean,json:{write:!0}})],tI.prototype,"showRelatedRecords",void 0),S([To({type:[DA],json:{write:!0}})],tI.prototype,"orderByFields",void 0),tI=eI=S([gs("esri.popup.RelatedRecordsInfo")],tI);const nI=tI;let rI=0;const iI=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+rI++})}};return t=S([gs("esri.core.Identifiable")],t),t},oI=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:rI++})}};return t=S([gs("esri.core.Identifiable.NumericIdentifiable")],t),t};let sI=class extends(iI(class{})){};var aI;sI=S([gs("esri.core.Identifiable")],sI);let lI=aI=class extends(iI(Ms)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new aI({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};S([To()],lI.prototype,"active",void 0),S([To()],lI.prototype,"className",void 0),S([To()],lI.prototype,"disabled",void 0),S([To()],lI.prototype,"icon",void 0),S([To()],lI.prototype,"id",void 0),S([To()],lI.prototype,"indicator",void 0),S([To()],lI.prototype,"title",void 0),S([To()],lI.prototype,"type",void 0),S([To()],lI.prototype,"visible",void 0),lI=aI=S([gs("esri.support.actions.ActionBase")],lI);const cI=lI;var uI;let hI=uI=class extends cI{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new uI({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};S([To()],hI.prototype,"image",void 0),hI=uI=S([gs("esri.support.actions.ActionButton")],hI);const pI=hI;var dI;let fI=dI=class extends cI{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new dI({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};S([To()],fI.prototype,"image",void 0),S([To()],fI.prototype,"value",void 0),fI=dI=S([gs("esri.support.actions.ActionToggle")],fI);const mI=fI,yI="relationships/",gI="expression/",vI=Rc.ofType({key:"type",defaultKeyValue:"button",base:cI,typeMap:{button:pI,toggle:mI}}),bI={base:LM,key:"type",typeMap:{media:LA,custom:UM,text:GA,attachments:DM,fields:eA,expression:HM,relationship:jA,utilityNetworkAssociations:HA}},wI=new Set(["attachments","fields","media","text","expression","relationship"]),_I=new Set([...wI,"utility-network-associations"]);let xI=class extends(_v(Hs)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map((e=>mo(bI,e))):"string"==typeof e||"function"==typeof e||e instanceof HTMLElement||wr(e)?e:(Ye.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:n}=t;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(t.description,t.mediaInfos,n):this._readPopupInfo(t)}writeWebSceneContent(e,t,n,r){this._writePopupTemplateContent(e,t,r)}writeWebMapContent(e,t,n,r){this._writePopupTemplateContent(e,t,r)}writeFieldInfos(e,t,n,r){const{content:i}=this,o=Array.isArray(i)?i:null;if(e){const n=o?o.filter((e=>"fields"===e.type)):[],i=n.length&&n.every((e=>e.fieldInfos?.length));t.fieldInfos=e.filter(Boolean).map((e=>{const t=e.toJSON(r);return i&&(t.visible=!1),t}))}if(o)for(const s of o)"fields"===s.type&&this._writeFieldsContent(s,t)}writeLayerOptions(e,t,n,r){t[n]=!e||null===e.showNoDataRecords&&null===e.returnTopmostRaster?null:e.toJSON(r)}writeTitle(e,t){t.title=e||""}async collectRequiredFields(e,t){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...n,...this._getContentExpressionInfos(this.content,n)]),yE(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writePopupTemplateContent(e,t,n){"string"!=typeof e?Array.isArray(e)&&(t.popupElements=e.filter((e=>"web-scene"===n?.origin?wI.has(e.type):_I.has(e.type))).map((e=>e?.toJSON(n))),t.popupElements.forEach((e=>{"attachments"===e.type?this._writeAttachmentContent(t):"media"===e.type?this._writeMediaContent(e,t):"text"===e.type?this._writeTextContent(e,t):"relationship"===e.type&&this._writeRelationshipContent(e,t)}))):t.description=e}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const n=_e(e.fieldInfos);Array.isArray(t.fieldInfos)?n.forEach((e=>{const n=t.fieldInfos.find((t=>t.fieldName?.toLowerCase()===e.fieldName?.toLowerCase()));n?n.visible=!0:t.fieldInfos.push(e)})):t.fieldInfos=n}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,t){const n=e.orderByFields?.map((t=>this._toFieldOrderJSON(t,e.relationshipId)))||[],r=[...t.relatedRecordsInfo?.orderByFields||[],...n];t.relatedRecordsInfo={showRelatedRecords:!0,...r?.length&&{orderByFields:r}}}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const n=_e(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...n]:t.mediaInfos=n}_readPopupInfoElements(e,t,n){const r={description:!1,mediaInfos:!1};return n.map((n=>"media"===n.type?(n.mediaInfos||!t||r.mediaInfos||(n.mediaInfos=t,r.mediaInfos=!0),LA.fromJSON(n)):"text"===n.type?(n.text||!e||r.description||(n.text=e,r.description=!0),GA.fromJSON(n)):"attachments"===n.type?DM.fromJSON(n):"fields"===n.type?eA.fromJSON(n):"expression"===n.type?HM.fromJSON(n):"relationship"===n.type?jA.fromJSON(n):"utilityNetworkAssociations"===n.type?HA.fromJSON(n):void 0)).filter(Boolean)}_toRelationshipContent(e){const{field:t,order:n}=e;if(!t?.startsWith(yI))return null;const r=t.replace(yI,"").split("/");if(2!==r.length)return null;const i=parseInt(r[0],10),o=r[1];return"number"==typeof i&&o?jA.fromJSON({relationshipId:i,orderByFields:[{field:o,order:n}]}):null}_toFieldOrderJSON(e,t){const{order:n,field:r}=e;return{field:`${yI}${t}/${r}`,order:n}}_readPopupInfo({description:e,mediaInfos:t,showAttachments:n,relatedRecordsInfo:r={showRelatedRecords:!1}}){const i=[];e?i.push(new GA({text:e})):i.push(new eA),Array.isArray(t)&&t.length&&i.push(LA.fromJSON({mediaInfos:t})),n&&i.push(DM.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:s}=r;return o&&s?.length&&s.forEach((e=>{const t=this._toRelationshipContent(e);t&&i.push(t)})),i.length?i:e}_getContentElementFields(e){const t=e?.type;if("attachments"===t)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if("custom"===t)return e.outFields||[];if("fields"===t)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if("media"===t){const t=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...t.reduce(((e,t)=>[...e,...this._getMediaInfoFields(t)]),[])]}return"text"===t?this._extractFieldNames(e.text):"relationship"===t||"utility-network-associations"===t?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:t,title:n,value:r}=e,i=r||{},{fields:o,normalizeField:s,tooltipField:a,sourceURL:l,linkURL:c}=i,u=[...this._extractFieldNames(n),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(c),...o??[]];return s&&u.push(s),a&&u.push(a),u}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce(((e,t)=>[...e,..."expression"===t.type&&t.expressionInfo?[t.expressionInfo]:[]]),t):[]}_getContentFields(e){return"string"==typeof e?this._extractFieldNames(e):Array.isArray(e)?e.reduce(((e,t)=>[...e,...this._getContentElementFields(t)]),[]):[]}async _collectExpressionInfoFields(e,t,n){n&&await Promise.all(n.map((n=>wE(e,t,n.expression))))}_getFieldInfoFields(e){return e?e.filter((({fieldName:e,visible:t})=>!(void 0!==t&&!t||!e||e.startsWith(yI)||e.startsWith(gI)))).map((e=>e.fieldName)):[]}_getActionsFields(e){return e?e.toArray().reduce(((e,t)=>[...e,...this._getActionFields(t)]),[]):[]}_getActionFields(e){const{className:t,title:n,type:r}=e,i="button"===r||"toggle"===r?e.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(t),...this._extractFieldNames(i)]}_getTitleFields(e){return"string"==typeof e?this._extractFieldNames(e):[]}_extractFieldNames(e){return kM(e).filter((e=>!(0===e.indexOf(yI)||0===e.indexOf(gI))))}};S([To({type:vI})],xI.prototype,"actions",void 0),S([To()],xI.prototype,"content",void 0),S([Dp("content")],xI.prototype,"castContent",null),S([Cp("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],xI.prototype,"readContent",null),S([su("web-scene","content",{popupElements:{type:Rc.ofType(qA)},showAttachments:{type:Boolean},mediaInfos:{type:Rc.ofType(OA)},description:{type:String},relatedRecordsInfo:{type:nI}})],xI.prototype,"writeWebSceneContent",null),S([su("content",{popupElements:{type:Rc.ofType(WA)},showAttachments:{type:Boolean},mediaInfos:{type:Rc.ofType(OA)},description:{type:String},relatedRecordsInfo:{type:nI}})],xI.prototype,"writeWebMapContent",null),S([To({type:[XA],json:{write:!0}})],xI.prototype,"expressionInfos",void 0),S([To({type:[JM]})],xI.prototype,"fieldInfos",void 0),S([su("fieldInfos")],xI.prototype,"writeFieldInfos",null),S([To({type:QA})],xI.prototype,"layerOptions",void 0),S([su("layerOptions")],xI.prototype,"writeLayerOptions",null),S([To({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],xI.prototype,"lastEditInfoEnabled",void 0),S([To()],xI.prototype,"outFields",void 0),S([To()],xI.prototype,"overwriteActions",void 0),S([To()],xI.prototype,"returnGeometry",void 0),S([To({json:{type:String}})],xI.prototype,"title",void 0),S([su("title")],xI.prototype,"writeTitle",null),xI=S([gs("esri.PopupTemplate")],xI);const SI=xI,TI=new au({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let EI=0,MI=class extends Hs{constructor(e){super(e),this.id="sym"+EI++,this.type=null,this.color=new gy([0,0,0,1])}readColor(e){return null!=e?.[0]?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};S([To({type:TI.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:TI.write}}})],MI.prototype,"type",void 0),S([To({type:gy,json:{write:{allowNull:!0}}})],MI.prototype,"color",void 0),S([Cp("color")],MI.prototype,"readColor",null),MI=S([gs("esri.symbols.Symbol")],MI);const AI=MI;var II;let CI=II=class extends AI{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if("CIMSymbolReference"===this.data?.type){const n=this.data.primitiveOverrides;if(n){const r=n.map((n=>{const r=n.valueExpressionInfo;return r?wE(e,t,r.expression):null}));await Promise.all(r)}}}clone(){return new II({data:_e(this.data)})}hash(){return $e(JSON.stringify(this.data)).toString()}};S([To({json:{write:!1}})],CI.prototype,"color",void 0),S([To({json:{write:!0}})],CI.prototype,"data",void 0),S([Cp("data",["symbol"])],CI.prototype,"readData",null),S([su("data",{})],CI.prototype,"writeData",null),S([WM({CIMSymbolReference:"cim"},{readOnly:!0})],CI.prototype,"type",void 0),CI=II=S([gs("esri.symbols.CIMSymbol")],CI);const OI=CI;let kI=class extends Hs{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,t,n){e||(t[n]=e)}};S([To({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],kI.prototype,"enabled",void 0),S([su("enabled")],kI.prototype,"writeEnabled",null),S([To({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],kI.prototype,"type",void 0),kI=S([gs("esri.symbols.Symbol3DLayer")],kI);const RI=kI,LI=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,NI="screenUtils.toPt: input not recognized!",PI=96;function DI(e){return e?e/72*PI:0}function FI(e){return e?72*e/PI:0}function jI(e){if("string"==typeof e){const t=e.match(LI);if(t){const n=Number(t[1]),r=t[3]&&t[3].toLowerCase(),i="-"===e.charAt(0),o="px"===r?FI(n):n;return i?-o:o}return console.warn(NI),null}return e}function UI(e=0,t=0){return{x:e,y:t}}function zI(e){return e?UI(e.x,e.y):null}function GI(e=0,t=0){return[e,t]}function VI(e=0,t=0,n=0){return[e,t,n]}function BI(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function $I(e){const t=qi(100*(1-e));return Math.max(0,Math.min(t,100))}function HI(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function WI(e,t){const n=null!=t.transparency?HI(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new gy([r[0]||0,r[1]||0,r[2]||0,n]):null}function qI(e,t){t.color=e.toJSON().slice(0,3);const n=$I(e.a);0!==n&&(t.transparency=n)}const ZI={type:gy,json:{type:[yo],default:null,read:{source:["color","transparency"],reader:WI},write:{target:{color:{type:[yo]},transparency:{type:yo}},writer:qI}}},YI={type:Number,cast:jI,json:{write:!0}};let XI=class extends Hs{constructor(e){super(e),this.color=new gy([0,0,0,1]),this.extensionLength=0,this.size=FI(1)}clone(){}cloneProperties(){return{color:_e(this.color),size:this.size,extensionLength:this.extensionLength}}};S([To({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],XI.prototype,"type",void 0),S([To(ZI)],XI.prototype,"color",void 0),S([To({...YI,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],XI.prototype,"extensionLength",void 0),S([To(YI)],XI.prototype,"size",void 0),XI=S([gs("esri.symbols.edges.Edges3D")],XI);const JI=XI;var KI;let QI=KI=class extends JI{constructor(e){super(e),this.type="sketch"}clone(){return new KI(this.cloneProperties())}};S([WM({sketch:"sketch"},{readOnly:!0})],QI.prototype,"type",void 0),QI=KI=S([gs("esri.symbols.edges.SketchEdges3D")],QI);const eC=QI;var tC;let nC=tC=class extends JI{constructor(e){super(e),this.type="solid"}clone(){return new tC(this.cloneProperties())}};S([WM({solid:"solid"},{readOnly:!0})],nC.prototype,"type",void 0),nC=tC=S([gs("esri.symbols.edges.SolidEdges3D")],nC);const rC=nC,iC={types:{key:"type",base:JI,typeMap:{solid:rC,sketch:eC}},json:{write:!0}};function oC(){return[0,0,0]}function sC(e){return[e[0],e[1],e[2]]}function aC(e,t,n){return[e,t,n]}function lC(e,t,n){return[e,t,n]}function cC(e,t=oC()){const n=Math.min(3,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function uC(e,t){return new Float64Array(e,t,3)}function hC(){return oC()}function pC(){return aC(1,1,1)}function dC(){return aC(1,0,0)}function fC(){return aC(0,1,0)}function mC(){return aC(0,0,1)}const yC=hC(),gC=pC(),vC=dC(),bC=fC(),wC=mC();var _C;Object.freeze(Object.defineProperty({__proto__:null,ONES:gC,UNIT_X:vC,UNIT_Y:bC,UNIT_Z:wC,ZEROS:yC,clone:sC,create:oC,createView:uC,freeze:lC,fromArray:cC,fromValues:aC,ones:pC,unitX:dC,unitY:fC,unitZ:mC,zeros:hC},Symbol.toStringTag,{value:"Module"}));let xC=_C=class extends Hs{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?sC(this.emissiveFactor):null};return new _C(e)}};var SC;S([To(ZI)],xC.prototype,"color",void 0),S([To({type:[Number],json:{write:!1}})],xC.prototype,"emissiveFactor",void 0),xC=_C=S([gs("esri.symbols.support.Symbol3DMaterial")],xC);let TC=SC=class extends RI{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new SC({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};S([WM({Extrude:"extrude"},{readOnly:!0})],TC.prototype,"type",void 0),S([To({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],TC.prototype,"size",void 0),S([To({type:xC,json:{write:!0}})],TC.prototype,"material",void 0),S([To({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],TC.prototype,"castShadows",void 0),S([To(iC)],TC.prototype,"edges",void 0),TC=SC=S([gs("esri.symbols.ExtrudeSymbol3DLayer")],TC);const EC=TC;let MC=class extends AI{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};S([WM({esriSLS:"simple-line"},{readOnly:!0})],MC.prototype,"type",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],MC.prototype,"width",void 0),MC=S([gs("esri.symbols.LineSymbol")],MC);const AC=MC,IC=["begin","end","begin-end"],CC=["arrow","circle","square","diamond","cross","x"];var OC;let kC=OC=class extends Hs{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,n,r){t[n]="web-map"===r?.origin?"arrow":e}set color(e){this._set("color",e)}readColor(e){return null!=e?.[0]?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,n,r){"web-map"===r?.origin||(t[n]=e)}clone(){return new OC({color:_e(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};S([To({type:["begin","end","begin-end"],json:{write:!0}})],kC.prototype,"placement",void 0),S([WM({"line-marker":"line-marker"},{readOnly:!0}),To({json:{origins:{"web-map":{write:!1}}}})],kC.prototype,"type",void 0),S([To({type:CC})],kC.prototype,"style",void 0),S([su("style")],kC.prototype,"writeStyle",null),S([To({type:gy,value:null,json:{write:{allowNull:!0}}})],kC.prototype,"color",null),S([Cp("color")],kC.prototype,"readColor",null),S([su("color")],kC.prototype,"writeColor",null),kC=OC=S([gs("esri.symbols.LineSymbolMarker")],kC);const RC=kC;var LC;const NC=new au({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let PC=LC=class extends AC{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,n,r,i,o){if(e&&"string"!=typeof e)return e;const s={};return null!=e&&(s.style=e),null!=t&&(s.color=t),null!=n&&(s.width=jI(n)),null!=r&&(s.cap=r),null!=i&&(s.join=i),null!=o&&(s.miterLimit=jI(o)),s}clone(){return new LC({color:_e(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};S([WM({esriSLS:"simple-line"},{readOnly:!0})],PC.prototype,"type",void 0),S([To({type:NC.apiValues,json:{read:NC.read,write:NC.write}})],PC.prototype,"style",void 0),S([To({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,n)=>({enabled:"round"!==e&&null==n?.origin})}}})],PC.prototype,"cap",void 0),S([To({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,n)=>({enabled:"round"!==e&&null==n?.origin})}}})],PC.prototype,"join",void 0),S([To({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":RC}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],PC.prototype,"marker",void 0),S([To({type:Number,json:{read:!1,write:!1}})],PC.prototype,"miterLimit",void 0),PC=LC=S([gs("esri.symbols.SimpleLineSymbol")],PC);const DC=PC;let FC=class extends AI{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};S([To({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":DC}},json:{default:null,write:!0}})],FC.prototype,"outline",void 0),S([To({type:["simple-fill","picture-fill"],readOnly:!0})],FC.prototype,"type",void 0),FC=S([gs("esri.symbols.FillSymbol")],FC);const jC=FC;let UC=class extends Hs{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};S([To({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],UC.prototype,"type",void 0),UC=S([gs("esri.symbols.patterns.LinePattern3D")],UC);const zC=UC,GC=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var VC;const BC=uu()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let $C=VC=class extends zC{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new VC(e)}};S([To({type:["style"]})],$C.prototype,"type",void 0),S([WM(BC),To({type:GC})],$C.prototype,"style",void 0),$C=VC=S([gs("esri.symbols.patterns.LineStylePattern3D")],$C);const HC=$C;let WC=class extends Hs{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};S([To({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],WC.prototype,"type",void 0),WC=S([gs("esri.symbols.patterns.Pattern3D")],WC);const qC=WC,ZC=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var YC;let XC=YC=class extends qC{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new YC({style:this.style})}};S([To({type:["style"]})],XC.prototype,"type",void 0),S([To({type:ZC,json:{read:!0,write:!0}})],XC.prototype,"style",void 0),XC=YC=S([gs("esri.symbols.patterns.StylePattern3D")],XC);const JC=XC,KC={types:{key:"type",base:qC,typeMap:{style:JC}},json:{write:!0}},QC={types:{key:"type",base:zC,typeMap:{style:HC}},json:{write:!0}},eO=new gy("white");new gy("black");const tO=new gy([255,255,255,0]);function nO(e){return 0===e.r&&0===e.g&&0===e.b}var rO;let iO=rO=class extends xC{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?sC(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new rO(e)}};function oO(e,t=!1){return e<=ye?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function sO(e){return(de(e)?e.length:e.byteLength/8)<=ye?Array.from(e):new Float64Array(e)}function aO(e,t,n){return Array.isArray(e)?e.slice(t,t+n):e.subarray(t,t+n)}function lO(e=RO){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function cO(e,t,n,r,i,o,s=lO()){return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=o,s}function uO(e,t=lO()){return hO(e,0,e.length/3,t)}function hO(e,t,n,r=lO()){return EO(r,kO),yO(r,e,t,n),r}function pO(e,t=oO(24)){const[n,r,i,o,s,a]=e;return t[0]=n,t[1]=r,t[2]=i,t[3]=n,t[4]=r,t[5]=a,t[6]=n,t[7]=s,t[8]=i,t[9]=n,t[10]=s,t[11]=a,t[12]=o,t[13]=r,t[14]=i,t[15]=o,t[16]=r,t[17]=a,t[18]=o,t[19]=s,t[20]=i,t[21]=o,t[22]=s,t[23]=a,t}function dO(e,t){const n=isFinite(e[2])||isFinite(e[5]);return new Gd(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function fO(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function mO(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function yO(e,t,n=0,r=t.length/3){let i=e[0],o=e[1],s=e[2],a=e[3],l=e[4],c=e[5];for(let u=0;u<r;u++)i=Math.min(i,t[n+3*u]),o=Math.min(o,t[n+3*u+1]),s=Math.min(s,t[n+3*u+2]),a=Math.max(a,t[n+3*u]),l=Math.max(l,t[n+3*u+1]),c=Math.max(c,t[n+3*u+2]);e[0]=i,e[1]=o,e[2]=s,e[3]=a,e[4]=l,e[5]=c}function gO(e){return e[0]>=e[3]?0:e[3]-e[0]}function vO(e){return e[1]>=e[4]?0:e[4]-e[1]}function bO(e){return e[2]>=e[5]?0:e[5]-e[2]}function wO(e){const t=gO(e),n=bO(e),r=vO(e);return Math.sqrt(t*t+n*n+r*r)}function _O(e,t=[0,0,0]){return t[0]=e[0]+gO(e)/2,t[1]=e[1]+vO(e)/2,t[2]=e[2]+bO(e)/2,t}function xO(e,t=[0,0,0]){return t[0]=gO(e),t[1]=vO(e),t[2]=bO(e),t}function SO(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function TO(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function EO(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function MO(e){return e?EO(e,kO):lO(kO)}function AO(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function IO(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function CO(e){return 6===e.length}function OO(e,t,n){if(null==e||null==t)return e===t;if(!CO(e)||!CO(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}S([WM({multiply:"multiply",replace:"replace",tint:"tint"})],iO.prototype,"colorMixMode",void 0),iO=rO=S([gs("esri.symbols.support.Symbol3DFillMaterial")],iO);const kO=[1/0,1/0,1/0,-1/0,-1/0,-1/0],RO=[0,0,0,0,0,0];function LO(e,{isPrimitive:t,width:n,depth:r,height:i}){const o=t?10:1;if(null==n&&null==i&&null==r)return[o*e[0],o*e[1],o*e[2]];const s=aC(n,r,i);let a;for(let l=0;l<3;l++){const t=s[l];if(null!=t){a=t/e[l];break}}for(let l=0;l<3;l++)null==s[l]&&(s[l]=e[l]*a);return s}lO();const NO=cO(-.5,-.5,-.5,.5,.5,.5),PO=cO(-.5,-.5,0,.5,.5,1),DO=cO(-.5,-.5,0,.5,.5,.5);function FO(e){switch(e){case"sphere":case"cube":case"diamond":return NO;case"cylinder":case"cone":case"inverted-cone":return PO;case"tetrahedron":return DO;default:return}}const jO=["butt","square","round"],UO=[...jO,"none"],zO=["miter","bevel","round"];var GO;let VO=GO=class extends Hs{constructor(e){super(e),this.color=new gy([0,0,0,1]),this.size=FI(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new GO(e)}};var BO;S([To(ZI)],VO.prototype,"color",void 0),S([To(YI)],VO.prototype,"size",void 0),S([To(QC)],VO.prototype,"pattern",void 0),S([To({type:jO,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],VO.prototype,"patternCap",void 0),VO=GO=S([gs("esri.symbols.support.Symbol3DOutline")],VO);let $O=BO=class extends RI{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new BO(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&"solid"!==e.outline.style?new HC({style:e.outline.style}):null,n={size:e.outline?.width??0,color:(e.outline?.color??eO).clone(),pattern:t};return t&&e.outline?.cap&&(n.patternCap=e.outline.cap),new BO({material:new iO({color:(e.color??tO).clone()}),pattern:e.style&&"solid"!==e.style?new JC({style:e.style}):null,outline:n})}};S([WM({Fill:"fill"},{readOnly:!0})],$O.prototype,"type",void 0),S([To({type:iO,json:{write:!0}})],$O.prototype,"material",void 0),S([To(KC)],$O.prototype,"pattern",void 0),S([To({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],$O.prototype,"castShadows",void 0),S([To({type:VO,json:{write:!0}})],$O.prototype,"outline",void 0),S([To(iC)],$O.prototype,"edges",void 0),$O=BO=S([gs("esri.symbols.FillSymbol3DLayer")],$O);const HO=$O,WO=["none","underline","line-through"],qO=["normal","italic","oblique"],ZO=["normal","lighter","bold","bolder"],YO={type:Number,cast:e=>{const t=Wi(e);return 0===t?1:Wm(t,.1,4)},nonNullable:!0},XO=["left","right","center"],JO=["baseline","top","middle","bottom"],KO={type:XO,nonNullable:!0},QO={type:JO,nonNullable:!0},ek=8;var tk;let nk=tk=class extends Hs{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return jI(e)}clone(){return new tk({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};S([To({type:WO,json:{default:"none",write:!0}})],nk.prototype,"decoration",void 0),S([To({type:String,json:{write:!0}})],nk.prototype,"family",void 0),S([To({type:Number,json:{write:{overridePolicy:(e,t,n)=>({enabled:!n||!n.textSymbol3D})}}})],nk.prototype,"size",void 0),S([Dp("size")],nk.prototype,"castSize",null),S([To({type:qO,json:{default:"normal",write:!0}})],nk.prototype,"style",void 0),S([To({type:ZO,json:{default:"normal",write:!0}})],nk.prototype,"weight",void 0),nk=tk=S([gs("esri.symbols.Font")],nk);const rk=nk;var ik;const ok=uu()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let sk=ik=class extends Hs{constructor(e){super(e)}readHref(e,t,n){return e?If(e,n):t.dataURI}writeHref(e,t,n,r){e&&(Ba(e)?t.dataURI=e:(t.href=Cf(e,r),Ga(t.href)&&(t.href=ja(t.href))))}clone(){return new ik({href:this.href,primitive:this.primitive})}};var ak;S([To({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],sk.prototype,"href",void 0),S([Cp("href")],sk.prototype,"readHref",null),S([su("href",{href:{type:String},dataURI:{type:String}})],sk.prototype,"writeHref",null),S([WM(ok)],sk.prototype,"primitive",void 0),sk=ik=S([gs("esri.symbols.support.IconSymbol3DLayerResource")],sk);let lk=ak=class extends Ms{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new ak({x:this.x,y:this.y})}};var ck;S([To({type:Number})],lk.prototype,"x",void 0),S([To({type:Number})],lk.prototype,"y",void 0),lk=ak=S([gs("esri.symbols.support.Symbol3DAnchorPosition2D")],lk);let uk=ck=class extends Hs{constructor(e){super(e),this.color=new gy([0,0,0,1]),this.size=FI(1)}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size};return new ck(e)}};var hk;S([To(ZI)],uk.prototype,"color",void 0),S([To(YI)],uk.prototype,"size",void 0),uk=ck=S([gs("esri.symbols.support.Symbol3DIconOutline")],uk);const pk="esri.symbols.IconSymbol3DLayer";let dk=hk=class extends RI{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new hk({anchor:this.anchor,anchorPosition:_e(this.anchorPosition),enabled:this.enabled,material:_e(this.material),outline:_e(this.outline),resource:_e(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||eO,n=mk(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||eO).clone()}:null;return new hk({size:e.size,angle:e.angle,resource:{primitive:vk(e.style)},material:{color:t},outline:r,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(e){const t=!e.color||nO(e.color)?eO:e.color,n=mk(e);return new hk({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(e){return new hk({resource:{href:Za({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};S([To({type:xC,json:{write:!0}})],dk.prototype,"material",void 0),S([To({type:sk,json:{write:!0}})],dk.prototype,"resource",void 0),S([WM({Icon:"icon"},{readOnly:!0})],dk.prototype,"type",void 0),S([To(YI)],dk.prototype,"size",void 0),S([WM({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],dk.prototype,"anchor",void 0),S([To({type:lk,json:{type:[Number],read:{reader:e=>new lk({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],dk.prototype,"anchorPosition",void 0),S([To({type:uk,json:{write:!0}})],dk.prototype,"outline",void 0),S([To({type:Number,json:{write:!0,default:0}})],dk.prototype,"angle",void 0),dk=hk=S([gs(pk)],dk);const fk=dk;function mk(e){const t="width"in e?e.width:e.size,n="height"in e?e.height:e.size,r=yk(e.xoffset),i=yk(e.yoffset);return(r||i)&&t&&n?{x:-r/t,y:i/n}:null}function yk(e){return isFinite(e)?e:0}const gk={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function vk(e){return gk[e]||(Ye.getLogger(pk).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}let bk=class extends(_v(Hs)){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return null!=e&&e.placement===this.placement&&e.style===this.style&&(null==this.color&&null==e.color||null!=this.color&&null!=e.color&&this.color.toJSON()===e.color.toJSON())}};S([To({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],bk.prototype,"type",void 0),S([To({type:IC,json:{default:"begin-end",write:!0}})],bk.prototype,"placement",void 0),S([To({type:CC,json:{default:"arrow",write:!0}})],bk.prototype,"style",void 0),S([To({type:gy,json:{type:[yo],default:null,write:!0}})],bk.prototype,"color",void 0),bk=S([gs("esri.symbols.LineStyleMarker3D")],bk);const wk=bk;var _k;let xk=_k=class extends RI{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=FI(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new _k(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??FI(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new HC({style:e.style}):null,material:new xC({color:(e.color||eO).clone()}),marker:e.marker?new wk({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new _k(t)}};S([To({type:xC,json:{write:!0}})],xk.prototype,"material",void 0),S([WM({Line:"line"},{readOnly:!0})],xk.prototype,"type",void 0),S([To({type:zO,json:{write:!0,default:"miter"}})],xk.prototype,"join",void 0),S([To({type:jO,json:{write:!0,default:"butt"}})],xk.prototype,"cap",void 0),S([To(YI)],xk.prototype,"size",void 0),S([To(QC)],xk.prototype,"pattern",void 0),S([To({types:{key:"type",base:wk,typeMap:{style:wk}},json:{write:!0}})],xk.prototype,"marker",void 0),xk=_k=S([gs("esri.symbols.LineSymbol3DLayer")],xk);const Sk=xk;var Tk;const Ek=uu()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Mk=Tk=class extends Hs{clone(){return new Tk({href:this.href,primitive:this.primitive})}};var Ak;S([To({type:String,json:{read:Of,write:kf}})],Mk.prototype,"href",void 0),S([WM(Ek)],Mk.prototype,"primitive",void 0),Mk=Tk=S([gs("esri.symbols.support.ObjectSymbol3DLayerResource")],Mk);let Ik=Ak=class extends Ms{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Ak({x:this.x,y:this.y,z:this.z})}};var Ck;S([To({type:Number})],Ik.prototype,"x",void 0),S([To({type:Number})],Ik.prototype,"y",void 0),S([To({type:Number})],Ik.prototype,"z",void 0),Ik=Ak=S([gs("esri.symbols.support.Symbol3DAnchorPosition3D")],Ik);let Ok=Ck=class extends RI{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new Ck({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};S([To({type:xC,json:{write:!0}})],Ok.prototype,"material",void 0),S([To({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ok.prototype,"castShadows",void 0),S([To({type:Mk,json:{write:!0}})],Ok.prototype,"resource",void 0),S([WM({Object:"object"},{readOnly:!0})],Ok.prototype,"type",void 0),S([To({type:Number,json:{write:!0}})],Ok.prototype,"width",void 0),S([To({type:Number,json:{write:!0}})],Ok.prototype,"height",void 0),S([To({type:Number,json:{write:!0}})],Ok.prototype,"depth",void 0),S([WM({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],Ok.prototype,"anchor",void 0),S([To({type:Ik,json:{type:[Number],read:{reader:e=>new Ik({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],Ok.prototype,"anchorPosition",void 0),S([To({type:Number,json:{write:!0}})],Ok.prototype,"heading",void 0),S([To({type:Number,json:{write:!0}})],Ok.prototype,"tilt",void 0),S([To({type:Number,json:{write:!0}})],Ok.prototype,"roll",void 0),S([To({readOnly:!0})],Ok.prototype,"isPrimitive",null),Ok=Ck=S([gs("esri.symbols.ObjectSymbol3DLayer")],Ok);const kk=Ok;var Rk;let Lk=Rk=class extends RI{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(null==t.height&&null!=t.size?t.size:void 0)}readHeight(e,t){return e??(null==t.width&&null!=t.size?t.size:void 0)}clone(){return new Rk({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};S([To({type:xC,json:{write:!0}})],Lk.prototype,"material",void 0),S([To({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Lk.prototype,"castShadows",void 0),S([WM({Path:"path"},{readOnly:!0})],Lk.prototype,"type",void 0),S([To({type:["circle","quad"],json:{write:!0,default:"circle"}})],Lk.prototype,"profile",void 0),S([To({type:zO,json:{write:!0,default:"miter"}})],Lk.prototype,"join",void 0),S([To({type:UO,json:{write:!0,default:"butt"}})],Lk.prototype,"cap",void 0),S([To({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Lk.prototype,"width",void 0),S([Cp("width",["width","size","height"])],Lk.prototype,"readWidth",null),S([To({type:Number,json:{write:!0}})],Lk.prototype,"height",void 0),S([Cp("height",["height","size","width"])],Lk.prototype,"readHeight",null),S([To({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Lk.prototype,"anchor",void 0),S([To({type:["heading","all"],json:{write:!0,default:"all"}})],Lk.prototype,"profileRotation",void 0),Lk=Rk=S([gs("esri.symbols.PathSymbol3DLayer")],Lk);const Nk=Lk;var Pk;let Dk=Pk=class extends Hs{constructor(){super(...arguments),this.color=new gy([0,0,0,1]),this.size=0}clone(){const e={color:_e(this.color),size:this.size};return new Pk(e)}};S([To(ZI)],Dk.prototype,"color",void 0),S([To(YI)],Dk.prototype,"size",void 0),Dk=Pk=S([gs("esri.symbols.support.Symbol3DHalo")],Dk);let Fk=class extends(_v(Hs)){constructor(e){super(e),this.color=null}};var jk;S([To(ZI)],Fk.prototype,"color",void 0),Fk=S([gs("esri.symbols.support.Symbol3DTextBackground")],Fk);let Uk=jk=class extends RI{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){null!=e&&null!=this._userSize&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,n,r){const i={...r,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(e){this._userSize=e,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new jk({enabled:this.enabled,font:this.font&&_e(this.font),halo:this.halo&&_e(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:_e(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new jk({font:null!=e.font?e.font.clone():new rk,halo:zk(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new xC({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Fk({color:e.backgroundColor.clone()}):null})}};function zk(e,t){return e&&null!=t&&t>0?new Dk({color:_e(e),size:t}):null}S([To({type:rk,json:{write:!0}})],Uk.prototype,"font",null),S([su("font")],Uk.prototype,"writeFont",null),S([To({type:Dk,json:{write:!0}})],Uk.prototype,"halo",void 0),S([To({...KO,json:{default:"center",write:!0}})],Uk.prototype,"horizontalAlignment",void 0),S([To({...YO,json:{default:1,write:!0}})],Uk.prototype,"lineHeight",void 0),S([To({type:xC,json:{write:!0}})],Uk.prototype,"material",void 0),S([To({type:Fk,json:{write:!0}})],Uk.prototype,"background",void 0),S([To(YI)],Uk.prototype,"size",null),S([To({type:String,json:{write:!0}})],Uk.prototype,"text",void 0),S([WM({Text:"text"},{readOnly:!0})],Uk.prototype,"type",void 0),S([To({...QO,json:{default:"baseline",write:!0}})],Uk.prototype,"verticalAlignment",void 0),Uk=jk=S([gs("esri.symbols.TextSymbol3DLayer")],Uk);const Gk=Uk;var Vk;let Bk=Vk=class extends RI{constructor(e){super(e),this.color=Hk.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Vk({color:_e(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};S([To({type:gy,nonNullable:!0,json:{type:[yo],write:(e,t,n)=>t[n]=e.toArray(gy.AlphaMode.UNLESS_OPAQUE),default:()=>Hk.clone(),defaultEquals:e=>e.toCss(!0)===Hk.toCss(!0)}})],Bk.prototype,"color",void 0),S([WM({Water:"water"},{readOnly:!0})],Bk.prototype,"type",void 0),S([To({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Bk.prototype,"waterbodySize",void 0),S([To({type:Number,json:{write:!0,default:null}})],Bk.prototype,"waveDirection",void 0),S([To({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Bk.prototype,"waveStrength",void 0),Bk=Vk=S([gs("esri.symbols.WaterSymbol3DLayer")],Bk);const $k=Bk,Hk=new gy([0,119,190]);var Wk;let qk=Wk=class extends Ms{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new Wk({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};S([To({type:String})],qk.prototype,"name",void 0),S([To({type:String})],qk.prototype,"styleUrl",void 0),S([To({type:String})],qk.prototype,"styleName",void 0),S([To({type:wf})],qk.prototype,"portal",void 0),qk=Wk=S([gs("esri.symbols.support.StyleOrigin")],qk);const Zk=qk;var Yk;let Xk=Yk=class extends Ms{constructor(){super(...arguments),this.url=""}clone(){return new Yk({url:this.url})}};S([To({type:String})],Xk.prototype,"url",void 0),Xk=Yk=S([gs("esri.symbols.support.Thumbnail")],Xk);const Jk={icon:fk,object:kk,line:Sk,path:Nk,fill:HO,extrude:EC,text:Gk,water:$k},Kk=Rc.ofType({base:RI,key:"type",typeMap:Jk,errorContext:"symbol-layer"});let Qk=class extends AI{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=t?.type,r=n||Rc;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.constructed&&Ye.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Lc(e,this._get("symbolLayers"))}readStyleOrigin(e,t,n){if(e.styleUrl&&e.name){const t=If(e.styleUrl,n);return new Zk({styleUrl:t,name:e.name})}if(e.styleName&&e.name)return new Zk({portal:n?.portal||wf.getDefault(),styleName:e.styleName,name:e.name});n?.messages&&n.messages.push(new Co("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:e}))}writeStyleOrigin(e,t,n,r){if(e.styleUrl&&e.name){let n=Cf(e.styleUrl,r);Ga(n)&&(n=ja(n)),t.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&r?.portal&&!Oa(e.portal.restUrl,r.portal.restUrl)?r?.messages&&r.messages.push(new Co("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof RI||e&&Jk[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};S([To({json:{read:!1,write:!1}})],Qk.prototype,"color",null),S([To({type:Kk,nonNullable:!0,json:{write:!0}}),Dp(Nc)],Qk.prototype,"symbolLayers",null),S([To({type:Zk})],Qk.prototype,"styleOrigin",void 0),S([Cp("styleOrigin")],Qk.prototype,"readStyleOrigin",null),S([su("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Qk.prototype,"writeStyleOrigin",null),S([To({type:Xk,json:{read:!1}})],Qk.prototype,"thumbnail",void 0),S([To({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Qk.prototype,"type",void 0),Qk=S([gs("esri.symbols.Symbol3D")],Qk);const eR=Qk;let tR=class extends Hs{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};S([To({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],tR.prototype,"type",void 0),S([To({readOnly:!0})],tR.prototype,"visible",void 0),tR=S([gs("esri.symbols.callouts.Callout3D")],tR);const nR=tR;var rR;let iR=rR=class extends Hs{constructor(e){super(e),this.color=new gy("white")}clone(){return new rR({color:_e(this.color)})}};S([To(ZI)],iR.prototype,"color",void 0),iR=rR=S([gs("esri.symbols.callouts.LineCallout3DBorder")],iR);const oR=iR;var sR;let aR=sR=class extends nR{constructor(e){super(e),this.type="line",this.color=new gy([0,0,0,1]),this.size=FI(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new sR({color:_e(this.color),size:this.size,border:_e(this.border)})}};S([WM({line:"line"})],aR.prototype,"type",void 0),S([To(ZI)],aR.prototype,"color",void 0),S([To(YI)],aR.prototype,"size",void 0),S([To({type:oR,json:{write:!0}})],aR.prototype,"border",void 0),S([To({readOnly:!0})],aR.prototype,"visible",null),aR=sR=S([gs("esri.symbols.callouts.LineCallout3D")],aR);const lR=aR;function cR(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||null!=t.maxWorldLength&&t.maxWorldLength<=0)}function uR(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!cR(e)}const hR={types:{key:"type",base:nR,typeMap:{line:lR}},json:{write:!0}};var pR;let dR=pR=class extends Hs{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new pR({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};S([To(YI)],dR.prototype,"screenLength",void 0),S([To({type:Number,nonNullable:!0,json:{write:!0,default:0}})],dR.prototype,"minWorldLength",void 0),S([To({type:Number,json:{write:!0}})],dR.prototype,"maxWorldLength",void 0),dR=pR=S([gs("esri.symbols.support.Symbol3DVerticalOffset")],dR);const fR=dR;var mR;const yR=Rc.ofType({base:null,key:"type",typeMap:{text:Gk}});let gR=mR=class extends eR{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new yR,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return uR(this)}hasVisibleVerticalOffset(){return cR(this)}clone(){return new mR({styleOrigin:_e(this.styleOrigin),symbolLayers:_e(this.symbolLayers),thumbnail:_e(this.thumbnail),callout:_e(this.callout),verticalOffset:_e(this.verticalOffset)})}static fromTextSymbol(e){return new mR({symbolLayers:new Rc([Gk.fromTextSymbol(e)])})}};S([To({type:fR,json:{write:!0}})],gR.prototype,"verticalOffset",void 0),S([To(hR)],gR.prototype,"callout",void 0),S([To({json:{read:!1,write:!1}})],gR.prototype,"styleOrigin",void 0),S([To({type:yR})],gR.prototype,"symbolLayers",void 0),S([WM({LabelSymbol3D:"label-3d"},{readOnly:!0})],gR.prototype,"type",void 0),gR=mR=S([gs("esri.symbols.LabelSymbol3D")],gR);const vR=gR;var bR;const wR=Rc.ofType({base:null,key:"type",typeMap:{line:Sk,path:Nk}}),_R=Rc.ofType({base:null,key:"type",typeMap:{line:Sk,path:Nk}});let xR=bR=class extends eR{constructor(e){super(e),this.symbolLayers=new wR,this.type="line-3d"}clone(){return new bR({styleOrigin:_e(this.styleOrigin),symbolLayers:_e(this.symbolLayers),thumbnail:_e(this.thumbnail)})}static fromSimpleLineSymbol(e){return new bR({symbolLayers:new Rc([Sk.fromSimpleLineSymbol(e)])})}};S([To({type:wR,json:{type:_R}})],xR.prototype,"symbolLayers",void 0),S([WM({LineSymbol3D:"line-3d"},{readOnly:!0})],xR.prototype,"type",void 0),xR=bR=S([gs("esri.symbols.LineSymbol3D")],xR);const SR=xR;let TR=class extends AI{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};S([To({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],TR.prototype,"angle",void 0),S([To({type:["simple-marker","picture-marker"],readOnly:!0})],TR.prototype,"type",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],TR.prototype,"xoffset",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],TR.prototype,"yoffset",void 0),S([To({cast:e=>"auto"===e?e:Wi(jI(e)),json:{write:!0}})],TR.prototype,"size",void 0),TR=S([gs("esri.symbols.MarkerSymbol")],TR);const ER=TR;var MR;const AR=Rc.ofType({base:null,key:"type",typeMap:{fill:HO}});let IR=MR=class extends eR{constructor(e){super(e),this.symbolLayers=new AR,this.type="mesh-3d"}clone(){return new MR({styleOrigin:_e(this.styleOrigin),symbolLayers:_e(this.symbolLayers),thumbnail:_e(this.thumbnail)})}static fromSimpleFillSymbol(e){return new MR({symbolLayers:new Rc([HO.fromSimpleFillSymbol(e)])})}};S([To({type:AR})],IR.prototype,"symbolLayers",void 0),S([WM({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],IR.prototype,"type",void 0),IR=MR=S([gs("esri.symbols.MeshSymbol3D")],IR);const CR=IR;function OR(e,t,n){return t.imageData?Za({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):kR(t.url,n)}function kR(e,t){if(!Ga(e)){const n=PR(t);if(n)return Ua(n,"images",e)}return If(e,t)}function RR(e,t,n,r){if(Ba(e)){const i=qa(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,n&&n.imageData===t.imageData&&n.url&&kf(n.url,t,"url",r)}else kf(e,t,"url",r)}const LR={json:{read:{source:["imageData","url"],reader:OR},write:{writer(e,t,n,r){RR(e,t,this.source,r)}}}},NR={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,n){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=kR(t.url,n)),r}}}};function PR(e){if(!e)return null;const{origin:t,layer:n}=e;if("service"!==t&&"portal-item"!==t)return null;const r=n?.type;return"feature"===r||"stream"===r?n.parsedUrl?.path:"map-image"===r||"tile"===r?e.url?.path:null}var DR;let FR=DR=class extends jC{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,n,r){if(e&&"string"!=typeof e&&null==e.imageData)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),null!=n&&(i.width=jI(n)),null!=r&&(i.height=jI(r)),i}clone(){const e=new DR({color:_e(this.color),height:this.height,outline:_e(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",_e(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};S([WM({esriPFS:"picture-fill"},{readOnly:!0})],FR.prototype,"type",void 0),S([To(LR)],FR.prototype,"url",void 0),S([To({type:Number,json:{write:!0}})],FR.prototype,"xscale",void 0),S([To({type:Number,json:{write:!0}})],FR.prototype,"yscale",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],FR.prototype,"width",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],FR.prototype,"height",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],FR.prototype,"xoffset",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],FR.prototype,"yoffset",void 0),S([To(NR)],FR.prototype,"source",void 0),FR=DR=S([gs("esri.symbols.PictureFillSymbol")],FR);const jR=FR;var UR;let zR=UR=class extends ER{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,n){if(e&&"string"!=typeof e&&null==e.imageData)return e;const r={};return e&&(r.url=e),null!=t&&(r.width=jI(t)),null!=n&&(r.height=jI(n)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new UR({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",_e(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};S([To({json:{write:!1}})],zR.prototype,"color",void 0),S([WM({esriPMS:"picture-marker"},{readOnly:!0})],zR.prototype,"type",void 0),S([To(LR)],zR.prototype,"url",void 0),S([To(NR)],zR.prototype,"source",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],zR.prototype,"height",void 0),S([Cp("height",["height","size"])],zR.prototype,"readHeight",null),S([To({type:Number,cast:jI,json:{write:!0}})],zR.prototype,"width",void 0),S([To({json:{write:!1}})],zR.prototype,"size",void 0),zR=UR=S([gs("esri.symbols.PictureMarkerSymbol")],zR);const GR=zR;var VR;const BR=Rc.ofType({base:null,key:"type",typeMap:{icon:fk,object:kk,text:Gk}});let $R=VR=class extends eR{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new BR,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return uR(this)}hasVisibleVerticalOffset(){return cR(this)}clone(){return new VR({verticalOffset:_e(this.verticalOffset),callout:_e(this.callout),styleOrigin:_e(this.styleOrigin),symbolLayers:_e(this.symbolLayers),thumbnail:_e(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new VR({symbolLayers:new Rc([fk.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new VR({symbolLayers:new Rc([fk.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if("CIMPointSymbol"!==e.data?.symbol?.type)return null;const t=e.data.symbol;return new VR(t?.callout?{symbolLayers:new Rc([fk.fromCIMSymbol(e)]),callout:new lR({size:.5,color:new gy([0,0,0])}),verticalOffset:new fR({screenLength:40})}:{symbolLayers:new Rc([fk.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new VR({symbolLayers:new Rc([Gk.fromTextSymbol(e)])})}};S([To({type:fR,json:{write:!0}})],$R.prototype,"verticalOffset",void 0),S([To(hR)],$R.prototype,"callout",void 0),S([To({type:BR,json:{origins:{"web-scene":{write:!0}}}})],$R.prototype,"symbolLayers",void 0),S([WM({PointSymbol3D:"point-3d"},{readOnly:!0})],$R.prototype,"type",void 0),$R=VR=S([gs("esri.symbols.PointSymbol3D")],$R);const HR=$R;function WR(e,t,n={}){return ZR(e,t,n,KR)}function qR(e,t,n={}){return ZR(e,t,n,QR)}function ZR(e,t,n={},r){let i=null;const o=n.once?(e,n)=>{r(e)&&(gt(i),t(e,n))}:(e,n)=>{r(e)&&t(e,n)};if(i=Fi(e,o,n.sync,n.equals),n.initial){const t=e();o(t,t)}return i}function YR(e,t,n,r={}){let i=null,o=null,s=null;function a(){i&&o&&(o.remove(),r.onListenerRemove?.(i),i=null,o=null)}function l(e){r.once&&r.once&&gt(s),n(e)}const c=WR(e,((e,n)=>{a(),Kn(e)&&(i=e,o=tr(e,t,l),r.onListenerAdd?.(e))}),{sync:r.sync,initial:!0});return s=Tt((()=>{c.remove(),a()})),s}function XR(e,t){return JR(e,QR,t)}function JR(e,t,n){if(ar(n))return Promise.reject(ir());const r=e();if(t?.(r))return Promise.resolve(r);let i=null;function o(){i=gt(i)}return new Promise(((r,s)=>{i=Mt([ur(n,(()=>{o(),s(ir())})),ZR(e,(e=>{o(),r(e)}),{sync:!1,once:!0},t??KR)])}))}function KR(e){return!0}function QR(e){return!!e}const eL={sync:!0},tL={initial:!0},nL={sync:!0,initial:!0};var rL;const iL=Rc.ofType({base:null,key:"type",typeMap:{extrude:EC,fill:HO,icon:fk,line:Sk,object:kk,text:Gk,water:$k}});let oL=rL=class extends eR{constructor(e){super(e),this.symbolLayers=new iL,this.type="polygon-3d"}initialize(){const e=e=>{"line"===e.type&&st(Ye.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),"text"===e.type&&st(Ye.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(YR((()=>this.symbolLayers),"after-add",(({item:t})=>e(t)),eL))}clone(){return new rL({styleOrigin:_e(this.styleOrigin),symbolLayers:_e(this.symbolLayers),thumbnail:_e(this.thumbnail)})}static fromJSON(e){const t=new rL;if(t.read(e),2===t.symbolLayers.length&&"fill"===t.symbolLayers.at(0).type&&"line"===t.symbolLayers.at(1).type){const n=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&!1===e.symbolLayers[1].enable||(n.outline={size:r.size,color:null!=r.material?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new rL({symbolLayers:new Rc([HO.fromSimpleFillSymbol(e)])})}};S([To({type:iL,json:{write:!0}})],oL.prototype,"symbolLayers",void 0),S([WM({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],oL.prototype,"type",void 0),oL=rL=S([gs("esri.symbols.PolygonSymbol3D")],oL);const sL=oL;var aL;const lL=new au({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let cL=aL=class extends jC{constructor(...e){super(...e),this.color=new gy([0,0,0,.25]),this.outline=new DC,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,n){if(e&&"string"!=typeof e)return e;const r={};return e&&(r.style=e),t&&(r.outline=t),n&&(r.color=n),r}clone(){return new aL({color:_e(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};S([To()],cL.prototype,"color",void 0),S([To()],cL.prototype,"outline",void 0),S([WM({esriSFS:"simple-fill"},{readOnly:!0})],cL.prototype,"type",void 0),S([To({type:lL.apiValues,json:{read:lL.read,write:lL.write}})],cL.prototype,"style",void 0),cL=aL=S([gs("esri.symbols.SimpleFillSymbol")],cL);const uL=cL;var hL;const pL=new au({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let dL=hL=class extends ER{constructor(...e){super(...e),this.color=new gy([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new DC}normalizeCtorArgs(e,t,n,r){if(e&&"string"!=typeof e)return e;const i={};return e&&(i.style=e),null!=t&&(i.size=jI(t)),n&&(i.outline=n),r&&(i.color=r),i}writeColor(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new hL({angle:this.angle,color:_e(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};S([To()],dL.prototype,"color",void 0),S([su("color")],dL.prototype,"writeColor",null),S([WM({esriSMS:"simple-marker"},{readOnly:!0})],dL.prototype,"type",void 0),S([To()],dL.prototype,"size",void 0),S([To({type:pL.apiValues,json:{read:pL.read,write:pL.write}})],dL.prototype,"style",void 0),S([To({type:String,json:{write:!0}})],dL.prototype,"path",null),S([To({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":DC}},json:{default:null,write:!0}})],dL.prototype,"outline",void 0),dL=hL=S([gs("esri.symbols.SimpleMarkerSymbol")],dL);const fL=dL;var mL;let yL=mL=class extends AI{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new rk,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,n){if(e&&"string"!=typeof e)return e;const r={};return e&&(r.text=e),t&&(r.font=t),n&&(r.color=n),r}writeLineWidth(e,t,n,r){r&&"string"!=typeof r?r.origin:t[n]=e}castLineWidth(e){return jI(e)}writeLineHeight(e,t,n,r){r&&"string"!=typeof r?r.origin:t[n]=e}clone(){return new mL({angle:this.angle,backgroundColor:_e(this.backgroundColor),borderLineColor:_e(this.borderLineColor),borderLineSize:this.borderLineSize,color:_e(this.color),font:this.font&&this.font.clone(),haloColor:_e(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};S([To({type:gy,json:{write:!0}})],yL.prototype,"backgroundColor",void 0),S([To({type:gy,json:{write:!0}})],yL.prototype,"borderLineColor",void 0),S([To({type:Number,json:{write:!0},cast:jI})],yL.prototype,"borderLineSize",void 0),S([To({type:rk,json:{write:!0}})],yL.prototype,"font",void 0),S([To({...KO,json:{write:!0}})],yL.prototype,"horizontalAlignment",void 0),S([To({type:Boolean,json:{write:!0}})],yL.prototype,"kerning",void 0),S([To({type:gy,json:{write:!0}})],yL.prototype,"haloColor",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],yL.prototype,"haloSize",void 0),S([To({type:Boolean,json:{write:!0}})],yL.prototype,"rightToLeft",void 0),S([To({type:Boolean,json:{write:!0}})],yL.prototype,"rotated",void 0),S([To({type:String,json:{write:!0}})],yL.prototype,"text",void 0),S([WM({esriTS:"text"},{readOnly:!0})],yL.prototype,"type",void 0),S([To({...QO,json:{write:!0}})],yL.prototype,"verticalAlignment",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],yL.prototype,"xoffset",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],yL.prototype,"yoffset",void 0),S([To({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],yL.prototype,"angle",void 0),S([To({type:Number,json:{write:!0}})],yL.prototype,"width",void 0),S([To({type:Number})],yL.prototype,"lineWidth",void 0),S([su("lineWidth")],yL.prototype,"writeLineWidth",null),S([Dp("lineWidth")],yL.prototype,"castLineWidth",null),S([To(YO)],yL.prototype,"lineHeight",void 0),S([su("lineHeight")],yL.prototype,"writeLineHeight",null),yL=mL=S([gs("esri.symbols.TextSymbol")],yL);const gL=yL;var vL;let bL=vL=class extends AI{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=null!=this.portal?this.portal:wf.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new vL({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=null!=t?t.cache:null,i=r?this._fetchCacheKey:null;if(null!=r){const e=i&&r.get(i);if(e)return e.clone()}const{resolveWebStyleSymbol:o}=await n.e(9247).then(n.bind(n,69247));or(t);const s=o(this,{portal:this.portal},e,t);s.catch((e=>{Ye.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",e)}));const a=await s;return"webRef"===e&&"point-3d"===a.type||"cimRef"===e&&"cim"===a.type?(r?.set(i,a.clone()),a):null}};S([To({json:{write:!1}})],bL.prototype,"color",void 0),S([To({type:String,json:{write:!0}})],bL.prototype,"styleName",void 0),S([To({type:wf,json:{write:!1}})],bL.prototype,"portal",void 0),S([To({type:String,json:{read:Of,write:kf}})],bL.prototype,"styleUrl",void 0),S([To({type:Xk,json:{read:!1}})],bL.prototype,"thumbnail",void 0),S([To({type:String,json:{write:!0}})],bL.prototype,"name",void 0),S([WM({styleSymbolReference:"web-style"},{readOnly:!0})],bL.prototype,"type",void 0),S([To()],bL.prototype,"_fetchCacheKey",null),bL=vL=S([gs("esri.symbols.WebStyleSymbol")],bL);const wL=bL;function _L(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function xL(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const SL={base:AI,key:"type",typeMap:{"simple-fill":uL,"picture-fill":jR,"picture-marker":GR,"simple-line":DC,"simple-marker":fL,text:gL,"label-3d":vR,"line-3d":SR,"mesh-3d":CR,"point-3d":HR,"polygon-3d":sL,"web-style":wL,cim:OI},errorContext:"symbol"},TL={base:AI,key:"type",typeMap:{"picture-marker":GR,"simple-marker":fL,"point-3d":HR,cim:OI},errorContext:"symbol"},EL={base:AI,key:"type",typeMap:{"simple-line":DC,"line-3d":SR,cim:OI},errorContext:"symbol"},ML={base:AI,key:"type",typeMap:{"simple-fill":uL,"picture-fill":jR,"polygon-3d":sL,cim:OI},errorContext:"symbol"},AL={base:AI,key:"type",typeMap:{"picture-marker":GR,"simple-marker":fL,text:gL,"web-style":wL,cim:OI},errorContext:"symbol"},IL=Lo({types:SL}),CL={base:AI,key:"type",typeMap:{"simple-fill":uL,"picture-fill":jR,"picture-marker":GR,"simple-line":DC,"simple-marker":fL,text:gL,"line-3d":SR,"mesh-3d":CR,"point-3d":HR,"polygon-3d":sL,"web-style":wL,cim:OI},errorContext:"symbol"},OL={base:AI,key:"type",typeMap:{text:gL,"label-3d":vR},errorContext:"symbol"},kL={base:AI,key:"type",typeMap:{"line-3d":SR,"mesh-3d":CR,"point-3d":HR,"polygon-3d":sL,"web-style":wL,cim:OI},errorContext:"symbol"},RL={base:AI,key:"type",typeMap:{"label-3d":vR},errorContext:"symbol"},LL=mo(SL);var NL;function PL(e){if(!e)return null;const t={};for(const n in e){const r=fv(e[n]);r&&(t[n]=r)}return 0!==Object.keys(t).length?t:null}function DL(e){if(null==e)return null;const t={};for(const n in e){const r=e[n];r&&(t[n]=r.toJSON())}return 0!==Object.keys(t).length?t:null}let FL=NL=class extends(_v(Hs)){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:li(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&ot(Ye.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),"mesh"!==e?.type&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new NL({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[t,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(e&&"defaultPopupTemplate"in n&&null!=n.defaultPopupTemplate)return n.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:DL(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:$s(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if("mesh"===t?.type){const n={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",n,n,e.action)}}_notifyLayer(e,t,n,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:n};"origin-transform"===e&&(i.action=r),"attributes"===e&&(i.attributeName=r),this.layer.graphicChanged(i)}_watchMeshGeometryChanges(){this.addHandles([qR((()=>"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0),(({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())})),qR((()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0),(()=>{const e=this.geometry;"mesh"===e?.type&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)}),{equals:(e,t)=>e===t,sync:!0})])}};S([To({value:null,json:{read:PL}})],FL.prototype,"aggregateGeometries",null),S([To({value:null})],FL.prototype,"attributes",null),S([To({value:null,types:wv,json:{read:fv}})],FL.prototype,"geometry",null),S([To({type:Boolean})],FL.prototype,"isAggregate",void 0),S([To({clonable:"reference"})],FL.prototype,"layer",void 0),S([To({clonable:"reference"})],FL.prototype,"origin",void 0),S([To({type:SI})],FL.prototype,"popupTemplate",void 0),S([To({clonable:"reference"})],FL.prototype,"sourceLayer",void 0),S([To({value:null,types:SL})],FL.prototype,"symbol",null),S([To({clonable:!1,json:{read:!1,write:!1}})],FL.prototype,"_version",void 0),S([To({type:Boolean,value:!0})],FL.prototype,"visible",null),FL=NL=S([gs("esri.Graphic")],FL);const jL=FL;var UL;let zL=UL=class extends Hs{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new UL({minValue:this.minValue,maxValue:this.maxValue})}};var GL;S([To({type:Number,json:{write:!0}})],zL.prototype,"minValue",void 0),S([To({type:Number,json:{write:!0}})],zL.prototype,"maxValue",void 0),zL=UL=S([gs("esri.renderers.support.AuthoringInfoClassBreakInfo")],zL);let VL=GL=class extends Hs{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new GL({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:_e(this.classBreakInfos)})}};var BL;S([To({type:String,json:{write:!0}})],VL.prototype,"field",void 0),S([To({type:String,json:{write:!0}})],VL.prototype,"normalizationField",void 0),S([To({type:String,json:{write:!0}})],VL.prototype,"label",void 0),S([To({type:[zL],json:{write:!0}})],VL.prototype,"classBreakInfos",void 0),VL=GL=S([gs("esri.renderers.support.AuthoringInfoFieldInfo")],VL);let $L=BL=class extends Hs{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new BL({label:this.label,value:this.value,size:this.size})}};S([To({type:String,json:{write:!0}})],$L.prototype,"label",void 0),S([To({type:Number,json:{write:!0}})],$L.prototype,"size",void 0),S([To({type:Number,json:{write:!0}})],$L.prototype,"value",void 0),$L=BL=S([gs("esri.renderers.support.AuthoringInfoSizeStop")],$L);const HL=$L;var WL;const qL=new au({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),ZL=new au({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),YL={key:e=>"number"==typeof e?"number":"string",typeMap:{number:Number,string:String},base:null},XL=["high-to-low","above-and-below","centered-on","extremes"],JL=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],KL=["seconds","minutes","hours","days","months","years"],QL=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let eN=WL=class extends Hs{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return"string"==typeof e||"number"==typeof e?e:null}get normalizationField(){return"reference-size"===this.theme?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return"reference-size"===this.theme?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return"reference-size"===this.theme?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return"string"==typeof e||"number"==typeof e?e:null}get sizeStops(){return"reference-size"===this.theme?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return"color"===this.type?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new WL({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:_e(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};S([To({types:YL,json:{write:!0}})],eN.prototype,"endTime",void 0),S([Dp("endTime")],eN.prototype,"castEndTime",null),S([To({type:String,json:{write:!0}})],eN.prototype,"field",void 0),S([To({type:Number,json:{write:!0}})],eN.prototype,"maxSliderValue",void 0),S([To({type:Number,json:{write:!0}})],eN.prototype,"minSliderValue",void 0),S([To({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],eN.prototype,"normalizationField",null),S([To({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],eN.prototype,"referenceSizeScale",null),S([To({type:QL,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],eN.prototype,"referenceSizeSymbolStyle",null),S([To({types:YL,json:{write:!0}})],eN.prototype,"startTime",void 0),S([Dp("startTime")],eN.prototype,"castStartTime",null),S([To({type:[HL],json:{origins:{"web-scene":{write:!1}},write:!0}})],eN.prototype,"sizeStops",null),S([To({type:qL.apiValues,value:null,json:{type:qL.jsonValues,read:qL.read,write:qL.write}})],eN.prototype,"style",null),S([To({type:JL,value:null,json:{type:JL,origins:{"web-scene":{type:XL,write:{writer:(e,t)=>{XL.includes(e)&&(t.theme=e)}}}},write:!0}})],eN.prototype,"theme",null),S([To({type:ZL.apiValues,json:{type:ZL.jsonValues,read:ZL.read,write:ZL.write}})],eN.prototype,"type",void 0),S([To({type:KL,json:{type:KL,write:!0}})],eN.prototype,"units",void 0),eN=WL=S([gs("esri.renderers.support.AuthoringInfoVisualVariable")],eN);const tN=eN;let nN=class extends Hs{constructor(e){super(e),this.type=null}};S([To({readOnly:!0,json:{read:!1,write:!0}})],nN.prototype,"type",void 0),nN=S([gs("esri.rest.support.ColorRamp")],nN);const rN=nN;var iN;let oN=iN=class extends rN{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new iN({fromColor:_e(this.fromColor),toColor:_e(this.toColor),algorithm:this.algorithm})}};S([WM({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],oN.prototype,"algorithm",void 0),S([To({type:gy,json:{type:[yo],write:!0}})],oN.prototype,"fromColor",void 0),S([To({type:gy,json:{type:[yo],write:!0}})],oN.prototype,"toColor",void 0),S([To({type:["algorithmic"]})],oN.prototype,"type",void 0),oN=iN=S([gs("esri.rest.support.AlgorithmicColorRamp")],oN);const sN=oN;var aN;let lN=aN=class extends rN{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new aN({colorRamps:_e(this.colorRamps)})}};S([To({type:[sN],json:{write:!0}})],lN.prototype,"colorRamps",void 0),S([To({type:["multipart"]})],lN.prototype,"type",void 0),lN=aN=S([gs("esri.rest.support.MultipartColorRamp")],lN);const cN=lN,uN={key:"type",base:rN,typeMap:{algorithmic:sN,multipart:cN}};function hN(e){return e?.type?"algorithmic"===e.type?sN.fromJSON(e):"multipart"===e.type?cN.fromJSON(e):null:null}var pN;const dN=new au({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),fN=new au({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),mN=new au({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),yN=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],gN=["high-to-low","above-and-below","above","below"],vN=["flow-line","wave-front"],bN=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let wN=pN=class extends Hs{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?hN(e):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new pN({classificationMethod:this.classificationMethod,colorRamp:_e(this.colorRamp),fadeRatio:_e(this.fadeRatio),fields:this.fields?.slice(),field1:_e(this.field1),field2:_e(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map((e=>e.clone())),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};S([To({type:dN.apiValues,value:null,json:{type:dN.jsonValues,read:dN.read,write:dN.write,origins:{"web-document":{default:"manual",type:dN.jsonValues,read:dN.read,write:dN.write}}}})],wN.prototype,"classificationMethod",null),S([To({types:uN,json:{write:!0}})],wN.prototype,"colorRamp",void 0),S([Cp("colorRamp")],wN.prototype,"readColorRamp",null),S([To({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],wN.prototype,"fadeRatio",void 0),S([To({type:[String],value:null,json:{write:!0}})],wN.prototype,"fields",null),S([To({type:VL,value:null,json:{write:!0}})],wN.prototype,"field1",null),S([To({type:VL,value:null,json:{write:!0}})],wN.prototype,"field2",null),S([To({type:vN,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],wN.prototype,"flowTheme",null),S([To({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],wN.prototype,"focus",null),S([To({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],wN.prototype,"isAutoGenerated",void 0),S([To({type:Number,value:null,json:{type:yo,write:!0}})],wN.prototype,"numClasses",null),S([To({type:yN,json:{type:yN,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],wN.prototype,"lengthUnit",void 0),S([To({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],wN.prototype,"maxSliderValue",void 0),S([To({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],wN.prototype,"minSliderValue",void 0),S([To({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],wN.prototype,"statistics",null),S([To({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],wN.prototype,"standardDeviationInterval",null),S([To({type:fN.apiValues,value:null,json:{type:fN.jsonValues,read:fN.read,write:fN.write,origins:{"web-scene":{type:mN.jsonValues,write:{writer:mN.write,overridePolicy:e=>({enabled:"flow"!==e})}}}}})],wN.prototype,"type",null),S([To({type:[tN],json:{write:!0}})],wN.prototype,"visualVariables",void 0),S([To({type:bN,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],wN.prototype,"univariateSymbolStyle",null),S([To({type:gN,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],wN.prototype,"univariateTheme",null),wN=pN=S([gs("esri.renderers.support.AuthoringInfo")],wN);const _N=wN,xN=new au({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let SN=class extends Hs{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};S([To({type:_N,json:{write:!0}})],SN.prototype,"authoringInfo",void 0),S([To({type:xN.apiValues,readOnly:!0,json:{type:xN.jsonValues,read:!1,write:{writer:xN.write,ignoreOrigin:!0}}})],SN.prototype,"type",void 0),SN=S([gs("esri.renderers.Renderer")],SN);const TN=SN;function EN(e){return e.match(MN)?.[1]?.replace(/\\'/g,"'")??null}const MN=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let AN=class extends(_v(Hs)){constructor(){super(...arguments),this.showLegend=null,this.title=null}};S([To({type:Boolean,json:{write:!0}})],AN.prototype,"showLegend",void 0),S([To({type:String,json:{write:!0}})],AN.prototype,"title",void 0),AN=S([gs("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],AN);const IN=AN,CN=new au({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let ON=class extends Hs{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:"function"==typeof e?(Ye.getLogger(this).error(".field: field must be a string value"),null):Hi(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};S([To()],ON.prototype,"index",void 0),S([To({type:CN.apiValues,readOnly:!0,json:{read:CN.read,write:CN.write}})],ON.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],ON.prototype,"field",void 0),S([Dp("field")],ON.prototype,"castField",null),S([To({type:String,json:{write:!0}})],ON.prototype,"valueExpression",void 0),S([To({type:String,json:{write:!0}})],ON.prototype,"valueExpressionTitle",void 0),S([To({readOnly:!0})],ON.prototype,"arcadeRequired",null),S([To({type:IN,json:{write:!0}})],ON.prototype,"legendOptions",void 0),ON=S([gs("esri.renderers.visualVariables.VisualVariable")],ON);const kN=ON;var RN;let LN=RN=class extends Hs{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,n){t[n]=e??0}clone(){return new RN({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};S([To({type:gy,json:{type:[yo],write:!0}})],LN.prototype,"color",void 0),S([To({type:String,json:{write:!0}})],LN.prototype,"label",void 0),S([To({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],LN.prototype,"value",void 0),S([su("value")],LN.prototype,"writeValue",null),LN=RN=S([gs("esri.renderers.visualVariables.support.ColorStop")],LN);const NN=LN;var PN;let DN=PN=class extends kN{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new PN({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};S([To({readOnly:!0})],DN.prototype,"cache",null),S([To({type:["color"],json:{type:["colorInfo"]}})],DN.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],DN.prototype,"normalizationField",void 0),S([To({type:[NN],json:{write:!0}})],DN.prototype,"stops",null),DN=PN=S([gs("esri.renderers.visualVariables.ColorVariable")],DN);const FN=DN;var jN;let UN=jN=class extends Hs{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return HI(t.transparency)}writeOpacity(e,t,n){t[n]=$I(e)}clone(){return new jN({label:this.label,opacity:this.opacity,value:this.value})}};S([To({type:String,json:{write:!0}})],UN.prototype,"label",void 0),S([To({type:Number,json:{type:yo,write:{target:"transparency"}}})],UN.prototype,"opacity",void 0),S([Cp("opacity",["transparency"])],UN.prototype,"readOpacity",null),S([su("opacity")],UN.prototype,"writeOpacity",null),S([To({type:Number,json:{write:!0}})],UN.prototype,"value",void 0),UN=jN=S([gs("esri.renderers.visualVariables.support.OpacityStop")],UN);const zN=UN;var GN;let VN=GN=class extends kN{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new GN({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};S([To({readOnly:!0})],VN.prototype,"cache",null),S([To({type:["opacity"],json:{type:["transparencyInfo"]}})],VN.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],VN.prototype,"normalizationField",void 0),S([To({type:[zN],json:{write:!0}})],VN.prototype,"stops",null),VN=GN=S([gs("esri.renderers.visualVariables.OpacityVariable")],VN);const BN=VN;var $N;let HN=$N=class extends kN{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new $N({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};S([To({readOnly:!0})],HN.prototype,"cache",null),S([To({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],HN.prototype,"axis",void 0),S([To({type:["rotation"],json:{type:["rotationInfo"]}})],HN.prototype,"type",void 0),S([To({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],HN.prototype,"rotationType",void 0),HN=$N=S([gs("esri.renderers.visualVariables.RotationVariable")],HN);const WN=HN;function qN(e){return jI(e)}var ZN;let YN=ZN=class extends Hs{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new ZN({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};S([To({type:String,json:{write:!0}})],YN.prototype,"label",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],YN.prototype,"size",void 0),S([To({type:Number,json:{write:!0}})],YN.prototype,"value",void 0),S([To({type:Boolean,json:{write:!1}})],YN.prototype,"useMinValue",void 0),S([To({type:Boolean,json:{write:!1}})],YN.prototype,"useMaxValue",void 0),YN=ZN=S([gs("esri.renderers.visualVariables.support.SizeStop")],YN);const XN=YN;let JN=class extends IN{constructor(){super(...arguments),this.customValues=null}};S([To({type:[Number],json:{write:!0}})],JN.prototype,"customValues",void 0),JN=S([gs("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],JN);const KN=JN;var QN,eP;function tP(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function nP(e){return null!=e&&!isNaN(e)&&isFinite(e)}function rP(e){return e.valueExpression?QN.Expression:e.field&&"string"==typeof e.field?QN.Field:QN.Unknown}function iP(e,t){const n=t||rP(e),r=e.valueUnit||"unknown";return n===QN.Unknown?eP.Constant:e.stops?eP.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?eP.ClampedLinear:"unknown"===r?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?eP.Proportional:eP.Additive:eP.Identity:eP.RealWorldSize}function oP(e){}function sP(e){return()=>e}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(QN||(QN={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(eP||(eP={}));const aP={unknown:1,inches:Wh(1,"meters","inches"),feet:Wh(1,"meters","feet"),"us-feet":Wh(1,"meters","us-feet"),yards:Wh(1,"meters","yards"),miles:Wh(1,"meters","miles"),"nautical-miles":Wh(1,"meters","nautical-miles"),millimeters:Wh(1,"meters","millimeters"),centimeters:Wh(1,"meters","centimeters"),decimeters:Wh(1,"meters","decimeters"),meters:Wh(1,"meters","meters"),kilometers:Wh(1,"meters","kilometers"),"decimal-degrees":1/np(1,"meters",pu.radius)},lP=()=>Ye.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),cP=e=>lP().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),uP=()=>lP().error("Use of arcade expressions requires an arcade context");new jL;const hP=Math.PI,pP=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function dP(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"color"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.ColorVariable"!==r.declaredClass)return void cP("ColorVariable");const i="number"==typeof t,o=i?null:t,s=o?.attributes;let a=i?t:null;const l=r.field,{ipData:c,hasExpression:u}=r.cache;let h=r.cache.compiledFunc;if(!l&&!u){const e=r.stops;return e&&e[0]&&e[0].color}if("number"!=typeof a)if(u){if(null==n?.arcade)return void uP();const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),s=t.createExecContext(o,i,n.timeZone);if(!h){const e=t.createSyntaxTree(r.valueExpression);h=t.createFunction(e),r.cache.compiledFunc=h}a=t.executeFunction(h,s)}else s&&(a=s[l]);const p=r.normalizationField,d=null!=s&&null!=p?parseFloat(s[p]):void 0;if(null!=a&&(!p||i||!isNaN(d)&&0!==d)){isNaN(d)||i||(a/=d);const e=IP(a,c);if(e){const t=e[0],i=e[1],o=t===i?r.stops[t].color:gy.blendColors(r.stops[t].color,r.stops[i].color,e[2],n?.color);return new gy(o)}}}function fP(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"opacity"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.OpacityVariable"!==r.declaredClass)return void cP("OpacityVariable");const i="number"==typeof t,o=i?null:t,s=o?.attributes;let a=i?t:null;const l=r.field,{ipData:c,hasExpression:u}=r.cache;let h=r.cache.compiledFunc;if(!l&&!u){const e=r.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof a)if(u){if(null==n?.arcade)return void uP();const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),s=t.createExecContext(o,i,n.timeZone);if(!h){const e=t.createSyntaxTree(r.valueExpression);h=t.createFunction(e),r.cache.compiledFunc=h}a=t.executeFunction(h,s)}else s&&(a=s[l]);const p=r.normalizationField,d=null!=s&&null!=p?parseFloat(s[p]):void 0;if(null!=a&&(!p||i||!isNaN(d)&&0!==d)){isNaN(d)||i||(a/=d);const e=IP(a,c);if(e){const t=e[0],n=e[1];if(t===n)return r.stops[t].opacity;{const i=r.stops[t].opacity;return i+(r.stops[n].opacity-i)*e[2]}}}}function mP(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"rotation"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.RotationVariable"!==r.declaredClass)return void cP("RotationVariable");const i=r.axis||"heading",o="heading"===i&&"arithmetic"===r.rotationType?90:0,s="heading"===i&&"arithmetic"===r.rotationType?-1:1,a="number"==typeof t?null:t,l=a?.attributes,c=r.field,{hasExpression:u}=r.cache;let h=r.cache.compiledFunc,p=0;if(!c&&!u)return p;if(u){if(null==n?.arcade)return void uP();const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),o=t.createExecContext(a,i,n.timeZone);if(!h){const e=t.createSyntaxTree(r.valueExpression);h=t.createFunction(e),r.cache.compiledFunc=h}p=t.executeFunction(h,o)}else l&&(p=l[c]||0);return p="number"!=typeof p||isNaN(p)?null:o+s*p,p}function yP(e,t,n){const r="number"==typeof t,i=r?null:t,o=i?.attributes;let s=r?t:null;const{isScaleDriven:a}=e.cache;let l=e.cache.compiledFunc;if(a){const t=n?.scale,r=n?.view;s=null==t||"3d"===r?gP(e):t}else if(!r)switch(e.inputValueType){case QN.Expression:{if(null==n?.arcade)return void uP();const t={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},r=n.arcade.arcadeUtils,o=r.getViewInfo(t),a=r.createExecContext(i,o,n.timeZone);if(!l){const t=r.createSyntaxTree(e.valueExpression);l=r.createFunction(t),e.cache.compiledFunc=l}s=r.executeFunction(l,a);break}case QN.Field:o&&(s=o[e.field]);break;case QN.Unknown:s=null}if(!nP(s))return null;if(r||!e.normalizationField)return s;const c=o?parseFloat(o[e.normalizationField]):null;return nP(c)&&0!==c?s/c:null}function gP(e){let t=null,n=null;const r=e.stops;return r?(t=r[0].value,n=r[r.length-1].value):(t=e.minDataValue||0,n=e.maxDataValue||0),(t+n)/2}function vP(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"size"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.SizeVariable"!==r.declaredClass)return void cP("SizeVariable");const i=AP(yP(r,t,n),r,t,n,r.cache.ipData);return null==i||isNaN(i)?0:i}function bP(e,t,n){return null==e?null:tP(e)?vP(e,t,n):nP(e)?e:null}function wP(e,t,n){return nP(n)&&e>n?n:nP(t)&&e<t?t:e}function _P(e,t,n,r){return e+((bP(t.minSize,n,r)||t.minDataValue)??0)}function xP(e,t,n){const r=e.stops;let i=r?.length&&r[0].size;return null==i&&(i=e.minSize),bP(i,t,n)}function SP(e,t,n,r){const i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=bP(t.minSize,n,r),s=bP(t.maxSize,n,r),a=r?.shape;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return s;if(null==o||null==s)return null;if("area"===t.scaleBy&&a){const e="circle"===a,t=e?hP*(o/2)**2:o*o,n=t+i*((e?hP*(s/2)**2:s*s)-t);return e?2*Math.sqrt(n/hP):Math.sqrt(n)}return o+i*(s-o)}function TP(e,t,n,r){const i=r?.shape,o=e/t.minDataValue,s=bP(t.minSize,n,r),a=bP(t.maxSize,n,r);let l=null;return l="circle"===i?2*Math.sqrt(o*(s/2)**2):"square"===i||"diamond"===i||"image"===i?Math.sqrt(o*s**2):o*s,wP(l,s,a)}function EP(e,t,n,r,i){const[o,s,a]=IP(e,i);if(o===s)return bP(t.stops?.[o].size,n,r);{const e=bP(t.stops?.[o].size,n,r);return e+(bP(t.stops?.[s].size,n,r)-e)*a}}function MP(e,t,n,r){const i=(r?.resolution??1)*aP[t.valueUnit],o=bP(t.minSize,n,r),s=bP(t.maxSize,n,r),{valueRepresentation:a}=t;let l=null;return l="area"===a?2*Math.sqrt(e/hP)/i:"radius"===a||"distance"===a?2*e/i:e/i,wP(l,o,s)}function AP(e,t,n,r,i){switch(t.transformationType){case eP.Additive:return _P(e,t,n,r);case eP.Constant:return xP(t,n,r);case eP.ClampedLinear:return SP(e,t,n,r);case eP.Proportional:return TP(e,t,n,r);case eP.Stops:return EP(e,t,n,r,i);case eP.RealWorldSize:return MP(e,t,n,r);case eP.Identity:return e;case eP.Unknown:return null}}function IP(e,t){if(!t)return;let n=0,r=t.length-1;return t.some(((t,i)=>e<t?(r=i,!0):(n=i,!1))),[n,r,(e-t[n])/(t[r]-t[n])]}function CP(e,t,n){const r=["proportional","proportional","proportional"];for(const i of e){const e=i.useSymbolValue?"symbol-value":vP(i,t,n);switch(i.axis){case"width":r[0]=e;break;case"depth":r[1]=e;break;case"height":r[2]=e;break;case"width-and-depth":r[0]=e,r[1]=e;break;case"all":case void 0:case null:r[0]=e,r[1]=e,r[2]=e;break;default:i.axis}}return r}const OP=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:CP,getColor:dP,getOpacity:fP,getRotationAngle:mP,getSize:vP,getSizeForValue:AP,getSizeFromNumberOrVariable:bP,viewScaleRE:pP},Symbol.toStringTag,{value:"Module"}));var kP;const RP=new au({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),LP=new au({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function NP(e){if(null!=e)return"string"==typeof e||"number"==typeof e?qN(e):"size"===e.type?tP(e)?e:(delete(e={...e}).type,new DP(e)):void 0}function PP(e,t,n){if("object"!=typeof e)return e;const r=new DP;return r.read(e,n),r}let DP=kP=class extends kN{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&pP.test(this.valueExpression)}}set index(e){tP(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),tP(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return rP(this)}set maxDataValue(e){e&&this.stops&&(Ye.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(Ye.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return NP(e)}readMaxSize(e,t,n){return PP(e,t,n)}set minDataValue(e){e&&this.stops&&(Ye.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(Ye.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return NP(e)}readMinSize(e,t,n){return PP(e,t,n)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(Ye.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return iP(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,n,r){if("$view.scale"===e){if(r?.messages){const e=this.index,t="string"==typeof e?e:`visualVariables[${e}]`;r.messages.push(new et("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:t+".valueExpression",context:r}))}}else t[n]=e}readValueUnit(e){return e?LP.read(e):null}clone(){return new kP({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:tP(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:tP(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===eP.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===eP.Stops){const e=this.stops;if(!e)return this;const t=e.map((e=>e.size)).reverse(),n=e.length;for(let r=0;r<n;r++)e[r].size=t[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map((e=>e.value||0))}};S([To({readOnly:!0})],DP.prototype,"cache",null),S([To({type:RP.apiValues,json:{type:RP.jsonValues,origins:{"web-map":{read:!1}},read:RP.read,write:RP.write}})],DP.prototype,"axis",void 0),S([To()],DP.prototype,"index",null),S([To({type:String,readOnly:!0})],DP.prototype,"inputValueType",null),S([To({type:KN,json:{write:!0}})],DP.prototype,"legendOptions",void 0),S([To({type:Number,value:null,json:{write:!0}})],DP.prototype,"maxDataValue",null),S([To({type:Number,value:null,json:{write:!0}})],DP.prototype,"maxSize",null),S([Dp("maxSize")],DP.prototype,"castMaxSize",null),S([Cp("maxSize")],DP.prototype,"readMaxSize",null),S([To({type:Number,value:null,json:{write:!0}})],DP.prototype,"minDataValue",null),S([To({type:Number,value:null,json:{write:!0}})],DP.prototype,"minSize",null),S([Dp("minSize")],DP.prototype,"castMinSize",null),S([Cp("minSize")],DP.prototype,"readMinSize",null),S([To({type:String,json:{write:!0}})],DP.prototype,"normalizationField",void 0),S([To({readOnly:!0})],DP.prototype,"arcadeRequired",null),S([To({type:String})],DP.prototype,"scaleBy",void 0),S([To({type:[XN],value:null,json:{write:!0}})],DP.prototype,"stops",null),S([To({type:["outline"],json:{write:!0}})],DP.prototype,"target",void 0),S([To({type:String,readOnly:!0})],DP.prototype,"transformationType",null),S([To({type:["size"],json:{type:["sizeInfo"]}})],DP.prototype,"type",void 0),S([To({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],DP.prototype,"useSymbolValue",void 0),S([To({type:String,json:{write:!0}})],DP.prototype,"valueExpression",void 0),S([Cp("valueExpression",["valueExpression","expression"])],DP.prototype,"readValueExpression",null),S([su("web-scene","valueExpression")],DP.prototype,"writeValueExpressionWebScene",null),S([To({type:["radius","diameter","area","width","distance"],json:{write:!0}})],DP.prototype,"valueRepresentation",void 0),S([To({type:LP.apiValues,json:{write:LP.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],DP.prototype,"valueUnit",void 0),S([Cp("valueUnit")],DP.prototype,"readValueUnit",null),DP=kP=S([gs("esri.renderers.visualVariables.SizeVariable")],DP);const FP=DP,jP={color:FN,size:FP,opacity:BN,rotation:WN},UP=new au({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),zP=/^\[([^\]]+)\]$/i;let GP=class extends Ms{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),e=e?.filter((e=>!!e)),e?.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some((e=>!!e.target))&&e.sort(((e,t)=>{let n=null;return n=e.target===t.target?0:e.target?1:-1,n}));for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,n){const{rotationExpression:r,rotationType:i}=t,o=r?.match(zP),s=o?.[1];if(s&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:s})),e)return e.map((e=>{const t=UP.read(e.type),r=jP[t];r||(Ye.getLogger(this).warn(`Unknown variable type: ${t}`),n?.messages&&n.messages.push(new Co("visual-variable:unsupported",`visualVariable of type '${t}' is not supported`,{definition:e,context:n})));const i=new r;return i.read(e,n),i}))}writeVariables(e,t){const n=[];for(const r of e){const e=r.toJSON(t);e&&n.push(e)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};S([To()],GP.prototype,"visualVariables",null),GP=S([gs("esri.renderers.visualVariables.VisualVariableFactory")],GP);const VP=GP,BP={base:kN,key:"type",typeMap:{opacity:BN,color:FN,rotation:WN,size:FP}},$P=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new VP}set visualVariables(e){this._vvFactory.visualVariables=e,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(e,t,n){return this._vvFactory.readVariables(e,t,n)}writeVisualVariables(e,t,n,r){t[n]=this._vvFactory.writeVariables(e,r)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const e of this.visualVariables)if(e.arcadeRequired)return!0;return!1}hasVisualVariables(e,t){return e?this.getVisualVariablesForType(e,t).length>0:this.getVisualVariablesForType("size",t).length>0||this.getVisualVariablesForType("color",t).length>0||this.getVisualVariablesForType("opacity",t).length>0||this.getVisualVariablesForType("rotation",t).length>0}getVisualVariablesForType(e,t){const n=this.visualVariables;return n?n.filter((n=>n.type===e&&("string"==typeof t?n.target===t:!1!==t||!n.target))):[]}async collectVVRequiredFields(e,t){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(const r of n)r&&(r.field&&gE(e,t,r.field),r.normalizationField&&gE(e,t,r.normalizationField),r.valueExpression&&(HP(r.valueExpression,e,t)||await wE(e,t,r.valueExpression)))}};return S([To({types:[BP],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),S([Cp("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),S([su("visualVariables")],t.prototype,"writeVisualVariables",null),t=S([gs("esri.renderers.mixins.VisualVariablesMixin")],t),t};function HP(e,t,n){const r=EN(e);return null!=r&&(gE(t,n,r),!0)}const WP=[252,146,31,255],qP=[153,153,153,255],ZP={type:"esriSMS",style:"esriSMSCircle",size:6,color:WP,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},YP={type:"esriSLS",style:"esriSLSSolid",width:.75,color:WP},XP={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},JP={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},KP={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},QP={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},eD={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},tD=fL.fromJSON(ZP),nD=DC.fromJSON(YP),rD=uL.fromJSON(XP),iD=gL.fromJSON(JP);function oD(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return tD;case"polyline":return nD;case"polygon":case"extent":return rD}return null}const sD=fL.fromJSON(KP),aD=DC.fromJSON(QP),lD=uL.fromJSON(eD);HR.fromSimpleMarkerSymbol(tD),SR.fromSimpleLineSymbol(nD),sL.fromSimpleFillSymbol(rD),new CR({symbolLayers:new Rc([new HO({material:{color:WP},edges:new rC({size:FI(1),color:new gy(qP)})})])});const cD=new SR({symbolLayers:new Rc([new Sk({material:{color:new gy([0,0,0])},size:FI(1)})])}),uD=new sL({symbolLayers:new Rc([new HO({outline:{color:new gy([0,0,0]),size:FI(1)}})])}),hD="#useCIMFallbackSymbology()",pD={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function dD(e,t=pD){if(!e)return{symbol:null};const{retainId:n=pD.retainId,ignoreDrivers:r=pD.ignoreDrivers,hasLabelingContext:i=pD.hasLabelingContext,retainCIM:o=pD.retainCIM,cimFallbackEnabled:s=pD.cimFallbackEnabled}=t;let a=null;if(xL(e)||e instanceof wL)a=e.clone();else if("cim"===e.type){const n=e.data?.symbol?.type;switch(n){case"CIMPointSymbol":a=o?e.clone():HR.fromCIMSymbol(e);break;case"CIMLineSymbol":s&&(a=cD.clone(),t?.logWarning?.(hD,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":s&&(a=uD.clone(),t?.logWarning?.(hD,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new et("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${n||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof DC)a=SR.fromSimpleLineSymbol(e);else if(e instanceof fL)a=HR.fromSimpleMarkerSymbol(e);else if(e instanceof GR)a=HR.fromPictureMarkerSymbol(e);else if(e instanceof uL)a=t.geometryType&&"mesh"===t.geometryType?CR.fromSimpleFillSymbol(e):sL.fromSimpleFillSymbol(e);else{if(!(e instanceof gL))return{error:new et("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=i?vR.fromTextSymbol(e):HR.fromTextSymbol(e)}return n&&a&&"cim"!==a.type&&(a.id=e.id),r&&xL(a)&&a.symbolLayers.forEach((e=>e.ignoreDrivers=!0)),{symbol:a}}function fD(e,t,n,r){const i=vD(e,{},{context:r,isLabelSymbol:!1});null!=i&&(t[n]=i)}function mD(e,t,n,r){const i=vD(e,{},{context:r,isLabelSymbol:!0});null!=i&&(t[n]=i)}function yD(e){return e instanceof eR||e instanceof wL}function gD(e){return e instanceof eR&&("polygon-3d"===e.type||"line-3d"===e.type)}function vD(e,t,n){if(null==e)return null;const{context:r,isLabelSymbol:i}=n,o=r?.origin,s=r?.messages;if("web-scene"===o&&!yD(e)){const n=dD(e,{retainCIM:!0,hasLabelingContext:i});return null!=n.symbol?n.symbol.write(t,r):(s?.push(new et("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:n.error})),null)}return fm(r?.layer)&&gD(e)?(s?.push(new et("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:e,context:r})),null):("web-map"===o||"portal-item"===o&&!fm(r?.layer))&&yD(e)?(s?.push(new et("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function bD(e,t){return IL(e,null,t)}const wD={types:CL,json:{write:{writer:fD},origins:{"web-scene":{types:kL,write:{writer:fD},read:{reader:Lo({types:kL})}}}}},_D=Le({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},wD),xD={types:{base:AI,key:"type",typeMap:{"simple-fill":SL.typeMap["simple-fill"],"picture-fill":SL.typeMap["picture-fill"],"polygon-3d":SL.typeMap["polygon-3d"],cim:SL.typeMap.cim}},json:{write:{writer:fD},origins:{"web-scene":{type:sL,write:{writer:fD}}}}},SD={cast:e=>null==e||"string"==typeof e||"number"==typeof e?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e?.toString()}}}};var TD;let ED=TD=class extends Hs{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new TD({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};S([To({type:String,json:{write:!0}})],ED.prototype,"description",void 0),S([To({type:String,json:{write:!0}})],ED.prototype,"label",void 0),S([To({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],ED.prototype,"minValue",void 0),S([To({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],ED.prototype,"maxValue",void 0),S([To(_D)],ED.prototype,"symbol",void 0),ED=TD=S([gs("esri.renderers.support.ClassBreakInfo")],ED);const MD=ED,AD=uu()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let ID=class extends(_v(Hs)){constructor(e){super(e),this.title=null,this.order=null}};S([To({type:String,json:{write:!0}})],ID.prototype,"title",void 0),S([WM(AD)],ID.prototype,"order",void 0),ID=S([gs("esri.renderers.support.RendererLegendOptions")],ID);const CD=ID;var OD;const kD="log",RD="percent-of-total",LD="field",ND=new au({esriNormalizeByLog:kD,esriNormalizeByPercentOfTotal:RD,esriNormalizeByField:LD}),PD=so(MD);let DD=OD=class extends($P(TN)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,n){if(!Array.isArray(e))return;let r=t.minValue;return e.map((e=>{const t=new MD;return t.read(e,n),null==t.minValue&&(t.minValue=r),null==t.maxValue&&(t.maxValue=t.minValue),r=t.maxValue,t}))}writeClassBreakInfos(e,t,n,r){const i=e.map((e=>e.write({},r)));this._areClassBreaksConsecutive()&&i.forEach((e=>delete e.classMinValue)),t[n]=i}castField(e){return null==e?e:"function"==typeof e?(Ye.getLogger(this).error(".field: field must be a string value"),null):Hi(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,n=null!=this.normalizationTotal;return t||n?(e=t&&LD||n&&RD||null,t&&n&&Ye.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==LD&&e!==RD||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,n){let r=null;r="number"==typeof e?new MD({minValue:e,maxValue:t,symbol:LL(n)}):PD(_e(e)),this.classBreakInfos.push(r),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const n=this.classBreakInfos.length;for(let r=0;r<n;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]===e&&n[1]===t){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(e,t){return this.valueExpression&&null==t?.arcade&&Ye.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let n=t;this.valueExpression&&null==t?.arcade&&(n={...n,arcade:await nE()});const r=this.getBreakIndex(e,n);return-1!==r?this.classBreakInfos[r]:null}getSymbol(e,t){if(this.valueExpression&&null==t?.arcade)return void Ye.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const n=this.getBreakIndex(e,t);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let n=t;if(this.valueExpression&&null==t?.arcade){const e=await nE(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),n={...n,arcade:e}}const r=this.getBreakIndex(e,n);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach((t=>{t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${n}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new OD({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:_e(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:_e(this.visualVariables),legendOptions:_e(this.legendOptions),authoringInfo:_e(this.authoringInfo)})}async collectRequiredFields(e,t){const n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(n)}async collectSymbolFields(e,t){const n=[...this.getSymbols().map((n=>n.collectRequiredFields(e,t))),wE(e,t,this.valueExpression)];gE(e,t,this.field),gE(e,t,this.normalizationField),await Promise.all(n)}_getBreakIndexForExpression(e,t){const{viewingMode:n,scale:r,spatialReference:i,arcade:o,timeZone:s}=t??{},{valueExpression:a}=this;let l=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const c=o.arcadeUtils;if(!l){const e=c.createSyntaxTree(a);l=c.createFunction(e),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=a;const u=c.executeFunction(l,c.createExecContext(e,c.getViewInfo({viewingMode:n,scale:r,spatialReference:i}),s));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(e){const t=this.field,n=e.attributes,r=this.normalizationType;let i=parseFloat(n[t]);if(r){const e=this.normalizationTotal,t=parseFloat(this.normalizationField?n[this.normalizationField]:void 0);if(r===kD)i=Math.log(i)*Math.LOG10E;else if(r!==RD||null==e||isNaN(e)){if(r===LD&&!isNaN(t)){if(isNaN(i)||isNaN(t))return-1;i/=t}}else i=i/e*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(let n=0;n<this.classBreakInfos.length;n++){const r=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return n}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let n=1;n<t;n++)if(e[n-1].maxValue!==e[n].minValue)return!1;return!0}};S([To(xD)],DD.prototype,"backgroundFillSymbol",void 0),S([To({type:[MD]})],DD.prototype,"classBreakInfos",void 0),S([Cp("classBreakInfos")],DD.prototype,"readClassBreakInfos",null),S([su("classBreakInfos")],DD.prototype,"writeClassBreakInfos",null),S([To({type:String,json:{write:!0}})],DD.prototype,"defaultLabel",void 0),S([To(wD)],DD.prototype,"defaultSymbol",void 0),S([To({type:String,json:{write:!0}})],DD.prototype,"field",void 0),S([Dp("field")],DD.prototype,"castField",null),S([To({type:Boolean})],DD.prototype,"isMaxInclusive",void 0),S([To({type:CD,json:{write:!0}})],DD.prototype,"legendOptions",void 0),S([To({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],DD.prototype,"minValue",null),S([To({type:String,json:{write:!0}})],DD.prototype,"normalizationField",void 0),S([To({type:Number,json:{write:!0}})],DD.prototype,"normalizationTotal",void 0),S([To({type:ND.apiValues,value:null,json:{type:ND.jsonValues,read:ND.read,write:ND.write}})],DD.prototype,"normalizationType",null),S([WM({classBreaks:"class-breaks"})],DD.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],DD.prototype,"valueExpression",void 0),S([To({type:String,json:{write:!0}})],DD.prototype,"valueExpressionTitle",void 0),DD=OD=S([gs("esri.renderers.ClassBreaksRenderer")],DD);const FD=DD,jD=-3,UD=jD-1;var zD;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(zD||(zD={}));let GD=class{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new Zn,this._users=new Zn}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){return this._db.get(e.id+t)?.size??0}put(e,t,n,r,i){t=e.id+t;const o=this._db.get(t);if(o&&(this._size-=o.size,e.size-=o.size,this._db.delete(t),o.entry!==n&&this._notifyRemove(t,o.entry,o.size,zD.ALL)),r>this._maxSize)return void this._notifyRemove(t,n,r,zD.ALL);if(void 0===n)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return console.warn(`Refusing to cache entry with size ${r} for key ${t}`),void this._notifyRemove(t,n,0,zD.ALL);const s=1+Math.max(i,UD)-jD;this._db.set(t,new VD(n,r,s)),this._size+=r,e.size+=r,this._checkSize()}updateSize(e,t,n,r){t=e.id+t;const i=this._db.get(t);if(i&&i.entry===n){for(this._size-=i.size,e.size-=i.size;r>this._maxSize;){const e=this._notifyRemove(t,n,r,zD.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);r=e}i.size=r,this._size+=r,e.size+=r,this._checkSize()}}pop(e,t){t=e.id+t;const n=this._db.get(t);if(n)return this._size-=n.size,e.size-=n.size,this._db.delete(t),++this._hit,n.entry;++this._miss}get(e,t){t=e.id+t;const n=this._db.get(t);if(void 0!==n)return this._db.delete(t),n.lives=n.lifetime,this._db.set(t,n),++this._hit,n.entry;++this._miss}peek(e,t){const n=this._db.get(e.id+t);return n?++this._hit:++this._miss,n?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},n=new Array;this._db.forEach(((e,r)=>{const i=e.lifetime;n[i]=(n[i]||0)+e.size,this._users.forAll((n=>{const{id:i,name:o}=n;if(r.startsWith(i)){const n=t[o]||0;t[o]=n+e.size}}))}));const r={};this._users.forAll((e=>{const n=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const i=t[n]||0;t[n]=i,r[n]=Math.round(100*e.hitRate)+"%"}else r[n]="0%"}));const i=Object.keys(t);i.sort(((e,n)=>t[n]-t[e])),i.forEach((n=>e[n]=Math.round(t[n]/2**20)+"MB / "+r[n]));for(let o=n.length-1;o>=0;--o){const t=n[o];t&&(e["Priority "+(o+jD-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,n)=>{n.startsWith(t)&&(this._size-=e.size,this._db.delete(n),this._notifyRemove(n,e.entry,e.size,zD.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,zD.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,n,r){let i;return this._removeFuncs.some((o=>{if(e.startsWith(o[0])){const e=o[1](t,r,n);return"number"==typeof e&&(i=e),!0}return!1})),i}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=e??this;if(t.maxSize<0||t.size<=t.maxSize)return;const n=e?.id;let r=!0;for(;r;){r=!1;for(const[i,o]of this._db)if(0===o.lifetime&&(!n||i.startsWith(n))){if(this._purgeItem(i,o,e),t.size<=.9*t.maxSize)return;r||=this._db.has(i)}}for(const[i,o]of this._db)if((!n||i.startsWith(n))&&(this._purgeItem(i,o,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t,n=this._users.find((t=>e.startsWith(t.id)))){if(this._db.delete(e),t.lives<=1){this._size-=t.size,n&&(n.size-=t.size);const r=this._notifyRemove(e,t.entry,t.size,zD.SOME);null!=r&&r>0&&(this._size+=r,n&&(n.size+=r),t.lives=t.lifetime,t.size=r,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}},VD=class{constructor(e,t,n){this.entry=e,this.size=t,this.lifetime=n,this.lives=n}},BD=class{constructor(e,t){this._storage=new GD,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,n=1){this._storage.put(this,e,t,n,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}},$D=class e{constructor(e,t,n=""){this.major=e,this.minor=t,this._context=n}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",n=this._context&&this._context+" ";throw new et(t+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t,n=""){const[r,i]=t.split("."),o=/^\s*\d+\s*$/;if(!r?.match||!o.test(r))throw new et((n&&n+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!i?.match||!o.test(i))throw new et((n&&n+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const s=parseInt(r,10),a=parseInt(i,10);return new e(s,a,n)}},HD=class{};function WD(e){return e instanceof ob?e===HD.instance:"unknown"===e?.toString().toLowerCase()}function qD(e){return WD(e)?HD.instance:e}function ZD(e){return"timeZone"in e}function YD(e){return"timeZone"in e}function XD(e){return"dateFieldsTimeZone"in e}HD.instance=new fb("Etc/UTC");const JD=new Map;let KD=class e{static fromJSON(t){return new e(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new e(t.fields??[],nF(t))}static fromLayerJSON(t){return new e(t.fields??[],nF(t))}constructor(e=[],t){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const n=[];for(const r of this.fields){const e=r?.name,t=eF(e);if(e&&t){const i=QD(e);this._fieldsMap.set(e,r),this._fieldsMap.set(i,r),this._normalizedFieldsMap.set(t,r),n.push(`${i}:${r.type}:${this._timeZoneByFieldName?.get(e)}`),cM(r)?(this.dateFields.push(r),this._dateFieldsSet.add(r)):aM(r)&&(this._numericFieldsSet.add(r),this.numericFields.push(r)),dM(r)||fM(r)||(r.editable=null==r.editable||!!r.editable,r.nullable=null==r.nullable||!!r.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)dM(e)||fM(e)||e.nullable||void 0!==$E(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(QD(e))??this._normalizedFieldsMap.get(eF(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(Ye.getLogger("esri.layers.support.FieldsIndex").error(new et("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),BS):tF.has(t.type)?VS:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===VS?HD.instance:t===BS?Ub.utcInstance:zi(JD,t,(()=>fb.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return pM(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map((e=>$s(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function QD(e){return e.trim().toLowerCase()}function eF(e){return lE(e)?.toLowerCase()??""}const tF=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function nF(e){const t=new Map;if(!e.fields)return t;const n=!0===e.datesInUnknownTimezone,{timeInfo:r,editFieldsInfo:i}=e,o=(r?"startField"in r?r.startField:r.startTimeField:"")??"",s=(r?"endField"in r?r.endField:r.endTimeField:"")??"",a=XD(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?YS(e.dateFieldsTimeReference):null,l=i?ZD(i)?i.timeZone??a:i.dateFieldsTimeReference?YS(i.dateFieldsTimeReference):a??BS:null,c=r?YD(r)?r.timeZone??a:r.timeReference?YS(r.timeReference):a:null,u=new Map([[QD(i?.creationDateField??""),l],[QD(i?.editDateField??""),l],[QD(o),c],[QD(s),c]]);for(const{name:h,type:p}of e.fields)if(tF.has(p))t.set(h,VS);else if("date"!==p&&"esriFieldTypeDate"!==p)t.set(h,null);else if(n)t.set(h,VS);else{const e=u.get(QD(h??""))??a;t.set(h,e)}return t}let rF=1e-6;function iF(){return rF}function oF(e){rF=e}const sF=Math.random,aF=Math.PI/180,lF=180/Math.PI;function cF(e){return e*aF}function uF(e){return e*lF}function hF(e,t){return Math.abs(e-t)<=rF*Math.max(1,Math.abs(e),Math.abs(t))}function pF(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function dF(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function fF(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function mF(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function yF(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function gF(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function vF(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function bF(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function wF(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function _F(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function xF(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function SF(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function TF(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function EF(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function MF(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+o*o)}function AF(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o}function IF(e){const t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}function CF(e){const t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function OF(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function kF(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function RF(e,t){const n=t[0],r=t[1],i=t[2],o=t[3];let s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=o*s),e}function LF(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function NF(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=s+r*(n[2]-s),e[3]=a+r*(n[3]-a),e}function PF(e,t=1){const n=sF;let r,i,o,s,a,l;do{r=2*n()-1,i=2*n()-1,a=r*r+i*i}while(a>=1);do{o=2*n()-1,s=2*n()-1,l=o*o+s*s}while(l>=1);const c=Math.sqrt((1-a)/l);return e[0]=t*r,e[1]=t*i,e[2]=t*o*c,e[3]=t*s*c,e}function DF(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,e}function FF(e,t,n){const r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2],c=n[3],u=c*r+a*o-l*i,h=c*i+l*r-s*o,p=c*o+s*i-a*r,d=-s*r-a*i-l*o;return e[0]=u*c+d*-s+h*-l-p*-a,e[1]=h*c+d*-a+p*-s-u*-l,e[2]=p*c+d*-l+u*-a-h*-s,e[3]=t[3],e}function jF(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function UF(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function zF(e,t){const n=e[0],r=e[1],i=e[2],o=e[3],s=t[0],a=t[1],l=t[2],c=t[3],u=iF();return Math.abs(n-s)<=u*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-a)<=u*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-l)<=u*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-c)<=u*Math.max(1,Math.abs(o),Math.abs(c))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:sF,equals:hF,getEpsilon:iF,setEpsilon:oF,toDegree:uF,toRadian:cF},Symbol.toStringTag,{value:"Module"}));const GF=yF,VF=gF,BF=vF,$F=MF,HF=AF,WF=IF,qF=CF;function ZF(){return[0,0,0,0]}function YF(e){return[e[0],e[1],e[2],e[3]]}function XF(e,t,n,r){return[e,t,n,r]}function JF(e,t,n,r){return[e,t,n,r]}function KF(e,t=ZF()){const n=Math.min(4,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function QF(e,t){return new Float64Array(e,t,4)}function ej(){return ZF()}function tj(){return XF(1,1,1,1)}function nj(){return XF(1,0,0,0)}function rj(){return XF(0,1,0,0)}function ij(){return XF(0,0,1,0)}function oj(){return XF(0,0,0,1)}Object.freeze(Object.defineProperty({__proto__:null,add:mF,ceil:bF,copy:pF,copyVec3:dF,dist:$F,distance:MF,div:BF,divide:vF,dot:LF,equals:zF,exactEquals:UF,floor:wF,inverse:kF,len:WF,length:IF,lerp:NF,max:xF,min:_F,mul:VF,multiply:gF,negate:OF,normalize:RF,random:PF,round:SF,scale:TF,scaleAndAdd:EF,set:fF,sqrDist:HF,sqrLen:qF,squaredDistance:AF,squaredLength:CF,str:jF,sub:GF,subtract:yF,transformMat4:DF,transformQuat:FF},Symbol.toStringTag,{value:"Module"}));const sj=ej(),aj=tj(),lj=nj(),cj=rj(),uj=ij(),hj=oj();function pj(e){return"r"in e&&"g"in e&&"b"in e}function dj(e){return"h"in e&&"s"in e&&"v"in e}function fj(e){return"l"in e&&"a"in e&&"b"in e}function mj(e){return"l"in e&&"c"in e&&"h"in e}function yj(e){return"x"in e&&"y"in e&&"z"in e}Object.freeze(Object.defineProperty({__proto__:null,ONES:aj,UNIT_W:hj,UNIT_X:lj,UNIT_Y:cj,UNIT_Z:uj,ZEROS:sj,clone:YF,create:ZF,createView:QF,freeze:JF,fromArray:KF,fromValues:XF,ones:tj,unitW:oj,unitX:nj,unitY:rj,unitZ:ij,zeros:ej},Symbol.toStringTag,{value:"Module"}));const gj=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],vj=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function bj(e,t){const n=[];let r,i;if(e[0].length!==t.length)throw new Error("dimensions do not match");const o=e.length,s=e[0].length;let a=0;for(r=0;r<o;r++){for(a=0,i=0;i<s;i++)a+=e[r][i]*t[i];n.push(a)}return n}function wj(e){const t=[e.r/255,e.g/255,e.b/255].map((e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4)),n=bj(gj,t);return{x:100*n[0],y:100*n[1],z:100*n[2]}}function _j(e){const t=bj(vj,[e.x/100,e.y/100,e.z/100]).map((e=>{const t=e<=.0031308?12.92*e:1.055*e**.4166666666666667-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function xj(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map((e=>e>.008856451679035631?e**.3333333333333333:7.787037037037035*e+.13793103448275862));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function Sj(e){const t=e.l,n=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map((e=>e>6/29?e**3:3*(6/29)**2*(e-4/29)));return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function Tj(e){const t=e.l,n=e.a,r=e.b,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o=o>0?o:o+2*Math.PI,{l:t,c:i,h:o}}function Ej(e){const t=e.l,n=e.c,r=e.h;return{l:t,a:n*Math.cos(r),b:n*Math.sin(r)}}function Mj(e){return xj(wj(e))}function Aj(e){return _j(Sj(e))}function Ij(e){return Tj(xj(wj(e)))}function Cj(e){return _j(Sj(Ej(e)))}function Oj(e){const t=e.r,n=e.g,r=e.b,i=Math.max(t,n,r),o=i-Math.min(t,n,r);let s=i,a=0===o?0:i===t?(n-r)/o%6:i===n?(r-t)/o+2:(t-n)/o+4,l=0===o?0:o/s;return a<0&&(a+=6),a*=60,l*=100,s*=100/255,{h:a,s:l,v:s}}function kj(e){const t=(e.h+360)%360/60,n=e.s/100,r=e.v/100*255,i=r*n,o=i*(1-Math.abs(t%2-1));let s;switch(Math.floor(t)){case 0:s={r:i,g:o,b:0};break;case 1:s={r:o,g:i,b:0};break;case 2:s={r:0,g:i,b:o};break;case 3:s={r:0,g:o,b:i};break;case 4:s={r:o,g:0,b:i};break;case 5:case 6:s={r:i,g:0,b:o};break;default:s={r:0,g:0,b:0}}return s.r=Math.round(s.r+r-i),s.g=Math.round(s.g+r-i),s.b=Math.round(s.b+r-i),s}function Rj(e){return pj(e)?e:mj(e)?Cj(e):fj(e)?Aj(e):yj(e)?_j(e):dj(e)?kj(e):e}function Lj(e){return dj(e)?e:Oj(Rj(e))}function Nj(e){return fj(e)?e:Mj(Rj(e))}function Pj(e){return mj(e)?e:Ij(Rj(e))}function Dj(e,t){const{r:n,g:r,b:i}=e;return.2126*n+.7152*r+.0722*i}var Fj;function jj(e,t=Fj.High){return Dj(e)>t?new gy([0,0,0,e.a]):new gy([255,255,255,e.a])}function Uj(e,t,n={}){if(0===e.length||t<=0)return[];if(1===(e=e.map((e=>"string"==typeof e?new gy(e):e))).length||1===t){const n=[],r=e[0];for(let e=0;e<t;e++)n.push(r.clone());return n}if(n.shuffle&&(e=$(_e(e),n.seed)),e.length>=t){const n=[],r=(e.length-1)/(t-1);for(let i=0;i<t;i++){const t=Math.round(i*r);n.push(e[t].clone())}return n}return zj(e,t,n)}function zj(e,t,n={}){const r=[],i=e.length-1,o=Math.ceil((t-e.length)/i);e:for(let s=0;s<i;s++){const i=e[s],a=e[s+1];for(let s=1;s<=o;s++){const l=s/(o+1);if(r.push(Vj(i,a,l,n)),r.length+e.length===t)break e}}return[...e.map((e=>e.clone())),...$(r,n.seed??1)]}(function(e){e[e.Low=160]="Low",e[e.High=225]="High"})(Fj||(Fj={}));const Gj=(e,t)=>{const n=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+n))};function Vj(e,t,n,r={}){const i=e.r,o=e.g,s=e.b,a=t.r,l=t.g,c=t.b,u=Math.round(i+(a-i)*n),h=Math.round(o+(l-o)*n),p=Math.round(s+(c-s)*n);if(!r.offset)return new gy([u,h,p]);const d=B(r.seed);return new gy([Gj(u,d),Gj(h,d),Gj(p,d)])}var Bj,$j,Hj,Wj,qj,Zj,Yj,Xj,Jj,Kj,Qj,eU,tU,nU,rU,iU,oU,sU,aU,lU,cU,uU,hU,pU,dU,fU,mU,yU,gU,vU,bU,wU,_U,xU,SU,TU,EU,MU,AU,IU,CU,OU,kU,RU,LU,NU,PU,DU,FU,jU,UU,zU,GU,VU,BU,$U,HU,WU,qU,ZU,YU,XU;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(Bj||(Bj={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}($j||($j={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(Hj||(Hj={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(Wj||(Wj={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(qj||(qj={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(Zj||(Zj={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(Yj||(Yj={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(Xj||(Xj={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(Jj||(Jj={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(Kj||(Kj={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(Qj||(Qj={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(eU||(eU={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(tU||(tU={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(nU||(nU={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(rU||(rU={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(iU||(iU={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(oU||(oU={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(sU||(sU={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(aU||(aU={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(lU||(lU={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(cU||(cU={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(uU||(uU={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(hU||(hU={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(pU||(pU={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(dU||(dU={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(fU||(fU={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(mU||(mU={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(yU||(yU={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(gU||(gU={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(vU||(vU={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(bU||(bU={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(wU||(wU={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(_U||(_U={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(xU||(xU={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(SU||(SU={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(TU||(TU={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(EU||(EU={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(MU||(MU={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(AU||(AU={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(IU||(IU={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(CU||(CU={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(OU||(OU={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(kU||(kU={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(RU||(RU={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(LU||(LU={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(NU||(NU={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(PU||(PU={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(DU||(DU={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(FU||(FU={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(jU||(jU={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(UU||(UU={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(zU||(zU={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(GU||(GU={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(VU||(VU={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(BU||(BU={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}($U||($U={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(HU||(HU={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(WU||(WU={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(qU||(qU={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(ZU||(ZU={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(YU||(YU={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(XU||(XU={}));const JU={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},KU={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:Qj.Loop,repeatdelay:0,easing:eU.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}};function QU(e){return[e.r,e.g,e.b,e.a]}const ez=" /-,\n";function tz(e){let t=e.length;for(;t--;)if(!ez.includes(e.charAt(t)))return!1;return!0}function nz(e,t){const n=[];let r=0,i=-1;do{if(i=e.indexOf("[",r),i>=r){if(i>r){const t=e.slice(r,i);n.push([t,null,tz(t)])}if(r=i+1,i=e.indexOf("]",r),i>=r){if(i>r){const o=t[e.slice(r,i)];o&&n.push([null,o,!1])}r=i+1}}}while(-1!==i);if(r<e.length){const t=e.slice(r);n.push([t,null,tz(t)])}return n}function rz(e,t,n,r){let i="",o=null;for(const s of t){const[t,r,a]=s;if(t)a?o=t:(o&&(i+=o,o=null),i+=t);else{let t=r;null!=n&&(t=jz(r,n));const s=e.attributes[t];s&&(o&&(i+=o,o=null),i+=s)}}return iz(i,r)}function iz(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function oz(e,t,n,r,i,o,s=!0){const a=t/i,l=n/o,c=Math.ceil(a/2),u=Math.ceil(l/2);for(let h=0;h<o;h++)for(let n=0;n<i;n++){const p=4*(n+(s?o-h-1:h)*i);let d=0,f=0,m=0,y=0,g=0,v=0,b=0;const w=(h+.5)*l;for(let r=Math.floor(h*l);r<(h+1)*l;r++){const i=Math.abs(w-(r+.5))/u,o=(n+.5)*a,s=i*i;for(let l=Math.floor(n*a);l<(n+1)*a;l++){let n=Math.abs(o-(l+.5))/c;const i=Math.sqrt(s+n*n);i>=-1&&i<=1&&(d=2*i*i*i-3*i*i+1,d>0&&(n=4*(l+r*t),b+=d*e[n+3],m+=d,e[n+3]<255&&(d=d*e[n+3]/250),y+=d*e[n],g+=d*e[n+1],v+=d*e[n+2],f+=d))}}r[p]=y/f,r[p+1]=g/f,r[p+2]=v/f,r[p+3]=b/m}}function sz(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function az(e){return e.data?.symbol??null}function lz(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function cz(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function uz(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function hz(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const pz=(e,t=0)=>null==e||isNaN(e)?t:e,dz=(e,t)=>e??t,fz=(e,t)=>e??t,mz=e=>e.tintColor?sz(e.tintColor):[255,255,255,1],yz=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function gz(){return Promise.all([n.e(6239),n.e(3270)]).then(n.bind(n,43270)).then((e=>e.g))}function vz(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function bz(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function wz(e){let t="normal",n="normal";if(e){const r=e.toLowerCase();r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?n="bold":r.includes("light")&&(n="lighter")}return{style:t,weight:n}}function _z(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function xz(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=xz(t);if(null!=e)return e}break;case"CIMTextSymbol":return xz(e.symbol);case"CIMSolidFill":return e.color}return null}function Sz(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const e of t){const t=Sz(e);if(null!=t)return t}break}case"CIMTextSymbol":return Sz(e.symbol);case"CIMSolidStroke":return e.color}}function Tz(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=Tz(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return Tz(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function Ez(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function Mz(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function Az(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const Iz=e=>e.includes("data:image/svg+xml");function Cz(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Oz(e,t,n,r,i,o,s=!0){const{infos:a}=o;let l=1,c=0,u=0,h=0,p=1;for(const{absoluteAnchorPoint:m,offsetX:y,offsetY:g,rotation:v,size:b,frameHeight:w,rotateClockWise:_,scaleSymbolsProportionally:x}of a)p=m?1:l,u=Vz(y,g,c,p,u),h=Gz(y,g,c,p,h),w&&(x||s)&&(l*=b/w),c=Bz(v,_,c);const d=Vz(r,i,c,p,u),f=Gz(r,i,c,p,h);return{size:e*l,rotation:Bz(t,n,c),offsetX:d,offsetY:f}}function kz(e){if(null==e)return!1;if(Array.isArray(e))return e.every((e=>kz(e)));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function Rz(e,t){if("color"===t||"outlinecolor"===t||"backgroundcolor"===t||"borderlinecolor"===t||"tintcolor"===t)return[...JU[t]];const n=KU[e];if(!n)throw new Error(`InternalError: default value for type ${e}.`);return n[t]}function Lz(e){return e.split(" ").map((e=>Number(e)))}function Nz(e){return"string"==typeof e?Lz(e):e}function Pz(e){return e?.dashTemplate&&(e.dashTemplate=Nz(e.dashTemplate)),e}function Dz(e){if(null==e)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const e of t)if("CIMVectorMarker"===e.type)return Dz(e)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const e of t)if(e.symbol)return Dz(e.symbol)}}return"Normal"}function Fz(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers)for(const n of e.symbolLayers)if(n)switch(n.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const e=n.size??KU.CIMVectorMarker.size;e>t&&(t=e);break}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers)for(const n of e.symbolLayers)if(n)switch(n.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const e=n.width;null!=e&&e>t&&(t=e);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(n.markerPlacement&&hz(n.markerPlacement)){const e=n.size??KU.CIMVectorMarker.size;e>t&&(t=e)}break;case"CIMPictureFill":{const e=n.height;null!=e&&e>t&&(t=e)}}return t}}}function jz(e,t){if(null!==t){const n=t.get(e);return n?n.name:e}return e}function Uz(e){return e.map((e=>({...e,propertyName:Cz(e.propertyName)})))}function zz(e){const t={};for(const n in e){const r=e[n];t[Cz(n)]=r}return t}function Gz(e,t,n,r,i){const o=n*Math.PI/180;if(o){const n=Math.cos(o);return(Math.sin(o)*e+n*t)*r+i}return t*r+i}function Vz(e,t,n,r,i){const o=n*Math.PI/180;return o?(Math.cos(o)*e-Math.sin(o)*t)*r+i:e*r+i}function Bz(e,t,n){return t?n-e:n+e}function $z(e,t,n){const r="Color"===n||"TintColor"===n||"ToColor"===n,i="Rotation"===n||"Angle"===n||"ToRotation"===n;let o=t[Cz(n)];if(null!=o&&(r?o=[o[0]/255,o[1]/255,o[2]/255,o[3]/255]:i&&(o*=Math.PI/180)),null==o&&(o=Rz(t.type,n.toLowerCase()),null!=o&&(r?o=[o[0]/255,o[1]/255,o[2]/255,o[3]]:i&&(o*=Math.PI/180))),null!=t.primitiveName){const s=e[t.primitiveName];if(null!=s){const e=s[n];null==e||("string"==typeof e||"number"==typeof e||Array.isArray(e)?(o=e,null!=o&&(r?o=[o[0]/255,o[1]/255,o[2]/255,o[3]/255]:i&&(o*=Math.PI/180))):(o={valueExpressionInfo:e,defaultValue:o},null!=o&&(r?o={type:"Process",op:"ArcadeColor",value:o}:i&&(o={type:"Process",op:"Divide",left:o,right:180/Math.PI}))))}}if(null==o)throw new Error(`Failed to derive a value or an expression for "${n}".`);return o}function Hz(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function Wz(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}function qz(e){if(Wz(e))return e;const{originPosition:t,scale:n,translate:r}=e,i=n[0]??1,o=n[1]??1;return{originPosition:"lowerLeft",scale:[i,"lowerLeft"===t?o:-o,n[2]??1,n[3]??1],translate:[r[0]??0,r[1]??0,r[2]??0,r[3]??0]}}function Zz({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function Yz({scale:e,translate:t},n){return Math.round((n-t[1])/e[1])}function Xz({scale:e,translate:t},n){return Math.round(((n??0)-t[2])/e[2])}function Jz({scale:e,translate:t},n){return n?Math.round((n-t[3])/e[3]):0}function Kz({scale:e,translate:t},n){return n*e[0]+t[0]}function Qz({scale:e,translate:t},n){return n*e[1]+t[1]}function eG({scale:e,translate:t},n){return(n??0)*e[2]+t[2]}function tG({scale:e,translate:t},n){return n?n*e[3]+t[3]:0}function nG(e,t){return e&&t?sG:e&&!t?iG:!e&&t?oG:rG}const rG=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let i=Kz(e,r[0]),o=Qz(e,r[1]);n[0]=[i,o];const{scale:s,originPosition:a}=e,l=s[0],c="lowerLeft"===a?s[1]:-s[1];for(let u=1;u<t.length;u++){const[e,r]=t[u];i+=l*e,o+=c*r,n[u]=[i,o]}return n},iG=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let i=Kz(e,r[0]),o=Qz(e,r[1]);n[0]=[i,o,eG(e,r[2])];const{scale:s,originPosition:a}=e,l=s[0],c="lowerLeft"===a?s[1]:-s[1];for(let u=1;u<t.length;u++){const[r,s,a]=t[u];i+=l*r,o+=c*s,n[u]=[i,o,eG(e,a)]}return n},oG=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let i=Kz(e,r[0]),o=Qz(e,r[1]);n[0]=[i,o,tG(e,r[2])];const{scale:s,originPosition:a}=e,l=s[0],c="lowerLeft"===a?s[1]:-s[1];for(let u=1;u<t.length;u++){const[r,s,a]=t[u];i+=l*r,o+=c*s,n[u]=[i,o,tG(e,a)]}return n},sG=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let i=Kz(e,r[0]),o=Qz(e,r[1]);n[0]=[i,o,eG(e,r[2]),tG(e,r[3])];const{scale:s,originPosition:a}=e,l=s[0],c="lowerLeft"===a?s[1]:-s[1];for(let u=1;u<t.length;u++){const[r,s,a,h]=t[u];i+=l*r,o+=c*s,n[u]=[i,o,eG(e,a),tG(e,h)]}return n};function aG(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++)r[i]=t(e,n[i]);return r}function lG(e,t,n){const r=qz(e);return t.x=Zz(r,n.x),t.y=Yz(r,n.y),null!=n.z&&(t.z=Xz(r,n.z)),null!=n.m&&(t.m=Jz(r,n.m)),t}function cG(e,t,n,r=n?.hasZ??!1,i=n?.hasM??!1){if(null!=n){const o=qz(e);t.points=nG(r,i)(o,n.points),t.hasZ=r,t.hasM=i}return t}function uG(e,t,n,r=null!=n?.z,i=null!=n?.m){if(null==n)return t;const o=qz(e);return t.x=Kz(o,n.x),t.y=Qz(o,n.y),r&&(t.z=eG(o,n.z)),i&&(t.m=tG(o,n.m)),t}function hG(e,t,n,r=n?.hasZ??!1,i=n?.hasM??!1){if(null!=n){const o=qz(e);t.rings=aG(o,nG(r,i),n.rings),t.hasZ=r,t.hasM=i}return t}function pG(e,t,n,r=n?.hasZ??!1,i=n?.hasM??!1){if(null!=n){const o=qz(e);t.paths=aG(o,nG(r,i),n.paths),t.hasZ=r,t.hasM=i}return t}function dG(e,t,n,r,i){if(null==e)return null;const o=e.referencesGeometry()&&i?mG(t,r,i):t,s=e.repurposeFeature(o);try{return e.evaluate({...n,$feature:s},e.services)}catch(a){return Ye.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",a),null}}const fG=new Map;function mG(e,t,n){const{transform:r,hasZ:i,hasM:o}=n;fG.has(t)||fG.set(t,yG(t));const s=fG.get(t)(e.geometry,r,i,o);return{...e,geometry:s}}function yG(e){const t={};switch(e){case"esriGeometryPoint":return(e,n,r,i)=>uG(n,t,e,r,i);case"esriGeometryPolygon":return(e,n,r,i)=>hG(n,t,e,r,i);case"esriGeometryPolyline":return(e,n,r,i)=>pG(n,t,e,r,i);case"esriGeometryMultipoint":return(e,n,r,i)=>cG(n,t,e,r,i);default:return Ye.getLogger("esri.views.2d.support.arcadeOnDemand").error(new et("mapview-arcade",`Unable to handle geometryType: ${e}`)),e=>e}}const gG=e=>{if(!e)return[0,0,0,0];const{r:t,g:n,b:r,a:i}=e;return[t,n,r,255*i]};let vG=class e{static findApplicableOverrides(t,n,r){if(t&&n){if(t.primitiveName){let e=!1;for(const n of r)if(n.primitiveName===t.primitiveName){e=!0;break}if(!e)for(const i of n)i.primitiveName===t.primitiveName&&r.push(i)}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const i of t.effects)e.findApplicableOverrides(i,n,r);if(t.symbolLayers)for(const i of t.symbolLayers)e.findApplicableOverrides(i,n,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(t.effects)for(const i of t.effects)e.findApplicableOverrides(i,n,r);if(t.markerPlacement&&e.findApplicableOverrides(t.markerPlacement,n,r),"CIMVectorMarker"===t.type){if(t.markerGraphics)for(const i of t.markerGraphics)e.findApplicableOverrides(i,n,r),e.findApplicableOverrides(i.symbol,n,r)}else"CIMCharacterMarker"===t.type?e.findApplicableOverrides(t.symbol,n,r):"CIMHatchFill"===t.type?e.findApplicableOverrides(t.lineSymbol,n,r):"CIMPictureMarker"===t.type&&e.findApplicableOverrides(t.animatedSymbolProperties,n,r)}}}static findEffectOverrides(e,t){if(!e)return null;if("CIMGeometricEffectDashes"===e.type&&Pz(e),!t||!e.primitiveName)return{type:"cim-effect-param",effect:e,overrides:[]};const n=zz(e),r=e.primitiveName,i=[];for(const o of t)o.primitiveName===r&&i.push(zz(o));return{type:"cim-effect-param",effect:n,overrides:Uz(i)}}static async resolveSymbolOverrides(t,n,r,i,o,s,a){if(!t?.symbol)return null;let{symbol:l,primitiveOverrides:c}=t;const u=!!c;if(!u&&!i)return l;l=_e(l),c=_e(c);let h=!0;if(n||(n={attributes:{}},h=!1),u){if(h||(c=c.filter((e=>!e.valueExpressionInfo?.expression.includes("$feature")))),a||(c=c.filter((e=>!e.valueExpressionInfo?.expression.includes("$view")))),c.length>0){const t={spatialReference:r,fields:Az(n.attributes),geometryType:o};await e.createRenderExpressions(c,t),e.evaluateOverrides(c,n,o??"esriGeometryPoint",s,a)}e.applyOverrides(l,c)}return i&&e.applyDictionaryTextOverrides(l,n,i,null),l}static async createRenderExpressions(t,n){const r=[];for(const i of t){const t=i.valueExpressionInfo;if(!t||e._expressionToRenderExpression.has(t.expression))continue;const o=rE(t.expression,n.spatialReference,n.fields);r.push(o),o.then((n=>e._expressionToRenderExpression.set(t.expression,n)))}r.length>0&&await Promise.all(r)}static evaluateOverrides(t,n,r,i,o){const s={$view:{scale:o?.scale}};for(const a of t){a.value&&"object"==typeof a.value&&pj(a.value)&&("Color"===a.propertyName||"StrokeColor"===a.propertyName)&&(a.value=gG(a.value));const t=a.valueExpressionInfo;if(!t)continue;const o=e._expressionToRenderExpression.get(t.expression);o&&(a.value=dG(o,n,s,r,i))}}static applyDictionaryTextOverrides(t,n,r,i,o="Normal"){if(t?.type)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const s=t.symbolLayers;if(!s)return;for(const a of s)a&&"CIMVectorMarker"===a.type&&e.applyDictionaryTextOverrides(a,n,r,i,"CIMTextSymbol"===t.type?t.textCase:o)}break;case"CIMVectorMarker":{const o=t.markerGraphics;if(!o)return;for(const t of o)t&&e.applyDictionaryTextOverrides(t,n,r,i)}break;case"CIMMarkerGraphic":{const e=t.textString;if(e&&e.includes("[")){const s=nz(e,r);t.textString=rz(n,s,i,o)}}}}static applyOverrides(t,n,r,i){if(t.primitiveName)for(const e of n)if(e.primitiveName===t.primitiveName){const n=Cz(e.propertyName);if(i&&i.push({cim:t,nocapPropertyName:n,value:t[n]}),r){let n=!1;for(const e of r)e.primitiveName===t.primitiveName&&(n=!0);n||r.push(e)}null!=e.value&&(t[n]=e.value)}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const o of t.effects)e.applyOverrides(o,n,r,i);if(t.symbolLayers)for(const o of t.symbolLayers)e.applyOverrides(o,n,r,i);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(t.effects)for(const o of t.effects)e.applyOverrides(o,n,r,i);if("CIMVectorMarker"===t.type&&t.markerGraphics)for(const o of t.markerGraphics)e.applyOverrides(o,n,r,i),e.applyOverrides(o.symbol,n,r,i)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t="";for(const n of e)void 0!==n.value&&(t+=`${n.primitiveName}${n.propertyName}${JSON.stringify(n.value)}`);return t}static toValue(e,t){if("DashTemplate"===e)return t.split(" ").map((e=>Number(e)));if("Color"===e){const e=new gy(t).toRgba();return e[3]*=255,e}return t}};vG._expressionToRenderExpression=new Map;const bG="esri.renderers.support.DictionaryLoader",wG={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let _G=class{constructor(e,t,n){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new BD(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=e,this.config=t,this.fieldMap=n}getSymbolFields(){return this._symbolFields}async getSymbolAsync(e,t){let n;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(t));try{n=await this._dictionaryPromise}catch(u){if(dr(u))return this._dictionaryPromise=null,null}const r=this._dictionaryVersion?.greaterEqual(4,0),i={};if(this.fieldMap)for(const h of this._symbolFields){const t=jz(this.fieldMap[h],this._fieldIndex);if(t){const n=e.attributes[t];i[h]=r?n:null!=n?""+e.attributes[t]:""}else i[h]=""}let o=null;try{o=n?.(i,t)}catch{return null}if(!o||"string"!=typeof o||"invalid"===o)return null;const s=o.split(";"),a=[],l=[];for(let h=0;h<s.length;h++){const t=s[h];if(t)if(t.includes("po:")){const n=t.slice(3).split("|");if(3===n.length){const t=n[0],r=n[1];let i=n[2];const o="countrylabel";if(t===o&&"TextString"===r){if(null!=this.fieldMap){let t=this.fieldMap[o];null==t&&(t=o,this.fieldMap[t]=t),e.attributes[t]=i}continue}if("DashTemplate"===r)i=i.split(" ").map((e=>Number(e)));else if("Color"===r){const e=new gy(i).toRgba();i=[e[0],e[1],e[2],255*e[3]]}else i=Number(i);l.push({primitiveName:t,propertyName:r,value:i,defaultValue:null})}}else if(t.includes("|")){for(const e of t.split("|"))if(this._itemNames.has(e)){a.push(e);break}}else if(this._itemNames.has(t))a.push(t);else if(0===h){a.length=0;let t="Invalid_P";null!=e.geometry&&(dv(e.geometry)?t="Invalid_A":pv(e.geometry)&&(t="Invalid_L")),a.push(t);break}}const c=null==e.geometry||!e.geometry.hasZ&&"point"===e.geometry.type;return this._cimPartsToCIMSymbol(e,a,l,c,t)}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void Ye.getLogger(bG).error("no valid URL!");const t=Bl(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=e?e.signal:null}),[{data:n}]=await Promise.all([t,nE()]);if(!n)throw this._dictionaryPromise=null,new et("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:r,dictionary_version:i,expression:o,itemsNames:s}=n,a=o;let l=!1;i&&(this._dictionaryVersion=$D.parse(i),l=this._dictionaryVersion.greaterEqual(4,0)),this._refSymbolUrlTemplate=this.url+"/"+n.cimRefTemplateUrl,this._itemNames=new Set(s),this._symbolFields=r.symbol;const c={};if(this.config){const e=this.config;for(const t in e)c[t]=e[t]}if(r.configuration)for(const p of r.configuration)c.hasOwnProperty(p.name)||(c[p.name]=p.value);const u=[];if(e?.fields&&this.fieldMap)for(const p in this.fieldMap){const t=this.fieldMap[p],n=e.fields.filter((e=>e.name.toLowerCase()===t?.toLowerCase()));n.length>0&&u.push({...n[0],type:l?n[0].type:"esriFieldTypeString"})}u.length>0&&(this._fieldIndex=new KD(u));const h=iE(a,null!=e?e.spatialReference:null,u,c).then((e=>{const t={scale:0};return(n,r)=>{if(null==e)return null;const i=e.repurposeFeature({geometry:null,attributes:n});return t.scale=null!=r?r.scale??void 0:void 0,e.evaluate({$feature:i,$view:t},e.services)}})).catch((e=>(Ye.getLogger(bG).error("Creating dictionary expression failed:",e),null)));return this._dictionaryPromise=h,h}async _cimPartsToCIMSymbol(e,t,n,r,i){const o=new Array(t.length);for(let l=0;l<t.length;l++)o[l]=this._getSymbolPart(t[l],i);let s=await Promise.all(o);const a=this.fieldMap;if(a){s=_e(s);for(const t of s)vG.applyDictionaryTextOverrides(t,e,a,this._fieldIndex,Dz(t))}return new OI({data:xG(s,n,r)})}async _getSymbolPart(e,t){const n=this._symbolCache.get(e);if(n)return n;if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const r=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,e),i=Bl(r,{responseType:"json",query:{f:"json"},...t});this._ongoingRequests.set(e,i),i.finally((()=>this._ongoingRequests.delete(e)));try{const t=await i;return this._symbolCache.put(e,t.data),t.data}catch(o){throw o}}};function xG(e,t,n){if(!e||0===e.length)return null;const r={...e[0]};if(e.length>1){r.effects=null,r.symbolLayers=[];for(const t of e){const e=t;if(null!=e.effects)for(const t of e.symbolLayers)null==t.effects?t.effects=e.effects:t.effects.unshift(...e.effects);r.symbolLayers.unshift(...e.symbolLayers)}}return n&&(r.callout=wG),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:t}}var SG;let TG=SG=class extends($P(TN)){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new _G(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,n,r){r?.origin||super.writeVisualVariables(e,t,n,r)}clone(){return new SG({config:_e(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:_e(this.fieldMap),url:_e(this.url),visualVariables:_e(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await wE(e,t,this.scaleExpression);for(const n in this.fieldMap){const r=this.fieldMap[n];t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};S([To({type:_G})],TG.prototype,"_loader",null),S([To({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],TG.prototype,"config",void 0),S([To({type:Object,json:{write:!0}})],TG.prototype,"fieldMap",void 0),S([To({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],TG.prototype,"scaleExpression",void 0),S([su("scaleExpression")],TG.prototype,"writeData",null),S([To({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],TG.prototype,"scaleExpressionTitle",void 0),S([To({type:String,json:{write:!0}})],TG.prototype,"url",void 0),S([su("visualVariables")],TG.prototype,"writeVisualVariables",null),TG=SG=S([gs("esri.renderers.DictionaryRenderer")],TG);const EG=TG;var MG;let AG=MG=class extends Hs{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(Ye.getLogger(this).error(".field: field must be a string value"),null):Hi(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new MG({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};S([To({type:gy,json:{type:[Number],write:!0}})],AG.prototype,"color",void 0),S([To({type:String,json:{write:!0}})],AG.prototype,"field",void 0),S([Dp("field")],AG.prototype,"castField",null),S([To({type:String,json:{write:!0}})],AG.prototype,"label",void 0),S([To({type:String,json:{write:!0}})],AG.prototype,"valueExpression",void 0),S([To({type:String,json:{write:!0}})],AG.prototype,"valueExpressionTitle",void 0),AG=MG=S([gs("esri.renderers.support.AttributeColorInfo")],AG);const IG=AG;var CG;let OG=CG=class extends Hs{constructor(){super(...arguments),this.unit=null}clone(){return new CG({unit:this.unit})}};S([To({type:String,json:{write:!0}})],OG.prototype,"unit",void 0),OG=CG=S([gs("esri.renderers.support.DotDensityLegendOptions")],OG);const kG=OG;var RG;let LG=RG=class extends($P(TN)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new gy([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new DC,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new uL({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new RG({attributes:_e(this.attributes),backgroundColor:_e(this.backgroundColor),dotBlendingEnabled:_e(this.dotBlendingEnabled),dotShape:_e(this.dotShape),dotSize:_e(this.dotSize),dotValue:_e(this.dotValue),legendOptions:_e(this.legendOptions),outline:_e(this.outline),referenceScale:_e(this.referenceScale),seed:_e(this.seed),visualVariables:_e(this.visualVariables),authoringInfo:_e(this.authoringInfo)})}getControllerHash(){return`${this.attributes?.map((e=>e.field||e.valueExpression||""))}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const n of this.attributes??[])n.valueExpression&&await wE(e,t,n.valueExpression),n.field&&e.add(n.field)}};S([To({type:[IG],json:{write:!0}})],LG.prototype,"attributes",void 0),S([To({type:gy,json:{write:!0}})],LG.prototype,"backgroundColor",void 0),S([To({type:Boolean,json:{write:!0}})],LG.prototype,"dotBlendingEnabled",void 0),S([To({type:String,json:{write:!1}})],LG.prototype,"dotShape",void 0),S([To({type:Number,json:{write:!0}})],LG.prototype,"dotSize",void 0),S([To({type:kG,json:{write:!0}})],LG.prototype,"legendOptions",void 0),S([To({type:DC,json:{default:null,write:!0}})],LG.prototype,"outline",void 0),S([To({type:Number,json:{write:!0}})],LG.prototype,"dotValue",void 0),S([To({type:Number,json:{write:!0}})],LG.prototype,"referenceScale",void 0),S([To({type:Number,json:{write:!0}})],LG.prototype,"seed",void 0),S([WM({dotDensity:"dot-density"})],LG.prototype,"type",void 0),LG=RG=S([gs("esri.renderers.DotDensityRenderer")],LG);const NG=LG;var PG;let DG=PG=class extends Hs{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new PG({color:this.color&&this.color.clone(),ratio:this.ratio})}};S([To({type:gy,json:{type:[yo],default:null,write:!0}})],DG.prototype,"color",void 0),S([To({type:Number,json:{write:!0}})],DG.prototype,"ratio",void 0),DG=PG=S([gs("esri.renderers.support.HeatmapColorStop")],DG);const FG=DG;let jG=class extends(_v(Hs)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};S([To({type:String,json:{write:!0}})],jG.prototype,"minLabel",void 0),S([To({type:String,json:{write:!0}})],jG.prototype,"maxLabel",void 0),S([To({type:String,json:{write:!0}})],jG.prototype,"title",void 0),jG=S([gs("esri.renderers.support.HeatmapLegendOptions")],jG);const UG=2.4;function zG(e){return FI(e*UG)}function GG(e){return DI(e)/UG}function VG(e,t,n,r){let{color:i,ratio:o}=t,{color:s,ratio:a}=n;a===o&&(1===a?o-=1e-6:a+=1e-6);const l=Wm((r-o)/(a-o),0,1);NF(e,i.toArray(),s.toArray(),l)}function BG(e){const t=new Uint8ClampedArray(2048);if(e=e.filter((({ratio:e})=>e>=0&&e<=1)).sort(((e,t)=>e.ratio-t.ratio)).map((({color:e,ratio:t})=>({color:e,ratio:Math.max(t,.001)}))),e.length<1)return t;let n=e[0],r=e[0],i=1;const o=ZF();for(let s=0;s<512;s++){const a=(s+.5)/512;for(;a>r.ratio&&i<e.length;)n=r,r=e[i++];VG(o,n,r,a),t.set(o,4*s)}return t}function $G(e,t,n){const r=Math.sqrt(e**2+t**2)/n;return r>1?0:3/(Math.PI*n**2)*(1-r**2)**2}function HG(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}var WG;function qG(e){if(null!=e){const{maxDensity:t,minDensity:n,radius:r}=e;if(null!=t||null!=n||null!=r){const{blurRadius:t,maxPixelIntensity:n,minPixelIntensity:r,...i}=e;return i}}return e}let ZG=WG=class extends TN{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new FG({ratio:0,color:new gy("rgba(255, 140, 0, 0)")}),new FG({ratio:.75,color:new gy("rgba(255, 140, 0, 1)")}),new FG({ratio:.9,color:new gy("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return qG(e)}get blurRadius(){return GG(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,n=this.minPixelIntensity;this._set("radius",zG(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",n*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(UG**2*this.blurRadius**4)}read(e,t){e=qG(e),super.read(e,t)}getSymbol(){return new fL}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const n=this.field,r=this.valueExpression;n&&"string"==typeof n&&gE(e,t,n),r&&"string"==typeof r&&await wE(e,t,r)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new WG({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:_e(this.colorStops),field:this.field,legendOptions:_e(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};S([To({type:_N,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ZG.prototype,"authoringInfo",void 0),S([To({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ZG.prototype,"blurRadius",null),S([To({type:[FG],json:{write:!0}})],ZG.prototype,"colorStops",void 0),S([To({type:String,json:{write:!0}})],ZG.prototype,"field",void 0),S([To({type:jG,json:{write:!0}})],ZG.prototype,"legendOptions",void 0),S([To({type:Number,json:{write:!0}})],ZG.prototype,"maxDensity",void 0),S([To({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ZG.prototype,"maxPixelIntensity",null),S([To({type:Number,json:{write:!0}})],ZG.prototype,"minDensity",void 0),S([To({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ZG.prototype,"minPixelIntensity",null),S([To({type:Number,cast:jI,json:{write:!0}})],ZG.prototype,"radius",void 0),S([To({type:Number,range:{min:0},json:{default:0,write:!0}})],ZG.prototype,"referenceScale",void 0),S([WM({heatmap:"heatmap"})],ZG.prototype,"type",void 0),S([To({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],ZG.prototype,"valueExpression",void 0),S([To({type:String})],ZG.prototype,"valueExpressionTitle",void 0),S([To({readOnly:!0})],ZG.prototype,"_pixelIntensityToDensity",null),ZG=WG=S([gs("esri.renderers.HeatmapRenderer")],ZG);const YG=ZG;let XG=class extends(_v(Hs)){constructor(){super(...arguments),this.color=new gy([0,0,0,0]),this.label=null,this.threshold=0}};S([To({type:gy,json:{write:!0}})],XG.prototype,"color",void 0),S([To({type:String,json:{write:!0}})],XG.prototype,"label",void 0),S([To({type:Number,range:{min:0,max:1},json:{write:!0}})],XG.prototype,"threshold",void 0),XG=S([gs("esri.renderers.support.OthersCategory")],XG);const JG={base:kN,key:"type",typeMap:{size:FP,opacity:BN}};let KG=class extends($P(_v(TN))){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new gy([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new XG,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){return new fL({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(q)}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const n of this.attributes)n.valueExpression&&await wE(e,t,n.valueExpression),n.field&&e.add(n.field)}};S([To({type:[IG],json:{write:!0}})],KG.prototype,"attributes",void 0),S([To(xD)],KG.prototype,"backgroundFillSymbol",void 0),S([To({type:gy,json:{write:!0}})],KG.prototype,"defaultColor",void 0),S([To({type:String,json:{write:!0}})],KG.prototype,"defaultLabel",void 0),S([To({type:Number,range:{min:0,max:1},json:{write:!0}})],KG.prototype,"holePercentage",void 0),S([To({type:XG,json:{write:!0}})],KG.prototype,"othersCategory",void 0),S([To({type:CD,json:{write:!0}})],KG.prototype,"legendOptions",void 0),S([To({type:DC,json:{default:null,write:!0}})],KG.prototype,"outline",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],KG.prototype,"size",void 0),S([WM({pieChart:"pie-chart"})],KG.prototype,"type",void 0),S([To({types:[JG]})],KG.prototype,"visualVariables",void 0),KG=S([gs("esri.renderers.PieChartRenderer")],KG);const QG=KG;var eV;let tV=eV=class extends($P(TN)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map((n=>n.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new eV({description:this.description,label:this.label,symbol:_e(this.symbol),visualVariables:_e(this.visualVariables),authoringInfo:_e(this.authoringInfo)})}};S([To({type:String,json:{write:!0}})],tV.prototype,"description",void 0),S([To({type:String,json:{write:!0}})],tV.prototype,"label",void 0),S([To(_D)],tV.prototype,"symbol",void 0),S([WM({simple:"simple"})],tV.prototype,"type",void 0),tV=eV=S([gs("esri.renderers.SimpleRenderer")],tV);const nV=tV,rV=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function iV(e){return e instanceof Ms}function oV(e){return e instanceof Rc?Object.keys(e.items):iV(e)?Ct(e).keys():e?Object.keys(e):[]}function sV(e,t){return e instanceof Rc?e.items[t]:e[t]}function aV(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function lV(e){return e?e.declaredClass:null}function cV(e,t){const n=e.diff;if(n&&"function"==typeof n)return n(e,t);const r=oV(e),i=oV(t);if(0===r.length&&0===i.length)return;if(!r.length||!i.length||aV(e,t))return{type:"complete",oldValue:e,newValue:t};const o=i.filter((e=>!r.includes(e))),s=r.filter((e=>!i.includes(e))),a=r.filter((n=>i.includes(n)&&sV(e,n)!==sV(t,n))).concat(o,s).sort(),l=lV(e);if(l&&rV.has(l)&&a.length)return{type:"complete",oldValue:e,newValue:t};let c;const u=iV(e)&&iV(t);for(const h of a){const r=sV(e,h),i=sV(t,h);let o;if((u||"function"!=typeof r&&"function"!=typeof i)&&r!==i&&(null!=r||null!=i)){if(n&&n[h]&&"function"==typeof n[h])o=n[h]?.(r,i);else if(r instanceof Date&&i instanceof Date){if(r.getTime()===i.getTime())continue;o={type:"complete",oldValue:r,newValue:i}}else o="object"==typeof r&&"object"==typeof i&&lV(r)===lV(i)?cV(r,i):{type:"complete",oldValue:r,newValue:i};null!=o&&(null!=c?c.diff[h]=o:c={type:"partial",diff:{[h]:o}})}}return c}function uV(e,t){return hV(e,t)}function hV(e,t){if(null==e)return!1;const n=t.split(".");let r=e;for(const i of n){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const e=r.diff[i];if(!e)return!1;r=e}}return!0}function pV(e,t){if(!e)return!1;if("partial"===e.type){const n=Object.keys(e.diff);return 1===n.length&&n[0]===t}return!1}function dV(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&lV(e)!==lV(t)?{type:"complete",oldValue:e,newValue:t}:cV(e,t)}let fV=class extends(_v(Hs)){constructor(e){super(e),this.value=null,this.value2=null,this.value3=null}};S([To(SD)],fV.prototype,"value",void 0),S([To(SD)],fV.prototype,"value2",void 0),S([To(SD)],fV.prototype,"value3",void 0),fV=S([gs("esri.renderers.support.UniqueValue")],fV);const mV=fV;let yV=class extends(_v(Hs)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(e){if(null==e)return null;const t=typeof(e=Array.isArray(e)?e:[e])[0];return"string"===t||"number"===t?e.map((e=>new mV({value:e}))):"object"===t?e[0]instanceof mV?e:e.map((e=>new mV(e))):null}};S([To({type:String,json:{write:!0}})],yV.prototype,"description",void 0),S([To({type:String,json:{write:!0}})],yV.prototype,"label",void 0),S([To(wD)],yV.prototype,"symbol",void 0),S([To({type:[mV],json:{type:[[String]],read:{reader:e=>e?e.map((e=>new mV({value:e[0],value2:e[1],value3:e[2]}))):null},write:{writer:(e,t)=>{const n=[];for(const r of e){const e=[r.value,r.value2,r.value3].filter(q).map((e=>e.toString()));n.push(e)}t.values=n}}}})],yV.prototype,"values",void 0),S([Dp("values")],yV.prototype,"castValues",null),yV=S([gs("esri.renderers.support.UniqueValueClass")],yV);const gV=yV;let vV=class extends(_v(Hs)){constructor(e){super(e),this.heading=null,this.classes=null}};S([To({type:String,json:{write:!0}})],vV.prototype,"heading",void 0),S([To({type:[gV],json:{write:!0}})],vV.prototype,"classes",void 0),vV=S([gs("esri.renderers.support.UniqueValueGroup")],vV);const bV=vV;var wV;let _V=wV=class extends Hs{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new wV({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${e}`}};S([To({type:String,json:{write:!0}})],_V.prototype,"description",void 0),S([To({type:String,json:{write:!0}})],_V.prototype,"label",void 0),S([To(_D)],_V.prototype,"symbol",void 0),S([To(SD)],_V.prototype,"value",void 0),_V=wV=S([gs("esri.renderers.support.UniqueValueInfo")],_V);const xV=_V,SV=new Map;async function TV(e,t){try{return{data:(await OV(e,t)).data,baseUrl:al(e),styleUrl:e}}catch(n){return lr(n),null}}function EV(e,t,n){const r=null!=t.portal?t.portal:wf.getDefault();let i;const o=`${r.url} - ${r.user?.username} - ${e}`,s=SV.get(o);if(s)return s;const a=MV(e,r,n).then((e=>(i=e,e.fetchData()))).then((t=>({data:t,baseUrl:i.itemUrl??"",styleName:e})));return SV.set(o,a),a}function MV(e,t,n){return t.load(n).then((()=>{const r=new of({disableExtraQuery:!0,query:`owner:${kV} AND type:${RV} AND typekeywords:"${e}"`});return t.queryItems(r,n)})).then((({results:t})=>{let r=null;const i=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t)if(e.typeKeywords?.some((e=>e.toLowerCase()===i))&&e.type===RV&&e.owner===kV){r=e;break}if(!r)throw new et("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return r.load(n)}))}function AV(e,t,n){return null!=e?.styleUrl?TV(e.styleUrl,n):null!=e?.styleName?EV(e.styleName,t,n):Promise.reject(new et("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function IV(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function CV(e,t,n=["gltf"]){if("cimRef"===t)return encodeURI(e.cimRef);if(e.formatInfos&&!A("enable-feature:force-wosr"))for(const r of n){const t=e.formatInfos.find((e=>e.type===r));if(t)return t.href}return encodeURI(e.webRef)}function OV(e,t){const n={responseType:"json",query:{f:"json"},...t};return Bl(ja(e),n)}const kV="esri_en",RV="Style",LV="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var NV;const PV="esri.renderers.UniqueValueRenderer",DV=()=>Ye.getLogger(PV),FV="uvInfos-watcher",jV="uvGroups-watcher",UV=",",zV=so(xV);function GV(e){const{field1:t,field2:n,field3:r,fieldDelimiter:i,uniqueValueInfos:o,valueExpression:s}=e,a=!(!t||!n);return[{classes:(o??[]).map((e=>{const{symbol:o,label:l,value:c,description:u}=e,[h,p,d]=a?c?.toString()?.split(i||"")||[]:[c],f=[];return(t||s)&&f.push(h),n&&f.push(p),r&&f.push(d),{symbol:o,label:l,values:[f],description:u}}))}]}function VV(e){return null!=e&&""!==e&&("string"!=typeof e||""!==e.trim()&&"<null>"!==e.toLowerCase())||(e=null),e+""}let BV=NV=class extends($P(TN)){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return;if(!e||!t)return{type:"complete",oldValue:e,newValue:t};let n=!1;const r={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let i=0;i<t.length;i++){const o=e.find((e=>e.value===t[i].value));o?dV(o,t[i])?(r.changed.push({type:"complete",oldValue:o,newValue:t[i]}),n=!0):r.unchanged.push({oldValue:o,newValue:t[i]}):(r.added.push(t[i]),n=!0)}for(let i=0;i<e.length;i++)t.find((t=>t.value===e[i].value))||(r.removed.push(e[i]),n=!0);return n?r:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return null==e||"function"==typeof e?e:Hi(e)}writeField(e,t,n,r){"string"==typeof e?t[n]=e:r?.messages?r.messages.push(new et("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):DV().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,n){return n.portal||wf.getDefault()}readStyleOrigin(e,t,n){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const e=If(t.styleUrl,n);return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,n,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Cf(e.styleUrl,r))}set uniqueValueGroups(e){this.styleOrigin?DV().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?DV().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void DV().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let n;n="object"==typeof e?zV(e):new xV({value:e,symbol:LL(t)}),this.uniqueValueInfos?.push(n),this._valueInfoMap[VV(n.value)]=n,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void DV().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let n=0;n<t.length;n++){const r=t[n];if(String(r.value)===String(e)){delete this._valueInfoMap[VV(e)],t.splice(n,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let n=t;return this.valueExpression&&null==t?.arcade&&(n={...n,arcade:await nE()}),this._getUniqueValueInfo(e,n)}getSymbol(e,t){return this.valueExpression&&null==t?.arcade?void DV().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used"):this._getUniqueValueInfo(e,t)?.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let n=t;if(this.valueExpression&&null==n?.arcade){const e=await nE(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),n={...n,arcade:e}}return this._getUniqueValueInfo(e,n)?.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=this.uniqueValueInfos?.reduce(((e,t)=>e+t.getMeshHash()),"");return`${e}.${t}.${n}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const e=new NV({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:_e(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:_e(this.visualVariables),legendOptions:_e(this.legendOptions),authoringInfo:_e(this.authoringInfo),backgroundFillSymbol:_e(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=_e(this.uniqueValueInfos),n=_e(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(_e(this.styleOrigin))),Object.freeze(t),Object.freeze(n)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",n),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(n)}async collectSymbolFields(e,t){const n=[...this.getSymbols().map((n=>n.collectRequiredFields(e,t))),wE(e,t,this.valueExpression)];gE(e,t,this.field),gE(e,t,this.field2),gE(e,t,this.field3),await Promise.all(n)}populateFromStyle(){return AV(this.styleOrigin,{portal:this.portal}).then((e=>{const t=[];return this._valueInfoMap={},e?.data&&Array.isArray(e.data.items)&&e.data.items.forEach((n=>{const r=new wL({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:n.name});this.defaultSymbol||n.name!==e.data.defaultItem||(this.defaultSymbol=r,this._isDefaultSymbolDerived=!0);const i=new xV({value:n.name,symbol:r});t.push(i),this._valueInfoMap[VV(n.name)]=i})),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this}))}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",UV)}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[VV(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(FV);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const n of e)t.push(WR((()=>({symbol:n.symbol,value:n.value,label:n.label,description:n.description})),((e,t)=>{e!==t&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)}),{sync:!0}));this.addHandles(t,FV)}}_watchUniqueValueGroups(){this.removeHandles(jV);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const n of e){t.push(WR((()=>({classes:n.classes})),((e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}));for(const e of n.classes??[])t.push(WR((()=>({symbol:e.symbol,values:e.values,label:e.label,description:e.description})),((e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}))}this.addHandles(t,jV)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:n,field3:r,fieldDelimiter:i,uniqueValueGroups:o,valueExpression:s}=this;if(!t&&!s)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!t||!n);for(const l of o)for(const t of l.classes??[]){const{symbol:o,label:s,values:l,description:c}=t;for(const t of l??[]){const{value:l,value2:u,value3:h}=t,p=[l];n&&p.push(u),r&&p.push(h);const d=a?p.join(i||""):p[0]??void 0;e.push(new xV({symbol:o,label:s,value:d,description:c}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:n,valueExpression:r,fieldDelimiter:i,uniqueValueInfos:o}=this;if(!t&&!r||!o.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const s=!(!t||!n),a=o.map((e=>{const{symbol:t,label:n,value:r,description:o}=e,[a,l,c]=s?r?.toString()?.split(i||"")||[]:[r];return new gV({symbol:t,label:n,description:o,values:[new mV({value:a,value2:l,value3:c})]})})),l=[new bV({classes:a})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:n,scale:r,spatialReference:i,arcade:o,timeZone:s}=t??{};let a=this._cache.compiledFunc;const l=o.arcadeUtils;if(!a){const e=l.createSyntaxTree(this.valueExpression);a=l.createFunction(e),this._cache.compiledFunc=a}const c=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:n,scale:r,spatialReference:i}),s));return this._valueInfoMap[VV(c)]}_getUnqiueValueInfoForFields(e){const t=this.field,n=e.attributes;let r;if(this.field2){const e=this.field2,i=this.field3,o=[];t&&o.push(n[t]),e&&o.push(n[e]),i&&o.push(n[i]),r=o.join(this.fieldDelimiter||"")}else t&&(r=n[t]);return this._valueInfoMap[VV(r)]}static fromPortalStyle(e,t){const n=new NV(t?.properties);n._set("styleOrigin",Object.freeze({styleName:e})),n._set("portal",t?.portal||wf.getDefault());const r=n.populateFromStyle();return r.catch((t=>{DV().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",t)})),r}static fromStyleUrl(e,t){const n=new NV(t?.properties);n._set("styleOrigin",Object.freeze({styleUrl:e}));const r=n.populateFromStyle();return r.catch((t=>{DV().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",t)})),r}};S([To({readOnly:!0})],BV.prototype,"_cache",null),S([WM({uniqueValue:"unique-value"})],BV.prototype,"type",void 0),S([To(xD)],BV.prototype,"backgroundFillSymbol",void 0),S([To({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],BV.prototype,"field",null),S([Dp("field")],BV.prototype,"castField",null),S([su("field")],BV.prototype,"writeField",null),S([To({type:String,value:null,json:{write:!0}})],BV.prototype,"field2",null),S([To({type:String,value:null,json:{write:!0}})],BV.prototype,"field3",null),S([To({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],BV.prototype,"orderByClassesEnabled",void 0),S([To({type:String,value:null,json:{write:!0}})],BV.prototype,"valueExpression",null),S([To({type:String,json:{write:!0}})],BV.prototype,"valueExpressionTitle",void 0),S([To({type:CD,json:{write:!0}})],BV.prototype,"legendOptions",void 0),S([To({type:String,json:{write:!0}})],BV.prototype,"defaultLabel",void 0),S([To(Le({...wD},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],BV.prototype,"defaultSymbol",null),S([To({type:String,value:null,json:{write:!0}})],BV.prototype,"fieldDelimiter",null),S([To({type:wf,readOnly:!0})],BV.prototype,"portal",void 0),S([Cp("portal",["styleName"])],BV.prototype,"readPortal",null),S([To({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],BV.prototype,"styleOrigin",void 0),S([Cp("styleOrigin",["styleName","styleUrl"])],BV.prototype,"readStyleOrigin",null),S([su("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],BV.prototype,"writeStyleOrigin",null),S([To({type:[bV],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,n)=>(t.uniqueValueGroups||GV(t)).map((e=>bV.fromJSON(e,n)))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],BV.prototype,"uniqueValueGroups",null),S([To({type:[xV],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],BV.prototype,"uniqueValueInfos",null),BV=NV=S([gs(PV)],BV);const $V=BV,HV={key:"type",base:TN,typeMap:{heatmap:YG,simple:nV,"unique-value":$V,"class-breaks":FD,"dot-density":NG,dictionary:EG,"pie-chart":QG},errorContext:"renderer"},WV={key:"type",base:TN,typeMap:{simple:nV,"unique-value":$V,"class-breaks":FD,heatmap:YG},errorContext:"renderer",validate:qV};function qV(e){switch(e.type){case"simple":return ZV(e);case"unique-value":return YV(e);case"class-breaks":return XV(e);case"heatmap":return e}}function ZV(e){if(e.symbol)return e;Ye.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function YV(e){const t=e.uniqueValueInfos,n=t?.filter((({symbol:e,label:t},n)=>(e||Ye.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${n}] ${t}) without a symbol from web scene.`),!!e)));return n?.length!==t?.length&&(e.uniqueValueInfos=n),e}function XV(e){const t=e.classBreakInfos,n=t?.filter((({symbol:e,label:t},n)=>(e||Ye.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${n}] ${t}) without a symbol from web scene.`),!!e)));return n?.length!==t?.length&&(e.classBreakInfos=n),e}function JV(e,t){return QV(e,null,t)}const KV=Lo({types:HV});function QV(e,t,n){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(n?.messages&&n.messages.push(new Co("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:n})),null):KV(e,t,n):null}let eB=class e{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(tn),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const n=new e,r=this._originStores[en.DEFAULTS];r&&r.forEach(((e,t)=>{n.set(t,_e(e),en.DEFAULTS)}));for(let e=en.SERVICE;e<tn;e++){const r=this._originStores[e];r&&r.forEach(((r,i)=>{t&&t.has(i)||n.set(i,_e(r),e)}))}return n}get(e,t){const n=void 0===t?this._values:this._originStores[t];return n?n.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,n=en.USER){let r=this._originStores[n];if(r||(r=new Map,this._originStores[n]=r),r.set(e,t),!this._values.has(e)||this._propertyOriginMap.get(e)<=n){const r=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,n),r!==t}return!1}delete(e,t=en.USER){const n=this._originStores[t];if(!n)return;const r=n.get(e);if(n.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let n=t-1;n>=0;n--){const t=this._originStores[n];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,n);break}}}return r}has(e,t){const n=void 0===t?this._values:this._originStores[t];return!!n&&n.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;const n=this._originStores[t],r=n?.get(e),i=this._values.get(e);return this._values.set(e,r),this._propertyOriginMap.set(e,t),i!==r}originOf(e){return this._propertyOriginMap.get(e)||en.DEFAULTS}forEach(e){this._values.forEach(e)}};const tB=e=>{let t=class extends e{constructor(...e){super(...e);const t=Ct(this),n=t.store,r=new eB;t.store=r,Cs(t,n,r)}read(e,t){Ps(this,e,t)}getAtOrigin(e,t){const n=nB(this),r=nn(t);if("string"==typeof e)return n.get(e,r);const i={};return e.forEach((e=>{i[e]=n.get(e,r)})),i}originOf(e){return rn(this.originIdOf(e))}originIdOf(e){return nB(this).originOf(e)}revert(e,t){const n=nB(this),r=nn(t),i=Ct(this);let o;o="string"==typeof e?"*"===e?n.keys(r):[e]:e,o.forEach((e=>{i.invalidate(e),n.revert(e,r),i.commit(e)}))}};return t=S([gs("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function nB(e){return Ct(e).store}let rB=class extends(tB(Ms)){};rB=S([gs("esri.core.ReadOnlyMultiOriginJSONSupport")],rB);const iB=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return oB(this).delete(e,nn(t))}write(e,t){return Gs(this,e=e||{},t),e}setAtOrigin(e,t,n){Ct(this).setAtOrigin(e,t,nn(n))}removeOrigin(e){const t=oB(this),n=nn(e),r=t.keys(n);for(const i of r)t.originOf(i)===n&&t.set(i,t.get(i,n),en.USER)}updateOrigin(e,t){const n=oB(this),r=nn(t),i=zt(this,e);for(let o=r+1;o<tn;++o)n.delete(e,o);n.set(e,i,r)}toJSON(e){return this.write({},e)}};return t=S([gs("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function oB(e){return Ct(e).store}const sB=e=>{let t=class extends(iB(tB(e))){constructor(...e){super(...e)}};return t=S([gs("esri.core.MultiOriginJSONSupport")],t),t};let aB=class extends(sB(Ms)){};aB=S([gs("esri.core.MultiOriginJSONSupport")],aB);const lB=(e=>e)(["operational-layers","basemap","ground"]);var cB;let uB=cB=class extends Hs{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new cB({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};S([To({type:String,json:{write:!0}})],uB.prototype,"expression",void 0),S([To({type:String,json:{write:!0}})],uB.prototype,"name",void 0),S([To({type:["boolean","date","number","string"],json:{write:!0}})],uB.prototype,"returnType",void 0),S([To({type:String,json:{write:!0}})],uB.prototype,"title",void 0),uB=cB=S([gs("esri.form.ExpressionInfo")],uB);const hB=uB;let pB=class extends Hs{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};S([To({type:String,json:{write:!0}})],pB.prototype,"description",void 0),S([To({type:String,json:{write:!0}})],pB.prototype,"label",void 0),S([To()],pB.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],pB.prototype,"visibilityExpression",void 0),pB=S([gs("esri.form.elements.Element")],pB);const dB=pB;let fB=class extends(_v(Hs)){constructor(e){super(e),this.type=null}};S([To()],fB.prototype,"type",void 0),fB=S([gs("esri.form.elements.inputs.attachments.Input")],fB);const mB=fB,yB=["any","capture","upload"];let gB=class extends mB{constructor(e){super(e),this.type="audio",this.inputMethod="any",this.maxDuration=null}};S([To({type:["audio"],readOnly:!0,json:{write:!0}})],gB.prototype,"type",void 0),S([To({type:yB,json:{write:!0}})],gB.prototype,"inputMethod",void 0),S([To({type:Number,json:{write:!0}})],gB.prototype,"maxDuration",void 0),gB=S([gs("esri.form.elements.inputs.attachments.AudioInput")],gB);const vB=gB;let bB=class extends mB{constructor(e){super(e),this.type="document",this.maxFileSize=null}};S([To({type:["document"],readOnly:!0,json:{write:!0}})],bB.prototype,"type",void 0),S([To({type:Number,json:{write:!0}})],bB.prototype,"maxFileSize",void 0),bB=S([gs("esri.form.elements.inputs.attachments.DocumentInput")],bB);const wB=bB;let _B=class extends mB{constructor(e){super(e),this.type="image",this.inputMethod="any",this.maxImageSize=null}};S([To({type:["image"],readOnly:!0,json:{write:!0}})],_B.prototype,"type",void 0),S([To({type:yB,json:{write:!0}})],_B.prototype,"inputMethod",void 0),S([To({type:Number,json:{write:!0}})],_B.prototype,"maxImageSize",void 0),_B=S([gs("esri.form.elements.inputs.attachments.ImageInput")],_B);const xB=_B;let SB=class extends mB{constructor(e){super(e),this.type="signature",this.inputMethod="any"}};S([To({type:["signature"],readOnly:!0,json:{write:!0}})],SB.prototype,"type",void 0),S([To({type:yB,json:{write:!0}})],SB.prototype,"inputMethod",void 0),SB=S([gs("esri.form.elements.inputs.attachments.SignatureInput")],SB);const TB=SB;let EB=class extends mB{constructor(e){super(e),this.type="video",this.inputMethod="any",this.maxDuration=null}};S([To({type:["video"],readOnly:!0,json:{write:!0}})],EB.prototype,"type",void 0),S([To({type:yB,json:{write:!0}})],EB.prototype,"inputMethod",void 0),S([To({type:Number,json:{write:!0}})],EB.prototype,"maxDuration",void 0),EB=S([gs("esri.form.elements.inputs.attachments.VideoInput")],EB);const MB=EB;function AB(e){return{nestableTypes:{base:mB,key:"type",typeMap:{audio:vB,document:wB,image:xB,signature:TB,video:MB}},allTypes:{base:mB,key:"type",typeMap:{attachment:e,audio:vB,document:wB,image:xB,signature:TB,video:MB}}}}function IB(e,t,n){return e?e.map((e=>mo(t.nestableTypes,e))):null}function CB(e,t,n){if(!e)return null;const r=t.nestableTypes.typeMap;return e.filter((e=>r[e.type])).map((e=>r[e.type].fromJSON(e)))}function OB(e,t,n){if(!e)return null;const r=t.nestableTypes.typeMap;return e.filter((e=>r[e.type])).map((e=>e.toJSON()))}let kB=class extends mB{constructor(e){super(e),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(e){return IB(e,RB)}readInputs(e,t){return CB(t.inputTypes,RB)}writeInputs(e,t){t.inputTypes=OB(e,RB)}};S([To({type:["attachment"],readOnly:!0,json:{write:!0}})],kB.prototype,"type",void 0),S([To({type:["any","exact","exactOrNone"],json:{write:!0}})],kB.prototype,"attachmentAssociationType",void 0),S([To({json:{write:{isRequired:!0}}})],kB.prototype,"inputTypes",void 0),S([Dp("inputTypes")],kB.prototype,"castInputs",null),S([Cp("inputTypes")],kB.prototype,"readInputs",null),S([su("inputTypes")],kB.prototype,"writeInputs",null),kB=S([gs("esri.form.elements.inputs.attachments.AttachmentInput")],kB);const RB=AB(kB),LB=kB;var NB;const PB=AB(LB);let DB=NB=class extends dB{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){return new NB({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};S([To({type:Boolean,json:{write:!0}})],DB.prototype,"allowUserRename",void 0),S([To({type:String,json:{write:{isRequired:!0}}})],DB.prototype,"attachmentKeyword",void 0),S([To({type:Boolean,json:{write:!0}})],DB.prototype,"displayFilename",void 0),S([To({type:String,json:{write:!0}})],DB.prototype,"editableExpression",void 0),S([To({type:String,json:{write:!0}})],DB.prototype,"filenameExpression",void 0),S([To({types:PB.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],DB.prototype,"input",void 0),S([To({type:Number,json:{write:!0}})],DB.prototype,"maxAttachmentCount",void 0),S([To({type:Number,json:{write:!0}})],DB.prototype,"minAttachmentCount",void 0),S([To({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],DB.prototype,"type",void 0),S([To({type:Boolean,json:{write:!0}})],DB.prototype,"useOriginalFilename",void 0),DB=NB=S([gs("esri.form.elements.AttachmentElement")],DB);const FB=DB;let jB=class extends Hs{constructor(e){super(e),this.type=null}};S([To()],jB.prototype,"type",void 0),jB=S([gs("esri.form.elements.inputs.Input")],jB);const UB=jB;let zB=class extends UB{constructor(e){super(e),this.maxLength=null,this.minLength=0}};S([To({type:Number,json:{write:!0}})],zB.prototype,"maxLength",void 0),S([To({type:Number,json:{write:!0}})],zB.prototype,"minLength",void 0),zB=S([gs("esri.form.elements.inputs.TextInput")],zB);const GB=zB;var VB;let BB=VB=class extends GB{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new VB({maxLength:this.maxLength,minLength:this.minLength})}};S([To({type:["barcode-scanner"],json:{read:!1,write:!0}})],BB.prototype,"type",void 0),BB=VB=S([gs("esri.form.elements.inputs.BarcodeScannerInput")],BB);const $B=BB;var HB;let WB=HB=class extends UB{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new HB({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};S([To({type:String,json:{write:!0}})],WB.prototype,"noValueOptionLabel",void 0),S([To({type:Boolean,json:{write:!0}})],WB.prototype,"showNoValueOption",void 0),S([To({type:["combo-box"],json:{read:!1,write:!0}})],WB.prototype,"type",void 0),WB=HB=S([gs("esri.form.elements.inputs.ComboBoxInput")],WB);const qB=WB;var ZB;function YB(e){return e??null}function XB(e){return e??null}let JB=ZB=class extends UB{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return YB(t.max)}writeMax(e,t){t.max=XB(e)}readMin(e,t){return YB(t.min)}writeMin(e,t){t.min=XB(e)}clone(){return new ZB({max:this.max,min:this.min})}};S([To({type:String,json:{type:String,write:!0}})],JB.prototype,"max",void 0),S([Cp("max")],JB.prototype,"readMax",null),S([su("max")],JB.prototype,"writeMax",null),S([To({type:String,json:{type:String,write:!0}})],JB.prototype,"min",void 0),S([Cp("min")],JB.prototype,"readMin",null),S([su("min")],JB.prototype,"writeMin",null),S([To({type:["date-picker"],json:{read:!1,write:!0}})],JB.prototype,"type",void 0),JB=ZB=S([gs("esri.form.elements.inputs.DatePickerInput")],JB);const KB=JB;var QB;function e$(e){return e??null}function t$(e){return e??null}let n$=QB=class extends UB{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return e$(t.max)}writeMax(e,t){t.max=t$(e)}readMin(e,t){return e$(t.min)}writeMin(e,t){t.min=t$(e)}readTimeResolution(e,t){return e$(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=t$(e)}clone(){return new QB({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};S([To({type:Boolean,json:{write:!0}})],n$.prototype,"includeTimeOffset",void 0),S([To({type:String,json:{type:String,write:!0}})],n$.prototype,"max",void 0),S([Cp("max")],n$.prototype,"readMax",null),S([su("max")],n$.prototype,"writeMax",null),S([To({type:String,json:{type:String,write:!0}})],n$.prototype,"min",void 0),S([Cp("min")],n$.prototype,"readMin",null),S([su("min")],n$.prototype,"writeMin",null),S([To({type:String,json:{type:String,write:!0}})],n$.prototype,"timeResolution",void 0),S([Cp("timeResolution")],n$.prototype,"readTimeResolution",null),S([su("timeResolution")],n$.prototype,"writeTimeResolution",null),S([To({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],n$.prototype,"type",void 0),n$=QB=S([gs("esri.form.elements.inputs.DateTimeOffsetPickerInput")],n$);const r$=n$;var i$;function o$(e){return null!=e?new Date(e):null}function s$(e){return e?e.getTime():null}let a$=i$=class extends UB{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return o$(t.max)}writeMax(e,t){t.max=s$(e)}readMin(e,t){return o$(t.min)}writeMin(e,t){t.min=s$(e)}clone(){return new i$({includeTime:this.includeTime,max:this.max,min:this.min})}};S([To({type:Boolean,json:{write:!0}})],a$.prototype,"includeTime",void 0),S([To({type:Date,json:{type:Number,write:!0}})],a$.prototype,"max",void 0),S([Cp("max")],a$.prototype,"readMax",null),S([su("max")],a$.prototype,"writeMax",null),S([To({type:Date,json:{type:Number,write:!0}})],a$.prototype,"min",void 0),S([Cp("min")],a$.prototype,"readMin",null),S([su("min")],a$.prototype,"writeMin",null),S([To({type:["datetime-picker"],json:{read:!1,write:!0}})],a$.prototype,"type",void 0),a$=i$=S([gs("esri.form.elements.inputs.DateTimePickerInput")],a$);const l$=a$;var c$;let u$=c$=class extends UB{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new c$({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};S([To({type:String,json:{write:!0}})],u$.prototype,"noValueOptionLabel",void 0),S([To({type:Boolean,json:{write:!0}})],u$.prototype,"showNoValueOption",void 0),S([To({type:["radio-buttons"],json:{read:!1,write:!0}})],u$.prototype,"type",void 0),u$=c$=S([gs("esri.form.elements.inputs.RadioButtonsInput")],u$);const h$=u$;var p$;let d$=p$=class extends UB{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new p$({offValue:this.offValue,onValue:this.onValue})}};S([To({type:[String,Number],json:{write:!0}})],d$.prototype,"offValue",void 0),S([To({type:[String,Number],json:{write:!0}})],d$.prototype,"onValue",void 0),S([To({type:["switch"],json:{read:!1,write:!0}})],d$.prototype,"type",void 0),d$=p$=S([gs("esri.form.elements.inputs.SwitchInput")],d$);const f$=d$;var m$;let y$=m$=class extends GB{constructor(e){super(e),this.type="text-area"}clone(){return new m$({maxLength:this.maxLength,minLength:this.minLength})}};S([To({type:["text-area"],json:{read:!1,write:!0}})],y$.prototype,"type",void 0),y$=m$=S([gs("esri.form.elements.inputs.TextAreaInput")],y$);const g$=y$;var v$;let b$=v$=class extends GB{constructor(e){super(e),this.type="text-box"}clone(){return new v$({maxLength:this.maxLength,minLength:this.minLength})}};S([To({type:["text-box"],json:{read:!1,write:!0}})],b$.prototype,"type",void 0),b$=v$=S([gs("esri.form.elements.inputs.TextBoxInput")],b$);const w$=b$;var _$;function x$(e){return e??null}function S$(e){return e??null}let T$=_$=class extends UB{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return x$(t.max)}writeMax(e,t){t.max=S$(e)}readMin(e,t){return x$(t.min)}writeMin(e,t){t.min=S$(e)}readTimeResolution(e,t){return x$(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=S$(e)}clone(){return new _$({max:this.max,min:this.min,timeResolution:this.timeResolution})}};S([To({type:String,json:{type:String,write:!0}})],T$.prototype,"max",void 0),S([Cp("max")],T$.prototype,"readMax",null),S([su("max")],T$.prototype,"writeMax",null),S([To({type:String,json:{type:String,write:!0}})],T$.prototype,"min",void 0),S([Cp("min")],T$.prototype,"readMin",null),S([su("min")],T$.prototype,"writeMin",null),S([To({type:String,json:{type:String,write:!0}})],T$.prototype,"timeResolution",void 0),S([Cp("timeResolution")],T$.prototype,"readTimeResolution",null),S([su("timeResolution")],T$.prototype,"writeTimeResolution",null),S([To({type:["time-picker"],json:{read:!1,write:!0}})],T$.prototype,"type",void 0),T$=_$=S([gs("esri.form.elements.inputs.TimePickerInput")],T$);const E$=T$,M$={base:UB,key:"type",typeMap:{"barcode-scanner":$B,"combo-box":qB,"date-picker":KB,"datetime-picker":l$,"datetimeoffset-picker":r$,"radio-buttons":h$,switch:f$,"text-area":g$,"text-box":w$,"time-picker":E$}};var A$;let I$=A$=class extends Hs{constructor(e){super(e),this.name=null,this.code=null}clone(){return new A$({name:this.name,code:this.code})}};S([To({type:String,json:{write:!0}})],I$.prototype,"name",void 0),S([To({type:[String,Number],json:{write:!0}})],I$.prototype,"code",void 0),I$=A$=S([gs("esri.layers.support.CodedValue")],I$);const C$=new au({inherited:"inherited",codedValue:"coded-value",range:"range"});let O$=class extends Hs{constructor(e){super(e),this.name=null,this.type=null}};S([To({type:String,json:{write:!0}})],O$.prototype,"name",void 0),S([WM(C$)],O$.prototype,"type",void 0),O$=S([gs("esri.layers.support.Domain")],O$);const k$=O$;var R$;let L$=R$=class extends k${constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const n=String(e);this.codedValues.some((e=>(String(e.code)===n&&(t=e.name),!!t)))}return t}clone(){return new R$({codedValues:_e(this.codedValues),name:this.name})}};S([To({type:[I$],json:{write:!0}})],L$.prototype,"codedValues",void 0),S([WM({codedValue:"coded-value"})],L$.prototype,"type",void 0),L$=R$=S([gs("esri.layers.support.CodedValueDomain")],L$);const N$=L$;var P$;let D$=P$=class extends k${constructor(e){super(e),this.type="inherited"}clone(){return new P$}};S([WM({inherited:"inherited"})],D$.prototype,"type",void 0),D$=P$=S([gs("esri.layers.support.InheritedDomain")],D$);const F$=D$;var j$;let U$=j$=class extends k${constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new j$({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};S([To({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,n){t[n]=[this.minValue||0,e]}}}})],U$.prototype,"maxValue",void 0),S([To({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,n){t[n]=[e,this.maxValue||0]}}}})],U$.prototype,"minValue",void 0),S([WM({range:"range"})],U$.prototype,"type",void 0),U$=j$=S([gs("esri.layers.support.RangeDomain")],U$);const z$=U$,G$={key:"type",base:k$,typeMap:{range:z$,"coded-value":N$,inherited:F$}};function V$(e){if(!e?.type)return null;switch(e.type){case"range":return z$.fromJSON(e);case"codedValue":return N$.fromJSON(e);case"inherited":return F$.fromJSON(e)}return null}var B$;let $$=B$=class extends dB{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new B$({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};S([To({types:G$,json:{read:{reader:V$},write:!0}})],$$.prototype,"domain",void 0),S([To({type:Boolean,json:{write:!0}})],$$.prototype,"editable",void 0),S([To({type:String,json:{write:!0}})],$$.prototype,"editableExpression",void 0),S([To({type:String,json:{write:!0}})],$$.prototype,"fieldName",void 0),S([To({type:String,json:{write:!0}})],$$.prototype,"hint",void 0),S([To({types:M$,json:{read:{source:"inputType"},write:{target:"inputType"}}})],$$.prototype,"input",void 0),S([To({type:String,json:{write:!0}})],$$.prototype,"requiredExpression",void 0),S([To({type:String,json:{read:!1,write:!0}})],$$.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],$$.prototype,"valueExpression",void 0),$$=B$=S([gs("esri.form.elements.FieldElement")],$$);const H$=$$;var W$;let q$=W$=class extends dB{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new W$({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:_e(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};S([To({type:Number,json:{write:!0}})],q$.prototype,"displayCount",void 0),S([To({type:["list"],json:{write:!0}})],q$.prototype,"displayType",void 0),S([To({type:String,json:{write:!0}})],q$.prototype,"editableExpression",void 0),S([To({type:[DA],json:{write:!0}})],q$.prototype,"orderByFields",void 0),S([To({type:Number,json:{write:!0}})],q$.prototype,"relationshipId",void 0),S([To({type:["relationship"],json:{read:!1,write:!0}})],q$.prototype,"type",void 0),q$=W$=S([gs("esri.form.elements.RelationshipElement")],q$);const Z$=q$;var Y$;let X$=Y$=class extends dB{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new Y$({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};S([To({type:String,json:{write:!0}})],X$.prototype,"text",void 0),S([To({type:String,json:{write:!0}})],X$.prototype,"textFormat",void 0),S([To({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],X$.prototype,"type",void 0),X$=Y$=S([gs("esri.form.elements.TextElement")],X$);const J$=X$;function K$(e){return{typesWithGroup:{base:dB,key:"type",typeMap:{attachment:FB,field:H$,group:e,relationship:Z$,text:J$}},typesWithoutGroup:{base:dB,key:"type",typeMap:{attachment:FB,field:H$,relationship:Z$,text:J$}}}}function Q$(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>r[e.type].fromJSON(e)))}function eH(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>e.toJSON()))}function tH(e,t,n=!0){return e?e.map((e=>mo(n?t.typesWithGroup:t.typesWithoutGroup,e))):null}var nH;let rH=nH=class extends dB{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return tH(e,iH,!1)}readElements(e,t){return Q$(t.formElements,iH,!1)}writeElements(e,t){t.formElements=eH(e,iH,!1)}clone(){return new nH({description:this.description,elements:_e(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};S([To({json:{write:!0}})],rH.prototype,"elements",void 0),S([Dp("elements")],rH.prototype,"castElements",null),S([Cp("elements",["formElements"])],rH.prototype,"readElements",null),S([su("elements")],rH.prototype,"writeElements",null),S([To({type:["collapsed","expanded"],json:{write:!0}})],rH.prototype,"initialState",void 0),S([To({type:String,json:{read:!1,write:!0}})],rH.prototype,"type",void 0),rH=nH=S([gs("esri.form.elements.GroupElement")],rH);const iH=K$(rH),oH=rH,sH=e=>"field"===e.type,aH=e=>"group"===e.type,lH=e=>"text"===e.type;var cH;const uH=K$(oH);let hH=cH=class extends Hs{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return tH(e,uH)}readElements(e,t){return Q$(t.formElements,uH)}writeElements(e,t){t.formElements=eH(e,uH)}clone(){return new cH({description:this.description,expressionInfos:_e(this.expressionInfos),elements:_e(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const n=new Set,{description:r,elements:i,expressionInfos:o,title:s}=this;if(mH(n,e,r),mH(n,e,s),!i)return[];const a=dH(i,o).map((t=>wE(n,e,t)));await Promise.all(a);for(const l of i)pH(n,{fieldsIndex:e,relationships:t},l);return Array.from(n).sort()}};function pH(e,t,n){const{fieldsIndex:r}=t;if(!r||r.fields.length!==e.size)switch(mH(e,r,n.label),mH(e,r,n.description),n.type){case"field":gE(e,r,n.fieldName);break;case"group":n.elements.forEach((n=>pH(e,t,n)));break;case"relationship":if(t.relationships){const i=t.relationships.find((e=>e.id===n.relationshipId));i&&gE(e,r,i.keyField)}yE(e,r,n.orderByFields?.map((e=>e.field)));break;case"text":mH(e,r,n.text)}}function dH(e,t){if(!t||0===t.length)return[];const n=fH(e),r=[];for(const i of t)n.has(i.name)&&r.push(i.expression);return r}function fH(e){const t=new Set;for(const n of e)if(ei(t,n.visibilityExpression),!lH(n))if(aH(n))Qr(t,fH(n.elements));else if(ei(t,n.editableExpression),sH(n)){const{requiredExpression:e,valueExpression:r}=n;Qr(t,[e,r])}return t}function mH(e,t,n){yE(e,t,kM(n))}S([To({type:String,json:{write:!0}})],hH.prototype,"description",void 0),S([To({json:{write:!0}})],hH.prototype,"elements",void 0),S([Dp("elements")],hH.prototype,"castElements",null),S([Cp("elements",["formElements"])],hH.prototype,"readElements",null),S([su("elements")],hH.prototype,"writeElements",null),S([To({type:[hB],json:{write:!0}})],hH.prototype,"expressionInfos",void 0),S([To({type:Boolean,json:{default:!1,write:!0}})],hH.prototype,"preserveFieldValuesWhenHidden",void 0),S([To({type:String,json:{write:!0}})],hH.prototype,"title",void 0),hH=cH=S([gs("esri.form.FormTemplate")],hH);const yH=hH;async function gH(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await n.e(9566).then(n.bind(n,99566)).then((e=>e.p));try{return await r(t)}catch(i){const e=t?.portalItem,n=e?.id||"unset",r=e?.portal?.url||Ue.portalUrl;throw Ye.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+r+"', id: '"+n+"')",i),i}}const vH={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function bH(e,t,n,r=GS){const i=new fb(TT(r)),o=US.fromJSDate(e,{zone:i}),s="decades"===n||"centuries"===n?"year":SH(n);return"decades"===n&&(t*=10),"centuries"===n&&(t*=100),o.plus({[s]:t}).toJSDate()}function wH(e,t,n="milliseconds"){const r=e.getTime(),i=xH(t,n,"milliseconds");return new Date(r+i)}function _H(e,t,n=GS){const r=new fb(TT(n)),i=US.fromJSDate(e,{zone:r});if("decades"===t||"centuries"===t){const e=i.startOf("year"),{year:n}=e,r=n-n%("decades"===t?10:100);return e.set({year:r}).toJSDate()}const o=SH(t);return i.startOf(o).toJSDate()}function xH(e,t,n){return 0===e?0:e*vH[t]/vH[n]}function SH(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var TH;let EH=TH=class extends Hs{static get allTime(){return AH}static get empty(){return IH}static fromArray(e){return new TH({start:null!=e[0]?new Date(e[0]):e[0],end:null!=e[1]?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(TH.allTime)}get isEmpty(){return this.equals(TH.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new TH({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,r=e.start?.getTime()??e.start,i=e.end?.getTime()??e.end;return t===r&&n===i}expandTo(e,t=GS){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=_H(n,e,t));let r=this.end;if(r){const n=_H(r,e,t);r=r.getTime()===n.getTime()?n:bH(n,1,e,t)}return new TH({start:n,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return TH.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,r=e.start?.getTime()??-1/0,i=e.end?.getTime()??1/0;let o,s;return r>=t&&r<=n?o=r:t>=r&&t<=i&&(o=t),n>=r&&n<=i?s=n:i>=t&&i<=n&&(s=i),null==o||null==s||isNaN(o)||isNaN(s)?TH.empty:new TH({start:o===-1/0?null:new Date(o),end:s===1/0?null:new Date(s)})}offset(e,t,n=GS){if(this.isEmpty||this.isAllTime)return this.clone();const r=new TH,{start:i,end:o}=this;return null!=i&&(r.start=bH(i,e,t,n)),null!=o&&(r.end=bH(o,e,t,n)),r}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return AH.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new TH({start:t,end:n})}};S([To({type:Date,json:{write:{allowNull:!0}}})],EH.prototype,"end",void 0),S([Cp("end")],EH.prototype,"readEnd",null),S([su("end")],EH.prototype,"writeEnd",null),S([To({readOnly:!0,json:{read:!1}})],EH.prototype,"isAllTime",null),S([To({readOnly:!0,json:{read:!1}})],EH.prototype,"isEmpty",null),S([To({type:Date,json:{write:{allowNull:!0}}})],EH.prototype,"start",void 0),S([Cp("start")],EH.prototype,"readStart",null),S([su("start")],EH.prototype,"writeStart",null),EH=TH=S([gs("esri.time.TimeExtent")],EH);const MH=EH,AH=new EH,IH=new EH({start:void 0,end:void 0});let CH=0,OH=class extends(dc.EventedMixin(iI(Wc))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Gd(-180,-90,180,90,Ip.WGS84),this.id=Date.now().toString(16)+"-layer-"+CH++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Ip.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e;return(await n.e(9138).then(n.bind(n,19138))).fromUrl(t)}static fromPortalItem(e){return gH(e)}initialize(){this.when().catch((e=>{dr(e)||Ye.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"referenceLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&"effectiveVisible"in t&&(e&&=t.effectiveVisible),e}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return ba(this.url)}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Bl(e,{query:{f:"json"},responseType:"json"})).data;throw new et("layer:no-attribution-data","Layer does not have attribution data")}};S([To({type:String})],OH.prototype,"attributionDataUrl",void 0),S([To({readOnly:!0})],OH.prototype,"effectiveVisible",null),S([To({type:Gd})],OH.prototype,"fullExtent",void 0),S([To({readOnly:!0})],OH.prototype,"hasAttributionData",null),S([To({type:String,clonable:!1})],OH.prototype,"id",void 0),S([To({type:Boolean,nonNullable:!0})],OH.prototype,"legendEnabled",void 0),S([To({type:["show","hide","hide-children"]})],OH.prototype,"listMode",void 0),S([To({type:Number,range:{min:0,max:1},nonNullable:!0})],OH.prototype,"opacity",void 0),S([To({clonable:!1})],OH.prototype,"parent",void 0),S([To({readOnly:!0})],OH.prototype,"parsedUrl",null),S([To({type:Boolean,readOnly:!0})],OH.prototype,"persistenceEnabled",void 0),S([To({type:Boolean})],OH.prototype,"popupEnabled",void 0),S([To({type:Boolean})],OH.prototype,"attributionVisible",void 0),S([To({type:Ip})],OH.prototype,"spatialReference",void 0),S([To({type:String})],OH.prototype,"title",void 0),S([To({readOnly:!0,json:{read:!1}})],OH.prototype,"type",void 0),S([To()],OH.prototype,"url",void 0),S([To({type:MH})],OH.prototype,"visibilityTimeExtent",void 0),S([To({type:Boolean,nonNullable:!0})],OH.prototype,"visible",void 0),OH=S([gs("esri.layers.Layer")],OH);const kH=OH;let RH=class{constructor(e=e=>e.values().next().value){this._peeker=e,this._observable=new yc,this._items=new Set}get length(){return hn(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let e;for(e of this._items);return e}peek(){if(0!==this.length)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return hn(this._observable),this._items.has(e)}pop(){if(0===this.length)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(0===this.length)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const t=this.length;return this._items.forEach((t=>{e(t)||this._items.delete(t)})),t!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){hn(this._observable),yield*this._items}};const LH=new FinalizationRegistry((e=>{e.close()}));function NH(e,t){LH.register(e,t,t)}function PH(e){LH.unregister(e)}function DH(e,t){return new Proxy({},{get:(n,r,i)=>(...n)=>{let i,o;const s=n[n.length-1];return FH(s)&&(i=s.signal,o=s.transferList,n.pop()),e.apply(t?`${t}.${r.toString()}`:r.toString(),n,{transferList:o,signal:i})}})}function FH(e){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&("signal"in e||"transferList"in e||0===Object.keys(e).length)}const jH={statsWorker:()=>n.e(6696).then(n.bind(n,6696)),geometryEngineWorker:()=>Promise.all([n.e(6239),n.e(1980)]).then(n.bind(n,81980)),CSVSourceWorker:()=>Promise.all([n.e(4464),n.e(413),n.e(5599),n.e(2939)]).then(n.bind(n,82939)),EdgeProcessingWorker:()=>Promise.all([n.e(4743),n.e(4071)]).then(n.bind(n,44071)),ElevationSamplerWorker:()=>Promise.all([n.e(8711),n.e(8973)]).then(n.bind(n,49670)),FeatureServiceSnappingSourceWorker:()=>Promise.all([n.e(4464),n.e(413),n.e(5599),n.e(443)]).then(n.bind(n,70443)),GeoJSONSourceWorker:()=>Promise.all([n.e(4464),n.e(413),n.e(5599),n.e(877)]).then(n.bind(n,10877)),LercWorker:()=>n.e(1895).then(n.bind(n,81895)),MemorySourceWorker:()=>Promise.all([n.e(4464),n.e(413),n.e(5599),n.e(5576)]).then(n.bind(n,15576)),PBFDecoderWorker:()=>n.e(19).then(n.bind(n,30019)),FeaturePipelineWorker:()=>Promise.all([n.e(9558),n.e(4464),n.e(9060),n.e(6004),n.e(413),n.e(8326),n.e(5599),n.e(2347),n.e(9868),n.e(9264)]).then(n.bind(n,67280)),PointCloudWorker:()=>Promise.all([n.e(4400),n.e(9082)]).then(n.bind(n,69082)),RasterWorker:()=>Promise.all([n.e(5209),n.e(4569)]).then(n.bind(n,94569)),SceneLayerSnappingSourceWorker:()=>Promise.all([n.e(4743),n.e(5333)]).then(n.bind(n,55333)),SceneLayerWorker:()=>Promise.all([n.e(4400),n.e(9399),n.e(6373)]).then(n.bind(n,26373)),WFSSourceWorker:()=>Promise.all([n.e(4464),n.e(413),n.e(5599),n.e(8686)]).then(n.bind(n,98686)),WorkerTileHandler:()=>Promise.all([n.e(9060),n.e(4789),n.e(3)]).then(n.bind(n,72256)),Lyr3DWorker:()=>n.e(9114).then(n.bind(n,69114)),Feature3DPipelineWorker:()=>Promise.all([n.e(4464),n.e(413),n.e(5599),n.e(4400),n.e(4743),n.e(9302),n.e(2763)]).then(n.bind(n,12763)).then((e=>e.F))},UH="worker:port-closed";var zH;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(zH||(zH={}));let GH=0;function VH(){return GH++}function BH(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}function $H(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function HH(e,t,n,r){if(t.type===zH.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==zH.INVOKE&&t.type!==zH.RESPONSE)return void e.postMessage(t);let i;if(BH(n)?(i=qH(n.transferList),t.data=n.result):(i=qH(r),t.data=n),i){if(A("ff"))for(const n of i)if("byteLength"in n&&n.byteLength>267386880){const n="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case zH.INVOKE:throw n;case zH.RESPONSE:return void HH(e,{type:zH.RESPONSE,jobId:t.jobId,error:$H(n)})}}e.postMessage(t,i)}else e.postMessage(t)}function WH(e){if(!e)return null;const t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function qH(e){if(!e?.length)return null;if(A("esri-workers-arraybuffer-transfer"))return e;const t=e.filter((e=>!ZH(e)));return t.length?t:null}function ZH(e){return e instanceof ArrayBuffer||"ArrayBuffer"===e?.constructor?.name}async function YH(e){try{return await e}catch(t){const e=t?.name===UH;if(!dr(t)&&!e)throw t;return}}const{CLOSE:XH,ABORT:JH,INVOKE:KH,RESPONSE:QH,OPEN_PORT:eW,ON:tW}=zH,nW=2;let rW=class{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===zH.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},iW=class e{static connect(t,n){const r=new MessageChannel;let i;i="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;const o=new e(r.port1,{channel:r,client:i,schedule:n});return"object"==typeof i&&"remoteClient"in i&&(i.remoteClient=o),e.clients.set(o,i),r.port2}static loadWorker(e){const t=jH[e];return t?t():Promise.resolve(null)}constructor(e,t,n){this._port=e,this._jobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new rW((e=>this._onInvokeMessage(e))),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:XH}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,n){return this.apply(e,[t],n)}apply(e,t,n){const r=n?.signal,i=n?.transferList;if(!this._port)return Promise.reject(new et(UH,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const o=VH();return new Promise(((n,s)=>{if(ar(r))return this._processWork(),void s(ir());const a=ur(r,(()=>{const e=this._outJobs.get(o);e&&(this._outJobs.delete(o),this._processWork(),gt(e.abortHandle),this._post({type:JH,jobId:o}),s(ir()))})),l={resolve:n,reject:s,abortHandle:a,debugInfo:e};this._outJobs.set(o,l),this._post({type:KH,jobId:o,methodName:e,abortable:null!=r},t,i)}))}createInvokeProxy(e){return DH(this,e)}on(e,t){const n=new MessageChannel;function r(e){t(e.data)}return this._port.postMessage({type:zH.ON,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),Tt((()=>{n.port1.postMessage({type:zH.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)}))}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:eW,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=nW)return;const e=this._jobQueue?.pop();if(!e)return;const{methodName:t,data:n,invokeOptions:r,resolver:i}=e;this.apply(t,n,r).then((e=>i.resolve(e))).catch((e=>i.reject(e)))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{gt(e.abortHandle),e.reject(ir(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){null!=this._schedule?this._schedule((()=>this._processMessage(e,!0))):this._processMessage(e,!1)}_processMessage(e,t){const n=WH(e);if(n)switch(n.type){case QH:this._onResponseMessage(n);break;case KH:t?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case JH:this._onAbortMessage(n);break;case XH:this._onCloseMessage();break;case eW:this._onOpenPortMessage(n);break;case tW:this._onOnMessage(n)}}_onAbortMessage(e){const t=this._inJobs,n=e.jobId,r=t.get(n);this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),t.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t?.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:n,data:r=[],abortable:i}=e,o=i?new AbortController:null,s=this._inJobs;let a,l=this._client,c=l[t];try{if(!c&&t&&t.includes(".")){const e=t.split(".");for(let t=0;t<e.length-1;t++)l=l[e[t]],c=l[e[t+1]]}if("function"!=typeof c)throw new TypeError(`${t} is not a function`);r.push({client:this,signal:o?o.signal:null}),a=c.apply(l,r)}catch(u){return void this._post({type:QH,jobId:n,error:$H(u)})}wr(a)?(s.set(n,{controller:o,promise:a}),a.then((e=>{s.has(n)&&(s.delete(n),this._post({type:QH,jobId:n},e))}),(e=>{s.has(n)&&(s.delete(n),dr(e)||this._post({type:QH,jobId:n,error:$H(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:QH,jobId:n},a)}_onOpenPortMessage(t){new e(t.port,{client:this._client})}_onOnMessage(e){const{port:t}=e,n=this._client.on(e.eventType,(e=>{t.postMessage(e)})),r=tr(e.port,"message",(e=>{WH(e)?.type===zH.CLOSE&&(r.remove(),n.remove(),t.close())}))}_onResponseMessage(e){const{jobId:t,error:n,data:r}=e,i=this._outJobs;if(!i.has(t))return;const o=i.get(t);i.delete(t),this._processWork(),gt(o.abortHandle),n?o.reject(et.fromJSON(JSON.parse(n))):o.resolve(r)}_post(e,t,n){return HH(this._port,e,t,n)}};iW.kernelInfo={buildDate:El,fullVersion:Cl,revision:Ml},iW.clients=new Map;let oW=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new RH}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,t){return new Promise(((n,r)=>{let i=!0;const o=e=>{or(t.signal),i&&(i=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let s=0;s<e.length;++s){const i=e[s];wr(i)?this._clientPromises[s]=i.then((e=>(this._clients[s]=new iW(e,t,this._ongoingJobsQueue),o(n),this._clients[s])),(()=>(o(r),null))):(this._clients[s]=new iW(i,t,this._ongoingJobsQueue),this._clientPromises[s]=Promise.resolve(this._clients[s]),o(n))}}))}broadcast(e,t,n){const r=new Array(this._clientPromises.length);for(let i=0;i<this._clientPromises.length;++i){const o=this._clientPromises[i];r[i]=o.then((r=>r?.invoke(e,t,n)))}return r}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(ir(`Worker closing, aborting job calling '${e.methodName}'`));for(const t of this._clientPromises)t.then((e=>e?.close()));this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,PH(this)}invoke(e,t,n){return this.apply(e,[t],n)}apply(e,t,n){const r=Sr();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:n,resolver:r});for(let i=0;i<this._clientPromises.length;i++){const e=this._clients[i];e?e.jobAdded():this._clientPromises[i].then((e=>e?.jobAdded()))}return r.promise}createInvokeProxy(e){return DH(this,e)}on(e,t){return Promise.all(this._clientPromises).then((()=>Mt(this._clients.map((n=>n.on(e,t))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let n=t.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then((i=>{i&&(t[r]=i.openPort()),0==--n&&e(t)}))}))}get test(){}};const sW={async request(e,t){const n=e.options,r=n.responseType;n.signal=t?.signal,n.responseType="native"===r||"native-request-init"===r?"native-request-init":r&&["blob","json","text"].includes(r)&&Ra(e.url)?.after?r:"array-buffer";const i=await Bl(e.url,n),o={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch(i.requestOptions?.responseType){case"native-request-init":return delete o.data.signal,o;case"blob":o.data=await o.data.arrayBuffer();break;case"json":o.data=(new TextEncoder).encode(JSON.stringify(o.data)).buffer;break;case"text":o.data=(new TextEncoder).encode(o.data).buffer}return{result:o,transferList:[o.data]}}},aW={};function lW(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages?.slice()||[],paths:{...aW.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=aW.baseUrl),t}let cW=class{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((t=>{this[t]=(...n)=>e[t](...n)}))}},uW=class{constructor(){this._dispatcher=new cW,this._workerPostMessage({type:zH.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){Vn((()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,n){this._dispatcher.addEventListener(e,t,n)}removeEventListener(e,t,n){this._dispatcher.removeEventListener(e,t,n)}_workerPostMessage(e){Vn((()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))}))}async _workerMessageHandler(e){const t=WH(e);if(t&&t.type===zH.OPEN){const{modulePath:e,jobId:r}=t;let i=await iW.loadWorker(e);i||(i=await n(21213)(e));const o=iW.connect(i);this._workerPostMessage({type:zH.OPENED,jobId:r,data:o})}}};const hW=()=>Ye.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:pW}=zH,dW='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let fW,mW;const yW="Failed to create Worker. Fallback to execute module in main thread";async function gW(){if(!A("esri-workers"))return vW(new uW);if(!fW&&!mW)try{const e=dW.split("{CONFIGURATION}").join(bW());fW=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(t){mW=t||{}}let e;if(fW)try{e=new Worker(fW,{name:"esri-worker-"+wW++})}catch{hW().warn(yW,mW),e=new uW}else hW().warn(yW,mW),e=new uW;return vW(e)}async function vW(e){return new Promise((t=>{function n(i){const o=WH(i);o&&o.type===pW&&(e.removeEventListener("message",n),e.removeEventListener("error",r),t(e))}function r(t){t.preventDefault(),e.removeEventListener("message",n),e.removeEventListener("error",r),hW().warn("Failed to create Worker. Fallback to execute module in main thread",t),(e=new uW).addEventListener("message",n),e.addEventListener("error",r)}e.addEventListener("message",n),e.addEventListener("error",r)}))}function bW(){let e;if(null!=Ue.default){const t={...Ue};delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(Ue));e.assetsPath=Da(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Da(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Wd(),e.has={"esri-csp-restrictions":A("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":A("esri-2d-update-debug"),"esri-2d-log-updating":A("esri-2d-log-updating"),"featurelayer-pbf":A("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":A("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":A("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":A("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":A("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":A("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":A("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":A("featurelayer-snapshot-enabled"),"esri-atomics":A("esri-atomics"),"esri-shared-array-buffer":A("esri-shared-array-buffer"),"esri-tiles-debug":A("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":A("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":A("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Da(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Da(e.workers.workerPath):e.workers.workerPath=Da(mu("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Ue.workers.loaderConfig,n=lW({baseUrl:t?.baseUrl,locale:Wd(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t?.has},map:{...t?.map},paths:{...t?.paths},packages:t?.packages||[]});return JSON.stringify({esriConfig:e,loaderConfig:n,kernelInfo:{buildDate:El,fullVersion:Cl,revision:Ml}})}let wW=0;const{ABORT:_W,INVOKE:xW,OPEN:SW,OPENED:TW,RESPONSE:EW}=zH;let MW=class e{static async create(t){const n=await gW();return new e(n,t)}constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",(e=>{e.preventDefault(),Ye.getLogger("esri.core.workers.WorkerOwner").error(e)}))}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:n}=t,r=VH();return new Promise(((t,i)=>{const o={resolve:t,reject:i,abortHandle:hr(n,(()=>{this._outJobs.delete(r),this._post({type:_W,jobId:r})}))};this._outJobs.set(r,o),this._post({type:SW,jobId:r,modulePath:e})}))}_onMessage(e){const t=WH(e);if(t)switch(t.type){case TW:this._onOpenedMessage(t);break;case EW:this._onResponseMessage(t);break;case _W:this._onAbortMessage(t);break;case xW:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,n=e.jobId,r=t.get(n);r&&(r.controller&&r.controller.abort(),t.delete(n))}_onInvokeMessage(e){const{methodName:t,jobId:n,data:r,abortable:i}=e,o=i?new AbortController:null,s=this._inJobs,a=sW[t];let l;try{if("function"!=typeof a)throw new TypeError(`${t} is not a function`);l=a.call(null,r,{signal:o?o.signal:null})}catch(c){return void this._post({type:EW,jobId:n,error:$H(c)})}wr(l)?(s.set(n,{controller:o,promise:l}),l.then((e=>{s.has(n)&&(s.delete(n),this._post({type:EW,jobId:n},e))}),(e=>{s.has(n)&&(s.delete(n),e||(e={message:"Error encountered at method"+t}),dr(e)||this._post({type:EW,jobId:n,error:$H(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:EW,jobId:n},l)}_onOpenedMessage(e){const{jobId:t,data:n}=e,r=this._outJobs.get(t);r&&(this._outJobs.delete(t),gt(r.abortHandle),r.resolve(n))}_onResponseMessage(e){const{jobId:t,error:n,data:r}=e,i=this._outJobs.get(t);i&&(this._outJobs.delete(t),gt(i.abortHandle),n?i.reject(et.fromJSON(JSON.parse(n))):i.resolve(r))}_post(e,t,n){return HH(this.worker,e,t,n)}};const AW=A("host-browser")?Math.min(navigator.hardwareConcurrency-1,A("workers-pool-size")??8):0;let IW=A("esri-mobile")?Math.min(AW,3):AW;IW||(IW=A("safari")&&A("mac")?7:2);let CW=0;const OW=[];function kW(){PW()}async function RW(e,t){const n=new oW,{registryTarget:r,...i}=t;return await n.open(e,i),r&&NH(r,n),n}async function LW(e,t={}){if("string"!=typeof e)throw new et("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(A("host-webworker")&&!A("esri-workers")&&(r="local"),"local"===r){let r=await iW.loadWorker(e);r||(r=await n(21213)(e)),or(t.signal);const i=t.client||r;return RW([iW.connect(r,t.schedule)],{...t,client:i})}if(await PW(),or(t.signal),"dedicated"===r){const n=CW++%IW;return RW([await OW[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,IW);if(n<IW){const r=new Array(n);for(let i=0;i<n;++i){const n=CW++%IW;r[i]=OW[n].open(e,t)}return RW(r,t)}}return RW(OW.map((n=>n.open(e,t))),t)}let NW=null;async function PW(){if(NW)return NW;new AbortController;const e=[];for(let t=0;t<IW;t++){const n=MW.create(t).then((e=>(OW[t]=e,e)));e.push(n)}return NW=Promise.all(e),NW}function DW(e,t,n){if(null==e.hasM||e.hasZ)for(const r of t)for(const e of r)e.length>2&&(e[2]*=n)}function FW(e,t,n){if(!e&&!t||!n)return;const r=ip(n);jW(e,n,r),jW(t,n,r)}function jW(e,t,n){if(e)for(const r of e)UW(r.geometry,t,n)}function UW(e,t,n){if(!e?.spatialReference||Qu(e.spatialReference,t))return;const r=ip(e.spatialReference)/n;if(1!==r)if("x"in e)null!=e.z&&(e.z*=r);else if("rings"in e)DW(e,e.rings,r);else if("paths"in e)DW(e,e.paths,r);else if("points"in e&&(null==e.hasM||e.hasZ))for(const i of e.points)i.length>2&&(i[2]*=r)}function zW(e,t,n){if(null==t||null==n||n.vcsWkid||Qu(t,n)||Ih(t)||Ih(n))return null;const r=ip(t)/ip(n);if(1===r)return null;switch(e){case"point":case"esriGeometryPoint":return e=>GW(e,r);case"polyline":case"esriGeometryPolyline":return e=>BW(e,r);case"polygon":case"esriGeometryPolygon":return e=>VW(e,r);case"multipoint":case"esriGeometryMultipoint":return e=>$W(e,r);case"extent":case"esriGeometryEnvelope":return e=>HW(e,r);default:return null}}function GW(e,t){null!=e?.z&&(e.z*=t)}function VW(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}function BW(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}function $W(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function HW(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}function WW(e,t,n){if(!n?.features||!n.hasZ)return;const r=zW(n.geometryType,t,e.outSpatialReference);if(null!=r)for(const i of n.features)r(i.geometry)}const qW=new au({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var ZW;const YW=new au({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let XW=ZW=class extends Hs{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch{}return n?.value??null}readValueType(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch{}return n?YW.fromJSON(n.fieldValueType):null}clone(){return new ZW({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};S([To({type:String,json:{write:!0}})],XW.prototype,"alias",void 0),S([To({type:[String,Number],json:{write:{allowNull:!0}}})],XW.prototype,"defaultValue",void 0),S([To()],XW.prototype,"description",void 0),S([Cp("description")],XW.prototype,"readDescription",null),S([To({types:G$,json:{read:{reader:V$},write:!0}})],XW.prototype,"domain",void 0),S([To({type:Boolean,json:{write:!0}})],XW.prototype,"editable",void 0),S([To({type:yo,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],XW.prototype,"length",void 0),S([To({type:String,json:{write:!0}})],XW.prototype,"name",void 0),S([To({type:Boolean,json:{write:!0}})],XW.prototype,"nullable",void 0),S([WM(qW)],XW.prototype,"type",void 0),S([To()],XW.prototype,"valueType",void 0),S([Cp("valueType",["description"])],XW.prototype,"readValueType",null),S([To({type:Boolean,json:{read:!1}})],XW.prototype,"visible",void 0),XW=ZW=S([gs("esri.layers.support.Field")],XW);const JW=XW;var KW;const QW=new au({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let eq=KW=class extends Hs{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const n=Ip.fromJSON(t.spatialReference),r=[];for(let i=0;i<e.length;i++){const t=e[i],o=jL.fromJSON(t),s=t.geometry?.spatialReference;null==o.geometry||s||(o.geometry.spatialReference=n);const a=t.aggregateGeometries,l=o.aggregateGeometries;if(a&&null!=l)for(const e in l){const t=l[e],r=a[e],i=r?.spatialReference;null==t||i||(t.spatialReference=n)}r.push(o)}return r}writeGeometryType(e,t,n,r){if(e)return void QW.write(e,t,n,r);const{features:i}=this;if(i)for(const o of i)if(null!=o?.geometry)return void QW.write(o.geometry.type,t,n,r)}readQueryGeometry(e,t){if(!e)return null;const n=!!e.spatialReference,r=fv(e);return r&&!n&&t.spatialReference&&(r.spatialReference=Ip.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:n}=this;if(n)for(const r of n)if(r&&null!=r.geometry&&r.geometry.spatialReference)return void(t.spatialReference=r.geometry.spatialReference.toJSON())}clone(){return new KW(this.cloneProperties())}cloneProperties(){return _e({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let n=0;n<t.features.length;n++){const r=t.features[n];if(r.geometry){const t=e?.[n];r.geometry=t?.toJSON()||r.geometry}}return t}quantize(e){const{scale:[t,n],translate:[r,i]}=e,o=e=>Math.round((e-r)/t),s=e=>Math.round((i-e)/n),a=this.features,l=this._getQuantizationFunction(this.geometryType,o,s);for(let c=0,u=a.length;c<u;c++)l?.(a[c].geometry)||(a.splice(c,1),c--,u--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:n}=this;if(!n)return this;const{translate:[r,i],scale:[o,s]}=n,a=e=>e*o+r,l=e=>i-e*s;let c=null,u=null;if(this.hasZ&&null!=n?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=n;c=n=>n*t+e}if(this.hasM&&null!=n?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=n;u=n=>null==n?n:n*t+e}const h=this._getHydrationFunction(e,a,l,c,u);for(const{geometry:p}of t)null!=p&&h&&h(p);return this.transform=null,this}_quantizePoints(e,t,n){let r,i;const o=[];for(let s=0,a=e.length;s<a;s++){const a=e[s];if(s>0){const e=t(a[0]),s=n(a[1]);e===r&&s===i||(o.push([e-r,s-i]),r=e,i=s)}else r=t(a[0]),i=n(a[1]),o.push([r,i])}return o.length>0?o:null}_getQuantizationFunction(e,t,n){return"point"===e?e=>(e.x=t(e.x),e.y=n(e.y),e):"polyline"===e||"polygon"===e?e=>{const r=dv(e)?e.rings:e.paths,i=[];for(let o=0,s=r.length;o<s;o++){const e=r[o],s=this._quantizePoints(e,t,n);s&&i.push(s)}return i.length>0?(dv(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?e=>{const r=this._quantizePoints(e.points,t,n);return r&&r.length>0?(e.points=r,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,n,r,i){return"point"===e?e=>{e.x=t(e.x),e.y=n(e.y),r&&(e.z=r(e.z))}:"polyline"===e||"polygon"===e?e=>{const o=dv(e)?e.rings:e.paths;let s,a;for(let r=0,i=o.length;r<i;r++){const e=o[r];for(let r=0,i=e.length;r<i;r++){const i=e[r];r>0?(s+=i[0],a+=i[1]):(s=i[0],a=i[1]),i[0]=t(s),i[1]=n(a)}}if(r&&i)for(let t=0,n=o.length;t<n;t++){const e=o[t];for(let t=0,n=e.length;t<n;t++){const n=e[t];n[2]=r(n[2]),n[3]=i(n[3])}}else if(r)for(let t=0,n=o.length;t<n;t++){const e=o[t];for(let t=0,n=e.length;t<n;t++){const n=e[t];n[2]=r(n[2])}}else if(i)for(let t=0,n=o.length;t<n;t++){const e=o[t];for(let t=0,n=e.length;t<n;t++){const n=e[t];n[2]=i(n[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax),r&&null!=e.zmax&&null!=e.zmin&&(e.zmax=r(e.zmax),e.zmin=r(e.zmin)),i&&null!=e.mmax&&null!=e.mmin&&(e.mmax=i(e.mmax),e.mmin=i(e.mmin))}:"multipoint"===e?e=>{const o=e.points;let s,a;for(let r=0,i=o.length;r<i;r++){const e=o[r];r>0?(s+=e[0],a+=e[1]):(s=e[0],a=e[1]),e[0]=t(s),e[1]=n(a)}if(r&&i)for(let t=0,n=o.length;t<n;t++){const e=o[t];e[2]=r(e[2]),e[3]=i(e[3])}else if(r)for(let t=0,n=o.length;t<n;t++){const e=o[t];e[2]=r(e[2])}else if(i)for(let t=0,n=o.length;t<n;t++){const e=o[t];e[2]=i(e[2])}}:null}};S([To({type:String,json:{write:!0}})],eq.prototype,"displayFieldName",void 0),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],eq.prototype,"exceededTransferLimit",void 0),S([To({type:[jL],json:{write:!0}})],eq.prototype,"features",void 0),S([Cp("features")],eq.prototype,"readFeatures",null),S([To({type:[JW],json:{write:!0}})],eq.prototype,"fields",void 0),S([To({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:QW.read}}})],eq.prototype,"geometryType",void 0),S([su("geometryType")],eq.prototype,"writeGeometryType",null),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],eq.prototype,"hasM",void 0),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],eq.prototype,"hasZ",void 0),S([To({types:wv,json:{write:!0}})],eq.prototype,"queryGeometry",void 0),S([Cp("queryGeometry")],eq.prototype,"readQueryGeometry",null),S([To({type:Ip,json:{write:!0}})],eq.prototype,"spatialReference",void 0),S([su("spatialReference")],eq.prototype,"writeSpatialReference",null),S([To({json:{write:!0}})],eq.prototype,"transform",void 0),eq=KW=S([gs("esri.rest.support.FeatureSet")],eq),eq.prototype.toJSON.isDefaultToJSON=!0;const tq=eq;let nq=0,rq=class extends(Wc.LoadableMixin(jc(Rc))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const e=this.layer?.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(e){return this.load().then((()=>this._applyEdits(e)))}openPorts(){return this.load().then((()=>this._connection.openPorts()))}async queryFeatures(e,t={}){await this.load(t);const n=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);WW(e,this.layer.spatialReference,n);const r=tq.fromJSON(n);if(!this._requiresClientGraphicMapping())return r;const i=this.layer.objectIdField;for(const o of r.features){const e=o.attributes[i],t=this._idToClientGraphic.get(e);t&&(o.geometry=t.geometry)}return r.geometryType=this.layer.geometryType,r}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new et("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const n=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return WW(e,this.layer.spatialReference,n),n}queryFeatureCount(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t)))}queryObjectIds(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t)))}queryExtent(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t))).then((e=>({count:e.count,extent:Gd.fromJSON(e.extent)})))}querySnapping(e,t={}){return this.load(t).then((()=>this._connection.invoke("querySnapping",e,t)))}async _applyEdits(e){if(!this._connection)throw new et("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let n=null;const r=[],i=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const o=e=>"objectId"in e&&null!=e.objectId?e.objectId:"attributes"in e&&null!=e.attributes[t]?e.attributes[t]:null;if(e.addFeatures&&(n=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const c of e.deleteFeatures){const e=o(c);null!=e&&r.push(e)}const s=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures)for(const c of e.updateFeatures)if(i.push(this._serializeFeature(c)),s){const e=o(c);null!=e&&s.set(e,c)}FW(n?n.features:null,i,this.layer.spatialReference);const{fullExtent:a,featureEditResults:l}=await this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:i,deletes:r});return this.fullExtent=a,n&&n.finish(l.uidToObjectId),this._updateClientGraphicIds(s,l),this._createEditsResult(l)}async _prepareClientMapping(e,t){if("mesh"!==this._layerOrSourceGeometryType||null==e)return;const n=[];for(const{geometry:r}of e)null==r||"mesh"!==r.type||r.hasExtent||r.loaded||n.push(r.load({signal:t}));n.length&&await Promise.all(n)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const n of t.updateResults){if(!n.success)continue;const t=e.get(n.objectId);null!=t&&this._addIdToClientGraphic(t)}for(const e of t.deleteResults)e.success&&this._idToClientGraphic.delete(e.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new et("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,n=new Array(e.length);let r=null;for(let o=0;o<e.length;o++){const i=e[o],s=this._serializeFeature(i);r||null==i.geometry||(r=i.geometry.type),n[o]=s,t.set(`${s.uid}`,i)}const i=this;return{features:n,inferredGeometryType:r,finish(e){const n=i.sourceJSON.objectIdField;for(const r in e){const o=e[r],s=t.get(r);s&&(s.attributes||(s.attributes={}),-1===o?delete s.attributes[n]:s.attributes[n]=o,i._addIdToClientGraphic(s))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,n=e.attributes?.[t];null!=n&&this._idToClientGraphic.set(n,e)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return"mesh"===e||"multipatch"===e||"extent"===e}_serializeFeature(e){const{attributes:t}=e,n=this._geometryForSerialization(e),r=(nq++).toString();return n?{uid:r,geometry:n.toJSON(),attributes:t}:{uid:r,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return null==t?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?nv.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await LW("MemorySourceWorker",{strategy:A("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:t,spatialReference:n,objectIdField:r,hasM:i,hasZ:o,timeInfo:s,dateFieldsTimeZone:a}=this.layer,l="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,e);const c=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",(e=>{Ye.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),e.preventDefault()})));const u={features:c.features,fields:t?.map((e=>e.toJSON())),geometryType:bv.toJSON(this._workerGeometryType),hasM:"mesh"!==this._layerOrSourceGeometryType&&i,hasZ:"mesh"===this._layerOrSourceGeometryType||o,objectIdField:r,spatialReference:l?null:n&&n.toJSON(),timeInfo:s?.toJSON()??null,dateFieldsTimeZone:a},h=await this._connection.invoke("load",u,{signal:e});for(const d of h.warnings)Ye.getLogger(this.layer).warn("#load()",`${d.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:d});h.featureErrors.length&&Ye.getLogger(this.layer).warn("#load()",`Encountered ${h.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:h.featureErrors});const p=h.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(c.inferredGeometryType)&&(p.geometryType=bv.toJSON(c.inferredGeometryType)),this.sourceJSON=p,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),c.finish(h.assignedObjectIds)}};function iq(e){return"portalItem"in e}S([mc({Type:jL,ensureType:so(jL)})],rq.prototype,"itemType",void 0),S([To()],rq.prototype,"type",void 0),S([To({constructOnly:!0})],rq.prototype,"layer",void 0),S([To({readOnly:!0})],rq.prototype,"_workerGeometryType",null),S([To()],rq.prototype,"sourceJSON",void 0),rq=S([gs("esri.layers.graphics.sources.MemorySource")],rq);const oq=e=>{let t=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):iq(this)?this.portalItem?.apiKey:null}set apiKey(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return S([To({type:String})],t.prototype,"apiKey",null),t=S([gs("esri.layers.mixins.APIKeyMixin")],t),t},sq={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},aq=Object.values(sq),lq=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${aq.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),cq=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${aq.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),uq=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function hq(e){return lq.test(e)}function pq(e){if(null==e)return null;const t=ba(e),n=t?.path.match(lq)||t?.path.match(cq);if(!n)return null;const[,r,i,o,s]=n,a=i.indexOf("/");return{title:fq(-1!==a?i.slice(a+1):i),serverType:sq[o.toLowerCase()],sublayer:null!=s&&""!==s?parseInt(s,10):null,url:{path:r}}}function dq(e){const t=ba(e).path.match(uq);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function fq(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function mq(e,t){const n=[];if(e){const t=pq(e);null!=t&&t.title&&n.push(t.title)}if(t){const e=fq(t);n.push(e)}if(2===n.length){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function yq(e){let t=za(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function gq(e,t){return e&&ul(gl(e,t))}function vq(e){let{url:t}=e;if(!t)return{url:t};t=gl(t,e.logger);const n=ba(t),r=pq(n.path);let i;if(null!=r)null!=r.sublayer&&null==e.layer.layerId&&(i=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const e=dq(n.path);null!=e&&(t=e.serviceUrl,i=e.sublayerId)}return{url:ul(t),layerId:i}}function bq(e,t,n,r,i){kf(t,r,"url",i),r.url&&null!=e.layerId&&(r.url=Ua(r.url,n,e.layerId.toString()))}function wq(e){if(!e)return!1;const t=e.toLowerCase(),n=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return n&&(r||i||o)}const _q=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const e=pq(this.url);if(null!=e&&e.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",gq(e,Ye.getLogger(this)))}};return S([To()],t.prototype,"title",null),S([To({type:String})],t.prototype,"url",null),t=S([gs("esri.layers.mixins.ArcGISService")],t),t};function xq(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Sq(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Tq(e,t,n,r,i,o,s,a,l,c,u,h,p,d,f,m){const y=new Float32Array(16);return y[0]=e,y[1]=t,y[2]=n,y[3]=r,y[4]=i,y[5]=o,y[6]=s,y[7]=a,y[8]=l,y[9]=c,y[10]=u,y[11]=h,y[12]=p,y[13]=d,y[14]=f,y[15]=m,y}function Eq(e,t){return new Float32Array(e,t,16)}const Mq=xq();function Aq(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Iq(e,t,n,r,i,o,s,a,l,c,u,h,p,d,f,m,y){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e[9]=u,e[10]=h,e[11]=p,e[12]=d,e[13]=f,e[14]=m,e[15]=y,e}function Cq(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Oq(e,t){if(e===t){const n=t[1],r=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function kq(e,t){return Rq(e,t)||Cq(e),e}function Rq(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],p=t[10],d=t[11],f=t[12],m=t[13],y=t[14],g=t[15],v=n*a-r*s,b=n*l-i*s,w=n*c-o*s,_=r*l-i*a,x=r*c-o*a,S=i*c-o*l,T=u*m-h*f,E=u*y-p*f,M=u*g-d*f,A=h*y-p*m,I=h*g-d*m,C=p*g-d*y;let O=v*C-b*I+w*A+_*M-x*E+S*T;return O?(O=1/O,e[0]=(a*C-l*I+c*A)*O,e[1]=(i*I-r*C-o*A)*O,e[2]=(m*S-y*x+g*_)*O,e[3]=(p*x-h*S-d*_)*O,e[4]=(l*M-s*C-c*E)*O,e[5]=(n*C-i*M+o*E)*O,e[6]=(y*w-f*S-g*b)*O,e[7]=(u*S-p*w+d*b)*O,e[8]=(s*I-a*M+c*T)*O,e[9]=(r*M-n*I-o*T)*O,e[10]=(f*x-m*w+g*v)*O,e[11]=(h*w-u*x-d*v)*O,e[12]=(a*E-s*A-l*T)*O,e[13]=(n*A-r*E+i*T)*O,e[14]=(m*b-f*_-y*v)*O,e[15]=(u*_-h*b+p*v)*O,e):null}function Lq(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],p=t[10],d=t[11],f=t[12],m=t[13],y=t[14],g=t[15];return e[0]=a*(p*g-d*y)-h*(l*g-c*y)+m*(l*d-c*p),e[1]=-(r*(p*g-d*y)-h*(i*g-o*y)+m*(i*d-o*p)),e[2]=r*(l*g-c*y)-a*(i*g-o*y)+m*(i*c-o*l),e[3]=-(r*(l*d-c*p)-a*(i*d-o*p)+h*(i*c-o*l)),e[4]=-(s*(p*g-d*y)-u*(l*g-c*y)+f*(l*d-c*p)),e[5]=n*(p*g-d*y)-u*(i*g-o*y)+f*(i*d-o*p),e[6]=-(n*(l*g-c*y)-s*(i*g-o*y)+f*(i*c-o*l)),e[7]=n*(l*d-c*p)-s*(i*d-o*p)+u*(i*c-o*l),e[8]=s*(h*g-d*m)-u*(a*g-c*m)+f*(a*d-c*h),e[9]=-(n*(h*g-d*m)-u*(r*g-o*m)+f*(r*d-o*h)),e[10]=n*(a*g-c*m)-s*(r*g-o*m)+f*(r*c-o*a),e[11]=-(n*(a*d-c*h)-s*(r*d-o*h)+u*(r*c-o*a)),e[12]=-(s*(h*y-p*m)-u*(a*y-l*m)+f*(a*p-l*h)),e[13]=n*(h*y-p*m)-u*(r*y-i*m)+f*(r*p-i*h),e[14]=-(n*(a*y-l*m)-s*(r*y-i*m)+f*(r*l-i*a)),e[15]=n*(a*p-l*h)-s*(r*p-i*h)+u*(r*l-i*a),e}function Nq(e){const t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],p=e[11],d=e[12],f=e[13],m=e[14],y=e[15];return(t*s-n*o)*(h*y-p*m)-(t*a-r*o)*(u*y-p*f)+(t*l-i*o)*(u*m-h*f)+(n*a-r*s)*(c*y-p*d)-(n*l-i*s)*(c*m-h*d)+(r*l-i*a)*(c*f-u*d)}function Pq(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=t[9],d=t[10],f=t[11],m=t[12],y=t[13],g=t[14],v=t[15];let b=n[0],w=n[1],_=n[2],x=n[3];return e[0]=b*r+w*a+_*h+x*m,e[1]=b*i+w*l+_*p+x*y,e[2]=b*o+w*c+_*d+x*g,e[3]=b*s+w*u+_*f+x*v,b=n[4],w=n[5],_=n[6],x=n[7],e[4]=b*r+w*a+_*h+x*m,e[5]=b*i+w*l+_*p+x*y,e[6]=b*o+w*c+_*d+x*g,e[7]=b*s+w*u+_*f+x*v,b=n[8],w=n[9],_=n[10],x=n[11],e[8]=b*r+w*a+_*h+x*m,e[9]=b*i+w*l+_*p+x*y,e[10]=b*o+w*c+_*d+x*g,e[11]=b*s+w*u+_*f+x*v,b=n[12],w=n[13],_=n[14],x=n[15],e[12]=b*r+w*a+_*h+x*m,e[13]=b*i+w*l+_*p+x*y,e[14]=b*o+w*c+_*d+x*g,e[15]=b*s+w*u+_*f+x*v,e}function Dq(e,t,n){const r=n[0],i=n[1],o=n[2];if(t===e)e[12]=t[0]*r+t[4]*i+t[8]*o+t[12],e[13]=t[1]*r+t[5]*i+t[9]*o+t[13],e[14]=t[2]*r+t[6]*i+t[10]*o+t[14],e[15]=t[3]*r+t[7]*i+t[11]*o+t[15];else{const n=t[0],s=t[1],a=t[2],l=t[3],c=t[4],u=t[5],h=t[6],p=t[7],d=t[8],f=t[9],m=t[10],y=t[11];e[0]=n,e[1]=s,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=h,e[7]=p,e[8]=d,e[9]=f,e[10]=m,e[11]=y,e[12]=n*r+c*i+d*o+t[12],e[13]=s*r+u*i+f*o+t[13],e[14]=a*r+h*i+m*o+t[14],e[15]=l*r+p*i+y*o+t[15]}return e}function Fq(e,t,n){const r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function jq(e,t,n,r){let i=r[0],o=r[1],s=r[2],a=Math.sqrt(i*i+o*o+s*s);if(a<=iF())return void Aq(e,t);a=1/a,i*=a,o*=a,s*=a;const l=Math.sin(n),c=Math.cos(n),u=1-c,h=t[0],p=t[1],d=t[2],f=t[3],m=t[4],y=t[5],g=t[6],v=t[7],b=t[8],w=t[9],_=t[10],x=t[11],S=i*i*u+c,T=o*i*u+s*l,E=s*i*u-o*l,M=i*o*u-s*l,A=o*o*u+c,I=s*o*u+i*l,C=i*s*u+o*l,O=o*s*u-i*l,k=s*s*u+c;e[0]=h*S+m*T+b*E,e[1]=p*S+y*T+w*E,e[2]=d*S+g*T+_*E,e[3]=f*S+v*T+x*E,e[4]=h*M+m*A+b*I,e[5]=p*M+y*A+w*I,e[6]=d*M+g*A+_*I,e[7]=f*M+v*A+x*I,e[8]=h*C+m*O+b*k,e[9]=p*C+y*O+w*k,e[10]=d*C+g*O+_*k,e[11]=f*C+v*O+x*k,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function Uq(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],h=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=s*i+u*r,e[6]=a*i+h*r,e[7]=l*i+p*r,e[8]=c*i-o*r,e[9]=u*i-s*r,e[10]=h*i-a*r,e[11]=p*i-l*r,e}function zq(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],l=t[3],c=t[8],u=t[9],h=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=s*i-u*r,e[2]=a*i-h*r,e[3]=l*i-p*r,e[8]=o*r+c*i,e[9]=s*r+u*i,e[10]=a*r+h*i,e[11]=l*r+p*i,e}function Gq(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],l=t[3],c=t[4],u=t[5],h=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=s*i+u*r,e[2]=a*i+h*r,e[3]=l*i+p*r,e[4]=c*i-o*r,e[5]=u*i-s*r,e[6]=h*i-a*r,e[7]=p*i-l*r,e}function Vq(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Bq(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $q(e,t,n){if(0===t)return Cq(e);let r=n[0],i=n[1],o=n[2],s=Math.sqrt(r*r+i*i+o*o);if(s<=iF())return null;s=1/s,r*=s,i*=s,o*=s;const a=Math.sin(t),l=Math.cos(t),c=1-l;return e[0]=r*r*c+l,e[1]=i*r*c+o*a,e[2]=o*r*c-i*a,e[3]=0,e[4]=r*i*c-o*a,e[5]=i*i*c+l,e[6]=o*i*c+r*a,e[7]=0,e[8]=r*o*c+i*a,e[9]=i*o*c-r*a,e[10]=o*o*c+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Hq(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Wq(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function qq(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Zq(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=r+r,l=i+i,c=o+o,u=r*a,h=r*l,p=r*c,d=i*l,f=i*c,m=o*c,y=s*a,g=s*l,v=s*c;return e[0]=1-(d+m),e[1]=h+v,e[2]=p-g,e[3]=0,e[4]=h-v,e[5]=1-(u+m),e[6]=f+y,e[7]=0,e[8]=p+g,e[9]=f-y,e[10]=1-(u+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Yq(e,t){const n=Xq,r=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=r*r+i*i+o*o+s*s;return h>0?(n[0]=2*(a*s+u*r+l*o-c*i)/h,n[1]=2*(l*s+u*i+c*r-a*o)/h,n[2]=2*(c*s+u*o+a*i-l*r)/h):(n[0]=2*(a*s+u*r+l*o-c*i),n[1]=2*(l*s+u*i+c*r-a*o),n[2]=2*(c*s+u*o+a*i-l*r)),Zq(e,t,n),e}Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Mq,clone:Sq,create:xq,createView:Eq,fromValues:Tq},Symbol.toStringTag,{value:"Module"}));const Xq=oC();function Jq(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Kq(e,t){const n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(o*o+s*s+a*a),e[2]=Math.sqrt(l*l+c*c+u*u),e}function Qq(e,t){const n=t[0]+t[5]+t[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function eZ(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=t[3],l=i+i,c=o+o,u=s+s,h=i*l,p=i*c,d=i*u,f=o*c,m=o*u,y=s*u,g=a*l,v=a*c,b=a*u,w=r[0],_=r[1],x=r[2];return e[0]=(1-(f+y))*w,e[1]=(p+b)*w,e[2]=(d-v)*w,e[3]=0,e[4]=(p-b)*_,e[5]=(1-(h+y))*_,e[6]=(m+g)*_,e[7]=0,e[8]=(d+v)*x,e[9]=(m-g)*x,e[10]=(1-(h+f))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function tZ(e,t,n,r,i){const o=t[0],s=t[1],a=t[2],l=t[3],c=o+o,u=s+s,h=a+a,p=o*c,d=o*u,f=o*h,m=s*u,y=s*h,g=a*h,v=l*c,b=l*u,w=l*h,_=r[0],x=r[1],S=r[2],T=i[0],E=i[1],M=i[2],A=(1-(m+g))*_,I=(d+w)*_,C=(f-b)*_,O=(d-w)*x,k=(1-(p+g))*x,R=(y+v)*x,L=(f+b)*S,N=(y-v)*S,P=(1-(p+m))*S;return e[0]=A,e[1]=I,e[2]=C,e[3]=0,e[4]=O,e[5]=k,e[6]=R,e[7]=0,e[8]=L,e[9]=N,e[10]=P,e[11]=0,e[12]=n[0]+T-(A*T+O*E+L*M),e[13]=n[1]+E-(I*T+k*E+N*M),e[14]=n[2]+M-(C*T+R*E+P*M),e[15]=1,e}function nZ(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,a=r+r,l=i+i,c=n*s,u=r*s,h=r*a,p=i*s,d=i*a,f=i*l,m=o*s,y=o*a,g=o*l;return e[0]=1-h-f,e[1]=u+g,e[2]=p-y,e[3]=0,e[4]=u-g,e[5]=1-c-f,e[6]=d+m,e[7]=0,e[8]=p+y,e[9]=d-m,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function rZ(e,t,n,r,i,o,s){const a=1/(n-t),l=1/(i-r),c=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(i+r)*l,e[10]=(s+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*c,e[15]=0,e}function iZ(e,t,n,r,i){const o=1/Math.tan(t/2);let s;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(s=1/(r-i),e[10]=(i+r)*s,e[14]=2*i*r*s):(e[10]=-1,e[14]=-2*r),e}function oZ(e,t,n,r){const i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+a),c=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-a)*l*.5,e[9]=(i-o)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function sZ(e,t,n,r,i,o,s){const a=1/(t-n),l=1/(r-i),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(i+r)*l,e[14]=(s+o)*c,e[15]=1,e}function aZ(e,t,n,r){const i=t[0],o=t[1],s=t[2];let a=i-n[0],l=o-n[1],c=s-n[2];const u=iF();if(Math.abs(a)<u&&Math.abs(l)<u&&Math.abs(c)<u)return void Cq(e);let h=1/Math.sqrt(a*a+l*l+c*c);a*=h,l*=h,c*=h;const p=r[0],d=r[1],f=r[2];let m=d*c-f*l,y=f*a-p*c,g=p*l-d*a;h=Math.sqrt(m*m+y*y+g*g),h?(h=1/h,m*=h,y*=h,g*=h):(m=0,y=0,g=0);let v=l*g-c*y,b=c*m-a*g,w=a*y-l*m;h=Math.sqrt(v*v+b*b+w*w),h?(h=1/h,v*=h,b*=h,w*=h):(v=0,b=0,w=0),e[0]=m,e[1]=v,e[2]=a,e[3]=0,e[4]=y,e[5]=b,e[6]=l,e[7]=0,e[8]=g,e[9]=w,e[10]=c,e[11]=0,e[12]=-(m*i+y*o+g*s),e[13]=-(v*i+b*o+w*s),e[14]=-(a*i+l*o+c*s),e[15]=1}function lZ(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=r[0],l=r[1],c=r[2];let u=i-n[0],h=o-n[1],p=s-n[2],d=u*u+h*h+p*p;d>0&&(d=1/Math.sqrt(d),u*=d,h*=d,p*=d);let f=l*p-c*h,m=c*u-a*p,y=a*h-l*u;return d=f*f+m*m+y*y,d>0&&(d=1/Math.sqrt(d),f*=d,m*=d,y*=d),e[0]=f,e[1]=m,e[2]=y,e[3]=0,e[4]=h*y-p*m,e[5]=p*f-u*y,e[6]=u*m-h*f,e[7]=0,e[8]=u,e[9]=h,e[10]=p,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e}function cZ(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function uZ(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function hZ(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function pZ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function dZ(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function fZ(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function mZ(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function yZ(e,t){if(e===t)return!0;const n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],d=e[11],f=e[12],m=e[13],y=e[14],g=e[15],v=t[0],b=t[1],w=t[2],_=t[3],x=t[4],S=t[5],T=t[6],E=t[7],M=t[8],A=t[9],I=t[10],C=t[11],O=t[12],k=t[13],R=t[14],L=t[15],N=iF();return Math.abs(n-v)<=N*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-b)<=N*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-w)<=N*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-_)<=N*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(s-x)<=N*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(a-S)<=N*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(l-T)<=N*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(c-E)<=N*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(u-M)<=N*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(h-A)<=N*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(p-I)<=N*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(d-C)<=N*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(f-O)<=N*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(m-k)<=N*Math.max(1,Math.abs(m),Math.abs(k))&&Math.abs(y-R)<=N*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(g-L)<=N*Math.max(1,Math.abs(g),Math.abs(L))}function gZ(e){const t=iF(),n=e[0],r=e[1],i=e[2],o=e[4],s=e[5],a=e[6],l=e[8],c=e[9],u=e[10];return Math.abs(1-(n*n+o*o+l*l))<=t&&Math.abs(1-(r*r+s*s+c*c))<=t&&Math.abs(1-(i*i+a*a+u*u))<=t}function vZ(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}const bZ=Pq,wZ=pZ;Object.freeze(Object.defineProperty({__proto__:null,add:hZ,adjoint:Lq,copy:Aq,determinant:Nq,equals:yZ,exactEquals:mZ,frob:uZ,fromQuat:nZ,fromQuat2:Yq,fromRotation:$q,fromRotationTranslation:Zq,fromRotationTranslationScale:eZ,fromRotationTranslationScaleOrigin:tZ,fromScaling:Bq,fromTranslation:Vq,fromXRotation:Hq,fromYRotation:Wq,fromZRotation:qq,frustum:rZ,getRotation:Qq,getScaling:Kq,getTranslation:Jq,hasIdentityRotation:vZ,identity:Cq,invert:Rq,invertOrIdentity:kq,isOrthoNormal:gZ,lookAt:aZ,mul:bZ,multiply:Pq,multiplyScalar:dZ,multiplyScalarAndAdd:fZ,ortho:sZ,perspective:iZ,perspectiveFromFieldOfView:oZ,rotate:jq,rotateX:Uq,rotateY:zq,rotateZ:Gq,scale:Fq,set:Iq,str:cZ,sub:wZ,subtract:pZ,targetTo:lZ,translate:Dq,transpose:Oq},Symbol.toStringTag,{value:"Module"}));const _Z=(e,t)=>{const n=Iq(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Oq(n,n)},xZ=(e,t)=>{const n=Iq(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Oq(n,n)},SZ=(e,t)=>{const n=1-t,r=Iq(e,.2126+.7874*n,.7152-.7152*n,.0722-.0722*n,0,.2126-.2126*n,.7152+.2848*n,.0722-.0722*n,0,.2126-.2126*n,.7152-.7152*n,.0722+.9278*n,0,0,0,0,1);return Oq(r,r)},TZ=(e,t)=>{const n=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),i=Iq(e,.213+.787*r-.213*n,.715-.715*r-.715*n,.072-.072*r+.928*n,0,.213-.213*r+.143*n,.715+.285*r+.14*n,.072-.072*r-.283*n,0,.213-.213*r-.787*n,.715-.715*r+.715*n,.072+.928*r+.072*n,0,0,0,0,1);return Oq(i,i)},EZ=(e,t)=>{const n=1-2*t,r=Iq(e,n,0,0,t,0,n,0,t,0,0,n,t,0,0,0,1);return Oq(r,r)},MZ=(e,t)=>{const n=Iq(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Oq(n,n)},AZ=(e,t)=>{const n=1-t,r=Iq(e,.393+.607*n,.769-.769*n,.189-.189*n,0,.349-.349*n,.686+.314*n,.168-.168*n,0,.272-.272*n,.534-.534*n,.131+.869*n,0,0,0,0,1);return Oq(r,r)};let IZ=class e{constructor(e,t,n){this.strength=e,this.radius=t,this.threshold=n,this.type="bloom"}interpolate(e,t,n){this.strength=NZ(e.strength,t.strength,n),this.radius=NZ(e.radius,t.radius,n),this.threshold=NZ(e.threshold,t.threshold,n)}clone(){return new e(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:PZ(this.radius),strength:this.strength,threshold:this.threshold}}},CZ=class e{constructor(e){this.radius=e,this.type="blur"}interpolate(e,t,n){this.radius=Math.round(NZ(e.radius,t.radius,n))}clone(){return new e(this.radius)}toJSON(){return{type:"blur",radius:PZ(this.radius)}}},OZ=class e{constructor(e,t){this.type=e,this.amount=t,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.amount=NZ(e.amount,t.amount,n),this._updateMatrix()}clone(){return new e(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||xq();switch(this.type){case"brightness":this._colorMatrix=_Z(e,this.amount);break;case"contrast":this._colorMatrix=xZ(e,this.amount);break;case"grayscale":this._colorMatrix=SZ(e,this.amount);break;case"invert":this._colorMatrix=EZ(e,this.amount);break;case"saturate":this._colorMatrix=MZ(e,this.amount);break;case"sepia":this._colorMatrix=AZ(e,this.amount)}}},kZ=class e{constructor(e,t,n,r){this.offsetX=e,this.offsetY=t,this.blurRadius=n,this.color=r,this.type="drop-shadow"}interpolate(e,t,n){this.offsetX=NZ(e.offsetX,t.offsetX,n),this.offsetY=NZ(e.offsetY,t.offsetY,n),this.blurRadius=NZ(e.blurRadius,t.blurRadius,n),this.color[0]=Math.round(NZ(e.color[0],t.color[0],n)),this.color[1]=Math.round(NZ(e.color[1],t.color[1],n)),this.color[2]=Math.round(NZ(e.color[2],t.color[2],n)),this.color[3]=NZ(e.color[3],t.color[3],n)}clone(){return new e(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:PZ(this.offsetX),yoffset:PZ(this.offsetY),blurRadius:PZ(this.blurRadius),color:e}}},RZ=class e{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.angle=NZ(e.angle,t.angle,n),this._updateMatrix()}clone(){return new e(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||xq();this._colorMatrix=TZ(e,this.angle)}},LZ=class e{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,t,n){this.amount=NZ(e.amount,t.amount,n)}clone(){return new e(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function NZ(e,t,n){return e+(t-e)*n}function PZ(e){return Math.round(1e3*FI(e))/1e3}function DZ(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new OZ(e.type,0);case"saturate":case"brightness":case"contrast":return new OZ(e.type,1);case"opacity":return new LZ(1);case"hue-rotate":return new RZ(0);case"blur":return new CZ(0);case"drop-shadow":return new kZ(0,0,0,[...Um("transparent")]);case"bloom":return new IZ(0,0,1)}}function FZ(e,t){const n=e.length>t.length?e:t;return(e.length>t.length?t:e).every(((e,t)=>e.type===n[t].type))}function jZ(e,t){const n=e.length>t.length?e:t,r=e.length>t.length?t:e;for(let i=r.length;i<n.length;i++)r.push(DZ(n[i]))}function UZ(e){const t=e[0];return!!t&&"type"in t}function zZ(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function GZ(e,t,n,r){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,GZ.prototype),i.expected=t,i.found=n,i.location=r,i.name="SyntaxError",i}function VZ(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}function BZ(e,t){var n,r={},i=(t=void 0!==t?t:{}).grammarSource,o={start:We},s=We,a="none",l=")",c=",",u="(",h="%",p="px",d="cm",f="mm",m="in",y="pt",g="pc",v="deg",b="rad",w="grad",_="turn",x="#",S=".",T="e",E=/^[ \t\n\r]/,M=/^[a-z\-]/,A=/^[0-9a-fA-F]/,I=/^[+\-]/,C=/^[0-9]/,O=Ge("none"),k=je("none",!1),R=je(")",!1),L=je(",",!1),N=Ge("whitespace"),P=Ue([" ","\t","\n","\r"],!1,!1),D=Ge("function"),F=je("(",!1),j=Ge("identifier"),U=Ue([["a","z"],"-"],!1,!1),z=Ge("percentage"),G=je("%",!1),V=Ge("length"),B=je("px",!1),$=je("cm",!1),H=je("mm",!1),W=je("in",!1),q=je("pt",!1),Z=je("pc",!1),Y=Ge("angle"),X=je("deg",!1),J=je("rad",!1),K=je("grad",!1),Q=je("turn",!1),ee=Ge("number"),te=Ge("color"),ne=je("#",!1),re=Ue([["0","9"],["a","f"],["A","F"]],!1,!1),ie=Ue(["+","-"],!1,!1),oe=Ue([["0","9"]],!1,!1),se=je(".",!1),ae=je("e",!1),le=function(){return[]},ce=function(e,t){return{type:"function",name:e,parameters:t||[]}},ue=function(e,t){return t.length>0?lt(e,t,3):[e]},he=function(e){return{type:"quantity",value:e.value,unit:e.unit}},pe=function(e){return{type:"color",colorType:e.type,value:e.value}},de=function(e){return e},fe=function(){return Fe()},me=function(e){return{value:e,unit:"%"}},ye=function(e){return{value:e,unit:"px"}},ge=function(e){return{value:e,unit:"cm"}},ve=function(e){return{value:e,unit:"mm"}},be=function(e){return{value:e,unit:"in"}},we=function(e){return{value:e,unit:"pt"}},_e=function(e){return{value:e,unit:"pc"}},xe=function(e){return{value:e,unit:"deg"}},Se=function(e){return{value:e,unit:"rad"}},Te=function(e){return{value:e,unit:"grad"}},Ee=function(e){return{value:e,unit:"turn"}},Me=function(e){return{value:e,unit:null}},Ae=function(){return{type:"hex",value:Fe()}},Ie=function(e){return{type:"function",value:e}},Ce=function(){return{type:"named",value:Fe()}},Oe=function(){return parseFloat(Fe())},ke=0|t.peg$currPos,Re=ke,Le=[{line:1,column:1}],Ne=ke,Pe=t.peg$maxFailExpected||[],De=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in o))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=o[t.startRule]}function Fe(){return e.substring(Re,ke)}function je(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ue(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function ze(){return{type:"end"}}function Ge(e){return{type:"other",description:e}}function Ve(t){var n,r=Le[t];if(r)return r;if(t>=Le.length)n=Le.length-1;else for(n=t;!Le[--n];);for(r={line:(r=Le[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Le[t]=r,r}function Be(e,t,n){var r=Ve(e),o=Ve(t);return{source:i,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}}}function $e(e){ke<Ne||(ke>Ne&&(Ne=ke,Pe=[]),Pe.push(e))}function He(e,t,n){return new GZ(GZ.buildMessage(e,t),e,t,n)}function We(){var e;return(e=qe())===r&&(e=Ze()),e}function qe(){var t,n;return De++,t=ke,Ke(),e.substr(ke,4)===a?(n=a,ke+=4):(n=r,0===De&&$e(k)),n!==r?(Ke(),Re=t,t=le()):(ke=t,t=r),De--,t===r&&0===De&&$e(O),t}function Ze(){var e,t;if(e=[],(t=Ye())!==r)for(;t!==r;)e.push(t),t=Ye();else e=r;return e}function Ye(){var t,n,i,o;return t=ke,Ke(),(n=Qe())!==r?(Ke(),(i=Xe())===r&&(i=null),Ke(),41===e.charCodeAt(ke)?(o=l,ke++):(o=r,0===De&&$e(R)),o!==r?(Ke(),Re=t,t=ce(n,i)):(ke=t,t=r)):(ke=t,t=r),t}function Xe(){var t,n,i,o,s,a,l,u;if(t=ke,(n=Je())!==r){for(i=[],o=ke,s=Ke(),44===e.charCodeAt(ke)?(a=c,ke++):(a=r,0===De&&$e(L)),a===r&&(a=null),l=Ke(),(u=Je())!==r?o=s=[s,a,l,u]:(ke=o,o=r);o!==r;)i.push(o),o=ke,s=Ke(),44===e.charCodeAt(ke)?(a=c,ke++):(a=r,0===De&&$e(L)),a===r&&(a=null),l=Ke(),(u=Je())!==r?o=s=[s,a,l,u]:(ke=o,o=r);Re=t,t=ue(n,i)}else ke=t,t=r;return t}function Je(){var e,t;return e=ke,(t=tt())===r&&(t=nt())===r&&(t=rt())===r&&(t=it()),t!==r&&(Re=e,t=he(t)),(e=t)===r&&(e=ke,(t=ot())!==r&&(Re=e,t=pe(t)),e=t),e}function Ke(){var t,n;for(De++,t=[],n=e.charAt(ke),E.test(n)?ke++:(n=r,0===De&&$e(P));n!==r;)t.push(n),n=e.charAt(ke),E.test(n)?ke++:(n=r,0===De&&$e(P));return De--,n=r,0===De&&$e(N),t}function Qe(){var t,n,i;return De++,t=ke,(n=et())!==r?(40===e.charCodeAt(ke)?(i=u,ke++):(i=r,0===De&&$e(F)),i!==r?(Re=t,t=de(n)):(ke=t,t=r)):(ke=t,t=r),De--,t===r&&(n=r,0===De&&$e(D)),t}function et(){var t,n,i;if(De++,t=ke,n=[],i=e.charAt(ke),M.test(i)?ke++:(i=r,0===De&&$e(U)),i!==r)for(;i!==r;)n.push(i),i=e.charAt(ke),M.test(i)?ke++:(i=r,0===De&&$e(U));else n=r;return n!==r&&(Re=t,n=fe()),De--,(t=n)===r&&(n=r,0===De&&$e(j)),t}function tt(){var t,n,i;return De++,t=ke,Ke(),(n=st())!==r?(37===e.charCodeAt(ke)?(i=h,ke++):(i=r,0===De&&$e(G)),i!==r?(Re=t,t=me(n)):(ke=t,t=r)):(ke=t,t=r),De--,t===r&&0===De&&$e(z),t}function nt(){var t,n,i;return De++,t=ke,Ke(),(n=st())!==r?(e.substr(ke,2)===p?(i=p,ke+=2):(i=r,0===De&&$e(B)),i!==r?(Re=t,t=ye(n)):(ke=t,t=r)):(ke=t,t=r),t===r&&(t=ke,Ke(),(n=st())!==r?(e.substr(ke,2)===d?(i=d,ke+=2):(i=r,0===De&&$e($)),i!==r?(Re=t,t=ge(n)):(ke=t,t=r)):(ke=t,t=r),t===r&&(t=ke,Ke(),(n=st())!==r?(e.substr(ke,2)===f?(i=f,ke+=2):(i=r,0===De&&$e(H)),i!==r?(Re=t,t=ve(n)):(ke=t,t=r)):(ke=t,t=r),t===r&&(t=ke,Ke(),(n=st())!==r?(e.substr(ke,2)===m?(i=m,ke+=2):(i=r,0===De&&$e(W)),i!==r?(Re=t,t=be(n)):(ke=t,t=r)):(ke=t,t=r),t===r&&(t=ke,Ke(),(n=st())!==r?(e.substr(ke,2)===y?(i=y,ke+=2):(i=r,0===De&&$e(q)),i!==r?(Re=t,t=we(n)):(ke=t,t=r)):(ke=t,t=r),t===r&&(t=ke,Ke(),(n=st())!==r?(e.substr(ke,2)===g?(i=g,ke+=2):(i=r,0===De&&$e(Z)),i!==r?(Re=t,t=_e(n)):(ke=t,t=r)):(ke=t,t=r)))))),De--,t===r&&0===De&&$e(V),t}function rt(){var t,n,i;return De++,t=ke,(n=st())!==r?(e.substr(ke,3)===v?(i=v,ke+=3):(i=r,0===De&&$e(X)),i!==r?(Re=t,t=xe(n)):(ke=t,t=r)):(ke=t,t=r),t===r&&(t=ke,(n=st())!==r?(e.substr(ke,3)===b?(i=b,ke+=3):(i=r,0===De&&$e(J)),i!==r?(Re=t,t=Se(n)):(ke=t,t=r)):(ke=t,t=r),t===r&&(t=ke,(n=st())!==r?(e.substr(ke,4)===w?(i=w,ke+=4):(i=r,0===De&&$e(K)),i!==r?(Re=t,t=Te(n)):(ke=t,t=r)):(ke=t,t=r),t===r&&(t=ke,(n=st())!==r?(e.substr(ke,4)===_?(i=_,ke+=4):(i=r,0===De&&$e(Q)),i!==r?(Re=t,t=Ee(n)):(ke=t,t=r)):(ke=t,t=r)))),De--,t===r&&(n=r,0===De&&$e(Y)),t}function it(){var e,t;return De++,e=ke,Ke(),(t=st())!==r?(Re=e,e=Me(t)):(ke=e,e=r),De--,e===r&&0===De&&$e(ee),e}function ot(){var t,n,i,o;if(De++,t=ke,35===e.charCodeAt(ke)?(n=x,ke++):(n=r,0===De&&$e(ne)),n!==r){if(i=[],o=e.charAt(ke),A.test(o)?ke++:(o=r,0===De&&$e(re)),o!==r)for(;o!==r;)i.push(o),o=e.charAt(ke),A.test(o)?ke++:(o=r,0===De&&$e(re));else i=r;i!==r?(Re=t,t=Ae()):(ke=t,t=r)}else ke=t,t=r;return t===r&&(t=ke,(n=Ye())!==r&&(Re=t,n=Ie(n)),(t=n)===r&&(t=ke,(n=et())!==r&&(Re=t,n=Ce()),t=n)),De--,t===r&&(n=r,0===De&&$e(te)),t}function st(){var t,n,i,o,s,a,l,c;for(t=ke,n=e.charAt(ke),I.test(n)?ke++:(n=r,0===De&&$e(ie)),n===r&&(n=null),i=ke,o=[],s=e.charAt(ke),C.test(s)?ke++:(s=r,0===De&&$e(oe));s!==r;)o.push(s),s=e.charAt(ke),C.test(s)?ke++:(s=r,0===De&&$e(oe));if(46===e.charCodeAt(ke)?(s=S,ke++):(s=r,0===De&&$e(se)),s!==r){if(a=[],l=e.charAt(ke),C.test(l)?ke++:(l=r,0===De&&$e(oe)),l!==r)for(;l!==r;)a.push(l),l=e.charAt(ke),C.test(l)?ke++:(l=r,0===De&&$e(oe));else a=r;a!==r?i=o=[o,s,a]:(ke=i,i=r)}else ke=i,i=r;if(i===r)if(i=[],o=e.charAt(ke),C.test(o)?ke++:(o=r,0===De&&$e(oe)),o!==r)for(;o!==r;)i.push(o),o=e.charAt(ke),C.test(o)?ke++:(o=r,0===De&&$e(oe));else i=r;if(i!==r){if(o=ke,101===e.charCodeAt(ke)?(s=T,ke++):(s=r,0===De&&$e(ae)),s!==r){if(a=e.charAt(ke),I.test(a)?ke++:(a=r,0===De&&$e(ie)),a===r&&(a=null),l=[],c=e.charAt(ke),C.test(c)?ke++:(c=r,0===De&&$e(oe)),c!==r)for(;c!==r;)l.push(c),c=e.charAt(ke),C.test(c)?ke++:(c=r,0===De&&$e(oe));else l=r;l!==r?o=s=[s,a,l]:(ke=o,o=r)}else ke=o,o=r;o===r&&(o=null),Re=t,t=Oe()}else ke=t,t=r;return t}function at(e,t){return e.map((function(e){return e[t]}))}function lt(e,t,n){return[e].concat(at(t,n))}if(n=s(),t.peg$library)return{peg$result:n,peg$currPos:ke,peg$FAILED:r,peg$maxFailExpected:Pe,peg$maxFailPos:Ne};if(n!==r&&ke===e.length)return n;throw n!==r&&ke<e.length&&$e(ze()),He(Pe,Ne<e.length?e.charAt(Ne):null,Ne<e.length?Be(Ne,Ne+1):Be(Ne,Ne))}function $Z(e){if(!e||0===e.length)return null;if("string"==typeof e){const t=HZ(e);return t&&0!==t.length?t:null}const t=e.map((e=>{if(!Number.isFinite(e.scale)||e.scale<=0)throw new et("effect:invalid-scale","scale must be finite and greater than 0",{stop:e});return{scale:e.scale,effects:HZ(e.value)}}));t.sort(((e,t)=>t.effects.length-e.effects.length));for(let n=0;n<t.length-1;n++){if(!FZ(t[n].effects,t[n+1].effects))throw new et("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[n].effects,b:t[n+1].effects});jZ(t[n].effects,t[n+1].effects)}return t.sort(((e,t)=>t.scale-e.scale)),t}function HZ(e){let t;if(!e)return[];try{t=BZ(e)}catch(n){throw new et("effect:invalid-syntax","Invalid effect syntax",{value:e,error:n})}return t.map((e=>WZ(e)))}function WZ(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return qZ(e);case"opacity":return ZZ(e);case"hue-rotate":return YZ(e);case"blur":return XZ(e);case"drop-shadow":return JZ(e);case"bloom":return KZ(e)}}catch(t){throw t.details.filter=e,t}throw new et("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function qZ(e){let t=1;return QZ(e.parameters,1),1===e.parameters.length&&(t=lY(e.parameters[0])),new OZ(e.name,t)}function ZZ(e){let t=1;return QZ(e.parameters,1),1===e.parameters.length&&(t=lY(e.parameters[0])),new LZ(t)}function YZ(e){let t=0;return QZ(e.parameters,1),1===e.parameters.length&&(t=uY(e.parameters[0])),new RZ(t)}function XZ(e){let t=0;return QZ(e.parameters,1),1===e.parameters.length&&(t=hY(e.parameters[0]),tY(t,e.parameters[0])),new CZ(t)}function JZ(e){const t=[];let n=null;for(const r of e.parameters)if("color"===r.type){if(t.length&&Object.freeze(t),n)throw new et("effect:type-error","Accepts only one color",{});n=pY(r)}else{const e=hY(r);if(Object.isFrozen(t))throw new et("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(e),3===t.length&&tY(e,r)}if(t.length<2||t.length>3)throw new et("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new kZ(t[0],t[1],t[2]||0,n||dY("black"))}function KZ(e){let t=1,n=0,r=0;return QZ(e.parameters,3),e.parameters[0]&&(t=lY(e.parameters[0])),e.parameters[1]&&(n=hY(e.parameters[1]),tY(n,e.parameters[1])),e.parameters[2]&&(r=lY(e.parameters[2])),new IZ(t,n,r)}function QZ(e,t){if(e.length>t)throw new et("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function eY(e){if("color"===e.type)return"<color>";if(e.unit){if(e.unit in sY)return"<length>";if(e.unit in iY)return"<angle>";if("%"===e.unit)return"<percentage>"}return"<double>"}function tY(e,t){if(e<0)throw new et("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function nY(e){if("quantity"!==e.type||null!==e.unit)throw new et("effect:type-error",`Expected <double>, Actual: ${eY(e)}`,{term:e})}function rY(e){if("quantity"!==e.type||null!==e.unit&&"%"!==e.unit)throw new et("effect:type-error",`Expected <double> or <percentage>, Actual: ${eY(e)}`,{term:e})}zZ(GZ,Error),GZ.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,o=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,s=this.location.source+":"+o.line+":"+o.column;if(r){var a=this.location.end,l=VZ("",o.line.toString().length," "),c=r[i.line-1],u=(i.line===a.line?a.column:c.length+1)-i.column||1;t+="\n --\x3e "+s+"\n"+l+" |\n"+o.line+" | "+c+"\n"+l+" | "+VZ("",i.column-1," ")+VZ("",u,"^")}else t+="\n at "+s}return t},GZ.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){return n[e.type](e)}function a(e){var t,n,r=e.map(s);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function l(e){return e?'"'+i(e)+'"':"end of input"}return"Expected "+a(e)+" but "+l(t)+" found."};const iY={deg:1,grad:.9,rad:180/Math.PI,turn:360};function oY(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=iY[e.unit]))throw new et("effect:type-error",`Expected <angle>, Actual: ${eY(e)}`,{term:e})}const sY={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function aY(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=sY[e.unit]))throw new et("effect:type-error",`Expected <length>, Actual: ${eY(e)}`,{term:e})}function lY(e){rY(e);const t=e.value;return tY(t,e),"%"===e.unit?.01*t:t}function cY(e){return nY(e),tY(e.value,e),e.value}function uY(e){return oY(e),e.value*iY[e.unit]||0}function hY(e){return aY(e),e.value*sY[e.unit]||0}function pY(e){switch(e.colorType){case"hex":return Bm(e.value);case"named":return dY(e.value);case"function":return yY(e.value)}}function dY(e){if(!jm(e))throw new et("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return zm(e)}const fY=/^rgba?/i,mY=/^hsla?/i;function yY(e){if(QZ(e.parameters,4),fY.test(e.name))return[lY(e.parameters[0]),lY(e.parameters[1]),lY(e.parameters[2]),e.parameters[3]?lY(e.parameters[3]):1];if(mY.test(e.name))return Vm(cY(e.parameters[0]),lY(e.parameters[1]),lY(e.parameters[2]),e.parameters[3]?lY(e.parameters[3]):1);throw new et("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function gY(e,t,n){try{return wY(e)}catch(r){n?.messages?.push(r)}return null}function vY(e,t,n,r){try{const r=bY(e);Pe(n,r,t)}catch(i){r.messages&&r.messages.push(i)}}function bY(e){const t=$Z(e);return t?UZ(t)?t.map((e=>e.toJSON())):t.map((({scale:e,effects:t})=>({scale:e,value:t.map((e=>e.toJSON()))}))):null}function wY(e){if(!e||0===e.length)return null;if(_Y(e)){const t=[];for(const n of e)t.push({scale:n.scale,value:xY(n.value)});return t}return xY(e)}function _Y(e){const t=e[0];return!!t&&"scale"in t}function xY(e){if(!e?.length)return"";const t=[];for(const n of e){let e=[];switch(n.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":e=[SY(n,"amount")];break;case"blur":e=[SY(n,"radius","pt")];break;case"hue-rotate":e=[SY(n,"angle","deg")];break;case"drop-shadow":e=[SY(n,"xoffset","pt"),SY(n,"yoffset","pt"),SY(n,"blurRadius","pt"),TY(n,"color")];break;case"bloom":e=[SY(n,"strength"),SY(n,"radius","pt"),SY(n,"threshold")]}const r=`${n.type}(${e.filter(Boolean).join(" ")})`;$Z(r),t.push(r)}return t.join(" ")}function SY(e,t,n){if(null==e[t])throw new et("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return n?e[t]+n:""+e[t]}function TY(e,t){if(null==e[t])throw new et("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const n=e[t];return`rgba(${n[0]||0}, ${n[1]||0}, ${n[2]||0}, ${n[3]/255||0})`}const EY={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}},MY={read:{reader:gY},write:{allowNull:!0,writer:vY}},AY={json:{read:!1,write:!1,origins:{"web-map":MY,"portal-item":MY}}},IY=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return S([To(EY)],t.prototype,"blendMode",void 0),S([To(AY)],t.prototype,"effect",void 0),t=S([gs("esri.layers.mixins.BlendLayer")],t),t},CY=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return S([To({type:Object,json:{write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0)})}}})],t.prototype,"customParameters",void 0),t=S([gs("esri.layers.mixins.CustomParametersMixin")],t),t},OY="randomUUID"in crypto;function kY(){if(OY)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function RY(){return`{${kY().toUpperCase()}}`}function LY(){return`{${kY()}}`}function NY(e){const t=e.toUpperCase();return"{"!==e[0]?`{${t}}`:t}const PY=LY(),DY=new Map,FY=new Map;async function jY(e,t,n){if(!e||!n)return!1;if(!t)return!0;const r=new URL(e).host;let i=DY.get(r);if(!i){const t=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");i=(await Bl(t,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return i===t}async function UY(e,t,r=!1){if(!e||!t)return!0;const i=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),o=FY.get(i)?.entries();if(o)for(const[s,a]of o)if(a.name===t){const e=!a.stack?.hasForwardEdits();if(!e&&r){const[{deleteForwardEdits:e},{default:t}]=await Promise.all([n.e(7228).then(n.bind(n,27228)),n.e(3590).then(n.bind(n,3590))]),r=await e(i,s,new t({sessionId:PY,moment:a.moment}));return r.success&&a.stack?.clearForwardEdits(),r.success}return e}return!0}function zY(e,t){if(!e)return!1;const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),r=FY.get(n)?.entries();if(r)for(const[i,o]of r)if(o.name===t)return"edit"===o.lockType;return!1}const GY=new dc.EventEmitter;function VY(e){return GY.on("apply-edits",new WeakRef(e))}function BY(e){return GY.on("update-moment",new WeakRef(e))}function $Y(e,t,n=null,r=!1){const i=Sr();return r=null==t||r,GY.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:n,mayReceiveServiceEdits:r,result:i.promise}),i}const HY=Symbol();function WY(e){return null!=e&&"object"==typeof e&&HY in e}function qY(e){return null!=e&&"object"==typeof e&&"gdbVersion"in e}function ZY(e,t,n){const r=new URL(e).host,i=DY.get(r),o=e=>!e||e===i;return o(t)&&o(n)||t===n}const YY=e=>{var t;let n=class extends e{constructor(...e){super(...e),this[t]=!0,this._applyEditsHandler=e=>{const{serviceUrl:t,layerId:n,gdbVersion:r,mayReceiveServiceEdits:i,result:o}=e,s=t===this.url,a=null!=n&&null!=this.layerId&&n===this.layerId,l=qY(this),c=qY(this)&&ZY(t,r,this.gdbVersion);if(!s||l&&!c||!a&&!i)return;const u=o.then((e=>{if(this.lastEditsEventDate=new Date,a&&(e.addedFeatures.length||e.updatedFeatures.length||e.deletedFeatures.length||e.addedAttachments.length||e.updatedAttachments.length||e.deletedAttachments.length))return this.emit("edits",_e(e)),e;const n=e.editedFeatures?.find((({layerId:e})=>e===this.layerId));if(n){const{adds:t,updates:r,deletes:i}=n.editedFeatures,o={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:t?t.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],deletedFeatures:i?i.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],updatedFeatures:r?r.map((({current:{attributes:e}})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],editedFeatures:_e(e.editedFeatures),exceededTransferLimit:!1,historicMoment:_e(e.historicMoment)};return this.emit("edits",o),o}const i={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:_e(e.editedFeatures),exceededTransferLimit:!1,historicMoment:_e(e.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(t,r,i.historicMoment)&&this.emit("edits",i),i})).then((e=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(t,r,e.historicMoment)&&(this.historicMoment=e.historicMoment),e)));this.emit("apply-edits",{result:u})},this._updateMomentHandler=e=>{const{serviceUrl:t,gdbVersion:n,moment:r}=e,i=t===this.url,o=qY(this),s=qY(this)&&ZY(t,n,this.gdbVersion),a=qY(this)&&!ZY(t,this.gdbVersion,null);i&&o&&s&&a&&"historicMoment"in this&&this.historicMoment!==r&&(this.historicMoment=r)},this.when().then((()=>{this.addHandles(VY(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(BY(this._updateMomentHandler))}),(()=>{}))}_shouldUpdateHistoricMoment(e,t,n){return"historicMoment"in this&&this.historicMoment!==n&&zY(e,t)}};return t=HY,S([To()],n.prototype,"lastEditsEventDate",void 0),n=S([gs("esri.layers.mixins.EditBusLayer")],n),n};var XY;let JY=XY=class extends Hs{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new XY({mapLayerId:e,gdbVersion:t})}};var KY;S([WM({mapLayer:"map-layer"})],JY.prototype,"type",void 0),S([To({type:yo,json:{write:!0}})],JY.prototype,"mapLayerId",void 0),S([To({type:String,json:{write:!0}})],JY.prototype,"gdbVersion",void 0),JY=XY=S([gs("esri.layers.support.source.MapLayerSource")],JY);let QY=KY=class extends Hs{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:n,spatialReference:r,geometryType:i}=this,o={workspaceId:e,query:t,oidFields:n,spatialReference:r?.clone()??void 0,geometryType:i};return new KY(o)}};var eX;S([WM({queryTable:"query-table"})],QY.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],QY.prototype,"workspaceId",void 0),S([To({type:String,json:{write:!0}})],QY.prototype,"query",void 0),S([To({type:String,json:{write:!0}})],QY.prototype,"oidFields",void 0),S([To({type:Ip,json:{write:!0}})],QY.prototype,"spatialReference",void 0),S([WM(vv)],QY.prototype,"geometryType",void 0),QY=KY=S([gs("esri.layers.support.source.QueryTableDataSource")],QY);let tX=eX=class extends Hs{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new eX({workspaceId:e,dataSourceName:t})}};var nX;S([WM({raster:"raster"})],tX.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],tX.prototype,"dataSourceName",void 0),S([To({type:String,json:{write:!0}})],tX.prototype,"workspaceId",void 0),tX=eX=S([gs("esri.layers.support.source.RasterDataSource")],tX);let rX=nX=class extends Hs{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:n}=this;return new nX({workspaceId:e,gdbVersion:t,dataSourceName:n})}};var iX,oX;S([WM({table:"table"})],rX.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],rX.prototype,"workspaceId",void 0),S([To({type:String,json:{write:!0}})],rX.prototype,"gdbVersion",void 0),S([To({type:String,json:{write:!0}})],rX.prototype,"dataSourceName",void 0),rX=nX=S([gs("esri.layers.support.source.TableDataSource")],rX);const sX=uu()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let aX=iX=class extends Hs{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,n){return cX()(e,t,n)}castLeftTableSource(e){return mo(hX(),e)}readRightTableSource(e,t,n){return cX()(e,t,n)}castRightTableSource(e){return mo(hX(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:n,rightTableSource:r,joinType:i}=this,o={leftTableKey:e,rightTableKey:t,leftTableSource:n?.clone()??void 0,rightTableSource:r?.clone()??void 0,joinType:i};return new iX(o)}};S([WM({joinTable:"join-table"})],aX.prototype,"type",void 0),S([To({type:String,json:{write:!0}})],aX.prototype,"leftTableKey",void 0),S([To({type:String,json:{write:!0}})],aX.prototype,"rightTableKey",void 0),S([To({json:{write:!0}})],aX.prototype,"leftTableSource",void 0),S([Cp("leftTableSource")],aX.prototype,"readLeftTableSource",null),S([Dp("leftTableSource")],aX.prototype,"castLeftTableSource",null),S([To({json:{write:!0}})],aX.prototype,"rightTableSource",void 0),S([Cp("rightTableSource")],aX.prototype,"readRightTableSource",null),S([Dp("rightTableSource")],aX.prototype,"castRightTableSource",null),S([WM(sX)],aX.prototype,"joinType",void 0),aX=iX=S([gs("esri.layers.support.source.JoinTableDataSource")],aX);let lX=null;function cX(){return lX||(lX=Lo({types:hX()})),lX}let uX=null;function hX(){return uX||(uX={key:"type",base:null,typeMap:{"data-layer":dX,"map-layer":JY}}),uX}const pX={key:"type",base:null,typeMap:{"join-table":aX,"query-table":QY,raster:tX,table:rX}};let dX=oX=class extends Hs{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new oX({fields:e,dataSource:t})}};S([WM({dataLayer:"data-layer"})],dX.prototype,"type",void 0),S([To({type:[JW],json:{write:!0}})],dX.prototype,"fields",void 0),S([To({types:pX,json:{write:!0}})],dX.prototype,"dataSource",void 0),dX=oX=S([gs("esri.layers.support.source.DataLayerSource")],dX),dX.from=so(dX);let fX=class extends(_v(Hs)){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};S([To({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],fX.prototype,"onFields",void 0),S([To({type:String,json:{write:!0}})],fX.prototype,"operator",void 0),S([To({type:String,json:{write:!0}})],fX.prototype,"searchTerm",void 0),S([To({type:String,json:{write:!0}})],fX.prototype,"searchType",void 0),fX=S([gs("esri.rest.support.FullTextSearch")],fX);const mX=fX;var yX;const gX=new au({upperLeft:"upper-left",lowerLeft:"lower-left"});let vX=yX=class extends Hs{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new yX(_e({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};S([To({type:Gd,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],vX.prototype,"extent",void 0),S([To({type:["view","edit"],json:{write:!0}})],vX.prototype,"mode",void 0),S([To({type:String,json:{read:gX.read,write:gX.write}})],vX.prototype,"originPosition",void 0),S([To({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],vX.prototype,"tolerance",void 0),vX=yX=S([gs("esri.rest.support.QuantizationParameters")],vX);const bX=vX,wX=new au({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var _X;const xX=new au({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let SX=_X=class extends Hs{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=_e(e))}clone(){return new _X({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:_e(this.statisticParameters)})}};S([To({type:Number,json:{write:!0}})],SX.prototype,"maxPointCount",void 0),S([To({type:Number,json:{write:!0}})],SX.prototype,"maxRecordCount",void 0),S([To({type:Number,json:{write:!0}})],SX.prototype,"maxVertexCount",void 0),S([To({type:String,json:{write:!0}})],SX.prototype,"onStatisticField",void 0),S([To({type:String,json:{write:!0}})],SX.prototype,"outStatisticFieldName",void 0),S([To({type:String,json:{read:{source:"statisticType",reader:xX.read},write:{target:"statisticType",writer:xX.write}}})],SX.prototype,"statisticType",void 0),S([To({type:Object})],SX.prototype,"statisticParameters",void 0),S([su("statisticParameters")],SX.prototype,"writeStatisticParameters",null),SX=_X=S([gs("esri.rest.support.StatisticDefinition")],SX);const TX=SX;var EX;const MX=new au({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let AX=EX=class extends Hs{static from(e){return no(EX,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const n={};for(const t in e){const r=e[t];Array.isArray(r)?n[t]=r.map((e=>e instanceof Date?e.getTime():e)):r instanceof Date?n[t]=r.getTime():n[t]=r}t.parameterValues=n}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new EX(_e({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};AX.MAX_MAX_RECORD_COUNT_FACTOR=5,S([To({json:{write:!0}})],AX.prototype,"aggregateIds",void 0),S([To({type:Boolean,json:{write:!0}})],AX.prototype,"cacheHint",void 0),S([To({type:Boolean,json:{default:!1,write:!0}})],AX.prototype,"compactGeometryEnabled",void 0),S([To({json:{write:!0}})],AX.prototype,"datumTransformation",void 0),S([Dp("datumTransformation")],AX.prototype,"castDatumTransformation",null),S([To({type:Boolean,json:{default:!1,write:!0}})],AX.prototype,"defaultSpatialReferenceEnabled",void 0),S([To({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],AX.prototype,"distance",void 0),S([To({type:dX,json:{write:!0}})],AX.prototype,"dynamicDataSource",void 0),S([To({type:String,json:{write:!0}})],AX.prototype,"formatOf3DObjects",void 0),S([To({type:[mX],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],AX.prototype,"fullText",void 0),S([To({type:String,json:{write:!0}})],AX.prototype,"gdbVersion",void 0),S([To({types:wv,json:{read:fv,write:!0}})],AX.prototype,"geometry",void 0),S([To({type:Number,json:{write:!0}})],AX.prototype,"geometryPrecision",void 0),S([To({type:[String],json:{write:!0}})],AX.prototype,"groupByFieldsForStatistics",void 0),S([To({type:String,json:{write:!0}})],AX.prototype,"having",void 0),S([To({type:Date})],AX.prototype,"historicMoment",void 0),S([su("historicMoment")],AX.prototype,"writeHistoricMoment",null),S([To({type:Number,json:{write:!0}})],AX.prototype,"maxAllowableOffset",void 0),S([To({type:Number,cast:e=>e<1?1:e>AX.MAX_MAX_RECORD_COUNT_FACTOR?AX.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],AX.prototype,"maxRecordCountFactor",void 0),S([To({type:["xyFootprint"],json:{write:!0}})],AX.prototype,"multipatchOption",void 0),S([To({type:Number,json:{read:{source:"resultRecordCount"}}})],AX.prototype,"num",void 0),S([To({json:{write:!0}})],AX.prototype,"objectIds",void 0),S([To({type:[String],json:{write:!0}})],AX.prototype,"orderByFields",void 0),S([To({type:[String],json:{write:!0}})],AX.prototype,"outFields",void 0),S([To({type:Ip,json:{name:"outSR",write:!0}})],AX.prototype,"outSpatialReference",void 0),S([To({type:[TX],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],AX.prototype,"outStatistics",void 0),S([To({json:{write:!0}})],AX.prototype,"parameterValues",void 0),S([su("parameterValues")],AX.prototype,"writeParameterValues",null),S([To({type:sd,json:{write:!0}})],AX.prototype,"pixelSize",void 0),S([To({type:bX,json:{write:!0}})],AX.prototype,"quantizationParameters",void 0),S([To({type:[Object],json:{write:!0}})],AX.prototype,"rangeValues",void 0),S([To({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],AX.prototype,"relationParameter",void 0),S([To({type:String,json:{write:!0}})],AX.prototype,"resultType",void 0),S([To({type:Boolean,json:{default:!1,write:!0}})],AX.prototype,"returnCentroid",void 0),S([To({type:Boolean,json:{default:!1,write:!0}})],AX.prototype,"returnDistinctValues",void 0),S([To({type:Boolean,json:{default:!0,write:!0}})],AX.prototype,"returnExceededLimitFeatures",void 0),S([To({type:Boolean,json:{write:!0}})],AX.prototype,"returnGeometry",void 0),S([To({type:Boolean,json:{default:!1,write:!0}})],AX.prototype,"returnQueryGeometry",void 0),S([To({type:Boolean,json:{default:!1,write:!0}})],AX.prototype,"returnM",void 0),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],AX.prototype,"returnZ",void 0),S([To({type:Ip,json:{write:!0}})],AX.prototype,"sourceSpatialReference",void 0),S([WM(wX,{ignoreUnknown:!1,name:"spatialRel"})],AX.prototype,"spatialRelationship",void 0),S([To({type:Number,json:{read:{source:"resultOffset"}}})],AX.prototype,"start",void 0),S([su("start"),su("num")],AX.prototype,"writeStart",null),S([To({type:String,json:{write:!0}})],AX.prototype,"sqlFormat",void 0),S([To({type:String,json:{write:!0}})],AX.prototype,"text",void 0),S([To({type:MH,json:{write:!0}})],AX.prototype,"timeExtent",void 0),S([To({type:Boolean,json:{default:!1,write:!0}})],AX.prototype,"timeReferenceUnknownClient",void 0),S([WM(MX,{ignoreUnknown:!1}),To({json:{write:{overridePolicy(e){return{enabled:!!e&&null!=this.distance&&this.distance>0}}}}})],AX.prototype,"units",void 0),S([To({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||null!=this.start&&this.start>0}}}}})],AX.prototype,"where",void 0),S([su("where")],AX.prototype,"writeWhere",null),AX=EX=S([gs("esri.rest.support.Query")],AX);const IX=AX;var CX;const OX=new au({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),kX=new au({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let RX=CX=class extends Hs{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:n,spatialRelationship:r,timeExtent:i,objectIds:o,units:s,distance:a}=this;return new IX({geometry:_e(n),objectIds:_e(o),spatialRelationship:r,timeExtent:_e(i),where:t,units:s,distance:a,...e})}clone(){const{where:e,geometry:t,spatialRelationship:n,timeExtent:r,objectIds:i,units:o,distance:s}=this;return new CX({geometry:_e(t),objectIds:_e(i),spatialRelationship:n,timeExtent:_e(r),where:e,units:o,distance:s})}};S([To({type:String,json:{write:!0}})],RX.prototype,"where",void 0),S([To({types:wv,json:{write:!0}})],RX.prototype,"geometry",void 0),S([To({type:OX.apiValues,json:{name:"spatialRel",read:{reader:OX.read},write:{allowNull:!1,writer:OX.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],RX.prototype,"spatialRelationship",void 0),S([To({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],RX.prototype,"distance",void 0),S([To({type:[Number],json:{write:!0}})],RX.prototype,"objectIds",void 0),S([To({type:kX.apiValues,json:{read:kX.read,write:{writer:kX.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],RX.prototype,"units",void 0),S([To({type:MH,json:{write:!0}})],RX.prototype,"timeExtent",void 0),RX=CX=S([gs("esri.layers.support.FeatureFilter")],RX);const LX=RX;var NX;const PX={read:{reader:gY},write:{writer:vY,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},DX={read:{reader:gY},write:{writer:vY,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},FX={name:"showExcludedLabels",default:!0};let jX=NX=class extends Hs{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const n=super.write(e,t);if(t?.origin){if(n.filter){const e=Object.keys(n.filter);if(e.length>1||"where"!==e[0])return t.messages?.push(new et("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in n)return t.messages?.push(new et("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return n}clone(){return new NX({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};S([To({type:LX,json:{write:{allowNull:!0,writer(e,t,n,r){const i=e?.write({},r);i&&0!==Object.keys(i).length?Pe(n,i,t):Pe(n,null,t)}}}})],jX.prototype,"filter",void 0),S([To({json:{read:gY,write:{writer:vY,allowNull:!0},origins:{"web-map":PX,"portal-item":PX}}})],jX.prototype,"includedEffect",void 0),S([To({json:{read:gY,write:{writer:vY,allowNull:!0},origins:{"web-map":DX,"portal-item":DX}}})],jX.prototype,"excludedEffect",void 0),S([To({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":FX,"portal-item":FX}}})],jX.prototype,"excludedLabelsVisible",void 0),jX=NX=S([gs("esri.layers.support.FeatureEffect")],jX);const UX=jX,zX={write:{allowNull:!0}},GX={type:UX,json:{origins:{"web-map":zX,"portal-item":zX}}},VX=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return S([To(GX)],t.prototype,"featureEffect",void 0),t=S([gs("esri.layers.mixins.FeatureEffectLayer")],t),t};var BX;const $X=uu()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),HX=$X.jsonValues.slice();U(HX,"orthometric");const WX=uu()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let qX=BX=class extends Hs{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,n){return $X.write(e,t,n)}readHeightModel(e,t,n){return $X.read(e)||(n?.messages&&n.messages.push(YX(e,{context:n})),null)}readHeightUnit(e,t,n){return WX.read(e)||(n?.messages&&n.messages.push(ZX(e,{context:n})),null)}readHeightUnitService(e,t,n){return rp(e)||WX.read(e)||(n?.messages&&n.messages.push(ZX(e,{context:n})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new BX({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const n=op(t);return new BX({heightModel:e.heightModel,heightUnit:n??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new BX;return t.read(e,{origin:"web-scene"}),t}};function ZX(e,t){return new Co("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function YX(e,t){return new Co("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}S([To({type:$X.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:HX,default:"ellipsoidal"}}}})],qX.prototype,"heightModel",void 0),S([su("web-scene","heightModel")],qX.prototype,"writeHeightModel",null),S([Cp(["web-scene","service"],"heightModel")],qX.prototype,"readHeightModel",null),S([To({type:WX.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:WX.jsonValues,write:WX.write}}}})],qX.prototype,"heightUnit",void 0),S([Cp("web-scene","heightUnit")],qX.prototype,"readHeightUnit",null),S([Cp("service","heightUnit")],qX.prototype,"readHeightUnitService",null),S([To({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],qX.prototype,"vertCRS",void 0),S([Cp("service","vertCRS",["vertCRS","ellipsoid","geoid"])],qX.prototype,"readVertCRS",null),qX=BX=S([gs("esri.geometry.HeightModelInfo")],qX);const XX=qX;var JX;let KX=JX=class extends Hs{constructor(e){super(e)}async collectRequiredFields(e,t){return wE(e,t,this.expression)}clone(){return new JX({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};S([To({type:String,json:{write:!0}})],KX.prototype,"expression",void 0),S([To({type:String,json:{write:!0}})],KX.prototype,"title",void 0),KX=JX=S([gs("esri.symbols.support.FeatureExpressionInfo")],KX);const QX=KX;function eJ(e){return 1/(aP[e]||1)}function tJ(){const e=Object.keys(aP);return W(e,"decimal-degrees"),e.sort(),e}const nJ=tJ();var rJ;const iJ=uu()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),oJ=new au({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let sJ=rJ=class extends Hs{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,n,r){t[n]=e.write({},r),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):null!=e||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new rJ({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&wt(this.featureExpressionInfo,e.featureExpressionInfo)}};S([To({type:QX,json:{write:!0}})],sJ.prototype,"featureExpressionInfo",void 0),S([Cp("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],sJ.prototype,"readFeatureExpressionInfo",null),S([su("featureExpressionInfo",{featureExpressionInfo:{type:QX},"featureExpression.value":{type:[0]}})],sJ.prototype,"writeFeatureExpressionInfo",null),S([To({type:iJ.apiValues,nonNullable:!0,json:{type:iJ.jsonValues,read:iJ.read,write:{writer:iJ.write,isRequired:!0}}})],sJ.prototype,"mode",null),S([To({type:Number,json:{write:!0}})],sJ.prototype,"offset",void 0),S([To({type:nJ,json:{type:String,read:oJ.read,write:oJ.write}})],sJ.prototype,"unit",null),sJ=rJ=S([gs("esri.symbols.support.ElevationInfo")],sJ);const aJ=sJ;let lJ=class extends Hs{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};S([To({type:String,json:{write:!0}})],lJ.prototype,"description",void 0),S([To({type:String,json:{write:!0}})],lJ.prototype,"label",void 0),S([To()],lJ.prototype,"type",void 0),lJ=S([gs("esri.tables.elements.AttributeTableElement")],lJ);const cJ=lJ;var uJ;let hJ=uJ=class extends cJ{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new uJ({description:this.description,displayType:this.displayType,label:this.label})}};S([To({type:["auto"],json:{write:!0}})],hJ.prototype,"displayType",void 0),S([To({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],hJ.prototype,"type",void 0),hJ=uJ=S([gs("esri.tables.elements.AttributeTableAttachmentElement")],hJ);const pJ=hJ;var dJ;let fJ=dJ=class extends cJ{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new dJ({description:this.description,fieldName:this.fieldName,label:this.label})}};S([To({type:String,json:{write:!0}})],fJ.prototype,"fieldName",void 0),S([To({type:String,json:{read:!1,write:!0}})],fJ.prototype,"type",void 0),fJ=dJ=S([gs("esri.tables.elements.AttributeTableFieldElement")],fJ);const mJ=fJ;var yJ;let gJ=yJ=class extends cJ{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new yJ({description:this.description,label:this.label,relationshipId:this.relationshipId})}};S([To({type:Number,json:{write:!0}})],gJ.prototype,"relationshipId",void 0),S([To({type:["relationship"],json:{read:!1,write:!0}})],gJ.prototype,"type",void 0),gJ=yJ=S([gs("esri.tables.elements.AttributeTableRelationshipElement")],gJ);const vJ=gJ;function bJ(e){return{typesWithGroup:{base:cJ,key:"type",typeMap:{attachment:pJ,field:mJ,group:e,relationship:vJ}},typesWithoutGroup:{base:cJ,key:"type",typeMap:{attachment:pJ,field:mJ,relationship:vJ}}}}function wJ(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>r[e.type].fromJSON(e)))}function _J(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>e.toJSON()))}function xJ(e,t,n=!0){return e?e.map((e=>mo(n?t.typesWithGroup:t.typesWithoutGroup,e))):null}var SJ;let TJ=SJ=class extends cJ{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return xJ(e,EJ,!1)}readElements(e,t){return wJ(t.attributeTableElements,EJ,!1)}writeElements(e,t){t.attributeTableElements=_J(e,EJ,!1)}clone(){return new SJ({description:this.description,elements:_e(this.elements),label:this.label})}};S([To({json:{write:!0}})],TJ.prototype,"elements",void 0),S([Dp("elements")],TJ.prototype,"castElements",null),S([Cp("elements",["attributeTableElements"])],TJ.prototype,"readElements",null),S([su("elements")],TJ.prototype,"writeElements",null),S([To({type:String,json:{read:!1,write:!0}})],TJ.prototype,"type",void 0),TJ=SJ=S([gs("esri.tables.elements.AttributeTableGroupElement")],TJ);const EJ=bJ(TJ),MJ=TJ;var AJ;const IJ=bJ(MJ);let CJ=AJ=class extends Hs{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return xJ(e,IJ)}readElements(e,t){return wJ(t.attributeTableElements,IJ)}writeElements(e,t){t.attributeTableElements=_J(e,IJ)}clone(){return new AJ({elements:_e(this.elements),orderByFields:this.orderByFields})}};S([To({json:{write:!0}})],CJ.prototype,"elements",void 0),S([Dp("elements")],CJ.prototype,"castElements",null),S([Cp("elements",["attributeTableElements"])],CJ.prototype,"readElements",null),S([su("elements")],CJ.prototype,"writeElements",null),S([To({type:[Object],json:{write:!0}})],CJ.prototype,"orderByFields",void 0),CJ=AJ=S([gs("esri.tables.AttributeTableTemplate")],CJ);const OJ=CJ,kJ={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:lB}}},RJ={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,n){t[n]=!e}}}},LJ={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:lB}}},NJ={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:kf}}},PJ={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:lB}}},DJ={value:null,type:aJ,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:lB}}};function FJ(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const jJ={write:{enabled:!0,layerContainerTypes:lB},read:!0},UJ={type:Number,json:{origins:{"web-document":jJ,"portal-item":{write:!0}}}},zJ={...UJ,json:{...UJ.json,origins:{"web-document":{...jJ,write:{enabled:!0,layerContainerTypes:lB,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,n)=>n&&"service"!==n.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition?.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?HI(t.layerDefinition.drawingInfo.transparency):void 0:HI(t.drawingInfo.transparency)}}},GJ={type:Gd,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const n=Gd.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(n.spatialReference=Ip.fromJSON(t.spatialReference)),n}}}},read:!1}},VJ={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},BJ={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:lB}}},name:"layerDefinition.minScale",write:!0}},$J={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:lB}}},name:"layerDefinition.maxScale",write:!0}},HJ={json:{write:{ignoreOrigin:!0,layerContainerTypes:lB},origins:{"web-map":{read:!1,write:!1}}}},WJ={type:OJ,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}};let qJ=class extends(_v(Hs)){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};S([To()],qJ.prototype,"creatorField",void 0),S([To()],qJ.prototype,"creationDateField",void 0),S([To()],qJ.prototype,"editorField",void 0),S([To()],qJ.prototype,"editDateField",void 0),S([To()],qJ.prototype,"realm",void 0),S([To(ZS("dateFieldsTimeReference",!0))],qJ.prototype,"timeZone",void 0),qJ=S([gs("esri.layers.support.EditFieldsInfo")],qJ);const ZJ=qJ;let YJ=class extends(_v(Hs)){constructor(e){super(e)}};async function XJ(e,t,n){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=QJ(e));const r=JJ(e),i=e.capabilities.query.supportsPagination;t.start=0,t.num=r;let o=null;for(;;){const s=await e.source.queryFeaturesJSON(t,n);if(null==o?o=s:o.features=o.features.concat(s.features),o.exceededTransferLimit=s.exceededTransferLimit,!i||!s.exceededTransferLimit)break;t.start+=r}return o}function JJ(e){return QJ(e)*KJ(e)}function KJ(e){return e.capabilities.query.maxRecordCount||2e3}function QJ(e){return e.capabilities.query.supportsMaxRecordCountFactor?IX.MAX_MAX_RECORD_COUNT_FACTOR:1}var eK;S([To({constructOnly:!0,json:{write:!0}})],YJ.prototype,"name",void 0),S([To({constructOnly:!0,json:{write:!0}})],YJ.prototype,"fields",void 0),S([To({constructOnly:!0,json:{write:!0}})],YJ.prototype,"isAscending",void 0),S([To({constructOnly:!0,json:{write:!0}})],YJ.prototype,"indexType",void 0),S([To({constructOnly:!0,json:{write:!0}})],YJ.prototype,"isUnique",void 0),S([To({constructOnly:!0,json:{write:!0}})],YJ.prototype,"description",void 0),YJ=S([gs("esri.layers.support.FeatureIndex")],YJ);let tK=eK=class extends Hs{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new eK(_e({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};S([To({type:[String],json:{write:!0}})],tK.prototype,"attachmentTypes",void 0),S([To({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],tK.prototype,"attachmentsWhere",void 0),S([To({type:Boolean,json:{write:!0}})],tK.prototype,"cacheHint",void 0),S([To({type:[String],json:{write:!0}})],tK.prototype,"keywords",void 0),S([To({type:[String],json:{write:!0}})],tK.prototype,"globalIds",void 0),S([To({json:{write:!0}})],tK.prototype,"name",void 0),S([To({type:Number,json:{read:{source:"resultRecordCount"}}})],tK.prototype,"num",void 0),S([To({type:[Number],json:{write:!0}})],tK.prototype,"objectIds",void 0),S([To({type:Boolean,json:{default:!1,write:!0}})],tK.prototype,"returnMetadata",void 0),S([To({type:[Number],json:{write:!0}})],tK.prototype,"size",void 0),S([To({type:Number,json:{read:{source:"resultOffset"}}})],tK.prototype,"start",void 0),S([su("start"),su("num")],tK.prototype,"writeStart",null),S([To({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],tK.prototype,"where",void 0),tK=eK=S([gs("esri.rest.support.AttachmentQuery")],tK),tK.from=so(tK);const nK=tK;var rK;let iK=rK=class extends Hs{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(t.definitionExpression="1=1")}clone(){return new rK(_e({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};S([To({type:Boolean,json:{write:!0}})],iK.prototype,"cacheHint",void 0),S([To({type:dX,json:{write:!0}})],iK.prototype,"dynamicDataSource",void 0),S([To({type:String,json:{write:!0}})],iK.prototype,"gdbVersion",void 0),S([To({type:Number,json:{write:!0}})],iK.prototype,"geometryPrecision",void 0),S([To({type:Date})],iK.prototype,"historicMoment",void 0),S([su("historicMoment")],iK.prototype,"_writeHistoricMoment",null),S([To({type:Number,json:{write:!0}})],iK.prototype,"maxAllowableOffset",void 0),S([To({json:{write:!0}})],iK.prototype,"objectIds",void 0),S([To({type:[String],json:{write:!0}})],iK.prototype,"orderByFields",void 0),S([To({type:[String],json:{write:!0}})],iK.prototype,"outFields",void 0),S([To({type:Ip,json:{read:{source:"outSR"},write:{target:"outSR"}}})],iK.prototype,"outSpatialReference",void 0),S([To({json:{write:!0}})],iK.prototype,"relationshipId",void 0),S([To({type:Number,json:{read:{source:"resultOffset"}}})],iK.prototype,"start",void 0),S([su("start"),su("num")],iK.prototype,"writeStart",null),S([To({type:Number,json:{read:{source:"resultRecordCount"}}})],iK.prototype,"num",void 0),S([To({json:{write:!0}})],iK.prototype,"returnGeometry",void 0),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],iK.prototype,"returnM",void 0),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],iK.prototype,"returnZ",void 0),S([To({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],iK.prototype,"where",void 0),iK=rK=S([gs("esri.rest.support.RelationshipQuery")],iK),iK.from=so(iK);const oK=iK,sK=Object.freeze(Object.defineProperty({__proto__:null,default:oK},Symbol.toStringTag,{value:"Module"})),aK=new au({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function lK(e,t,n,r){const i=await OK(e);if(await cK(e,t,r),!i.addAttachment)throw new et(r,"Layer source does not support addAttachment capability");return i.addAttachment(t,n)}function cK(e,t,n){const{attributes:r}=t,{objectIdField:i}=e;return e.capabilities?.data?.supportsAttachment?t?r?i&&r[i]?Promise.resolve():Promise.reject(new et(n,`feature is missing the identifying attribute ${i}`)):Promise.reject(new et(n,"'attributes' are required on a feature to query attachments")):Promise.reject(new et(n,"A feature is required to add/delete/update attachments")):Promise.reject(new et(n,"this layer doesn't support attachments"))}async function uK(e,t,n,r,i){const o=await OK(e);if(await cK(e,t,i),!o.updateAttachment)throw new et(i,"Layer source does not support updateAttachment capability");return o.updateAttachment(t,n,r)}async function hK(e,t,r){const{applyEdits:i}=await n.e(8540).then(n.bind(n,48540)),o=await e.load();let s=r;return"feature"===o.type&&o.infoFor3D&&null!=t.deleteFeatures&&null!=o.globalIdField&&(s={...s,globalIdToObjectId:await FK(o,t.deleteFeatures,o.globalIdField)}),i(o,o.source,t,r)}async function pK(e,t,r){const{uploadAssets:i}=await n.e(8540).then(n.bind(n,48540)),o=await e.load();return i(o,o.source,t,r)}async function dK(e,t,n,r){const i=await OK(e);if(await cK(e,t,r),!i.deleteAttachments)throw new et(r,"Layer source does not support deleteAttachments capability");return i.deleteAttachments(t,n)}async function fK(e,t,n){const r=(await e.load({signal:t?.signal})).source;if(!r.fetchRecomputedExtents)throw new et(n,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(t)}async function mK(e,t,n,r){t=nK.from(t),await e.load();const i=e.source,o=e.capabilities;if(!o?.data?.supportsAttachment)throw new et(r,"this layer doesn't support attachments");const{attachmentTypes:s,objectIds:a,globalIds:l,num:c,size:u,start:h,where:p}=t;if(!o?.operations?.supportsQueryAttachments&&(s?.length>0||l?.length>0||u?.length>0||c||h||p))throw new et(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(a?.length||l?.length||p))throw new et(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!i.queryAttachments)throw new et(r,"Layer source does not support queryAttachments capability",t);return i.queryAttachments(t)}async function yK(e,t,n,r){const i=await OK(e);if(!i.queryObjectIds)throw new et(r,"Layer source does not support queryObjectIds capability");return i.queryObjectIds(IX.from(t)??e.createQuery(),n)}async function gK(e,t,n,r){const i=await OK(e);if(!i.queryFeatureCount)throw new et(r,"Layer source does not support queryFeatureCount capability");return i.queryFeatureCount(IX.from(t)??e.createQuery(),n)}async function vK(e,t,n,r){const i=await OK(e);if(!i.queryExtent)throw new et(r,"Layer source does not support queryExtent capability");return i.queryExtent(IX.from(t)??e.createQuery(),n)}async function bK(e,t,n,r){const i=await OK(e);if(!i.queryRelatedFeatures)throw new et(r,"Layer source does not support queryRelatedFeatures capability");return i.queryRelatedFeatures(oK.from(t),n)}async function wK(e,t,n,r){const i=await OK(e);if(!i.queryRelatedFeaturesCount)throw new et(r,"Layer source does not support queryRelatedFeaturesCount capability");return i.queryRelatedFeaturesCount(oK.from(t),n)}async function _K(e){const t=e.source;if(t?.refresh)try{const{dataChanged:n,updates:r}=await t.refresh();if(null!=r&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),n)return!0}catch{}if(e.definitionExpression)try{return(await Sv(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function xK(e){const t=new IX,n=e.capabilities?.data,r=e.capabilities?.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),n&&(n.supportsZ&&null!=e.returnZ&&(t.returnZ=e.returnZ),n.supportsM&&null!=e.returnM&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:i,timeExtent:o}=e;return t.timeExtent=null!=i&&null!=o?o.offset(-i.value,i.unit):o||null,t.multipatchOption="multipatch"===e.geometryType?"xyFootprint":null,t}function SK(e){const{globalIdField:t,fields:n}=e;if(t)return t;if(n)for(const r of n)if("esriFieldTypeGlobalID"===r.type)return r.name}function TK(e){const{objectIdField:t,fields:n}=e;if(t)return t;if(n)for(const r of n)if("esriFieldTypeOID"===r.type)return r.name}function EK(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function MK(e,t){const{subtypes:n,subtypeField:r}=e;if(!t?.attributes||!n?.length||!r)return null;const i=t.attributes[r];return null==i?null:n.find((e=>e.code===i))}function AK(e,t){const{fieldsIndex:n,subtypeField:r}=e,{name:i,type:o}=n.get(t)??{};if(!i)return null;if((r&&n.get(r)?.name)===i&&e.subtypes?.length){const t=e.subtypes.map((e=>new I$({code:CK(e.code,o),name:e.name})));if(t?.length)return new N$({codedValues:t})}return null}function IK(e,t){const{fieldsIndex:n}=e,{name:r,type:i}=n.get(t)??{};if(!r)return null;if(("typeIdField"in e?n.get(e.typeIdField)?.name:null)===r&&"types"in e&&e.types?.length){const t=e.types.map((e=>new I$({code:CK(e.id,i),name:e.name})));return new N$({codedValues:t})}return null}function CK(e,t){return t?lM({type:t})&&"number"==typeof e?`${e}`:sM({type:t})&&"string"==typeof e?Number.parseInt(e,10):e:e}async function OK(e){return(await e.load()).source}async function kK(e,t){if(!Il||Il.findCredential(e))return;let n;try{const r=await gm(e,t);r&&(n=await Il.checkSignInStatus(`${r}/sharing`))}catch{}if(n)try{const n=null!=t?t.signal:null;await Il.getCredential(e,{signal:n})}catch{}}async function RK(e,t,n){const r=e.parsedUrl?.path;r&&e.authenticationTriggerEvent===t&&await kK(r,n)}function LK(e){return!UK(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const NK=Lo({types:CL});function PK(e,t){if(e.defaultSymbol)return e.types?.length?new $V({defaultSymbol:NK(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map((e=>({id:e.id,symbol:NK(e.symbol,e,t)})))}):new nV({symbol:NK(e.defaultSymbol,e,t)})}function DK(e){let t=e.sourceJSON?.cacheMaxAge;if(!t)return!1;const n=e.editingInfo?.lastEditDate?.getTime();return null==n||(t*=1e3,Date.now()-n<t)}async function FK(e,t,n){if(null==t)return null;const r=[],{objectIdField:i}=e;if(t.forEach((e=>{let t=null;if("attributes"in e){const{attributes:r}=e;t={globalId:r[n],objectId:null!=r[i]&&-1!==r[i]?r[i]:null}}else t={globalId:e.globalId,objectId:null!=e.objectId&&-1!==e.objectId?e.objectId:null};null!=t.globalId&&(null!=t.objectId&&-1!==t.objectId||r.push(t.globalId))})),0===r.length)return null;const o=e.createQuery();o.where=r.map((e=>`${n}='${e}'`)).join(" OR "),o.returnGeometry=!1,o.outFields=[i,n],o.cacheHint=!1;const s=await eu(XJ(e,o));if(!s.ok)return null;const a=new Map,l=s.value.features;for(const c of l){const e=c.attributes[n],t=c.attributes[i];null!=e&&null!=t&&-1!==t&&a.set(NY(e),t)}return a}function jK(e,t,n){if(!t||!n||!e)return null;const r=n.getAttribute(t);return null==r?null:e.find((e=>{const{id:t}=e;return null!=t&&t.toString()===r.toString()}))??null}function UK(e){return e.sourceJSON?.isMultiServicesView||zK(e)}function zK(e){return!!e.sourceJSON?.capabilities?.toLowerCase().split(",").map((e=>e.trim())).includes("map")}function GK(e,t,n){const r=t?.queryBins;if(!r)throw new et(n,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new et(n,"Layer source does not support auto-interval binning");break;case"date":if(!r.supportsDate)throw new et(n,"Layer source does not support date binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new et(n,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new et(n,"Layer source does not support fixed-interval binning")}const i=r?.supportedStatistics;if(e.outStatistics&&i){const t=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:r}of e.outStatistics){const e=t.get(r);if(e&&!i[e])throw new et(n,`Layer source does not support ${r} statistic type`)}}}let VK=class extends(_v(Hs)){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};S([To({type:String,json:{read:{source:"shapeAreaFieldName"}}})],VK.prototype,"shapeAreaField",void 0),S([To({type:String,json:{read:{source:"shapeLengthFieldName"}}})],VK.prototype,"shapeLengthField",void 0),S([To({type:String,json:{read:e=>Sp.read(e)||Tp.read(e)}})],VK.prototype,"units",void 0),VK=S([gs("esri.layers.support.GeometryFieldsInfo")],VK);const BK=VK;var $K;let HK=$K=class extends Hs{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new Rc}clone(){return new $K({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};S([To({type:String,json:{write:!0}})],HK.prototype,"floorField",void 0),S([To({json:{read:!1,write:!1}})],HK.prototype,"viewAllMode",void 0),S([To({json:{read:!1,write:!1}})],HK.prototype,"viewAllLevelIds",void 0),HK=$K=S([gs("esri.layers.support.LayerFloorInfo")],HK);const WK=HK,qK=new au({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),ZK=new au({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let YK=class extends(_v(Hs)){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};S([To({json:{read:qK.read,write:qK.write}})],YK.prototype,"cardinality",void 0),S([To({json:{read:!0,write:!0}})],YK.prototype,"composite",void 0),S([To({json:{read:!0,write:!0}})],YK.prototype,"id",void 0),S([To({json:{read:!0,write:!0}})],YK.prototype,"keyField",void 0),S([To({json:{read:!0,write:!0}})],YK.prototype,"keyFieldInRelationshipTable",void 0),S([To({json:{read:!0,write:!0}})],YK.prototype,"name",void 0),S([To({json:{read:!0,write:!0}})],YK.prototype,"relatedTableId",void 0),S([To({json:{read:!0,write:!0}})],YK.prototype,"relationshipTableId",void 0),S([To({json:{read:ZK.read,write:ZK.write}})],YK.prototype,"role",void 0),YK=S([gs("esri.layers.support.Relationship")],YK);const XK=YK;function JK(e,t,n){return!!QK(e,t,n)}function KK(e,t,n){return QK(e,t,n)}function QK(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}const eQ={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function tQ(e){const t=e?.supportedSpatialAggregationStatistics?.map((e=>e.toLowerCase()));return{envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function nQ(e,t){return!!e?.supportedOperationsWithCacheHint?.map((e=>e.toLowerCase()))?.includes(t.toLowerCase())}function rQ(e){const t=e?.supportedStatisticTypes?.map((e=>e.toLowerCase()));return{count:!!t?.includes("count"),sum:!!t?.includes("sum"),min:!!t?.includes("min"),max:!!t?.includes("max"),avg:!!t?.includes("avg"),var:!!t?.includes("var"),stddev:!!t?.includes("stddev"),percentileContinuous:!!t?.includes("percentile_continuous"),percentileDiscrete:!!t?.includes("percentile_discrete"),envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function iQ(e,t){return{analytics:oQ(e),attachment:sQ(e),data:aQ(e),metadata:lQ(e),operations:cQ(e.capabilities,e,t),query:uQ(e,t),queryBins:dQ(e),queryRelated:hQ(e),queryTopFeatures:pQ(e),editing:fQ(e)}}function oQ(e){return{supportsCacheHint:nQ(e.advancedQueryCapabilities,"queryAnalytics")}}function sQ(e){const t=e.attachmentProperties,n={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:nQ(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:JK(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach((e=>{const t=eQ[e.name];t&&(n[t]=!!e.isEnabled)})),n}function aQ(e){return{isVersioned:JK(e,"isDataVersioned",!1),isBranchVersioned:JK(e,"isDataBranchVersioned",!1),supportsAttachment:JK(e,"hasAttachments",!1),supportsM:JK(e,"hasM",!1),supportsZ:JK(e,"hasZ",!1)}}function lQ(e){return{supportsAdvancedFieldProperties:JK(e,"supportsFieldDescriptionProperty",!1)}}function cQ(e,t,n){const r=e?e.toLowerCase().split(",").map((e=>e.trim())):[],i=n?pq(n):null,o=r.includes(null!=i&&"MapServer"===i.serverType?"data":"query"),s=r.includes("editing")&&!t.datesInUnknownTimezone;let a=s&&r.includes("create"),l=s&&r.includes("delete"),c=s&&r.includes("update");const u=r.includes("changetracking"),h=t.advancedQueryCapabilities;return s&&!(a||l||c)&&(a=l=c=!0),{supportsCalculate:JK(t,"supportsCalculate",!1),supportsTruncate:JK(t,"supportsTruncate",!1),supportsValidateSql:JK(t,"supportsValidateSql",!1),supportsAdd:a,supportsDelete:l,supportsEditing:s,supportsChangeTracking:u,supportsQuery:o,supportsQueryAnalytics:JK(h,"supportsQueryAnalytic",!1),supportsQueryAttachments:JK(h,"supportsQueryAttachments",!1),supportsQueryBins:JK(h,"supportsQueryBins",!1),supportsQueryTopFeatures:JK(h,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:JK(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:c,supportsExceedsLimitStatistics:JK(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:JK(t,"supportsAsyncConvert3D",!1)}}function uQ(e,t){const n=e.advancedQueryCapabilities,r=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,o=e.currentVersion,s=t?.includes("MapServer"),a=!s||o>=A("mapserver-pbf-version-support"),l=yq(t),c=new Set((e.supportedQueryFormats??"").split(",").map((e=>e.toLowerCase().trim())));return{maxRecordCount:KK(e,"maxRecordCount",void 0),maxRecordCountFactor:KK(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:KK(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:tQ(n),supportsCacheHint:JK(n,"supportsQueryWithCacheHint",!1)||nQ(n,"query"),supportsCentroid:JK(n,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:l,supportsDefaultSpatialReference:JK(n,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:JK(n,"supportsDisjointSpatialRel",!1),supportsDistance:JK(n,"supportsQueryWithDistance",!1),supportsDistinct:JK(n,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:JK(n,"supportsReturningQueryExtent",!1),supportsFormatPBF:a&&c.has("pbf"),supportsFullTextSearch:JK(n,"supportsFullTextSearch",!1),supportsGeometryProperties:JK(n,"supportsReturningGeometryProperties",!1),supportsHavingClause:JK(n,"supportsHavingClause",!1),supportsHistoricMoment:JK(i,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:JK(n,"supportsMaxRecordCountFactor",!1),supportsOrderBy:JK(n,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:JK(n,"supportsPagination",!1),supportsPercentileStatistics:JK(n,"supportsPercentileStatistics",!1),supportsQuantization:JK(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:JK(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:JK(r,"allowAnonymousToQuery",!0),supportsQueryByOthers:JK(r,"allowOthersToQuery",!0),supportsQueryGeometry:JK(e,"supportsReturningQueryGeometry",!1),supportsResultType:JK(n,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:JK(n,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:JK(n,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:JK(e,"useStandardizedQueries",!1),supportsStatistics:JK(n,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:JK(n,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:KK(e,"tileMaxRecordCount",void 0)}}function hQ(e){const t=e.advancedQueryCapabilities,n=JK(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:JK(t,"supportsQueryRelatedPagination",!1),supportsCount:n,supportsOrderBy:n,supportsCacheHint:nQ(t,"queryRelated")}}function pQ(e){return{supportsCacheHint:nQ(e.advancedQueryCapabilities,"queryTopFilter")}}function dQ(e){const t=e?e.queryBinsCapabilities:void 0;return{supportsDate:JK(t,"supportsDateBin",!1),supportsFixedInterval:JK(t,"supportsFixedIntervalBin",!1),supportsAutoInterval:JK(t,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:JK(t,"supportsFixedBoundariesBin",!1),supportedStatistics:rQ(t)}}function fQ(e){const t=e.ownershipBasedAccessControlForFeatures,n=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:JK(e,"allowGeometryUpdates",!0),supportsGlobalId:JK(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:JK(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:JK(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:JK(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:JK(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:JK(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:JK(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:JK(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:JK(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:JK(n,"supportsAsyncApplyEdits",!1),zDefault:KK(e,"zDefault",void 0)}}function mQ(e){return{operations:{supportsAppend:JK(e,"supportsAppend",!1),supportsCoverageQuery:e?.playbackInfo?.klv["0601"]??!1,supportsExportClip:JK(e,"supportsExportClip",!1),supportsExportFrameset:JK(e,"supportsExportFrameset",!1),supportsMensuration:JK(e,"supportsMensuration",!1),supportsUpdate:JK(e,"supportsUpdate",!1)}}}let yQ=class extends(_v(Hs)){constructor(e){super(e),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(e){if(!e)return null;const t={};for(const n of Object.keys(e))t[n]=V$(e[n]);return t}writeDomains(e,t){if(!e)return;const n={};for(const r of Object.keys(e))e[r]&&(n[r]=e[r]?.toJSON());t.domains=n}};S([To({type:Number,json:{write:!0}})],yQ.prototype,"code",void 0),S([To({type:Object,json:{write:!0}})],yQ.prototype,"defaultValues",void 0),S([To({json:{write:!0}})],yQ.prototype,"domains",void 0),S([Cp("domains")],yQ.prototype,"readDomains",null),S([su("domains")],yQ.prototype,"writeDomains",null),S([To({type:String,json:{write:!0}})],yQ.prototype,"name",void 0),yQ=S([gs("esri.layers.support.Subtype")],yQ);const gQ=yQ,vQ=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(Rc.ofType(YJ)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=Ip.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:e}=this;if(e){const{query:t,operations:n,editing:r}=e;if(!t.supportsQueryByOthers||!t.supportsQueryByAnonymous||n.supportsEditing&&!(r.supportsUpdateByOthers&&r.supportsUpdateByAnonymous&&r.supportsDeleteByOthers&&r.supportsDeleteByAnonymous))return"load"}if(this.serviceDefinitionExpression?.toLowerCase().includes("current_user"))return"load";if(this.userHasUpdateItemPrivileges){if(DK(this))return"load";if(this.hasUpdateItemRestrictions)return e.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const t=this.editFieldsInfo;return(t?.creatorField||t?.editorField)&&e?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(e,t){return iQ(t,this.url)}readEditingInfo(e,t){const{editingInfo:n}=t;return n?{lastEditDate:null!=n.lastEditDate?new Date(n.lastEditDate):null}:null}get effectiveCapabilities(){const e=this.capabilities;if(!e)return null;const t=_e(e),{operations:n,editing:r}=t;return UK(this)?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),t):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=r.supportsDeleteByOthers=r.supportsGeometryUpdate=r.supportsUpdateByOthers=!0,t):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=r.supportsGeometryUpdate=!0),t)}readGlobalIdFieldFromService(e,t){return SK(t)}get hasFullEditingRestrictions(){const e=this.capabilities;if(!e||UK(this))return!1;const{operations:t,editing:n}=e;return t.supportsEditing&&!(t.supportsAdd&&t.supportsDelete&&t.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const e=this.capabilities;if(!e)return!1;const{operations:t,editing:n}=e;return UK(this)?!t.supportsQuery:!(t.supportsAdd&&t.supportsDelete&&t.supportsEditing&&t.supportsQuery&&t.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(e,t){return"Table"===t.type}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readMinScale(e,t){return t.effectiveMinScale||e||0}readObjectIdFieldFromService(e,t){return TK(t)}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}set url(e){if(null==e)return void this._set("url",e);const t=vq({layer:this,url:e,nonStandardUrlAllowed:!0,logger:Ye.getLogger(this)});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}writeUrl(e,t,n,r){bq(this,e,null,t,r)}readVersion(e,t){return EK(t)}};return S([To({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),S([To({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),S([To({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),S([Cp("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),S([To(ZS("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),S([To({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),S([To({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),S([To({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),S([To({readOnly:!0,type:ZJ})],t.prototype,"editFieldsInfo",void 0),S([To({readOnly:!0})],t.prototype,"editingInfo",void 0),S([Cp("editingInfo")],t.prototype,"readEditingInfo",null),S([To({readOnly:!0})],t.prototype,"effectiveCapabilities",null),S([To((()=>{const e=_e(DJ),t=e.json.origins;return t["web-map"]={read:!1,write:!1},t["portal-item"]={read:!1,write:!1},e})())],t.prototype,"elevationInfo",void 0),S([To({type:WK,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:lB}}}}})],t.prototype,"floorInfo",void 0),S([To({type:Gd,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),S([To()],t.prototype,"gdbVersion",void 0),S([To({readOnly:!0,type:BK,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),S([To({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:aK.read}}}})],t.prototype,"geometryType",void 0),S([To({type:String})],t.prototype,"globalIdField",void 0),S([Cp("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),S([To({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),S([To({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),S([To({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),S([To({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),S([To({readOnly:!0,type:XX})],t.prototype,"heightModelInfo",void 0),S([To({type:Date})],t.prototype,"historicMoment",void 0),S([To({type:Rc.ofType(YJ),readOnly:!0})],t.prototype,"indexes",void 0),S([To({readOnly:!0})],t.prototype,"isTable",void 0),S([Cp("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),S([To({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),S([To($J)],t.prototype,"maxScale",void 0),S([Cp("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),S([To(BJ)],t.prototype,"minScale",void 0),S([Cp("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),S([To({type:String})],t.prototype,"objectIdField",void 0),S([Cp("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),S([To(ZS("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),S([To({type:[XK],readOnly:!0})],t.prototype,"relationships",void 0),S([To({type:Boolean})],t.prototype,"returnM",void 0),S([To({type:Boolean})],t.prototype,"returnZ",void 0),S([To({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),S([To({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),S([Cp("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),S([To({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),S([To()],t.prototype,"sourceJSON",void 0),S([To({type:Ip,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),S([To({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),S([To({type:[gQ],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),S([To({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),S([To(NJ)],t.prototype,"url",null),S([su("url")],t.prototype,"writeUrl",null),S([To({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),S([Cp("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=S([gs("esri.layers.mixins.FeatureLayerBase")],t),t};let bQ=class extends(_v(Hs)){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};S([To({type:String,json:{write:!0}})],bQ.prototype,"expression",void 0),S([To({type:String,json:{write:!0}})],bQ.prototype,"title",void 0),S([To({type:String,json:{write:!0}})],bQ.prototype,"returnType",void 0),bQ=S([gs("esri.layers.support.ExpressionInfo")],bQ);const wQ=bQ;var _Q;let xQ=_Q=class extends Hs{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new _Q({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:_e(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};S([To({type:Boolean,json:{write:!0}})],xQ.prototype,"isAutoGenerated",void 0),S([To({type:String,json:{write:!0}})],xQ.prototype,"name",void 0),S([To({type:String,json:{write:!0}})],xQ.prototype,"alias",void 0),S([To({type:String,json:{write:!0}})],xQ.prototype,"onStatisticField",void 0),S([To({type:wQ,json:{write:!0}})],xQ.prototype,"onStatisticExpression",void 0),S([To({type:String,json:{write:!0}})],xQ.prototype,"statisticType",void 0),xQ=_Q=S([gs("esri.layers.support.AggregateField")],xQ);const SQ=xQ;let TQ=class extends Hs{constructor(){super(...arguments),this.type=null}};S([To({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],TQ.prototype,"type",void 0),TQ=S([gs("esri.layers.support.FeatureReduction")],TQ);const EQ="__begin__",MQ="__end__",AQ=new RegExp(EQ,"ig"),IQ=new RegExp(MQ,"ig"),CQ=new RegExp("^"+EQ,"i"),OQ=new RegExp(MQ+"$","i"),kQ='"',RQ=kQ+" + ",LQ=" + "+kQ;function NQ(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function PQ(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function DQ(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=NQ(e.labelExpression),t.type="conventional"),t}function FQ(e){const t=DQ(e);if(!t)return null;switch(t.type){case"conventional":return UQ(t.expression);case"arcade":return t.expression}return null}function jQ(e){const t=DQ(e);if(!t)return null;switch(t.type){case"conventional":return GQ(t.expression);case"arcade":return HQ(t.expression)}return null}function UQ(e){let t;return e?(t=Ve(e,(e=>EQ+'$feature["'+e+'"]'+MQ)),t=CQ.test(t)?t.replace(CQ,""):kQ+t,t=OQ.test(t)?t.replace(OQ,""):t+kQ,t=t.replaceAll(AQ,RQ).replaceAll(IQ,LQ)):t='""',t}const zQ=/^\s*\{([^}]+)\}\s*$/i;function GQ(e){return e?.match(zQ)?.[1].trim()||null}const VQ=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,BQ=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,$Q=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function HQ(e){if(!e)return null;let t=VQ.exec(e)||BQ.exec(e);return t?t[1]||t[3]:(t=$Q.exec(e),t?t[2]:null)}var WQ;let qQ=WQ=class extends Hs{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?UQ(t.value):e}writeExpression(e,t,n){null!=this.value&&(e=UQ(this.value)),null!=e&&(t[n]=e)}clone(){return new WQ({expression:this.expression,title:this.title,value:this.value})}};S([To({type:String,json:{write:{writerEnsuresNonNull:!0}}})],qQ.prototype,"expression",void 0),S([Cp("expression",["expression","value"])],qQ.prototype,"readExpression",null),S([su("expression")],qQ.prototype,"writeExpression",null),S([To({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],qQ.prototype,"title",void 0),S([To({json:{read:!1,write:!1}})],qQ.prototype,"value",void 0),qQ=WQ=S([gs("esri.layers.support.LabelExpressionInfo")],qQ);const ZQ=qQ;var YQ;const XQ=new au({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function JQ(e,t,n){return{enabled:!fm(n?.layer)}}function KQ(e){return!e||"service"!==e.origin&&"map-image"!==e.layer?.type}function QQ(e){return"map-image"===e?.type}function e0(e){return!!QQ(e)&&!!e.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}function t0(e){return KQ(e)||e0(e?.layer)}let n0=YQ=class extends Hs{static evaluateWhere(e,t){const n=(e,t,n)=>{switch(t){case"=":return e==n;case"<>":return e!=n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}return!1};try{if(null==e)return!0;const r=e.split(" ");if(3===r.length)return n(t[r[0]],r[1],r[2]);if(7===r.length){const e=n(t[r[0]],r[1],r[2]),i=r[3],o=n(t[r[4]],r[5],r[6]);switch(i){case"AND":return e&&o;case"OR":return e||o}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=iD,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const n=t.labelExpressionInfo;if(!n||!n.value&&!n.expression)return e}writeLabelExpression(e,t,n){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=PQ(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const t=HQ(this.labelExpressionInfo.expression);t&&(e="["+t+"]")}null!=e&&(t[n]=e)}writeLabelExpressionInfo(e,t,n,r){if(null==e&&null!=this.labelExpression&&KQ(r))e=new ZQ({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(r);i.expression&&(t[n]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return DQ(this)}getLabelExpressionArcade(){return FQ(this)}getLabelExpressionSingleField(){return jQ(this)}hash(){return JSON.stringify(this)}clone(){return new YQ({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:_e(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:_e(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};S([To({type:String,json:{write:!0}})],n0.prototype,"name",void 0),S([To({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:JQ}}}}})],n0.prototype,"allowOverrun",void 0),S([To({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:JQ}}}}})],n0.prototype,"deconflictionStrategy",void 0),S([To({type:String,json:{write:{overridePolicy(e,t,n){return this.labelExpressionInfo&&"service"===n?.origin&&e0(n.layer)?{enabled:!1}:{allowNull:!0}}}}})],n0.prototype,"labelExpression",void 0),S([Cp("labelExpression")],n0.prototype,"readLabelExpression",null),S([su("labelExpression")],n0.prototype,"writeLabelExpression",null),S([To({type:ZQ,json:{write:{overridePolicy:(e,t,n)=>t0(n)?{allowNull:!0}:{enabled:!1}}}})],n0.prototype,"labelExpressionInfo",void 0),S([su("labelExpressionInfo")],n0.prototype,"writeLabelExpressionInfo",null),S([To({type:XQ.apiValues,json:{type:XQ.jsonValues,read:XQ.read,write:XQ.write}})],n0.prototype,"labelPlacement",void 0),S([To({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],n0.prototype,"labelPosition",void 0),S([To({type:Number})],n0.prototype,"maxScale",void 0),S([su("maxScale")],n0.prototype,"writeMaxScale",null),S([To({type:Number})],n0.prototype,"minScale",void 0),S([su("minScale")],n0.prototype,"writeMinScale",null),S([To({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:JQ}}}}})],n0.prototype,"repeatLabel",void 0),S([To({type:Number,cast:jI,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:JQ}}}}})],n0.prototype,"repeatLabelDistance",void 0),S([To({types:OL,json:{origins:{"web-scene":{types:RL,write:mD,default:null}},write:mD,default:null}})],n0.prototype,"symbol",void 0),S([To({type:Boolean,json:{write:!0}})],n0.prototype,"useCodedValues",void 0),S([To({type:String,json:{write:!0}})],n0.prototype,"where",void 0),n0=YQ=S([gs("esri.layers.support.LabelClass")],n0);const r0=n0;var i0;let o0=i0=class extends TQ{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=jI("12px"),this.fields=[],this.renderer=null}writeFields(e,t,n){const r=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));Pe(n,r,t)}readRenderer(e,t,n){const r=t.drawingInfo?.renderer;return r?QV(r,t,n)??void 0:PK(t,n)}clone(){return new i0({fields:_e(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:_e(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:_e(this.popupTemplate),renderer:_e(this.renderer),binType:_e(this.binType),size:this.size})}};S([WM({binning:"binning"})],o0.prototype,"type",void 0),S([WM({geohash:"geohash",square:"square"}),To({type:["geohash","square"]})],o0.prototype,"binType",void 0),S([To({type:Number,json:{write:!0}})],o0.prototype,"fixedBinLevel",void 0),S([To({type:[r0],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],o0.prototype,"labelingInfo",void 0),S([To(LJ)],o0.prototype,"labelsVisible",void 0),S([To({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],o0.prototype,"maxScale",void 0),S([To(RJ)],o0.prototype,"popupEnabled",void 0),S([To({type:SI,json:{name:"popupInfo",write:!0}})],o0.prototype,"popupTemplate",void 0),S([To({cast:e=>"auto"===e?e:Wi(jI(e))})],o0.prototype,"size",void 0),S([To({type:[SQ],json:{write:!0}})],o0.prototype,"fields",void 0),S([su("fields")],o0.prototype,"writeFields",null),S([To({types:HV,json:{write:{target:"drawingInfo.renderer"}}})],o0.prototype,"renderer",void 0),S([Cp("renderer",["drawingInfo.renderer"])],o0.prototype,"readRenderer",null),o0=i0=S([gs("esri.layers.support.FeatureReductionBinning")],o0);const s0=o0;var a0;function l0(e){return"simple"===e.type&&!e.visualVariables?.length}let c0=a0=class extends Hs{constructor(e){super(e),this.type="cluster",this.clusterRadius=jI("80px"),this.clusterMinSize=jI("12px"),this.clusterMaxSize=jI("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,n){const r=t.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r?l0(r)?null:QV(r,t,n)??void 0:PK(t,n)}readSymbol(e,t,n){const r=t.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r&&l0(r)?QV(r,t,n)?.symbol:null}writeSymbol(e,t,n,r){const i=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||i){const n=new nV({symbol:e});t.drawingInfo={renderer:n.write({},r)}}}writeFields(e,t,n){const r=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));Pe(n,r,t)}readFields(e,t,n){return e.filter((e=>!e.isAutoGenerated)).map((e=>SQ.fromJSON(e)))}clone(){return new a0({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:_e(this.labelingInfo),labelsVisible:this.labelsVisible,fields:_e(this.fields),maxScale:this.maxScale,renderer:_e(this.renderer),symbol:_e(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:_e(this.popupTemplate)})}};S([To({type:["cluster"],readOnly:!0,json:{write:!0}})],c0.prototype,"type",void 0),S([To({cast:e=>"auto"===e?e:Wi(jI(e)),json:{write:!0}})],c0.prototype,"clusterRadius",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],c0.prototype,"clusterMinSize",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],c0.prototype,"clusterMaxSize",void 0),S([To({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],c0.prototype,"maxScale",void 0),S([To(RJ)],c0.prototype,"popupEnabled",void 0),S([To({type:SI,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],c0.prototype,"popupTemplate",void 0),S([To({types:HV,json:{write:{target:"drawingInfo.renderer"}}})],c0.prototype,"renderer",void 0),S([Cp("renderer",["drawingInfo.renderer"])],c0.prototype,"readRenderer",null),S([To({types:AL})],c0.prototype,"symbol",void 0),S([Cp("symbol",["drawingInfo.renderer"])],c0.prototype,"readSymbol",null),S([su("symbol")],c0.prototype,"writeSymbol",null),S([To({type:[r0],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],c0.prototype,"labelingInfo",void 0),S([To(LJ)],c0.prototype,"labelsVisible",void 0),S([To({type:[SQ],json:{write:!0}})],c0.prototype,"fields",void 0),S([su("fields")],c0.prototype,"writeFields",null),S([Cp("fields")],c0.prototype,"readFields",null),c0=a0=S([gs("esri.layers.support.FeatureReductionCluster")],c0);const u0=c0;var h0;let p0=h0=class extends TQ{constructor(e){super(e),this.type="selection"}clone(){return new h0}};S([To({type:["selection"]})],p0.prototype,"type",void 0),p0=h0=S([gs("esri.layers.support.FeatureReductionSelection")],p0);const d0=p0,f0={key:"type",base:TQ,typeMap:{cluster:u0,binning:s0}},m0={types:{key:"type",base:TQ,typeMap:{selection:d0,cluster:u0,binning:s0}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:f0},"portal-item":{types:f0},"web-scene":{types:{key:"type",base:TQ,typeMap:{selection:d0}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:lB}}}}},y0={Base64:0,Hex:1,String:2,Raw:3},g0=8,v0=(1<<g0)-1;function b0(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function w0(e){const t=[];for(let n=0,r=e.length*g0;n<r;n+=g0)t[n>>5]|=(e.charCodeAt(n/g0)&v0)<<n%32;return t}function _0(e){const t=[];for(let n=0,r=32*e.length;n<r;n+=g0)t.push(String.fromCharCode(e[n>>5]>>>n%32&v0));return t.join("")}function x0(e){const t="0123456789abcdef",n=[];for(let r=0,i=4*e.length;r<i;r++)n.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return n.join("")}function S0(e){const t="=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let i=0,o=4*e.length;i<o;i+=3){const o=(e[i>>2]>>i%4*8&255)<<16|(e[i+1>>2]>>(i+1)%4*8&255)<<8|e[i+2>>2]>>(i+2)%4*8&255;for(let s=0;s<4;s++)8*i+6*s>32*e.length?r.push(t):r.push(n.charAt(o>>6*(3-s)&63))}return r.join("")}function T0(e,t){return e<<t|e>>>32-t}function E0(e,t,n,r,i,o){return b0(T0(b0(b0(t,e),b0(r,o)),i),n)}function M0(e,t,n,r,i,o,s){return E0(t&n|~t&r,e,t,i,o,s)}function A0(e,t,n,r,i,o,s){return E0(t&r|n&~r,e,t,i,o,s)}function I0(e,t,n,r,i,o,s){return E0(t^n^r,e,t,i,o,s)}function C0(e,t,n,r,i,o,s){return E0(n^(t|~r),e,t,i,o,s)}function O0(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let n=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let s=0;s<e.length;s+=16){const t=n,a=r,l=i,c=o;n=M0(n,r,i,o,e[s],7,-680876936),o=M0(o,n,r,i,e[s+1],12,-389564586),i=M0(i,o,n,r,e[s+2],17,606105819),r=M0(r,i,o,n,e[s+3],22,-1044525330),n=M0(n,r,i,o,e[s+4],7,-176418897),o=M0(o,n,r,i,e[s+5],12,1200080426),i=M0(i,o,n,r,e[s+6],17,-1473231341),r=M0(r,i,o,n,e[s+7],22,-45705983),n=M0(n,r,i,o,e[s+8],7,1770035416),o=M0(o,n,r,i,e[s+9],12,-1958414417),i=M0(i,o,n,r,e[s+10],17,-42063),r=M0(r,i,o,n,e[s+11],22,-1990404162),n=M0(n,r,i,o,e[s+12],7,1804603682),o=M0(o,n,r,i,e[s+13],12,-40341101),i=M0(i,o,n,r,e[s+14],17,-1502002290),r=M0(r,i,o,n,e[s+15],22,1236535329),n=A0(n,r,i,o,e[s+1],5,-165796510),o=A0(o,n,r,i,e[s+6],9,-1069501632),i=A0(i,o,n,r,e[s+11],14,643717713),r=A0(r,i,o,n,e[s],20,-373897302),n=A0(n,r,i,o,e[s+5],5,-701558691),o=A0(o,n,r,i,e[s+10],9,38016083),i=A0(i,o,n,r,e[s+15],14,-660478335),r=A0(r,i,o,n,e[s+4],20,-405537848),n=A0(n,r,i,o,e[s+9],5,568446438),o=A0(o,n,r,i,e[s+14],9,-1019803690),i=A0(i,o,n,r,e[s+3],14,-187363961),r=A0(r,i,o,n,e[s+8],20,1163531501),n=A0(n,r,i,o,e[s+13],5,-1444681467),o=A0(o,n,r,i,e[s+2],9,-51403784),i=A0(i,o,n,r,e[s+7],14,1735328473),r=A0(r,i,o,n,e[s+12],20,-1926607734),n=I0(n,r,i,o,e[s+5],4,-378558),o=I0(o,n,r,i,e[s+8],11,-2022574463),i=I0(i,o,n,r,e[s+11],16,1839030562),r=I0(r,i,o,n,e[s+14],23,-35309556),n=I0(n,r,i,o,e[s+1],4,-1530992060),o=I0(o,n,r,i,e[s+4],11,1272893353),i=I0(i,o,n,r,e[s+7],16,-155497632),r=I0(r,i,o,n,e[s+10],23,-1094730640),n=I0(n,r,i,o,e[s+13],4,681279174),o=I0(o,n,r,i,e[s],11,-358537222),i=I0(i,o,n,r,e[s+3],16,-722521979),r=I0(r,i,o,n,e[s+6],23,76029189),n=I0(n,r,i,o,e[s+9],4,-640364487),o=I0(o,n,r,i,e[s+12],11,-421815835),i=I0(i,o,n,r,e[s+15],16,530742520),r=I0(r,i,o,n,e[s+2],23,-995338651),n=C0(n,r,i,o,e[s],6,-198630844),o=C0(o,n,r,i,e[s+7],10,1126891415),i=C0(i,o,n,r,e[s+14],15,-1416354905),r=C0(r,i,o,n,e[s+5],21,-57434055),n=C0(n,r,i,o,e[s+12],6,1700485571),o=C0(o,n,r,i,e[s+3],10,-1894986606),i=C0(i,o,n,r,e[s+10],15,-1051523),r=C0(r,i,o,n,e[s+1],21,-2054922799),n=C0(n,r,i,o,e[s+8],6,1873313359),o=C0(o,n,r,i,e[s+15],10,-30611744),i=C0(i,o,n,r,e[s+6],15,-1560198380),r=C0(r,i,o,n,e[s+13],21,1309151649),n=C0(n,r,i,o,e[s+4],6,-145523070),o=C0(o,n,r,i,e[s+11],10,-1120210379),i=C0(i,o,n,r,e[s+2],15,718787259),r=C0(r,i,o,n,e[s+9],21,-343485551),n=b0(n,t),r=b0(r,a),i=b0(i,l),o=b0(o,c)}return[n,r,i,o]}function k0(e,t=y0.Hex){const n=t||y0.Base64,r=O0(w0(e),e.length*g0);switch(n){case y0.Raw:return r;case y0.Hex:return x0(r);case y0.String:return _0(r);case y0.Base64:return S0(r)}}const R0=()=>Ye.getLogger("esri.views.2d.layers.support.clusterUtils");A.add("esri-cluster-arcade-enabled",!0);const L0=A("esri-cluster-arcade-enabled"),N0=new Set(["simple-line","simple-fill","picture-fill"]);function P0(e,t){let n=t.clone();if(!D0(n))return n;if(t.getSymbols().some((e=>N0.has(e.type)))&&(n=new nV({symbol:new fL})),n.authoringInfo||(n.authoringInfo=new _N),n.authoringInfo.isAutoGenerated=!0,"visualVariables"in n){const t=(n.visualVariables||[]).filter((e=>"$view.scale"!==e.valueExpression));t.forEach((t=>{"rotation"===t.type?t.field?t.field=U0(e,t.field,"avg_angle","number"):t.valueExpression&&(t.field=j0(e,t.valueExpression,"avg_angle","number"),t.valueExpression=null):t.normalizationField?(t.field=U0(e,t.field,"avg_norm","number",t.normalizationField),t.normalizationField=null):t.field?t.field=U0(e,t.field,"avg","number"):t.valueExpression&&(t.field=j0(e,t.valueExpression,"avg","number"),t.valueExpression=null)})),n.visualVariables=t}switch(n.type){case"simple":break;case"pie-chart":for(const t of n.attributes)t.field?t.field=U0(e,t.field,"sum","number"):t.valueExpression&&(t.field=j0(e,t.valueExpression,"sum","number"),t.valueExpression=null);break;case"unique-value":n.field?n.field=U0(e,n.field,"mode","string"):n.valueExpression&&(n.field=j0(e,n.valueExpression,"mode","string"),n.valueExpression=null);break;case"class-breaks":n.normalizationField?(n.field=U0(e,n.field,"avg_norm","number",n.normalizationField),n.normalizationField=null):n.field?n.field=U0(e,n.field,"avg","number"):n.valueExpression&&(n.field=j0(e,n.valueExpression,"avg","number"),n.valueExpression=null)}return n}const D0=e=>{const t=t=>R0().error(new et("Unsupported-renderer",t,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const n=e.normalizationType;if("field"!==n)return t(`FeatureReductionCluster does not support a normalizationType of ${n}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!L0){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some((e=>!(!("valueExpression"in e)||!e.valueExpression))))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function F0(e,t,n){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const e=n,r="field",i=t.toLowerCase()+",norm:"+r+","+e.toLowerCase();return"cluster_avg_"+k0(i)}}}function j0(e,t,n,r){const i=k0(t),o="mode"===n?`cluster_type_${i}`:"sum"===n?`cluster_sum_${i}`:`cluster_avg_${i}`;return e.some((e=>e.name===o))||e.push(new SQ({name:o,isAutoGenerated:!0,onStatisticExpression:new wQ({expression:t,returnType:r}),statisticType:n})),o}function U0(e,t,n,r,i){if("cluster_count"===t||e.some((e=>e.name===t)))return t;const o=F0(n,t,i);return e.some((e=>e.name===o))||("avg_norm"===n?e.push(new SQ({name:o,isAutoGenerated:!0,onStatisticExpression:new wQ({expression:`$feature.${t} / $feature.${i}`,returnType:r}),statisticType:"avg"})):e.push(new SQ({name:o,isAutoGenerated:!0,onStatisticField:t,statisticType:n}))),o}const z0=e=>{let t=class extends e{constructor(...e){super(...e),this.addHandles(WR((()=>this.renderer),(()=>{if(this.featureReduction){const e=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",e)}}),eL))}set featureReduction(e){const t=this._normalizeFeatureReduction(e);this._set("featureReduction",t)}set renderer(e){}_withClusterVariable(e,t,n){const r=e.clone();return"visualVariables"in r&&(r.visualVariables||(r.visualVariables=[]),r.visualVariables.some((e=>"size"===e.type))||r.visualVariables.push(new FP({field:"cluster_count",stops:[new XN({value:1}),new XN({useMinValue:!0,size:t}),new XN({useMaxValue:!0,size:n})]}))),r}_normalizeFeatureReduction(e){if("cluster"!==e?.type)return e;const t=e.clone(),n=[new SQ({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],r=(t.fields??[]).filter((e=>!e.isAutoGenerated)),i=e.renderer&&!e.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:o,clusterMaxSize:s}=t;if(i){t.fields=[...n,...r];const e=this._withClusterVariable(t.renderer,o,s);return t.effectiveFeatureRenderer=e,t.effectiveClusterRenderer=e,t}if(e.symbol){if(t.fields=[...n,...r],t.renderer=null,!this.renderer)return t.effectiveFeatureRenderer=null,t.effectiveClusterRenderer=null,t;const i=P0(n,this.renderer),a=this._withClusterVariable(i,o,s),l="visualVariables"in a&&a.visualVariables?a.visualVariables:[],c=new nV({symbol:e.symbol,visualVariables:l});return t.fields=[...n,...r],t.effectiveFeatureRenderer=a,t.effectiveClusterRenderer=c,t}if(!this.renderer)return e;const a=P0(n,this.renderer);t.fields=[...n,...r],t.renderer=a;const l=this._withClusterVariable(a,o,s);return t.effectiveFeatureRenderer=l,t.effectiveClusterRenderer=l,t}};return S([To(m0)],t.prototype,"featureReduction",null),t=S([gs("esri.layers.mixins.FeatureReductionLayer")],t),t},G0={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},V0={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},B0={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},$0={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":G0,"web-map/basemap":V0,"web-map/tables":B0,"link-chart/operational-layers":{...G0,LinkChartLayer:!0},"link-chart/basemap":V0,"link-chart/tables":B0,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}},H0=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,t,n){return"Group Layer"===n?.portalItem?.type?void 0:e}writeListMode(e,t,n,r){(r&&"ground"===r.layerContainerType||e&&zs(this,n,{},r))&&(t[n]=e)}writeOperationalLayerType(e,t,n,r){e&&"tables"!==r?.layerContainerType&&(t.layerType=e)}writeTitle(e,t){t.title=e??"Layer"}readTimeExtent(e){return e?MH.fromArray(e):null}writeTimeExtent(e,t,n,r){e&&"tables"!==r.layerContainerType&&(e.isEmpty?r?.messages&&r.messages.push(new et("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):t[n]=e.toArray())}read(e,t){t&&(t.layer=this),Ds(this,e,(t=>super.read(e,t)),t)}write(e,t){if(!this.persistenceEnabled&&!t?.ignorePersistenceEnabled)return null;if(t?.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`;let n=!!$0[e]?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(n=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===e&&(n=!1),!n)return t.messages?.push(new et("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const n=super.write(e,{...t,layer:this}),r=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof et&&"web-document-write:property-required"===e.name)).length;return Va(n?.url)?(t?.messages?.push(new et("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&r?null:n}beforeSave(){}};return S([To({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),S([Cp("id",["id"])],t.prototype,"readId",null),S([To(HJ)],t.prototype,"listMode",void 0),S([su("listMode")],t.prototype,"writeListMode",null),S([To({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:lB}}}}})],t.prototype,"operationalLayerType",void 0),S([su("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),S([To(UJ)],t.prototype,"opacity",void 0),S([To({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),S([To({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),S([su("title"),su(["web-scene"],"title")],t.prototype,"writeTitle",null),S([To({type:MH,json:{origins:{"web-scene":{write:{layerContainerTypes:lB}}}}})],t.prototype,"visibilityTimeExtent",void 0),S([Cp("visibilityTimeExtent")],t.prototype,"readTimeExtent",null),S([su(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[yo,go]]}})],t.prototype,"writeTimeExtent",null),S([To({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:lB}}},name:"visibility",write:!0}})],t.prototype,"visible",void 0),t=S([gs("esri.layers.mixins.OperationalLayer")],t),t};var W0;const q0=new au({asc:"ascending",desc:"descending"});let Z0=W0=class extends Hs{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new W0({field:this.field,valueExpression:this.valueExpression,order:this.order})}};S([To({type:String,json:{write:!0}})],Z0.prototype,"field",void 0),S([To({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Z0.prototype,"valueExpression",void 0),S([To({type:q0.apiValues,json:{type:q0.jsonValues,read:q0.read,write:q0.write}})],Z0.prototype,"order",void 0),Z0=W0=S([gs("esri.layers.support.OrderByInfo")],Z0);const Y0=Z0;function X0(e,t,n){if(!e)return null;const r=e.find((e=>!!e.field));if(!r)return null;const i=new Y0;return i.read(r,n),[i]}function J0(e,t,n,r){const i=e.find((e=>!!e.field));i&&Pe(n,[i.toJSON()],t)}const K0={type:[Y0],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:X0},write:{writer:J0}}},Q0=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return S([To(K0)],t.prototype,"orderBy",void 0),t=S([gs("esri.layers.mixins.OrderedLayer")],t),t},e1=Math.PI/180,t1=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,n1=pu.radius,r1=pu.eccentricitySquared,i1={a1:n1*r1,a2:n1*r1*n1*r1,a3:n1*r1*r1/2,a4:n1*r1*n1*r1*2.5,a5:n1*r1+n1*r1*r1/2,a6:1-r1},o1={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:pu.radius,f:pu.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:fu.radius,f:fu.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:du.radius,f:du.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:du.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var s1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(s1||(s1={}));const a1={[s1.WGS84]:{[s1.CGCS2000]:u1,[s1.GCSMARS2000]:null,[s1.GCSMOON2000]:null,[s1.LON_LAT]:u1,[s1.SPHERICAL_ECEF]:A1,[s1.SPHERICAL_MARS_PCPF]:null,[s1.SPHERICAL_MOON_PCPF]:null,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:m1,[s1.PLATE_CARREE]:y1,[s1.WGS84]:u1,[s1.WGS84_ECEF]:P1},[s1.CGCS2000]:{[s1.CGCS2000]:u1,[s1.GCSMARS2000]:null,[s1.GCSMOON2000]:null,[s1.LON_LAT]:u1,[s1.SPHERICAL_ECEF]:A1,[s1.SPHERICAL_MARS_PCPF]:null,[s1.SPHERICAL_MOON_PCPF]:null,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:m1,[s1.PLATE_CARREE]:y1,[s1.WGS84]:u1,[s1.WGS84_ECEF]:P1},[s1.GCSMARS2000]:{[s1.CGCS2000]:null,[s1.GCSMARS2000]:u1,[s1.GCSMOON2000]:null,[s1.LON_LAT]:u1,[s1.SPHERICAL_ECEF]:null,[s1.SPHERICAL_MARS_PCPF]:M1,[s1.SPHERICAL_MOON_PCPF]:null,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:null,[s1.PLATE_CARREE]:null,[s1.WGS84]:null,[s1.WGS84_ECEF]:null},[s1.GCSMOON2000]:{[s1.CGCS2000]:null,[s1.GCSMARS2000]:null,[s1.GCSMOON2000]:u1,[s1.LON_LAT]:u1,[s1.SPHERICAL_ECEF]:null,[s1.SPHERICAL_MARS_PCPF]:null,[s1.SPHERICAL_MOON_PCPF]:E1,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:null,[s1.PLATE_CARREE]:null,[s1.WGS84]:null,[s1.WGS84_ECEF]:null},[s1.WEB_MERCATOR]:{[s1.CGCS2000]:h1,[s1.GCSMARS2000]:null,[s1.GCSMOON2000]:null,[s1.LON_LAT]:h1,[s1.SPHERICAL_ECEF]:p1,[s1.SPHERICAL_MARS_PCPF]:null,[s1.SPHERICAL_MOON_PCPF]:null,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:u1,[s1.PLATE_CARREE]:v1,[s1.WGS84]:h1,[s1.WGS84_ECEF]:d1},[s1.WGS84_ECEF]:{[s1.CGCS2000]:D1,[s1.GCSMARS2000]:null,[s1.GCSMOON2000]:null,[s1.LON_LAT]:D1,[s1.SPHERICAL_ECEF]:F1,[s1.SPHERICAL_MARS_PCPF]:null,[s1.SPHERICAL_MOON_PCPF]:null,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:j1,[s1.PLATE_CARREE]:b1,[s1.WGS84]:D1,[s1.WGS84_ECEF]:u1},[s1.SPHERICAL_ECEF]:{[s1.CGCS2000]:k1,[s1.GCSMARS2000]:null,[s1.GCSMOON2000]:null,[s1.LON_LAT]:k1,[s1.SPHERICAL_ECEF]:u1,[s1.SPHERICAL_MARS_PCPF]:null,[s1.SPHERICAL_MOON_PCPF]:null,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:R1,[s1.PLATE_CARREE]:w1,[s1.WGS84]:k1,[s1.WGS84_ECEF]:L1},[s1.SPHERICAL_MARS_PCPF]:{[s1.CGCS2000]:null,[s1.GCSMARS2000]:O1,[s1.GCSMOON2000]:null,[s1.LON_LAT]:O1,[s1.SPHERICAL_ECEF]:null,[s1.SPHERICAL_MARS_PCPF]:u1,[s1.SPHERICAL_MOON_PCPF]:null,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:null,[s1.PLATE_CARREE]:null,[s1.WGS84]:null,[s1.WGS84_ECEF]:null},[s1.SPHERICAL_MOON_PCPF]:{[s1.CGCS2000]:null,[s1.GCSMARS2000]:null,[s1.GCSMOON2000]:C1,[s1.LON_LAT]:C1,[s1.SPHERICAL_ECEF]:null,[s1.SPHERICAL_MARS_PCPF]:null,[s1.SPHERICAL_MOON_PCPF]:u1,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:null,[s1.PLATE_CARREE]:null,[s1.WGS84]:null,[s1.WGS84_ECEF]:null},[s1.UNKNOWN]:{[s1.CGCS2000]:null,[s1.GCSMARS2000]:null,[s1.GCSMOON2000]:null,[s1.LON_LAT]:null,[s1.SPHERICAL_ECEF]:null,[s1.SPHERICAL_MARS_PCPF]:null,[s1.SPHERICAL_MOON_PCPF]:null,[s1.UNKNOWN]:u1,[s1.WEB_MERCATOR]:null,[s1.PLATE_CARREE]:null,[s1.WGS84]:null,[s1.WGS84_ECEF]:null},[s1.LON_LAT]:{[s1.CGCS2000]:u1,[s1.GCSMARS2000]:u1,[s1.GCSMOON2000]:u1,[s1.LON_LAT]:u1,[s1.SPHERICAL_ECEF]:A1,[s1.SPHERICAL_MARS_PCPF]:M1,[s1.SPHERICAL_MOON_PCPF]:E1,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:m1,[s1.PLATE_CARREE]:y1,[s1.WGS84]:u1,[s1.WGS84_ECEF]:P1},[s1.PLATE_CARREE]:{[s1.CGCS2000]:g1,[s1.GCSMARS2000]:null,[s1.GCSMOON2000]:null,[s1.LON_LAT]:g1,[s1.SPHERICAL_ECEF]:_1,[s1.SPHERICAL_MARS_PCPF]:null,[s1.SPHERICAL_MOON_PCPF]:null,[s1.UNKNOWN]:null,[s1.WEB_MERCATOR]:x1,[s1.PLATE_CARREE]:u1,[s1.WGS84]:g1,[s1.WGS84_ECEF]:S1}};function l1(e,t,n=z1()){return null==e||null==t?null:U1(e,t,n).projector}function c1(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=sp(e,1)),Ah(e)?t.spatialReferenceId=s1.SPHERICAL_ECEF:ih(e)?t.spatialReferenceId=s1.WGS84:ah(e)?t.spatialReferenceId=s1.WEB_MERCATOR:lh(e)?t.spatialReferenceId=s1.PLATE_CARREE:e.wkt===xh.wkt?t.spatialReferenceId=s1.WGS84_ECEF:e.wkid===Bu.CGCS2000?t.spatialReferenceId=s1.CGCS2000:e.wkt===wh.wkt?t.spatialReferenceId=s1.SPHERICAL_MARS_PCPF:e.wkt===_h.wkt?t.spatialReferenceId=s1.SPHERICAL_MOON_PCPF:uh(e)?t.spatialReferenceId=s1.GCSMARS2000:ph(e)?t.spatialReferenceId=s1.GCSMOON2000:t.spatialReferenceId=s1.UNKNOWN):s1.UNKNOWN}function u1(e,t,n,r){e!==n&&(n[r++]=e[t++],n[r++]=e[t++],n[r]=e[t])}function h1(e,t,n,r){n[r]=H1*(e[t]/Z1),n[r+1]=H1*(q1-2*Math.atan(Math.exp(-e[t+1]/Z1))),n[r+2]=e[t+2]}function p1(e,t,n,r){const i=e[t]/Z1,o=q1-2*Math.atan(Math.exp(-e[t+1]/Z1)),s=Z1+e[t+2],a=Math.cos(o)*s;n[r]=Math.cos(i)*a,n[r+1]=Math.sin(i)*a,n[r+2]=Math.sin(o)*s}function d1(e,t,n,r){h1(e,t,n,r),P1(n,r,n,r)}function f1(e,t,n,r,i){const o=.4999999*W1,s=Wm($1*e[t+1],-o,o),a=Math.sin(s);n[r++]=$1*e[t]*i.radius,n[r++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),n[r]=e[t+2]}function m1(e,t,n,r){f1(e,t,n,r,pu)}function y1(e,t,n,r){n[r]=e[t]*Y1,n[r+1]=e[t+1]*Y1,n[r+2]=e[t+2]}function g1(e,t,n,r){n[r]=e[t]*X1,n[r+1]=e[t+1]*X1,n[r+2]=e[t+2]}function v1(e,t,n,r){h1(e,t,n,r),y1(n,r,n,r)}function b1(e,t,n,r){D1(e,t,n,r),y1(n,r,n,r)}function w1(e,t,n,r){k1(e,t,n,r),y1(n,r,n,r)}function _1(e,t,n,r){g1(e,t,n,r),A1(n,r,n,r)}function x1(e,t,n,r){g1(e,t,n,r),m1(n,r,n,r)}function S1(e,t,n,r){g1(e,t,n,r),P1(n,r,n,r)}function T1(e,t,n,r,i){const o=i+e[t+2],s=$1*e[t+1],a=$1*e[t],l=Math.cos(s)*o;n[r]=Math.cos(a)*l,n[r+1]=Math.sin(a)*l,n[r+2]=Math.sin(s)*o}function E1(e,t,n,r){T1(e,t,n,r,fu.radius)}function M1(e,t,n,r){T1(e,t,n,r,du.radius)}function A1(e,t,n,r){T1(e,t,n,r,pu.radius)}function I1(e,t,n,r,i){const o=e[t],s=e[t+1],a=e[t+2],l=Math.sqrt(o*o+s*s+a*a),c=Qm(a/(0===l?1:l)),u=Math.atan2(s,o);n[r++]=H1*u,n[r++]=H1*c,n[r]=l-i}function C1(e,t,n,r){I1(e,t,n,r,fu.radius)}function O1(e,t,n,r){I1(e,t,n,r,du.radius)}function k1(e,t,n,r){I1(e,t,n,r,pu.radius)}function R1(e,t,n,r){k1(e,t,n,r),m1(n,r,n,r)}function L1(e,t,n,r){k1(e,t,n,r),P1(n,r,n,r)}function N1(e,t,n,r,i){const o=$1*e[t],s=$1*e[t+1],a=e[t+2],l=Math.sin(s),c=Math.cos(s),u=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);n[r++]=(u+a)*c*Math.cos(o),n[r++]=(u+a)*c*Math.sin(o),n[r++]=(u*(1-i.eccentricitySquared)+a)*l}function P1(e,t,n,r){N1(e,t,n,r,pu)}function D1(e,t,n,r){const i=i1,o=e[t],s=e[t+1],a=e[t+2];let l,c,u,h,p,d,f,m,y,g,v,b,w,_,x,S,T,E,M,A,I;l=Math.abs(a),c=o*o+s*s,u=Math.sqrt(c),h=c+a*a,p=Math.sqrt(h),A=Math.atan2(s,o),d=a*a/h,f=c/h,_=i.a2/p,x=i.a3-i.a4/p,f>.3?(m=l/p*(1+f*(i.a1+_+d*x)/p),M=Math.asin(m),g=m*m,y=Math.sqrt(1-g)):(y=u/p*(1-d*(i.a5-_-f*x)/p),M=Math.acos(y),g=1-y*y,m=Math.sqrt(g)),v=1-pu.eccentricitySquared*g,b=pu.radius/Math.sqrt(v),w=i.a6*b,_=u-b*y,x=l-w*m,T=y*_+m*x,S=y*x-m*_,E=S/(w/v+T),M+=E,I=T+S*E/2,a<0&&(M=-M),n[r++]=H1*A,n[r++]=H1*M,n[r]=I}function F1(e,t,n,r){D1(e,t,n,r),A1(n,r,n,r)}function j1(e,t,n,r){D1(e,t,n,r),m1(n,r,n,r)}function U1(e,t,n){if(null==e||null==t||n.source.spatialReference===e&&n.dest.spatialReference===t)return n;const r=c1(e,n.source),i=c1(t,n.dest);return r===s1.UNKNOWN&&i===s1.UNKNOWN?Qu(e,t)?n.projector=u1:n.projector=null:n.projector=a1[r][i],n}function z1(){return{source:{spatialReference:null,spatialReferenceId:s1.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:s1.UNKNOWN,metersPerUnit:1},projector:u1}}const G1={spatialReference:null,spatialReferenceId:s1.UNKNOWN},V1={spatialReference:null,spatialReferenceId:s1.UNKNOWN},B1=z1(),$1=Xm(1),H1=Jm(1),W1=Math.PI,q1=.5*W1,Z1=pu.radius,Y1=Z1*W1/180,X1=180/(Z1*W1);function J1(e,t,n,r,i,o,s=Math.floor(e.length/3)){const a=l1(t,i,B1);if(null==a)return!1;if(a===u1){if(e===r&&n===o)return!0;const t=n+3*s;for(let i=n,s=o;i<t;i++,s++)r[s]=e[i];return!0}const l=n+3*s;for(let c=n,u=o;c<l;c+=3,u+=3)a(e,c,r,u);return!0}const K1=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:J1},Symbol.toStringTag,{value:"Module"}));function Q1(e,t,n,r,i,o){return e2[0]=e,e2[1]=t,e2[2]=n,J1(e2,r,0,i,o,0)}const e2=oC();let t2=0,n2=class e{static fromGE(t){const n=new e;return n._wkt=t.wkt,n._wkid=t.wkid,n._isInverse=t.isInverse,n}constructor(e){this.uid=t2++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=t2++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=t2++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=t2++}getInverse(){const t=new e;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},r2=class e{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(t){const n=new e;let r="";for(const e of t.steps){const t=n2.fromGE(e);n.steps.push(t),r+=t.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=r,n}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const t of e.steps)t instanceof n2?this.steps.push(t):this.steps.push(new n2({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const t=new e;t.steps=[];for(let e=this.steps.length-1;e>=0;e--){const n=this.steps[e];t.steps.push(n.getInverse())}return t}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(t,n,r){this._cachedProjection[e.cacheKey(t,n)]=r}getCachedGeTransformation(t,n){let r="";for(const e of this.steps)r+=e.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const i=this._cachedProjection[e.cacheKey(t,n)];return void 0===i?null:i}},i2=null,o2=null,s2=null,a2={};const l2=new yc;function c2(){return!!i2&&vu()}function u2(){return!!c2()||(hn(l2),d2(),!1)}function h2(e,t){return!e||!t||E2(e,t)||u2()}function p2(e,t){return!E2(e,t)&&!c2()}function d2(e){return null==s2&&(s2=Promise.all([wu(),n.e(6239).then(n.bind(n,36239)).then((e=>e.g)),n.e(7536).then(n.bind(n,7536))])),s2.then((([,t,{hydratedAdapter:n}])=>{or(e),o2=n,i2=t.default,i2._enableProjection(Vu),l2.notify()}))}function f2(e,t,n=null,r=null){return Array.isArray(e)?0===e.length?[]:m2(o2,e,e[0].spatialReference,t,n,r):m2(o2,[e],e.spatialReference,t,n,r)[0]}function m2(e,t,n,r,i=null,o=null){if(null==n||null==r)return t;if(E2(n,r,i))return t.map((e=>I2(e,n,r)));if(null==i&&Ah(n))return t.map((e=>I2(e,n,Ip.WGS84))).map((e=>S2(e,r)));if(null==i&&Ah(r))return t.map((e=>S2(e,Ip.WGS84))).map((e=>I2(e,Ip.WGS84,r)));if(null==i){const e=r2.cacheKey(n,r);void 0!==a2[e]?i=a2[e]:(null==(i=v2(n,r,void 0))&&(i=new r2),a2[e]=i)}if(null==i2||null==e)throw new w2;return null!=o?i2._project(e,t,n,r,i,o):i2._project(e,t,n,r,i)}function y2(e,t){const n=g2([e],t);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function g2(e,t){if(!c2())for(const n of e)if(null!=n&&!Qu(n.spatialReference,t)&&fh(n.spatialReference)&&fh(t)&&!E2(n.spatialReference,t))return hn(l2),{pending:d2(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:Qu(e.spatialReference,t)?e:fh(e.spatialReference)&&fh(t)?S2(e,t):null))}}function v2(e,t,n=null){if(null==e||null==t)return null;if(null==i2||null==o2)throw new w2;const r=i2._getTransformation(o2,e,t,n,n?.spatialReference);return null!==r?r2.fromGE(r):null}function b2(e,t,n=null){if(null==i2||null==o2)throw new w2;const r=i2._getTransformationBySuitability(o2,e,t,n,n?.spatialReference);if(null!==r){const e=[];for(const t of r)e.push(r2.fromGE(t));return e}return[]}let w2=class extends et{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function _2(){i2=null,o2=null,s2=null,a2={}}const x2={get loadPromise(){return s2}};function S2(e,t){try{const n=f2(e,t);return null==n?null:("xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax),zW(n.type,e.spatialReference,t)?.(n),n)}catch(n){if(!(n instanceof w2))throw n;return null}}async function T2(e,t,n){const r=e.spatialReference;return null!=r&&null!=t&&await A2(r,t,null,n),S2(e,t)}function E2(e,t,n){return!n&&(!!Qu(e,t)||fh(e)&&fh(t)&&!!l1(e,t,B1))}function M2(e,t){if(Qu(e,t))return!0;if(!fh(e)||!fh(t))return!1;const n=ih(e)||ah(e)||sh(e),r=ih(t)||ah(t)||sh(t);return n&&r}async function A2(e,t,n,r){if(c2())return Tr(r);if(Array.isArray(e)){for(const{source:i,dest:o,geographicTransformation:s}of e)if(i&&o&&!E2(i,o,s))return d2(r)}else if(e&&t&&!E2(e,t,n))return d2(r);return Tr(r)}function I2(e,t,n){return e?"x"in e?O2(e,t,new sd,n,0):"xmin"in e?j2(e,t,new Gd,n,0):"rings"in e?D2(e,t,new nv,n,0):"paths"in e?N2(e,t,new lv,n,0):"points"in e?R2(e,t,new Sy,n,0):null:null}function C2(e,t,n=t.spatialReference,r=0){return null!=n&&null!=e.spatialReference&&null!=O2(e,e.spatialReference,t,n,r)}function O2(e,t,n,r,i){z2[0]=e.x,z2[1]=e.y;const o=e.z;return z2[2]=void 0!==o?o:i,J1(z2,t,0,z2,r,0)?(n.x=z2[0],n.y=z2[1],n.spatialReference=r,void 0!==o||Ih(r)?(n.z=z2[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function k2(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=R2(e,e.spatialReference,t,n,r)}function R2(e,t,n,r,i){const{points:o,hasZ:s,hasM:a}=e,l=[],c=o.length,u=[];for(const p of o)u.push(p[0],p[1],s?p[2]:i);if(!J1(u,t,0,u,r,0,c))return null;const h=s||Ih(r);for(let p=0;p<c;++p){const e=3*p,t=u[e],n=u[e+1];h&&a?l.push([t,n,u[e+2],o[p][3]]):h?l.push([t,n,u[e+2]]):a?l.push([t,n,o[p][2]]):l.push([t,n])}return n.points=l,n.spatialReference=r,n.hasZ=s,n.hasM=a,n}function L2(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=N2(e,e.spatialReference,t,n,r)}function N2(e,t,n,r,i){const{paths:o,hasZ:s,hasM:a}=e,l=[];if(!U2(o,s??!1,a??!1,t,l,r,i))return null;const c=s||Ih(r);return n.paths=l,n.spatialReference=r,n.hasZ=c,n.hasM=a,n}function P2(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=D2(e,e.spatialReference,t,n,r)}function D2(e,t,n,r,i){const{rings:o,hasZ:s,hasM:a}=e,l=[];if(!U2(o,s??!1,a??!1,t,l,r,i))return null;const c=s||Ih(r);return n.rings=l,n.spatialReference=r,n.hasZ=c,n.hasM=a,n}function F2(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=j2(e,e.spatialReference,t,n,r)}function j2(e,t,n,r,i){const{xmin:o,ymin:s,xmax:a,ymax:l,hasZ:c,hasM:u}=e,h=c?e.zmin:i;if(!Q1(o,s,h,t,z2,r))return null;const p=c||Ih(r);n.xmin=z2[0],n.ymin=z2[1],p&&(n.zmin=z2[2]);const d=c?e.zmax:i;return Q1(a,l,d,t,z2,r)?(n.xmax=z2[0],n.ymax=z2[1],p&&(n.zmax=z2[2]),u&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=r,n):null}function U2(e,t,n,r,i,o,s=0){const a=new Array;for(const u of e)for(const e of u)a.push(e[0],e[1],t?e[2]:s);if(!J1(a,r,0,a,o,0))return!1;let l=0;i.length=0;const c=t||Ih(o);for(const u of e){const e=new Array;for(const t of u)c&&n?e.push([a[l++],a[l++],a[l++],t[3]]):c?e.push([a[l++],a[l++],a[l++]]):n?(e.push([a[l++],a[l++],t[2]]),l++):(e.push([a[l++],a[l++]]),l++);i.push(e)}return!0}const z2=oC(),G2=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:E2,getTransformation:v2,getTransformations:b2,initializeProjection:A2,isEqualBaseGCS:M2,isLoaded:c2,isLoadedOrLoad:u2,isLoadedOrLoadFor:h2,load:d2,project:f2,projectExtent:F2,projectMany:m2,projectMultipoint:k2,projectOrLoad:y2,projectOrLoadMany:g2,projectPoint:C2,projectPolygon:P2,projectPolyline:L2,projectWithZConversion:T2,projectWithoutEngine:I2,requiresLoad:p2,test:x2,tryProjectWithZConversion:S2,unload:_2},Symbol.toStringTag,{value:"Module"}));async function V2(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Xp(e);const n=Ip.WGS84;return await A2(t,n),f2(e,n)}function B2(e,t){if(!$2(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function $2(e,t){return!!e.typeKeywords?.includes(t)}function H2(e){return $2(e,Y2.HOSTED_SERVICE)}function W2(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}function q2(e,t,n){n?B2(e,t):W2(e,t)}async function Z2(e){const t=e.clone().normalize();let n;if(t.length>1)for(const r of t)n?r.width>n.width&&(n=r):n=r;else n=t[0];return V2(n)}const Y2={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function X2(e){const{portal:t,isOrgItem:n,itemControl:r}=e,i=t.user?.privileges;let o=!i||i.includes("features:user:edit"),s=!!n&&!!i?.includes("features:user:fullEdit");const a="update"===r||"admin"===r;return a?s=o=!0:s&&(o=!0),{features:{edit:o,fullEdit:s},content:{updateItem:a}}}const J2=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=mt(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,n){if(t.itemId)return new Wf({id:t.itemId,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:r}=await n.e(9350).then(n.bind(n,9350));return or(t),await r({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(r){throw dr(r)||Ye.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${r}`),r}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>(lr(e),!0))))}async setUserPrivileges(e,t){if(!Ue.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:n,fullEdit:r},content:{updateItem:i}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",i)}catch(n){lr(n)}}async _fetchUserPrivileges(e,t){let n=this.portalItem;if(!e||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(t);const r=e===n.id;if(r&&n.portal.user)return X2(n);let i,o;if(r)i=n.portal.url;else try{i=await gm(this.url,t)}catch(c){lr(c)}if(!i||!Ca(i,n.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;o=await(Il?.getCredential(`${i}/sharing`,{prompt:!1,signal:e}))}catch(c){lr(c)}const s=!0,a=!1,l=!1;if(!o)return{features:{edit:s,fullEdit:a},content:{updateItem:l}};try{if(r?await n.reload():(n=new Wf({id:e,portal:{url:i}}),await n.load(t)),n.portal.user)return X2(n)}catch(c){lr(c)}return{features:{edit:s,fullEdit:a},content:{updateItem:l}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(n){lr(n)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?Il?.findCredential(this.url):null;if(!t)return!0;const n=K2.credential===t?K2.user:await this._fetchEditingUser(e);return K2.credential=t,K2.user=n,null==n?.privileges||n.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const n=Il?.findServerInfo(this.url??"");if(!n?.owningSystemUrl)return null;const r=`${n.owningSystemUrl}/sharing/rest`,i=wf.getDefault();if(i&&i.loaded&&ja(i.restUrl)===ja(r))return i.user;const o=`${r}/community/self`,s=null!=e?e.signal:null,a=await Qc(Bl(o,{authMode:"no-prompt",query:{f:"json"},signal:s}));return a.ok?mf.fromJSON(a.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const n=t?.portal,r=this.portalItem?.id&&(this.portalItem.portal||wf.getDefault());return n&&r&&!Oa(r.restUrl,n.restUrl)?(t.messages&&t.messages.push(new et("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return S([To({type:Wf})],t.prototype,"portalItem",null),S([Cp("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),S([su("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),S([To({clonable:!1})],t.prototype,"resourceReferences",void 0),S([To({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),S([To({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),S([To({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=S([gs("esri.layers.mixins.PortalLayer")],t),t},K2={credential:null,user:null};let Q2=class extends Ms{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};S([To()],Q2.prototype,"updating",void 0),S([To()],Q2.prototype,"status",void 0),Q2=S([gs("esri.layers.support.PublishingInfo")],Q2);const e3=Q2,t3=Symbol(),n3=e=>{var t;let n=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const e=this._get("publishingInfo");if(e)return e;const t=new e3;return this._checkPublishingStatus(t),t}_checkPublishingStatus(e){let t=0;const n=async i=>{let o;e.updating=!0;try{o=await this.fetchPublishingStatus()}catch{o="unavailable"}"published"!==o&&"unavailable"!==o||("publishing"===e.status&&this.refresh(),r.remove()),e.status=o,e.updating=!1,r.removed||(t=setTimeout(n,i,i+125))},r={removed:!1,remove(){this.removed=!0,clearTimeout(t)}};this.when().catch((()=>r.remove())),n(250),this.addHandles(r)}};return t=t3,S([To({readOnly:!0,clonable:!1})],n.prototype,"publishingInfo",null),n=S([gs("esri.layers.mixins.PublishableLayer")],n),n},r3=new Rc,i3=new WeakMap;function o3(e){a3(e)&&r3.push(new WeakRef(e))}function s3(e){const t=r3.find((t=>t.deref()===e));t&&r3.remove(t)}function a3(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function l3(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:l3(t,e%t):0}let c3=0,u3=0;function h3(){const e=Date.now();let t=!1;for(const n of r3){const r=n.deref();r?r.refreshInterval&&e-(i3.get(r)??0)+5>=6e4*r.refreshInterval&&(i3.set(r,e),r.refresh(e)):t=!0}if(t)for(let n=r3.length-1;n>=0;n--)r3.at(n).deref()||r3.removeAt(n)}gi((()=>{const e=Date.now();let t=0;for(const n of r3){const r=n.deref();r&&(t=l3(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?i3.get(r)||i3.set(r,e):i3.delete(r))}if(t!==u3){if(u3=t,clearInterval(c3),0===u3)return void(c3=0);c3=setInterval(h3,u3)}}),eL);const p3=.1,d3=e=>{let t=class extends e{constructor(...e){super(...e),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=xr((()=>this.hasDataChanged())),this.when().then((()=>{this.destroyed||o3(this)}),(()=>{}))}destroy(){s3(this)}castRefreshInterval(e){return e>=p3?e:e<=0?0:p3}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(e=Date.now()){fr(this._debounceHasDataChanged()).then((t=>{t&&this._set("refreshTimestamp",e),this.emit("refresh",{dataChanged:t})}),(e=>{Ye.getLogger(this).error(e),this.emit("refresh",{dataChanged:!1,error:e})}))}async hasDataChanged(){return!0}get test(){}};return S([To({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:lB}}}}})],t.prototype,"refreshInterval",void 0),S([Dp("refreshInterval")],t.prototype,"castRefreshInterval",null),S([To({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),S([To({readOnly:!0})],t.prototype,"refreshParameters",null),t=S([gs("esri.layers.mixins.RefreshableLayer")],t),t},f3=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&m3(e,t.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===e.minScale&&n.maxScale===e.maxScale?n:e}};return S([To({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),S([To({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),S([To({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=S([gs("esri.layers.mixins.ScaleRangeLayer")],t),t};function m3(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const y3=uu()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let g3=class extends(_v(Hs)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return xH(this.value,this.unit,"milliseconds")}};S([WM(y3,{nonNullable:!0})],g3.prototype,"unit",void 0),S([To({type:Number,json:{write:!0},nonNullable:!0})],g3.prototype,"value",void 0),g3=S([gs("esri.time.TimeInterval")],g3);const v3=g3;function b3(e,t){return v3.fromJSON({value:e,unit:t})}let w3=class extends(_v(Hs)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?MH.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?b3(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?b3(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};S([To({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],w3.prototype,"cumulative",void 0),S([To({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],w3.prototype,"endField",void 0),S([To({type:MH,json:{write:{enabled:!0,allowNull:!0}}})],w3.prototype,"fullTimeExtent",void 0),S([Cp("fullTimeExtent",["timeExtent"])],w3.prototype,"readFullTimeExtent",null),S([su("fullTimeExtent")],w3.prototype,"writeFullTimeExtent",null),S([To({type:Boolean,json:{write:!0}})],w3.prototype,"hasLiveData",void 0),S([To({type:v3,json:{write:{enabled:!0,allowNull:!0}}})],w3.prototype,"interval",void 0),S([Cp("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],w3.prototype,"readInterval",null),S([su("interval")],w3.prototype,"writeInterval",null),S([To({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],w3.prototype,"startField",void 0),S([To(ZS("timeReference",!0))],w3.prototype,"timeZone",void 0),S([To({type:String,json:{write:{enabled:!0,allowNull:!0}}})],w3.prototype,"trackIdField",void 0),S([To({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],w3.prototype,"useTime",void 0),S([To({type:[Date],json:{read:!1}})],w3.prototype,"stops",void 0),w3=S([gs("esri.layers.support.TimeInfo")],w3);const _3=w3,x3={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:lB}}},S3=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const n=t.timeInfo.exportOptions;if(!n)return null;const r=n.timeOffset,i=y3.fromJSON(n.timeOffsetUnits);return r&&i?new v3({value:r,unit:i}):null}set timeInfo(e){dE(e,this.fieldsIndex),this._set("timeInfo",e)}};return S([To({type:MH,json:{write:!1}})],t.prototype,"timeExtent",void 0),S([To({type:v3})],t.prototype,"timeOffset",void 0),S([Cp("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),S([To({value:null,type:_3,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),S([To(x3)],t.prototype,"useViewTime",void 0),t=S([gs("esri.layers.mixins.TemporalLayer")],t),t},T3=new au({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let E3=class extends(_v(Hs)){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};S([To({json:{write:!0}})],E3.prototype,"name",void 0),S([To({json:{write:!0}})],E3.prototype,"description",void 0),S([To({json:{read:T3.read,write:T3.write}})],E3.prototype,"drawingTool",void 0),S([To({json:{write:!0}})],E3.prototype,"prototype",void 0),S([To({json:{write:!0}})],E3.prototype,"thumbnail",void 0),E3=S([gs("esri.layers.support.FeatureTemplate")],E3);const M3=E3;let A3=class extends(_v(Hs)){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const n of Object.keys(e))t[n]=V$(e[n]);return t}writeDomains(e,t){const n={};for(const r of Object.keys(e))e[r]&&(n[r]=e[r]?.toJSON());t.domains=n}};S([To({json:{write:!0}})],A3.prototype,"id",void 0),S([To({json:{write:!0}})],A3.prototype,"name",void 0),S([To({json:{write:!0}})],A3.prototype,"domains",void 0),S([Cp("domains")],A3.prototype,"readDomains",null),S([su("domains")],A3.prototype,"writeDomains",null),S([To({type:[M3],json:{write:!0}})],A3.prototype,"templates",void 0),A3=S([gs("esri.layers.support.FeatureType")],A3);const I3=A3;function C3(){return{fields:{type:[JW],value:null,set:function(e){if(e&&A("big-integer-warning-enabled")){const t=e.filter((e=>"big-integer"===e.type||"oid"===e.type&&(e.length||0)>=8));if(t.length){const e=t.map((e=>`'${e.name}'`)).join(", ");Ye.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${e}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return KD.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e?.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex?.has(t)||Ye.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return mE(this.fieldsIndex,e)}}}}const O3=()=>Ye.getLogger("esri.layers.support.labelingInfo"),k3=/\[([^[\]]+)\]/gi;function R3(e,t,n){return e?e.map((e=>{const r=new r0;if(r.read(e,n),r.labelExpression){const e=t.fields||t.layerDefinition?.fields||this.fields;r.labelExpression=r.labelExpression.replaceAll(k3,((t,n)=>`[${L3(n,e)}]`))}return r})):null}function L3(e,t){if(!t)return e;const n=e.toLowerCase();for(let r=0;r<t.length;r++){const e=t[r].name;if(e.toLowerCase()===n)return e}return e}const N3={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function P3(e,t){const n=[];for(const r of e){const e=r.labelPlacement,i=N3[t];if(!r.symbol)return O3().warn("No ILabelClass symbol specified."),[];if(!i)return O3().error(new et("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(i.includes(e))n.push(r);else{const o=i[0];e&&O3().warn(`Found invalid label placement type ${e} for ${t}. Defaulting to ${o}`);const s=r.clone();s.labelPlacement=o,n.push(s)}}return n}const D3=[];function F3(e,t){if(yq(e.url??""))return!0;const{wkid:n}=t;for(const r of D3){if((e.version??0)>=r[0])return!0;if("function"==typeof r[1]&&(r[1]=r[1]()),r[1].has(n))return!1}return!0}async function j3(e,t,n){const r=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(r&&"unique-value"===r.type&&r.styleOrigin){const i=await Qc(r.populateFromStyle());if(or(n),!1===i.ok){const n=i.error;t?.messages&&t.messages.push(new Co("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:t})),e.clear("renderer",t?.origin)}}}function U3({displayField:e,editFieldsInfo:t,fields:n,objectIdField:r,title:i},o){if(!n)return null;const s=$3({editFieldsInfo:t,fields:n,objectIdField:r},o);if(!s.length)return null;const a=q3({titleBase:i,fields:n,displayField:e}),l=W3();return new SI({title:a,content:l,fieldInfos:s})}function z3(e){const{title:t,graphic:n}=e??{},{attributes:r,sourceLayer:i}=n??{},o=i&&"displayField"in i?i.displayField:null,s=o?r?.[o]:null,a=n?.getObjectId()?.toString();return t||s||a||""}D3.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),D3.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),D3.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),D3.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),D3.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);const G3=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):GE(e,t);function V3({fields:e,ignoreFieldTypes:t,sortDisabled:n}){const r=e;return t&&(e=e.filter((e=>!t.includes(e.type)))),e===r&&(e=e.slice()),!0!==n&&e.sort(B3),e}function B3(e,t){return"oid"===e.type?-1:"oid"===t.type?1:Z3(e)?-1:Z3(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function $3(e,t){const n=t?.visibleFieldNames;return V3({fields:e.fields??[],ignoreFieldTypes:t?.ignoreFieldTypes||Y3,sortDisabled:t?.sortDisabled}).map((t=>new JM({fieldName:t.name,isEditable:zE(t,e),label:t.alias,format:H3(t),visible:G3(t,{...e,visibleFieldNames:n})})))}function H3(e){switch(e.type){case"small-integer":case"integer":case"single":return new ZM({digitSeparator:!0,places:0});case"double":return new ZM({digitSeparator:!0,places:2});case"string":return OM(e.name)?new ZM({digitSeparator:!0,places:0}):void 0;default:return}}function W3(){return[new eA,new DM]}function q3(e){const t=xE(e),{titleBase:n}=e;return t?`${n}: {${t.trim()}}`:n??""}function Z3(e){return"name"===(e.name&&e.name.toLowerCase())||"name"===e.alias?.toLowerCase()}const Y3=["geometry","blob","raster","guid","xml"],X3=1/255.5;var J3;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(J3||(J3={}));const K3="FeatureLayer";function Q3(e,t){return new et("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function e4(e){return e&&e instanceof Rc}const t4=C3();function n4(e,t,n){const r=!!n?.writeLayerSchema;return{enabled:r,ignoreOrigin:r}}let r4=class extends(vQ(z0(VX(n3(YY(IY(Q0(S3(f3(d3(_q(H0(J2(sB(CY(oq(_v(kH)))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=Ip.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=xr((async(e,t,r)=>{const{save:i,saveAs:o}=await n.e(2620).then(n.bind(n,92620));switch(e){case J3.SAVE:return i(this,t);case J3.SAVE_AS:return o(this,r,t)}}))}destroy(){this.source?.destroy()}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then((e=>this.initLayerProperties(e)))),Promise.resolve(this);const n=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e).catch(lr).then((async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const e=await this._fetchFirstValidLayerId(t);null!=e&&(this.layerId=e)}if(!this.url&&!this._hasMemorySource())throw new et("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))})).then((()=>RK(this,"load",e)));return this.addResolvingPromise(n),Promise.resolve(this)}warnInvisibleDrapedSymbols(){"on-the-ground"===this.elevationInfo?.mode&&"simple"===this.renderer?.type&&"polygon-3d"===this.renderer.symbol?.type&&this.renderer.symbol.symbolLayers.some((e=>"fill"===e.type&&null!=e.material&&(!e.material.color||e.material.color.a*this.opacity<X3)&&(this.loadWarnings.push(new Co("feature-layer:invisible-draped-symbols","FeatureLayer has fully transparent symbols which will no longer render or highlight",{layer:this})),!0)))}readCapabilities(e,t){return t=t.layerDefinition||t,iQ(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,n){return this._readEditingEnabled(t,!0,n)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,n,r){this._writeEditingEnabled(e,t,!0,r)}get effectiveEditingEnabled(){return LK(this)}readIsTable(e,t){return"Table"===(t=t?.layerDefinition??t).type||!t.geometryType}writeIsTable(e,t,n,r){r?.writeLayerSchema&&Pe(n,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return SK(t.layerDefinition||t)}readObjectIdField(e,t){return TK(t.layerDefinition||t)}get parsedUrl(){const e=ba(this.url);return null!=e&&(null!=this.dynamicDataSource?e.path=Ua(e.path,"dynamicLayer"):null!=this.layerId&&(e.path=Ua(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){hE(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,n){t=t.layerDefinition||t;const r=t.drawingInfo?.renderer;if(r){const e=QV(r,t,n)??void 0;return e||Ye.getLogger(this).error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:n}),e}return PK(t,n)}set source(e){const t=this._get("source");t!==e&&(e4(t)&&this._resetMemorySource(t),e4(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof Rc?new rq({layer:this,items:e}):e:null}readSource(e,t){const n=tq.fromJSON(t.featureSet);return new rq({layer:this,items:n?.features??[]})}readTemplates(e,t){const n=t.editFieldsInfo,r=n?.creatorField,i=n?.editorField;return e=e?.map((e=>M3.fromJSON(e))),this._fixTemplates(e,r),this._fixTemplates(e,i),e}readTitle(e,t){const n=t.layerDefinition?.name??t.name,r=t.title||t.layerDefinition?.title;if(n){const e=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return this.url?mq(this.url,n):n;let t=n;if(!t&&this.url){const e=pq(this.url);null!=e&&(t=e.title)}return t?("item-title-and-service-name"===this.sublayerTitleMode&&e&&e!==t&&(t=e+" - "+t),fq(t)):void 0}if("item-title"===this.sublayerTitleMode&&r)return r}readTitleFromWebMap(e,t){return t.title||t.layerDefinition?.name}readTypeIdField(e,t){let n=(t=t.layerDefinition||t).typeIdField;if(n&&t.fields){n=n.toLowerCase();const e=t.fields.find((e=>e.name.toLowerCase()===n));e&&(n=e.name)}return n}readTypes(e,t){e=(t=t.layerDefinition||t).types;const n=t.editFieldsInfo,r=n?.creatorField,i=n?.editorField;return e?.map((e=>(e=I3.fromJSON(e),this._fixTemplates(e.templates,r),this._fixTemplates(e.templates,i),e)))}readVisible(e,t){return null!=t.layerDefinition?.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}async addAttachment(e,t){const n=await lK(this,e,t,K3);return this.lastEditsEventDate=new Date,n}async updateAttachment(e,t,n){const r=await uK(this,e,t,n,K3);return this.lastEditsEventDate=new Date,r}async applyEdits(e,t){return hK(this,e,t)}async uploadAssets(e,t){return pK(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return U3(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await pr(n.e(8804).then(n.bind(n,48804)),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=xK(this);e.dynamicDataSource=this.dynamicDataSource;const t=null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null,n=Tv(this.definitionExpression,t);return e.where=n||"1=1",e}async deleteAttachments(e,t){const n=await dK(this,e,t,K3);return this.lastEditsEventDate=new Date,n}async fetchRecomputedExtents(e){return fK(this,e,K3)}getFeatureType(e){return jK(this.types,this.typeIdField,e)}getFieldDomain(e,t){const n=t?.feature,r=!!this.subtypes?.length;if(r&&!t?.excludeImpliedDomains){const t=AK(this,e);if(t)return t}const i=r&&MK(this,n);if(i){const t=i?.domains?.[e];return"inherited"===t?.type?this._getLayerDomain(e):t}const o=this.getFeatureType(n),s=this._getLayerDomain(e);if(o){const t=o.domains&&o.domains[e];if(t&&"inherited"!==t?.type)return t}if(s)return s;if(!t?.excludeImpliedDomains){const t=IK(this,e);if(t)return t}return null}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,t){return mK(this,e,t,K3)}async queryFeatures(e,t){const n=await this.load(),r=await n.source.queryFeatures(IX.from(e)??n.createQuery(),t);if(r?.features)for(const i of r.features)i.layer=i.sourceLayer=n;return r}async queryObjectIds(e,t){return yK(this,e,t,K3)}async queryFeatureCount(e,t){return gK(this,e,t,K3)}async queryExtent(e,t){return vK(this,e,t,K3)}async queryRelatedFeatures(e,t){return bK(this,e,t,K3)}async queryRelatedFeaturesCount(e,t){return wK(this,e,t,K3)}async queryTopFeatures(e,t){const{source:n,capabilities:r}=await this.load();if(!n.queryTopFeatures||!r?.query?.supportsTopFeaturesQuery)throw new et(K3,"Layer source does not support queryTopFeatures capability");const i=await Promise.resolve().then((()=>Rhe)),o=await n.queryTopFeatures(i.default.from(e),t);if(o?.features)for(const s of o.features)s.layer=s.sourceLayer=this;return o}async queryBins(e,t){const{source:n,capabilities:r}=await this.load();if(!n.queryBins||!r?.operations?.supportsQueryBins)throw new et(K3,"Layer source does not support queryBins capability");GK(e,r,K3);const i=await Promise.resolve().then((()=>She)),o=await n.queryBins(i.default.from(e),t);if(o.features)for(const s of o.features)s.layer=s.sourceLayer=this;return o}async queryTopObjectIds(e,t){const{source:n,capabilities:r}=await this.load();if(!n.queryTopObjectIds||!r?.query.supportsTopFeaturesQuery)throw new et(K3,"Layer source does not support queryTopObjectIds capability");const i=await Promise.resolve().then((()=>Rhe));return n.queryTopObjectIds(i.default.from(e),t)}async queryTopFeaturesExtent(e,t){const{source:n,capabilities:r}=await this.load();if(!n.queryTopExtents||!r?.query?.supportsTopFeaturesQuery)throw new et(K3,"Layer source does not support queryTopExtents capability");const i=await Promise.resolve().then((()=>Rhe));return n.queryTopExtents(i.default.from(e),t)}async queryTopFeatureCount(e,t){const{source:n,capabilities:r}=await this.load();if(!n.queryTopCount||!r?.query?.supportsTopFeaturesQuery)throw new et(K3,"Layer source does not support queryFeatureCount capability");const i=await Promise.resolve().then((()=>Rhe));return n.queryTopCount(i.default.from(e),t)}read(e,t){const n=e.featureCollection;if((n||"Feature Collection"===e.type)&&(this.resourceInfo=e),n){const e=n.layers;e&&1===e.length&&(super.read(e[0],t),null!=n.showLegend&&super.read({showLegend:n.showLegend},t))}super.read(e,t),t&&"service"===t.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:t?.origin??void 0,writeLayerSchema:t?.writeLayerSchema??this._hasMemorySource()};const{origin:n,layerContainerType:r,messages:i}=t;if(this.dynamicDataSource)return i?.push(Q3(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===n||"web-scene"===n)&&"tables"!==r)return i?.push(Q3(this,`a table source can only be written to tables, not ${r}`)),null;if(this._hasMemorySource())return i?.push(Q3(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===n||"web-scene"===n)&&"tables"===r)return i?.push(Q3(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new et(K3,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&("memory"===this.source?.type||F3(this,e))}async save(e){return this._debouncedSaveOperations(J3.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(J3.SAVE_AS,t,e)}_readEditingEnabled(e,t,n){let r=e.layerDefinition?.capabilities;return r?this._hasEditingCapability(r):(r=e.capabilities,t&&"web-map"===n?.origin&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map((e=>e.trim())).includes("editing")}_writeEditingEnabled(e,t,n,r){if(!e){const e=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";Pe("layerDefinition.capabilities",e,t),n&&!r?.writeLayerSchema&&(t.capabilities=e)}}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstValidLayerId(e){return Bl(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then((e=>{const t=e.data;if(t)return this.findFirstValidLayerId(t)}))}async initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),hE(this.renderer,this.fieldsIndex),dE(this.timeInfo,this.fieldsIndex),j3(this,{origin:"service"})}async hasDataChanged(){return _K(this)}async fetchPublishingStatus(){const e=this.source;return e?.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){const e=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||-1!==e.search(/\/FeatureServer\//i)||this.fields?.some((e=>"geometry"===e.type))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach((e=>{const n=e.prototype?.attributes;n&&t&&delete n[t]}))}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new et("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new et("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach((e=>{e.layer=this,e.sourceLayer=this})),this.addHandles([e.on("after-add",(e=>{e.item.layer=this,e.item.sourceLayer=this})),e.on("after-remove",(e=>{e.item.layer=null,e.item.sourceLayer=null}))],"fl-source")}_resetMemorySource(e){e.forEach((e=>{e.layer=null,e.sourceLayer=null})),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};S([To(WJ)],r4.prototype,"attributeTableTemplate",void 0),S([Cp("service","capabilities")],r4.prototype,"readCapabilities",null),S([To({json:{origins:{"web-scene":{write:!1}},write:!0}})],r4.prototype,"charts",void 0),S([To({readOnly:!0})],r4.prototype,"createQueryVersion",null),S([To({json:{read:{source:"layerDefinition.copyrightText"}}})],r4.prototype,"copyright",void 0),S([To({json:{read:{source:"layerDefinition.displayField"}}})],r4.prototype,"displayField",void 0),S([To({types:SL,readOnly:!0})],r4.prototype,"defaultSymbol",void 0),S([To({type:dX})],r4.prototype,"dynamicDataSource",void 0),S([To({type:Boolean})],r4.prototype,"editingEnabled",null),S([Cp(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],r4.prototype,"readEditingEnabled",null),S([Cp("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],r4.prototype,"readEditingEnabledFromWebMap",null),S([su(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],r4.prototype,"writeEditingEnabled",null),S([su("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],r4.prototype,"writeEditingEnabledToWebMap",null),S([To({readOnly:!0})],r4.prototype,"effectiveEditingEnabled",null),S([To({...t4.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:n4}}}}})],r4.prototype,"fields",void 0),S([To(t4.fieldsIndex)],r4.prototype,"fieldsIndex",void 0),S([To({type:yH,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],r4.prototype,"formTemplate",void 0),S([To({json:{read:{source:"layerDefinition.extent"}}})],r4.prototype,"fullExtent",void 0),S([To({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:n4,writer(e,t,n){const r=e?aK.toJSON(e):null;r&&Pe(n,r,t)}}}},read:{source:"layerDefinition.geometryType",reader:aK.read}}})],r4.prototype,"geometryType",void 0),S([To({json:{read:{source:"layerDefinition.hasM"}}})],r4.prototype,"hasM",void 0),S([To({json:{read:{source:"layerDefinition.hasZ"}}})],r4.prototype,"hasZ",void 0),S([To(VJ)],r4.prototype,"id",void 0),S([To({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],r4.prototype,"infoFor3D",void 0),S([To({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],r4.prototype,"isTable",void 0),S([Cp("service","isTable",["type","geometryType"]),Cp("isTable",["layerDefinition.type","layerDefinition.geometryType"])],r4.prototype,"readIsTable",null),S([su("web-map","isTable")],r4.prototype,"writeIsTable",null),S([To(LJ)],r4.prototype,"labelsVisible",void 0),S([To({type:[r0],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:R3,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:R3,write:{enabled:!0,layerContainerTypes:lB}}},name:"layerDefinition.drawingInfo.labelingInfo",read:R3,write:!0}})],r4.prototype,"labelingInfo",void 0),S([To((()=>{const e=_e(zJ);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(e,t,n){Pe(n,$I(e),t)}}},e})())],r4.prototype,"opacity",void 0),S([To(PJ)],r4.prototype,"legendEnabled",void 0),S([To({type:["show","hide"],json:(()=>{const e=_e(HJ.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],r4.prototype,"listMode",void 0),S([Cp("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],r4.prototype,"readGlobalIdField",null),S([To({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:n4}}}}})],r4.prototype,"objectIdField",void 0),S([Cp("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],r4.prototype,"readObjectIdField",null),S([To({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],r4.prototype,"operationalLayerType",void 0),S([To(t4.outFields)],r4.prototype,"outFields",void 0),S([To({readOnly:!0})],r4.prototype,"parsedUrl",null),S([To({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],r4.prototype,"path",void 0),S([To(RJ)],r4.prototype,"popupEnabled",void 0),S([To({type:SI,json:{name:"popupInfo",write:!0}})],r4.prototype,"popupTemplate",void 0),S([To({readOnly:!0})],r4.prototype,"defaultPopupTemplate",null),S([To({types:HV,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:WV,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:lB,overridePolicy:(e,t,n)=>({ignoreOrigin:n?.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,n)=>({ignoreOrigin:n?.writeLayerSchema})}}})],r4.prototype,"renderer",null),S([Cp("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Cp("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],r4.prototype,"readRenderer",null),S([To()],r4.prototype,"resourceInfo",void 0),S([To((()=>{const e=_e(kJ);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],r4.prototype,"screenSizePerspectiveEnabled",void 0),S([To({clonable:!1})],r4.prototype,"source",null),S([Dp("source")],r4.prototype,"castSource",null),S([Cp("portal-item","source",["featureSet"]),Cp("web-map","source",["featureSet"])],r4.prototype,"readSource",null),S([To({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],r4.prototype,"spatialReference",void 0),S([To({type:Number})],r4.prototype,"subtypeCode",void 0),S([To({type:[M3]})],r4.prototype,"templates",void 0),S([Cp("templates",["editFieldsInfo","creatorField","editorField","templates"])],r4.prototype,"readTemplates",null),S([To({type:_3})],r4.prototype,"timeInfo",void 0),S([To()],r4.prototype,"title",void 0),S([Cp("service","title",["name"]),Cp("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],r4.prototype,"readTitle",null),S([Cp("web-map","title",["layerDefinition.name","title"])],r4.prototype,"readTitleFromWebMap",null),S([To({type:String})],r4.prototype,"sublayerTitleMode",void 0),S([To({json:{read:!1}})],r4.prototype,"type",void 0),S([To({type:String})],r4.prototype,"typeIdField",void 0),S([Cp("service","typeIdField"),Cp("typeIdField",["layerDefinition.typeIdField"])],r4.prototype,"readTypeIdField",null),S([To({type:[I3]})],r4.prototype,"types",void 0),S([Cp("service","types",["types"]),Cp("types",["layerDefinition.types"])],r4.prototype,"readTypes",null),S([To({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],r4.prototype,"visible",void 0),S([Cp("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],r4.prototype,"readVisible",null),r4=S([gs("esri.layers.FeatureLayer")],r4);const i4=r4,o4=Object.freeze(Object.defineProperty({__proto__:null,default:i4},Symbol.toStringTag,{value:"Module"}));let s4=class extends Rc{constructor(e){super(e),this.addHandles([this.on("before-add",(e=>{null==e.item&&e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(e=>this._release(e.item)))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(Rc.ofType(this.itemType.Type))(e):new Rc(e)}};function a4(e,t){return{type:e,cast:Nc,set(n){const r=Lc(n,this._get(t),e);r.owner=this,this._set(t,r)}}}S([To()],s4.prototype,"owner",null),s4=S([gs("esri.core.support.OwningCollection")],s4);let l4=class extends s4{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};S([mc({Type:jL,ensureType:so(jL)})],l4.prototype,"itemType",void 0),l4=S([gs("esri.support.GraphicsCollection")],l4);let c4=class extends(IY(f3(kH))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new l4,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};S([To({type:aJ})],c4.prototype,"elevationInfo",void 0),S([To(a4(l4,"graphics"))],c4.prototype,"graphics",void 0),S([To({type:["show","hide"]})],c4.prototype,"listMode",void 0),S([To()],c4.prototype,"screenSizePerspectiveEnabled",void 0),S([To({readOnly:!0})],c4.prototype,"type",void 0),S([To({constructOnly:!0})],c4.prototype,"internal",void 0),c4=S([gs("esri.layers.GraphicsLayer")],c4);const u4=c4;var h4;const p4=new au({flow_from:"flow-from",flow_to:"flow-to"});let d4=h4=class extends($P(Hs)){constructor(e){super(e),this.density=.8,this.color=new gy([255,255,255,1]),this.maxPathLength=200,this.trailWidth=1.5,this.flowSpeed=10,this.trailLength=100,this.smoothing=0,this.flowRepresentation="flow-from",this.type="flow",this.authoringInfo=null,this.legendOptions=null,this.trailCap="butt",this.background="none"}clone(){const{density:e,maxPathLength:t,trailWidth:n,flowSpeed:r,trailLength:i,smoothing:o,flowRepresentation:s,trailCap:a,background:l}=this,c=this.color.clone(),u=(this.visualVariables||[]).map((e=>e.clone())),h=this.authoringInfo?.clone(),p=this.legendOptions?.clone();return new h4({density:e,color:c,maxPathLength:t,trailWidth:n,flowSpeed:r,trailLength:i,trailCap:a,background:l,smoothing:o,flowRepresentation:s,visualVariables:u,authoringInfo:h,legendOptions:p})}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}};S([To({type:Number,json:{write:!0}})],d4.prototype,"density",void 0),S([To({type:gy,json:{write:{allowNull:!0}}})],d4.prototype,"color",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],d4.prototype,"maxPathLength",void 0),S([To({type:Number,cast:jI,json:{write:!0}})],d4.prototype,"trailWidth",void 0),S([To({type:Number,json:{write:!0}})],d4.prototype,"flowSpeed",void 0),S([To({type:Number,json:{write:!0}})],d4.prototype,"trailLength",void 0),S([To({type:Number,cast:jI,json:{write:!1}})],d4.prototype,"smoothing",void 0),S([To({type:p4.apiValues,json:{type:p4.jsonValues,read:{reader:p4.read},write:{writer:p4.write}}})],d4.prototype,"flowRepresentation",void 0),S([WM({flowRenderer:"flow"})],d4.prototype,"type",void 0),S([To({type:_N,json:{write:!0}})],d4.prototype,"authoringInfo",void 0),S([To({type:CD,json:{write:!0}})],d4.prototype,"legendOptions",void 0),S([To({type:String,json:{write:!0}})],d4.prototype,"trailCap",void 0),S([To({type:String,json:{write:!0}})],d4.prototype,"background",void 0),d4=h4=S([gs("esri.renderers.FlowRenderer")],d4);const f4=d4;let m4=class extends Hs{constructor(){super(...arguments),this.value=null,this.label=null,this.color=null}};S([To({type:Number,json:{write:!0}})],m4.prototype,"value",void 0),S([To({type:String,json:{write:!0}})],m4.prototype,"label",void 0),S([To({type:gy,json:{type:[yo],write:!0}})],m4.prototype,"color",void 0),m4=S([gs("esri.renderers.support.ColormapInfo")],m4);const y4=m4,g4=["random","ndvi","ndvi2","ndvi3","elevation","gray","hillshade"],v4=[{id:"aspect",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"black-to-white",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blue-bright",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blue-light-to-dark",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blue-green-bright",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blue-green-light-to-dark",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brown-light-to-dark",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brown-to-blue-green-diverging-right",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brown-to-blue-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficient-bias",fromColor:[214,214,255],toColor:[0,57,148]},{id:"cold-to-hot-diverging",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"condition-number",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyan-to-purple",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyan-light-to-blue-dark",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors",fromColor:[255,235,214],toColor:[196,10,10]},{id:"gray-light-to-dark",fromColor:[219,219,219],toColor:[69,69,69]},{id:"green-bright",fromColor:[204,255,204],toColor:[14,204,14]},{id:"green-light-to-dark",fromColor:[220,245,233],toColor:[34,102,51]},{id:"green-to-blue",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orange-bright",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orange-light-to-dark",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partial-spectrum",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partial-spectrum-1-diverging",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partial-spectrum-2-diverging",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pink-to-yellow-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pink-to-yellow-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purple-bright",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purple-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purple-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purple-blue-bright",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purple-blue-light-to-dark",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purple-red-bright",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purple-red-light-to-dark",fromColor:[250,215,246],toColor:[143,17,57]},{id:"red-bright",fromColor:[255,204,204],toColor:[219,0,0]},{id:"red-light-to-dark",fromColor:[255,224,224],toColor:[143,10,10]},{id:"red-to-blue-diverging-bright",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"red-to-blue-diverging-dark",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"red-to-green",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"red-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"red-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrum-full-bright",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrum-full-dark",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrum-full-light",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"white-to-black",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellow-to-dark-red",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellow-to-green-to-dark-blue",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellow-to-red",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellow-green-bright",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellow-green-light-to-dark",fromColor:[215,240,175],toColor:[96,107,45]}],b4=new au({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function w4(e,t){if(!e||!t||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]>t[n]+2||e[n]<t[n]-2)return!1;return!0}function _4(e){const t=e.clone();return t.fromColor=e.toColor,t.toColor=e.fromColor,t.algorithm=e.algorithm,t}function x4(e){if("multipart"===e.type){const t=e.clone();return t.colorRamps?.length&&(t.colorRamps=t.colorRamps.reverse().map((e=>_4(e)))),t}return _4(e)}function S4(e,t){if(!e)return;const n=v4;let r=null;return"algorithmic"===e.type?n.some((t=>{if(w4(e.fromColor.toRgb(),t.fromColor)&&w4(e.toColor.toRgb(),t.toColor))return r=t.id,!0})):"multipart"===e.type&&n.some((t=>{const n=e.colorRamps,i=t.colorRamps;if(n&&i&&n.length===i.length&&!i.some(((e,t)=>{if(!w4(n[t].fromColor.toRgb(),new gy(e.fromColor).toRgb())||!w4(n[t].toColor.toRgb(),new gy(e.toColor).toRgb()))return!0}))){if(r)return!0;r=t.id}})),r}function T4(e,t,n=!1){if(!e)return;let r=!1,i=S4(e);return null!=i||n||(r=!0,i=S4(e=x4(e))),i?{id:i,inverted:r}:void 0}function E4(e,t=!1){const n="string"==typeof e?e:T4(e,void 0,t)?.id;return n?b4.toJSON(n):null}function M4(e,t="esriCIELabAlgorithm"){const n=v4.find((({id:t})=>t===e));return n?n.colorRamps?{type:"multipart",colorRamps:n.colorRamps.map((e=>({type:"algorithmic",algorithm:t,fromColor:[...e.fromColor],toColor:[...e.toColor]})))}:{type:"algorithmic",algorithm:t,fromColor:[...n.fromColor],toColor:[...n.toColor]}:null}function A4(e){const t=(e=e||{}).numColors||256,n=e.distanceOffset||0,r=null!=e.isCustomInterval?e.isCustomInterval:null!==e.distanceInterval&&e.distanceInterval!==1/(t-1),i=e.distanceInterval||1/(t-1);return{...e,numColors:t,distanceOffset:n,interpolateAlpha:!!e.interpolateAlpha,distanceInterval:i,isCustomInterval:r,weights:e.weights}}function I4(e,t,n){const{numColors:r,distanceOffset:i,distanceInterval:o,isCustomInterval:s}=n,a=0===e.s,l=0===t.s;let c=e.h,u=t.h;a&&!l?c=u:l&&!a&&(t={...t,h:c},u=c);let h,p=Math.abs(u-c);const d=360;p<d/2?h=(u-c)*o:(p=d-p,h=c>u?p*o:-p*o);const f=(t.s-e.s)*o,m=(t.v-e.v)*o;let{s:y,v:g}=e,v=c;if(i){const e=i/o;v=(v+e*h+d)%d,y+=e*f,g+=e*m}const b=[];for(let w=0;w<r-1;w++)b.push({h:v,s:y,v:g}),v=(v+h+d)%d,y+=f,g+=m;return b.push(s?{h:v,s:y,v:g}:t),b}function C4(e,t,n){const{numColors:r,distanceOffset:i,distanceInterval:o,isCustomInterval:s}=n;let{l:a,a:l,b:c}=e;const u=(t.l-a)*o,h=(t.a-l)*o,p=(t.b-c)*o,d=[];if(i){const e=i/o;a+=e*u,l+=e*h,c+=e*p}for(let f=0;f<r-1;f++)d.push({l:a,a:l,b:c}),a+=u,l+=h,c+=p;return d.push(s?{l:a,a:l,b:c}:t),d}function O4(e,t,n){const{numColors:r,distanceOffset:i,distanceInterval:o,isCustomInterval:s}=n,a=e.h,l=t.h,c=2*Math.PI;let u;if(a<=l){const e=l-a,t=l-a-c;u=Math.abs(t)<Math.abs(e)?t:e}else{const e=l+c-a,t=l-a;u=Math.abs(t)<Math.abs(e)?t:e}const h=u*o,p=(t.l-e.l)*o,d=(t.c-e.c)*o;let{l:f,c:m,h:y}=e;if(i){const e=i/o;f+=e*p,m+=e*d,y=(y+e*h+c)%c}const g=[];for(let v=0;v<r-1;v++)g.push({l:f,c:m,h:y}),f+=p,m+=d,y=(y+h+c)%c;return g.push(s?{l:f,c:m,h:y}:t),g}function k4(e,t){let{fromColor:n,toColor:r}=e;n=[...n],r=[...r],3===n.length&&(n=n.concat([255])),3===r.length&&(r=r.concat([255]));const i=e.algorithm||"esriCIELabAlgorithm",o=A4(t),{numColors:s,distanceOffset:a,isCustomInterval:l,interpolateAlpha:c}=o;if(1===s&&0===a)return[n];if(2===s&&0===a&&!l)return[n,r];const u={r:n[0],g:n[1],b:n[2]},h={r:r[0],g:r[1],b:r[2]},p="esriCIELabAlgorithm"===i?C4(Nj(u),Nj(h),o):"esriHSVAlgorithm"===i?I4(Lj(u),Lj(h),o):O4(Pj(u),Pj(h),o),d=[],f=n[3]??255,m=((r[3]??255)-f)/(s-1);for(let y=0;y<s;y++){const{r:e,g:t,b:n}=Rj(p[y]),r=c?Math.round(f+m*y):255;d.push([e,t,n,r])}return d}function R4(e,t){const{numColors:n,interpolateAlpha:r}=A4(t);let i=t?.weights;const{colorRamps:o}=e;if(i){const e=i.reduce(((e,t)=>e+t));i=i.map((t=>t/e))}else{i=[];for(let e=0;e<o.length;e++)i[e]=1/o.length}const s=[],a=1/(n-1);let l=0,c=!1;for(let h=0;h<o.length;h++){const e=s.length,t=c?0:e*a-l;l+=i[h];let u=h===o.length-1?n-1-e:(i[h]-t)/a;if(c=Math.ceil(u)===u,u=Math.ceil(u),0===u)continue;const p=k4(o[h],{numColors:u,interpolateAlpha:r,distanceOffset:t/i[h],distanceInterval:a/i[h]});s.push(...p)}const u=[...o[o.length-1].toColor];return 3===u.length&&u.push(255),s.push(u),s}function L4(e,t){const n=$s(e)?e.toJSON():e;return"multipart"===n.type?R4(n,t):k4(n,t)}function N4(e,t){const n=L4(e,t),r=t?.interpolateAlpha;return n.forEach(((e,t)=>{e.unshift(t),r||e.pop()})),n}function P4(e){const t=[];for(let n=0;n<e.length;n+=4){const r=Lj({r:e[n],g:e[n+1],b:e[n+2]});t.push([r.h/60,r.s/100,255*r.v/100])}return t}function D4(e){const t=Lj(e);return{type:"HsvColor",Hue:t.h,Saturation:t.s,Value:t.v,AlphaValue:255}}function F4(e){return{Algorithm:e.toJSON()?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:D4(e.fromColor),ToColor:D4(e.toColor)}}function j4(e){const t=E4(e);if(!t)return null;if("algorithmic"===e.type)return{...F4(e),Name:t};if(e.colorRamps){const n=e.colorRamps.map(F4);return{type:"MultiPartColorRamp",NumColorRamps:n.length,ArrayOfColorRamp:n,Name:t}}return null}function U4(e){const t=e.reverse().map((e=>{const t=e.toString(16);return t.length<2?"0"+t:t}));return 4294967295&Number.parseInt(t.join(""),16)}var z4;let G4=z4=class extends Hs{constructor(e){super(e),this.colormapInfos=null,this.type="raster-colormap"}static createFromColormap(e,t){if(!e)return null;const n=5===e[0].length,r=[...e].sort(((e,t)=>e[0]-t[0])).map((e=>y4.fromJSON({value:e[0],color:n?e.slice(1,5):e.slice(1,4).concat([255]),label:t?t[e[0]]??"":e[0]})));return new z4({colormapInfos:r})}static createFromColorramp(e){const t=N4(e);return z4.createFromColormap(t)}clone(){return new z4({colormapInfos:this.colormapInfos.map((e=>e.toJSON()))})}extractColormap(){return this.colormapInfos.map((({value:e,color:t})=>[e,t.r,t.g,t.b,t.a>1?t.a:255*t.a&255])).sort(((e,t)=>e[0]-t[0]))}};S([To({type:[y4],json:{write:!0}})],G4.prototype,"colormapInfos",void 0),S([WM({rasterColormap:"raster-colormap"})],G4.prototype,"type",void 0),G4=z4=S([gs("esri.renderers.RasterColormapRenderer")],G4);const V4=G4;var B4;let $4=B4=class extends Hs{constructor(e){super(e),this.altitude=45,this.azimuth=315,this.colorRamp=null,this.hillshadeType="traditional",this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.scalingType="none",this.type="raster-shaded-relief",this.zFactor=1}readColorRamp(e){return hN(e)}clone(){return new B4({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:_e(this.colorRamp)})}};S([To({type:Number,json:{write:!0}})],$4.prototype,"altitude",void 0),S([To({type:Number,json:{write:!0}})],$4.prototype,"azimuth",void 0),S([To({types:uN,json:{write:!0}})],$4.prototype,"colorRamp",void 0),S([Cp("colorRamp")],$4.prototype,"readColorRamp",null),S([To({type:["traditional","multi-directional"],json:{write:!0}})],$4.prototype,"hillshadeType",void 0),S([To({type:Number,json:{write:!0}})],$4.prototype,"pixelSizePower",void 0),S([To({type:Number,json:{write:!0}})],$4.prototype,"pixelSizeFactor",void 0),S([To({type:["none","adjusted"],json:{write:!0}})],$4.prototype,"scalingType",void 0),S([WM({rasterShadedRelief:"raster-shaded-relief"})],$4.prototype,"type",void 0),S([To({type:Number,json:{write:!0}})],$4.prototype,"zFactor",void 0),$4=B4=S([gs("esri.renderers.RasterShadedReliefRenderer")],$4);const H4=$4,W4=new au({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),q4={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"};var Z4;let Y4=Z4=class extends Hs{constructor(e){super(e),this.colorRamp=null,this.computeGamma=!1,this.dynamicRangeAdjustment=!1,this.gamma=[],this.maxPercent=null,this.minPercent=null,this.numberOfStandardDeviations=null,this.outputMax=null,this.outputMin=null,this.sigmoidStrengthLevel=null,this.histograms=null,this.useGamma=!1,this.stretchType="none",this.type="raster-stretch"}readColorRamp(e){if(e)return hN(e)}get statistics(){return this._get("statistics")}set statistics(e){it(Ye.getLogger(this),"statistics",{replacement:"customStatistics",version:"4.31",warnOnce:!0}),this._set("statistics",e)}get customStatistics(){const e=this.statistics;return e&&Array.isArray(e[0])?e.map((e=>({min:e[0],max:e[1],avg:e[2],stddev:e[3]}))):e}set customStatistics(e){this._set("statistics",e?.map((e=>[e.min,e.max,e.avg??0,e.stddev??1])))}readCustomStatistics(e){return e?.map((e=>({min:e[0],max:e[1],avg:e[2],stddev:e[3]})))}writeCustomStatistics(e,t,n){e?.length&&(t[n]=e.map((e=>[e.min,e.max,e.avg??0,e.stddev??1])))}readStretchType(e,t){let n=t.stretchType;return"number"==typeof n&&(n=q4[n]),W4.read(n)}clone(){return new Z4({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:_e(this.statistics),customStatistics:_e(this.customStatistics),gamma:_e(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:_e(this.colorRamp),histograms:_e(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment})}};S([To({types:uN,json:{write:!0}})],Y4.prototype,"colorRamp",void 0),S([Cp("colorRamp")],Y4.prototype,"readColorRamp",null),S([To({type:Boolean,json:{write:!0}})],Y4.prototype,"computeGamma",void 0),S([To({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],Y4.prototype,"dynamicRangeAdjustment",void 0),S([To({type:[Number],json:{write:!0}})],Y4.prototype,"gamma",void 0),S([To({type:Number,json:{write:!0}})],Y4.prototype,"maxPercent",void 0),S([To({type:Number,json:{write:!0}})],Y4.prototype,"minPercent",void 0),S([To({type:Number,json:{write:!0}})],Y4.prototype,"numberOfStandardDeviations",void 0),S([To({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],Y4.prototype,"outputMax",void 0),S([To({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],Y4.prototype,"outputMin",void 0),S([To({type:Number,json:{write:!0}})],Y4.prototype,"sigmoidStrengthLevel",void 0),S([To({})],Y4.prototype,"statistics",null),S([To()],Y4.prototype,"histograms",void 0),S([To({json:{type:[[Number]],name:"statistics",write:!0}})],Y4.prototype,"customStatistics",null),S([Cp("customStatistics")],Y4.prototype,"readCustomStatistics",null),S([su("customStatistics")],Y4.prototype,"writeCustomStatistics",null),S([To({type:Boolean,json:{write:!0}})],Y4.prototype,"useGamma",void 0),S([To({type:W4.apiValues,json:{type:W4.jsonValues,write:W4.write}})],Y4.prototype,"stretchType",void 0),S([Cp("stretchType",["stretchType"])],Y4.prototype,"readStretchType",null),S([WM({rasterStretch:"raster-stretch"})],Y4.prototype,"type",void 0),Y4=Z4=S([gs("esri.renderers.RasterStretchRenderer")],Y4);const X4=Y4,J4={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new lv({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:Ip.WebMercator}),minus180Line:new lv({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:Ip.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new lv({paths:[[[180,-180],[180,180]]],spatialReference:Ip.WGS84}),minus180Line:new lv({paths:[[[-180,-180],[-180,180]]],spatialReference:Ip.WGS84})}};function K4(e,t){return Math.ceil((e-t)/(2*t))}function Q4(e,t){const n=e5(e);for(const r of n)for(const e of r)e[0]+=t;return e}function e5(e){return dv(e)?e.rings:e.paths}function t5(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function n5(e){return"string"==typeof e?ba(e):_e(e)}function r5(e,t,n){const r={};for(const i in e){if("declaredClass"===i)continue;const t=e[i];if(null!=t&&"function"!=typeof t)if(Array.isArray(t))r[i]=t.map((e=>r5(e)));else if("object"==typeof t)if(t.toJSON){const e=t.toJSON(n?.[i]);r[i]=JSON.stringify(e)}else r[i]=JSON.stringify(t);else r[i]=t}return r}async function i5(e,t,n,r){const i=n5(e),o=t[0].spatialReference,s={...r,responseType:"json",query:{...i.query,f:"json",sr:th(o),target:JSON.stringify({geometryType:mv(t[0]),geometries:t}),cutter:JSON.stringify(n)}},a=await Bl(i.path+"/cut",s),{cutIndexes:l,geometries:c=[]}=a.data;return{cutIndexes:l,geometries:c.map((e=>{const t=fv(e);return t.spatialReference=o,t}))}}function o5(e){return{geometryType:mv(e[0]),geometries:e.map((e=>e.toJSON()))}}function s5(e,t,n){const r=gv(t);return e.map((e=>{const t=r.fromJSON(e);return t.spatialReference=n,t}))}async function a5(e,t,n){const r="string"==typeof e?ba(e):e,i=t[0].spatialReference,o=mv(t[0]),s={...n,query:{...r.query,f:"json",sr:th(i),geometries:JSON.stringify(o5(t))}},{data:a}=await Bl(r.path+"/simplify",s);return s5(a.geometries,o,i)}const l5=()=>Ye.getLogger("esri.geometry.support.normalizeUtils");function c5(e){return"polygon"===e.type}function u5(e){return"polygon"===e[0].type}function h5(e){return"polyline"===e[0].type}function p5(e){const t=[];let n=0,r=0;for(let i=0;i<e.length;i++){const o=e[i];let s=null;for(let e=0;e<o.length;e++)s=o[e],t.push(s),0===e?(n=s[0],r=n):(n=Math.min(n,s[0]),r=Math.max(r,s[0]));s&&t.push([(n+r)/2,0])}return t}function d5(e,t){if(!(e instanceof lv||e instanceof nv)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw l5().error(e),new et(e)}const n=e5(e),r=[];for(const i of n){const e=[];r.push(e),e.push([i[0][0],i[0][1]]);for(let n=0;n<i.length-1;n++){const r=i[n][0],o=i[n][1],s=i[n+1][0],a=i[n+1][1],l=Math.sqrt((s-r)*(s-r)+(a-o)*(a-o)),c=(a-o)/l,u=(s-r)/l,h=l/t;if(h>1){for(let a=1;a<=h-1;a++){const n=a*t,i=u*n+r,s=c*n+o;e.push([i,s])}const n=(l+Math.floor(h-1)*t)/2,i=u*n+r,s=c*n+o;e.push([i,s])}e.push([s,a])}}return c5(e)?new nv({rings:r,spatialReference:e.spatialReference}):new lv({paths:r,spatialReference:e.spatialReference})}function f5(e,t,n){if(t){const t=d5(e,1e6);e=Xp(t,!0)}return n&&(e=Q4(e,n)),e}function m5(e,t,n){if(Array.isArray(e)){const r=e[0];if(r>t){const n=K4(r,t);e[0]=r+n*(-2*t)}else if(r<n){const t=K4(r,n);e[0]=r+t*(-2*n)}}else{const r=e.x;if(r>t){const n=K4(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<n){const t=K4(r,n);e=e.clone().offset(t*(-2*n),0)}}return e}function y5(e,t){let n=-1;for(let r=0;r<t.cutIndexes.length;r++){const i=t.cutIndexes[r],o=t.geometries[r],s=e5(o);for(let e=0;e<s.length;e++){const t=s[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const r=t[e][0];n=r>n?r:n}n=Number(n.toFixed(9));const r=-360*K4(n,180);for(let i=0;i<t.length;i++){const t=o.getPoint(e,i);o.setPoint(e,i,t.clone().offset(r,0))}return!0}}))}if(i===n){if(u5(e))for(const t of e5(o))e[i]=e[i].addRing(t);else if(h5(e))for(const t of e5(o))e[i]=e[i].addPath(t)}else n=i,e[i]=o}return e}async function g5(e,t,n){if(!Array.isArray(e))return g5([e],t);t&&"string"!=typeof t&&l5().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r="string"==typeof t?t:t?.url??Ue.geometryServiceUrl;let i,o,s,a,l,c,u,h,p=0;const d=[],f=[];for(const w of e)if(null!=w)if(i||(i=w.spatialReference,o=eh(i),s=i.isWebMercator,c=s?102100:4326,a=J4[c].maxX,l=J4[c].minX,u=J4[c].plus180Line,h=J4[c].minus180Line),o)if("mesh"===w.type)f.push(w);else if("point"===w.type)f.push(m5(w.clone(),a,l));else if("multipoint"===w.type){const e=w.clone();e.points=e.points.map((e=>m5(e,a,l))),f.push(e)}else if("extent"===w.type){const e=w.clone()._normalize(!1,!1,o);f.push(e.rings?new nv(e):e)}else if(w.extent){const e=w.extent,t=K4(e.xmin,l)*(2*a);let n=0===t?w.clone():Q4(w.clone(),t);e.offset(t,0);let{xmin:r,xmax:i}=e;r=Number(r.toFixed(9)),i=Number(i.toFixed(9)),e.intersects(u)&&i!==a?(p=i>p?i:p,n=f5(n,s),d.push(n),f.push("cut")):e.intersects(h)&&r!==l?(p=i*(2*a)>p?i*(2*a):p,n=f5(n,s,360),d.push(n),f.push("cut")):f.push(n)}else f.push(w.clone());else f.push(w);else f.push(w);let m=K4(p,a),y=-90;const g=m,v=new lv;for(;m>0;){const e=360*m-180;v.addPath([[e,y],[e,-1*y]]),y*=-1,m--}if(d.length>0&&g>0){const t=y5(d,await i5(r,d,v,n)),i=[],o=[];for(let n=0;n<f.length;n++){const r=f[n];if("cut"!==r)o.push(r);else{const r=t.shift(),a=e[n];null!=a&&"polygon"===a.type&&a.rings&&a.rings.length>1&&r.rings.length>=a.rings.length?(i.push(r),o.push("simplify")):o.push(s?Yp(r):r)}}if(!i.length)return o;const a=await a5(r,i,n),l=[];for(let e=0;e<o.length;e++){const t=o[e];"simplify"!==t?l.push(t):l.push(s?Yp(a.shift()):a.shift())}return l}const b=[];for(let w=0;w<f.length;w++){const e=f[w];if("cut"!==e)b.push(e);else{const e=d.shift();b.push(!0===s?Yp(e):e)}}return b}function v5(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&eh(e.spatialReference);if(!n)return t;const[r,i]=n.valid,o=2*i,{width:s}=t;let a,{xmin:l,xmax:c}=t;if([l,c]=[c,l],"extent"===e.type||0===s||s<=i||s>o||l<r||c>i)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;a=p5(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;a=p5(e.paths);break;case"multipoint":a=e.points}const u=t.clone();for(let h=0;h<a.length;h++){let e=a[h][0];e<0?(e+=i,c=Math.max(e,c)):(e-=i,l=Math.min(e,l))}return u.xmin=l,u.xmax=c,u.width<s?(u.xmin-=i,u.xmax-=i,u):t}function b5(e,t,n){const r=eh(n);if(null==r)return e;const[i,o]=r.valid,s=2*o;let a=0,l=0;t>o?a=Math.ceil(Math.abs(t-o)/s):t<i&&(a=-Math.ceil(Math.abs(t-i)/s)),e>o?l=Math.ceil(Math.abs(e-o)/s):e<i&&(l=-Math.ceil(Math.abs(e-i)/s));let c=e+(a-l)*s;const u=c-t;return u>o?c-=s:u<i&&(c+=s),c}function w5(e,t){const n=eh(t);if(n){const[t,r]=n.valid,i=r-t;if(e<t)for(;e<t;)e+=i;if(e>r)for(;e>r;)e-=i}return e}let _5=class{constructor(e=null,t=null,n=null){this.minValue=e,this.maxValue=t,this.noDataValue=n}};const x5=9999999e31,S5=2e-7,T5={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function E5(e){return T5[e]??[-34028234663852886e22,34028234663852886e22]}function M5(e,t){return null==e||null==t?"s32":e<0?e>=-128&&t<128?"s8":e>=-32768&&t<32768?"s16":"s32":t<256?"u8":t<65536?"u16":"u32"}function A5(e){return(e?.startsWith("s")||e?.startsWith("u"))??!1}function I5(e,t,n,r){let[i,o]=E5(n);const s=A5(n);return s&&(i-=1e-5,o+=1e-5),s?n.startsWith("u")?O5(e,t,r,[i,o]):k5(e,t,r,[i,o]):R5(e,t,r,[i,o])}function C5(e,t){for(let n=0;n<t.length;n++)t[n]&&isNaN(e[n])&&(t[n]=0,e[n]=0)}function O5(e,t,n,r){const[i,o]=r;for(let s=0;s<t.length;s++)if(t[s]){const r=e[s];r<i||r>o?t[s]=0:n[s]=r+.5|0}}function k5(e,t,n,r){const[i,o]=r;for(let s=0;s<t.length;s++)if(t[s]){const r=e[s];r<i||r>o?t[s]=0:n[s]=r+(r>0?.5:-.5)|0}}function R5(e,t,n,r){const[i,o]=r;for(let s=0;s<t.length;s++)if(t[s]){const r=e[s];r<i||r>o?t[s]=0:n[s]=r}}function L5(e,t,n){if(e.depthCount&&e.depthCount>1)return;const{pixels:r,statistics:i,pixelType:o}=e,s=r[0].length,a=e.bandMasks??[],l=e.mask??new Uint8Array(s).fill(255),c="f32"===o||"f64"===o,u=E5(o);let h=!1;for(let p=0;p<r.length;p++){const e="number"==typeof t?t:t[p];if(null==e)continue;const s=i?.[p]?.minValue??u[0],d=i?.[p]?.maxValue??u[1];if(s>e+Number.EPSILON||d<e-Number.EPSILON)continue;const f=a[p]||l.slice(),m=r[p],y=n?.customFloatTolerance;if(c&&0!==y){let t=y;t||(t=Math.abs(e)>=x5?S5*Math.abs(e):"f32"===o?2**-23:Number.EPSILON);for(let n=0;n<m.length;n++)f[n]&&Math.abs(m[n]-e)<t&&(m[n]=0,f[n]=0,l[n]=0,h=!0)}else for(let t=0;t<m.length;t++)f[t]&&m[t]===e&&(m[t]=0,f[t]=0,l[t]=0,h=!0);a[p]=f}h&&(e.bandMasks=e.bandMasks||e.pixels.length>1?a:null,e.mask=l),h&&"updateStatistics"in e&&e.updateStatistics()}var N5;let P5=N5=class extends Hs{static createEmptyBand(e,t){return new(N5.getPixelArrayConstructor(e))(t)}static combineBandMasks(e){if(e.length<2)return e[0];const t=e[0].length,n=new Uint8Array(t).fill(255);for(let r=0;r<e.length;r++){const i=e[r];for(let e=0;e<t;e++)i[e]||(n[e]=0)}return n}static getPixelArrayConstructor(e){let t;switch(e){case"u1":case"u2":case"u4":case"u8":t=Uint8Array;break;case"u16":t=Uint16Array;break;case"u32":t=Uint32Array;break;case"s8":t=Int8Array;break;case"s16":t=Int16Array;break;case"s32":t=Int32Array;break;case"f32":case"c64":case"c128":case"unknown":t=Float32Array;break;case"f64":t=Float64Array}return t}constructor(e){super(e),this.width=null,this.height=null,this.pixelType="f32",this.validPixelCount=null,this.mask=null,this.maskIsAlpha=!1,this.premultiplyAlpha=!1,this.statistics=null,this.depthCount=1}castPixelType(e){if(!e)return"f32";let t=e.toLowerCase();return["u1","u2","u4"].includes(t)?t="u8":["unknown","u8","s8","u16","s16","u32","s32","f32","f64"].includes(t)||(t="f32"),t}getPlaneCount(){return this.pixels?.length}addData(e){if(!e.pixels||e.pixels.length!==this.width*this.height)throw new et("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]),this.statistics||(this.statistics=[]),this.pixels.push(e.pixels),this.statistics.push(e.statistics??new _5)}getAsRGBA(){const e=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case"s8":case"s16":case"u16":case"s32":case"u32":case"f32":case"f64":this._fillFromNon8Bit(e);break;default:this._fillFrom8Bit(e)}return new Uint8ClampedArray(e)}getAsRGBAFloat(){const e=new Float32Array(this.width*this.height*4);return this._fillFrom32Bit(e),e}updateStatistics(){if(!this.pixels)return;this.statistics=this.pixels.map((e=>D5(e,this.mask)));const e=this.mask;let t=0;if(null!=e)for(let n=0;n<e.length;n++)e[n]&&t++;else t=this.width*this.height;this.validPixelCount=t}clamp(e){if(!e||"f64"===e||"f32"===e||!this.pixels)return;const[t,n]=E5(e),r=this.pixels,i=this.width*this.height,o=r.length;let s,a,l;const c=[];for(let u=0;u<o;u++){l=N5.createEmptyBand(e,i),s=r[u];for(let e=0;e<i;e++)a=s[e],l[e]=a>n?n:a<t?t:a;c.push(l)}this.pixels=c,this.pixelType=e}extractBands(e){const{pixels:t,statistics:n}=this;if(null==e||0===e.length||!t||0===t.length)return this;const r=t.length,i=e.some((e=>e>=t.length)),o=r===e.length&&!e.some(((e,t)=>e!==t));if(i||o)return this;const s=this.bandMasks?.length===r?e.map((e=>this.bandMasks[e])):void 0;let{mask:a,validPixelCount:l}=this;const{width:c,height:u}=this;return s?.length&&(a=N5.combineBandMasks(s),l=a.filter((e=>!!e)).length),new N5({pixelType:this.pixelType,width:c,height:u,mask:a,bandMasks:s,validPixelCount:l,maskIsAlpha:this.maskIsAlpha,pixels:e.map((e=>t[e])),statistics:n&&e.map((e=>n[e]))})}clone(){const e=new N5({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});let t;null!=this.mask&&(e.mask=new Uint8Array(this.mask)),this.bandMasks&&(e.bandMasks=this.bandMasks.map((e=>new Uint8Array(e))));const n=N5.getPixelArrayConstructor(this.pixelType);if(this.pixels&&this.pixels.length>0){e.pixels=[];const r=!!this.pixels[0].slice;for(t=0;t<this.pixels.length;t++)e.pixels[t]=r?this.pixels[t].slice():new n(this.pixels[t])}if(this.statistics)for(e.statistics=[],t=0;t<this.statistics.length;t++)e.statistics[t]=_e(this.statistics[t]);return e.premultiplyAlpha=this.premultiplyAlpha,e}_fillFrom8Bit(e){const{mask:t,maskIsAlpha:n,premultiplyAlpha:r,pixels:i}=this;if(!e||!i?.length)return void Ye.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");let o,s,a,l;o=s=a=i[0],i.length>=3?(s=i[1],a=i[2]):2===i.length&&(s=i[1]);const c=new Uint32Array(e),u=this.width*this.height;if(o.length===u)if(null!=t&&t.length===u)if(n)for(l=0;l<u;l++){const e=t[l];if(e){const t=e/255;c[l]=r?e<<24|a[l]*t<<16|s[l]*t<<8|o[l]*t:e<<24|a[l]<<16|s[l]<<8|o[l]}}else for(l=0;l<u;l++)t[l]&&(c[l]=255<<24|a[l]<<16|s[l]<<8|o[l]);else for(l=0;l<u;l++)c[l]=255<<24|a[l]<<16|s[l]<<8|o[l];else Ye.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.")}_fillFromNon8Bit(e){const{pixels:t,mask:n,statistics:r}=this;if(!e||!t?.length)return void Ye.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");const i=this.pixelType;let o=1,s=0,a=1;if(r&&r.length>0){for(const e of r)if(null!=e.minValue&&(s=Math.min(s,e.minValue)),null!=e.maxValue&&null!=e.minValue){const t=e.maxValue-e.minValue;a=Math.max(a,t)}o=255/a}else{let e=255;"s8"===i?(s=-128,e=127):"u16"===i?e=65535:"s16"===i?(s=-32768,e=32767):"u32"===i?e=4294967295:"s32"===i?(s=-2147483648,e=2147483647):"f32"===i?(s=-34e38,e=34e38):"f64"===i&&(s=-Number.MAX_VALUE,e=Number.MAX_VALUE),o=255/(e-s)}const l=new Uint32Array(e),c=this.width*this.height;let u,h,p,d,f;if(u=h=p=t[0],u.length!==c)return Ye.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(t.length>=2)if(h=t[1],t.length>=3&&(p=t[2]),null!=n&&n.length===c)for(d=0;d<c;d++)n[d]&&(l[d]=255<<24|(p[d]-s)*o<<16|(h[d]-s)*o<<8|(u[d]-s)*o);else for(d=0;d<c;d++)l[d]=255<<24|(p[d]-s)*o<<16|(h[d]-s)*o<<8|(u[d]-s)*o;else if(null!=n&&n.length===c)for(d=0;d<c;d++)f=(u[d]-s)*o,n[d]&&(l[d]=255<<24|f<<16|f<<8|f);else for(d=0;d<c;d++)f=(u[d]-s)*o,l[d]=255<<24|f<<16|f<<8|f}_fillFrom32Bit(e){const{pixels:t,mask:n}=this;if(!e||!t?.length)return Ye.getLogger(this).error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");let r,i,o,s;r=i=o=t[0],t.length>=3?(i=t[1],o=t[2]):2===t.length&&(i=t[1]);const a=this.width*this.height;if(r.length!==a)return Ye.getLogger(this).error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");let l=0;if(null!=n&&n.length===a)for(s=0;s<a;s++)e[l++]=r[s],e[l++]=i[s],e[l++]=o[s],e[l++]=1&n[s];else for(s=0;s<a;s++)e[l++]=r[s],e[l++]=i[s],e[l++]=o[s],e[l++]=1}};function D5(e,t){let n=1/0,r=-1/0;const i=e.length;let o,s=0;if(null!=t)for(o=0;o<i;o++)t[o]&&(s=e[o],n=s<n?s:n,r=s>r?s:r);else for(o=0;o<i;o++)s=e[o],n=s<n?s:n,r=s>r?s:r;return new _5(n,r)}S([To({json:{write:!0}})],P5.prototype,"width",void 0),S([To({json:{write:!0}})],P5.prototype,"height",void 0),S([To({json:{write:!0}})],P5.prototype,"pixelType",void 0),S([Dp("pixelType")],P5.prototype,"castPixelType",null),S([To({json:{write:!0}})],P5.prototype,"validPixelCount",void 0),S([To({json:{write:!0}})],P5.prototype,"mask",void 0),S([To({json:{write:!0}})],P5.prototype,"maskIsAlpha",void 0),S([To({json:{write:!0}})],P5.prototype,"pixels",void 0),S([To()],P5.prototype,"premultiplyAlpha",void 0),S([To({json:{write:!0}})],P5.prototype,"statistics",void 0),S([To({json:{write:!0}})],P5.prototype,"depthCount",void 0),S([To({json:{write:!0}})],P5.prototype,"noDataValues",void 0),S([To({json:{write:!0}})],P5.prototype,"bandMasks",void 0),P5=N5=S([gs("esri.layers.support.PixelBlock")],P5);const F5=P5;var j5,U5;(function(e){e[e.matchAny=0]="matchAny",e[e.matchAll=1]="matchAll"})(j5||(j5={})),function(e){e[e.bestMatch=0]="bestMatch",e[e.fail=1]="fail"}(U5||(U5={}));const z5=6;function G5(e){return null!=e&&"esri.layers.support.PixelBlock"===e.declaredClass&&e.pixels&&e.pixels.length>0}function V5(e){if(!e?.length||e.some((e=>!G5(e))))return null;if(1===e.length)return e[0]?.clone()??null;const t=e,{width:n,height:r,pixelType:i}=t[0];if(t.some((e=>e.width!==n||e.height!==r)))return null;const o=t.map((({mask:e})=>e)).filter((e=>null!=e));let s=null;o.length&&(s=new Uint8Array(n*r),s.set(o[0]),o.length>1&&J5(o.slice(1),s));const a=[];t.forEach((({pixels:e})=>a.push(...e)));const l=t.map((({statistics:e})=>e)).filter((e=>e?.length)),c=[];return l.forEach((e=>c.push(...e))),new F5({pixelType:i,width:n,height:r,mask:s,pixels:a,statistics:c.length?c:null})}function B5(e){if(!e)return;const t=e.colormap;if(!t||0===t.length)return;const n=t.sort(((e,t)=>e[0]-t[0]));let r=0;n[0][0]<0&&(r=n[0][0]);const i=Math.max(256,n[n.length-1][0]-r+1),o=new Uint8Array(4*i),s=[];let a,l=0,c=0;const u=5===n[0].length;if(i>65536)return n.forEach((e=>{s[e[0]-r]=u?e.slice(1):e.slice(1).concat([255])})),{indexed2DColormap:s,offset:r,alphaSpecified:u};if(e.fillUnspecified)for(a=n[c],l=a[0]-r;l<i;l++)o[4*l]=a[1],o[4*l+1]=a[2],o[4*l+2]=a[3],o[4*l+3]=u?a[4]:255,l===a[0]-r&&(a=c===n.length-1?a:n[++c]);else for(l=0;l<n.length;l++)a=n[l],c=4*(a[0]-r),o[c]=a[1],o[c+1]=a[2],o[c+2]=a[3],o[c+3]=u?a[4]:255;return{indexedColormap:o,offset:r,alphaSpecified:u}}function $5(e,t){if(!G5(e)||!t||!t.indexedColormap&&!t.indexed2DColormap)return e;const n=e.clone(),r=n.pixels;let i=n.mask;const o=n.width*n.height;if(1!==r.length)return e;const{indexedColormap:s,indexed2DColormap:a,offset:l,alphaSpecified:c}=t;let u=0;const h=r[0],p=new Uint8Array(h.length),d=new Uint8Array(h.length),f=new Uint8Array(h.length);let m,y=0;if(s){const e=s.length-1;if(null!=i)for(u=0;u<o;u++)i[u]&&(y=4*(h[u]-l),y<l||y>e?i[u]=0:(p[u]=s[y],d[u]=s[y+1],f[u]=s[y+2],i[u]=s[y+3]));else{for(i=new Uint8Array(o),u=0;u<o;u++)y=4*(h[u]-l),y<l||y>e?i[u]=0:(p[u]=s[y],d[u]=s[y+1],f[u]=s[y+2],i[u]=s[y+3]);n.mask=i}}else if(a)if(null!=i)for(u=0;u<o;u++)i[u]&&(m=a[h[u]],p[u]=m[0],d[u]=m[1],f[u]=m[2],i[u]=m[3]);else{for(i=new Uint8Array(o),u=0;u<o;u++)m=a[h[u]],p[u]=m[0],d[u]=m[1],f[u]=m[2],i[u]=m[3];n.mask=i}return n.pixels=[p,d,f],n.statistics=null,n.pixelType="u8",n.maskIsAlpha=c,n}function H5(e,t){if(!G5(e))return null;const{pixels:n,mask:r}=e,i=n.length;let o=t.lut;const{offset:s}=t;o&&1===o[0].length&&(o=n.map((()=>o)));const a=[],l=t.outputPixelType||"u8";for(let u=0;u<i;u++){const e=W5(n[u],r,o[u],s||0,l);a.push(e)}const c=new F5({width:e.width,height:e.height,pixels:a,mask:r,pixelType:l});return c.updateStatistics(),c}function W5(e,t,n,r,i){const o=e.length,s=F5.createEmptyBand(i,o);if(t)for(let a=0;a<o;a++)t[a]&&(s[a]=n[e[a]-r]);else for(let a=0;a<o;a++)s[a]=n[e[a]-r];return s}function q5(e,t){if(!G5(e))return null;const n=e.clone(),{pixels:r}=n,i=n.width*n.height,o=t.length,s=Math.floor(o/2),a=t[Math.floor(s)],l=r[0];let c,u,h,p,d,f,m=!1;const y=new Uint8Array(i),g=new Uint8Array(i),v=new Uint8Array(i);let b=n.mask;const w=4===t[0].mappedColor.length;for(b||(b=new Uint8Array(i),b.fill(w?255:1),n.mask=b),d=0;d<i;d++)if(b[d]){for(c=l[d],m=!1,f=s,u=a,h=0,p=o-1;p-h>1;){if(c===u.value){m=!0;break}c>u.value?h=f:p=f,f=Math.floor((h+p)/2),u=t[Math.floor(f)]}m||(c===t[h].value?(u=t[h],m=!0):c===t[p].value?(u=t[p],m=!0):c<t[h].value?(m=!1,u=null):c>t[h].value&&(c<t[p].value?(u=t[h],m=!0):p===o-1?(m=!1,u=null):(u=t[p],m=!0))),m?(y[d]=u.mappedColor[0],g[d]=u.mappedColor[1],v[d]=u.mappedColor[2],b[d]=u.mappedColor[3]):y[d]=g[d]=v[d]=b[d]=0}return n.pixels=[y,g,v],n.mask=b,n.pixelType="u8",n.maskIsAlpha=w,n}function Z5(e,t){if(!G5(e))return null;const{width:n,height:r}=e,{inputRanges:i,outputValues:o,outputPixelType:s,noDataRanges:a,allowUnmatched:l,isLastInputRangeInclusive:c}=t,u=e.pixels[0],h=F5.createEmptyBand(s,u.length),p=e.mask,d=new Uint8Array(n*r);p?d.set(p):d.fill(255);const f=e.pixelType.startsWith("f")?1e-6:0,m=i.map((e=>e-f));m[0]=i[0],m[m.length-1]=i[i.length-1]+(c?1e-6:0);const y=i.length/2,[g,v]=E5(s);for(let w=0;w<r;w++)for(let e=0;e<n;e++){const t=w*n+e;if(d[t]){const e=u[t];let n=!1;for(let r=y-1;r>=0;r--)if(e===m[2*r]||e>m[2*r]&&e<m[2*r+1]){h[t]=o[r],n=!0;break}n||(l?h[t]=e>v?v:e<g?g:e:d[t]=0)}}const b=a?.length;if(b)for(let w=0;w<r;w++)for(let e=0;e<n;e++){const t=w*n+e;if(!p||p[t]){const e=u[t];for(let n=0;n<b;n+=2)if(e>=a[n]&&e<=a[n+1]){h[t]=0,d[t]=0;break}}}return new F5({width:n,height:r,pixelType:s,pixels:[h],mask:d})}function Y5(e,t,n,r){const i=null!=n&&n.length>=2?new Set(n):null,o=1===n?.length?n[0]:null,s=!!t?.length;for(let a=0;a<e.length;a++)if(r[a]){const n=e[a];if(s){let e=!1;for(let r=0;r<t.length;r+=2)if(n>=t[r]&&n<=t[r+1]){e=!0;break}e||(r[a]=0)}r[a]&&(n===o||i?.has(n))&&(r[a]=0)}}function X5(e,t){const n=e[0].length;for(let r=0;r<n;r++)if(t[r]){let n=!1;for(let t=0;t<e.length;t++)if(e[t][r]){n=!0;break}n||(t[r]=0)}}function J5(e,t){const n=e[0].length;for(let r=0;r<n;r++)if(t[r]){let n=!1;for(let t=0;t<e.length;t++)if(0===e[t][r]){n=!0;break}n&&(t[r]=0)}}function K5(e,t){if(!G5(e))return null;const{width:n,height:r,pixels:i}=e,o=n*r,s=new Uint8Array(o);e.mask?s.set(e.mask):s.fill(255);const a=i.length,{includedRanges:l,noDataValues:c,outputPixelType:u,matchAll:h,lookups:p}=t;if(p){const e=[];for(let t=0;t<a;t++){const n=p[t],r=W5(i[t],s,n.lut,n.offset||0,"u8");e.push(r)}1===e.length?s.set(e[0]):h?X5(e,s):J5(e,s)}else if(h){const e=[];for(let t=0;t<a;t++){const n=new Uint8Array(o);n.set(s),Y5(i[t],l?.slice(2*t,2*t+2),c?.[t],n),e.push(n)}1===e.length?s.set(e[0]):X5(e,s)}else for(let d=0;d<a;d++)Y5(i[d],l?.slice(2*d,2*d+2),c?.[d],s);return new F5({width:n,height:r,pixelType:u,pixels:i,mask:s})}function Q5(e){const{srcPixelType:t,inputRanges:n,outputValues:r,allowUnmatched:i,noDataRanges:o,isLastInputRangeInclusive:s,outputPixelType:a}=e;if("u8"!==t&&"s8"!==t&&"u16"!==t&&"s16"!==t)return null;const l=t.includes("16")?65536:256,c=t.includes("s")?-l/2:0,u=F5.createEmptyBand(a,l),h=new Uint8Array(l);i&&h.fill(255);const[p,d]=E5(a);if(n?.length&&r?.length){const e=n.map((e=>e-1e-6));e[0]=n[0],s&&(e[e.length-1]=n[n.length-1]);for(let t=0;t<e.length;t++){const n=r[t]>d?d:r[t]<p?p:r[t],i=Math.ceil(e[2*t]-c),o=Math.floor(e[2*t+1]-c);for(let e=i;e<=o;e++)u[e]=n,h[e]=255}}if(o?.length)for(let f=0;f<o.length;f++){const e=Math.ceil(o[2*f]-c),t=Math.floor(o[2*f+1]-c);for(let n=e;n<=t;n++)h[n]=0}return{lut:u,offset:c,mask:h}}function e6(e,t,n){if("u8"!==e&&"s8"!==e&&"u16"!==e&&"s16"!==e)return null;const r=e.includes("16")?65536:256,i=e.includes("s")?-r/2:0,o=new Uint8Array(r);if(t)for(let s=0;s<t.length;s++){const e=Math.ceil(t[2*s]-i),n=Math.floor(t[2*s+1]-i);for(let t=e;t<=n;t++)o[t]=255}else o.fill(255);if(n)for(let s=0;s<n.length;s++)o[n[s]-i]=0;return{lut:o,offset:i}}function t6(e,t,n,r,i,o,s,a){return{xmin:i<=n*e?0:i<n*e+e?i-n*e:e,ymin:o<=r*t?0:o<r*t+t?o-r*t:t,xmax:i+s<=n*e?0:i+s<n*e+e?i+s-n*e:e,ymax:o+a<=r*t?0:o+a<r*t+t?o+a-r*t:t}}function n6(e,t){if(!e||0===e.length)return null;const n=e.find((e=>e.pixelBlock));if(null==n?.pixelBlock)return null;const r=(n.extent.xmax-n.extent.xmin)/n.pixelBlock.width,i=(n.extent.ymax-n.extent.ymin)/n.pixelBlock.height,o=.01*Math.min(r,i),s=e.sort(((e,t)=>Math.abs(e.extent.ymax-t.extent.ymax)>o?t.extent.ymax-e.extent.ymax:Math.abs(e.extent.xmin-t.extent.xmin)>o?e.extent.xmin-t.extent.xmin:0)),a=Math.min.apply(null,s.map((e=>e.extent.xmin))),l=Math.min.apply(null,s.map((e=>e.extent.ymin))),c=Math.max.apply(null,s.map((e=>e.extent.xmax))),u=Math.max.apply(null,s.map((e=>e.extent.ymax))),h={x:Math.round((t.xmin-a)/r),y:Math.round((u-t.ymax)/i)},p={width:Math.round((c-a)/r),height:Math.round((u-l)/i)},d={width:Math.round((t.xmax-t.xmin)/r),height:Math.round((t.ymax-t.ymin)/i)};return Math.round(p.width/n.pixelBlock.width)*Math.round(p.height/n.pixelBlock.height)!==s.length||h.x<0||h.y<0||p.width<d.width||p.height<d.height?null:{extent:t,pixelBlock:i6(s.map((e=>e.pixelBlock)),p,{clipOffset:h,clipSize:d})}}function r6(e,t,n,r,i,o){const{width:s,height:a}=n.block,{x:l,y:c}=n.offset,{width:u,height:h}=n.mosaic,p=t6(s,a,r,i,l,c,u,h);let d=0,f=0;if(o){const e=o.hasGCSSShiftTransform?360:o.halfWorldWidth??0,t=s*o.resolutionX,n=o.startX+r*t;n<e&&n+t>e?f=o.rightPadding:n>=e&&(d=o.leftMargin-o.rightPadding,f=0)}if(p.xmax-=f,"number"!=typeof t)for(let m=p.ymin;m<p.ymax;m++){const n=(i*a+m-c)*u+(r*s-l)+d,o=m*s;for(let r=p.xmin;r<p.xmax;r++)e[n+r]=t[o+r]}else for(let m=p.ymin;m<p.ymax;m++){const n=(i*a+m-c)*u+(r*s-l)+d;for(let r=p.xmin;r<p.xmax;r++)e[n+r]=t}}function i6(e,t,n={}){const{clipOffset:r,clipSize:i,alignmentInfo:o,blockWidths:s}=n;if(s)return o6(e,t,{blockWidths:s});const a=e.find((e=>G5(e)));if(null==a)return null;const l=i?i.width:t.width,c=i?i.height:t.height,u=a.width,h=a.height,p=t.width/u,d=t.height/h,f={offset:r||{x:0,y:0},mosaic:i||t,block:{width:u,height:h}},m=a.pixelType,y=F5.getPixelArrayConstructor(m),g=a.pixels.length,v=[];let b,w;for(let M=0;M<g;M++){w=new y(l*c);for(let t=0;t<d;t++)for(let n=0;n<p;n++){const r=e[t*p+n];G5(r)&&(b=r.pixels[M],r6(w,b,f,n,t,o))}v.push(w)}const _=e.some((e=>null==e||null!=e.mask&&e.mask.length>0)),x=e.some((e=>e?.bandMasks&&e.bandMasks.length>1)),S=_?new Uint8Array(l*c):void 0,T=x?[]:void 0;if(S){for(let t=0;t<d;t++)for(let n=0;n<p;n++){const r=e[t*p+n],i=null!=r?r.mask:null;r6(S,i??(r?255:0),f,n,t,o)}if(T)for(let t=0;t<g;t++){const n=new Uint8Array(l*c);for(let r=0;r<d;r++)for(let i=0;i<p;i++){const s=e[r*p+i],a=s?.bandMasks?.[t]??s?.mask;r6(n,a??(s?255:0),f,i,r,o)}T.push(n)}}const E=new F5({width:l,height:c,pixels:v,pixelType:m,bandMasks:T,mask:S});return E.updateStatistics(),E}function o6(e,t,n){const r=e.find((e=>null!=e));if(null==r)return null;const i=e.some((e=>null==e||!!e.mask)),{width:o,height:s}=t,a=i?new Uint8Array(o*s):null,{blockWidths:l}=n,c=[],u=r.getPlaneCount(),h=F5.getPixelArrayConstructor(r.pixelType);if(i)for(let y=0,g=0;y<e.length;g+=l[y],y++){const t=e[y];if(!G5(t))continue;const n=t.mask;for(let e=0;e<s;e++)for(let r=0;r<l[y];r++)a[e*o+r+g]=null==n?255:n[e*t.width+r]}const p=e.some((e=>e?.bandMasks&&e.bandMasks.length>1)),d=p?[]:void 0,f=o*s;for(let y=0;y<u;y++){const t=new h(f),n=p?new Uint8Array(f):void 0;for(let r=0,i=0;r<e.length;i+=l[r],r++){const a=e[r];if(!G5(a))continue;const c=a.pixels[y];if(null!=c){for(let e=0;e<s;e++)for(let n=0;n<l[r];n++)t[e*o+n+i]=c[e*a.width+n];if(n){const e=a.bandMasks?.[y]??a.mask;for(let t=0;t<s;t++)for(let s=0;s<l[r];s++)n[t*o+s+i]=e?e[t*a.width+s]:255}}}c.push(t),d&&n&&d.push(n)}const m=new F5({width:o,height:s,mask:a,bandMasks:d,pixels:c,pixelType:r.pixelType});return m.updateStatistics(),m}function s6(e,t,n){if(!G5(e))return null;const{width:r,height:i}=e,o=t.x,s=t.y,a=n.width+o,l=n.height+s;if(o<0||s<0||a>r||l>i||0===o&&0===s&&a===r&&l===i)return e;e.mask||(e.mask=new Uint8Array(r*i));const c=e.mask;for(let u=0;u<i;u++){const e=u*r;for(let t=0;t<r;t++)c[e+t]=u<s||u>=l||t<o||t>=a?0:1}return e.updateStatistics(),e}function a6(e){if(!G5(e))return null;const t=e.clone(),{width:n,height:r,pixels:i}=e,o=i[0],s=t.pixels[0],a=e.mask;for(let l=2;l<r-1;l++){const e=new Map;for(let r=l-2;r<l+2;r++)for(let t=0;t<4;t++){const i=r*n+t;u6(e,o[i],a?a[i]:1)}s[l*n]=l6(e),s[l*n+1]=s[l*n+2]=s[l*n];let t=3;for(;t<n-1;t++){let r=(l-2)*n+t+1;u6(e,o[r],a?a[r]:1),r=(l-1)*n+t+1,u6(e,o[r],a?a[r]:1),r=l*n+t+1,u6(e,o[r],a?a[r]:1),r=(l+1)*n+t+1,u6(e,o[r],a?a[r]:1),r=(l-2)*n+t-3,c6(e,o[r],a?a[r]:1),r=(l-1)*n+t-3,c6(e,o[r],a?a[r]:1),r=l*n+t-3,c6(e,o[r],a?a[r]:1),r=(l+1)*n+t-3,c6(e,o[r],a?a[r]:1),s[l*n+t]=l6(e)}s[l*n+t+1]=s[l*n+t]}for(let l=0;l<n;l++)s[l]=s[n+l]=s[2*n+l],s[(r-1)*n+l]=s[(r-2)*n+l];return t.updateStatistics(),t}function l6(e){if(0===e.size)return 0;let t=0,n=-1,r=0;const i=e.keys();let o=i.next();for(;!o.done;)r=e.get(o.value),r>t&&(n=o.value,t=r),o=i.next();return n}function c6(e,t,n){if(0===n)return;const r=e.get(t);1===r?e.delete(t):e.set(t,r-1)}function u6(e,t,n){0!==n&&e.set(t,e.has(t)?e.get(t)+1:1)}function h6(e,t,n){let{x:r,y:i}=t;const{width:o,height:s}=n;if(0===r&&0===i&&s===e.height&&o===e.width)return e;const{width:a,height:l}=e,c=Math.max(0,i),u=Math.max(0,r),h=Math.min(r+o,a),p=Math.min(i+s,l);if(h<0||p<0||!G5(e))return null;r=Math.max(0,-r),i=Math.max(0,-i);const{pixels:d}=e,f=o*s,m=d.length,y=[];for(let w=0;w<m;w++){const t=d[w],n=F5.createEmptyBand(e.pixelType,f);for(let e=c;e<p;e++){const s=e*a;let l=(e+i-c)*o+r;for(let e=u;e<h;e++)n[l++]=t[s+e]}y.push(n)}const g=new Uint8Array(f),v=e.mask;for(let w=c;w<p;w++){const e=w*a;let t=(w+i-c)*o+r;for(let n=u;n<h;n++)g[t++]=v?v[e+n]:1}const b=new F5({width:n.width,height:n.height,pixelType:e.pixelType,pixels:y,mask:g});return b.updateStatistics(),b}function p6(e,t=!0){if(!G5(e))return null;const{pixels:n,width:r,height:i,mask:o,pixelType:s}=e,a=[],l=Math.round(r/2),c=Math.round(i/2),u=i-1,h=r-1;for(let d=0;d<n.length;d++){const e=n[d],o=F5.createEmptyBand(s,l*c);let p=0;for(let n=0;n<i;n+=2)for(let i=0;i<r;i+=2){const s=e[n*r+i];if(t){const t=i===h?s:e[n*r+i+1],a=n===u?s:e[n*r+i+r],l=i===h?a:n===u?t:e[n*r+i+r+1];o[p++]=(s+t+a+l)/4}else o[p++]=s}a.push(o)}let p=null;if(null!=o){p=new Uint8Array(l*c);let e=0;for(let n=0;n<i;n+=2)for(let i=0;i<r;i+=2){const s=o[n*r+i];if(t){const t=i===h?s:o[n*r+i+1],a=n===u?s:o[n*r+i+r],l=i===h?a:n===u?t:o[n*r+i+r+1];p[e++]=s*t*a*l?1:0}else p[e++]=s}}return new F5({width:l,height:c,pixelType:s,pixels:a,mask:p})}function d6(e,t,n=0,r=!0){if(!G5(e))return null;const{width:i,height:o}=t;let{width:s,height:a}=e;const l=new Map,c={x:0,y:0},u=1+n;let h=e;for(let p=0;p<u;p++){const e=Math.ceil(s/i),n=Math.ceil(a/o);for(let r=0;r<n;r++){c.y=r*o;for(let n=0;n<e;n++){c.x=n*i;const e=h6(h,c,t);l.set(`${p}/${r}/${n}`,e)}}p<u-1&&(h=p6(h,r)),s=Math.round(s/2),a=Math.round(a/2)}return l}function f6(e){const{pixelBlock:t,tileSize:n,level:r,row:i,col:o,useBilinear:s}=e;if(!G5(t))return null;const{width:a,height:l}=n,c=2**r,u=c*a,h=c*l;let p=h6(t,{y:i*h,x:o*u},{width:u,height:h});if(!p)return null;for(let d=r;d>0;d--)p=p6(p,s);return p}function m6(e,t,n,r,i=0){const{width:o,height:s}=e,{width:a,height:l}=t,c=r.cols,u=r.rows,h=Math.ceil(a/c-.1/c),p=Math.ceil(l/u-.1/u);let d,f,m,y,g,v,b;const w=h*c,_=w*p*u,x=new Float32Array(_),S=new Float32Array(_),T=new Uint32Array(_),E=new Uint32Array(_);let M,A,I=0;for(let C=0;C<p;C++)for(let e=0;e<h;e++){d=12*(C*h+e),f=n[d],m=n[d+1],y=n[d+2],g=n[d+3],v=n[d+4],b=n[d+5];for(let t=0;t<u;t++){I=(C*u+t)*w+e*c,A=(t+.5)/u;for(let e=0;e<t;e++)M=(e+.5)/c,x[I+e]=(f*M+m*A+y)*o+i,S[I+e]=(g*M+v*A+b)*s+i,T[I+e]=Math.floor(x[I+e]),E[I+e]=Math.floor(S[I+e])}d+=6,f=n[d],m=n[d+1],y=n[d+2],g=n[d+3],v=n[d+4],b=n[d+5];for(let t=0;t<u;t++){I=(C*u+t)*w+e*c,A=(t+.5)/u;for(let e=t;e<c;e++)M=(e+.5)/c,x[I+e]=(f*M+m*A+y)*o+i,S[I+e]=(g*M+v*A+b)*s+i,T[I+e]=Math.floor(x[I+e]),E[I+e]=Math.floor(S[I+e])}}return{offsets_x:x,offsets_y:S,offsets_xi:T,offsets_yi:E,gridWidth:w}}function y6(e,t){const{coefficients:n,spacing:r}=t,{offsets_x:i,offsets_y:o,gridWidth:s}=m6(e,e,n,{rows:r[0],cols:r[1]}),{width:a,height:l}=e,c=new Float32Array(a*l),u=180/Math.PI;for(let h=0;h<l;h++)for(let e=0;e<a;e++){const t=h*s+e,n=0===h?t:t-s,r=h===l-1?t:t+s,p=i[n]-i[r],d=o[r]-o[n];if(isNaN(p)||isNaN(d))c[h*a+e]=90;else{let t=Math.atan2(d,p)*u;t=(360+t)%360,c[h*a+e]=t}}return c}function g6(e,t,n,r,i="nearest"){if(!G5(e))return null;"majority"===i&&(e=a6(e));const{pixels:o,mask:s,bandMasks:a,pixelType:l}=e,c=e.width,u=e.height,h=F5.getPixelArrayConstructor(l),p=o.length,{width:d,height:f}=t;let m=!1;for(let I=0;I<n.length;I+=3)-1===n[I]&&-1===n[I+1]&&-1===n[I+2]&&(m=!0);const{offsets_x:y,offsets_y:g,offsets_xi:v,offsets_yi:b,gridWidth:w}=m6({width:c,height:u},t,n,r,"majority"===i?.5:0);let _;const x=(e,t,n,r)=>{const i=e instanceof Float32Array||e instanceof Float64Array?0:.5;for(let o=0;o<f;o++){_=o*w;for(let s=0;s<d;s++){if(y[_]<0||g[_]<0)e[o*d+s]=0;else if(r)e[o*d+s]=t[v[_]+b[_]*c];else{const r=Math.floor(y[_]),a=Math.floor(g[_]),l=Math.ceil(y[_]),u=Math.ceil(g[_]),h=y[_]-r,p=g[_]-a;if(!n||n[r+a*c]&&n[l+a*c]&&n[r+u*c]&&n[l+u*c]){const n=(1-h)*t[r+a*c]+h*t[l+a*c],f=(1-h)*t[r+u*c]+h*t[l+u*c];e[o*d+s]=(1-p)*n+p*f+i}else e[o*d+s]=t[v[_]+b[_]*c]}_++}}},S=[];let T;const E=a?.length===p,M=[];for(let I=0;I<p;I++){if(E){const e=new Uint8Array(d*f);x(e,a[I],a[I],!0),M.push(e)}T=new h(d*f),x(T,o[I],E?a[I]:s,"nearest"===i||"majority"===i),S.push(T)}const A=new F5({width:d,height:f,pixelType:l,pixels:S,bandMasks:E?M:void 0});if(null!=s)A.mask=new Uint8Array(d*f),x(A.mask,s,s,!0);else if(m){A.mask=new Uint8Array(d*f);for(let e=0;e<d*f;e++)A.mask[e]=y[e]<0||g[e]<0?0:1}return A.updateStatistics(),A}const v6=new Map;v6.set("meter-per-second",1),v6.set("kilometer-per-hour",.277778),v6.set("knots",.514444),v6.set("feet-per-second",.3048),v6.set("mile-per-hour",.44704);const b6=180/Math.PI,w6=5,_6=new au({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function x6(e,t){return v6.get(e)/v6.get(t)||1}function S6(e){return(450-e)%360}function T6(e,t="geographic"){const[n,r]=e,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n)*b6;return o=(360+o)%360,"geographic"===t&&(o=S6(o)),[i,o]}function E6(e,t="geographic"){let n=e[1];"geographic"===t&&(n=S6(n)),n%=360;const r=e[0];return[r*Math.cos(n/b6),r*Math.sin(n/b6)]}function M6(e,t,n,r="geographic"){if(!G5(e)||null==n)return e;const i="vector-magdir"===t?e.clone():A6(e,t),o=i.pixels[1];for(let s=0;s<o.length;s++)o[s]="geographic"===r?(o[s]+n[s]+270)%360:(o[s]+360-n[s])%360;return"vector-magdir"===t?i:A6(i,"vector-magdir")}function A6(e,t,n="geographic",r=1){if(!G5(e))return e;const{pixels:i,width:o,height:s}=e,a=o*s,l=i[0],c=i[1],u=e.pixelType.startsWith("f")?e.pixelType:"f32",h=F5.createEmptyBand(u,a),p=F5.createEmptyBand(u,a);let d=0;for(let m=0;m<s;m++)for(let e=0;e<o;e++)"vector-uv"===t?([h[d],p[d]]=T6([l[d],c[d]],n),h[d]*=r):([h[d],p[d]]=E6([l[d],c[d]],n),h[d]*=r,p[d]*=r),d++;const f=new F5({pixelType:u,width:e.width,height:e.height,mask:e.mask,validPixelCount:e.validPixelCount,maskIsAlpha:e.maskIsAlpha,pixels:[h,p]});return f.updateStatistics(),f}function I6(e,t,n=1){if(1===n||!G5(e))return e;const r=e.clone(),{pixels:i,width:o,height:s}=r,a=i[0];i[1];let l=0;for(let c=0;c<s;c++)for(let e=0;e<o;e++)a[l]*=n,l++;return r.updateStatistics(),r}function C6(e,t,n,r,i){if(null==i||!i.spatialReference.equals(e.spatialReference))return{extent:e,width:Math.round(t/r),height:Math.round(n/r),resolution:e.width/t};const o=i.xmin,s=i.ymax,a=(e.xmax-e.xmin)/t*r,l=(e.ymax-e.ymin)/n*r,c=(a+l)/2;return e.xmin=o+Math.floor((e.xmin-o)/a)*a,e.xmax=o+Math.ceil((e.xmax-o)/a)*a,e.ymin=s+Math.floor((e.ymin-s)/l)*l,e.ymax=s+Math.ceil((e.ymax-s)/l)*l,{extent:e,width:Math.round(e.width/a),height:Math.round(e.height/l),resolution:c}}const O6=k6(0,0,0);function k6(e=0,t=0,n=Math.PI,r=!0){r&&(n=(2*Math.PI-n)%(2*Math.PI));const i=r?-1:1,o=13*i,s=-7*i,a=-2*i,l=-16*i,c=21.75,[u,h]=L6(0,t+o,n,c),[p,d]=L6(e-5.5,t+s,n,c),[f,m]=L6(e+5.5,t+s,n,c),[y,g]=L6(e-1.5,t+a,n,c),[v,b]=L6(e+1.5,t+a,n,c),[w,_]=L6(e-1.5,t+l,n,c),[x,S]=L6(e+1.5,t+l,n,c);return[u,h,p,d,y,g,v,b,f,m,w,_,x,S]}function R6(e=0,t=Math.PI,n=!0){n&&(t=(2*Math.PI-t)%(2*Math.PI));const r=10,i=n?-1:1,o=5*i,s=20*i,a=25*i,l=45,c=0,u=0,h=2,p=0,d=h*i,f=n?1:-1,m=r/2*f;let[y,g]=[c+m,u-s],[v,b]=[y+h*f,g],[w,_]=[v-p*f,b+d],[x,S]=[c-m,u-a],[T,E]=[x+p*f,S-d],M=Math.ceil(e/w6),A=Math.floor(M/10);M-=8*A;const I=[],C=[];for(let U=0;U<M/2;U++,A--){A<=0&&M%2==1&&U===(M-1)/2&&(x=c,T=x+p*f,S=(S+g)/2,E=S-d);const[e,n]=L6(x,S,t,l);if(A>0){const[r,i]=L6(v,S,t,l),[o,s]=L6(y,g,t,l);I.push(r),I.push(i),I.push(e),I.push(n),I.push(o),I.push(s)}else{const[r,i]=L6(v,b,t,l),[o,s]=L6(w,_,t,l),[a,c]=L6(T,E,t,l);C.push(e),C.push(n),C.push(a),C.push(c),C.push(o),C.push(s),C.push(r),C.push(i)}S+=o,g+=o,b+=o,_+=o,E+=o}const[O,k]=L6(c+m,u+s,t,l),R=(r/2+h)*f,[L,N]=L6(c+R,u+s,t,l),[P,D]=L6(c+m,u-a,t,l),[F,j]=L6(c+R,u-a,t,l);return{pennants:I,barbs:C,shaft:[O,k,L,N,P,D,F,j]}}function L6(e,t,n,r=1){const i=Math.sqrt(e*e+t*t)/r,o=(2*Math.PI+Math.atan2(t,e))%(2*Math.PI);return[i,(2*Math.PI+o-n)%(2*Math.PI)]}const N6=[0,1,3,6,10,16,21,27,33,40,47,55,63],P6=[0,.5,1,1.5,2],D6=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function F6(e,t,n,r){const i=x6(r||"knots",n);let o;for(o=1;o<t.length;o++)if(o===t.length-1){if(e<t[o]*i)break}else if(e<=t[o]*i)break;return Math.min(o-1,t.length-2)}function j6(e,t,n,r,i){let o=0;switch(t){case"beaufort_kn":o=F6(e,N6,"knots",n);break;case"beaufort_km":o=F6(e,N6,"kilometer-per-hour",n);break;case"beaufort_ft":o=F6(e,N6,"feet-per-second",n);break;case"beaufort_m":o=F6(e,N6,"meter-per-second",n);break;case"classified_arrow":o=F6(e,i??[],r,n);break;case"ocean_current_m":o=F6(e,P6,"meter-per-second",n);break;case"ocean_current_kn":o=F6(e,D6,"knots",n)}return o}function U6(e,t){const{style:n,inputUnit:r,outputUnit:i,breakValues:o}=t,s=_6.fromJSON(r),a=_6.fromJSON(i),l=42,c=15;let u=0,h=0;const{width:p,height:d,mask:f}=e,m=e.pixels[0],y=e.pixels[1],g=null!=f?f.filter((e=>e>0)).length:p*d,v=new Float32Array(g*l),b=new Uint32Array(c*g),w=t.invertDirection?k6(0,0,0,!1):O6;for(let _=0;_<d;_++)for(let e=0;e<p;e++){const t=_*p+e;if(!f||f[_*p+e]){const r=(y[t]+360)%360/180*Math.PI,i=j6(m[t],n,s,a,o);for(let n=0;n<w.length;n+=2)v[u++]=(e+.5)/p,v[u++]=(_+.5)/d,v[u++]=w[n],v[u++]=w[n+1]+r,v[u++]=i,v[u++]=m[t];const c=7*(u/l-1);b[h++]=c,b[h++]=c+1,b[h++]=c+2,b[h++]=c+0,b[h++]=c+4,b[h++]=c+3,b[h++]=c+0,b[h++]=c+2,b[h++]=c+3,b[h++]=c+2,b[h++]=c+5,b[h++]=c+3,b[h++]=c+5,b[h++]=c+6,b[h++]=c+3}}return{vertexData:v,indexData:b}}const z6=[];function G6(e,t){if(0===z6.length)for(let d=0;d<30;d++)z6.push(R6(5*d,0,!t.invertDirection));const n=x6(_6.fromJSON(t.inputUnit),"knots"),{width:r,height:i,mask:o}=e,s=e.pixels[0],a=e.pixels[1],l=6,c=[],u=[];let h=0,p=0;for(let d=0;d<i;d++)for(let e=0;e<r;e++){const t=d*r+e,f=s[t]*n;if((!o||o[d*r+e])&&f>=w6){const n=(a[t]+360)%360/180*Math.PI,{pennants:o,barbs:s,shaft:m}=z6[Math.min(Math.floor(f/5),29)];if(o.length+s.length===0)continue;let y=c.length/l;const g=(e+.5)/r,v=(d+.5)/i;for(let e=0;e<o.length;e+=2)c[h++]=g,c[h++]=v,c[h++]=o[e],c[h++]=o[e+1]+n,c[h++]=0,c[h++]=f;for(let e=0;e<s.length;e+=2)c[h++]=g,c[h++]=v,c[h++]=s[e],c[h++]=s[e+1]+n,c[h++]=0,c[h++]=f;for(let e=0;e<m.length;e+=2)c[h++]=g,c[h++]=v,c[h++]=m[e],c[h++]=m[e+1]+n,c[h++]=0,c[h++]=f;for(let e=0;e<o.length/6;e++)u[p++]=y,u[p++]=y+1,u[p++]=y+2,y+=3;for(let e=0;e<s.length/8;e++)u[p++]=y,u[p++]=y+1,u[p++]=y+2,u[p++]=y+1,u[p++]=y+2,u[p++]=y+3,y+=4;u[p++]=y+0,u[p++]=y+1,u[p++]=y+2,u[p++]=y+1,u[p++]=y+3,u[p++]=y+2,y+=4}}return{vertexData:new Float32Array(c),indexData:new Uint32Array(u)}}function V6(e,t){let n=0,r=0;const{width:i,height:o,mask:s}=e,a=e.pixels[0],l=[],c=[],u=x6(_6.fromJSON(t.inputUnit),"knots"),h="wind_speed"===t.style?w6:Number.MAX_VALUE;for(let p=0;p<o;p++)for(let e=0;e<i;e++){const t=a[p*i+e]*u;if((!s||s[p*i+e])&&t<h){for(let r=0;r<4;r++)l[n++]=(e+.5)/i,l[n++]=(p+.5)/o,l[n++]=r<2?-.5:.5,l[n++]=r%2==0?-.5:.5,l[n++]=0,l[n++]=t;const s=4*(n/24-1);c[r++]=s,c[r++]=s+1,c[r++]=s+2,c[r++]=s+1,c[r++]=s+2,c[r++]=s+3}}return{vertexData:new Float32Array(l),indexData:new Uint32Array(c)}}function B6(e,t){return"simple_scalar"===t.style?V6(e,t):"wind_speed"===t.style?G6(e,t):U6(e,t)}function $6(e,t,n,r=[0,0],i=.5){const{width:o,height:s,mask:a}=e,[l,c]=e.pixels,[u,h]=r,p=Math.round((o-u)/n),d=Math.round((s-h)/n),f=p*d,m=new Float32Array(f),y=new Float32Array(f),g=new Uint8Array(f);for(let b=0;b<d;b++)for(let e=0;e<p;e++){let t=0;const r=b*p+e,d=Math.max(0,b*n+h),f=Math.max(0,e*n+u),v=Math.min(s,d+n),w=Math.min(o,f+n);for(let e=d;e<v;e++)for(let n=f;n<w;n++){const i=e*o+n;if(!a||a[i]){t++;const e=[l[i],c[i]],[n,o]=e;m[r]+=n,y[r]+=o}}if(t>=(v-d)*(w-f)*(1-i)){g[r]=1;const[e,n]=T6([m[r]/t,y[r]/t]);m[r]=e,y[r]=n}else g[r]=0,m[r]=0,y[r]=0}const v=new F5({width:p,height:d,pixels:[m,y],mask:g});return v.updateStatistics(),v}function H6(e){const t=[];return W6(az(e),t),t.length?new gy(sz(t[0])):null}function W6(e,t){if(!e)return;let n;n="CIMTextSymbol"===e.type?e.symbol:e;const r="CIMPolygonSymbol"===e.type;if(n?.symbolLayers)for(const i of n.symbolLayers)if(!(i.colorLocked||r&&(cz(i)||lz(i)&&i.markerPlacement&&hz(i.markerPlacement))))switch(i.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":i.tintColor&&q6(t,i.tintColor);break;case"CIMVectorMarker":i.markerGraphics?.forEach((e=>{W6(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":q6(t,i.color);break;case"CIMHatchFill":W6(i.lineSymbol,t)}}function q6(e,t){for(const n of e)if(n.join(".")===t.join("."))return;e.push(t)}function Z6(e,t,n){t instanceof gy||(t=new gy(t));const r=az(e);r&&Y6(r,t)}function Y6(e,t,n){if(!e)return;let r;r="CIMTextSymbol"===e.type?e.symbol:e;const i="CIMPolygonSymbol"===r?.type;if(r?.symbolLayers)for(const o of r.symbolLayers){if(o.colorLocked||i&&(cz(o)||lz(o)&&o.markerPlacement&&hz(o.markerPlacement)))continue;const e=t.toArray();switch(o.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":o.tintColor=e;break;case"CIMVectorMarker":o.markerGraphics?.forEach((e=>{Y6(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":o.color=e;break;case"CIMHatchFill":Y6(o.lineSymbol,t)}}}new BD(1e3),new gy([128,128,128]);const X6=new gy("white");function J6(e,t){if(!e)return null;let n=null;return xL(e)?n=K6(e):_L(e)&&(n="cim"===e.type?H6(e):e.color?new gy(e.color):null),n?Q6(n,t):null}function K6(e){const t=e.symbolLayers;if(!t)return null;let n=null;return t.forEach((e=>{"object"===e.type&&e.resource?.href||(n="water"===e.type?e.color:e.material?e.material.color:null)})),n?new gy(n):null}function Q6(e,t){if(null==t||null==e)return e;const n=e.toRgba();return n[3]=n[3]*t,new gy(n)}function e8(e,t,n){const r=e.symbolLayers;if(!r)return;const i=e=>Q6(t=t??e??(null!=n?X6:null),n);r.forEach((e=>{if("object"!==e.type||!e.resource?.href||t)if("water"===e.type)e.color=i(e.color);else{const t=null!=e.material?e.material.color:null,r=i(t);null==e.material?e.material=new xC({color:r}):e.material.color=r,null!=n&&"outline"in e&&null!=e.outline?.color&&(e.outline.color=Q6(e.outline.color,n))}}))}function t8(e,t,n){(t=t??e.color)&&(e.color=Q6(t,n)),null!=n&&"outline"in e&&e.outline?.color&&(e.outline.color=Q6(e.outline.color,n))}function n8(e,t,n){e&&(t||null!=n)&&(t&&(t=new gy(t)),xL(e)?e8(e,t,n):_L(e)&&t8(e,t,n))}async function r8(e,t){const n=e.symbolLayers;n&&await qc(n,(async e=>i8(e,t)))}async function i8(e,t){switch(e.type){case"extrude":a8(e,t);break;case"icon":case"line":case"text":o8(e,t);break;case"path":c8(e,t);break;case"object":await l8(e,t)}}function o8(e,t){const n=s8(t);null!=n&&(e.size=n)}function s8(e){for(const t of e)if("number"==typeof t)return t;return null}function a8(e,t){e.size="number"==typeof t[2]?t[2]:0}async function l8(e,t){const{resourceSize:n,symbolSize:r}=await h8(e),i=u8(t,n,r);e.width=p8(t[0],r[0],n[0],i),e.depth=p8(t[1],r[1],n[1],i),e.height=p8(t[2],r[2],n[2],i)}function c8(e,t){const n=u8(t,gC,[e.width,void 0,e.height]);e.width=p8(t[0],e.width,1,n),e.height=p8(t[2],e.height,1,n)}function u8(e,t,n){for(let r=0;r<3;r++){const i=e[r];switch(i){case"symbol-value":{const e=n[r];return null!=e?e/t[r]:1}case"proportional":break;default:if(i&&t[r])return i/t[r]}}return 1}async function h8(e){const{computeObjectLayerResourceSize:t}=await n.e(9500).then(n.bind(n,69500)),r=await t(e,10),{width:i,height:o,depth:s}=e,a=[i,s,o];let l=1;for(let n=0;n<3;n++){const e=a[n];if(null!=e){l=e/r[n];break}}for(let n=0;n<3;n++)null==a[n]&&(a[n]=r[n]*l);return{resourceSize:r,symbolSize:a}}function p8(e,t,n,r){switch(e){case"proportional":return n*r;case"symbol-value":return t??n;default:return e}}function d8(e,t){const n=s8(t);if(null!=n)switch(e.type){case"simple-marker":e.size=n;break;case"picture-marker":{const t=e.width/e.height;t>1?(e.width=n,e.height=n*t):(e.width=n*t,e.height=n);break}case"simple-line":e.width=n;break;case"text":e.font.size=n}}async function f8(e,t){if(e&&t)return xL(e)?r8(e,t):void(_L(e)&&d8(e,t))}function m8(e,t,n){if(e&&null!=t)if(xL(e)){const r=e.symbolLayers;r&&r.forEach((e=>{if("object"===e.type)switch(n){case"tilt":e.tilt=(e.tilt??0)+t;break;case"roll":e.roll=(e.roll??0)+t;break;default:e.heading=(e.heading??0)+t}"icon"===e.type&&(e.angle+=t)}))}else _L(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle+=t))}async function y8(e,t){return await e.fetchSymbol(t)||e.fetchCIMSymbol(t)}var g8;const v8=new Set(["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"]),b8=new au({beaufort_ft:"beaufort-ft",beaufort_km:"beaufort-km",beaufort_kn:"beaufort-kn",beaufort_m:"beaufort-m",beaufort_mi:"beaufort-mi",classified_arrow:"classified-arrow",ocean_current_kn:"ocean-current-kn",ocean_current_m:"ocean-current-m",simple_scalar:"simple-scalar",single_arrow:"single-arrow",wind_speed:"wind-barb"}),w8=new au({flow_from:"flow-from",flow_to:"flow-to"});let _8=g8=class extends($P(Hs)){constructor(e){super(e),this.attributeField="Magnitude",this.flowRepresentation="flow-from",this.rotationType="arithmetic",this.style="single-arrow",this.symbolTileSize=50,this.type="vector-field"}readInputUnit(e,t){return v8.has(e)?_6.fromJSON(e):null}readOutputUnit(e,t){return v8.has(e)?_6.fromJSON(e):null}get styleRenderer(){const e=this.style,t=this.attributeField,n=this._createStyleRenderer(e);return n.field=t,n}get sizeVariables(){const e=[];if(this.visualVariables)for(const t of this.visualVariables)"size"===t.type&&e.push(t);if(0===e.length){const t=new FP({field:"Magnitude",minSize:.2*this.symbolTileSize,maxSize:.8*this.symbolTileSize});this.visualVariables?this.visualVariables.push(t):this._set("visualVariables",[t]),e.push(t)}return e}get rotationVariables(){const e=[];if(this.visualVariables)for(const t of this.visualVariables)"rotation"===t.type&&e.push(t);if(0===e.length){const t=new WN({field:"Direction",rotationType:this.rotationType});this.visualVariables?this.visualVariables.push(t):this._set("visualVariables",[t]),e.push(t)}return e}clone(){return new g8({attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,rotationType:this.rotationType,symbolTileSize:this.symbolTileSize,style:this.style,visualVariables:_e(this.visualVariables),inputUnit:this.inputUnit,outputUnit:this.outputUnit})}async getGraphicsFromPixelData(e,t=!1,n=[]){const r=new Array,i=x6(this.inputUnit,this.outputUnit),o=this.rotationVariables[0]?.rotationType||this.rotationType,s=t?A6(e.pixelBlock,"vector-uv",o,i):I6(e.pixelBlock,"vector-magdir",i);if(null==s)return r;const a=e.extent,l=null!=s.mask&&s.mask.length>0;let c=0;const u=(a.xmax-a.xmin)/s.width,h=(a.ymax-a.ymin)/s.height;for(let p=0;p<s.height;p++)for(let e=0;e<s.width;e++,c++){let t=new sd({x:a.xmin+e*u+u/2,y:a.ymax-p*h-h/2,spatialReference:a.spatialReference});t=(await g5(t))[0];const i=n.some((e=>e.intersects(t)));if((!l||s.mask[c])&&!i){const e={Magnitude:s.pixels[0][c],Direction:s.pixels[1][c]},n=new jL({geometry:new sd({x:t.x,y:t.y,spatialReference:a.spatialReference}),attributes:e});n.symbol=this._getVisualVariablesAppliedSymbol(n),r.push(n)}}return r}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getClassBreakInfos(){return this.styleRenderer?.classBreakInfos}getDefaultSymbol(){return this.styleRenderer?.defaultSymbol}_getDefaultSymbol(e){return new fL({path:"M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z",outline:new DC({width:0}),size:20,color:e||new gy([0,92,230])})}_getVisualVariablesAppliedSymbol(e){if(!e)return;const t=this.styleRenderer?.getSymbol(e)?.clone(),n=this.sizeVariables,r=this.rotationVariables;if(n&&n.length&&this.sizeVariables.forEach((n=>f8(t,CP([n],e)))),r&&r.length){const n="flow-to"===this.flowRepresentation==("ocean-current-kn"===this.style||"ocean-current-m"===this.style)?0:180;e.attributes.Direction=e.attributes.Direction+n,this.rotationVariables.forEach((n=>m8(t,mP(n,e),n.axis)))}return t}_createStyleRenderer(e){let t={defaultSymbol:this._getDefaultSymbol(),classBreakInfos:[]};switch(e){case"single-arrow":t=this._createSingleArrowRenderer();break;case"beaufort-kn":t=this._createBeaufortKnotsRenderer();break;case"beaufort-m":t=this._createBeaufortMeterRenderer();break;case"beaufort-ft":t=this._createBeaufortFeetRenderer();break;case"beaufort-mi":t=this._createBeaufortMilesRenderer();break;case"beaufort-km":t=this._createBeaufortKilometersRenderer();break;case"ocean-current-m":t=this._createCurrentMeterRenderer();break;case"ocean-current-kn":t=this._createCurrentKnotsRenderer();break;case"simple-scalar":t=this._createSimpleScalarRenderer();break;case"wind-barb":t=this._createWindBarbsRenderer();break;case"classified-arrow":t=this._createClassifiedArrowRenderer()}return new FD(t)}_createSingleArrowRenderer(){return{defaultSymbol:this._getDefaultSymbol()}}_createBeaufortKnotsRenderer(){const e=[0,1,3,6,10,16,21,27,33,40,47,55,63],t=[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]];return{defaultSymbol:this._getDefaultSymbol(new gy([214,47,39])),classBreakInfos:this._getClassBreaks(e,t)}}_createBeaufortMeterRenderer(){const e=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],t=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]];return{defaultSymbol:this._getDefaultSymbol(new gy([214,47,39])),classBreakInfos:this._getClassBreaks(e,t)}}_createBeaufortFeetRenderer(){const e=this._getDefaultSymbol(new gy([214,47,39]));let t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];const n=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]],r=3.28084;return t=t.map((e=>e*r)),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,n)}}_createBeaufortMilesRenderer(){const e=this._getDefaultSymbol(new gy([214,47,39]));let t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];const n=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]],r=2.23694;return t=t.map((e=>e*r)),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,n)}}_createBeaufortKilometersRenderer(){const e=this._getDefaultSymbol(new gy([214,47,39]));let t=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];const n=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]],r=3.6;return t=t.map((e=>e*r)),{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,n)}}_createCurrentMeterRenderer(){const e=[0,.5,1,1.5,2],t=[[78,26,153],[179,27,26],[202,128,26],[177,177,177]];return{defaultSymbol:this._getDefaultSymbol(new gy([177,177,177])),classBreakInfos:this._getClassBreaks(e,t)}}_createCurrentKnotsRenderer(){const e=[0,.25,.5,1,1.5,2,2.5,3,3.5,4],t=[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]];return{defaultSymbol:this._getDefaultSymbol(new gy([177,177,177])),classBreakInfos:this._getClassBreaks(e,t)}}_createClassifiedArrowRenderer(){const e=this._getDefaultSymbol(new gy([56,168,0]));let t=[0,1e-6,3.5,7,10.5,14];if(this.sizeVariables?.length){const e=this.sizeVariables[0].minDataValue,n=this.sizeVariables[0].maxDataValue;if(e&&n){const r=(n-e)/5;t=Array.from(Array(6).keys()).map((t=>e+r*t))}}const n=[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]];return{defaultSymbol:e,classBreakInfos:this._getClassBreaks(t,n)}}_createSimpleScalarRenderer(){return{defaultSymbol:GR.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII=",height:20,width:20,type:"esriPMS",angle:0})}}_createWindBarbsRenderer(){const e=Array.from(Array(31).keys()).map((e=>5*e)),t=[{range:"0-5",path:"M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"5-10",path:"M25 0 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"10-15",path:"M25 0 L25 40 L10 45 L25 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"15-20",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"20-25",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"25-30",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"30-35",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"35-40",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"40-45",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"45-50",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"50-55",path:"M25 0 L25 40 L10 40 L25 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"55-60",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"60-65",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"65-70",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"70-75",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"75-80",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"80-85",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"85-90",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"90-95",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"95-100",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"100-105",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"105-110",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"110-115",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"115-120",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"120-125",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"125-130",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"130-135",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"135-140",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"140-145",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"145-150",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="}],n=GR.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC",height:20,width:20,type:"esriPMS",angle:0}),r=e.map(((r,i)=>{let o;if(i!==e.length-1)if(0===i)o={minValue:r,maxValue:e[i+1],symbol:n};else{const n=GR.fromJSON({type:"esriPMS",imageData:t[i].imageData,contentType:"image/svg+xml",height:32,width:32,angle:0});o={minValue:r,maxValue:e[i+1],symbol:n}}return new MD(o)}));return{defaultSymbol:n,classBreakInfos:r}}_getClassBreaks(e,t){return t.map(((t,n)=>new MD({minValue:e[n],maxValue:e[n+1],symbol:this._getDefaultSymbol(new gy(t))})))}};S([To({type:["Magnitude"],json:{write:!0}})],_8.prototype,"attributeField",void 0),S([To({type:w8.apiValues,json:{type:w8.jsonValues,read:{reader:w8.read},write:{writer:w8.write}}})],_8.prototype,"flowRepresentation",void 0),S([To({type:["geographic","arithmetic"],json:{write:!0}})],_8.prototype,"rotationType",void 0),S([To({type:b8.apiValues,json:{type:b8.jsonValues,read:{reader:b8.read},write:{writer:b8.write}}})],_8.prototype,"style",void 0),S([To({json:{write:!0}})],_8.prototype,"symbolTileSize",void 0),S([To({type:_6.apiValues,json:{type:_6.jsonValues,write:{writer:_6.write}}})],_8.prototype,"inputUnit",void 0),S([Cp("inputUnit")],_8.prototype,"readInputUnit",null),S([To({type:_6.apiValues,json:{type:_6.jsonValues,read:{reader:_6.read},write:{writer:_6.write}}})],_8.prototype,"outputUnit",void 0),S([Cp("outputUnit")],_8.prototype,"readOutputUnit",null),S([WM({vectorField:"vector-field"})],_8.prototype,"type",void 0),S([To({type:FD})],_8.prototype,"styleRenderer",null),S([To({type:FP})],_8.prototype,"sizeVariables",null),S([To({type:WN})],_8.prototype,"rotationVariables",null),_8=g8=S([gs("esri.renderers.VectorFieldRenderer")],_8);const x8=_8,S8={key:"type",base:null,typeMap:{"unique-value":$V,"class-breaks":FD,"raster-colormap":V4,"raster-stretch":X4,"vector-field":x8,"raster-shaded-relief":H4,flow:f4}},T8={...S8,typeMap:{...S8.typeMap}};delete T8.typeMap["vector-field"],delete T8.typeMap.flow;const E8={uniqueValue:$V,classBreaks:FD,rasterStretch:X4,rasterColormap:V4,vectorField:x8,rasterShadedRelief:H4,flowRenderer:f4};function M8(e){return e&&E8[e.type]||null}function A8(e,t){if(!e)return null;if("classBreaks"===e.type&&e.classificationMethod){const t=e.authoringInfo||{classificationMethod:""};t.classificationMethod=e.classificationMethod,e.authoringInfo=t}"vectorField"===e.type&&e.visualVariables&&!Array.isArray(e.visualVariables)&&(e.visualVariables=[e.visualVariables]);const n=M8(e);if(n){const r=new n;return r.read(e,t),r}return t?.messages&&e&&t.messages.push(new Co("renderer:unsupported","Renderers of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:t})),null}var I8;let C8=I8=class extends Hs{constructor(e){super(e),this.variableName=null,this.dimensionName=null,this.values=[],this.isSlice=!1}clone(){return new I8({variableName:this.variableName,dimensionName:this.dimensionName,values:_e(this.values),isSlice:this.isSlice})}};S([To({type:String,json:{write:!0}})],C8.prototype,"variableName",void 0),S([To({type:String,json:{write:!0}})],C8.prototype,"dimensionName",void 0),S([To({type:vo.array(vo.oneOf([vo.native(Number),vo.array(vo.native(Number))])),json:{write:!0}})],C8.prototype,"values",void 0),S([To({type:Boolean,json:{write:!0}})],C8.prototype,"isSlice",void 0),C8=I8=S([gs("esri.layers.support.DimensionalDefinition")],C8);const O8=C8,k8=uu()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),R8=uu()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"}),L8=uu()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"});let N8=class extends Hs{constructor(){super(...arguments),this.pixelType="unknown"}};S([To({type:String,json:{write:!0}})],N8.prototype,"name",void 0),S([To({type:String,json:{write:!0}})],N8.prototype,"description",void 0),S([To({type:yo,json:{type:yo,write:!0,name:"_object_id"}})],N8.prototype,"id",void 0),S([To({type:String,json:{type:L8.jsonValues,read:L8.read,write:L8.write}})],N8.prototype,"pixelType",void 0),S([To({type:String,json:{write:!0}})],N8.prototype,"type",void 0),N8=S([gs("esri.layers.support.RasterFunctionInfo")],N8);const P8=N8;let D8=class extends Hs{constructor(){super(...arguments),this.isDataset=!1,this.isPublic=!1,this.type="RasterFunctionVariable"}};S([To({type:String,json:{write:!0}})],D8.prototype,"name",void 0),S([To({type:Number,json:{type:yo,write:!0,name:"_object_id"}})],D8.prototype,"id",void 0),S([To({type:Boolean,json:{write:!0}})],D8.prototype,"isDataset",void 0),S([To({type:Boolean,json:{write:!0}})],D8.prototype,"isPublic",void 0),S([To({json:{write:!0}})],D8.prototype,"value",void 0),S([To({type:String,json:{write:!0}})],D8.prototype,"type",void 0),D8=S([gs("esri.layers.support.RasterFunctionVariable")],D8);const F8=D8,j8={key:"type",base:null,typeMap:{RasterFunctionVariable:F8}};let U8=class extends Hs{};S([To({types:j8,json:{types:j8,name:"MatchVariable"}})],U8.prototype,"matchVariable",void 0),S([To({types:j8,json:{types:j8,name:"UnionDimension"}})],U8.prototype,"unionDimension",void 0),S([To({type:Number,json:{type:yo,write:!0,name:"_object_id"}})],U8.prototype,"id",void 0),S([To({type:String,json:{write:!0}})],U8.prototype,"type",void 0),U8=S([gs("esri.layers.support.RasterFunctionProperties")],U8);const z8=U8,G8=new au({0:"mosaic",1:"item",2:"item-group"},{useNumericKeys:!0});let V8=class extends Hs{constructor(){super(...arguments),this.functionType="mosaic",this.type="RasterFunctionTemplate"}};S([To({type:[String],json:{write:!0}})],V8.prototype,"aliases",void 0),S([To({type:Object,json:{write:!0}})],V8.prototype,"arguments",void 0),S([To({type:String,json:{write:!0}})],V8.prototype,"description",void 0),S([To({type:P8,json:{write:!0,name:"function"}})],V8.prototype,"functionInfo",void 0),S([To({type:G8.apiValues,json:{type:[0,1,2],read:G8.read,write:G8.write}})],V8.prototype,"functionType",void 0),S([To({type:String,json:{write:!0}})],V8.prototype,"group",void 0),S([To({type:String,json:{write:!0}})],V8.prototype,"help",void 0),S([To({type:Number,json:{type:yo,write:!0,name:"_object_id"}})],V8.prototype,"id",void 0),S([To({type:String,json:{write:!0}})],V8.prototype,"name",void 0),S([To({type:String,json:{write:!0,name:"definition"}})],V8.prototype,"queryDefinition",void 0),S([To({type:String,json:{write:!0}})],V8.prototype,"tag",void 0),S([To({type:z8,json:{write:!0}})],V8.prototype,"properties",void 0),S([To({type:String,json:{write:!0}})],V8.prototype,"thumbnail",void 0),S([To({type:String,json:{write:!0}})],V8.prototype,"thumbnailEx",void 0),S([To({json:{type:["RasterFunctionTemplate"],write:!0}})],V8.prototype,"type",void 0),V8=S([gs("esri.layers.support.RasterFunctionTemplate")],V8);const B8=V8;var $8;const H8=new Set(["raster","raster2","dem","fillraster"]),W8=new Set(["rasters"]),q8=e=>e?.rasterFunction?Q8.fromJSON(e):e,Z8=e=>e&&e instanceof Q8?e.toJSON():e,Y8=e=>e?.functionName&&!e.declaredClass,X8=e=>Y8(e)?new Q8(e):e,J8=e=>{if(null==e)return null;e=_e(e);const t={};for(const n of Object.keys(e))H8.has(n.toLowerCase())?t[n]=q8(e[n]):W8.has(n.toLowerCase())&&Array.isArray(e[n])?t[n]=e[n].map(q8):t[n]=e[n];return t},K8={types:{key:"type",base:null,typeMap:{RasterFunctionTemplate:B8}},json:{write:!0,name:"rasterFunctionDefinition"}};let Q8=$8=class extends Hs{constructor(e){super(e),this.functionName=null,this.outputPixelType="unknown",this.variableName=null,this.functionDefinition=null}set functionArguments(e){if(e){const t=Object.keys(e);if(t.some((t=>H8.has(t.toLowerCase())&&Y8(e[t])))||t.some((t=>W8.has(t.toLowerCase())&&Array.isArray(e[t])&&e[t].some((e=>Y8(e)))))){e=_e(e);for(const n of t)H8.has(n.toLowerCase())?e[n]=X8(e[n]):W8.has(n.toLowerCase())&&Array.isArray(e[n])&&(e[n]=e[n].map((e=>X8(e))))}}this._set("functionArguments",e)}readFunctionArguments(e){return J8(e)}writeFunctionArguments(e,t,n){const r={};for(const i of Object.keys(e))H8.has(i.toLowerCase())?r[i]=Z8(e[i]):W8.has(i.toLowerCase())&&Array.isArray(e[i])?r[i]=e[i].map(Z8):r[i]=Z8(e[i]);t[n]=r}readFunctionName(e,t){const n=t.rasterFunctionInfos;return t.name||(n?.length&&"None"!==n[0].name?n[0].name:t.rasterFunction||t.rasterFunctionDefinition?.name)}get rasterFunctionDefinition(){return this.functionDefinition?.toJSON()}set rasterFunctionDefinition(e){this.functionDefinition=e?B8.fromJSON(e):null}get hasClipFunction(){return this.rasterFunctionDefinition?JSON.stringify(this.rasterFunctionDefinition).includes('"type":"ClipFunction"'):JSON.stringify(this).includes('"rasterFunction":"Clip"')}clone(){return new $8({functionName:this.functionName,functionArguments:_e(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,rasterFunctionDefinition:_e(this.rasterFunctionDefinition)})}};S([To({json:{type:Object,name:"rasterFunctionArguments"}})],Q8.prototype,"functionArguments",null),S([Cp("functionArguments")],Q8.prototype,"readFunctionArguments",null),S([su("functionArguments")],Q8.prototype,"writeFunctionArguments",null),S([To({json:{type:String,write:{target:"rasterFunction"}}})],Q8.prototype,"functionName",void 0),S([Cp("functionName",["rasterFunction","rasterFunctionInfos","rasterFunctionDefinition"])],Q8.prototype,"readFunctionName",null),S([WM({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1,default:"unknown"})],Q8.prototype,"outputPixelType",void 0),S([To({type:String,json:{read:!0,write:!0}})],Q8.prototype,"variableName",void 0),S([To()],Q8.prototype,"rasterFunctionDefinition",null),S([To(K8)],Q8.prototype,"functionDefinition",void 0),S([To()],Q8.prototype,"hasClipFunction",null),Q8=$8=S([gs("esri.layers.support.RasterFunction")],Q8);const e9=Q8,t9={StretchFunction:{arguments:{ComputeGamma:{isDataset:!1,isPublic:!1,name:"ComputeGamma",type:"RasterFunctionVariable",value:!1},DRA:{isDataset:!1,isPublic:!1,name:"DRA",type:"RasterFunctionVariable",value:!1},EstimateStatsHistogram:{isDataset:!1,isPublic:!1,name:"EstimateStatsHistogram",type:"RasterFunctionVariable",value:!1},Gamma:{displayName:"Gamma",isDataset:!1,isPublic:!1,name:"Gamma",type:"RasterFunctionVariable"},Histograms:{isDataset:!1,isPublic:!1,name:"Histograms",type:"RasterFunctionVariable"},Max:{isDataset:!1,isPublic:!1,name:"Max",type:"RasterFunctionVariable",value:255},MaxPercent:{isDataset:!1,isPublic:!1,name:"MaxPercent",type:"RasterFunctionVariable",value:.5},Min:{isDataset:!1,isPublic:!1,name:"Min",type:"RasterFunctionVariable",value:0},MinPercent:{isDataset:!1,isPublic:!1,name:"MinPercent",type:"RasterFunctionVariable",value:.25},NumberOfStandardDeviations:{isDataset:!1,isPublic:!1,name:"NumberOfStandardDeviation",type:"RasterFunctionVariable",value:2},Raster:{isDataset:!0,isPublic:!1,name:"Raster",type:"RasterFunctionVariable"},SigmoidStrengthLevel:{isDataset:!1,isPublic:!1,name:"SigmoidStrengthLevel",type:"RasterFunctionVariable",value:2},Statistics:{isDataset:!1,isPublic:!1,name:"Statistics",type:"RasterFunctionVariable"},StretchType:{isDataset:!1,isPublic:!1,name:"StretchType",type:"RasterFunctionVariable",value:0},type:"StretchFunctionArguments",UseGamma:{isDataset:!1,isPublic:!1,name:"UseGamma",type:"RasterFunctionVariable",value:!1}},description:"Enhances an image by adjusting the range of values displayed. This does not alter the underlying pixel values. If a pixel has a value outside of the specified range, it will appear as either the minimum or maximum value.",function:{description:"Enhances an image by adjusting the range of values displayed. This does not alter the underlying pixel values. If a pixel has a value outside of the specified range, it will appear as either the minimum or maximum value.",name:"Stretch",pixelType:"UNKNOWN",type:"StretchFunction"},functionType:0,name:"Stretch",thumbnail:""},RemapFunction:{name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table.",function:{type:"RemapFunction",pixelType:"UNKNOWN",name:"Remap",description:"Changes pixel values by assigning new values to ranges of pixel values or using an external table."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},UseTable:{name:"UseTable",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},InputRanges:{name:"InputRanges",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable",displayName:"Input Ranges"},OutputValues:{name:"OutputValues",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable",displayName:"Output Values"},NoDataRanges:{name:"NoDataRanges",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable",displayName:"NoData Ranges"},Table:{name:"Table",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputField:{name:"InputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},OutputField:{name:"OutputField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},InputMaxField:{name:"InputMaxField",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},RemapTableType:{name:"RemapTableType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},AllowUnmatched:{name:"AllowUnmatched",isPublic:!1,isDataset:!1,value:!0,type:"RasterFunctionVariable"},type:"RemapFunctionArguments"},functionType:0,thumbnail:""},ColormapFunction:{name:"Colormap",description:"Changes pixel values to display the raster data as either a grayscale or a red, green, blue (RGB) image, based on a colormap or a color ramp.",function:{type:"ColormapFunction",pixelType:"UNKNOWN",name:"Colormap",description:"Changes pixel values to display the raster data as either a grayscale or a red, green, blue (RGB) image, based on a colormap or a color ramp."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ColorSchemeType:{name:"ColorSchemeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},Colormap:{name:"Colormap",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},ColormapName:{name:"ColormapName",isPublic:!1,isDataset:!1,value:"Gray",type:"RasterFunctionVariable"},ColorRamp:{name:"ColorRamp",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},type:"ColormapFunctionArguments"},functionType:0,thumbnail:""},ShadedReliefFunction:{name:"Shaded Relief",description:"Creates a multiband, color coded, 3D representation of the surface, with the sun's relative position taken into account for shading the image.",function:{type:"ShadedReliefFunction",pixelType:"UNKNOWN",name:"Shaded Relief",description:"Creates a multiband, color coded, 3D representation of the surface, with the sun's relative position taken into account for shading the image."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ColorSchemeType:{name:"ColorSchemeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ColorRamp:{name:"ColorRamp",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},HillshadeType:{name:"HillshadeType",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},Colormap:{name:"Colormap",isPublic:!1,isDataset:!1,type:"RasterFunctionVariable"},Azimuth:{name:"Azimuth",isPublic:!1,isDataset:!1,value:315,type:"RasterFunctionVariable"},Altitude:{name:"Altitude",isPublic:!1,isDataset:!1,value:45,type:"RasterFunctionVariable"},SlopeType:{name:"SlopeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ZFactor:{name:"ZFactor",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},PSPower:{name:"PSPower",isPublic:!1,isDataset:!1,value:.664,type:"RasterFunctionVariable"},PSZFactor:{name:"PSZFactor",isPublic:!1,isDataset:!1,value:.024,type:"RasterFunctionVariable"},RemoveEdgeEffect:{name:"RemoveEdgeEffect",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},type:"ShadedReliefFunctionArguments"},functionType:0,thumbnail:""},HillshadeFunction:{name:"Hillshade",description:"Creates a 3D representation of the surface, with the sun's relative position taken into account for shading the image",function:{type:"HillshadeFunction",pixelType:"UNKNOWN",name:"Hillshade",description:"Creates a 3D representation of the surface, with the sun's relative position taken into account for shading the image"},arguments:{DEM:{name:"DEM",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},HillshadeType:{name:"HillshadeType",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},Azimuth:{name:"Azimuth",isPublic:!1,isDataset:!1,value:315,type:"RasterFunctionVariable"},Altitude:{name:"Altitude",isPublic:!1,isDataset:!1,value:45,type:"RasterFunctionVariable"},SlopeType:{name:"SlopeType",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},ZFactor:{name:"ZFactor",isPublic:!1,isDataset:!1,value:1,type:"RasterFunctionVariable"},PSPower:{name:"PSPower",isPublic:!1,isDataset:!1,value:.664,type:"RasterFunctionVariable"},PSZFactor:{name:"PSZFactor",isPublic:!1,isDataset:!1,value:.024,type:"RasterFunctionVariable"},RemoveEdgeEffect:{name:"RemoveEdgeEffect",isPublic:!1,isDataset:!1,value:!1,type:"RasterFunctionVariable"},type:"HillshadeFunctionArguments"},functionType:0,thumbnail:""},ResampleFunction:{name:"Resample",description:"Changes the cell size of a raster.",function:{type:"ResampleFunction",pixelType:"UNKNOWN",name:"Resample",description:"Changes the cell size of a raster."},arguments:{Raster:{name:"Raster",isPublic:!1,isDataset:!0,type:"RasterFunctionVariable"},ResamplingType:{name:"ResamplingType",isPublic:!1,isDataset:!1,value:0,type:"RasterFunctionVariable"},InputCellSize:{name:"InputCellsize",isPublic:!1,isDataset:!1,value:{x:0,y:0},type:"RasterFunctionVariable"},OutputCellSize:{name:"OutputCellsize",isPublic:!1,isDataset:!1,value:{x:0,y:0},type:"RasterFunctionVariable"},type:"ResampleFunctionArguments"},functionType:0,thumbnail:""}},n9=new Set(["u1","u2","u4","u8","s8","u16","s16"]),r9={simple_scalar:"Simple Scalar",wind_barb:"Wind Barb",single_arrow:"Single Arrow",beaufort_kn:"Beaufort Wind (Knots)",beaufort_m:"Beaufort Wind (MetersPerSecond)",ocean_current_m:"Ocean Current (MetersPerSecond)",ocean_current_kn:"Ocean Current (Knots)"},i9=new Set(["raster-stretch","unique-value","class-breaks","raster-shaded-relief","vector-field","raster-colormap"]);function o9(e){return i9.has(e.type)}function s9(e,t){if(!e||!t)return _e(e||t);const n=_e(e);if(n.functionDefinition&&t.rasterFunctionDefinition){const e=t.rasterFunctionDefinition;(e.thumbnail||e.thumbnailEx)&&(e.thumbnail=e.thumbnailEx=void 0),a9(n.functionDefinition.arguments,t),n.rasterFunctionDefinition=n.functionDefinition.toJSON()}else"none"!==t.functionName?.toLowerCase()&&(u9(n.functionArguments).Raster=t);return n}function a9(e,t){for(const n in e)"raster"===n.toLowerCase()&&("RasterFunctionVariable"===e[n].type?(e[n]=t.rasterFunctionDefinition,e[n].type="RasterFunctionTemplate"):"RasterFunctionTemplate"===e[n].type&&a9(e[n].arguments,t))}function l9(e){const t=_e(t9[e.functionName+"Function"]),n=e.functionArguments;for(const r in n)"raster"===r.toLowerCase()?(t.arguments[r]=l9(n[r]),t.arguments[r].type="RasterFunctionTemplate"):"colormap"===r.toLowerCase()?(t.arguments[r].value=_9(n[r]),t.arguments.ColorSchemeType.value=0):t.arguments[r].value=n[r];return t}function c9(e,t){switch(t=t||{},e.type){case"raster-stretch":return f9(e,t);case"class-breaks":return m9(e,t);case"unique-value":return v9(e,t);case"raster-colormap":return w9(e,t);case"vector-field":return p9(e,t);case"raster-shaded-relief":return d9(e,t);case"flow":throw new Error("Unsupported rendering rule.")}}function u9(e){const t=e?.Raster??e?.raster;return t&&"esri.layers.support.RasterFunction"===t.declaredClass?u9(t.functionArguments):e}const h9={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9};function p9(e,t){const n=new e9;n.functionName="VectorFieldRenderer";const{dataType:r,bandNames:i}=t,o="vector-uv"===r;let s,a;if(i&&2===i.length){const e=i.map((e=>e.toLowerCase()));s=e.indexOf("magnitude"),a=e.indexOf("direction")}-1!==s&&null!==s||(s=0,a=1);const l="arithmetic"===e.rotationType?1:2,c="flow-from"===e.flowRepresentation?0:1,u=e.visualVariables?e.visualVariables.find((e=>"Magnitude"===e.field)):new FP,h={magnitudeBandID:s,directionBandID:a,isUVComponents:o,referenceSystem:l,massFlowAngleRepresentation:c,symbolTileSize:50,symbolTileSizeUnits:100,calculationMethod:"Vector Average",symbologyName:r9[e.style.toLowerCase().replace("-","_")],minimumMagnitude:u.minDataValue,maximumMagnitude:u.maxDataValue,minimumSymbolSize:u.minSize,maximumSymbolSize:u.maxSize};n.functionArguments=h;const p=l9(n);return t.convertToRFT?e9.fromJSON({rasterFunctionDefinition:p}):n}function d9(e,t){const n=t.convertToRFT;if("elevation"!==t.dataType&&("generic"!==t.dataType||1!==t.bandCount||"s16"!==t.pixelType&&"s32"!==t.pixelType&&"f32"!==t.pixelType&&"f64"!==t.pixelType))return new e9;const r=new e9;r.functionName="Hillshade";const i="traditional"===e.hillshadeType?0:1,o="none"===e.scalingType?1:3,s={HillshadeType:i,SlopeType:o,ZFactor:e.zFactor};return 0===i&&(s.Azimuth=e.azimuth,s.Altitude=e.altitude),3===o&&(s.PSPower=e.pixelSizePower,s.PSZFactor=e.pixelSizeFactor),r.functionArguments=s,r.variableName="Raster",e.colorRamp&&(r.functionName="ShadedRelief",n?s.ColorRamp=j4(e.colorRamp):s.Colormap=N4(e.colorRamp)),n?new e9({rasterFunctionDefinition:l9(r)}):r}function f9(e,t){const n=t.convertToRFT,r=new e9;r.functionName="Stretch";const i=h9[W4.toJSON(e.stretchType)],o="u8",s=e.customStatistics?.map((e=>[e.min,e.max,e.avg??0,e.stddev??1])),a={StretchType:i,Statistics:s,DRA:e.dynamicRangeAdjustment,UseGamma:e.useGamma,Gamma:e.gamma,ComputeGamma:e.computeGamma};if(null!=e.outputMin&&(a.Min=e.outputMin),null!=e.outputMax&&(a.Max=e.outputMax),i===h9.standardDeviation?(a.NumberOfStandardDeviations=e.numberOfStandardDeviations,r.outputPixelType=o):i===h9.percentClip?(a.MinPercent=e.minPercent,a.MaxPercent=e.maxPercent,r.outputPixelType=o):i===h9.minMax?r.outputPixelType=o:i===h9.sigmoid&&(a.SigmoidStrengthLevel=e.sigmoidStrengthLevel),r.functionArguments=a,r.variableName="Raster",e.colorRamp){const i=e.colorRamp,o=new e9;if(n)o.functionArguments={ColorRamp:j4(i)};else{const n=E4(i,!0);if(n)o.functionArguments={colorRampName:n};else if(!t.convertColorRampToColormap||"algorithmic"!==i.type&&"multipart"!==i.type){const t=e.colorRamp.toJSON();"algorithmic"===t.type?t.algorithm=t.algorithm||"esriCIELabAlgorithm":"multipart"===t.type&&t.colorRamps?.length&&t.colorRamps.forEach((e=>e.algorithm=e.algorithm||"esriCIELabAlgorithm")),o.functionArguments={colorRamp:t}}else o.functionArguments={Colormap:N4(i)}}return o.variableName="Raster",o.functionName="Colormap",o.functionArguments.Raster=r,n?new e9({rasterFunctionDefinition:l9(o)}):o}return n?new e9({rasterFunctionDefinition:l9(r)}):r}function m9(e,t){const n=[],r=[],i=[],o=[],{pixelType:s,rasterAttributeTable:a}=t,l=null==a?null:a.features,c=g9(a);if(c&&l&&Array.isArray(l)&&e.classBreakInfos){e.classBreakInfos.forEach(((t,n)=>{const r=t.symbol?.color;let i;r?.a&&null!=t.minValue&&null!=t.maxValue&&l.forEach((s=>{null!=t.minValue&&null!=t.maxValue&&(i=s.attributes[e.field],(i>=t.minValue&&i<t.maxValue||n===e.classBreakInfos.length-1&&i>=t.minValue)&&o.push([s.attributes[c],r.r,r.g,r.b]))}))}));const n=s?y9(o,s):o,r=new e9;return r.functionName="Colormap",r.functionArguments={},r.functionArguments.Colormap=n,r.variableName="Raster",t.convertToRFT?new e9({rasterFunctionDefinition:l9(r)}):r}e.classBreakInfos.forEach(((e,t)=>{if(null==e.minValue||null==e.maxValue)return;const s=e.symbol&&e.symbol.color;s?.a?(0===t?n.push(e.minValue,e.maxValue+1e-4):n.push(e.minValue+1e-4,e.maxValue+1e-4),r.push(t),o.push([t,s.r,s.g,s.b])):i.push(e.minValue,e.maxValue)}));const u=s?y9(o,s):o,h=new e9;h.functionName="Remap",h.functionArguments={InputRanges:n,OutputValues:r,NoDataRanges:i},h.variableName="Raster";const p=new e9;return p.functionName="Colormap",p.functionArguments={Colormap:u,Raster:h},t.convertToRFT?new e9({rasterFunctionDefinition:l9(p)}):p}function y9(e,t){const n=n9.has(t)?E5(t):null;return n&&e.push([Math.floor(n[0]-1),0,0,0],[Math.ceil(n[1]+1),0,0,0]),e}function g9(e){if(null==e)return;const{fields:t}=e;return t?.find((e=>e?.name&&"value"===e.name.toLowerCase()))?.name}function v9(e,t){const n=[],{pixelType:r,rasterAttributeTable:i}=t,o=null==i?null:i.features,s=g9(i),a=e.defaultSymbol?.color?.toRgb(),l=e.uniqueValueInfos;if(l)if(o){if(s){const t=new Map;l.forEach((e=>{const n=e.value,r=b9(e);null!=n&&r?.a&&t.set(String(n),r.toRgb())}));const r=e.field;r&&o.forEach((({attributes:e})=>{const i=String(e[r]),o=e[s],l=t.get(i);l?n.push([o,...l]):a&&n.push([o,...a])}))}}else for(let h=0;h<l.length;h++){const e=l[h],t=b9(e),r=+e.value;if(t?.a){if(isNaN(r))return null;n.push([r,t.r,t.g,t.b])}}const c=r?y9(n,r):n,u=new e9;return u.functionName="Colormap",u.functionArguments={},u.functionArguments.Colormap=c,u.variableName="Raster",t.convertToRFT?new e9({rasterFunctionDefinition:l9(u)}):u}function b9(e){return"polygon-3d"===e.symbol?.type?e.symbol.symbolLayers?.find((e=>"fill"===e.type))?.material?.color:e.symbol?.color}function w9(e,t){const n=e.extractColormap();if(!n||0===n.length)return null;const{pixelType:r}=t,i=r?y9(n,r):n,o=new e9;return o.functionName="Colormap",o.functionArguments={},o.functionArguments.Colormap=i,t.convertToRFT?new e9({rasterFunctionDefinition:l9(o)}):o}function _9(e){const t=[],n=[];return e.forEach((e=>{t.push(e[0]),n.push(U4([...e.slice(1),255]))})),{type:"RasterColormap",values:t,colors:n}}var x9;const S9=uu()({MT_FIRST:"first",MT_LAST:"last",MT_MIN:"min",MT_MAX:"max",MT_MEAN:"mean",MT_BLEND:"blend",MT_SUM:"sum"}),T9=uu()({esriMosaicNone:"none",esriMosaicCenter:"center",esriMosaicNadir:"nadir",esriMosaicViewpoint:"viewpoint",esriMosaicAttribute:"attribute",esriMosaicLockRaster:"lock-raster",esriMosaicNorthwest:"northwest",esriMosaicSeamline:"seamline"});function E9(e){let t;switch(e?e.toLowerCase().replace("esrimosaic",""):""){case"byattribute":case"attribute":t="esriMosaicAttribute";break;case"lockraster":t="esriMosaicLockRaster";break;case"center":t="esriMosaicCenter";break;case"northwest":t="esriMosaicNorthwest";break;case"nadir":t="esriMosaicNadir";break;case"viewpoint":t="esriMosaicViewpoint";break;case"seamline":t="esriMosaicSeamline";break;default:t="esriMosaicNone"}return T9.fromJSON(t)}let M9=x9=class extends Hs{constructor(e){super(e),this.ascending=!0,this.itemRasterFunction=null,this.lockRasterIds=null,this.method=null,this.multidimensionalDefinition=null,this.objectIds=null,this.operation=null,this.sortField=null,this.sortValue=null,this.viewpoint=null,this.where=null}readAscending(e,t){return null!=t.ascending?t.ascending:null==t.sortAscending||t.sortAscending}readMethod(e,t){return E9(t.mosaicMethod||t.defaultMosaicMethod)}writeMultidimensionalDefinition(e,t,n){null!=e&&(e=e.filter((({variableName:e,dimensionName:t})=>e&&"*"!==e||t))).length&&(t[n]=e.map((e=>e.toJSON())))}readOperation(e,t){const n=t.mosaicOperation,r=t.mosaicOperator?.toLowerCase(),i=n||(r?S9.toJSON(r):null);return S9.fromJSON(i)||"first"}castSortValue(e){return null==e||"string"==typeof e||"number"==typeof e?e:`${e}`}clone(){return new x9({ascending:this.ascending,itemRasterFunction:_e(this.itemRasterFunction),lockRasterIds:_e(this.lockRasterIds),method:this.method,multidimensionalDefinition:_e(this.multidimensionalDefinition),objectIds:_e(this.objectIds),operation:this.operation,sortField:this.sortField,sortValue:this.sortValue,viewpoint:_e(this.viewpoint),where:this.where})}};S([To({type:Boolean,json:{write:!0}})],M9.prototype,"ascending",void 0),S([Cp("ascending",["ascending","sortAscending"])],M9.prototype,"readAscending",null),S([To({type:e9,json:{name:"itemRenderingRule",write:!0}})],M9.prototype,"itemRasterFunction",void 0),S([To({type:[yo],json:{write:{overridePolicy(){return{enabled:"lock-raster"===this.method}}}}})],M9.prototype,"lockRasterIds",void 0),S([To({type:String,json:{type:T9.jsonValues,write:{target:"mosaicMethod",writer:T9.write}}})],M9.prototype,"method",void 0),S([Cp("method",["mosaicMethod","defaultMosaicMethod"])],M9.prototype,"readMethod",null),S([To({type:[O8],json:{write:!0}})],M9.prototype,"multidimensionalDefinition",void 0),S([su("multidimensionalDefinition")],M9.prototype,"writeMultidimensionalDefinition",null),S([To({type:[yo],json:{name:"fids",write:!0}})],M9.prototype,"objectIds",void 0),S([To({json:{type:S9.jsonValues,read:{reader:S9.read},write:{target:"mosaicOperation",writer:S9.write}}})],M9.prototype,"operation",void 0),S([Cp("operation",["mosaicOperation","mosaicOperator"])],M9.prototype,"readOperation",null),S([To({type:String,json:{write:{overridePolicy(){return{enabled:"attribute"===this.method}}}}})],M9.prototype,"sortField",void 0),S([To({type:[String,Number],json:{write:{allowNull:!0,overridePolicy(){return{enabled:"attribute"===this.method,allowNull:!0}}}}})],M9.prototype,"sortValue",void 0),S([Dp("sortValue")],M9.prototype,"castSortValue",null),S([To({type:sd,json:{write:!0}})],M9.prototype,"viewpoint",void 0),S([To({type:String,json:{write:!0}})],M9.prototype,"where",void 0),M9=x9=S([gs("esri.layers.support.MosaicRule")],M9);const A9=M9;let I9=class extends Hs{constructor(){super(...arguments),this.layer=null,this.compression=void 0,this.pixelType=void 0,this.lercVersion=2}get adjustAspectRatio(){return this.layer.adjustAspectRatio}writeAdjustAspectRatio(e,t,n){this.layer.version<10.3||(t[n]=e)}get bandIds(){return this.layer.bandIds}get compressionQuality(){return this.layer.compressionQuality}writeCompressionQuality(e,t,n){this.format&&this.format.toLowerCase().includes("jpg")&&null!=e&&(t[n]=e)}get compressionTolerance(){return this.layer.compressionTolerance}writeCompressionTolerance(e,t,n){"lerc"===this.format&&null!=e&&(t[n]=e)}get format(){return"vector-field"===this.layer.renderer?.type?"lerc":this.layer.format}get interpolation(){return this.layer.interpolation}get noData(){return this.layer.noData}get noDataInterpretation(){return this.layer.noDataInterpretation}writeLercVersion(e,t,n){"lerc"===this.format&&this.layer.version>=10.5&&(t[n]=e)}get version(){const e=this.layer;return e.commitProperty("bandIds"),e.commitProperty("format"),e.commitProperty("compressionQuality"),e.commitProperty("compressionTolerance"),e.commitProperty("interpolation"),e.commitProperty("noData"),e.commitProperty("noDataInterpretation"),e.commitProperty("mosaicRule"),e.commitProperty("rasterFunction"),e.commitProperty("adjustAspectRatio"),e.commitProperty("pixelFilter"),e.commitProperty("definitionExpression"),e.commitProperty("multidimensionalSubset"),(this._get("version")||0)+1}set version(e){this._set("version",e)}get mosaicRule(){const e=this.layer;let t=e.mosaicRule;const n=e.definitionExpression;return t?n&&n!==t.where&&(t=t.clone(),t.where=n):n&&(t=new A9({where:n})),t}get rasterFunction(){const e=this.layer;let{rasterFunction:t}=e;const n=e.pixelFilter,r=!e.format||e.format.includes("jpg")||e.format.includes("png");t=this._addResampleRasterFunction(t);const i=e.multidimensionalSubset?.areaOfInterest;return i&&(t=C9(t,i)),r&&!n&&"vector-field"!==e.renderer?.type&&(t=this.combineRendererWithRenderingRule(t)),t}combineRendererWithRenderingRule(e){const t=this.layer,{rasterInfo:n,renderer:r}=t;return e=e||t.rasterFunction,r&&o9(r)?s9(c9(r,{rasterAttributeTable:n.attributeTable,pixelType:n.pixelType,dataType:n.dataType,bandNames:n.bandInfos.map((({name:e})=>e)),convertColorRampToColormap:t.version<10.6,convertToRFT:!!e?.rasterFunctionDefinition,bandCount:n.bandCount}),e):e}_addResampleRasterFunction(e){if("vector-field"!==this.layer.renderer?.type||"Resample"===e?.functionName)return e;const t="esriImageServiceDataTypeVector-UV"===this.layer.serviceDataType?7:10,n=this.layer.serviceRasterInfo.pixelSize;let r=new e9({functionName:"Resample",functionArguments:{ResamplingType:t,InputCellSize:n}});return r=e?.rasterFunctionDefinition?new e9({rasterFunctionDefinition:l9(r)}):r,s9(r,e)}};function C9(e,t){const n=new e9({functionName:"Clip",functionArguments:{ClippingGeometry:t.toJSON(),ClippingType:1}});return s9(n,e)}async function O9(e,t,n){let r;try{r=await createImageBitmap(e)}catch(i){throw new et("request:server",`Unable to load ${t}`,{url:t,error:i})}return or(n),r}async function k9(e,t,n,r,i){let o;try{o=await createImageBitmap(e)}catch(s){throw new et("request:server",`Unable to load tile ${t}/${n}/${r}`,{error:s,level:t,row:n,col:r})}return or(i),o}var R9;S([To()],I9.prototype,"layer",void 0),S([To({json:{write:!0}})],I9.prototype,"adjustAspectRatio",null),S([su("adjustAspectRatio")],I9.prototype,"writeAdjustAspectRatio",null),S([To({json:{write:!0}})],I9.prototype,"bandIds",null),S([To({json:{write:!0}})],I9.prototype,"compression",void 0),S([To({json:{write:!0}})],I9.prototype,"compressionQuality",null),S([su("compressionQuality")],I9.prototype,"writeCompressionQuality",null),S([To({json:{write:!0}})],I9.prototype,"compressionTolerance",null),S([su("compressionTolerance")],I9.prototype,"writeCompressionTolerance",null),S([To({json:{write:!0}})],I9.prototype,"format",null),S([To({type:String,json:{read:{reader:k8.read},write:{writer:k8.write}}})],I9.prototype,"interpolation",null),S([To({json:{write:!0}})],I9.prototype,"noData",null),S([To({type:String,json:{read:{reader:R8.read},write:{writer:R8.write}}})],I9.prototype,"noDataInterpretation",null),S([To({json:{write:!0}})],I9.prototype,"pixelType",void 0),S([To({json:{write:!0}})],I9.prototype,"lercVersion",void 0),S([su("lercVersion")],I9.prototype,"writeLercVersion",null),S([To({type:Number})],I9.prototype,"version",null),S([To({json:{write:!0}})],I9.prototype,"mosaicRule",null),S([To({json:{write:!0,name:"renderingRule"}})],I9.prototype,"rasterFunction",null),I9=S([gs("esri.layers.support.ExportImageServiceParameters")],I9);const L9={base:kp,key:"type",typeMap:{extent:Gd,polygon:nv}};let N9=R9=class extends Hs{constructor(e){super(e),this.areaOfInterest=null,this.subsetDefinitions=null}get dimensions(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Map;e.forEach((e=>{if(!e.dimensionName)return;let n,r;if(Array.isArray(e.values[0])){const t=e.values;n=t[0][0],r=t[e.values.length-1][1]}else{const t=e.values;n=t[0],r=t[e.values.length-1]}if(t.has(e.dimensionName)){const i=t.get(e.dimensionName);i[0]=Math.min(n,i[0]),i[1]=Math.max(r,i[1])}else t.set(e.dimensionName,[n,r])}));const n=[];for(const r of t)n.push({name:r[0],extent:r[1]});return n}get variables(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Set;return e.forEach((e=>{e.variableName&&t.add(e.variableName)})),[...t]}clone(){const e=this.subsetDefinitions?.map((e=>e.clone())),t=this.areaOfInterest?this.areaOfInterest.clone():this.areaOfInterest;return new R9({areaOfInterest:t,subsetDefinitions:e})}};S([To({types:L9,json:{read:fv,write:!0}})],N9.prototype,"areaOfInterest",void 0),S([To({readOnly:!0})],N9.prototype,"dimensions",null),S([To({readOnly:!0})],N9.prototype,"variables",null),S([To({type:[O8],json:{write:!0}})],N9.prototype,"subsetDefinitions",void 0),N9=R9=S([gs("esri.layers.support.MultidimensionalSubset")],N9);const P9=N9;var D9;function F9(e){return e=Number(e),isNaN(e)?void 0:e}let j9=D9=class extends Hs{constructor(){super(...arguments),this.name=null,this.minWavelength=void 0,this.maxWavelength=void 0,this.radianceBias=void 0,this.radianceGain=void 0,this.reflectanceBias=void 0,this.reflectanceGain=void 0,this.solarIrradiance=void 0}clone(){return new D9({name:this.name,minWavelength:this.minWavelength,maxWavelength:this.maxWavelength,radianceBias:this.radianceBias,radianceGain:this.radianceGain,reflectanceBias:this.reflectanceBias,reflectanceGain:this.reflectanceGain,solarIrradiance:this.solarIrradiance})}};S([To({json:{name:"BandName",write:!0}})],j9.prototype,"name",void 0),S([To({json:{name:"WavelengthMin",read:{reader:F9},write:!0}})],j9.prototype,"minWavelength",void 0),S([To({json:{name:"WavelengthMax",read:{reader:F9},write:!0}})],j9.prototype,"maxWavelength",void 0),S([To({json:{name:"RadianceBias",read:{reader:F9},write:!0}})],j9.prototype,"radianceBias",void 0),S([To({json:{name:"RadianceGain",read:{reader:F9},write:!0}})],j9.prototype,"radianceGain",void 0),S([To({json:{name:"ReflectanceBias",read:{reader:F9},write:!0}})],j9.prototype,"reflectanceBias",void 0),S([To({json:{name:"ReflectanceGain",read:{reader:F9},write:!0}})],j9.prototype,"reflectanceGain",void 0),S([To({json:{name:"SolarIrradiance",read:{reader:F9},write:!0}})],j9.prototype,"solarIrradiance",void 0),j9=D9=S([gs("esri.layers.support.RasterBandInfo")],j9);const U9=j9;var z9;function G9(e){return e=Number(e),isNaN(e)?void 0:e}let V9=z9=class extends Hs{constructor(){super(...arguments),this.acquisitionDate=void 0,this.cloudCover=void 0,this.productName=void 0,this.sensorName=null,this.sensorAzimuth=void 0,this.sensorElevation=void 0,this.sunAzimuth=void 0,this.sunElevation=void 0}readAcquisitionDate(e){return new Date(e)}writeAcquisitionDate(e,t){t.AcquisitionDate=e.getTime()}clone(){return new z9({acquisitionDate:this.acquisitionDate,cloudCover:this.cloudCover,productName:this.productName,sensorName:this.sensorName,sensorAzimuth:this.sensorAzimuth,sensorElevation:this.sensorElevation,sunAzimuth:this.sunAzimuth,sunElevation:this.sunElevation})}};S([To({json:{name:"AcquisitionDate",write:!0}})],V9.prototype,"acquisitionDate",void 0),S([Cp("acquisitionDate")],V9.prototype,"readAcquisitionDate",null),S([su("acquisitionDate")],V9.prototype,"writeAcquisitionDate",null),S([To({json:{name:"CloudCover",read:{reader:G9},write:!0}})],V9.prototype,"cloudCover",void 0),S([To({json:{name:"ProductName",write:!0}})],V9.prototype,"productName",void 0),S([To({json:{name:"SensorName",write:!0}})],V9.prototype,"sensorName",void 0),S([To({json:{name:"SensorAzimuth",read:{reader:G9},write:!0}})],V9.prototype,"sensorAzimuth",void 0),S([To({json:{name:"SensorElevation",read:{reader:G9},write:!0}})],V9.prototype,"sensorElevation",void 0),S([To({json:{name:"SunAzimuth",read:{reader:G9},write:!0}})],V9.prototype,"sunAzimuth",void 0),S([To({json:{name:"SunElevation",read:{reader:G9},write:!0}})],V9.prototype,"sunElevation",void 0),V9=z9=S([gs("esri.layers.support.RasterSensorInfo")],V9);const B9=V9;var $9;let H9=$9=class extends Hs{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new $9({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:_e(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:_e(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:_e(this.tileInfo),transposeInfo:_e(this.transposeInfo),blockBoundary:_e(this.blockBoundary)})}};S([To({type:Number,json:{write:!0}})],H9.prototype,"blockWidth",void 0),S([To({type:Number,json:{write:!0}})],H9.prototype,"blockHeight",void 0),S([To({type:String,json:{write:!0}})],H9.prototype,"compression",void 0),S([To({type:sd,json:{write:!0}})],H9.prototype,"origin",void 0),S([To({type:Number,json:{write:!0}})],H9.prototype,"firstPyramidLevel",void 0),S([To({type:Number,json:{write:!0}})],H9.prototype,"maximumPyramidLevel",void 0),S([To({json:{write:!0}})],H9.prototype,"pyramidResolutions",void 0),S([To({type:Number,json:{write:!0}})],H9.prototype,"pyramidScalingFactor",void 0),S([To({type:Number,json:{write:!0}})],H9.prototype,"pyramidBlockWidth",void 0),S([To({type:Number,json:{write:!0}})],H9.prototype,"pyramidBlockHeight",void 0),S([To({type:Boolean,json:{write:!0}})],H9.prototype,"isVirtualTileInfo",void 0),S([To({json:{write:!0}})],H9.prototype,"tileInfo",void 0),S([To()],H9.prototype,"transposeInfo",void 0),S([To()],H9.prototype,"blockBoundary",void 0),H9=$9=S([gs("esri.layers.support.RasterStorageInfo")],H9);const W9=H9;var q9;let Z9=q9=class extends Hs{constructor(e){super(e),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get bandInfos(){const e=this.keyProperties.BandProperties,{bandCount:t}=this;if(!e?.length||e.length<t){const e=[];for(let n=1;n<=t;n++)e.push(new U9({name:"band_"+n}));return e}const n=e.map((e=>U9.fromJSON(e)));for(let r=0;r<n.length;r++)n[r].name=n[r].name||"band_"+(r+1);return n}get dataType(){const e=this.keyProperties?.DataType?.toLowerCase()??"generic";return"stdtime"===e?"standard-time":e}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(e){e&&this._set("nativeExtent",e)}get nativePixelSize(){if(null==this.transform||!this.transform.affectsPixelSize)return this.pixelSize;const e=this.nativeExtent;return{x:e.width/this.width,y:e.height/this.height}}get hasMultidimensionalTranspose(){return!!this.storageInfo?.transposeInfo}get sensorInfo(){if(this.keyProperties?.SensorName)return B9.fromJSON(this.keyProperties)}clone(){return new q9({attributeTable:_e(this.attributeTable),bandCount:this.bandCount,colormap:_e(this.colormap),extent:_e(this.extent),format:this.format,height:this.height,width:this.width,histograms:_e(this.histograms),keyProperties:_e(this.keyProperties),multidimensionalInfo:_e(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:_e(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:_e(this.spatialReference),statistics:_e(this.statistics),storageInfo:_e(this.storageInfo),transform:_e(this.transform)})}};S([To({json:{write:!0}})],Z9.prototype,"attributeTable",void 0),S([To({json:{write:!0}})],Z9.prototype,"bandCount",void 0),S([To({readOnly:!0})],Z9.prototype,"bandInfos",null),S([To({json:{write:!0}})],Z9.prototype,"colormap",void 0),S([To({type:String,readOnly:!0})],Z9.prototype,"dataType",null),S([To({type:Gd,json:{write:!0}})],Z9.prototype,"extent",void 0),S([To({type:Gd,json:{write:!0}})],Z9.prototype,"nativeExtent",null),S([To({json:{write:!0}})],Z9.prototype,"nativePixelSize",null),S([To({json:{write:!0}})],Z9.prototype,"format",void 0),S([To({json:{write:!0}})],Z9.prototype,"height",void 0),S([To({json:{write:!0}})],Z9.prototype,"width",void 0),S([To({json:{write:!0}})],Z9.prototype,"hasMultidimensionalTranspose",null),S([To({json:{write:!0}})],Z9.prototype,"histograms",void 0),S([To({json:{write:!0}})],Z9.prototype,"keyProperties",void 0),S([To({json:{write:!0}})],Z9.prototype,"multidimensionalInfo",void 0),S([To({json:{write:!0}})],Z9.prototype,"noDataValue",void 0),S([To({json:{write:!0}})],Z9.prototype,"pixelSize",void 0),S([To({json:{write:!0}})],Z9.prototype,"pixelType",void 0),S([To()],Z9.prototype,"isPseudoSpatialReference",void 0),S([To({readOnly:!0})],Z9.prototype,"sensorInfo",null),S([To({type:Ip,json:{write:!0}})],Z9.prototype,"spatialReference",void 0),S([To({json:{write:!0}})],Z9.prototype,"statistics",void 0),S([To({type:W9,json:{write:!0}})],Z9.prototype,"storageInfo",void 0),S([To({json:{write:!0}})],Z9.prototype,"transform",void 0),Z9=q9=S([gs("esri.layers.support.RasterInfo")],Z9);const Y9=Z9;let X9=class{constructor(){this._workerThread=null,this._destroyed=!1}async initialize(){const e=await LW("RasterWorker");this._destroyed?e.close():this._workerThread=e}destroy(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)}async convertVectorFieldData(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("convertVectorFieldData",{pixelBlock:e.pixelBlock.toJSON(),type:e.dataType},t);return n?new F5(n):null}computeStatisticsHistograms(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");return this._workerThread.invoke("computeStatisticsHistograms",{pixelBlock:e.pixelBlock.toJSON()},t)}async decode(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("decode",e,t);return n?new F5(n):null}async symbolize(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");const n={extent:e.extent?.toJSON(),pixelBlock:e.pixelBlock?.toJSON(),simpleStretchParams:e.simpleStretchParams,bandIds:e.bandIds},r=await this._workerThread.invoke("symbolize",n,t);return r?new F5(r):null}async updateSymbolizer(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");const n=e?.rendererJSON?.histograms;await Promise.all(this._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:e.toJSON(),histograms:n},t))}async updateRasterFunction(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");await Promise.all(this._workerThread.broadcast("updateRasterFunction",{rasterFunctionJSON:e.toJSON()},t))}async process(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("process",{extent:e.extent?.toJSON(),primaryPixelSizes:e.primaryPixelSizes?.map((e=>null!=e?e.toJSON():null)),primaryPixelBlocks:e.primaryPixelBlocks.map((e=>null!=e?e.toJSON():null)),primaryRasterIds:e.primaryRasterIds},t);return n?new F5(n):null}async stretch(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={srcPixelBlock:e.pixelBlock.toJSON(),stretchParams:e.stretchParams},r=await this._workerThread.invoke("stretch",n,t);return r?new F5(r):null}async split(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={srcPixelBlock:e.pixelBlock.toJSON(),tileSize:e.tileSize,maximumPyramidLevel:e.maximumPyramidLevel,useBilinear:e.useBilinear},r=await this._workerThread.invoke("split",n,t);return r&&r.forEach(((e,t)=>{r.set(t,e?F5.fromJSON(e):null)})),r}async clipTile(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={...e,pixelBlock:e.pixelBlock.toJSON()},r=await this._workerThread.invoke("clipTile",n,t);return r?F5.fromJSON(r):null}async estimateStatisticsHistograms(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");if(!e?.pixelBlock)return null;const n={srcPixelBlock:e.pixelBlock.toJSON()};return await this._workerThread.invoke("estimateStatisticsHistograms",n,t)}async mosaicAndTransform(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");if(!e?.srcPixelBlocks?.length)return{pixelBlock:null};const n={...e,srcPixelBlocks:e.srcPixelBlocks.map((e=>null!=e?e.toJSON():null))},r=await this._workerThread.invoke("mosaicAndTransform",n,t);return{pixelBlock:r.pixelBlock?new F5(r.pixelBlock):null,localNorthDirections:r.localNorthDirections}}async createFlowMesh(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");const n={buffer:e.flowData.data.buffer,maskBuffer:e.flowData.mask.buffer,width:e.flowData.width,height:e.flowData.height},{meshType:r,simulationSettings:i}=e,o=await this._workerThread.invoke("createFlowMesh",{meshType:r,flowData:n,simulationSettings:i},{...t,transferList:[n.buffer,n.maskBuffer]});return{vertexData:new Float32Array(o.vertexBuffer),indexData:new Uint32Array(o.indexBuffer)}}getProjectionOffsetGrid(e,t){if(!this._workerThread)throw new et("raster-jobhandler:no-connection","no available worker connection");const n=null!=e.datumTransformation?e.datumTransformation.steps.map((e=>({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))):null,r=null!=e.rasterTransform?e.rasterTransform.toJSON():null,i={projectedExtent:e.projectedExtent.toJSON(),srcBufferExtent:e.srcBufferExtent.toJSON(),pixelSize:e.pixelSize,hasWrapAround:e.hasWrapAround,spacing:e.spacing,datumTransformationSteps:n,rasterTransform:r,isAdaptive:e.isAdaptive,includeGCSGrid:e.includeGCSGrid};return this._workerThread.invoke("getProjectionOffsetGrid",i,t)}};function J9(e,t,n){const r=t.shift();if(0===n.length){const e=[];n.push({sliceId:-1,multidimensionalDefinition:e})}const i=n.length;for(let o=0;o<i;o++){const t=n.shift().multidimensionalDefinition;r.values?.forEach((i=>{n.push({sliceId:-1,multidimensionalDefinition:[...t,{variableName:e,dimensionName:r.name,values:[i]}]})}))}t.length&&J9(e,t,n)}function K9(e,t){const n=[];let r=0;return(t?e.variables.filter((e=>e.name.toLowerCase()===t.toLowerCase())):[...e.variables].sort(((e,t)=>e.name>t.name?1:-1))).forEach((e=>{const t=[],i=[...e.dimensions].sort(((e,t)=>e.name>t.name?-1:1));J9(e.name,i,t),t.forEach((e=>{n.push({...e,sliceId:r++})}))})),n}function Q9(e,t,n){let r=e;if(t&&(t=[...t].sort(((e,t)=>e.dimensionName<t.dimensionName?-1:1))).forEach((({dimensionName:e,values:t,isSlice:n})=>{t.length&&(r=r.filter((r=>{const i=r.multidimensionalDefinition.find((t=>t.dimensionName===e));if(null==i)return!1;const o=i.values[0];return"number"==typeof o?"number"==typeof t[0]?t.includes(o):t.some((e=>e[0]<=o&&e[1]>=o)):"number"==typeof t[0]?t.some((e=>o[0]<=e&&o[1]>=e)):n?t.some((e=>e[0]===o[0]&&e[0]===o[1])):t.some((e=>e[0]>=o[0]&&e[0]<=o[1]||e[1]>=o[0]&&e[1]<=o[1]||e[0]<o[0]&&e[1]>o[1]))})))})),r.length&&null!=n?.start&&null!=n.end){const e=n.start.getTime(),t=n.end.getTime(),i=r[0].multidimensionalDefinition.findIndex((e=>"StdTime"===e.dimensionName));i>-1&&(r=r.filter((n=>{const r=n.multidimensionalDefinition[i].values[0];return e<=r&&t>=r})))}return r.map((e=>e.sliceId))}function e7(e,t){return Array.isArray(e)?t[0]===t[1]?e[0]===t[0]||e[1]===t[0]:e[0]>=t[0]&&e[0]<=t[1]&&e[1]>=t[0]&&e[1]<=t[1]:e>=t[0]&&e<=t[1]}function t7(e,t){return e[0]<=t[0]&&e[1]>=t[0]||e[0]<=t[1]&&e[1]>=t[1]||e[0]>=t[0]&&e[1]<=t[1]}function n7(e){return 1===e.length?[e[0],e[0]]:[e[0],e[e.length-1]]}function r7(e,t,n){if(!t?.subsetDefinitions?.length)return e;let r;if(n){const{variables:i}=t;if(i.length&&!i.includes(n))return null;const o=t.subsetDefinitions.find((t=>t.dimensionName===e.name&&t.variableName===n));if(!o?.values?.length)return e;r=n7(o.values)}else r=t.dimensions.find((({name:t})=>t===e.name))?.extent;const i=r;if(!i?.length)return e;const o=e.values.filter((e=>e7(e,i)));return{...e,extent:[...i],values:o}}function i7(e,t,n){if(!t?.subsetDefinitions?.length)return!1;const{variables:r}=t;if(r.length&&e.some((({variableName:e})=>e&&!r.includes(e))))return!0;for(let i=0;i<e.length;i++){const r=e[i],o=t.subsetDefinitions.find((e=>(""===r.variableName||e.variableName===r.variableName)&&e.dimensionName===r.dimensionName));if(o?.values.length){const e=n7(o.values);if(r.isSlice||2!==r.values.length||Array.isArray(r.values[0])||r.values[0]===r.values[1]||!n){if(r.values.some((t=>!e7(t,e))))return!0}else if(!t7(r.values,e))return!0}}return!1}function o7(e,t){if(null==e)return{isOutside:!1};const{geometry:n,timeExtent:r,multidimensionalDefinition:i}=t;let o=null;if(null!=r&&(o=s7(e,r),null==o))return{isOutside:!0};const{areaOfInterest:s}=e;if(s&&n){const e="point"===n.type?n:"extent"===n.type?n.center:"polygon"===n.type?n.centroid:null;if(e&&!s.contains(e))return{isOutside:!0}}return null!=i&&i.length&&i7(i,e,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:n,timeExtent:o,multidimensionalDefinition:i}}}function s7(e,t){const n=e.dimensions.find((({name:e})=>"StdTime"===e));if(null==n||null==t.start&&null==t.end)return t;t=t.clone();const{start:r,end:i}=t.toJSON(),o=r===i?[r]:null!=r&&null!=i?[r,i]:[r??i];return 2===o.length&&n?.extent.length&&(o[0]=Math.max(o[0],n.extent[0]),o[1]=Math.min(o[1],n.extent[1]??n.extent[0]),o[1]<o[0])||i7([new O8({variableName:"",dimensionName:"StdTime",isSlice:1===o.length,values:o})],e,!0)?null:(t.start=new Date(o[0]),t.end=new Date(o[1]??o[0]),t)}function a7(e,t={}){const{multidimensionalInfo:n,keyProperties:r}=e;if(null==n)return null;const{variableName:i,multidimensionalSubset:o,multidimensionalDefinition:s}=t,a=null!=s?s[0]?.variableName:null,l=i||a||r?.DefaultVariable;let{variables:c}=n;return o?.variables?.length&&(c=c.filter((({name:e})=>o.variables.includes(e)))),l?c.find((({name:e})=>e===l))??c[0]:c[0]}function l7(e,t={}){const n=a7(e,t);if(!n)return null;const r=[],{dimensions:i,name:o}=n;if(0===i.length)return[new O8({variableName:o,dimensionName:"",values:[],isSlice:!0})];for(let s=0;s<i.length;s++){const e=r7(i[s],t.multidimensionalSubset,o);if(!e)return null;const{values:n,extent:a}=e;let l=n?.[0]??a?.[0];"stdz"===e.name.toLowerCase()&&!e.hasRanges&&a&&Math.abs(a[1])<=Math.abs(a[0])&&(l=n?.length?n[n.length-1]:a[1]),r.push(new O8({variableName:o,dimensionName:e.name,values:[l],isSlice:!t.useRangeForRangedDimensionInfo||!!e.hasRanges}))}return r}function c7(e){return!!e?.length&&e.some((e=>{if(null==e.values)return!0;const t=e.values.length;return 0===t||t>1||!e.isSlice&&Array.isArray(e.values[0])}))}function u7(e,t){if(null==t||null==e)return null;let n=t.variables.map((e=>({...e})));return e?.variables?.length&&(n=n.filter((({name:t})=>e.variables.includes(t))),n.forEach((t=>{t.dimensions=t.dimensions.map((n=>r7(n,e,t.name))).filter(q)}))),n}function h7(e,t){const{values:n}=t;if(n?.length){const t=Array.isArray(n[0]),r=Array.isArray(e);return t!==r?-1:t&&r?n.findIndex((t=>t[0]===e[0]&&t[1]===e[1])):n.indexOf(e)}const{extent:r}=t;if(Array.isArray(e)||!r||e<r[0]||e>r[1])return-1;const i=t.interval||1;if("ISO8601"!==t.unit)return Math.round((e-r[0])/i);const o=r[0];let s=-1;switch(t.intervalUnit?.toLowerCase()||"days"){case"seconds":s=Math.round((e-o)/1e3/i);break;case"minutes":s=Math.round((e-o)/6e4/i);break;case"hours":s=Math.round((e-o)/36e5/i);break;case"days":s=Math.round((e-o)/864e5/i);break;case"months":{const t=new Date(e).getUTCFullYear()-new Date(o).getUTCFullYear(),n=new Date(o).getUTCMonth(),r=new Date(e).getUTCMonth();s=0===t?r-n:r+11-n+12*(t-1)}break;case"years":s=Math.round((new Date(e).getUTCFullYear()-new Date(o).getUTCFullYear())/i);break;case"decades":s=Math.round((new Date(e).getUTCFullYear()-new Date(o).getUTCFullYear())/10/i)}return s}function p7(e){let t=e.values?.length;if(t)return t;const{extent:n,unit:r}=e,i=e.interval||1,o=n?n[1]-n[0]:0;if("ISO8601"!==r)return Math.round(o/i);switch(e.intervalUnit?.toLowerCase()??"seconds"){case"seconds":t=Math.round(o/1e3/i);break;case"minutes":t=Math.round(o/6e4/i);break;case"hours":t=Math.round(o/36e5/i);break;case"days":t=Math.round(o/864e5/i);break;case"months":if(n){const e=new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear(),r=new Date(n[0]).getUTCMonth(),i=new Date(n[1]).getUTCMonth();t=0===e?i-r+1:i+11-r+12*(e-1)+1}else t=0;break;case"years":t=n?Math.round((new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear())/i):0;break;case"decades":t=n?Math.round((new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear())/10/i):0;break;default:t=0}return t}function d7(e,t){let n=0;const r=e[0].variableName,i=[...t.variables].sort(((e,t)=>e.name>t.name?1:-1));for(let o=0;o<i.length;o++){const t=i[o],s=[...t.dimensions].sort(((e,t)=>e.name>t.name?-1:1));if(t.name!==r){n+=s.map((e=>p7(e))).reduce(((e,t)=>e*t));continue}const a=s.map((e=>p7(e))),l=s.length;for(let r=0;r<l;r++){const t=e.find((e=>e.dimensionName===s[r].name));if(null==t)return null;const i=h7(t.values[0],s[r]);if(-1===i)return null;a.shift(),n+=r===l-1?i:i*a.reduce(((e,t)=>e*t))}break}return n}var f7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m7(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y7,g7={exports:{}};function v7(){return y7||(y7=1,t=g7,e=function(){function e(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return e.prototype={ensureBuffer:function(e){var t=this.buffer,n=t?t.byteLength:0;if(e<n)return t;for(var r=512;r<e;)r<<=1;for(var i=new Uint8Array(r),o=0;o<n;++o)i[o]=t[o];return this.buffer=i},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(e){var t=this.pos;if(e){this.ensureBuffer(t+e);for(var n=t+e;!this.eof&&this.bufferLength<n;)this.readBlock();var r=this.bufferLength;n>r&&(n=r)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(t,n)},lookChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(e,t,n){for(var r=e+t;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,t,n)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0}},e}(),void 0!==(n=function(){if(!self||!self.Uint32Array)return null;var t=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),n=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),r=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),i=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],o=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function s(e){throw new Error(e)}function a(t){var n=0,r=t[n++],i=t[n++];-1!=r&&-1!=i||s("Invalid header in flate stream"),8!=(15&r)&&s("Unknown compression method in flate stream"),((r<<8)+i)%31!=0&&s("Bad FCHECK in flate stream"),32&i&&s("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=n,this.codeSize=0,this.codeBuf=0,e.call(this)}return a.prototype=Object.create(e.prototype),a.prototype.getBits=function(e){for(var t,n=this.codeSize,r=this.codeBuf,i=this.bytes,o=this.bytesPos;n<e;)void 0===(t=i[o++])&&s("Bad encoding in flate stream"),r|=t<<n,n+=8;return t=r&(1<<e)-1,this.codeBuf=r>>e,this.codeSize=n-=e,this.bytesPos=o,t},a.prototype.getCode=function(e){for(var t=e[0],n=e[1],r=this.codeSize,i=this.codeBuf,o=this.bytes,a=this.bytesPos;r<n;){var l;void 0===(l=o[a++])&&s("Bad encoding in flate stream"),i|=l<<r,r+=8}var c=t[i&(1<<n)-1],u=c>>16,h=65535&c;return(0==r||r<u||0==u)&&s("Bad encoding in flate stream"),this.codeBuf=i>>u,this.codeSize=r-u,this.bytesPos=a,h},a.prototype.generateHuffmanTable=function(e){for(var t=e.length,n=0,r=0;r<t;++r)e[r]>n&&(n=e[r]);for(var i=1<<n,o=new Uint32Array(i),s=1,a=0,l=2;s<=n;++s,a<<=1,l<<=1)for(var c=0;c<t;++c)if(e[c]==s){var u=0,h=a;for(r=0;r<s;++r)u=u<<1|1&h,h>>=1;for(r=u;r<i;r+=l)o[r]=s<<16|c;++a}return[o,n]},a.prototype.readBlock=function(){function e(e,t,n,r,i){for(var o=e.getBits(n)+r;o-- >0;)t[f++]=i}var a=this.getBits(3);if(1&a&&(this.eof=!0),0!=(a>>=1)){var l,c;if(1==a)l=i,c=o;else if(2==a){for(var u=this.getBits(5)+257,h=this.getBits(5)+1,p=this.getBits(4)+4,d=Array(t.length),f=0;f<p;)d[t[f++]]=this.getBits(3);for(var m=this.generateHuffmanTable(d),y=0,g=(f=0,u+h),v=new Array(g);f<g;){var b=this.getCode(m);16==b?e(this,v,2,3,y):17==b?e(this,v,3,3,y=0):18==b?e(this,v,7,11,y=0):v[f++]=y=b}l=this.generateHuffmanTable(v.slice(0,u)),c=this.generateHuffmanTable(v.slice(u,g))}else s("Unknown block type in flate stream");for(var w=(R=this.buffer)?R.length:0,_=this.bufferLength;;){var x=this.getCode(l);if(x<256)_+1>=w&&(w=(R=this.ensureBuffer(_+1)).length),R[_++]=x;else{if(256==x)return void(this.bufferLength=_);var S=(x=n[x-=257])>>16;S>0&&(S=this.getBits(S)),y=(65535&x)+S,x=this.getCode(c),(S=(x=r[x])>>16)>0&&(S=this.getBits(S));var T=(65535&x)+S;_+y>=w&&(w=(R=this.ensureBuffer(_+y)).length);for(var E=0;E<y;++E,++_)R[_]=R[_-T]}}}else{var M,A=this.bytes,I=this.bytesPos;void 0===(M=A[I++])&&s("Bad block header in flate stream");var C=M;void 0===(M=A[I++])&&s("Bad block header in flate stream"),C|=M<<8,void 0===(M=A[I++])&&s("Bad block header in flate stream");var O=M;void 0===(M=A[I++])&&s("Bad block header in flate stream"),(O|=M<<8)!=(65535&~C)&&s("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var k=this.bufferLength,R=this.ensureBuffer(k+C),L=k+C;this.bufferLength=L;for(var N=k;N<L;++N){if(void 0===(M=A[I++])){this.eof=!0;break}R[N]=M}this.bytesPos=I}},a}())&&(t.exports=n)),g7.exports;var e,t,n}const b7=m7(v7());let w7=class e{constructor(e){this._canvas=null,this._ctx=null,e&&(this._canvas=e.canvas,this._ctx=e.ctx||e.canvas&&e.canvas.getContext("2d"))}decode(t,n,r){if(!t||t.byteLength<10)throw new et("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:i=0,height:o=0,format:s}=n;const{applyJpegMask:a}=n;if(a&&(!i||!o))throw new et("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise(((l,c)=>{let u=null;"jpg"===s&&a&&(u=e._getMask(t,{width:i,height:o}));const h=new Blob([new Uint8Array(t)],{type:"image/"+s=="jpg"?"jpeg":s}),p=URL.createObjectURL(h),d=new Image;let f;d.src=p,d.onload=()=>{if(URL.revokeObjectURL(p),ar(r))return void c(ir());i=d.width,o=d.height,this._canvas&&this._ctx?(this._canvas.width===i&&this._canvas.height===o||(this._canvas.width=i,this._canvas.height=o),this._ctx.clearRect(0,0,i,o)):(this._canvas=document.createElement("canvas"),this._canvas.width=i,this._canvas.height=o,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(d,0,0);const e=this._ctx.getImageData(0,0,i,o);let t;if(f=e.data,n.renderOnCanvas){if(u)for(t=0;t<u.length;t++)u[t]?f[4*t+3]=255:f[4*t+3]=0;return this._ctx.putImageData(e,0,0),void l(null)}const s=i*o,a=new Uint8Array(s),h=new Uint8Array(s),m=new Uint8Array(s);if(u)for(t=0;t<s;t++)a[t]=f[4*t],h[t]=f[4*t+1],m[t]=f[4*t+2];else for(u=new Uint8Array(s),t=0;t<s;t++)a[t]=f[4*t],h[t]=f[4*t+1],m[t]=f[4*t+2],u[t]=f[4*t+3];l({width:i,height:o,pixels:[a,h,m],mask:u,pixelType:"u8"})},d.onerror=()=>{URL.revokeObjectURL(p),c("cannot load image")}}))}static _getMask(e,t){let n=null;try{const r=new Uint8Array(e),i=Math.ceil(r.length/2);let o=0;const s=r.length-2;for(o=i;o<s&&(255!==r[o]||217!==r[o+1]);o++);if(o+=2,o<r.length-1){const e=new b7(r.subarray(o)).getBytes();n=new Uint8Array(t.width*t.height);let i=0;for(let t=0;t<e.length;t++)for(let r=7;r>=0;r--)n[i++]=e[t]>>r&1}}catch{}return n}};var _7,x7={exports:{}};function S7(){return _7||(_7=1,e=x7,t=function(){var e=function(){function e(e){this.message="JPEG error: "+e}return e.prototype=new Error,e.prototype.name="JpegError",e.constructor=e,e}();return function(){if(!self||!self.Uint8ClampedArray)return null;var t=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),n=4017,r=799,i=3406,o=2276,s=1567,a=3784,l=5793,c=2896;function u(){this.decodeTransform=null,this.colorTransform=-1}function h(e,t){for(var n,r,i=0,o=[],s=16;s>0&&!e[s-1];)s--;o.push({children:[],index:0});var a,l=o[0];for(n=0;n<s;n++){for(r=0;r<e[n];r++){for((l=o.pop()).children[l.index]=t[i];l.index>0;)l=o.pop();for(l.index++,o.push(l);o.length<=n;)o.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a;i++}n+1<s&&(o.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a)}return o[0].children}function p(e,t,n){return 64*((e.blocksPerLine+1)*t+n)}function d(n,r,i,o,s,a,l,c,u){var h=i.mcusPerLine,d=i.progressive,f=r,m=0,g=0;function v(){if(g>0)return g--,m>>g&1;if(255===(m=n[r++])){var t=n[r++];if(t)throw new e("unexpected marker "+(m<<8|t).toString(16))}return g=7,m>>>7}function b(t){for(var n=t;;){if("number"==typeof(n=n[v()]))return n;if("object"!=typeof n)throw new e("invalid huffman sequence")}}function w(e){for(var t=0;e>0;)t=t<<1|v(),e--;return t}function _(e){if(1===e)return 1===v()?1:-1;var t=w(e);return t>=1<<e-1?t:t+(-1<<e)+1}function x(e,n){var r=b(e.huffmanTableDC),i=0===r?0:_(r);e.blockData[n]=e.pred+=i;for(var o=1;o<64;){var s=b(e.huffmanTableAC),a=15&s,l=s>>4;if(0!==a){var c=t[o+=l];e.blockData[n+c]=_(a),o++}else{if(l<15)break;o+=16}}}function S(e,t){var n=b(e.huffmanTableDC),r=0===n?0:_(n)<<u;e.blockData[t]=e.pred+=r}function T(e,t){e.blockData[t]|=v()<<u}var E=0;function M(e,n){if(E>0)E--;else for(var r=a,i=l;r<=i;){var o=b(e.huffmanTableAC),s=15&o,c=o>>4;if(0!==s){var h=t[r+=c];e.blockData[n+h]=_(s)*(1<<u),r++}else{if(c<15){E=w(c)+(1<<c)-1;break}r+=16}}}var A,I=0;function C(n,r){for(var i,o,s=a,c=l,h=0;s<=c;){var p=t[s];switch(I){case 0:if(h=(o=b(n.huffmanTableAC))>>4,0==(i=15&o))h<15?(E=w(h)+(1<<h),I=4):(h=16,I=1);else{if(1!==i)throw new e("invalid ACn encoding");A=_(i),I=h?2:3}continue;case 1:case 2:n.blockData[r+p]?n.blockData[r+p]+=v()<<u:0==--h&&(I=2===I?3:0);break;case 3:n.blockData[r+p]?n.blockData[r+p]+=v()<<u:(n.blockData[r+p]=A<<u,I=0);break;case 4:n.blockData[r+p]&&(n.blockData[r+p]+=v()<<u)}s++}4===I&&0==--E&&(I=0)}function O(e,t,n,r,i){var o=n%h;t(e,p(e,(n/h|0)*e.v+r,o*e.h+i))}function k(e,t,n){t(e,p(e,n/e.blocksPerLine|0,n%e.blocksPerLine))}var R,L,N,P,D,F,j=o.length;F=d?0===a?0===c?S:T:0===c?M:C:x;var U,z,G,V,B=0;for(z=1===j?o[0].blocksPerLine*o[0].blocksPerColumn:h*i.mcusPerColumn;B<z;){var $=s?Math.min(z-B,s):z;for(L=0;L<j;L++)o[L].pred=0;if(E=0,1===j)for(R=o[0],D=0;D<$;D++)k(R,F,B),B++;else for(D=0;D<$;D++){for(L=0;L<j;L++)for(G=(R=o[L]).h,V=R.v,N=0;N<V;N++)for(P=0;P<G;P++)O(R,F,B,N,P);B++}g=0,(U=y(n,r))&&U.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+U.invalid),r=U.offset);var H=U&&U.marker;if(!H||H<=65280)throw new e("marker was not found");if(!(H>=65488&&H<=65495))break;r+=2}return(U=y(n,r))&&U.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+U.invalid),r=U.offset),r-f}function f(t,u,h){var p,d,f,m,y,g,v,b,w,_,x,S,T,E,M,A,I,C=t.quantizationTable,O=t.blockData;if(!C)throw new e("missing required Quantization Table.");for(var k=0;k<64;k+=8)w=O[u+k],_=O[u+k+1],x=O[u+k+2],S=O[u+k+3],T=O[u+k+4],E=O[u+k+5],M=O[u+k+6],A=O[u+k+7],w*=C[k],_|x|S|T|E|M|A?(_*=C[k+1],x*=C[k+2],S*=C[k+3],T*=C[k+4],E*=C[k+5],M*=C[k+6],A*=C[k+7],d=(p=(p=l*w+128>>8)+(d=l*T+128>>8)+1>>1)-d,I=(f=x)*a+(m=M)*s+128>>8,f=f*s-m*a+128>>8,v=(y=(y=c*(_-A)+128>>8)+(v=E<<4)+1>>1)-v,g=(b=(b=c*(_+A)+128>>8)+(g=S<<4)+1>>1)-g,m=(p=p+(m=I)+1>>1)-m,f=(d=d+f+1>>1)-f,I=y*o+b*i+2048>>12,y=y*i-b*o+2048>>12,b=I,I=g*r+v*n+2048>>12,g=g*n-v*r+2048>>12,v=I,h[k]=p+b,h[k+7]=p-b,h[k+1]=d+v,h[k+6]=d-v,h[k+2]=f+g,h[k+5]=f-g,h[k+3]=m+y,h[k+4]=m-y):(I=l*w+512>>10,h[k]=I,h[k+1]=I,h[k+2]=I,h[k+3]=I,h[k+4]=I,h[k+5]=I,h[k+6]=I,h[k+7]=I);for(var R=0;R<8;++R)w=h[R],(_=h[R+8])|(x=h[R+16])|(S=h[R+24])|(T=h[R+32])|(E=h[R+40])|(M=h[R+48])|(A=h[R+56])?(d=(p=4112+((p=l*w+2048>>12)+(d=l*T+2048>>12)+1>>1))-d,I=(f=x)*a+(m=M)*s+2048>>12,f=f*s-m*a+2048>>12,m=I,v=(y=(y=c*(_-A)+2048>>12)+(v=E)+1>>1)-v,g=(b=(b=c*(_+A)+2048>>12)+(g=S)+1>>1)-g,I=y*o+b*i+2048>>12,y=y*i-b*o+2048>>12,b=I,I=g*r+v*n+2048>>12,g=g*n-v*r+2048>>12,w=(w=(p=p+m+1>>1)+b)<16?0:w>=4080?255:w>>4,_=(_=(d=d+f+1>>1)+(v=I))<16?0:_>=4080?255:_>>4,x=(x=(f=d-f)+g)<16?0:x>=4080?255:x>>4,S=(S=(m=p-m)+y)<16?0:S>=4080?255:S>>4,T=(T=m-y)<16?0:T>=4080?255:T>>4,E=(E=f-g)<16?0:E>=4080?255:E>>4,M=(M=d-v)<16?0:M>=4080?255:M>>4,A=(A=p-b)<16?0:A>=4080?255:A>>4,O[u+R]=w,O[u+R+8]=_,O[u+R+16]=x,O[u+R+24]=S,O[u+R+32]=T,O[u+R+40]=E,O[u+R+48]=M,O[u+R+56]=A):(I=(I=l*w+8192>>14)<-2040?0:I>=2024?255:I+2056>>4,O[u+R]=I,O[u+R+8]=I,O[u+R+16]=I,O[u+R+24]=I,O[u+R+32]=I,O[u+R+40]=I,O[u+R+48]=I,O[u+R+56]=I)}function m(e,t){for(var n=t.blocksPerLine,r=t.blocksPerColumn,i=new Int16Array(64),o=0;o<r;o++)for(var s=0;s<n;s++)f(t,p(t,o,s),i);return t.blockData}function y(e,t,n){function r(t){return e[t]<<8|e[t+1]}var i=e.length-1,o=n<t?n:t;if(t>=i)return null;var s=r(t);if(s>=65472&&s<=65534)return{invalid:null,marker:s,offset:t};for(var a=r(o);!(a>=65472&&a<=65534);){if(++o>=i)return null;a=r(o)}return{invalid:s.toString(16),marker:a,offset:o}}return u.prototype={parse:function(n){function r(){var e=n[l]<<8|n[l+1];return l+=2,e}function i(){var e=r(),t=l+e-2,i=y(n,t,l);i&&i.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+i.invalid),t=i.offset);var o=n.subarray(l,t);return l+=o.length,o}function o(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),n=Math.ceil(e.scanLines/8/e.maxV),r=0;r<e.components.length;r++){j=e.components[r];var i=Math.ceil(Math.ceil(e.samplesPerLine/8)*j.h/e.maxH),o=Math.ceil(Math.ceil(e.scanLines/8)*j.v/e.maxV),s=t*j.h,a=n*j.v*64*(s+1);j.blockData=new Int16Array(a),j.blocksPerLine=i,j.blocksPerColumn=o}e.mcusPerLine=t,e.mcusPerColumn=n}var s,a,l=0,c=null,u=null,p=[],f=[],g=[],v=r();if(65496!==v)throw new e("SOI not found");for(v=r();65497!==v;){var b,w,_;switch(v){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var x=i();65504===v&&74===x[0]&&70===x[1]&&73===x[2]&&70===x[3]&&0===x[4]&&(c={version:{major:x[5],minor:x[6]},densityUnits:x[7],xDensity:x[8]<<8|x[9],yDensity:x[10]<<8|x[11],thumbWidth:x[12],thumbHeight:x[13],thumbData:x.subarray(14,14+3*x[12]*x[13])}),65518===v&&65===x[0]&&100===x[1]&&111===x[2]&&98===x[3]&&101===x[4]&&(u={version:x[5]<<8|x[6],flags0:x[7]<<8|x[8],flags1:x[9]<<8|x[10],transformCode:x[11]});break;case 65499:for(var S=r()+l-2;l<S;){var T=n[l++],E=new Uint16Array(64);if(T>>4){if(T>>4!=1)throw new e("DQT - invalid table spec");for(w=0;w<64;w++)E[t[w]]=r()}else for(w=0;w<64;w++)E[t[w]]=n[l++];p[15&T]=E}break;case 65472:case 65473:case 65474:if(s)throw new e("Only single frame JPEGs supported");r(),(s={}).extended=65473===v,s.progressive=65474===v,s.precision=n[l++],s.scanLines=r(),s.samplesPerLine=r(),s.components=[],s.componentIds={};var M,A=n[l++],I=0,C=0;for(b=0;b<A;b++){M=n[l];var O=n[l+1]>>4,k=15&n[l+1];I<O&&(I=O),C<k&&(C=k);var R=n[l+2];_=s.components.push({h:O,v:k,quantizationId:R,quantizationTable:null}),s.componentIds[M]=_-1,l+=3}s.maxH=I,s.maxV=C,o(s);break;case 65476:var L=r();for(b=2;b<L;){var N=n[l++],P=new Uint8Array(16),D=0;for(w=0;w<16;w++,l++)D+=P[w]=n[l];var F=new Uint8Array(D);for(w=0;w<D;w++,l++)F[w]=n[l];b+=17+D,(N>>4?f:g)[15&N]=h(P,F)}break;case 65501:r(),a=r();break;case 65498:r();var j,U=n[l++],z=[];for(b=0;b<U;b++){var G=s.componentIds[n[l++]];j=s.components[G];var V=n[l++];j.huffmanTableDC=g[V>>4],j.huffmanTableAC=f[15&V],z.push(j)}var B=n[l++],$=n[l++],H=n[l++],W=d(n,l,s,z,a,B,$,H>>4,15&H);l+=W;break;case 65535:255!==n[l]&&l--;break;default:if(255===n[l-3]&&n[l-2]>=192&&n[l-2]<=254){l-=3;break}throw new e("unknown marker "+v.toString(16))}v=r()}for(this.width=s.samplesPerLine,this.height=s.scanLines,this.jfif=c,this.eof=l,this.adobe=u,this.components=[],b=0;b<s.components.length;b++){var q=p[(j=s.components[b]).quantizationId];q&&(j.quantizationTable=q),this.components.push({output:m(s,j),scaleX:j.h/s.maxH,scaleY:j.v/s.maxV,blocksPerLine:j.blocksPerLine,blocksPerColumn:j.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(e,t){var n,r,i,o,s,a,l,c,u,h,p,d=this.width/e,f=this.height/t,m=0,y=this.components.length,g=e*t*y,v=new Uint8ClampedArray(g),b=new Uint32Array(e),w=4294967288;for(l=0;l<y;l++){for(r=(n=this.components[l]).scaleX*d,i=n.scaleY*f,m=l,p=n.output,o=n.blocksPerLine+1<<3,s=0;s<e;s++)c=0|s*r,b[s]=(c&w)<<3|7&c;for(a=0;a<t;a++)for(h=o*((c=0|a*i)&w)|(7&c)<<3,s=0;s<e;s++)v[m]=p[h+b[s]],m+=y}var _=this.decodeTransform;if(_)for(l=0;l<g;)for(c=0,u=0;c<y;c++,l++,u+=2)v[l]=(v[l]*_[u]>>8)+_[u+1];return v},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(e){for(var t,n,r,i=0,o=e.length;i<o;i+=3)t=e[i],n=e[i+1],r=e[i+2],e[i]=t-179.456+1.402*r,e[i+1]=t+135.459-.344*n-.714*r,e[i+2]=t-226.816+1.772*n;return e},_convertYcckToRgb:function(e){for(var t,n,r,i,o=0,s=0,a=e.length;s<a;s+=4)t=e[s],n=e[s+1],r=e[s+2],i=e[s+3],e[o++]=n*(-660635669420364e-19*n+.000437130475926232*r-54080610064599e-18*t+.00048449797120281*i-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*t-.00477271405408747*i+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),e[o++]=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*r+.000659397001245577*t+.000426105652938837*i-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*t+.000770482631801132*i-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),e[o++]=n*(-.000570115196973677*n-263409051004589e-19*r+.0020741088115012*t-.00288260236853442*i+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*t+.000560833691242812*i-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return e},_convertYcckToCmyk:function(e){for(var t,n,r,i=0,o=e.length;i<o;i+=4)t=e[i],n=e[i+1],r=e[i+2],e[i]=434.456-t-1.402*r,e[i+1]=119.541-t+.344*n+.714*r,e[i+2]=481.816-t-1.772*n;return e},_convertCmykToRgb:function(e){for(var t,n,r,i,o=0,s=1/255,a=0,l=e.length;a<l;a+=4)t=e[a]*s,n=e[a+1]*s,r=e[a+2]*s,i=e[a+3]*s,e[o++]=255+t*(-4.387332384609988*t+54.48615194189176*n+18.82290502165302*r+212.25662451639585*i-285.2331026137004)+n*(1.7149763477362134*n-5.6096736904047315*r-17.873870861415444*i-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),e[o++]=255+t*(8.841041422036149*t+60.118027045597366*n+6.871425592049007*r+31.159100130055922*i-79.2970844816548)+n*(-15.310361306967817*n+17.575251261109482*r+131.35250912493976*i-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),e[o++]=255+t*(.8842522430003296*t+8.078677503112928*n+30.89978309703729*r-.23883238689178934*i-14.183576799673286)+n*(10.49593273432072*n+63.02378494754052*r+50.606957656360734*i-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return e},getData:function(t,n,r){if(this.numComponents>4)throw new e("Unsupported color mode");var i=this._getLinearizedBlockData(t,n);if(1===this.numComponents&&r){for(var o=i.length,s=new Uint8ClampedArray(3*o),a=0,l=0;l<o;l++){var c=i[l];s[a++]=c,s[a++]=c,s[a++]=c}return s}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(i);if(4===this.numComponents){if(this._isColorConversionNeeded())return r?this._convertYcckToRgb(i):this._convertYcckToCmyk(i);if(r)return this._convertCmykToRgb(i)}return i}},u}()},void 0!==(n=t())&&(e.exports=n)),x7.exports;var e,t,n}const T7=m7(S7());let E7=class{static decode(e,t=!1){const n=new Uint8Array(e),r=new T7;r.parse(n);const{width:i,height:o,numComponents:s,eof:a}=r,l=r.getData(i,o,!0),c=i*o;let u,h=null,p=0,d=0,f=0;if(!t&&a<n.length-1)try{const e=new b7(n.subarray(a)).getBytes();h=new Uint8Array(c);let t=0;for(p=0;p<e.length;p++)for(f=7;f>=0;f--)h[t++]=e[p]>>f&1}catch{}if(1===s&&l.length===i*o){const e=new Uint8Array(l.buffer);u=[e,e,e]}else{for(u=[],p=0;p<3;p++)u.push(new Uint8Array(c));for(f=0,d=0;d<c;d++)for(p=0;p<3;p++)u[p][d]=l[f++]}return{width:i,height:o,pixels:u,mask:h}}};const M7=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,127]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let A7=null;function I7(){return A7||(A7=n.e(9002).then(n.bind(n,69002)).then((e=>e.l)).then((({default:e})=>e({locateFile:e=>mu(`esri/layers/support/rasterFormats/${e}`)}))).then((e=>{R7(e)})),A7)}const C7={getBlobInfo:null,decode:null};function O7(e){return 16+(e>>3<<3)}function k7(e,t,n){n.set(e.slice(t,t+n.length))}function R7(e){const{_malloc:t,_free:n,_lerc_getBlobInfo:r,_lerc_getDataRanges:i,_lerc_decode_4D:o,asm:s}=e;let a;const l=Object.values(s).find((t=>t&&"buffer"in t&&t.buffer===e.HEAPU8.buffer)),c=e=>{const n=e.map((e=>O7(e))),r=n.reduce(((e,t)=>e+t)),i=t(r);a=new Uint8Array(l.buffer);let o=n[0];n[0]=i;for(let t=1;t<n.length;t++){const e=n[t];n[t]=n[t-1]+o,o=e}return n};C7.getBlobInfo=e=>{const t=new Uint8Array(48),o=new Uint8Array(24),[s,u,h]=c([e.length,t.length,o.length]);a.set(e,s),a.set(t,u),a.set(o,h);let p=r(s,e.length,u,h,12,3);if(p)throw n(s),new Error(`lerc-getBlobInfo: error code is ${p}`);a=new Uint8Array(l.buffer),k7(a,u,t),k7(a,h,o);const d=new Uint32Array(t.buffer),f=new Float64Array(o.buffer),[m,y,,g,v,b,w,_,x,S,T]=d,E={version:m,depthCount:S,width:g,height:v,validPixelCount:w,bandCount:b,blobSize:_,maskCount:x,dataType:y,minValue:f[0],maxValue:f[1],maxZerror:f[2],statistics:[],bandCountWithNoData:T};if(T&&S>1)return n(s),E;if(1===S&&1===b)return n(s),E.statistics.push({minValue:f[0],maxValue:f[1]}),E;const M=S*b*8,A=new Uint8Array(M),I=new Uint8Array(M);let C=s,O=0,k=0,R=!1;if(a.byteLength<s+2*M?(n(s),R=!0,[C,O,k]=c([e.length,M,M]),a.set(e,C)):[O,k]=c([M,M]),a.set(A,O),a.set(I,k),p=i(C,e.length,S,b,O,k),p)throw n(C),R||n(O),new Error(`lerc-getDataRanges: error code is ${p}`);a=new Uint8Array(l.buffer),k7(a,O,A),k7(a,k,I);const L=new Float64Array(A.buffer),N=new Float64Array(I.buffer),P=E.statistics;for(let n=0;n<b;n++)if(S>1){const e=L.slice(n*S,(n+1)*S),t=N.slice(n*S,(n+1)*S),r=Math.min.apply(null,e),i=Math.max.apply(null,t);P.push({minValue:r,maxValue:i,depthStats:{minValues:e,maxValues:t}})}else P.push({minValue:L[n],maxValue:N[n]});return n(C),R||n(O),E},C7.decode=(e,t)=>{const{maskCount:r,depthCount:i,bandCount:s,width:u,height:h,dataType:p,bandCountWithNoData:d}=t,f=M7[p],m=u*h,y=new Uint8Array(m*s),g=m*i*s*f.size,v=new Uint8Array(g),b=new Uint8Array(s),w=new Uint8Array(8*s),[_,x,S,T,E]=c([e.length,y.length,v.length,b.length,w.length]);a.set(e,_),a.set(y,x),a.set(v,S),a.set(b,T),a.set(w,E);const M=o(_,e.length,r,x,i,u,h,s,p,S,T,E);if(M)throw n(_),new Error(`lerc-decode: error code is ${M}`);a=new Uint8Array(l.buffer),k7(a,S,v),k7(a,x,y);let A=null;if(d){k7(a,T,b),k7(a,E,w),A=[];const e=new Float64Array(w.buffer);for(let t=0;t<b.length;t++)A.push(b[t]?e[t]:null)}return n(_),{data:v,maskData:y,noDataValues:A}}}function L7(e,t,n,r,i){if(n<2)return e;const o=new r(t*n);for(let s=0,a=0;s<t;s++)for(let r=0,i=s;r<n;r++,i+=t)o[i]=e[a++];return o}function N7(e,t={}){const n=t.inputOffset??0,r=e instanceof Uint8Array?e.subarray(n):new Uint8Array(e,n),i=C7.getBlobInfo(r),{data:o,maskData:s,noDataValues:a}=C7.decode(r,i),{width:l,height:c,bandCount:u,depthCount:h,dataType:p,maskCount:d,statistics:f}=i,m=M7[p],y=new m.ctor(o.buffer),g=[],v=[],b=l*c,w=b*h;for(let M=0;M<u;M++){const e=y.subarray(M*w,(M+1)*w);if(t.returnInterleaved)g.push(e);else{const t=L7(e,b,h,m.ctor);g.push(t)}v.push(s.subarray(M*w,(M+1)*w))}const _=0===d?null:1===d?v[0]:new Uint8Array(b);if(d>1){_.set(v[0]);for(let e=1;e<v.length;e++){const t=v[e];for(let e=0;e<b;e++)_[e]=_[e]&t[e]}}const{noDataValue:x}=t,S=null!=x&&m.range[0]<=x&&m.range[1]>=x;if(d>0&&S)for(let M=0;M<u;M++){const e=g[M],t=v[M]||_;for(let n=0;n<b;n++)0===t[n]&&(e[n]=x)}const T=d===u&&u>1?v:null,{pixelType:E}=m;return{width:l,height:c,bandCount:u,pixelType:E,depthCount:h,statistics:f,pixels:g,mask:_,bandMasks:T,noDataValues:a}}function P7(e,t,n,r=!0){if(t%4!=0||n%4!=0){const i=new ArrayBuffer(4*Math.ceil(n/4)),o=new Uint8Array(i),s=new Uint8Array(e,t,n);if(r)for(let e=0;e<o.length;e+=4)o[e]=s[e+3],o[e+1]=s[e+2],o[e+2]=s[e+1],o[e+3]=s[e];else o.set(s);return new Uint32Array(o.buffer)}if(r){const r=new Uint8Array(e,t,n),i=new Uint8Array(r.length);for(let e=0;e<i.length;e+=4)i[e]=r[e+3],i[e+1]=r[e+2],i[e+2]=r[e+1],i[e+3]=r[e];return new Uint32Array(i.buffer)}return new Uint32Array(e,t,n/4)}function D7(){const e=[];for(let t=0;t<=257;t++)e[t]=[t];return e}function F7(e,t){for(let n=0;n<t.length;n++)e.push(t[n])}const j7=new Set;function U7(e,t,n,r=!0){const i=P7(e,t,n,r);let o=9,s=D7(),a=32,l=s.length,c=[],u=1,h=i[0],p=0;const d=i.length,f=8*(4*d-n),m=[];for(;null!=h;){if(a>=o)a-=o,p=h>>>32-o,h<<=o;else{p=h>>>32-a,h=i[u++];const e=o-a;a=32-e,p=(p<<e)+(h>>>a),h<<=e}if(257===p)break;if(256===p){o=9,s=D7(),l=s.length,c=[];continue}const e=s[p];if(null==e){if(p>s.length)throw new Error("data integrity issue: code does not exist on code page");c.push(c[0]),s[l++]=c.slice(),F7(m,c)}else F7(m,e),c.push(e[0]),c.length>1&&(s[l++]=c.slice()),c=e.slice();if(j7.has(l)&&o++,0===a&&(h=i[u++],a=32),u>d||u===d&&a<=f)break}return new Uint8Array(m)}j7.add(511),j7.add(1023),j7.add(2047),j7.add(4095),j7.add(8191);const z7=(e,t)=>{const n=t.width*t.height,r=t.pixelType;return Math.floor(e.byteLength/(n*G7(r)))},G7=e=>{let t=1;switch(e){case Uint8Array:case Int8Array:t=1;break;case Uint16Array:case Int16Array:t=2;break;case Uint32Array:case Int32Array:case Float32Array:t=4;break;case Float64Array:t=8}return t},V7=(e,t)=>{if(8*e.byteLength<t)return null;const n=new Uint8Array(e,0,Math.ceil(t/8)),r=new Uint8Array(t);let i=0,o=0,s=0,a=0;for(s=0;s<n.length-1;s++)for(o=n[s],a=7;a>=0;a--)r[i++]=o>>a&1;for(a=7;i<t-1;)o=n[n.length-1],r[i++]=o>>a&1,a--;return r};let B7=class{static decode(e,t){const n=t.pixelType,r=[],i=t.width*t.height,o=z7(e,t),{bandIds:s,format:a}=t,l=s?.length||z7(e,t),c=e.byteLength-e.byteLength%(i*G7(n)),u=new n(e,0,i*o);let h,p,d,f,m=null;if("bip"===a)for(h=0;h<l;h++){for(d=new n(i),f=s?s[h]:h,p=0;p<i;p++)d[p]=u[p*o+f];r.push(d)}else if("bsq"===a)for(h=0;h<l;h++)f=s?s[h]:h,r.push(u.subarray(f*i,(f+1)*i));return c<e.byteLength-1&&(m=V7(e.slice(c),i)),{pixels:r,mask:m}}};function $7(e,t){let n=0,r="",i=0,o=0;const s=e.length;for(;n<s;)o=e[n++],i=o>>4,i<8?i=1:15===i?(i=4,o=(7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]):14===i?(i=3,o=(15&o)<<12|(63&e[n++])<<6|63&e[n++]):(i=2,o=(31&o)<<6|63&e[n++]),(0!==o||t)&&(r+=String.fromCharCode(o));return r}const H7=(()=>{const e=[];return e[254]="NEWSUBFILETYPE",e[255]="SUBFILETYPE",e[256]="IMAGEWIDTH",e[257]="IMAGELENGTH",e[258]="BITSPERSAMPLE",e[259]="COMPRESSION",e[262]="PHOTOMETRICINTERPRETATION",e[263]="THRESHHOLDING",e[264]="CELLWIDTH",e[265]="CELLLENGTH",e[266]="FILLORDER",e[269]="DOCUMENTNAME",e[270]="IMAGEDESCRIPTION",e[271]="MAKE",e[272]="MODEL",e[273]="STRIPOFFSETS",e[274]="ORIENTATION",e[277]="SAMPLESPERPIXEL",e[278]="ROWSPERSTRIP",e[279]="STRIPBYTECOUNTS",e[280]="MINSAMPLEVALUE",e[281]="MAXSAMPLEVALUE",e[282]="XRESOLUTION",e[283]="YRESOLUTION",e[284]="PLANARCONFIGURATION",e[285]="PAGENAME",e[286]="XPOSITION",e[287]="YPOSITION",e[288]="FREEOFFSETS",e[289]="FREEBYTECOUNTS",e[290]="GRAYRESPONSEUNIT",e[291]="GRAYRESPONSECURVE",e[292]="T4OPTIONS",e[293]="T6OPTIONS",e[296]="RESOLUTIONUNIT",e[297]="PAGENUMBER",e[300]="COLORRESPONSEUNIT",e[301]="TRANSFERFUNCTION",e[305]="SOFTWARE",e[306]="DATETIME",e[315]="ARTIST",e[316]="HOSTCOMPUTER",e[317]="PREDICTOR",e[318]="WHITEPOINT",e[319]="PRIMARYCHROMATICITIES",e[320]="COLORMAP",e[321]="HALFTONEHINTS",e[322]="TILEWIDTH",e[323]="TILELENGTH",e[324]="TILEOFFSETS",e[325]="TILEBYTECOUNTS",e[326]="BADFAXLINES",e[327]="CLEANFAXDATA",e[328]="CONSECUTIVEBADFAXLINES",e[330]="SUBIFD",e[332]="INKSET",e[333]="INKNAMES",e[334]="NUMBEROFINKS",e[336]="DOTRANGE",e[337]="TARGETPRINTER",e[338]="EXTRASAMPLES",e[339]="SAMPLEFORMAT",e[340]="SMINSAMPLEVALUE",e[341]="SMAXSAMPLEVALUE",e[342]="TRANSFERRANGE",e[347]="JPEGTABLES",e[512]="JPEGPROC",e[513]="JPEGIFOFFSET",e[514]="JPEGIFBYTECOUNT",e[515]="JPEGRESTARTINTERVAL",e[517]="JPEGLOSSLESSPREDICTORS",e[518]="JPEGPOINTTRANSFORM",e[519]="JPEGQTABLES",e[520]="JPEGDCTABLES",e[521]="JPEGACTABLES",e[529]="YCBCRCOEFFICIENTS",e[530]="YCBCRSUBSAMPLING",e[531]="YCBCRPOSITIONING",e[532]="REFERENCEBLACKWHITE",e[700]="XMP",e[33550]="GEOPIXELSCALE",e[33922]="GEOTIEPOINTS",e[33432]="COPYRIGHT",e[42112]="GDAL_METADATA",e[42113]="GDAL_NODATA",e[50844]="RPCCOEFFICIENT",e[34264]="GEOTRANSMATRIX",e[34735]="GEOKEYDIRECTORY",e[34736]="GEODOUBLEPARAMS",e[34737]="GEOASCIIPARAMS",e[34665]="EXIFIFD",e[34853]="GPSIFD",e[40965]="INTEROPERABILITYIFD",e})(),W7=(()=>{const e=H7.slice();return e[36864]="ExifVersion",e[40960]="FlashpixVersion",e[40961]="ColorSpace",e[42240]="Gamma",e[37121]="ComponentsConfiguration",e[37122]="CompressedBitsPerPixel",e[40962]="PixelXDimension",e[40963]="PixelYDimension",e[37500]="MakerNote",e[37510]="UserComment",e[40964]="RelatedSoundFile",e[36867]="DateTimeOriginal",e[36868]="DateTimeDigitized",e[36880]="OffsetTime",e[36881]="OffsetTimeOriginal",e[36882]="OffsetTimeDigitized",e[37520]="SubSecTime",e[37521]="SubSecTimeOriginal",e[37522]="SubSecTimeDigitized",e[37888]="Temperature",e[37889]="Humidity",e[37890]="Pressure",e[37891]="WaterDepth",e[37892]="Acceleration",e[37893]="CameraElevationAngle",e[42016]="ImageUniqueID",e[42032]="CameraOwnerName",e[42033]="BodySerialNumber",e[42034]="LensSpecification",e[42035]="LensMake",e[42036]="LensModel",e[42037]="LensSerialNumber",e[33434]="ExposureTime",e[33437]="FNumber",e[34850]="ExposureProgram",e[34852]="SpectralSensitivity",e[34855]="PhotographicSensitivity",e[34856]="OECF",e[34864]="SensitivityType",e[34865]="StandardOutputSensitivity",e[34866]="RecommendedExposureIndex",e[34867]="ISOSpeed",e[34868]="ISOSpeedLatitudeyyy",e[34869]="ISOSpeedLatitudezzz",e[37377]="ShutterSpeedValue",e[37378]="ApertureValue",e[37379]="BrightnessValue",e[37380]="ExposureBiasValue",e[37381]="MaxApertureValue",e[37382]="SubjectDistance",e[37383]="MeteringMode",e[37384]="LightSource",e[37385]="Flash",e[37386]="FocalLength",e[37396]="SubjectArea",e[41483]="FlashEnergy",e[41484]="SpatialFrequencyResponse",e[41486]="FocalPlaneXResolution",e[41487]="FocalPlaneYResolution",e[41488]="FocalPlaneResolutionUnit",e[41492]="SubjectLocation",e[41493]="ExposureIndex",e[41495]="SensingMethod",e[41728]="FileSource",e[41729]="SceneType",e[41730]="CFAPattern",e[41985]="CustomRendered",e[41986]="ExposureMode",e[41987]="WhiteBalance",e[41988]="DigitalZoomRatio",e[41989]="FocalLengthIn35mmFilm",e[41990]="SceneCaptureType",e[41991]="GainControl",e[41992]="Contrast",e[41993]="Saturation",e[41994]="Sharpness",e[41995]="DeviceSettingDescription",e[41996]="SubjectDistanceRange",e})(),q7=["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"],Z7=(()=>{const e=[];return e[1024]="GTModelTypeGeoKey",e[1025]="GTRasterTypeGeoKey",e[1026]="GTCitationGeoKey",e[2048]="GeographicTypeGeoKey",e[2049]="GeogCitationGeoKey",e[2050]="GeogGeodeticDatumGeoKey",e[2051]="GeogPrimeMeridianGeoKey",e[2052]="GeogLinearUnitsGeoKey",e[2053]="GeogLinearUnitSizeGeoKey",e[2054]="GeogAngularUnitsGeoKey",e[2055]="GeogAngularUnitSizeGeoKey",e[2056]="GeogEllipsoidGeoKey",e[2057]="GeogSemiMajorAxisGeoKey",e[2058]="GeogSemiMinorAxisGeoKey",e[2059]="GeogInvFlatteningGeoKey",e[2061]="GeogPrimeMeridianLongGeoKey",e[2060]="GeogAzimuthUnitsGeoKey",e[3072]="ProjectedCSTypeGeoKey",e[3073]="PCSCitationGeoKey",e[3074]="ProjectionGeoKey",e[3075]="ProjCoordTransGeoKey",e[3076]="ProjLinearUnitsGeoKey",e[3077]="ProjLinearUnitSizeGeoKey",e[3078]="ProjStdParallel1GeoKey",e[3079]="ProjStdParallel2GeoKey",e[3080]="ProjNatOriginLongGeoKey",e[3081]="ProjNatOriginLatGeoKey",e[3082]="ProjFalseEastingGeoKey",e[3083]="ProjFalseNorthingGeoKey",e[3084]="ProjFalseOriginLongGeoKey",e[3085]="ProjFalseOriginLatGeoKey",e[3086]="ProjFalseOriginEastingGeoKey",e[3087]="ProjFalseOriginNorthingGeoKey",e[3088]="ProjCenterLongGeoKey",e[3090]="ProjCenterEastingGeoKey",e[3091]="ProjCenterNorthingGeoKey",e[3092]="ProjScaleAtNatOriginGeoKey",e[3093]="ProjScaleAtCenterGeoKey",e[3094]="ProjAzimuthAngleGeoKey",e[3095]="ProjStraightVertPoleLongGeoKey",e[4096]="VerticalCSTypeGeoKey",e[4097]="VerticalCitationGeoKey",e[4098]="VerticalDatumGeoKey",e[4099]="VerticalUnitsGeoKey",e})(),Y7=(e,t)=>{let n=(t||H7)[e];return void 0===n&&(n="unknown"+String(e)),n},X7=new Map;X7.set("EXIFIFD",W7),X7.set("GPSIFD",q7);const J7={tiffTags:H7,ifdTags:X7,geoKeys:Z7,getTagName:Y7},K7=(()=>{const e=new ArrayBuffer(4),t=new Uint8Array(e);return new Uint32Array(e)[0]=1,1===t[0]})(),Q7=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],eee=4294967296,tee=new Set([1,5,6,7,8,34712,34887]);function nee(e,t){let n="unknown";return 3===e?n=64===t?"f64":"f32":1===e?1===t?n="u1":2===t?n="u2":4===t?n="u4":t<=8?n="u8":t<=16?n="u16":t<=32&&(n="u32"):2===e&&(t<=8?n="s8":t<=16?n="s16":t<=32&&(n="s32")),n}function ree(e){let t=null;switch(e?e.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":t=Uint8Array;break;case"u16":t=Uint16Array;break;case"u32":t=Uint32Array;break;case"s8":t=Int8Array;break;case"s16":t=Int16Array;break;case"s32":t=Int32Array;break;case"f64":t=Float64Array;break;default:t=Float32Array}return t}function iee(e,t){return{x:t[0]*e.x+t[1]*e.y+t[2],y:t[3]*e.x+t[4]*e.y+t[5]}}function oee(e,t){return e.get(t)?.values}function see(e,t){return e.get(t)?.values}function aee(e,t){return e.get(t)?.values?.[0]}function lee(e,t){return e.get(t)?.values?.[0]}function cee(e,t,n,r=0,i=J7.tiffTags,o=4){const s=8===o,a=s?Eee(new DataView(e,n,8),0,t):new DataView(e,n,2).getUint16(0,t),l=4+2*o,c=s?8:2,u=c+a*l;if(n+u>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:u};const h=n+u+4<=e.byteLength?Aee(new DataView(e,n+u,8===o?8:4),0,t,8===o):null,p=n+c,d=new Map;let f,m,y,g,v,b=0,w=0;for(let _=0;_<a;_++){m=new DataView(e,p+l*_,l),y=m.getUint16(0,t),v=m.getUint16(2,t),g=J7.getTagName(y,i);const n=[];2===o?(b=m.getUint16(4,t),w=m.getUint16(6,t)):4===o?(b=m.getUint32(4,t),w=m.getUint32(8,t)):8===o&&(b=Aee(m,4,t,!0),w=Aee(m,12,t,!0),n.push(m.getUint32(12,t)),n.push(m.getUint32(16,t))),f={id:y,type:v,valueCount:b,valueOffset:w,valueOffsets:n,values:null},bee(e,t,f,r,!1,o),d.set(g,f)}return{success:!0,ifd:d,nextIFD:h,requiredBufferSize:u}}const uee=(e,t)=>N7(e,{inputOffset:t}).pixels[0];function hee(e,t){if(1!==t&&2!==t&&4!==t)return e;const n=new Uint8Array(e),r=8/t,i=new Uint8Array(e.byteLength*r);let o=0;const s=2**t-1;for(let a=0;a<n.length;a++){const e=n[a];for(let n=0;n<r;n++)i[o++]=e<<t*n>>>8-t&s}return i.buffer}function pee(e,t,n){const r=new T7;r.parse(e),r.colorTransform=6===n?-1:0;const i=r.getData(r.width,r.height,1!==t&&4!==t);return new Uint8Array(i.buffer)}function dee(e){const t=new b7(e).getBytes(),n=new ArrayBuffer(t.length),r=new Uint8Array(n);return r.set(t),r}async function fee(e,t,n,r,i){const o=K7===t,s=lee(n,"BITSPERSAMPLE"),a=lee(n,"SAMPLESPERPIXEL")??1,l=lee(n,"PHOTOMETRICINTERPRETATION"),c=lee(n,"SAMPLEFORMAT")??1,u=nee(c,s),h=lee(n,"COMPRESSION")??1,p=ree(u);let d,f,m;if(34887===h)return await I7(),uee(e,r);if(1===h)d=e.slice(r,r+i),f=new Uint8Array(d);else if(8===h||32946===h)f=new Uint8Array(e,r,i),f=dee(f),d=f.buffer;else if(6===h)f=new Uint8Array(e,r,i),f=pee(f,a,l),d=f.buffer;else if(7===h){const t=n.get("JPEGTABLES").values,o=t.length-2;f=new Uint8Array(o+i-2);for(let e=0;e<o;e++)f[e]=t[e];const s=new Uint8Array(e,r+2,i-2);for(let e=0;e<s.length;e++)f[o+e]=s[e];f=pee(f,a,l),d=f.buffer}else{if(5!==h)throw new Error("tiff-decode: unsupport compression "+h);f=U7(e,r,i,t),d=f.buffer}if(d=hee(d,s),"u8"===u||"s8"===u||o)m=new p(d);else{d=new ArrayBuffer(f.length);const e=new Uint8Array(d);switch(u){case"u16":case"s16":for(let t=0;t<f.length;t+=2)e[t]=f[t+1],e[t+1]=f[t];break;case"u32":case"s32":case"f32":for(let t=0;t<f.length;t+=4)e[t]=f[t+3],e[t+1]=f[t+2],e[t+2]=f[t+1],e[t+3]=f[t]}m=new p(d)}const y=lee(n,"PREDICTOR")??1,g=lee(n,"TILEWIDTH"),v=lee(n,"TILELENGTH");if(y>1&&(5===h||8===h||32946===h)&&g&&v){const e=_ee(n),t=new p(m.length);t.set(m),m=kee(t,v,g,3===c&&3===y,e?1:a)}return m}async function mee(e,t,n){const r=see(n,"TILEOFFSETS");if(void 0===r)return null;const i=see(n,"TILEBYTECOUNTS"),{width:o,height:s,pixelType:a,tileWidth:l,tileHeight:c}=wee([n]),u=_ee(n,t),h=lee(n,"SAMPLESPERPIXEL")||t.planes,p=o*s,d=lee(n,"BITSPERSAMPLE"),f=34887===(lee(n,"COMPRESSION")??1),m=ree(a),y=[];for(let L=0;L<h;L++)y.push(new m(p));let g,v,b,w,_,x,S,T,E,M,A,I,C;const O=Math.ceil(o/l),k=new Uint8Array(p).fill(255);let R=!1;if(d%8==0)if(f&&u&&h>1){const a=Math.round(r.length/h);for(g=0;g<a;g++){x=Math.floor(g/O)*c,S=g%O*l,T=x*o+S;for(let a=0;a<h;a++){const u=g*h+a;for(0===i[u]?(b=null,R=!0):b=await fee(e,t.littleEndian,n,r[u],i[u]),M=0,E=T,I=Math.min(l,o-S),A=Math.min(c,s-x),C=y[a],w=0;w<A;w++)for(E=T+w*o,M=w*l,_=0;_<I;_++,E++,M++)b?C[E]=b[M]:k[E]=0}}}else for(g=0;g<r.length;g++)for(x=Math.floor(g/O)*c,S=g%O*l,T=x*o+S,0===i[g]?(b=null,R=!0):b=await fee(e,t.littleEndian,n,r[g],i[g]),M=0,E=T,I=Math.min(l,o-S),A=Math.min(c,s-x),v=0;v<h;v++)if(C=y[v],u||f)for(w=0;w<A;w++)for(E=T+w*o,M=l*c*v+w*l,_=0;_<I;_++,E++,M++)b?C[E]=b[M]:k[E]=0;else for(w=0;w<A;w++)for(E=T+w*o,M=w*l*h+v,_=0;_<I;_++,E++,M+=h)b?C[E]=b[M]:k[E]=0;return{width:o,height:s,pixelType:a,pixels:y,mask:R?k:void 0}}const yee=(e,t,n)=>{const r=K7===t.littleEndian,i=see(n,"STRIPOFFSETS");if(void 0===i)return null;const{width:o,height:s,pixelType:a}=wee([n]),l=lee(n,"SAMPLESPERPIXEL")||t.planes,c=lee(n,"PHOTOMETRICINTERPRETATION"),u=o*s,h=lee(n,"BITSPERSAMPLE"),p=ree(a),d=new p(u*l),f=see(n,"STRIPBYTECOUNTS"),m=lee(n,"ROWSPERSTRIP"),y=lee(n,"COMPRESSION")??1;let g,v,b,w,_,x,S,T,E;if(h%8==0)for(g=0;g<i.length;g++){if(_=g*(m*o)*l,"u8"===a||"s8"===a||r)8===y||32946===y?(S=new Uint8Array(e,i[g],f[g]),S=dee(S),x=S.buffer):6===y?(S=new Uint8Array(e,i[g],f[g]),S=pee(S,l,c),x=S.buffer):5===y?(S=U7(e,i[g],f[g],t.littleEndian),x=S.buffer):x=e.slice(i[g],i[g]+f[g]),x=hee(x,h),w=new p(x);else{switch(6===y||8===y||32946===y?(S=new Uint8Array(e,i[g],f[g]),T=dee(S),x=T.buffer):(x=new ArrayBuffer(f[g]),S=new Uint8Array(e,i[g],f[g]),T=new Uint8Array(x)),a){case"u16":case"s16":for(b=0;b<S.length;b+=2)T[b]=S[b+1],T[b+1]=S[b];break;case"u32":case"s32":case"f32":for(b=0;b<S.length;b+=4)T[b]=S[b+3],T[b+1]=S[b+2],T[b+2]=S[b+1],T[b+3]=S[b]}x=hee(x,h),w=new p(x)}d.set(w,_)}const M=[];if(1===l)M.push(d);else for(g=0;g<l;g++){for(E=new p(u),v=0;v<u;v++)E[v]=d[v*l+g];M.push(E)}return{width:o,height:s,pixelType:a,pixels:M}},gee=(e,t,n)=>{if(!(e&&e.length>0&&t&&n))return null;let r,i,o;const s=e[0].length,a=e.length,l=new Uint8Array(s);for(let c=0;c<a;c++)if(r=e[c],i=t[c],o=n[c],0===c)for(let e=0;e<s;e++)l[e]=r[e]<i||r[e]>o?0:1;else for(let e=0;e<s;e++)l[e]&&(l[e]=r[e]<i||r[e]>o?0:1);return l},vee=e=>{if(!e)return null;const t=e.match(/<Item(.*?)Item>/gi);if(!t||0===t.length)return null;const n=new Map;let r,i,o,s,a;for(let g=0;g<t.length;g++)r=t[g],i=r.slice(6,r.indexOf(">")),s=r.indexOf("sample="),s>-1&&(a=r.slice(s+8,r.indexOf('"',s+8))),s=r.indexOf("name="),s>-1&&(i=r.slice(s+6,r.indexOf('"',s+6))),i&&(o=r.slice(r.indexOf(">")+1,r.indexOf("</Item>")).trim(),null!=a?n.has(i)?n.get(i)[a]=o:n.set(i,[o]):n.set(i,o)),a=null;const l=n.get("STATISTICS_MINIMUM"),c=n.get("STATISTICS_MAXIMUM"),u=n.get("STATISTICS_MEAN"),h=n.get("STATISTICS_STDDEV");let p=null;if(l&&c){p=[];for(let e=0;e<l.length;e++)p.push({min:parseFloat(l[e]),max:parseFloat(c[e]),avg:u&&parseFloat(u[e]),stddev:h&&parseFloat(h[e])})}const d=n.get("BandName"),f=n.get("WavelengthMin"),m=n.get("WavelengthMax");let y=null;if(d){y=[];for(let e=0;e<d.length;e++)y.push({BandName:d[e],WavelengthMin:f&&parseFloat(f[e]),WavelengthMax:m&&parseFloat(m[e])})}return{statistics:p,bandProperties:y,dataType:n.get("DataType"),rawMetadata:n}};function bee(e,t,n,r=0,i=!1,o=4){if(n.values)return!0;const s=n.type,a=n.valueCount;let l=n.valueOffset,c=[];const u=Q7[s],h=8*u,p=a*u,d=a*Q7[s]*8;let f,m;const y=8===o?64:32,g=n.valueOffsets;if(d>y&&p>(i?e.byteLength:e?e.byteLength-l+r:0))return n.offlineOffsetSize=[l,p],n.values=null,!1;if(d<=y){if(!t)if(y<=32)l>>>=32-d;else{const e=g?.length?g[0]:l>>>0,t=g?.length?g[1]:Math.round((l-e)/eee);d<=32?(l=e>>>32-d,g[0]=l):(l=e*2**(32-d)+(t>>>32-d),g[0]=e,g[1]=t>>>32-d)}if(1===a&&h===y)c=[l];else if(64===y){const e=g?.length?g[0]:l>>>0,t=g?.length?g[1]:Math.round((l-e)/eee);let n=e,r=32;for(m=1;m<=a;m++){const e=32-h*m%32;if(r<h){const i=n<<e>>>32-r,o=t<<32-r>>>32-r;n=t,c.push(i+o*2**(h-r)),r-=32-(h-r)}else c.push(n<<e>>>32-h),r-=h;0===r&&(r=32,n=t)}}else for(m=1;m<=a;m++){const e=32-h*m;c.push(l<<e>>>32-h)}}else{l-=r,i&&(l=0);for(let n=l;n<l+p;n+=u){switch(s){case 1:case 2:case 7:f=new DataView(e,n,1).getUint8(0);break;case 3:f=new DataView(e,n,2).getUint16(0,t);break;case 4:case 13:f=new DataView(e,n,4).getUint32(0,t);break;case 5:f=new DataView(e,n,4).getUint32(0,t)/new DataView(e,n+4,4).getUint32(0,t);break;case 6:f=new DataView(e,n,1).getInt8(0);break;case 8:f=new DataView(e,n,2).getInt16(0,t);break;case 9:f=new DataView(e,n,4).getInt32(0,t);break;case 10:f=new DataView(e,n,4).getInt32(0,t)/new DataView(e,n+4,4).getInt32(0,t);break;case 11:f=new DataView(e,n,4).getFloat32(0,t);break;case 12:f=new DataView(e,n,8).getFloat64(0,t);break;case 16:case 18:f=Eee(new DataView(e,n,8),0,t);break;case 17:f=Mee(new DataView(e,n,8),0,t);break;default:f=null}c.push(f)}}if(2===s){let e="";const t=c;for(c=[],m=0;m<t.length;m++)0===t[m]&&""!==e?(c.push(e),e=""):e+=String.fromCharCode(t[m]);""===e&&0!==c.length||c.push(e)}return n.values=c,!0}function wee(e){const t=e[0],n=lee(t,"TILEWIDTH"),r=lee(t,"TILELENGTH"),i=lee(t,"IMAGEWIDTH"),o=lee(t,"IMAGELENGTH"),s=lee(t,"BITSPERSAMPLE"),a=lee(t,"SAMPLESPERPIXEL"),l=lee(t,"SAMPLEFORMAT")??1,c=nee(l,s),u=_ee(t),h=oee(t,"GDAL_NODATA");let p=null;h?.length&&(p=h.map((e=>parseFloat(e))),p.some((e=>isNaN(e)))&&(p=null));const d=lee(t,"COMPRESSION")??1;let f;switch(d){case 1:f="NONE";break;case 2:case 3:case 4:case 32771:f="CCITT";break;case 5:f="LZW";break;case 6:case 7:f="JPEG";break;case 32773:f="PACKBITS";break;case 8:case 32946:f="DEFLATE";break;case 34712:f="JPEG2000";break;case 34887:f="LERC";break;default:f=String(d)}let m=!0,y="";tee.has(d)||(m=!1,y+="unsupported tag compression "+d),l>3&&(m=!1,y+="unsupported tag sampleFormat "+l),1!==s&&2!==s&&4!==s&&s%8!=0&&(m=!1,y+="unsupported tag bitsPerSample "+s);const g=aee(t,"GEOASCIIPARAMS");let v;if(g){const e=g.split("|").find((e=>e.includes("ESRI PE String = "))),t=e?e.replace("ESRI PE String = ",""):"";v=t.startsWith("COMPD_CS")||t.startsWith("PROJCS")||t.startsWith("GEOGCS")?{wkid:null,wkt:t}:null}const b=see(t,"GEOTIEPOINTS"),w=see(t,"GEOPIXELSCALE"),_=see(t,"GEOTRANSMATRIX"),x=t.has("GEOKEYDIRECTORY")?t.get("GEOKEYDIRECTORY").data:null;let S,T,E=!1,M=!1;if(x){E=2===lee(x,"GTRasterTypeGeoKey");const e=lee(x,"GTModelTypeGeoKey");if(2===e){const e=lee(x,"GeographicTypeGeoKey");e>=1024&&e<=32766&&(v={wkid:e}),v||32767!==e||(M=!0,v={wkid:4326})}else if(1===e){const e=lee(x,"ProjectedCSTypeGeoKey");e>=1024&&e<=32766&&(v={wkid:e})}}if(w&&b&&b.length>=6?(S=[w[0],0,b[3]-b[0]*w[0],0,-Math.abs(w[1]),b[4]-b[1]*w[1]],E&&(S[2]-=.5*S[0]+.5*S[1],S[5]-=.5*S[3]+.5*S[4])):_&&16===_.length&&(S=E?[_[0],_[1],_[3]-.5*_[0],_[4],_[5],_[7]-.5*_[5]]:[_[0],_[1],_[3],_[4],_[5],_[7]]),S){const e=[{x:0,y:o},{x:0,y:0},{x:i,y:o},{x:i,y:0}];let t,n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY;for(let i=0;i<e.length;i++)t=iee(e[i],S),n=t.x>n?n:t.x,s=t.x<s?s:t.x,r=t.y>r?r:t.y,a=t.y<a?a:t.y;T={xmin:n,xmax:s,ymin:r,ymax:a,spatialReference:v}}else T={xmin:-.5,ymin:.5-o,xmax:i-.5,ymax:.5,spatialReference:v};M&&(T.xmax-T.xmin>400||Math.max(Math.abs(T.xmin),Math.abs(T.xmax))>361)&&(v=null,T.spatialReference=null);const A=xee(e);let I,C,O,k,R;if(A.length>0){O=Math.round(Math.log(i/lee(A[0],"IMAGEWIDTH"))/Math.LN2);const e=A[A.length-1];k=A.length,I=lee(e,"TILEWIDTH"),C=lee(e,"TILELENGTH")}I=null!=k&&k>0?I||n:null,C=null!=k&&k>0?C||r:null,n&&(R=[{maxCol:Math.ceil(i/n)-1,maxRow:Math.ceil(o/r)-1,minRow:0,minCol:0}],A.forEach((e=>{R.push({maxCol:Math.ceil(lee(e,"IMAGEWIDTH")/lee(e,"TILEWIDTH"))-1,maxRow:Math.ceil(lee(e,"IMAGELENGTH")/lee(e,"TILELENGTH"))-1,minRow:0,minCol:0})})));const L=aee(e[0],"GDAL_METADATA"),N=vee(L);y+=" "+Oee({width:i,height:o,tileWidth:n,tileHeight:r,planes:a,ifds:e});const P=See(e).length===A.length+1,D=A?.length?A.map((e=>({x:i/lee(e,"IMAGEWIDTH"),y:o/lee(e,"IMAGELENGTH")}))):void 0;return{width:i,height:o,tileWidth:n,tileHeight:r,planes:a,isBSQ:u,pixelType:c,compression:f,noData:p,hasMaskBand:P,isSupported:m,pyramidResolutions:D,message:y,extent:T,isPseudoGeographic:M,affine:w?null:S,firstPyramidLevel:O,maximumPyramidLevel:k,pyramidBlockWidth:I,pyramidBlockHeight:C,tileBoundary:R,metadata:N}}function _ee(e,t){const n=oee(e,"PLANARCONFIGURATION");return n?2===n[0]:!!t&&t.isBSQ}function xee(e){return e.filter((e=>1===lee(e,"NEWSUBFILETYPE")))}function See(e){return e.filter((e=>{const t=!(4&~(lee(e,"NEWSUBFILETYPE")??0)),n=4===lee(e,"PHOTOMETRICINTERPRETATION");return t&&n}))}function Tee(e){const{littleEndian:t,isBigTiff:n,firstIFDPos:r}=Iee(e);let i=r;const o=[];do{const r=Cee(e,t,i,0,J7.tiffTags,n?8:4);if(!r.success)break;o.push(r.ifd),i=r.nextIFD}while(i>0);return{...wee(o),littleEndian:t,isBigTiff:n,ifds:o,pyramidIFDs:xee(o),maskIFDs:See(o)}}function Eee(e,t,n){const r=e.getUint32(t,n),i=e.getUint32(t+4,n);return n?i*eee+r:r*eee+i}function Mee(e,t,n){let r=n?e.getInt32(t,n):e.getUint32(t,n),i=n?e.getUint32(t+4,n):e.getInt32(t+4,n);const o=(n?r:i)>=0?1:-1;return n?r*=o:i*=o,o*(n?i*eee+r:r*eee+i)}function Aee(e,t,n,r){return r?Eee(e,t,n):e.getUint32(t,n)}function Iee(e){const t=new DataView(e,0,16),n=t.getUint16(0,!1);let r=null;if(18761===n)r=!0;else{if(19789!==n)throw new Error("unexpected endianess byte");r=!1}const i=t.getUint16(2,r);if(42!==i&&43!==i)throw new Error("unexpected tiff identifier");let o=4;const s=43===i;if(s){const e=t.getUint16(o,r);if(o+=2,8!==e)throw new Error("unsupported bigtiff version");if(0!==t.getUint16(o,r))throw new Error("unsupported bigtiff version");o+=2}return{littleEndian:r,isBigTiff:s,firstIFDPos:Aee(t,o,r,s)}}function Cee(e,t,n,r=0,i=J7.tiffTags,o=4){const s=cee(e,t,n,r,i,o);let a;const l=s.ifd;if(l){if(J7.ifdTags.forEach(((n,i)=>{l.has(i)&&(a=l.get(i),a.data=cee(e,t,a.valueOffset-r,r,n).ifd)})),l.has("GEOKEYDIRECTORY")){a=l.get("GEOKEYDIRECTORY");const n=a.values;if(n&&n.length>4){const i=n[0]+"."+n[1]+"."+n[2];a.data=cee(e,t,a.valueOffset+6-r,r,J7.geoKeys,2).ifd,a.data&&a.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[i]})}}if(l.has("XMP")){a=l.get("XMP");const e=a.values;"number"==typeof e[0]&&7===a.type&&(a.values=[$7(new Uint8Array(e))])}}return s}function Oee(e){const{width:t,height:n,tileHeight:r,tileWidth:i}=e,o=e.planes,s=i?i*r:t*n,a=lee(e.ifds[0],"BITSPERSAMPLE");let l="";return s*o>2**30/(a>8?a/8:1)&&(l=i?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),l}function kee(e,t,n,r,i){const o=r?4:1,s=n*o*i;r&&(e=new Uint8Array(e.buffer));for(let c=0;c<t;c++){const t=c*s;for(let n=i;n<s;n++)e[t+n]+=e[t+n-i]}if(!r)return e;const a=new Uint8Array(e.length),l=n*i;for(let c=0;c<t;c++){const t=c*s;for(let n=0;n<l;n++)for(let r=0;r<o;r++)a[t+n*o+r]=e[t+n+(o-r-1)*l]}return new Float32Array(a.buffer)}async function Ree(e,t){const{headerInfo:n,ifd:r,offsets:i,sizes:o}=t,s=[];for(let E=0;E<i.length;E++){o[E];const t=await fee(e,n.littleEndian,r,i[E],o[E]||e.byteLength);s.push(t)}const a=_ee(r,n),l=lee(r,"BITSPERSAMPLE"),c=nee(lee(r,"SAMPLEFORMAT")??1,l),u=lee(r,"SAMPLESPERPIXEL")||n.planes,h=ree(c),p=lee(r,"TILEWIDTH"),d=lee(r,"TILELENGTH"),f=lee(r,"COMPRESSION")??1,m=p*d;let y;const g=[];let v=s[0];const b=34887===f;for(let E=0;E<u;E++){if(y=new h(m),s.length===u)v=s[E],v.length===m&&(y=v);else if(v.length)if(a||b)y=v.length===m?v:v.slice(m*E,m*(E+1));else for(let e=0;e<m;e++)y[e]=v[e*u+E];g.push(y)}const w=n.noData?n.noData[0]:t.noDataValue,_=n.metadata?n.metadata.statistics:null,x=_?_.map((e=>e.min)):null,S=_?_.map((e=>e.max)):null,T={pixelType:c,width:p,height:d,pixels:g,noDataValue:w};return null!=w?L5(T,w):x&&S&&t.applyMinMaxConstraint&&(T.mask=gee(g,x,S)),T}async function Lee(e,t={}){const n=t.pyramidLevel||0,r=t.headerInfo||Tee(e),{ifds:i,noData:o}=r;if(0===i.length)throw new Error("no valid image file directory");const s=Oee(r);if(s)throw s;let a=null;const l=-1===n?i[i.length-1]:i[n],c=o??t.noDataValue;return a=r.tileWidth?await mee(e,r,l):yee(e,r,l),a&&(null!=c&&L5(a,c),a)}var Nee=function(e){var t,n,r,i,o,s;function a(e){var t,n,r,i,o,s,a,l,c,u,h,p,d;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),l=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join(""),l){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),r=this.readUInt16()||100,o.delay=1e3*i/r,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===l&&(this.pos+=4,t-=4),e=o?.data||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(t),(c=255-this.transparency.indexed.length)>0)for(p=0;0<=c?p<c:p>c;0<=c?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(u=this.read(t)).indexOf(0),a=String.fromCharCode.apply(String,u.slice(0,s)),this.text[a]=String.fromCharCode.apply(String,u.slice(s+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(d=this.colorType)||6===d,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return a.load=function(e,t,n){var r;return"function"==typeof t&&(n=t),(r=new XMLHttpRequest).open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){var e;return e=new a(new Uint8Array(r.response||r.mozResponseArrayBuffer)),"function"==typeof t?.getContext&&e.render(t),"function"==typeof n?n(e):void 0},r.send(null)},n=1,r=2,t=0,a.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(e){var t,n,r,i,o,s,a,l,c,u,h,p,d,f,m,y,g,v,b,w,_,x,S;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);for(e=(e=new b7(e)).getBytes(),y=(p=this.pixelBitlength/8)*this.width,d=new Uint8Array(y*this.height),s=e.length,m=0,f=0,n=0;f<s;){switch(e[f++]){case 0:for(i=b=0;b<y;i=b+=1)d[n++]=e[f++];break;case 1:for(i=w=0;w<y;i=w+=1)t=e[f++],o=i<p?0:d[n-p],d[n++]=(t+o)%256;break;case 2:for(i=_=0;_<y;i=_+=1)t=e[f++],r=(i-i%p)/p,g=m&&d[(m-1)*y+r*p+i%p],d[n++]=(g+t)%256;break;case 3:for(i=x=0;x<y;i=x+=1)t=e[f++],r=(i-i%p)/p,o=i<p?0:d[n-p],g=m&&d[(m-1)*y+r*p+i%p],d[n++]=(t+Math.floor((o+g)/2))%256;break;case 4:for(i=S=0;S<y;i=S+=1)t=e[f++],r=(i-i%p)/p,o=i<p?0:d[n-p],0===m?g=v=0:(g=d[(m-1)*y+r*p+i%p],v=r&&d[(m-1)*y+(r-1)*p+i%p]),a=o+g-v,l=Math.abs(a-o),u=Math.abs(a-g),h=Math.abs(a-v),c=l<=u&&l<=h?o:u<=h?g:v,d[n++]=(t+c)%256;break;default:throw new Error("Invalid filter algorithm: "+e[f-1])}m++}return d},a.prototype.decodePalette=function(){var e,t,n,r,i,o,s,a,l;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,n.length,e=0,t=s=0,a=n.length;s<a;t=s+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(l=o[e++])?l:255;return i},a.prototype.copyToImageData=function(e,t){var n,r,i,o,s,a,l,c,u,h,p;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(p=this._decodedPalette)?p:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=e.data||e).length,s=u||t,o=a=0,1===r)for(;o<c;)l=u?4*t[o/4]:a,h=s[l++],i[o++]=h,i[o++]=h,i[o++]=h,i[o++]=n?s[l++]:this.transparency.grayscale&&this.transparency.grayscale===h?0:255,a=l;else for(;o<c;)l=u?4*t[o/4]:a,i[o++]=s[l++],i[o++]=s[l++],i[o++]=s[l++],i[o++]=n?s[l++]:this.transparency.rgb&&this.transparency.rgb[1]===s[l-3]&&this.transparency.rgb[3]===s[l-2]&&this.transparency.rgb[5]===s[l-1]?0:255,a=l},a.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e},o=e.document&&e.document.createElement("canvas"),s=o&&o.getContext("2d"),i=function(e){var t;return s.width=e.width,s.height=e.height,s.clearRect(0,0,e.width,e.height),s.putImageData(e,0,0),(t=new Image).src=o.toDataURL(),t},a.prototype.decodeFrames=function(e){var t,n,r,o,s,a,l,c;if(this.animation){for(c=[],n=s=0,a=(l=this.animation.frames).length;s<a;n=++s)t=l[n],r=e.createImageData(t.width,t.height),o=this.decodePixels(new Uint8Array(t.data)),this.copyToImageData(r,o),t.imageData=r,c.push(t.image=i(r));return c}},a.prototype.renderFrame=function(e,i){var o,s,a;return o=(s=this.animation.frames)[i],a=s[i-1],0===i&&e.clearRect(0,0,this.width,this.height),a?.disposeOp===n?e.clearRect(a.xOffset,a.yOffset,a.width,a.height):a?.disposeOp===r&&e.putImageData(a.imageData,a.xOffset,a.yOffset),o.blendOp===t&&e.clearRect(o.xOffset,o.yOffset,o.width,o.height),e.drawImage(o.image,o.xOffset,o.yOffset)},a.prototype.animate=function(e){var t,n,r,i,o,s,a=this;return n=0,s=this.animation,i=s.numFrames,r=s.frames,o=s.numPlays,(t=function(){var s,l;if(s=n++%i,l=r[s],a.renderFrame(e,s),i>1&&n/i<o)return a.animation._timeout=setTimeout(t,l.delay)})()},a.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},a.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},a}(self);const Pee=new Set(["jpg","png","bmp","gif"]);async function Dee(e,t){if(!K7)throw new et("rasterCoded:decode","lerc decoder is not supported on big endian platform");await I7();const{offset:n}=t,{width:r,height:i,pixelType:o,statistics:s,depthCount:a,noDataValues:l,bandMasks:c,pixels:u,mask:h}=N7(e,{inputOffset:n,returnInterleaved:t.returnInterleaved}),p=new F5({width:r,height:i,pixelType:o.toLowerCase(),pixels:u,mask:h,statistics:s.map((({minValue:e,maxValue:t})=>new _5(e,t))),bandMasks:c,depthCount:a,noDataValues:l});return s?.length||p.updateStatistics(),p}async function Fee(e,t){const n=await Lee(e,{...t,noDataValue:null});ft(n);const r=new F5({width:n.width,height:n.height,pixels:n.pixels,pixelType:n.pixelType.toLowerCase(),mask:n.mask,bandMasks:n.bandMasks,statistics:null});return r.updateStatistics(),r}async function jee(e,t){const n=await Ree(e,t.customOptions),r=new F5({width:n.width,height:n.height,pixels:n.pixels,pixelType:n.pixelType.toLowerCase(),mask:n.mask,statistics:null});return r.updateStatistics(),r}function Uee(e,t){const n=t.pixelType||"u8",r=F5.getPixelArrayConstructor(n),i="u8"===n?e:new r(e.buffer),o=[],s=t.planes||1;if(1===s)o.push(i);else for(let l=0;l<s;l++){const n=(t.width||1)*(t.height||e.length),a=new r(n);for(let e=0;e<n;e++)a[e]=i[e*s+l];o.push(a)}const a=new F5({width:t.width||1,height:t.height||e.length,pixels:o,pixelType:n,statistics:null});return a.updateStatistics(),a}function zee(e,t){return Uee(new b7(new Uint8Array(e)).getBytes(),t)}function Gee(e,t){return Uee(U7(e,t.offset,t.eof,!t.isInputBigEndian),t)}function Vee(e,t,n){const{pixelTypeCtor:r}=Zee(t.pixelType),i=(0,B7.decode)(e,{width:t.width,height:t.height,pixelType:r,format:n}),o=new F5({width:t.width,height:t.height,pixels:i.pixels,pixelType:t.pixelType,mask:i.mask,statistics:null});return o.updateStatistics(),o}function Bee(e,t){const n=E7.decode(e,t.hasNoZlibMask??void 0),r=new F5({width:n.width,height:n.height,pixels:n.pixels,pixelType:"u8",mask:n.mask,statistics:null});return r.updateStatistics(),r}function $ee(e,t){const n=new Uint8Array(e),r=new Nee(n),{width:i,height:o}=t,s=i*o,a=r.decode();let l,c=0,u=0;const h=new Uint8Array(s);for(c=0;c<s;c++)h[c]=a[4*c+3];const p=new F5({width:i,height:o,pixels:[],pixelType:"u8",mask:h,statistics:[]});for(c=0;c<3;c++){for(l=new Uint8Array(s),u=0;u<s;u++)l[u]=a[4*u+c];p.addData({pixels:l})}return p.updateStatistics(),p}async function Hee(e,t,n,r){const i=new w7,o={applyJpegMask:!1,format:t,...n},s=await i.decode(e,o,r),a=new F5(s);return a.updateStatistics(),a}function Wee(e){if(null==e)throw new et("rasterCodec:decode","parameter encodeddata is required.");const t=new Uint8Array(e,0,10);let n="";return 255===t[0]&&216===t[1]?n="jpg":137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]?n="png":67===t[0]&&110===t[1]&&116===t[2]&&90===t[3]&&73===t[4]&&109===t[5]&&97===t[6]&&103===t[7]&&101===t[8]&&32===t[9]?n="lerc":76===t[0]&&101===t[1]&&114===t[2]&&99===t[3]&&50===t[4]&&32===t[5]?n="lerc2":73===t[0]&&73===t[1]&&42===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&42===t[3]||73===t[0]&&73===t[1]&&43===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&43===t[3]?n="tiff":71===t[0]&&73===t[1]&&70===t[2]?n="gif":66===t[0]&&77===t[1]?n="bmp":String.fromCharCode.apply(null,t).toLowerCase().includes("error")&&(n="error"),n}function qee(e){let t=null;switch(e){case"lerc":case"lerc2":t=Dee;break;case"jpg":t=Bee;break;case"png":t=$ee;break;case"bsq":case"bip":t=(t,n)=>Vee(t,n,e);break;case"tiff":t=Fee;break;case"deflate":t=zee;break;case"lzw":t=Gee;break;case"error":t=()=>{throw new et("rasterCodec:decode","input data contains error")};break;default:t=()=>{throw new et("rasterCodec:decode","unsupported raster format")}}return t}function Zee(e){let t=null,n=null;switch(e?e.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":n=255,t=Uint8Array;break;case"u16":n=n||65535,t=Uint16Array;break;case"u32":n=n||2**32-1,t=Uint32Array;break;case"s8":n=n||-128,t=Int8Array;break;case"s16":n=n||-32768,t=Int16Array;break;case"s32":n=n||0-2**31,t=Int32Array;break;default:t=Float32Array}return{pixelTypeCtor:t,noDataValue:n}}function Yee(e,t=1){if(!e)return;const{pixels:n,width:r,height:i,mask:o}=e;if(!n||0===n.length)return;const s=n.length,a=r-1,l=i-1,c=[];let u,h,p,d,f,m,y=null;const g=F5.getPixelArrayConstructor(e.pixelType);if(0===t){for(u=0;u<s;u++){for(f=n[u],m=new g(a*l),h=0;h<l;h++)for(d=h*r,p=0;p<a;p++)m[h*a+p]=f[d+p];c.push(m)}if(null!=o)for(y=new Uint8Array(a*l),h=0;h<l;h++)for(d=h*r,p=0;p<a;p++)y[h*a+p]=o[d+p]}else{for(u=0;u<s;u++){for(f=n[u],m=new g(a*l),h=0;h<l;h++)for(d=h*r,p=0;p<a;p++)m[h*a+p]=(f[d+p]+f[d+p+1]+f[d+r+p]+f[d+r+p+1])/4;c.push(m)}if(o)for(y=new Uint8Array(a*l),h=0;h<l;h++)for(d=h*r,p=0;p<a;p++)y[h*a+p]=Math.min.apply(null,[o[d+p],o[d+p+1],o[d+r+p],o[d+r+p+1]])}e.width=a,e.height=l,e.mask=y,e.pixels=c}function Xee(e){let t=Wee(e);return"lerc2"===t?t="lerc":"error"===t&&(t=""),t}async function Jee(e,t={},n){if(null==e)throw new et("rasterCodec:decode","missing encodeddata parameter.");let r=t.format?.toLowerCase();if(!("bsq"!==r&&"bip"!==r||null!=t.width&&null!=t.height))throw new et("rasterCodec:decode","requires width and height in options parameter.");if("tiff"===r&&t.customOptions)return jee(e,t);if((!r||"bsq"!==r&&"bip"!==r&&"deflate"!==r&&"lzw"!==r)&&(r=Wee(e)),t.useCanvas&&Pee.has(r))return Hee(e,r,t,n);const i=qee(r);let o;t.isPoint&&(null!=(t={...t}).width&&t.width++,null!=t.height&&t.height++);const{offsets:s}=t;if(s&&s.length>1){const n=s.map(((n,r)=>i(e.slice(n,s[r+1]),t))),r=await Promise.all(n);o=r[0],o.pixels=r.map((e=>e.pixels[0]));const a=r.map((e=>e.mask));r.some((e=>null!=e))&&(a.forEach(((e,t)=>{null==e&&(a[t]=new Uint8Array(o.width*o.height).fill(255))})),o.bandMasks=a,o.mask=F5.combineBandMasks(a)),o.updateStatistics()}else o=await i(e,{...t,offset:s?.[0]??t.offset});return"jpg"!==r&&null!=t.noDataValue&&1===o.depthCount&&L5(o,t.noDataValue,{customFloatTolerance:t.tolerance}),t.isPoint&&Yee(o),o}function Kee(e){return["u8","s8"].includes(e.pixelType)&&null!=e.statistics?.[0]?.min&&null!=e.statistics[0]?.max&&1===e.bandCount}function Qee(e,t){const{attributeTable:n,bandCount:r}=e;return!(null!=n||!Kee(e))||!(null==n||r>1||t&&null==n.fields.find((e=>e.name.toLowerCase()===t.toLowerCase())))}function ete(e){const{bandCount:t,dataType:n,pixelType:r}=e;return"elevation"===n||"generic"===n&&1===t&&("s16"===r||"s32"===r||"f32"===r||"f64"===r)}function tte(e,t=!1){const{bandCount:n,colormap:r,pixelType:i}=e;return 1===n&&(!!r?.length||!t&&"u8"===i)}function nte(e,t=!1){const{attributeTable:n,bandCount:r}=e;return 1===r&&(!t||null!=n||null!=e.histograms)}function rte(e){const{dataType:t}=e;return"vector-uv"===t||"vector-magdir"===t}function ite(e){const{dataType:t}=e;return"vector-uv"===t||"vector-magdir"===t}function ote(e){return!!e?.length&&e.length<=16384}const ste=new au({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),ate=new au({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let lte=class extends Hs{constructor(e){super(e),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}set definedInterval(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}};S([WM({classBreaksDef:"class-breaks-definition"})],lte.prototype,"type",void 0),S([To({json:{write:!0}})],lte.prototype,"breakCount",void 0),S([To({json:{write:!0}})],lte.prototype,"classificationField",void 0),S([To({type:String,json:{read:ste.read,write:ste.write}})],lte.prototype,"classificationMethod",void 0),S([To({json:{write:!0}})],lte.prototype,"normalizationField",void 0),S([To({json:{read:ate.read,write:ate.write}})],lte.prototype,"normalizationType",void 0),S([To({value:null,json:{write:!0}})],lte.prototype,"standardDeviationInterval",null),S([To({value:null,json:{write:!0}})],lte.prototype,"definedInterval",null),lte=S([gs("esri.rest.support.ClassBreaksDefinition")],lte);const cte=lte,ute=.25,hte=cN.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),pte=cN.fromJSON(v4[0]),dte=new Set(["scientific","standard-time","vector-uv","vector-magdir","vector-u","vector-v","vector-magnitude","vector-direction"]);function fte(e){return e.presetRenderers?.find((({method:t,value:n})=>"raster-function-template"===t?n===e.rasterFunctionName:"variable"===t&&n===e.variableName))}function mte(e,t){const{attributeTable:n,colormap:r}=e;if(rte(e)){const t=Ote(e);if(null!=t)return t}if(t?.rasterFunctionColorRamp){const n=bte(e,t);return n.colorRamp=t.rasterFunctionColorRamp,n}if(null!=r){const t=Ite(e);if(null!=t)return t}if(null!=n){const t=Tte(e);if(null!=t)return t}return bte(e,t)}function yte(e,t=!1){const n=["raster-stretch"];return tte(e,t)&&n.push("raster-colormap"),Qee(e)&&n.push("unique-value"),nte(e,t)&&n.push("class-breaks"),ete(e)&&n.push("raster-shaded-relief"),rte(e)&&n.push("vector-field"),ite(e)&&n.push("flow"),n}function gte(e){return"Function"===e.datasetFormat&&"Colormap"===e.rasterFunction.functionName?e.rasterFunction.colorRamp:void 0}function vte(e,t,n){const r=["nearest","bilinear","cubic","majority"],i=n?.toLowerCase().replace("bicubic","cubic"),o=r.find((e=>e===i));return"Map"===t?o??"bilinear":"standard-time"===e.dataType?o??"nearest":"thematic"===e.dataType||e.attributeTable||e.colormap?"nearest"===o||"majority"===o?o:"nearest":o??"bilinear"}function bte(e,t){e=wte(e,t?.variableName);const{bandCount:n}=e;let{bandIds:r,stretchType:i}=t||{};r?.some((e=>e>=n))&&(r=null);let o=e.statistics,s=e.histograms;n>1?(r=r?.length?r:_te(e),o=null==o?null:r?.map((e=>o[e])),s=null==s?null:r?.map((e=>s[e]))):r=[0],null==i&&(i=Ste(e)),t?.includeStatisticsInStretch&&("percent-clip"===i||"histogram-equalization"===i)&&e.statistics?.length&&(i="min-max");let a=!1;switch(i){case"none":a=!1;break;case"percent-clip":a=!s?.length;break;default:a=!o?.length}const{dataType:l}=e,c=1===r?.length&&dte.has(l)?hte:null,u=new X4({stretchType:i,dynamicRangeAdjustment:a,colorRamp:c,outputMin:0,outputMax:255,gamma:1===r?.length?[1]:[1,1,1],useGamma:!1});return"percent-clip"===i?u.maxPercent=u.minPercent=ute:"standard-deviation"===i&&(u.numberOfStandardDeviations=2),a||null==e.multidimensionalInfo&&!t?.includeStatisticsInStretch||("percent-clip"===i?u.histograms=s:"min-max"!==i&&"standard-deviation"!==i||(u.statistics=o)),u}function wte(e,t){const{multidimensionalInfo:n}=e;if(!t||!n)return e;const r=n.variables.find((e=>e.name===t));if(!r)return e;if(e=e.clone(),r){const{statistics:t,histograms:n}=r;t?.length&&(e.statistics=t.map((e=>({min:e.min,max:e.max,avg:e.avg,stddev:e.stddev})))),n?.length&&(e.histograms=n)}return e}function _te(e){const t=e.bandCount;if(1===t)return null;if(2===t)return[0];const{bandInfos:n}=e;let r;if(n.length===t){const{red:e,green:t,blue:i,nir:o}=xte(n);null!=e&&null!=t&&null!=i?r=[e,t,i]:null!=o&&null!=e&&null!=t&&(r=[o,e,t])}return!r&&t>=3&&(r=[0,1,2]),r}function xte(e){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=r.name.toLowerCase();if("red"===i)t.red=n;else if("green"===i)t.green=n;else if("blue"===i)t.blue=n;else if("nearinfrared"===i||"nearinfrared_1"===i||"nir"===i)t.nir=n;else if(r.maxWavelength&&r.minWavelength){const e=r.minWavelength,i=r.maxWavelength;null==t.blue&&e>=410&&e<=480&&i>=480&&i<=540?t.blue=n:null==t.green&&e>=490&&e<=560&&i>=560&&i<=610?t.green=n:null==t.red&&e>=595&&e<=670&&i>=660&&i<=730?t.red=n:null==t.nir&&e>=700&&e<=860&&i>=800&&i<=950&&(t.nir=n)}}return t}function Ste(e){let t="percent-clip";const{pixelType:n,dataType:r,histograms:i,statistics:o,multidimensionalInfo:s}=e,a=dte.has(r)||"generic"===r&&null!=s;return"u8"!==n||"processed"!==r&&null!=i&&null!=o?"u8"===n||"elevation"===r||a?t="min-max":null!=i?t="percent-clip":null!=o&&(t="min-max"):t="none",t}function Tte(e,t,n,r){if(!Qee(e,t))return null;const{attributeTable:i,statistics:o}=e,s=Ete(i,t),a=Ate(i,"red"),l=Ate(i,"green"),c=Ate(i,"blue"),u=new _N,h=[],p=new Set,d=!!(a&&l&&c);if(null!=i)i.features.forEach((e=>{const t=e.attributes[s.name];if(!p.has(e.attributes[s.name])&&null!=t){p.add(t);const n=d&&("single"===a.type||"double"===a.type)&&("single"===l.type||"double"===l.type)&&("single"===c.type||"double"===c.type)&&!i.features.some((e=>e.attributes[a.name]>1||e.attributes[l.name]>1||e.attributes[c.name]>1)),r=n?255:1;h.push(new xV({value:e.attributes[s.name],label:e.attributes[s.name]+"",symbol:new uL({style:"solid",outline:null,color:new gy(d?[e.attributes[a.name]*r,e.attributes[l.name]*r,e.attributes[c.name]*r,1]:[0,0,0,0])})}))}}));else if(o?.[0])for(let f=o[0].min;f<=o[0].max;f++)h.push(new xV({value:f,label:f.toString(),symbol:new uL({style:"solid",outline:null,color:new gy([0,0,0,0])})}));if(h.sort(((e,t)=>e.value&&"string"==typeof e.value.valueOf()?0:e.value>t.value?1:-1)),!d){const e=N4(pte,{numColors:h.length});h.forEach(((t,n)=>t.symbol.color=new gy(e[n].slice(1,4)))),u.colorRamp=pte}return new $V({field:s.name,uniqueValueInfos:h,authoringInfo:u})}function Ete(e,t,n){let r;return null!=e?(r=t?e.fields.find((e=>t.toLowerCase()===e.name.toLowerCase())):Mte(e.fields),r||(n||(r=e.fields.find((e=>"string"===e.type))),r||(r=Ate(e,"value")))):r=new JW({name:"value"}),r}function Mte(e){let t;for(let n=0;n<e.length;n++){const r=e[n].name.toLowerCase();if("string"===e[n].type){if(r.startsWith("class")){t=e[n];break}null==t&&(r.endsWith("name")||r.endsWith("type"))&&(t=e[n])}}return t}function Ate(e,t){return null==e?null:e.fields.find((e=>e.name.toLowerCase()===t))}function Ite(e){if(!tte(e))return null;let t;const{attributeTable:n,colormap:r}=e;if(null!=n){const e=Ate(n,"value"),r=Ete(n,null,!0);"string"===r.type&&(t={},n.features.forEach((n=>{const i=n.attributes;t[i[e.name]]=r?i[r.name]:i[e.name]})))}return V4.createFromColormap(r,t)}const Cte=new Map([["m/s","meter-per-second"],["km/h","kilometer-per-hour"],["knots","knots"],["ft/s","feet-per-second"],["mph","mile-per-hour"]]);function Ote(e){if(!rte(e))return null;let t;if(null!=e.statistics&&e.statistics.length&&("vector-magdir"===e.dataType||"vector-uv"===e.dataType)){const{minMagnitude:n,maxMagnitude:r}=Lte(e.dataType,e.statistics);t=[new FP({field:"Magnitude",minSize:10,maxSize:40,minDataValue:n,maxDataValue:r})]}const n=null!=e.multidimensionalInfo?Cte.get(e.multidimensionalInfo.variables[0].unit):void 0,r=new x8({visualVariables:t,inputUnit:n,rotationType:"geographic"});return r.visualVariables=[...r.sizeVariables,...r.rotationVariables],r}function kte(e){return{color:e.symbolLayers[0].material?.color,type:"esriSFS",style:"esriSFSSolid"}}function Rte(e){if("uniqueValue"===e.type){const t=e.uniqueValueInfos;return t?.[0].symbol?.symbolLayers?.length&&(e.uniqueValueInfos=t?.map((e=>({value:e.value,label:e.label,symbol:e.symbol?kte(e.symbol):null})))),e}if("classBreaks"===e.type){const t=e.classBreakInfos;return t[0].symbol?.symbolLayers?.length&&(e.classBreakInfos=t.map((e=>({classMinValue:e.classMinValue,classMaxValue:e.classMaxValue,label:e.label,symbol:e.symbol?kte(e.symbol):null})))),e}return e}function Lte(e,t){let n,r;if("vector-magdir"===e)n=t[0].min,r=t[0].max;else{const e=t[0].min,i=t[0].max,o=t[1].min,s=t[1].max;n=0,r=Math.max(Math.abs(e),Math.abs(o),Math.abs(i),Math.abs(s))}return{minMagnitude:n,maxMagnitude:r}}const Nte=1;function Pte(e,t=256){t=Math.min(t,256);const{size:n,counts:r}=e,i=new Uint8Array(n),o=r.reduce(((e,n)=>e+n/t),0);let s=0,a=0,l=0,c=o;for(let u=0;u<n;u++)if(l+=r[u],!(u<n-1&&l+r[u+1]<c)){for(;s<t-1&&c<l;)s++,c+=o;for(let e=a;e<=u;e++)i[e]=s;a=u+1}for(let u=a;u<n;u++)i[u]=t-1;return i}function Dte(e){const{minCutOff:t,maxCutOff:n,gamma:r,pixelType:i,rounding:o}=e,s=e.outMin||0,a=e.outMax||255;if(!["u8","u16","s8","s16"].includes(i))return null;const l=t.length;let c,u,h=0;"s8"===i?h=-127:"s16"===i&&(h=-32767);let p=256;["u16","s16"].includes(i)&&(p=65536);const d=[],f=[],m=a-s;for(c=0;c<l;c++)f[c]=n[c]-t[c],d[c]=0===f[c]?0:m/f[c];let y;const g=[];let v,b,w;if(r&&r.length>=l){const e=Wte(l,r);for(c=0;c<l;c++){for(w=[],u=0;u<p;u++)if(0!==f[c])if(v=u+h,y=(v-t[c])/f[c],b=1,r[c]>1&&(b-=(1/m)**(y*e[c])),v<n[c]&&v>t[c]){const e=b*m*y**(1/r[c])+s;w[u]="floor"===o?Math.floor(e):"round"===o?Math.round(e):e}else v>=n[c]?w[u]=a:w[u]=s;else w[u]=s;g[c]=w}}else for(c=0;c<l;c++){for(w=[],u=0;u<p;u++)if(v=u+h,v<=t[c])w[u]=s;else if(v>=n[c])w[u]=a;else{const e=(v-t[c])*d[c]+s;w[u]="floor"===o?Math.floor(e):"round"===o?Math.round(e):e}g[c]=w}if(null!=e.contrastOffset){const t=Fte(e.contrastOffset,e.brightnessOffset);for(c=0;c<l;c++)for(w=g[c],u=0;u<p;u++)w[u]=t[w[u]]}return{lut:g,offset:h}}function Fte(e,t){const n=Math.min(Math.max(e,-100),100),r=Math.min(Math.max(t??0,-100),100),i=255,o=128;let s=0,a=0;const l=new Uint8Array(256);for(s=0;s<256;s++)n>0&&n<100?a=(200*s-100*i+2*i*r)/(2*(100-n))+o:n<=0&&n>-100?a=(200*s-100*i+2*i*r)*(100+n)/2e4+o:100===n?(a=200*s-100*i+(i+1)*(100-n)+2*i*r,a=a>0?i:0):-100===n&&(a=o),l[s]=a>i?i:a<0?0:a;return l}function jte(e,t,n){const r=[];for(let i=0;i<t.length;i++){let n=0,o=0,s=0;"min"in t[i]?({min:n,max:o,avg:s}=t[i]):[n,o,s]=t[i];let a=s??0;"u8"!==e&&(a=255*(a-n)/(o-n)),r.push(Ute(a))}return r}function Ute(e){if(e<=0||e>=255)return Nte;let t=0;150!==e&&(t=e<=150?45*Math.cos(.01047*e):17*Math.sin(.021*e));const n=255,r=e+t,i=Math.log(e/n),o=Math.log(r/n);if(0===o)return Nte;const s=i/o;return isNaN(s)?Nte:Math.min(9.9,Math.max(.01,s))}function zte(e,t,n,r){let i=1/0,o=-1/0,s=0,a=0,l=0,c=0;const u=e.length,h=new Map,p=[];for(let S=0;S<u;S++){const n=e[S];if(!t||t[S]){p.push(n);const e=(h.get(n)??0)+1;h.set(n,e),e>c&&(c=e,l=n),i=n<i?n:i,o=n>o?n:o,s+=n,a++}}if(0===a)return{statistics:{min:0,max:0,avg:0,stddev:0,mode:0,median:0},histogram:null};const d=s/a;let f=0;for(let S=0;S<u;S++)t&&!t[S]||(f+=(e[S]-d)**2);const m=t?t.filter((e=>e)).length:u,y=m<=1?0:Math.sqrt(f/(m-1));p.sort(((e,t)=>e-t));const g=a>>>1,v={min:i,max:o,avg:d,stddev:y,mode:l,median:a%2?p[Math.floor(g)]:(p[g-1]+p[g])/2};if(["u8","s8","u4","u2","u1"].includes(n)){const n=o-i+1,r=new Uint32Array(n);for(let o=0;o<u;o++)t&&!t[o]||r[e[o]-i]++;return{statistics:v,histogram:{min:i-.5,max:o+.5,size:n,counts:r}}}const b=256,w=new Uint32Array(b),_=(o-i)/b;if(0===_)return{statistics:v,histogram:{min:i,max:o,size:1,counts:new Uint32Array(1).fill(a)}};const x=new Uint32Array(b+1);for(let S=0;S<u;S++)t&&!t[S]||x[Math.floor((e[S]-i)/_)]++;for(let S=0;S<b-1;S++)w[S]=x[S];return w[b-1]=x[b-1]+x[b],{statistics:v,histogram:{min:i,max:o,size:b,counts:w}}}function Gte(e){const{pixels:t,mask:n,pixelType:r,bandMasks:i}=e,o=t.map(((e,t)=>zte(e,i?.[t]??n,r)));return{statistics:o.map((({statistics:e})=>e)),histograms:o.map((({histogram:e})=>e))}}function Vte(e){if(!e?.pixels?.length)return null;const{pixels:t,mask:n,bandMasks:r,pixelType:i}=e,o=e.width*e.height,s=t.length,a=[],l=[],c=256;let u,h,p,d;for(let f=0;f<s;f++){p=new Uint32Array(c);const s=t[f],m=r?.[f]??n;if("u8"===i){if(u=255,h=0,m){for(let e=0;e<o;e++)if(m[e]){const t=s[e];u=t<u?t:u,h=t>h?t:h,p[t]++}}else for(let e=0;e<o;e++){const t=s[e];u=t<u?t:u,h=t>h?t:h,p[t]++}p=p.slice(u,h+1)}else{let t=!1;e.statistics||(e.updateStatistics(),t=!0);const n=e.statistics;u=n[f].minValue,h=n[f].maxValue;const r=(h-u)/c;if(0===r){!n||e.validPixelCount||t||e.updateStatistics();const r=(e.validPixelCount||e.width*e.height)/c;for(let e=0;e<c;e++)p[e]=Math.round(r*(e+1))-Math.round(r*e)}else{d=new Uint32Array(c+1);for(let e=0;e<o;e++)m&&!m[e]||d[Math.floor((s[e]-u)/r)]++;for(let e=0;e<c-1;e++)p[e]=d[e];p[c-1]=d[c-1]+d[c]}}const y="u8"===i?u-.5:u,g="u8"===i?h+.5:h;a.push({min:y,max:g,size:p.length,counts:p});let v=0,b=0,w=0;for(let e=0;e<p.length;e++)v+=p[e],b+=e*p[e];const _=b/v;for(let e=0;e<p.length;e++)w+=p[e]*(e-_)**2;const x=Math.sqrt(w/(v-1)),S=(g-y)/p.length,T=(_+("u8"===i?0:.5))*S+u,E=x*S;l.push({min:u,max:h,avg:T,stddev:E})}return{statistics:l,histograms:a}}function Bte(e){const t=[];for(let n=0;n<e.length;n++){const{min:r,max:i,size:o,counts:s}=e[n];let a=0,l=0;for(let e=0;e<o;e++)a+=s[e],l+=e*s[e];const c=l/a;let u=0;for(let e=0;e<o;e++)u+=s[e]*(e-c)**2;const h=(i-r)/o,p=(c+.5)*h+r,d=Math.sqrt(u/(a-1))*h;t.push({min:r,max:i,avg:p,stddev:d})}return t}function $te(e,t){const{pixelBlock:n,bandIds:r,returnHistogramLut:i,rasterInfo:o}=t;let s=null,a=null,l=e.stretchType;if("number"==typeof l&&(l=q4[l]),e.dra)if("minMax"===l&&n?.statistics)s=n.statistics.map((e=>[e.minValue,e.maxValue,0,0]));else{const e=Vte(n);s=null!=e?e.statistics:null,a=null!=e?e.histograms:null}else s=e.statistics?.length?e.statistics:o.statistics,a="histograms"in e?e.histograms:void 0,a||(a=o.histograms);"percentClip"!==l&&"histogramEqualization"!==l||a?.length||(l="minMax");const c=s?.length||a?.length||o.bandCount,u=[],h=[];let p,d,f,m,y,g,v,b,w;s&&!Array.isArray(s[0])&&(s=s.map((e=>[e.min,e.max,e.avg,e.stddev])));const[_,x]=E5(o.pixelType);if(!s?.length){for(s=[],b=0;b<c;b++)s.push([_,x,1,1]);"standardDeviation"===l&&(l="minMax")}switch(l){case"none":for(b=0;b<c;b++)u[b]=_,h[b]=x;break;case"minMax":for(b=0;b<c;b++){const e=s[b];u[b]=e[0],h[b]=e[1]}break;case"standardDeviation":{const{numberOfStandardDeviations:t=2}=e;for(b=0;b<c;b++){const e=s[b];u[b]=e[2]-t*e[3],h[b]=e[2]+t*e[3],u[b]<e[0]&&(u[b]=e[0]),h[b]>e[1]&&(h[b]=e[1])}}break;case"histogramEqualization":for(ft(a),b=0;b<c;b++)u[b]=a[b].min,h[b]=a[b].max;break;case"percentClip":for(ft(a),b=0;b<a.length;b++){for(p=a[b],y=new Uint32Array(p.size),m=[...p.counts],m.length>=20&&(m[0]=m[1]=m[2]=m[m.length-1]=m[m.length-2]=0),f=0,d=(p.max-p.min)/p.size,v=-.5===p.min&&1===d?.5:0,w=0;w<p.size;w++)f+=m[w],y[w]=f;for(g=(e.minPercent||0)*f/100,u[b]=p.min+v,w=0;w<p.size;w++)if(y[w]>g){u[b]=p.min+d*(w+v);break}for(g=(1-(e.maxPercent||0)/100)*f,h[b]=p.max+v,w=p.size-2;w>=0;w--)if(y[w]<g){h[b]=p.min+d*(w+2-v);break}if(h[b]<u[b]){const e=u[b];u[b]=h[b],h[b]=e}}break;default:for(b=0;b<c;b++){const e=s[b];u[b]=e[0],h[b]=e[1]}}let S,T,E;return"histogramEqualization"===l?(ft(a),T=a[0].size||256,S=0,i&&(E=a.map((e=>Pte(e))))):(T=e.max||255,S=e.min||0),Hte({minCutOff:u,maxCutOff:h,outMax:T,outMin:S,histogramLut:E},r)}function Hte(e,t){if(null==t||0===t.length)return e;const n=Math.max.apply(null,t),{minCutOff:r,maxCutOff:i,outMin:o,outMax:s,histogramLut:a}=e;return r.length===t.length||r.length<=n?e:{minCutOff:t.map((e=>r[e])),maxCutOff:t.map((e=>i[e])),histogramLut:a?t.map((e=>a[e])):null,outMin:o,outMax:s}}function Wte(e,t){const n=new Float32Array(e);for(let r=0;r<e;r++)t[r]>1?t[r]>2?n[r]=6.5+(t[r]-2)**2.5:n[r]=6.5+100*(2-t[r])**4:n[r]=1;return n}function qte(e,t){if(!e?.pixels?.length)return e;const{mask:n,bandMasks:r,width:i,height:o,pixels:s}=e,{minCutOff:a,maxCutOff:l,gamma:c}=t,u=t.outMin||0,h=t.outMax||255,p=i*o,d=t.outputPixelType||"u8",f=e.pixels.map((()=>F5.createEmptyBand(d,p))),m=f.length,y=h-u,g=[],v=[];for(let S=0;S<m;S++)v[S]=l[S]-a[S],g[S]=0===v[S]?0:y/v[S];const b=d.startsWith("u")||d.startsWith("s"),w=c&&c.length>=m,_=!!t.isRenderer;if(w){const e=Wte(m,c);for(let t=0;t<m;t++){const i=r?.[t]??n;for(let n=0;n<p;n++)if(null==i||i[n]){if(0===v[t]){f[t][n]=u;continue}const r=s[t][n],i=(r-a[t])/v[t];let o=1;if(c[t]>1&&(o-=(1/y)**(i*e[t])),r<l[t]&&r>a[t]){const e=o*y*i**(1/c[t])+u;f[t][n]=_?Math.floor(e):b?Math.round(e):e}else r>=l[t]?f[t][n]=h:f[t][n]=u}}}else for(let S=0;S<m;S++){const e=r?.[S]??n;for(let t=0;t<p;t++)if(null==e||e[t]){const e=s[S][t];if(e<l[S]&&e>a[S]){const n=(e-a[S])*g[S]+u;f[S][t]=_?Math.floor(n):b?Math.round(n):n}else e>=l[S]?f[S][t]=h:f[S][t]=u}}const x=new F5({width:i,height:o,mask:n,bandMasks:r,pixels:f,pixelType:d});return x.updateStatistics(),x}const Zte=1,Yte=1/111e3;function Xte(e){let{altitude:t,azimuth:n}=e;const{hillshadeType:r,pixelSizePower:i=1,pixelSizeFactor:o=1,scalingType:s,isGCS:a,resolution:l}=e,c="multi-directional"===r?2*e.zFactor:e.zFactor,{x:u,y:h}=l;let p=c/(8*u),d=c/(8*h);if(a&&c>.001&&(p/=Yte,d/=Yte),"adjusted"===s)if(a){const e=u*Yte,t=h*Yte;p=(c+e**i*o)/(8*e),d=(c+t**i*o)/(8*t)}else p=(c+u**i*o)/(8*u),d=(c+h**i*o)/(8*h);let f=(90-t)*Math.PI/180,m=Math.cos(f),y=(360-n+90)*Math.PI/180,g=Math.sin(f)*Math.cos(y),v=Math.sin(f)*Math.sin(y);const b=[315,270,225,360,180,0],w=[60,60,60,60,60,90],_=new Float32Array([3,5,3,2,1,4]),x=_.reduce(((e,t)=>e+t)),S=_.map((e=>e/x)),T="multi-directional"===r?b.length:1,E=new Float32Array(6),M=new Float32Array(6),A=new Float32Array(6);if("multi-directional"===r)for(let I=0;I<T;I++)t=w[I],n=b[I],f=(90-t)*Math.PI/180,m=Math.cos(f),y=(360-n+90)*Math.PI/180,g=Math.sin(f)*Math.cos(y),v=Math.sin(f)*Math.sin(y),E[I]=m,M[I]=g,A[I]=v;else E.fill(m),M.fill(g),A.fill(v);return{resolution:l,factor:[p,d],sinZcosA:g,sinZsinA:v,cosZ:m,sinZcosAs:M,sinZsinAs:A,cosZs:E,weights:S,hillshadeType:["traditional","multi-directional"].indexOf(r)}}function Jte(e,t){const{width:n,height:r}=e,i=n*r,o=new Uint8Array(i),s=null!=e.mask;let a;if(s){a=new Uint8Array(e.mask);for(let e=0;e<a.length;e++)a[e]&&(o[e]=1,a[e]=1)}const l=e.pixels[0],c=new Float32Array(i),u=new Float32Array(i);let h,p=0;if(t){const{resolution:e}=t,n=e?(e.x+e.y)/2:1;p=200*t.zFactor/(n*n),h=new Float32Array(i)}const d=t?.curvatureType;let f,m,y,g,v,b,w,_;for(let x=Zte;x<r-Zte;x++){const e=x*n;for(let t=Zte;t<n-Zte;t++){const r=e+t;if(!a||0!==a[r]){if(a){if(a[r-n-1]+a[r-n]+a[r-n+1]+a[r-1]+a[r+1]+a[r+n-1]+a[r+n]+a[r+n+1]<7){o[r]=0;continue}f=a[r-n-1]?l[r-n-1]:l[r],m=a[r-n]?l[r-n]:l[r],y=a[r-n+1]?l[r-n+1]:l[r],g=a[r-1]?l[r-1]:l[r],v=a[r+1]?l[r+1]:l[r],b=a[r+n-1]?l[r+n-1]:l[r],w=a[r+n]?l[r+n]:l[r],_=a[r+n+1]?l[r+n+1]:l[r]}else f=l[r-n-1],m=l[r-n],y=l[r-n+1],g=l[r-1],v=l[r+1],b=l[r+n-1],w=l[r+n],_=l[r+n+1];if(c[r]=y+v+v+_-(f+g+g+b),u[r]=b+w+w+_-(f+m+m+y),null!=h){const e=l[r],t=.5*(g+v)-e,n=.5*(m+w)-e;if("standard"===d)h[r]=-p*(t+n);else{const e=(-f+y+b-_)/4,i=(-g+v)/2,o=(m-w)/2,s=i*i,a=o*o,l=s+a;l&&(h[r]="profile"===d?p*(t*s+n*a+e*i*o)/l:-p*(t*a+n*s-e*i*o)/l)}}}}}return{outMask:s?o:null,dzxs:c,dzys:u,curvatures:h}}function Kte(e,t,n){for(let r=0;r<n;r++)e[r*t]=e[r*t+1],e[(r+1)*t-1]=e[(r+1)*t-2];for(let r=1;r<t-1;r++)e[r]=e[r+t],e[r+(n-1)*t]=e[r+(n-2)*t]}function Qte(e,t){if(!G5(e))return e;const{factor:n,sinZcosA:r,sinZsinA:i,cosZ:o,sinZcosAs:s,sinZsinAs:a,cosZs:l,weights:c}=Xte(t),[u,h]=n,p="traditional"===t.hillshadeType,{width:d,height:f}=e,m=new Uint8Array(d*f),{dzxs:y,dzys:g,outMask:v}=Jte(e);for(let b=Zte;b<f-Zte;b++){const e=b*d;for(let t=Zte;t<d-Zte;t++){const n=e+t;if(!v||v[n]){const e=y[n]*u,t=g[n]*h,d=Math.sqrt(1+e*e+t*t);let f=0;if(p){let n=255*(o+i*t-r*e)/d;n<0&&(n=0),f=n}else{const n=a.length;for(let r=0;r<n;r++){let n=255*(l[r]+a[r]*t-s[r]*e)/d;n<0&&(n=0),f+=n*c[r]}}m[n]=255&f}}}return Kte(m,d,f),new F5({width:d,height:f,pixels:[m],mask:v,pixelType:"u8",validPixelCount:e.validPixelCount,statistics:[new _5(0,255)]})}function ene(e,t,n,r){if(!G5(e)||!G5(t))return;const{min:i,max:o}=r,s=e.pixels[0],{pixels:a,mask:l}=t,c=a[0],u=255.00001/(o-i),h=new Uint8ClampedArray(c.length),p=new Uint8ClampedArray(c.length),d=new Uint8ClampedArray(c.length),f=n.length-1;for(let m=0;m<c.length;m++){if(l&&0===l[m])continue;const e=Math.floor((c[m]-i)*u),[t,r]=n[e<0?0:e>f?f:e],o=s[m],a=o*r,y=a*(1-Math.abs(t%2-1)),g=o-a;switch(Math.floor(t)){case 0:h[m]=a+g,p[m]=y+g,d[m]=g;break;case 1:h[m]=y+g,p[m]=a+g,d[m]=g;break;case 2:h[m]=g,p[m]=a+g,d[m]=y+g;break;case 3:h[m]=g,p[m]=y+g,d[m]=a+g;break;case 4:h[m]=y+g,p[m]=g,d[m]=a+g;break;case 5:case 6:h[m]=a+g,p[m]=g,d[m]=y+g}}e.pixels=[h,p,d],e.updateStatistics()}function tne(e,t){if(!G5(e))return e;const n=t.zFactor,r=t.pixelSizePower??1,i=t.pixelSizeFactor??1,o=t.slopeType,s=t.isGCS,{x:a,y:l}=t.resolution;let c=n/(8*a),u=n/(8*l);s&&Math.abs(n-1)<1e-4&&(c/=Yte,u/=Yte),"adjusted"===o&&(c=(n+a**r*i)/(8*a),u=(n+l**r*i)/(8*l));const{dzxs:h,dzys:p,outMask:d}=Jte(e),{width:f,height:m}=e,y=new Float32Array(f*m);for(let v=Zte;v<m-Zte;v++){const e=v*f;for(let t=Zte;t<f-Zte;t++){const n=e+t;if(!d||d[n]){const r=h[n]*c,i=p[n]*u,s=Math.sqrt(r*r+i*i);y[e+t]="percent-rise"===o?100*s:57.2957795*Math.atan(s)}}}Kte(y,f,m);const g=new F5({width:f,height:m,pixels:[y],mask:d,pixelType:"f32",validPixelCount:e.validPixelCount});return g.updateStatistics(),g}function nne(e,t={}){if(!G5(e))return e;const{resolution:n}=t,r=n?1/n.x:1,i=n?1/n.y:1,{dzxs:o,dzys:s,outMask:a}=Jte(e),{width:l,height:c}=e,u=new Float32Array(l*c);for(let h=Zte;h<c-Zte;h++){const e=h*l;for(let t=Zte;t<l-Zte;t++){const n=e+t;if(!a||a[n]){const a=o[n]*r,l=s[n]*i;let c=-1;0===a&&0===l||(c=90-57.29578*Math.atan2(l,-a),c<0&&(c+=360),360===c?c=0:c>360&&(c%=360)),u[e+t]=c}}}return Kte(u,l,c),new F5({width:l,height:c,pixels:[u],mask:a,pixelType:"f32",validPixelCount:e.validPixelCount,statistics:[new _5(-1,360)]})}function rne(e,t){if(!G5(e))return e;const{curvatures:n,outMask:r}=Jte(e,t),{width:i,height:o}=e;Kte(n,i,o);const s=new F5({width:i,height:o,pixels:[n],mask:r,pixelType:"f32",validPixelCount:e.validPixelCount});return s.updateStatistics(),s}function ine(e,t,n){const{hillshadeType:r,altitude:i,azimuth:o,zFactor:s,pixelSizeFactor:a,pixelSizePower:l,slopeType:c}=e;return{hillshadeType:r,altitude:i,azimuth:o,zFactor:s,pixelSizePower:l,pixelSizeFactor:a,scalingType:"scaled"===c?"adjusted":"none",resolution:t,isGCS:n}}let one=class extends Hs{constructor(e){super(e)}bind(){const{rendererJSON:e}=this;if(!e)return{success:!1};let t;switch(this.lookup={rendererJSON:{}},e.type){case"uniqueValue":t=this._updateUVRenderer(e);break;case"rasterColormap":t=this._updateColormapRenderer(e);break;case"rasterStretch":t=this._updateStretchRenderer(e);break;case"classBreaks":t=this._updateClassBreaksRenderer(e);break;case"rasterShadedRelief":t=this._updateShadedReliefRenderer(e);break;case"vectorField":t=this._updateVectorFieldRenderer();break;case"flowRenderer":t=this._updateFlowRenderer()}return t}symbolize(e){let t=e?.pixelBlock;if(!cne(t))return t;if(e.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(t,e.simpleStretchParams);try{let n;switch(t.pixels.length>3&&(t=t.extractBands(e.bandIds??[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":n=this._symbolizeColormap(t);break;case"classBreaks":n=this._symbolizeClassBreaks(t);break;case"rasterStretch":n=this._symbolizeStretch(t,e.bandIds);break;case"rasterShadedRelief":{const r=e.extent,i=r.spatialReference.isGeographic,o={x:(r.xmax-r.xmin)/t.width,y:(r.ymax-r.ymin)/t.height};n=this._symbolizeShadedRelief(t,{isGCS:i,resolution:o});break}}return n}catch(n){return Ye.getLogger(this).error("symbolize",n.message),t}}simpleStretch(e,t){if(!cne(e))return e;try{return e.pixels.length>3&&(e=e.extractBands([0,1,2])),qte(e,{...t,isRenderer:!0})}catch(n){return Ye.getLogger(this).error("symbolize",n.message),e}}generateWebGLParameters(e){if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:e,offset:t}=this.lookup.colormapLut||{};return{colormap:e,colormapOffset:t,isClassBreaks:"classBreaks"===this.rendererJSON.type,type:"lut"}}const{pixelBlock:t,isGCS:n,resolution:r,bandIds:i}=e,{rendererJSON:o}=this;return"rasterStretch"===o.type?this._generateStretchWebGLParams(t,o,i):"rasterShadedRelief"===o.type?this._generateShadedReliefWebGLParams(o,n,r??void 0):"vectorField"===o.type?this._generateVectorFieldWebGLParams(o):null}_isLUTChanged(e){if(!this.lookup||!this.lookup.rendererJSON)return!0;if("colorRamp"in this.rendererJSON){const t=this.rendererJSON.colorRamp;return e?JSON.stringify(t)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):(this.rendererJSON,this.lookup.rendererJSON,JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(e){return this._isLUTChanged()&&!this.bind().success?e:$5(e,this.lookup.colormapLut)}_symbolizeClassBreaks(e){const{canUseIndexedLUT:t}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?e:t?$5(e,this.lookup.colormapLut):q5(e,this.lookup.remapLut??[])}_symbolizeStretch(e,t){const{rasterInfo:n}=this,{pixelType:r,bandCount:i}=n,o=this.rendererJSON,s=["u8","u16","s8","s16"].includes(r);let a,l;const{dra:c}=o,{gamma:u}=this.lookup;if("histogramEqualization"===o.stretchType){const r=c?null:this.lookup?.histogramLut,i=$te(o,{rasterInfo:n,pixelBlock:e,bandIds:t,returnHistogramLut:!r}),s=qte(e,{...i,gamma:u,isRenderer:!0});l=H5(s,{lut:c?i.histogramLut:r,offset:0})}else if(s){if(c){const i=$te(o,{rasterInfo:n,pixelBlock:e,bandIds:t});a=Dte({pixelType:r,...i,gamma:u,rounding:"floor"})}else if(this._isLUTChanged()){if(!this.bind().success)return e;a=this.lookup?this.lookup.stretchLut:null}else a=this.lookup?this.lookup.stretchLut:null;if(!a)return e;i>1&&null!=t&&t.length===e?.pixels.length&&a?.lut.length===i&&(a={lut:t.map((e=>a.lut[e])),offset:a.offset}),l=H5(e,a)}else{const r=$te(o,{rasterInfo:n,pixelBlock:e,bandIds:t});l=qte(e,{...r,gamma:u,isRenderer:!0})}if(o.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return e;l=$5(l,this.lookup?.colormapLut)}return l}_symbolizeShadedRelief(e,t){const n=this.rendererJSON,r={...n,...t},i=Qte(e,r);if(!n.colorRamp)return i;let o;if(this._isLUTChanged(!0)){if(!this.bind().success)return i;o=this.lookup?this.lookup.hsvMap:null}else o=this.lookup?this.lookup.hsvMap:null;if(!o)return i;const s=this.rasterInfo.statistics?.[0]??{min:0,max:8e3};return ene(i,e,o,s),i}_isVectorFieldData(){const{bandCount:e,dataType:t}=this.rasterInfo;return 2===e&&("vector-magdir"===t||"vector-uv"===t)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(e){const{bandCount:t,attributeTable:n,pixelType:r}=this.rasterInfo,i=e.field1;if(!i)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const o=e.defaultSymbol,s=1===t&&["u8","s8"].includes(r);if(!Qee(this.rasterInfo,i)&&!s)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const a=[];if(null!=n){const t=n.fields.find((e=>"value"===e.name.toLowerCase()));if(!t)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};n.features.forEach((n=>{const r=e.uniqueValueInfos?.find((e=>String(e.value)===String(n.attributes[i]))),s=r?.symbol?.color;s?a.push([n.attributes[t.name]].concat(s)):o&&a.push([n.attributes[t.name]].concat(o.color))}))}else{if("value"!==i.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not available.'};e.uniqueValueInfos?.forEach((e=>{const t=e?.symbol?.color;t?a.push([parseInt(""+e.value,10)].concat(t)):o&&a.push([parseInt(""+e.value,10)].concat(o?.color))}))}if(0===a.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const l=B5({colormap:a});return this.lookup={rendererJSON:e,colormapLut:l},this.canRenderInWebGL=ote(l?.indexedColormap),{success:!0}}_updateColormapRenderer(e){if(!tte(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const t=e.colormapInfos.map((e=>[e.value].concat(e.color))).sort(((e,t)=>e[0]-t[0]));if(!t||0===t.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const n=B5({colormap:t});return this.lookup={rendererJSON:e,colormapLut:n},this.canRenderInWebGL=ote(n?.indexedColormap),{success:!0}}_updateShadedReliefRenderer(e){if(!ete(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(e.colorRamp){const t=N4(e.colorRamp,{interpolateAlpha:!0}),n=B5({colormap:t}),r=P4(n.indexedColormap);this.lookup={rendererJSON:e,colormapLut:n,hsvMap:r}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(e){const{attributeTable:t,pixelType:n}=this.rasterInfo,r=null!=t?t.fields.find((e=>"value"===e.name.toLowerCase())):null,i=null!=t?t.fields.find((t=>t.name.toLowerCase()===e.field.toLowerCase())):null,o=null!=r&&null!==i;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(n)||o,tableValueField:r,tableBreakField:i}}_updateClassBreaksRenderer(e){const{attributeTable:t}=this.rasterInfo,{canUseIndexedLUT:n,tableValueField:r,tableBreakField:i}=this._analyzeClassBreaks(e),o=e.classBreakInfos;if(!o?.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const s=o.sort(((e,t)=>e.classMaxValue-t.classMaxValue)),a=s[s.length-1];let l=e.minValue;if(!n){const t=[];for(let e=0;e<s.length;e++)t.push({value:s[e].classMinValue??l,mappedColor:s[e].symbol.color}),l=s[e].classMaxValue;return t.push({value:a.classMaxValue,mappedColor:a.symbol.color}),this.lookup={rendererJSON:e,remapLut:t},this.canRenderInWebGL=!1,{success:!0}}const c=[];if(null!=t&&null!=r&&null!==i&&r!==i){const n=r.name,o=i.name,a=s[s.length-1],{classMaxValue:u}=a;l=e.minValue;for(const e of t.features){const t=e.attributes[n],r=e.attributes[o],i=r===u?a:r<l?null:s.find((({classMaxValue:e})=>e>r));i&&c.push([t].concat(i.symbol.color))}}else{l=Math.floor(e.minValue);for(let e=0;e<s.length;e++){const t=s[e];for(let e=l;e<t.classMaxValue;e++)c.push([e].concat(t.symbol.color));l=Math.ceil(t.classMaxValue)}a.classMaxValue===l&&c.push([a.classMaxValue].concat(a.symbol.color))}const u=B5({colormap:c,fillUnspecified:!1});return this.lookup={rendererJSON:e,colormapLut:u},this.canRenderInWebGL=ote(u?.indexedColormap),{success:!0}}_updateStretchRenderer(e){let{stretchType:t,dra:n}=e;if(!("none"===t||e.statistics?.length||lne(this.rasterInfo.statistics)||n))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const r=e.histograms||this.rasterInfo.histograms;!ane(e.stretchType)||r?.length||n||(t="minMax");const{computeGamma:i,useGamma:o,colorRamp:s}=e;let{gamma:a}=e;if(o&&i&&!a?.length){const t=e.statistics?.length?e.statistics:this.rasterInfo.statistics;a=jte(this.rasterInfo.pixelType,t)}const l=this.rasterInfo.pixelType,c=!n&&["u8","u16","s8","s16"].includes(l);if("histogramEqualization"===t){const t=r.map((e=>Pte(e)));this.lookup={rendererJSON:e,histogramLut:t}}else if(c){const t=$te(e,{rasterInfo:this.rasterInfo}),n=Dte({pixelType:l,...t,gamma:o?a:null,rounding:"floor"});this.lookup={rendererJSON:e,stretchLut:n}}if(s&&!une(s)){const t=N4(s,{interpolateAlpha:!0});this.lookup||(this.lookup={rendererJSON:e}),this.lookup.colormapLut=B5({colormap:t}),this.lookup.rendererJSON=e}return this.lookup.gamma=o&&a?.length?a:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(e,t,n){let r=null,i=null;const o=this.lookup?.colormapLut;t.colorRamp&&o&&(r=o.indexedColormap,i=o.offset),"histogramEqualization"===t.stretchType&&(t={...t,stretchType:"minMax"});const{gamma:s}=this.lookup,a=!(!t.useGamma||!s?.some((e=>1!==e))),{minCutOff:l,maxCutOff:c,outMin:u,outMax:h}=$te(t,{rasterInfo:this.rasterInfo,pixelBlock:e,bandIds:n});let p=0;null!=e&&(p=e.getPlaneCount(),2===p&&((e=e.clone()).statistics=[e.statistics[0]],e.pixels=[e.pixels[0]]));const{bandCount:d}=this.rasterInfo,f=Math.min(3,n?.length||p||d,d),m=new Float32Array(f),y=r||a?1:255;let g;for(g=0;g<l.length;g++)m[g]=c[g]===l[g]?0:(h-u)/(c[g]-l[g])/y;const v=new Float32Array(f);if(a&&s)for(g=0;g<f;g++)s[g]>1?s[g]>2?v[g]=6.5+(s[g]-2)**2.5:v[g]=6.5+100*(2-s[g])**4:v[g]=1;return{bandCount:f,outMin:u/y,outMax:h/y,minCutOff:l,maxCutOff:c,factor:m,useGamma:a,gamma:a?s:[1,1,1],gammaCorrection:a?v:[1,1,1],colormap:r,colormapOffset:i,stretchType:t.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(e,t=!1,n={x:0,y:0}){let r=null,i=null;const o=this.lookup?.colormapLut;e.colorRamp&&o&&(r=o.indexedColormap,i=o.offset);const s={...e,isGCS:t,resolution:n},a=Xte(s),l=this.rasterInfo.statistics?.[0];return{...a,minValue:l?.min??0,maxValue:l?.max??8e3,hillshadeType:"traditional"===e.hillshadeType?0:1,type:"hillshade",colormap:r,colormapOffset:i}}_generateVectorFieldWebGLParams(e){const{style:t,inputUnit:n,outputUnit:r,visualVariables:i,symbolTileSize:o,flowRepresentation:s}=e;let a;const l=this.rasterInfo.statistics?.[0].min??0,c=this.rasterInfo.statistics?.[0].max??50,u=i?.find((e=>"sizeInfo"===e.type))??{type:"sizeInfo",field:"Magnitude",maxDataValue:c,maxSize:.8*o,minDataValue:l,minSize:.2*o},h=u.minDataValue??l,p=u.maxDataValue??c,d=null!=u.maxSize&&null!=u.minSize?[u.minSize/o,u.maxSize/o]:[.2,.8];if("wind_speed"===t){const e=(d[0]+d[1])/2;d[0]=d[1]=e}const f=null!=h&&null!=p?[h,p]:null;if("classified_arrow"===t)if(null!=h&&null!=p&&null!=u){a=[];const e=(u.maxDataValue-u.minDataValue)/5;for(let t=0;t<6;t++)a.push(u.minDataValue+e*t)}else a=[0,1e-6,3.5,7,10.5,14];const m="flow_to"===s==("ocean_current_kn"===t||"ocean_current_m"===t)?0:Math.PI,y=i?.find((e=>"rotationInfo"===e.type));return{breakValues:a,dataRange:f,inputUnit:n,outputUnit:r,symbolTileSize:o,symbolPercentRange:d,style:t||"single_arrow",rotation:m,rotationType:this.rasterInfo.storageInfo?.tileInfo&&"vector-uv"===this.rasterInfo.dataType?"geographic":y?.rotationType||e.rotationType,type:"vectorField"}}};S([To({json:{write:!0}})],one.prototype,"rendererJSON",void 0),S([To({type:Y9,json:{write:!0}})],one.prototype,"rasterInfo",void 0),S([To({json:{write:!0}})],one.prototype,"lookup",void 0),S([To()],one.prototype,"canRenderInWebGL",void 0),one=S([gs("esri.renderers.support.RasterSymbolizer")],one);const sne=one;function ane(e){return"percentClip"===e||"histogramEqualization"===e}function lne(e){return null!=e&&e.length>0&&null!=e[0].min&&null!=e[0].max}function cne(e){return G5(e)&&0!==e.validPixelCount}function une(e){return"algorithmic"===e.type&&["0,0,0,255","0,0,0"].includes(e.fromColor.join(","))&&["255,255,255,255","255,255,255"].includes(e.toColor.join(","))}let hne=class extends(_v(Hs)){constructor(){super(...arguments),this.fromGeometry=null,this.toGeometry=null,this.objectIds=null,this.where=null,this.maxCount=null}};S([To({type:sd,json:{read:!0}})],hne.prototype,"fromGeometry",void 0),S([To({type:sd,json:{read:!0,write:!0}})],hne.prototype,"toGeometry",void 0),S([To({json:{write:!0}})],hne.prototype,"objectIds",void 0),S([To({type:String,json:{write:!0}})],hne.prototype,"where",void 0),S([To({type:Number,json:{write:!0}})],hne.prototype,"maxCount",void 0),hne=S([gs("esri.rest.support.FindImagesParameters")],hne);const pne=hne,dne=e=>{let t=class extends e{constructor(){super(...arguments),this.make=null,this.model=null,this.focalLength=null,this.pixelSize=null,this.rows=null,this.cols=null}};return S([To({json:{write:!0}})],t.prototype,"make",void 0),S([To({json:{write:!0}})],t.prototype,"model",void 0),S([To({json:{write:!0}})],t.prototype,"focalLength",void 0),S([To({json:{write:!0}})],t.prototype,"pixelSize",void 0),S([To({json:{write:!0}})],t.prototype,"rows",void 0),S([To({json:{write:!0}})],t.prototype,"cols",void 0),t=S([gs("esri.rest.support.CameraInfoMixin")],t),t};let fne=class extends(dne(Hs)){constructor(){super(...arguments),this.id=null,this.referenceUri=null,this.acquisitionDate=null,this.cameraID=null,this.center=null,this.perspectiveCenter=null,this.orientation=null}writeAcquisitionDate(e,t){t.acquisitionDate=e?.getTime()}};S([To({json:{write:!0}})],fne.prototype,"id",void 0),S([To({json:{name:"uri",write:!0}})],fne.prototype,"referenceUri",void 0),S([To({type:Date,json:{write:!0}})],fne.prototype,"acquisitionDate",void 0),S([su("acquisitionDate")],fne.prototype,"writeAcquisitionDate",null),S([To({json:{write:!0}})],fne.prototype,"cameraID",void 0),S([To({type:sd,json:{write:!0}})],fne.prototype,"center",void 0),S([To({type:sd,json:{write:!0}})],fne.prototype,"perspectiveCenter",void 0),S([To({json:{write:!0}})],fne.prototype,"orientation",void 0),fne=S([gs("esri.rest.support.ImageInspectionInfo")],fne);const mne=fne;let yne=class extends Hs{constructor(){super(...arguments),this.images=null}};S([To({type:[mne],json:{write:!0}})],yne.prototype,"images",void 0),yne=S([gs("esri.rest.support.FindImagesResult")],yne);const gne=yne;var vne;let bne=vne=class extends Hs{constructor(e){super(e),this.angleNames=null,this.point=null,this.spatialReference=null,this.rasterId=null}clone(){return new vne(_e({angleNames:this.angleNames,point:this.point,spatialReference:this.spatialReference,rasterId:this.rasterId}))}};S([To({type:[String],json:{name:"angleName",write:!0}})],bne.prototype,"angleNames",void 0),S([To({type:sd,json:{write:!0}})],bne.prototype,"point",void 0),S([To({type:Ip,json:{write:!0}})],bne.prototype,"spatialReference",void 0),S([To({type:yo,json:{write:!0}})],bne.prototype,"rasterId",void 0),bne=vne=S([gs("esri.rest.support.ImageAngleParameters")],bne);const wne=bne;let _ne=class extends Hs{constructor(e){super(e),this.north=null,this.up=null,this.spatialReference=null}};S([To({type:Number,json:{write:!0}})],_ne.prototype,"north",void 0),S([To({type:Number,json:{write:!0}})],_ne.prototype,"up",void 0),S([To({type:Ip,json:{write:!0}})],_ne.prototype,"spatialReference",void 0),_ne=S([gs("esri.rest.support.ImageAngleResult")],_ne);const xne=_ne,Sne=new au({esriMensurationPoint:"point",esriMensurationCentroid:"centroid",esriMensurationDistanceAndAngle:"distance-and-angle",esriMensurationAreaAndPerimeter:"area-and-perimeter",esriMensurationHeightFromBaseAndTop:"base-and-top",esriMensurationHeightFromBaseAndTopShadow:"base-and-top-shadow",esriMensurationHeightFromTopAndTopShadow:"top-and-top-shadow",esriMensurationPoint3D:"point-3D",esriMensurationCentroid3D:"centroid-3D",esriMensurationDistanceAndAngle3D:"distance-and-angle-3D",esriMensurationAreaAndPerimeter3D:"area-and-perimeter-3D"});let Tne=class extends Hs{constructor(){super(...arguments),this.type=null,this.measureOperation=null,this.mosaicRule=null,this.pixelSize=null,this.raster=void 0}};var Ene;S([To()],Tne.prototype,"type",void 0),S([To({type:Sne.apiValues,json:{read:Sne.read,write:Sne.write}})],Tne.prototype,"measureOperation",void 0),S([To({type:A9,json:{write:!0}})],Tne.prototype,"mosaicRule",void 0),S([To({type:sd,json:{write:!0}})],Tne.prototype,"pixelSize",void 0),S([To({json:{write:!0}})],Tne.prototype,"raster",void 0),Tne=S([gs("esri.rest.support.BaseImageMeasureParameters")],Tne);let Mne=Ene=class extends Tne{constructor(){super(...arguments),this.type="area-perimeter",this.geometry=null,this.is3D=!1,this.linearUnit="meters",this.areaUnit="square-meters"}writeGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]=e.toJSON())}get measureOperation(){return this.is3D?"area-and-perimeter-3D":"area-and-perimeter"}clone(){return new Ene(_e({geometry:this.geometry,is3D:this.is3D,linearUnit:this.linearUnit,areaUnit:this.areaUnit,mosaicRule:this.mosaicRule,pixelSize:this.pixelSize,raster:this.raster}))}};S([To({types:wv,json:{name:"fromGeometry",read:!0,write:!0}})],Mne.prototype,"geometry",void 0),S([su("geometry")],Mne.prototype,"writeGeometry",null),S([To({type:Sne.apiValues,json:{write:Sne.write}})],Mne.prototype,"measureOperation",null),S([To({json:{read:!0}})],Mne.prototype,"is3D",void 0),S([To({type:String,json:{read:Tp.read,write:Tp.write}})],Mne.prototype,"linearUnit",void 0),S([To({type:String,json:{read:Sp.read,write:Sp.write}})],Mne.prototype,"areaUnit",void 0),Mne=Ene=S([gs("esri.rest.support.ImageAreaParameters")],Mne);const Ane=Mne;let Ine=class extends Hs{constructor(){super(...arguments),this.value=null,this.displayValue=null,this.uncertainty=null}};S([To({type:Number,json:{read:!0,write:!0}})],Ine.prototype,"value",void 0),S([To({type:String,json:{read:!0,write:!0}})],Ine.prototype,"displayValue",void 0),S([To({type:Number,json:{read:!0,write:!0}})],Ine.prototype,"uncertainty",void 0),Ine=S([gs("esri.rest.support.BaseImageMeasureResult.BaseImageMeasureResultValue")],Ine);let Cne=class extends Ine{constructor(){super(...arguments),this.unit=null}};S([To({type:String,json:{read:Tp.read,write:Tp.write}})],Cne.prototype,"unit",void 0),Cne=S([gs("esri.rest.support.BaseImageMeasureResult.ImageMeasureResultLengthValue")],Cne);let One=class extends Ine{constructor(){super(...arguments),this.unit=null}};S([To({type:String,json:{read:Sp.read,write:Sp.write}})],One.prototype,"unit",void 0),One=S([gs("esri.rest.support.BaseImageMeasureResult.ImageMeasureResultAreaValue")],One);let kne=class extends Ine{constructor(){super(...arguments),this.unit=null}};S([To({type:String,json:{read:Ep.read,write:Ep.write}})],kne.prototype,"unit",void 0),kne=S([gs("esri.rest.support.BaseImageMeasureResult.ImageMeasureResultAngleValue")],kne);let Rne=class extends Hs{constructor(){super(...arguments),this.name=null,this.sensorName=null}};S([To({type:String,json:{read:!0,write:!0}})],Rne.prototype,"name",void 0),S([To({type:String,json:{read:!0,write:!0}})],Rne.prototype,"sensorName",void 0),Rne=S([gs("esri.rest.support.BaseImageMeasureResult")],Rne);let Lne=class extends Rne{constructor(){super(...arguments),this.area=null,this.perimeter=null}};S([To({type:One,json:{read:!0,write:!0}})],Lne.prototype,"area",void 0),S([To({type:Cne,json:{read:!0,write:!0}})],Lne.prototype,"perimeter",void 0),Lne=S([gs("esri.rest.support.ImageAreaResult")],Lne);const Nne=Lne;let Pne=class extends(_v(Hs)){constructor(){super(...arguments),this.outSpatialReference=null}};S([To({type:Ip,json:{name:"outSR",write:!0}})],Pne.prototype,"outSpatialReference",void 0),Pne=S([gs("esri.rest.support.ImageBoundaryParameters")],Pne);const Dne=Pne;let Fne=class extends Hs{constructor(){super(...arguments),this.area=null,this.geometry=null}readGeometry(e,t){return null==e?null:e.rings?nv.fromJSON(e):Gd.fromJSON(e)}};S([To({type:Number,json:{write:!0}})],Fne.prototype,"area",void 0),S([To({json:{name:"shape",write:!0}})],Fne.prototype,"geometry",void 0),S([Cp("geometry")],Fne.prototype,"readGeometry",null),Fne=S([gs("esri.rest.support.ImageBoundaryResult")],Fne);const jne=Fne;var Une;let zne=Une=class extends Tne{constructor(){super(...arguments),this.type="distance-angle",this.fromGeometry=null,this.toGeometry=null,this.is3D=!1,this.linearUnit="meters",this.angularUnit="degrees"}writeFromGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]=e.toJSON())}get measureOperation(){return this.is3D?"distance-and-angle-3D":"distance-and-angle"}clone(){return new Une(_e({fromGeometry:this.fromGeometry,toGeometry:this.toGeometry,is3D:this.is3D,linearUnit:this.linearUnit,angularUnit:this.angularUnit,mosaicRule:this.mosaicRule,pixelSize:this.pixelSize,raster:this.raster}))}};S([To({type:sd,json:{read:!0,write:!0}})],zne.prototype,"fromGeometry",void 0),S([su("fromGeometry")],zne.prototype,"writeFromGeometry",null),S([To({type:sd,json:{read:!0,write:!0}})],zne.prototype,"toGeometry",void 0),S([To({type:Sne.apiValues,json:{write:Sne.write}})],zne.prototype,"measureOperation",null),S([To({json:{read:!0}})],zne.prototype,"is3D",void 0),S([To({type:String,json:{read:Tp.read,write:Tp.write}})],zne.prototype,"linearUnit",void 0),S([To({type:String,json:{read:Ep.read,write:Ep.write}})],zne.prototype,"angularUnit",void 0),zne=Une=S([gs("esri.rest.support.ImageDistanceParameters")],zne);const Gne=zne;let Vne=class extends Rne{constructor(){super(...arguments),this.distance=null,this.azimuthAngle=null,this.elevationAngle=null}};S([To({type:Cne,json:{read:!0,write:!0}})],Vne.prototype,"distance",void 0),S([To({type:kne,json:{read:!0,write:!0}})],Vne.prototype,"azimuthAngle",void 0),S([To({type:kne,json:{read:!0,write:!0}})],Vne.prototype,"elevationAngle",void 0),Vne=S([gs("esri.rest.support.ImageDistanceResult")],Vne);const Bne=Vne;let $ne=class extends(_v(Hs)){constructor(){super(...arguments),this.geometry=null,this.objectIds=null,this.spatialRelationship="intersects",this.timeExtent=null,this.where=null}writeGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]=JSON.stringify(e.toJSON()))}};S([To({types:wv,json:{read:fv,write:!0}})],$ne.prototype,"geometry",void 0),S([su("geometry")],$ne.prototype,"writeGeometry",null),S([To({json:{write:!0}})],$ne.prototype,"objectIds",void 0),S([WM(wX,{ignoreUnknown:!1,name:"spatialRel"})],$ne.prototype,"spatialRelationship",void 0),S([To({type:MH,json:{name:"time",write:!0}})],$ne.prototype,"timeExtent",void 0),S([To({type:String,json:{write:!0}})],$ne.prototype,"where",void 0),$ne=S([gs("esri.rest.support.ImageGPSInfoParameters")],$ne);const Hne=$ne;let Wne=class extends(dne(Hs)){constructor(){super(...arguments),this.id=null}};S([To({json:{write:!0}})],Wne.prototype,"id",void 0),Wne=S([gs("esri.rest.support.CameraInfo")],Wne);const qne=Wne;let Zne=class extends Hs{constructor(){super(...arguments),this.id=null,this.name=null,this.acquisitionDate=null,this.cameraID=null,this.center=null,this.gps=null,this.orientation=null}writeAcquisitionDate(e,t){t.acquisitionDate=e?.getTime()}};S([To({json:{write:!0}})],Zne.prototype,"id",void 0),S([To({json:{write:!0}})],Zne.prototype,"name",void 0),S([To({type:Date,json:{write:!0}})],Zne.prototype,"acquisitionDate",void 0),S([su("acquisitionDate")],Zne.prototype,"writeAcquisitionDate",null),S([To({json:{write:!0}})],Zne.prototype,"cameraID",void 0),S([To({type:sd,json:{write:!0}})],Zne.prototype,"center",void 0),S([To({json:{write:!0}})],Zne.prototype,"gps",void 0),S([To({json:{write:!0}})],Zne.prototype,"orientation",void 0),Zne=S([gs("esri.rest.support.ImageGPSInfo")],Zne);const Yne=Zne;let Xne=class extends Hs{constructor(){super(...arguments),this.images=null,this.cameras=null}};S([To({type:[Yne],json:{write:!0}})],Xne.prototype,"images",void 0),S([To({type:[qne],json:{write:!0}})],Xne.prototype,"cameras",void 0),Xne=S([gs("esri.rest.support.ImageGPSInfoResult")],Xne);const Jne=Xne;var Kne;let Qne=Kne=class extends Tne{constructor(){super(...arguments),this.type="height",this.fromGeometry=null,this.toGeometry=null,this.operationType="base-and-top",this.linearUnit="meters"}writeFromGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]=e.toJSON())}get measureOperation(){return this.operationType}clone(){return new Kne(_e({fromGeometry:this.fromGeometry,toGeometry:this.toGeometry,operationType:this.operationType,linearUnit:this.linearUnit,mosaicRule:this.mosaicRule,pixelSize:this.pixelSize,raster:this.raster}))}};S([To({type:sd,json:{read:!0}})],Qne.prototype,"fromGeometry",void 0),S([su("fromGeometry")],Qne.prototype,"writeFromGeometry",null),S([To({type:sd,json:{read:!0,write:!0}})],Qne.prototype,"toGeometry",void 0),S([To({type:Sne.apiValues,json:{write:Sne.write}})],Qne.prototype,"measureOperation",null),S([To({json:{read:!0}})],Qne.prototype,"operationType",void 0),S([To({type:String,json:{read:Tp.read,write:Tp.write}})],Qne.prototype,"linearUnit",void 0),Qne=Kne=S([gs("esri.rest.support.ImageHeightParameters")],Qne);const ere=Qne;let tre=class extends Rne{constructor(){super(...arguments),this.height=null}};S([To({type:Cne,json:{read:!0,write:!0}})],tre.prototype,"height",void 0),tre=S([gs("esri.rest.support.ImageHeightResult")],tre);const nre=tre;var rre;let ire=rre=class extends Hs{constructor(){super(...arguments),this.geometry=null,this.mosaicRule=null,this.rasterFunction=null,this.pixelSize=null,this.raster=void 0,this.timeExtent=null}writeGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]=e.toJSON())}clone(){return new rre(_e({geometry:this.geometry,mosaicRule:this.mosaicRule,rasterFunction:this.rasterFunction,pixelSize:this.pixelSize,raster:this.raster,timeExtent:this.timeExtent}))}};S([To({types:wv,json:{read:fv}})],ire.prototype,"geometry",void 0),S([su("geometry")],ire.prototype,"writeGeometry",null),S([To({type:A9,json:{write:!0}})],ire.prototype,"mosaicRule",void 0),S([To({type:e9,json:{write:!0,name:"renderingRule"}})],ire.prototype,"rasterFunction",void 0),S([To({type:sd,json:{write:!0}})],ire.prototype,"pixelSize",void 0),S([To({json:{write:!0}})],ire.prototype,"raster",void 0),S([To({type:MH,json:{read:{source:"time"},write:{target:"time"}}})],ire.prototype,"timeExtent",void 0),ire=rre=S([gs("esri.rest.support.ImageHistogramParameters")],ire);const ore=ire;var sre;let are=sre=class extends Hs{constructor(){super(...arguments),this.geometry=null,this.rasterFunctions=null,this.pixelSize=null,this.returnGeometry=!0,this.returnCatalogItems=!0,this.returnPixelValues=!0,this.maxItemCount=null,this.timeExtent=null,this.raster=void 0,this.viewId=void 0,this.processAsMultidimensional=!1}writeGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]=JSON.stringify(e.toJSON()))}set mosaicRule(e){let t=e;t?.mosaicMethod&&(t=A9.fromJSON({...t.toJSON(),mosaicMethod:t.mosaicMethod,mosaicOperation:t.mosaicOperation})),this._set("mosaicRule",t)}writeMosaicRule(e,t,n){null!=e&&(t[n]=JSON.stringify(e.toJSON()))}set rasterFunction(e){let t=e;t?.rasterFunction&&(t=e9.fromJSON({...t.toJSON(),rasterFunction:t.rasterFunction,rasterFunctionArguments:t.rasterFunctionArguments})),this._set("rasterFunction",t)}writeRasterFunction(e,t,n){null!=e&&(t[n]=JSON.stringify(e.toJSON())),e.rasterFunctionDefinition&&(t[n]=JSON.stringify(e.rasterFunctionDefinition))}writeRasterFunctions(e,t,n){null!=e&&(t[n]=JSON.stringify(e.map((e=>e.rasterFunctionDefinition||e.toJSON()))))}writePixelSize(e,t,n){null!=e&&(t[n]=JSON.stringify(e))}writeTimeExtent(e,t,n){if(null!=e){const r=null!=e.start?e.start.getTime():null,i=null!=e.end?e.end.getTime():null;t[n]=null!=r?null!=i?`${r},${i}`:`${r}`:null}}clone(){return new sre(_e({geometry:this.geometry,mosaicRule:this.mosaicRule,rasterFunction:this.rasterFunction,rasterFunctions:this.rasterFunctions,pixelSize:this.pixelSize,returnGeometry:this.returnGeometry,returnCatalogItems:this.returnCatalogItems,returnPixelValues:this.returnPixelValues,maxItemCount:this.maxItemCount,processAsMultidimensional:this.processAsMultidimensional,raster:this.raster,viewId:this.viewId,timeExtent:this.timeExtent}))}};S([To({json:{write:!0}})],are.prototype,"geometry",void 0),S([su("geometry")],are.prototype,"writeGeometry",null),S([To({type:A9,json:{write:!0}})],are.prototype,"mosaicRule",null),S([su("mosaicRule")],are.prototype,"writeMosaicRule",null),S([To({type:e9,json:{write:!0,name:"renderingRule"}})],are.prototype,"rasterFunction",null),S([su("rasterFunction")],are.prototype,"writeRasterFunction",null),S([To({type:[e9],json:{write:!0,name:"renderingRules"}})],are.prototype,"rasterFunctions",void 0),S([su("rasterFunctions")],are.prototype,"writeRasterFunctions",null),S([To({type:sd,json:{write:!0}})],are.prototype,"pixelSize",void 0),S([su("pixelSize")],are.prototype,"writePixelSize",null),S([To({type:Boolean,json:{write:!0}})],are.prototype,"returnGeometry",void 0),S([To({type:Boolean,json:{write:!0}})],are.prototype,"returnCatalogItems",void 0),S([To({type:Boolean,json:{write:!0}})],are.prototype,"returnPixelValues",void 0),S([To({type:Number,json:{write:!0}})],are.prototype,"maxItemCount",void 0),S([To({type:MH,json:{write:{target:"time"}}})],are.prototype,"timeExtent",void 0),S([su("timeExtent")],are.prototype,"writeTimeExtent",null),S([To({json:{write:!0}})],are.prototype,"raster",void 0),S([To({json:{write:!0}})],are.prototype,"viewId",void 0),S([To({type:Boolean,json:{write:!0}})],are.prototype,"processAsMultidimensional",void 0),are=sre=S([gs("esri.rest.support.ImageIdentifyParameters")],are);const lre=are;let cre=class extends Hs{constructor(){super(...arguments),this.catalogItemVisibilities=null,this.catalogItems=null,this.location=null,this.name=null,this.objectId=null,this.processedValues=null,this.properties=null,this.value=null}};S([To({json:{write:!0}})],cre.prototype,"catalogItemVisibilities",void 0),S([To({type:tq,json:{write:!0}})],cre.prototype,"catalogItems",void 0),S([To({type:sd,json:{write:!0}})],cre.prototype,"location",void 0),S([To({json:{write:!0}})],cre.prototype,"name",void 0),S([To({json:{write:!0}})],cre.prototype,"objectId",void 0),S([To({json:{write:!0}})],cre.prototype,"processedValues",void 0),S([To({json:{write:!0}})],cre.prototype,"properties",void 0),S([To({json:{write:!0}})],cre.prototype,"value",void 0),cre=S([gs("esri.rest.support.ImageIdentifyResult")],cre);const ure=cre;var hre;let pre=hre=class extends Hs{constructor(){super(...arguments),this.geometries=null,this.rasterId=null}writeGeometry(e,t,n){t.geometries={geometryType:"esriGeometryPoint",geometries:e.map((e=>e.toJSON()))}}clone(){return new hre({geometries:this.geometries?.map((e=>e.clone()))??[],rasterId:this.rasterId})}};S([To({type:[sd],json:{write:!0}})],pre.prototype,"geometries",void 0),S([su("geometries")],pre.prototype,"writeGeometry",null),S([To({type:yo,json:{write:!0}})],pre.prototype,"rasterId",void 0),pre=hre=S([gs("esri.rest.support.ImagePixelLocationParameters")],pre);const dre=pre;let fre=class extends Hs{constructor(){super(...arguments),this.geometries=null}};S([To({json:{write:!0}})],fre.prototype,"geometries",void 0),fre=S([gs("esri.rest.support.ImagePixelLocationResult")],fre);const mre=fre;var yre;let gre=yre=class extends Tne{constructor(){super(...arguments),this.type="point",this.geometry=null,this.is3D=!1}writeGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]=e.toJSON())}get measureOperation(){const{is3D:e,geometry:t}=this;return"point"===t.type?e?"point-3D":"point":e?"centroid-3D":"centroid"}clone(){return new yre(_e({geometry:this.geometry,is3D:this.is3D,mosaicRule:this.mosaicRule,pixelSize:this.pixelSize,raster:this.raster}))}};S([To({types:wv,json:{name:"fromGeometry",read:fv}})],gre.prototype,"geometry",void 0),S([su("geometry")],gre.prototype,"writeGeometry",null),S([To({type:Sne.apiValues,json:{read:Sne.read,write:Sne.write}})],gre.prototype,"measureOperation",null),S([To({json:{read:!0}})],gre.prototype,"is3D",void 0),gre=yre=S([gs("esri.rest.support.ImagePointParameters")],gre);const vre=gre;let bre=class extends Rne{constructor(){super(...arguments),this.point=null}};S([To({type:sd,json:{name:"point.value",read:!0,write:!0}})],bre.prototype,"point",void 0),bre=S([gs("esri.rest.support.ImagePointResult")],bre);const wre=bre;var _re;let xre=_re=class extends Hs{constructor(){super(...arguments),this.geometry=null,this.interpolation="nearest",this.mosaicRule=null,this.outFields=null,this.pixelSize=null,this.returnFirstValueOnly=!0,this.sampleDistance=null,this.sampleCount=null,this.sliceId=null,this.timeExtent=null}writeGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]=e.toJSON())}set locations(e){if(e?.length){const t=new Sy({spatialReference:e[0].spatialReference,points:e.map((({x:e,y:t})=>[e,t]))});this._set("locations",e),this.geometry=t}}clone(){return new _re(_e({geometry:this.geometry,locations:this.locations,interpolation:this.interpolation,mosaicRule:this.mosaicRule,outFields:this.outFields,raster:this.raster,returnFirstValueOnly:this.returnFirstValueOnly,sampleDistance:this.sampleDistance,sampleCount:this.sampleCount,sliceId:this.sliceId,pixelSize:this.pixelSize,timeExtent:this.timeExtent}))}};S([To({types:wv,json:{read:fv}})],xre.prototype,"geometry",void 0),S([su("geometry")],xre.prototype,"writeGeometry",null),S([To()],xre.prototype,"locations",null),S([To({type:String,json:{type:k8.jsonValues,read:k8.read,write:k8.write}})],xre.prototype,"interpolation",void 0),S([To({type:A9,json:{write:!0}})],xre.prototype,"mosaicRule",void 0),S([To({type:[String],json:{write:!0}})],xre.prototype,"outFields",void 0),S([To({type:sd,json:{write:!0}})],xre.prototype,"pixelSize",void 0),S([To({type:String,json:{write:!0}})],xre.prototype,"raster",void 0),S([To({type:Boolean,json:{write:!0}})],xre.prototype,"returnFirstValueOnly",void 0),S([To({type:Number,json:{write:!0}})],xre.prototype,"sampleDistance",void 0),S([To({type:Number,json:{write:!0}})],xre.prototype,"sampleCount",void 0),S([To({type:Number,json:{write:!0}})],xre.prototype,"sliceId",void 0),S([To({type:MH,json:{read:{source:"time"},write:{target:"time"}}})],xre.prototype,"timeExtent",void 0),xre=_re=S([gs("esri.rest.support.ImageSampleParameters")],xre);const Sre=xre;let Tre=class extends Hs{constructor(){super(...arguments),this.attributes=null,this.location=null,this.locationId=null,this.rasterId=null,this.resolution=null,this.pixelValue=null}};S([To({json:{write:!0}})],Tre.prototype,"attributes",void 0),S([To({type:sd,json:{write:!0}})],Tre.prototype,"location",void 0),S([To({json:{write:!0}})],Tre.prototype,"locationId",void 0),S([To({json:{write:!0}})],Tre.prototype,"rasterId",void 0),S([To({json:{write:!0}})],Tre.prototype,"resolution",void 0),S([To({json:{write:!0}})],Tre.prototype,"pixelValue",void 0),Tre=S([gs("esri.rest.support.ImageSample")],Tre);const Ere=Tre;let Mre=class extends Hs{constructor(){super(...arguments),this.samples=null}};S([To({type:[Ere],json:{write:!0}})],Mre.prototype,"samples",void 0),Mre=S([gs("esri.rest.support.ImageSampleResult")],Mre);const Are=Mre;let Ire=class extends(_v(Hs)){constructor(){super(...arguments),this.geometries=[],this.rasterIds=null,this.outSpatialReference=null}writeGeometries(e,t,n){t.geometries=e?.length?{geometryType:mv(e[0]),geometries:e.map((e=>({...e.toJSON(),spatialReference:void 0})))}:null}};S([To({types:[wv]})],Ire.prototype,"geometries",void 0),S([su("geometries")],Ire.prototype,"writeGeometries",null),S([To({type:[yo],json:{write:!0}})],Ire.prototype,"rasterIds",void 0),S([To({type:Ip,json:{name:"outSR",write:!0}})],Ire.prototype,"outSpatialReference",void 0),Ire=S([gs("esri.rest.support.ImageToMapMultirayParameters")],Ire);const Cre=Ire;let Ore=class extends(_v(Hs)){constructor(){super(...arguments),this.geometry=null,this.rasterId=null,this.outSpatialReference=null,this.depthOffset=0,this.adjust=!1}writeGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]={...e.toJSON(),spatialReference:void 0})}};S([To({types:wv,json:{read:fv,write:!0}})],Ore.prototype,"geometry",void 0),S([su("geometry")],Ore.prototype,"writeGeometry",null),S([To({json:{write:!0}})],Ore.prototype,"rasterId",void 0),S([To({type:Ip,json:{name:"outSR",write:!0}})],Ore.prototype,"outSpatialReference",void 0),S([To({json:{name:"options.DOff",write:!0}})],Ore.prototype,"depthOffset",void 0),S([To({json:{name:"options.Adjust",write:!0}})],Ore.prototype,"adjust",void 0),Ore=S([gs("esri.rest.support.ImageToMapParameters")],Ore);const kre=Ore;let Rre=class extends(_v(Hs)){constructor(){super(...arguments),this.referenceUri=null,this.rasterId=null}};S([To({type:String,json:{name:"uri",write:!0}})],Rre.prototype,"referenceUri",void 0),S([To({type:Number,json:{write:!0}})],Rre.prototype,"rasterId",void 0),Rre=S([gs("esri.rest.support.ImageUrlParameters")],Rre);const Lre=Rre;let Nre=class extends Hs{constructor(){super(...arguments),this.url=null}};S([To({json:{name:"imageURL",write:!0}})],Nre.prototype,"url",void 0),Nre=S([gs("esri.rest.support.ImageUrlResult")],Nre);const Pre=Nre;let Dre=class extends(_v(Hs)){constructor(){super(...arguments),this.geometry=null,this.rasterId=null,this.visibleOnly=!1}writeGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]=JSON.stringify(e))}};S([To({types:wv,json:{read:fv,write:!0}})],Dre.prototype,"geometry",void 0),S([su("geometry")],Dre.prototype,"writeGeometry",null),S([To({json:{write:!0}})],Dre.prototype,"rasterId",void 0),S([To({json:{name:"options.VisibleOnly",write:!0}})],Dre.prototype,"visibleOnly",void 0),Dre=S([gs("esri.rest.support.MapToImageParameters")],Dre);const Fre=Dre;let jre=class extends Hs{constructor(){super(...arguments),this.geometry=null,this.length=null,this.area=null,this.center=null}readCenter(e,t){return e.spatialReference||(e={...e,spatialReference:t.Shape.spatialReference}),sd.fromJSON(e)}};S([To({types:wv,json:{name:"Shape",read:fv,write:!0}})],jre.prototype,"geometry",void 0),S([To({json:{name:"Length",write:!0}})],jre.prototype,"length",void 0),S([To({json:{name:"Area",write:!0}})],jre.prototype,"area",void 0),S([To({json:{name:"Center",write:!0}})],jre.prototype,"center",void 0),S([Cp("center")],jre.prototype,"readCenter",null),jre=S([gs("esri.rest.support.MeasureAreaFromImageResult")],jre);const Ure=jre;var zre;let Gre=zre=class extends Hs{constructor(){super(...arguments),this.geometry=null,this.rasterId=void 0}writeGeometry(e,t,n){null!=e&&(t.geometryType=mv(e),t[n]={...e.toJSON(),spatialReference:void 0})}clone(){const e=_e({geometry:this.geometry,rasterId:this.rasterId});return new zre(e)}};S([To({types:wv,json:{name:"fromGeometry",read:fv,write:!0}})],Gre.prototype,"geometry",void 0),S([su("geometry")],Gre.prototype,"writeGeometry",null),S([To({json:{write:!0}})],Gre.prototype,"rasterId",void 0),Gre=zre=S([gs("esri.rest.support.MeasureFromImageParameters")],Gre);const Vre=Gre;let Bre=class extends Hs{constructor(){super(...arguments),this.geometry=null,this.length=null}};S([To({types:wv,json:{name:"Shape",read:fv,write:!0}})],Bre.prototype,"geometry",void 0),S([To({json:{name:"Length",write:!0}})],Bre.prototype,"length",void 0),Bre=S([gs("esri.rest.support.MeasureLengthFromImageResult")],Bre);const $re=Bre;function Hre(e){const t=e?.time;if(t&&(null!=t.start||null!=t.end)){const n=[];null!=t.start&&n.push(t.start),null==t.end||n.includes(t.end)||n.push(t.end),e.time=n.join(",")}}async function Wre(e,t,n){t=no(ore,t);const r=n5(e),i=t.geometry?[t.geometry]:[],o=await g5(i),s=t.toJSON();Hre(s);const a=o?.[0];null!=a&&(s.geometry=aie(a));const l=r5({...r.query,f:"json",...s});return t5(l,n)}async function qre(e,t,n){const r=(t=no(wne,t)).toJSON();null!=r.angleName&&(r.angleName=r.angleName.join(",")),t?.point?.spatialReference?.imageCoordinateSystem&&(r.point.spatialReference=lie(t.point.spatialReference)),t?.spatialReference?.imageCoordinateSystem&&(r.spatialReference=cie(t.spatialReference));const i=n5(e),o=r5({...i.query,f:"json",...r}),s=t5(o,n),{data:a}=await Bl(`${i.path}/computeAngles`,s);return a.spatialReference=a.spatialReference?null!=a.spatialReference.geodataXform?new Ip({wkid:0,imageCoordinateSystem:a.spatialReference}):Ip.fromJSON(a.spatialReference):null,"NaN"===a.north&&(a.north=null),"NaN"===a.up&&(a.up=null),new xne(a)}async function Zre(e,t,n){const r=(t=no(dre,t)).toJSON(),{geometries:i}=t;if(i)for(let c=0;c<i.length;c++)i[c].spatialReference?.imageCoordinateSystem&&(r.geometries.geometries[c].spatialReference=lie(i[c].spatialReference));const o=n5(e),s=r5({...o.query,f:"json",...r}),a=t5(s,n),{data:l}=await Bl(`${o.path}/computePixelLocation`,a);return mre.fromJSON(l)}async function Yre(e,t,n){const r=await Wre(e,t,n),i=n5(e),{data:o}=await Bl(`${i.path}/computeStatisticsHistograms`,r),{statistics:s}=o;return s?.length&&s.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:s,histograms:o.histograms}}async function Xre(e,t,n){const r=await Wre(e,t,n),i=n5(e),{data:o}=await Bl(`${i.path}/computeHistograms`,r);return{histograms:o.histograms}}async function Jre(e,t,n){const r=(t=no(Sre,t)).toJSON();Hre(r),r.outFields?.length&&(r.outFields=r.outFields.join(","));const i=await g5(t.geometry),o=i?.[0];null!=o&&(r.geometry=aie(o));const s=n5(e),a=r5({...s.query,f:"json",...r}),l=t5(a,n),{data:c}=await Bl(`${s.path}/getSamples`,l),u=c?.samples?.map((e=>{const t="NaN"===e.value||""===e.value?null:e.value.split(" ").map((e=>Number(e)));return{...e,pixelValue:t}}));return Are.fromJSON({samples:u})}async function Kre(e,t,n){t=no(lre,t);const r=n5(e),i=t.geometry?[t.geometry]:[];return g5(i).then((e=>{const i=t.toJSON(),o=e?.[0];null!=o&&(i.geometry=JSON.stringify(aie(o)));const s=r5({...r.query,f:"json",...i}),a=t5(s,n);return Bl(r.path+"/identify",a)})).then((e=>ure.fromJSON(e.data)))}async function Qre(e,t,n){t=no(ere,t);const r=await rie(e,t,[t.fromGeometry,t.toGeometry],n);return nre.fromJSON(r)}async function eie(e,t,n){t=no(Ane,t);const r=await rie(e,t,[t.geometry],n);return Nne.fromJSON(r)}async function tie(e,t,n){t=no(vre,t);const r=await rie(e,t,[t.geometry],n);return wre.fromJSON(r)}async function nie(e,t,n){t=no(Gne,t);const r=await rie(e,t,[t.fromGeometry,t.toGeometry],n);return Bne.fromJSON(r)}async function rie(e,t,n,r){const i=n5(e),o=await g5(n),s=t.toJSON();null!=o[0]&&(s.fromGeometry=JSON.stringify(aie(o[0]))),null!=o[1]&&(s.toGeometry=JSON.stringify(aie(o[1])));const a=r5({...i.query,f:"json",...s}),l=t5(a,r),{data:c}=await Bl(i.path+"/measure",l);return c}async function iie(e,t,n){const r=await sie(e,t,n);return $re.fromJSON(r)}async function oie(e,t,n){const r=await sie(e,t,n);return Ure.fromJSON(r)}async function sie(e,t,n){t=no(Vre,t);const r=n5(e),i=t.toJSON(),o=r5({...r.query,f:"json",...i}),s=t5(o,n),{data:a}=await Bl(r.path+"/measureFromImage",s);return a}function aie(e){const t=e.toJSON();return e.spatialReference?.imageCoordinateSystem&&(t.spatialReference=lie(e.spatialReference)),t}function lie(e){const{imageCoordinateSystem:t}=e;if(t){const{id:e,referenceServiceName:n}=t;return null!=e?n?{icsid:e,icsns:n}:{icsid:e}:{ics:t}}return e.toJSON()}function cie(e,t){if(!e.imageCoordinateSystem)return th(e);const n=lie(e),{icsid:r,icsns:i}=n;return null==r||null!=i&&!t?.toLowerCase().includes("/"+i.toLowerCase()+"/")?JSON.stringify(n):`0:${r}`}async function uie(e,t,n){t=no(Dne,t);const r=n5(e),i=t.toJSON();t.outSpatialReference&&(i.outSR=cie(t.outSpatialReference));const o=r5({...r.query,f:"json",...i}),s=t5(o,n),{data:a}=await Bl(r.path+"/queryBoundary",s);return jne.fromJSON(a)}async function hie(e,t,n){const r=(t=no(Hne,t)).toJSON();Hre(r),r.objectIds?.length&&(r.objectIds=r.objectIds.join(",")),r.geometry||r.objectIds||r.time||r.where||(r.where="1=1");const i=await g5(t.geometry),o=i?.[0];null!=o&&(r.geometry=aie(o));const s=o?.spatialReference??t.geometry?.spatialReference;s&&(r.inSR=cie(s));const a=n5(e),l=r5({...a.query,f:"json",...r}),c=t5(l,n),{data:u}=await Bl(`${a.path}/queryGPSInfo`,c);return Jne.fromJSON(u)}async function pie(e,t,n){const r=(t=no(kre,t)).toJSON();t.geometry.spatialReference.imageCoordinateSystem&&(r.geometry=aie(t.geometry)),t.depthOffset&&t.adjust||delete r.options;const i=n5(e),o=r5({...i.query,f:"json",...r}),s=t5(o,n),{data:a}=await Bl(`${i.path}/imageToMap`,s);return fv(a)}async function die(e,t,n){const r=(t=no(Cre,t)).toJSON();t.rasterIds?.length&&(r.rasterIds=t.rasterIds.join(","));const i=n5(e),o=r5({...i.query,f:"json",...r}),s=t5(o,n),{data:a}=await Bl(`${i.path}/imageToMapMultiray`,s);return fv(a)}async function fie(e,t,n){const r=(t=no(Fre,t)).toJSON(),i=await g5(t.geometry),o=i?.[0];null!=o&&(r.geometry=aie(o)),t.visibleOnly||delete r.options;const s=o?.spatialReference??t.geometry?.spatialReference;s&&(r.inSR=cie(s));const a=n5(e),l=r5({...a.query,f:"json",...r}),c=t5(l,n),{data:u}=await Bl(`${a.path}/mapToImage`,c);return fv(u)}async function mie(e,t,n){const r=(t=no(Lre,t)).toJSON(),i=n5(e),o=r5({...i.query,f:"json",...r}),s=t5(o,n),{data:a}=await Bl(`${i.path}/getImageUrl`,s);return Pre.fromJSON(a)}async function yie(e,t,n){const r=(t=no(pne,t)).toJSON(),i=await g5([t.fromGeometry,t.toGeometry]);null!=i[0]&&(r.fromGeometry=aie(i[0]),i[0].spatialReference&&(r.inSR=cie(i[0].spatialReference))),null!=i[1]&&(r.toGeometry=aie(i[1])),t.objectIds?.length&&(r.objectIds=r.objectIds.join(","));const o=n5(e),s=r5({...o.query,f:"json",...r}),a=t5(s,n),{data:l}=await Bl(`${o.path}/find`,a);return gne.fromJSON(l)}async function gie(e,t,n){const r=n5(e),{rasterFunction:i,sourceJSON:o}=t||{},s=i?JSON.stringify(i.rasterFunctionDefinition||i):null,a=r5({...r.query,renderingRule:s,f:"json"}),l=t5(a,n);e=r.path;const c=o||await Bl(e,l).then((e=>e.data)),u=c.hasRasterAttributeTable?Bl(`${e}/rasterAttributeTable`,l):null,h=c.hasColormap?Bl(`${e}/colormap`,l):null,p=c.hasHistograms?Bl(`${e}/histograms`,l):null,d=c.currentVersion>=10.3?Bl(`${e}/keyProperties`,l):null,f=c.hasMultidimensions?Bl(`${e}/multidimensionalInfo`,l):null,m=await Promise.allSettled([u,h,p,d,f]);let y=null;if(c.minValues&&c.minValues.length===c.bandCount){y=[];for(let e=0;e<c.minValues.length;e++)y.push({min:c.minValues[e],max:c.maxValues[e],avg:c.meanValues[e],stddev:c.stdvValues[e]})}const g=Gd.fromJSON(c.extent),v=Math.ceil(g.width/c.pixelSizeX-.1),b=Math.ceil(g.height/c.pixelSizeY-.1),w=Ip.fromJSON(c.spatialReference||c.extent.spatialReference),_="fulfilled"===m[0].status?m[0].value?.data:null,x=_?.features?.length?tq.fromJSON(_):null,S="fulfilled"===m[1].status?m[1].value?.data.colormap:null,T=S?.length?S:null,E="fulfilled"===m[2].status?m[2].value?.data.histograms:null,M=E?.[0]?.counts?.length?E:null,A="fulfilled"===m[3].status?m[3].value?.data??{}:{},I="fulfilled"===m[4].status?m[4].value?.data.multidimensionalInfo:null,C=I?.variables?.length?I:null;C&&C.variables.forEach((e=>{e.statistics?.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation}))}));const{defaultVariable:O,serviceDataType:k}=c;O&&O!==A.DefaultVariable&&(A.DefaultVariable=O),k?.includes("esriImageServiceDataTypeVector")&&!k.includes(A.DataType)&&(A.DataType=k.replace("esriImageServiceDataType",""));let R=c.noDataValue;c.noDataValues?.length&&c.noDataValues.some((e=>e!==R))&&(R=c.noDataValues);const L=c.transposeInfo?new W9({blockWidth:256,blockHeight:256,pyramidBlockWidth:256,pyramidBlockHeight:256,pyramidScalingFactor:2,compression:"lerc",origin:new sd({x:c.extent.xmin,y:c.extent.ymax,spatialReference:w}),firstPyramidLevel:1,maximumPyramidLevel:Math.max(0,Math.round(Math.log(Math.max(v,b))/Math.LN2-8)),transposeInfo:c.transposeInfo}):void 0;return new Y9({width:v,height:b,bandCount:c.bandCount,extent:Gd.fromJSON(c.extent),spatialReference:w,pixelSize:new sd({x:c.pixelSizeX,y:c.pixelSizeY,spatialReference:w}),pixelType:c.pixelType.toLowerCase(),statistics:y,attributeTable:x,colormap:T,histograms:M,keyProperties:A,noDataValue:R,multidimensionalInfo:C,storageInfo:L})}function vie(e,t,n){return gie(e,{sourceJSON:t},n)}function bie(e,t,n){return gie(e,{rasterFunction:t},n)}function wie(e,t){e.attributeTable||(t.hasRasterAttributeTable=!1),e.histograms||(t.hasHistograms=!1),e.colormap||(t.hasColormap=!1),e.multidimensionalInfo||(t.hasMultidimensions=!1)}async function _ie(e,t,n){const r=n5(e),i=r5({...r?.query,f:"json"}),o=t5(i,n),s=`${r?.path}/${t}/info`,a=Bl(`${s}`,o),l=Bl(`${s}/keyProperties`,o),c=await Promise.allSettled([a,l]),u="fulfilled"===c[0].status?c[0].value.data:null,h="fulfilled"===c[1].status?c[1].value.data:null;let p=null;u.statistics?.length&&(p=u.statistics.map((e=>({min:e[0],max:e[1],avg:e[2],stddev:e[3]}))));const d=Gd.fromJSON(u.extent),f=Math.ceil(d.width/u.pixelSizeX-.1),m=Math.ceil(d.height/u.pixelSizeY-.1),y=d.spatialReference,g=new sd({x:u.pixelSizeX,y:u.pixelSizeY,spatialReference:y}),v=u.histograms?.length?u.histograms:null,b=new W9({origin:u.origin,blockWidth:u.blockWidth,blockHeight:u.blockHeight,firstPyramidLevel:u.firstPyramidLevel,maximumPyramidLevel:u.maxPyramidLevel});return new Y9({width:f,height:m,bandCount:u.bandCount,extent:d,spatialReference:y,pixelSize:g,pixelType:u.pixelType.toLowerCase(),statistics:p,histograms:v,keyProperties:h,storageInfo:b})}function xie(e){const t={};for(const n in e){if("declaredClass"===n)continue;const r=e[n];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){t[n]=[];for(let e=0;e<r.length;e++)t[n][e]=xie(r[e])}else"object"==typeof r?r.toJSON&&(t[n]=JSON.stringify(r)):t[n]=r}return t}var Sie;(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(Sie||(Sie={}));const Tie=4294967296,Eie=new TextDecoder("utf-8"),Mie=A("safari")||A("ios")?6:A("ff")?12:32;let Aie=class e{constructor(e,t,n=0,r=(e?e.byteLength:0)){this._tag=0,this._dataType=Sie.unknown,this._init(e,t,n,r)}_init(e,t,n,r){this._data=e,this._dataView=t,this._pos=n,this._end=r}asUnsafe(){return this}clone(){return new e(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(e){this._pos=e}nextTag(e){for(;;){if(this._pos===this._end)return!1;const t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let e=4294967295;if(e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128||(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)||(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)||(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)||(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128))return e;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const e=this.getUInt32();return e>>>1^-(1&e)}getSInt64(){return this._decodeSVarint()}getBool(){const e=0!==this._data[this._pos];return this._skip(1),e}getEnum(){return this._decodeVarint()}getFixed64(){const e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+e.getUint32(t+4,!0)*Tie;return this._skip(8),n}getSFixed64(){const e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+e.getInt32(t+4,!0)*Tie;return this._skip(8),n}getDouble(){const e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e}getFixed32(){const e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e}getSFixed32(){const e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e}getFloat(){const e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e}getString(){const e=this._getLength(),t=this._pos,n=this._toString(this._data,t,t+e);return this._skip(e),n}getBytes(){const e=this._getLength(),t=this._pos,n=this._toBytes(this._data,t,t+e);return this._skip(e),n}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(e,t,n,r){const i=this.getMessage(),o=e(i,t,n,r);return i.release(),o}processMessage(e){const t=this.getMessage(),n=e(t);return t.release(),n}getMessage(){const t=this._getLength(),n=e.pool.acquire();return n._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),n}release(){e.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case Sie.varint:this._decodeVarint();break;case Sie.fixed64:this._skip(8);break;case Sie.delimited:this._skip(this._getLength());break;case Sie.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(e){this._skip(e)}_skip(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e}_decodeVarint(){const e=this._data;let t=this._pos,n=0,r=0;if(this._end-t>=10)do{if(r=e[t++],n|=127&r,!(128&r)||(r=e[t++],n|=(127&r)<<7,!(128&r))||(r=e[t++],n|=(127&r)<<14,!(128&r))||(r=e[t++],n|=(127&r)<<21,!(128&r))||(r=e[t++],n+=268435456*(127&r),!(128&r))||(r=e[t++],n+=34359738368*(127&r),!(128&r))||(r=e[t++],n+=4398046511104*(127&r),!(128&r))||(r=e[t++],n+=562949953421312*(127&r),!(128&r))||(r=e[t++],n+=72057594037927940*(127&r),!(128&r))||(r=e[t++],n+=0x8000000000000000*(127&r),!(128&r)))break;throw new Error("Varint too long!")}while(0);else{let i=1;for(;t!==this._end&&(r=e[t],128&r);)++t,n+=(127&r)*i,i*=128;if(t===this._end)throw new Error("Varint overrun!");++t,n+=r*i}return this._pos=t,n}_decodeSVarint(){const e=this._data;let t,n=0,r=0;const i=1&e[this._pos];if(r=e[this._pos++],n|=127&r,!(128&r)||(r=e[this._pos++],n|=(127&r)<<7,!(128&r))||(r=e[this._pos++],n|=(127&r)<<14,!(128&r))||(r=e[this._pos++],n|=(127&r)<<21,!(128&r))||(r=e[this._pos++],n+=268435456*(127&r),!(128&r))||(r=e[this._pos++],n+=34359738368*(127&r),!(128&r))||(r=e[this._pos++],n+=4398046511104*(127&r),!(128&r)))return i?-(n+1)/2:n/2;if(t=BigInt(n),r=e[this._pos++],t+=0x2000000000000n*BigInt(127&r),!(128&r)||(r=e[this._pos++],t+=0x100000000000000n*BigInt(127&r),!(128&r))||(r=e[this._pos++],t+=0x8000000000000000n*BigInt(127&r),!(128&r)))return Number(i?-(t+1n)/2n:t/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==Sie.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(e,t,n){if((n=Math.min(this._end,n))-t>Mie){const r=e.subarray(t,n);return Eie.decode(r)}let r="",i="";for(let o=t;o<n;++o){const t=e[o];128&t?i+="%"+t.toString(16):(r+=decodeURIComponent(i)+String.fromCharCode(t),i="")}return i.length&&(r+=decodeURIComponent(i)),r}_toBytes(e,t,n){return n=Math.min(this._end,n),new Uint8Array(e.buffer,t,n-t)}};Aie.pool=new Xt(Aie,void 0,(e=>{e._data=null,e._dataView=null}));const Iie=2;let Cie=class e{constructor(e=[],t=[]){this.lengths=e??[],this.coords=t??[]}static fromJSON(t){return new e(t.lengths,t.coords)}static fromRect(t){const[n,r,i,o]=t,s=i-n,a=o-r;return new e([5],[n,r,s,0,0,a,-s,0,0,-a])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)e(this.coords[Iie*(n+t)],this.coords[Iie*(n+t)+1]);t+=r}}deltaDecode(){const e=this.clone(),{coords:t,lengths:n}=e;let r=0;for(const i of n){for(let e=1;e<i;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=i}return e}clone(t){if(0===this.lengths.length)return new e([],[this.coords[0],this.coords[1]]);const n=(0===this.lengths.length?1:this.lengths.reduce(((e,t)=>e+t)))*Iie,r=this.coords.slice(0,n);return t?(t.set(r),new e(this.lengths,t)):new e(Array.from(this.lengths),Array.from(r))}},Oie=class e{constructor(e=null,t={},n,r){this.geometry=e,this.attributes=t,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}static fromJSON(t,n){const r=t.geometry?Cie.fromJSON(t.geometry):null,i=t.centroid?Cie.fromJSON(t.centroid):null,o=t.attributes[n];return new e(r,t.attributes,i,o)}weakClone(){const t=new e(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}clone(){const t=this.geometry?.clone(),n=new e(t,{...this.attributes},this.centroid?.clone(),this.objectId);return n.displayId=this.displayId,n.geohashX=this.geohashX,n.geohashY=this.geohashY,n}};function kie(e){return!!e.geometry?.coords?.length}let Rie=class e{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}};const Lie=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let Nie=class{constructor(e){this._options=e,this.geometryTypes=Lie,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new Rie}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(e){if(!e?.features||!e.hasZ||!this._options.sourceSpatialReference||!e.spatialReference||Qu(e.spatialReference,this._options.sourceSpatialReference)||e.spatialReference.vcsWkid)return;const t=ip(this._options.sourceSpatialReference)/ip(e.spatialReference);if(1!==t)for(const n of e.features){if(!kie(n))continue;const e=n.geometry.coords;for(let n=2;n<e.length;n+=3)e[n]*=t}}addFeature(e,t){e.features.push(t)}createFeature(){return new Oie}createSpatialReference(){return{wkid:0}}createGeometry(){return new Cie}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce(((e,t)=>e+t),0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new Cie}};const Pie=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeBigInteger","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],Die=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],Fie=["upperLeft","lowerLeft"];function jie(e){return e>=Pie.length?null:Pie[e]}function Uie(e){return e>=Die.length?null:Die[e]}function zie(e){return e>=Fie.length?null:Fie[e]}function Gie(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function Vie(e,t,n){const r=e.asUnsafe(),i=t.createPointGeometry(n);for(;r.next();)switch(r.tag()){case 3:{const e=r.getUInt32(),n=r.pos()+e;let o=0;for(;r.pos()<n;)t.addCoordinatePoint(i,r.getSInt64(),o++);break}default:r.skip()}return i}function Bie(e,t,n){const r=e.asUnsafe(),i=t.createGeometry(n),o=2+(n.hasZ?1:0)+(n.hasM?1:0);for(;r.next();)switch(r.tag()){case 2:{const e=r.getUInt32(),n=r.pos()+e;let o=0;for(;r.pos()<n;)t.addLength(i,r.getUInt32(),o++);break}case 3:{const e=r.getUInt32(),n=r.pos()+e;let s=0;for(t.allocateCoordinates(i);r.pos()<n;)t.addCoordinate(i,r.getSInt64(),s),s++,s===o&&(s=0);break}default:r.skip()}return i}function $ie(e){const t=e.asUnsafe(),n=new Cie;let r="esriGeometryPoint";for(;t.next();)switch(t.tag()){case 2:{const e=t.getUInt32(),r=t.pos()+e;for(;t.pos()<r;)n.lengths.push(t.getUInt32());break}case 3:{const e=t.getUInt32(),r=t.pos()+e;for(;t.pos()<r;)n.coords.push(t.getSInt64());break}case 1:r=Lie[t.getEnum()];break;default:t.skip()}return{queryGeometry:n,queryGeometryType:r}}function Hie(e){const t=e.asUnsafe();for(;t.next();)switch(t.tag()){case 1:return t.getString();case 2:return t.getFloat();case 3:return t.getDouble();case 4:return t.getSInt32();case 5:return t.getUInt32();case 6:return t.getInt64();case 7:return t.getUInt64();case 8:return t.getSInt64();case 9:return t.getBool();default:return t.skip(),null}return null}function Wie(e){const t=e.asUnsafe(),n={type:jie(0)};for(;t.next();)switch(t.tag()){case 1:n.name=t.getString();break;case 2:n.type=jie(t.getEnum());break;case 3:n.alias=t.getString();break;case 4:n.sqlType=Uie(t.getEnum());break;case 5:t.skip();break;case 6:n.defaultValue=t.getString();break;default:t.skip()}return n}function qie(e){const t={},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t.name=n.getString();break;case 2:t.isSystemMaintained=n.getBool();break;default:n.skip()}return t}function Zie(e,t,n,r){const i=t.createFeature(n);let o=0;for(;e.next();)switch(e.tag()){case 1:{const t=r[o++].name;i.attributes[t]=e.processMessage(Hie);break}case 2:i.geometry=e.processMessageWithArgs(Bie,t,n);break;case 4:i.centroid=e.processMessageWithArgs(Vie,t,n);break;default:e.skip()}return i}function Yie(e){const t=[1,1,1,1],n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t[0]=n.getDouble();break;case 2:t[1]=n.getDouble();break;case 4:t[2]=n.getDouble();break;case 3:t[3]=n.getDouble();break;default:n.skip()}return t}function Xie(e){const t=[0,0,0,0],n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t[0]=n.getDouble();break;case 2:t[1]=n.getDouble();break;case 4:t[2]=n.getDouble();break;case 3:t[3]=n.getDouble();break;default:n.skip()}return t}function Jie(e){const t={originPosition:zie(0)},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t.originPosition=zie(n.getEnum());break;case 2:t.scale=n.processMessage(Yie);break;case 3:t.translate=n.processMessage(Xie);break;default:n.skip()}return t}function Kie(e){const t={},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t.shapeAreaFieldName=n.getString();break;case 2:t.shapeLengthFieldName=n.getString();break;case 3:t.units=n.getString();break;default:n.skip()}return t}function Qie(e,t){const n=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:n.wkid=e.getUInt32();break;case 5:n.wkt=e.getString();break;case 2:n.latestWkid=e.getUInt32();break;case 3:n.vcsWkid=e.getUInt32();break;case 4:n.latestVcsWkid=e.getUInt32();break;default:e.skip()}return n}function eoe(e,t){const n=t.createFeatureResult(),r=e.asUnsafe();n.geometryType=Gie(t,0);let i=!1;for(;r.next();)switch(r.tag()){case 1:n.objectIdFieldName=r.getString();break;case 3:n.globalIdFieldName=r.getString();break;case 4:n.geohashFieldName=r.getString();break;case 5:n.geometryProperties=r.processMessage(Kie);break;case 7:n.geometryType=Gie(t,r.getEnum());break;case 8:n.spatialReference=r.processMessageWithArgs(Qie,t);break;case 10:n.hasZ=r.getBool();break;case 11:n.hasM=r.getBool();break;case 12:n.transform=r.processMessage(Jie);break;case 9:n.exceededTransferLimit=r.getBool();break;case 13:t.addField(n,r.processMessage(Wie));break;case 15:i||(t.prepareFeatures(n),i=!0),t.addFeature(n,r.processMessageWithArgs(Zie,t,n,n.fields));break;case 2:n.uniqueIdField=r.processMessage(qie);break;default:r.skip()}return t.finishFeatureResult(n),n}function toe(e,t){const n={};let r=null;for(;e.next();)switch(e.tag()){case 4:r=e.processMessageWithArgs($ie);break;case 1:n.featureResult=e.processMessageWithArgs(eoe,t);break;default:e.skip()}return null!=r&&n.featureResult&&t.addQueryGeometry(n,r),n}function noe(e,t){try{const n=new Aie(new Uint8Array(e),new DataView(e)),r={};for(;n.next();)2===n.tag()?r.queryResult=n.processMessageWithArgs(toe,t):n.skip();return r}catch(n){throw new et("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:n})}}function roe(e,t){const n=noe(e,t),r=n.queryResult.featureResult,i=n.queryResult.queryGeometry,o=n.queryResult.queryGeometryType;if(r&&r.features&&r.features.length&&r.objectIdFieldName){const e=r.objectIdFieldName;for(const t of r.features)t.attributes&&(t.objectId=t.attributes[e])}return r&&(r.queryGeometry=i,r.queryGeometryType=o),r}const ioe="Layer does not support extent calculation.";function ooe(e,t){if(t&&"extent"===e.type)return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&"point"===e.type)return`${e.x},${e.y}`;const n=e.toJSON();return delete n.spatialReference,JSON.stringify(n)}function soe(e,t){const n=e.geometry,r=e.toJSON();delete r.compactGeometryEnabled,delete r.defaultSpatialReferenceEnabled;const i=r;let o,s,a;if(null!=n&&(s=n.spatialReference,a=th(s),i.geometryType=mv(n),i.geometry=ooe(n,e.compactGeometryEnabled),i.inSR=a),r.groupByFieldsForStatistics&&(i.groupByFieldsForStatistics=r.groupByFieldsForStatistics.join(",")),r.objectIds&&(i.objectIds=r.objectIds.join(",")),r.orderByFields&&(i.orderByFields=r.orderByFields.join(",")),!r.outFields||!r.returnDistinctValues&&(t?.returnCountOnly||t?.returnExtentOnly||t?.returnIdsOnly)?delete i.outFields:r.outFields.includes("*")?i.outFields="*":i.outFields=r.outFields.join(","),r.outSR?(i.outSR=th(r.outSR),o=e.outSpatialReference):n&&(r.returnGeometry||r.returnCentroid)&&(i.outSR=i.inSR,o=s),r.returnGeometry&&delete r.returnGeometry,r.outStatistics&&(i.outStatistics=JSON.stringify(r.outStatistics)),r.fullText&&(i.fullText=JSON.stringify(r.fullText)),r.pixelSize&&(i.pixelSize=JSON.stringify(r.pixelSize)),r.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&null!=s&&null!=e.quantizationParameters?.extent&&s.equals(e.quantizationParameters.extent.spatialReference)&&delete r.quantizationParameters.extent.spatialReference,i.quantizationParameters=JSON.stringify(r.quantizationParameters)),r.parameterValues&&(i.parameterValues=JSON.stringify(r.parameterValues)),r.rangeValues&&(i.rangeValues=JSON.stringify(r.rangeValues)),r.dynamicDataSource&&(i.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r.timeExtent){const e=r.timeExtent,{start:t,end:n}=e;null==t&&null==n||(i.time=t===n?t:`${t??"null"},${n??"null"}`),delete r.timeExtent}return e.defaultSpatialReferenceEnabled&&null!=s&&null!=o&&s.equals(o)&&(i.defaultSR=i.inSR,delete i.inSR,delete i.outSR),i}async function aoe(e,t,n,r){const i=null!=t.timeExtent&&t.timeExtent.isEmpty?{data:{features:[]}}:await doe(e,t,"json",r);return WW(t,n,i.data),i}async function loe(e,t,n,r){if(null!=t.timeExtent&&t.timeExtent.isEmpty)return{data:n.createFeatureResult()};const i=await coe(e,t,r),o=i;return o.data=roe(i.data,n),o}function coe(e,t,n){return doe(e,t,"pbf",n)}function uoe(e,t,n){return null!=t.timeExtent&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):doe(e,t,"json",n,{returnIdsOnly:!0})}function hoe(e,t,n){return null!=t.timeExtent&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):doe(e,t,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}async function poe(e,t,n){if(null!=t.timeExtent&&t.timeExtent.isEmpty)return{data:{count:0,extent:null}};const r=await doe(e,t,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}),i=r.data;if(i.hasOwnProperty("extent"))return r;if(i.features)throw new Error(ioe);if(i.hasOwnProperty("count"))throw new Error(ioe);return r}async function doe(e,t,n,r={},i={}){const o="string"==typeof e?ba(e):e,s=t.geometry?[t.geometry]:[],a=await g5(s,null,{signal:r.signal}),l=a?.[0];null!=l&&((t=t.clone()).geometry=l);const c=xie({...o.query,f:n,...i,...soe(t,i)});return Bl(Ua(o.path,foe(t,i)?"query3d":"query"),{...r,responseType:"pbf"===n?"array-buffer":"json",query:{...c,...r.query}})}function foe(e,t){return null!=e.formatOf3DObjects&&!(t.returnCountOnly||t.returnExtentOnly||t.returnIdsOnly)}async function moe(e,t,n){const r=n5(e),{data:i}=await hoe(r,IX.from(t),n);return i.count}async function yoe(e,t,n){const r=n5(e),{data:i}=await uoe(r,IX.from(t),n);return i.objectIds}async function goe(e,t,n){const r=await voe(e,t,n);return tq.fromJSON(r)}async function voe(e,t,n){const r=n5(e),i={...n},o=IX.from(t),{data:s}=await aoe(r,o,o.sourceSpatialReference,i);return s}const boe=()=>Ye.getLogger("esri.views.2d.engine.flow.dataUtils"),woe=10;async function _oe(e,t,n,r){const i=performance.now(),o=xoe(t,n),s=performance.now(),a=Toe(t,o,n.width,n.height),l=performance.now(),c=Moe(a),u=performance.now(),h="Streamlines"===e?Aoe(c,woe):Ioe(c),p=performance.now();return A("esri-2d-profiler")&&(boe().info("I.1","_createFlowFieldFromData (ms)",Math.round(s-i)),boe().info("I.2","_getStreamlines (ms)",Math.round(l-s)),boe().info("I.3","createAnimatedLinesData (ms)",Math.round(u-l)),boe().info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(p-u)),boe().info("I.5","createFlowMesh (ms)",Math.round(p-i)),boe().info("I.6","Mesh size (bytes)",h.vertexData.buffer.byteLength+h.indexData.buffer.byteLength)),await Promise.resolve(),or(r),h}function xoe(e,t){const n=Eoe(t.data,t.width,t.height,e.smoothing);return e.interpolate?(e,r)=>{const i=Math.floor(e),o=Math.floor(r);if(i<0||i>=t.width)return[0,0];if(o<0||o>=t.height)return[0,0];const s=e-i,a=r-o,l=i,c=o,u=i<t.width-1?i+1:i,h=o<t.height-1?o+1:o,p=n[2*(c*t.width+l)],d=n[2*(c*t.width+u)],f=n[2*(h*t.width+l)],m=n[2*(h*t.width+u)],y=n[2*(c*t.width+l)+1],g=n[2*(c*t.width+u)+1];return[(p*(1-a)+f*a)*(1-s)+(d*(1-a)+m*a)*s,(y*(1-a)+n[2*(h*t.width+l)+1]*a)*(1-s)+(g*(1-a)+n[2*(h*t.width+u)+1]*a)*s]}:(e,r)=>{const i=Math.round(e),o=Math.round(r);return i<0||i>=t.width||o<0||o>=t.height?[0,0]:[n[2*(o*t.width+i)],n[2*(o*t.width+i)+1]]}}function Soe(e,t,n,r,i,o,s,a,l){const c=[];let u=n,h=r,p=0,[d,f]=t(u,h);d*=e.velocityScale,f*=e.velocityScale;const m=Math.sqrt(d*d+f*f);let y,g;c.push({x:u,y:h,t:p,speed:m});for(let v=0;v<e.verticesPerLine;v++){let[n,r]=t(u,h);n*=e.velocityScale,r*=e.velocityScale;const d=Math.sqrt(n*n+r*r);if(d<e.minSpeedThreshold)return c;const f=n/d,m=r/d;if(u+=f*e.segmentLength,h+=m*e.segmentLength,p+=e.segmentLength/d,Math.acos(f*y+m*g)>e.maxTurnAngle)return c;if(e.collisions){const e=Math.round(u*l),t=Math.round(h*l);if(e<0||e>s-1||t<0||t>a-1)return c;const n=o[t*s+e];if(-1!==n&&n!==i)return c;o[t*s+e]=i}c.push({x:u,y:h,t:p,speed:d}),y=f,g=m}return c}function Toe(e,t,n,r){const i=[],o=new I,s=1/Math.max(e.lineCollisionWidth,1),a=Math.round(n*s),l=Math.round(r*s),c=new Int32Array(a*l);for(let h=0;h<c.length;h++)c[h]=-1;const u=[];for(let h=0;h<r;h+=e.lineSpacing)for(let t=0;t<n;t+=e.lineSpacing)u.push({x:t,y:h,sort:o.getFloat()});u.sort(((e,t)=>e.sort-t.sort));for(const{x:h,y:p}of u)if(o.getFloat()<e.density){const n=Soe(e,t,h,p,i.length,c,a,l,s);if(n.length<2)continue;i.push(n)}return i}function Eoe(e,t,n,r){if(0===r)return e;const i=Math.round(3*r),o=new Array(2*i+1);let s=0;for(let c=-i;c<=i;c++){const e=Math.exp(-c*c/(r*r));o[c+i]=e,s+=e}for(let c=-i;c<=i;c++)o[c+i]/=s;const a=new Float32Array(e.length);for(let c=0;c<n;c++)for(let n=0;n<t;n++){let r=0,s=0;for(let a=-i;a<=i;a++){if(n+a<0||n+a>=t)continue;const l=o[a+i];r+=l*e[2*(c*t+(n+a))],s+=l*e[2*(c*t+(n+a))+1]}a[2*(c*t+n)]=r,a[2*(c*t+n)+1]=s}const l=new Float32Array(e.length);for(let c=0;c<t;c++)for(let e=0;e<n;e++){let r=0,s=0;for(let l=-i;l<=i;l++){if(e+l<0||e+l>=n)continue;const u=o[l+i];r+=u*a[2*((e+l)*t+c)],s+=u*a[2*((e+l)*t+c)+1]}l[2*(e*t+c)]=r,l[2*(e*t+c)+1]=s}return l}function Moe(e,t){const n=new I,r=e.reduce(((e,t)=>e+t.length),0),i=new Float32Array(4*r),o=new Array(e.length);let s=0,a=0;for(const l of e){const e=s;for(const t of l)i[4*s]=t.x,i[4*s+1]=t.y,i[4*s+2]=t.t,i[4*s+3]=t.speed,s++;o[a++]={startVertex:e,numberOfVertices:l.length,totalTime:l[l.length-1].t,timeSeed:n.getFloat()}}return{lineVertices:i,lineDescriptors:o}}function Aoe(e,t){const{lineVertices:n,lineDescriptors:r}=e;let i=0,o=0;for(const p of r)i+=2*p.numberOfVertices,o+=6*(p.numberOfVertices-1);const s=new Float32Array(9*i),a=new Uint32Array(o);let l=0,c=0;function u(){a[c++]=l-2,a[c++]=l,a[c++]=l-1,a[c++]=l,a[c++]=l+1,a[c++]=l-1}function h(e,t,n,r,i,o,a,c){const u=9*l;let h=0;s[u+h++]=e,s[u+h++]=t,s[u+h++]=1,s[u+h++]=n,s[u+h++]=o,s[u+h++]=a,s[u+h++]=r/2,s[u+h++]=i/2,s[u+h++]=c,l++,s[u+h++]=e,s[u+h++]=t,s[u+h++]=-1,s[u+h++]=n,s[u+h++]=o,s[u+h++]=a,s[u+h++]=-r/2,s[u+h++]=-i/2,s[u+h++]=c,l++}for(const p of r){const{totalTime:e,timeSeed:r}=p;let i=null,o=null,s=null,a=null,l=null,c=null;for(let d=0;d<p.numberOfVertices;d++){const f=n[4*(p.startVertex+d)],m=n[4*(p.startVertex+d)+1],y=n[4*(p.startVertex+d)+2],g=n[4*(p.startVertex+d)+3];let v=null,b=null,w=null,_=null;if(d>0){v=f-i,b=m-o;const n=Math.sqrt(v*v+b*b);if(v/=n,b/=n,d>1){let e=v+l,n=b+c;const r=Math.sqrt(e*e+n*n);e/=r,n/=r;const i=Math.min(1/(e*v+n*b),t);e*=i,n*=i,w=-n,_=e}else w=-b,_=v;null!==w&&null!==_&&(h(i,o,s,w,_,e,r,g),u())}i=f,o=m,s=y,l=v,c=b,a=g}h(i,o,s,-c,l,e,r,a)}return{vertexData:s,indexData:a}}function Ioe(e){const{lineVertices:t,lineDescriptors:n}=e;let r=0,i=0;for(const I of n){const e=I.numberOfVertices-1;r+=4*e*2,i+=6*e*2}const o=new Float32Array(16*r),s=new Uint32Array(i);let a,l,c,u,h,p,d,f,m,y,g,v,b,w,_=0,x=0;function S(){s[x++]=_-8,s[x++]=_-7,s[x++]=_-6,s[x++]=_-7,s[x++]=_-5,s[x++]=_-6,s[x++]=_-4,s[x++]=_-3,s[x++]=_-2,s[x++]=_-3,s[x++]=_-1,s[x++]=_-2}function T(e,t,n,r,i,s,a,l,c,u,h,p,d,f){const m=16*_;let y=0;for(const g of[1,2])for(const v of[1,2,3,4])o[m+y++]=e,o[m+y++]=t,o[m+y++]=n,o[m+y++]=r,o[m+y++]=a,o[m+y++]=l,o[m+y++]=c,o[m+y++]=u,o[m+y++]=g,o[m+y++]=v,o[m+y++]=d,o[m+y++]=f,o[m+y++]=i/2,o[m+y++]=s/2,o[m+y++]=h/2,o[m+y++]=p/2,_++}function E(e,t){let n=m+g,r=y+v;const i=Math.sqrt(n*n+r*r);n/=i,r/=i;const o=m*n+y*r;n/=o,r/=o;let s=g+b,_=v+w;const x=Math.sqrt(s*s+_*_);s/=x,_/=x;const E=g*s+v*_;s/=E,_/=E,T(a,l,c,u,-r,n,h,p,d,f,-_,s,e,t),S()}function M(e,t,n,r,i,o){if(m=g,y=v,g=b,v=w,null==m&&null==y&&(m=g,y=v),null!=h&&null!=p){b=e-h,w=t-p;const n=Math.sqrt(b*b+w*w);b/=n,w/=n}null!=m&&null!=y&&E(i,o),a=h,l=p,c=d,u=f,h=e,p=t,d=n,f=r}function A(e,t){m=g,y=v,g=b,v=w,null==m&&null==y&&(m=g,y=v),null!=m&&null!=y&&E(e,t)}for(const I of n){a=null,l=null,c=null,u=null,h=null,p=null,d=null,f=null,m=null,y=null,g=null,v=null,b=null,w=null;const{totalTime:e,timeSeed:n}=I;for(let r=0;r<I.numberOfVertices;r++)M(t[4*(I.startVertex+r)],t[4*(I.startVertex+r)+1],t[4*(I.startVertex+r)+2],t[4*(I.startVertex+r)+3],e,n);A(e,n)}return{vertexData:o,indexData:s}}function Coe(e,t){const n=t.pixels,{width:r,height:i}=t,o=new Float32Array(r*i*2),s=t.mask||new Uint8Array(r*i*2);if(t.mask||s.fill(255),"vector-uv"===e)for(let a=0;a<r*i;a++)o[2*a]=n[0][a],o[2*a+1]=-n[1][a];else if("vector-magdir"===e)for(let a=0;a<r*i;a++){const e=n[0][a],t=Xm(n[1][a]),r=Math.cos(t-Math.PI/2),i=Math.sin(t-Math.PI/2);o[2*a]=r*e,o[2*a+1]=i*e}return{data:o,mask:s,width:r,height:i}}async function Ooe(e,t,n,r,i,o){const s=performance.now(),a=eh(t.spatialReference);if(!a){const a=await koe(e,t,n,r,i,o);return A("esri-2d-profiler")&&boe().info("I.7","loadImagery, early exit (ms)",Math.round(performance.now()-s)),A("esri-2d-profiler")&&boe().info("I.9","Number of parts",1),a}const[l,c]=a.valid,u=c-l,h=Math.ceil(t.width/u),p=t.width/h,d=Math.round(n/h);let f=t.xmin;const m=[],y=performance.now();for(let w=0;w<h;w++){const n=new Gd({xmin:f,xmax:f+p,ymin:t.ymin,ymax:t.ymax,spatialReference:t.spatialReference});m.push(koe(e,n,d,r,i,o)),f+=p}const g=await Promise.all(m);A("esri-2d-profiler")&&boe().info("I.8","All calls to _fetchPart (ms)",Math.round(performance.now()-y)),A("esri-2d-profiler")&&boe().info("I.9","Number of parts",g.length);const v={data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};let b=0;for(const w of g){for(let e=0;e<w.height;e++)for(let t=0;t<w.width;t++)b+t>=n||(v.data[2*(e*n+b+t)]=w.data[2*(e*w.width+t)],v.data[2*(e*n+b+t)+1]=w.data[2*(e*w.width+t)+1],v.mask[e*n+b+t]=w.mask[e*w.width+t]);b+=w.width}return A("esri-2d-profiler")&&boe().info("I.10","loadImagery, general exit (ms)",Math.round(performance.now()-s)),v}async function koe(e,t,n,r,i,o){const s={requestProjectedLocalDirections:!0,signal:o};if(null!=i&&(s.timeExtent=i),"imagery"===e.type){await e.load({signal:o});const i=e.rasterInfo.dataType,a=await e.fetchImage(t,n,r,s);return null==a?.pixelData?.pixelBlock?{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r}:Coe(i,a.pixelData.pixelBlock)}await e.load({signal:o});const a=e.serviceRasterInfo.dataType,l=await e.fetchPixels(t,n,r,s);return null==l?.pixelBlock?{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r}:Coe(a,l.pixelBlock)}const Roe=new Set(["png","png8","png24","png32","jpg","bmp","gif","jpgpng","lerc","tiff"]),Loe=Yi(Wi,{min:0,max:255});function Noe(e){const t=JSON.stringify(e),n=t.includes('"rasterFunctionDefinition":{'),r=n?t.match(/"type":"(.*?FunctionArguments")/gi):t.match(/"rasterFunction":"(.*?")/gi),i=r?.map((e=>n?e.slice(8,-18):e.slice(18,-1)));return i?i.join("/"):null}const Poe=e=>{let t=class extends e{constructor(){super(...arguments),this._functionRasterInfos={},this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this._cachedRendererJson=null,this._serviceSupportsMosaicRule=null,this._rasterAttributeTableFieldPrefix="Raster.",this.adjustAspectRatio=null,this.bandIds=void 0,this.capabilities=null,this.compressionQuality=void 0,this.compressionTolerance=.01,this.copyright=null,this.defaultMosaicRule=null,this.definitionExpression=null,this.exportImageServiceParameters=null,this.rasterInfo=null,this.fields=null,this.fullExtent=null,this.hasMultidimensions=!1,this.imageMaxHeight=4100,this.imageMaxWidth=4100,this.interpolation=void 0,this.minScale=0,this.maxScale=0,this.multidimensionalInfo=null,this.multidimensionalSubset=null,this.noData=null,this.noDataInterpretation=void 0,this.objectIdField=null,this.geometryType="polygon",this.typeIdField=null,this.types=[],this.pixelFilter=null,this.raster=void 0,this.sourceType=null,this.viewId=void 0,this.symbolizer=null,this.rasterFunctionInfos=null,this.serviceDataType=null,this.spatialReference=null,this.pixelType=null,this.serviceRasterInfo=null,this.sourceJSON=null,this.url=null,this.version=void 0}initialize(){this._set("exportImageServiceParameters",new I9({layer:this}))}readServiceSupportsMosaicRule(e,t){return this._isMosaicRuleSupported(t)}get _rasterFunctionNamesIndex(){const e=new Map;return!this.rasterFunctionInfos||null!=this.rasterFunctionInfos&&this.rasterFunctionInfos.length<1||null!=this.rasterFunctionInfos&&this.rasterFunctionInfos.forEach((t=>{e.set(t.name.toLowerCase().replaceAll(/ /gi,"_"),t.name)})),e}readBandIds(e,t){if(Array.isArray(e)&&e.length>0&&e.every((e=>"number"==typeof e)))return e}readCapabilities(e,t){return this._readCapabilities(t)}writeCompressionQuality(e,t,n){null!=e&&"lerc"!==this.format&&(t[n]=e)}writeCompressionTolerance(e,t,n){"lerc"===this.format&&null!=e&&(t[n]=e)}readDefaultMosaicRule(e,t){return this._serviceSupportsMosaicRule?A9.fromJSON(t):null}get fieldsIndex(){return this.fields?new KD(this.fields):null}set format(e){e&&Roe.has(e.toLowerCase())&&this._set("format",e.toLowerCase())}readFormat(e,t){return"esriImageServiceDataTypeVector-UV"===t.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===t.serviceDataType||null!=this.pixelFilter?"lerc":"jpgpng"}readMinScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}readMaxScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}set mosaicRule(e){let t=e;t?.mosaicMethod&&(t=A9.fromJSON({...t.toJSON(),mosaicMethod:t.mosaicMethod,mosaicOperation:t.mosaicOperation})),this._set("mosaicRule",t)}readMosaicRule(e,t){const n=e||t.mosaicRule;return n?A9.fromJSON(n):this._isMosaicRuleSupported(t)?A9.fromJSON(t):null}writeMosaicRule(e,t,n){let r=this.mosaicRule;const i=this.definitionExpression;r?i&&i!==r.where&&(r=r.clone(),r.where=i):i&&(r=new A9({where:i})),this._isValidCustomizedMosaicRule(r)&&(t[n]=r.toJSON())}writeNoData(e,t,n){null!=e&&"number"==typeof e&&(t[n]=Loe(e))}readObjectIdField(e,t){return e||(e=t.fields.find((e=>"esriFieldTypeOID"===e.type||"oid"===e.type))?.name),e}get parsedUrl(){return ba(this.url)}readSourceType(e,t){return this._isMosaicDataset(t)?"mosaic-dataset":"raster-dataset"}get renderer(){const{activePresetRendererName:e,presetRenderers:t}=this;return e?t?.find((({name:t})=>t===e))?.renderer.clone():this.internalRenderer}set renderer(e){this.activePresetRendererName=null,this.internalRenderer=e}set internalRenderer(e){this.loaded&&(e=this._configRenderer(e)),this._set("internalRenderer",e)}readRenderer(e,t,n){const r=t?.layerDefinition?.drawingInfo?.renderer,i=A8(r,n);return null==i?null:("vector-field"===i.type&&t.symbolTileSize&&!r.symbolTileSize&&(i.symbolTileSize=t.symbolTileSize),o9(i)||Ye.getLogger(this).warn("ArcGISImageService","Imagery layer doesn't support given renderer type."),i)}writeRenderer(e,t,n){t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.toJSON(),"vector-field"===e.type&&(t.symbolTileSize=e.symbolTileSize)}get rasterFields(){const e=this._rasterAttributeTableFieldPrefix,t=new JW({name:"Raster.ItemPixelValue",alias:"Item Pixel Value",domain:null,editable:!1,length:50,type:"string"}),n=new JW({name:"Raster.ServicePixelValue",alias:"Service Pixel Value",domain:null,editable:!1,length:50,type:"string"}),r=new JW({name:"Raster.ServicePixelValue.Raw",alias:"Raw Service Pixel Value",domain:null,editable:!1,length:50,type:"string"});let i=this.fields?_e(this.fields):[];i.push(n),this.capabilities?.operations.supportsQuery&&this.fields&&this.fields.length>0&&i.push(t),this.version>=10.4&&null!=this.rasterFunctionInfos&&this.rasterFunctionInfos.some((e=>"none"===e.name.toLowerCase()))&&i.push(r),null!=this.rasterFunctionInfos&&this.rasterFunctionInfos.filter((e=>"none"!==e.name.toLowerCase())).forEach((e=>{i.push(new JW({name:"Raster.ServicePixelValue."+e.name,alias:e.name,domain:null,editable:!1,length:50,type:"string"}))})),this._isVectorDataSet()&&(i.push(new JW({name:"Raster.Magnitude",alias:"Magnitude",domain:null,editable:!1,type:"double"})),i.push(new JW({name:"Raster.Direction",alias:"Direction",domain:null,editable:!1,type:"double"})));const{attributeTable:o}=this.rasterInfo??{};if(null!=o){const t=o.fields.filter((e=>"esriFieldTypeOID"!==e.type&&"value"!==e.name.toLowerCase())).map((t=>{const n=_e(t);return n.name=e+t.name,n}));i=i.concat(t)}return i}set rasterFunction(e){let t=e;t?.rasterFunction&&(t=e9.fromJSON({...t.toJSON(),rasterFunction:t.rasterFunction,rasterFunctionArguments:t.rasterFunctionArguments})),this._set("rasterFunction",t)}readRasterFunction(e,t){const n=t.rasterFunctionInfos;return t.renderingRule||n?.length&&"None"!==n[0].name?this._isRFTJson(t.renderingRule)?e9.fromJSON({rasterFunctionDefinition:t.renderingRule}):e9.fromJSON(t.renderingRule||{rasterFunctionInfos:t.rasterFunctionInfos}):null}readSpatialReference(e,t){const n=e||t.extent.spatialReference;return n?Ip.fromJSON(n):null}readPixelType(e){return L8.fromJSON(e)||e}writePixelType(e,t,n){null!=this.serviceRasterInfo&&this.pixelType===this.serviceRasterInfo.pixelType||(t[n]=L8.toJSON(e))}readVersion(e,t){let n=t.currentVersion;return n||(n=t.hasOwnProperty("fields")||t.hasOwnProperty("timeInfo")?10:9.3),n}applyFilter(e){let t=e;return this.pixelFilter&&(t=this._clonePixelData(e),this.pixelFilter(t)),t}async applyRenderer(e,t){let n=e;const{renderer:r,symbolizer:i,pixelFilter:o,bandIds:s}=this;if(!this._isPicture()&&r&&i&&!o){const o=JSON.stringify(this._cachedRendererJson)!==JSON.stringify(r.toJSON()),a=this._rasterJobHandler.instance;if(a){o&&(i.bind(),await a.updateSymbolizer(i,t),this._cachedRendererJson=r.toJSON());const l=await a.symbolize({bandIds:s,...e},t);n={extent:e.extent,pixelBlock:l}}else n={extent:e.extent,pixelBlock:i.symbolize({bandIds:s,...e})}}return n}destroy(){this._shutdownJobHandler()}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}async computeAngles(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsComputeAngles)throw new et("imagery-layer:compute-angles","this operation is not supported on the input image service");return qre(this.url,e,this._getRequestOptions(t))}async computePixelSpaceLocations(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsComputePixelLocation)throw new et("imagery-layer:compute-pixel-space-locations","this operation is not supported on the input image service");return Zre(this.url,e,this._getRequestOptions(t))}async computeHistograms(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsComputeHistograms)throw new et("imagery-layer:compute-histograms","this operation is not supported on the input image service");return e=_e(e),this._applyMosaicAndRenderingRules(e),Xre(this.url,e,this._getRequestOptions(t))}async computeStatisticsHistograms(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsComputeStatisticsHistograms)throw new et("imagery-layer:compute-statistics-histograms","this operation is not supported on the input image service");return e=_e(e),this._applyMosaicAndRenderingRules(e),Yre(this.url,e,this._getRequestOptions(t))}async measureHeight(e,t){const n=await this._fetchCapabilities(t?.signal);if(!("base-and-top"===e.operationType?n.mensuration.supportsHeightFromBaseAndTop:"base-and-top-shadow"===e.operationType?n.mensuration.supportsHeightFromBaseAndTopShadow:n.mensuration.supportsHeightFromTopAndTopShadow))throw new et("imagery-layer:measure-height","this operation is not supported on the input image service");return e=_e(e),this._applyMosaicAndRenderingRules(e),Qre(this.url,e,this._getRequestOptions(t))}async measureAreaAndPerimeter(e,t){const n=await this._fetchCapabilities(t?.signal);if(!n.mensuration.supportsAreaAndPerimeter||e.is3D&&!n.mensuration.supports3D)throw new et("imagery-layer:measure-area-and-perimeter","this operation is not supported on the input image service");return e=_e(e),this._applyMosaicAndRenderingRules(e),eie(this.url,e,this._getRequestOptions(t))}async measureDistanceAndAngle(e,t){const n=await this._fetchCapabilities(t?.signal);if(!n.mensuration.supportsDistanceAndAngle||e.is3D&&!n.mensuration.supports3D)throw new et("imagery-layer:measure-distance-and-angle","this operation is not supported on the input image service");return e=_e(e),this._applyMosaicAndRenderingRules(e),nie(this.url,e,this._getRequestOptions(t))}async measurePointOrCentroid(e,t){const n=await this._fetchCapabilities(t?.signal);if(!n.mensuration.supportsPointOrCentroid||e.is3D&&!n.mensuration.supports3D)throw new et("imagery-layer:measure-point-or-centroid","this operation is not supported on the input image service");return e=_e(e),this._applyMosaicAndRenderingRules(e),tie(this.url,e,this._getRequestOptions(t))}async measureLengthFromImage(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsMeasureFromImage)throw new et("imagery-layer:measure-length-from-image","this operation is not supported on the input image service");if("polyline"!==e.geometry.type)throw new et("imagery-layer:measure-length-from-image","this input geometry must be a polyline");return iie(this.url,e,this._getRequestOptions(t))}async measureAreaFromImage(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsMeasureFromImage)throw new et("imagery-layer:measure-area-from-image","this operation is not supported on the input image service");if("polygon"!==e.geometry.type)throw new et("imagery-layer:measure-area-from-image","this input geometry must be a polygon");return oie(this.url,e,this._getRequestOptions(t))}getField(e){const{fieldsIndex:t}=this;return t?.get(e)}getFieldDomain(e,t){const n=this.getField(e);return n?n.domain:null}async fetchImage(e,t,r,i={}){if(null==e||null==t||null==r)throw new et("imagery-layer:fetch-image","Insufficient parameters for requesting an image. A valid extent, width and height values are required.");if(this.renderer||this.symbolizer){const e=await this._generateRasterInfo(this.rasterFunction,{signal:i.signal});e&&(this.rasterInfo=e)}const o=this.getExportImageServiceParameters(e,t,r,i.timeExtent);if(null==o){if(i.requestAsImageElement&&this._canRequestImageElement(this.format)){const e=document.createElement("canvas");return e.width=t,e.height=r,i.returnImageBitmap?{imageBitmap:await O9(e,`${n(this.parsedUrl)}/exportImage`,i.signal)}:{imageOrCanvasElement:e}}const{bandIds:o,rasterInfo:s}=this,a=(o?.length||s.bandCount)??0,l=t*r,c=s.pixelType,u=[];for(let e=0;e<a;e++)u.push(F5.createEmptyBand(c,l));return{pixelData:{pixelBlock:new F5({width:t,height:r,pixels:u,mask:new Uint8Array(l),pixelType:c}),extent:e}}}const s=!!i.requestAsImageElement&&!this.pixelFilter,a=s&&!!i.returnImageBitmap,l={imageServiceParameters:o,imageProps:{extent:e,width:t,height:r,format:this.format},requestAsImageElement:s,returnImageBitmap:a,signal:i.signal};return this._requestArrayBuffer(l)}fetchKeyProperties(e){return Bl(n(this.parsedUrl)+"/keyProperties",{query:this._getQueryParams({renderingRule:this.version>=10.3?e?.rasterFunction:null})}).then((e=>e.data))}fetchRasterAttributeTable(e){return this.version<10.1?Promise.reject(new et("#fetchRasterAttributeTable()","Failed to get rasterAttributeTable")):Bl(n(this.parsedUrl)+"/rasterAttributeTable",{query:this._getQueryParams({renderingRule:this.version>=10.3?e?.rasterFunction:null})}).then((e=>tq.fromJSON(e.data)))}getCatalogItemRasterInfo(e,t){const r={...t,query:this._getQueryParams()};return _ie(n(this.parsedUrl),e,r)}async getCatalogItemICSInfo(e,t){const{data:r}=await Bl(n(this.parsedUrl)+"/"+e+"/info/ics",{query:this._getQueryParams(),...t}),i=r?.ics;if(!i)return;let o=null;try{o=(await Bl(n(this.parsedUrl)+"/"+e+"/info",{query:this._getQueryParams(),...t})).data.extent}catch{}if(!o?.spatialReference)return{ics:i,icsToPixelTransform:null,icsExtent:null,northDirection:null};const s=this.version>=10.7?Bl(n(this.parsedUrl)+"/"+e+"/info/icstopixel",{query:this._getQueryParams(),...t}).then((e=>e.data)).catch((()=>({}))):{},a=o.spatialReference,l={geometries:JSON.stringify({geometryType:"esriGeometryEnvelope",geometries:[o]}),inSR:th(a),outSR:"0:"+e},c=Bl(n(this.parsedUrl)+"/project",{query:this._getQueryParams(l),...t}).then((e=>e.data)).catch((()=>({}))),u=5,h=(o.xmin+o.xmax)/2,p=(o.ymax-o.ymin)/(u+1),d=o.ymin+p,f=[];for(let n=0;n<u;n++)f.push({x:h,y:d+p*n});const m={geometries:JSON.stringify({geometryType:"esriGeometryPoint",geometries:f}),inSR:th(a),outSR:"0:"+e},y=Bl(n(this.parsedUrl)+"/project",{query:this._getQueryParams(m),...t}).then((e=>e.data)).catch((()=>({}))),g=await Promise.all([s,c,y]);let v=g[0].ipxf;if(null==v){const e=i.geodataXform?.xf_0;"topup"===e?.name?.toLowerCase()&&6===e?.coefficients?.length&&(v={affine:{name:"ics [sensor: Frame] to pixel (column, row) transformation",coefficients:e.coefficients,cellsizeRatio:0,type:"GeometricXform"}})}const b=Gd.fromJSON(g[1]?.geometries?.[0]);b&&(b.spatialReference=new Ip({wkid:0,imageCoordinateSystem:i}));const w=g[2].geometries?g[2].geometries.filter((e=>null!=e?.x&&null!=e.y&&"NaN"!==e.x&&"NaN"!==e.y)):[],_=w.length;if(_<3)return{ics:i,icsToPixelTransform:v,icsExtent:b,northDirection:null};let x=0,S=0,T=0,E=0;for(let n=0;n<_;n++)x+=w[n].x,S+=w[n].y,T+=w[n].x*w[n].x,E+=w[n].x*w[n].y;const M=(_*E-x*S)/(_*T-x*x);let A=0;const I=w[u-1].x>w[0].x,C=w[u-1].y>w[0].y;return M===1/0?A=C?90:270:0===M?A=I?0:180:M>0?A=I?180*Math.atan(M)/Math.PI:180*Math.atan(M)/Math.PI+180:M<0&&(A=C?180+180*Math.atan(M)/Math.PI:360+180*Math.atan(M)/Math.PI),{ics:i,icsToPixelTransform:v,icsExtent:b,northDirection:A}}async generateRasterInfo(e,t){e=no(e9,e);const r={...t,query:this._getQueryParams()};if(!e||"none"===e.functionName?.toLowerCase()||this._isVectorFieldResampleFunction(e))return this.serviceRasterInfo??vie(n(this.parsedUrl),this.sourceJSON,r);const i=Noe(e);if(!i)throw new et("imagery-layer:generate-raster-info","the rendering rule is not supported");if(this._functionRasterInfos[i])return this._functionRasterInfos[i];const o=bie(n(this.parsedUrl),e,r);this._functionRasterInfos[i]=o;try{return await o}catch(s){throw this._functionRasterInfos[i]=null,s}}getExportImageServiceParameters(e,t,r,i){e=e.clone().shiftCentralMeridian();const o=cie(e.spatialReference,n(this.parsedUrl));this.pixelType!==this.serviceRasterInfo.pixelType&&(this.exportImageServiceParameters.pixelType=this.pixelType);const s=this.exportImageServiceParameters.toJSON(),{bandIds:a,noData:l}=s;let{renderingRule:c}=s;const u=this.rasterFunction?.rasterFunctionDefinition,h=this.renderer?.type,p=!h||"raster-stretch"===h||"raster-colormap"===h||"unique-value"===h||"class-breaks"===h||"raster-shaded-relief"===h;if(a?.length&&this._hasRasterFunction(this.rasterFunction)&&!u&&p){const e={rasterFunction:"ExtractBand",rasterFunctionArguments:{BandIds:a}};if("Stretch"===c.rasterFunction)e.rasterFunctionArguments.Raster=c.rasterFunctionArguments.Raster,c.rasterFunctionArguments.Raster=e;else if("Colormap"===c.rasterFunction){const t=c.rasterFunctionArguments.Raster;"Stretch"===t?.rasterFunction?(e.rasterFunctionArguments.Raster=t.rasterFunctionArguments.Raster,t.rasterFunctionArguments.Raster=e):(e.rasterFunctionArguments.Raster=t,c.rasterFunctionArguments.Raster=e)}else e.rasterFunctionArguments.Raster=c,c=e;s.bandIds=void 0}else s.bandIds=a?.join(",");Array.isArray(l)&&l.length>0&&(s.noData=l.join(","));const d=this._processMultidimensionalIntersection(null,i,this.exportImageServiceParameters.mosaicRule);if(d.isOutSide)return null;s.mosaicRule=null!=d.mosaicRule?JSON.stringify(d.mosaicRule):null,i=d.timeExtent,s.renderingRule=this._getRenderingRuleString(e9.fromJSON(c));const f={};if(null!=i){const{start:e,end:t}=i.toJSON();e&&t&&e===t?f.time=""+e:null==e&&null==t||(f.time=`${e??"null"},${t??"null"}`)}return{bbox:e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:o,imageSR:o,size:t+","+r,...s,...f}}async getSamples(e,t){if(!(await this._fetchCapabilities(t?.signal))?.operations.supportsGetSamples)throw new et("imagery-layer:get-samples","getSamples operation is not supported on the input image service");e=_e(e);const{raster:n}=this;return n&&null==e.raster&&(e.raster=n),Jre(this.url,e,this._getRequestOptions(t))}async identify(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsIdentify)throw new et("imagery-layer:identify","identify operation is not supported on the input image service");e=_e(e),this.version<10.91&&"extent"===e.geometry?.type&&(e.geometry=nv.fromExtent(e.geometry));const n=this._processMultidimensionalIntersection(e.geometry,e.timeExtent,e.mosaicRule||this.mosaicRule);if(n.isOutSide)throw new et("imagery-layer:identify","the request cannot be fulfilled when falling outside of the multidimensional subset");e.timeExtent=n.timeExtent,e.mosaicRule=n.mosaicRule;const{raster:r,rasterFunction:i}=this;return i&&null==e.rasterFunction&&(e.rasterFunction=i),r&&null==e.raster&&(e.raster=r),Kre(this.url,e,this._getRequestOptions(t))}async imageToMap(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsImageToMap)throw new et("imagery-layer:image-to-map","imageToMap operation is not supported on the input image service");return pie(n(this.parsedUrl),e,this._getRequestOptions(t))}async imageToMapMultiray(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsImageToMapMultiray)throw new et("imagery-layer:image-to-map-multiray","imageToMapMultiray operation is not supported on the input image service");return die(n(this.parsedUrl),e,this._getRequestOptions(t))}async mapToImage(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsMapToImage)throw new et("imagery-layer:map-to-image","mapToImage operation is not supported on the input image service");return fie(n(this.parsedUrl),e,this._getRequestOptions(t))}async findImages(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsFindImages)throw new et("imagery-layer:find-images","findImages operation is not supported on the input image service");return yie(n(this.parsedUrl),e,this._getRequestOptions(t))}async getImageUrl(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsGetImageUrl)throw new et("imagery-layer:get-image-url","getImageUrl operation is not supported on the input image service");return mie(n(this.parsedUrl),e,this._getRequestOptions(t))}createQuery(){return new IX({outFields:["*"],returnGeometry:!0,where:this.definitionExpression||"1=1"})}async queryBoundary(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsQueryBoundary)throw new et("imagery-layer:query-boundary","queryBoundary operation is not supported on the input image service");return e=e??{outSpatialReference:this.spatialReference},uie(n(this.parsedUrl),e,this._getRequestOptions(t))}async queryRasters(e,t){return({query:e,requestOptions:t}=await this._prepareForQuery(e,t)),goe(this.url,e,t)}async queryObjectIds(e,t){return({query:e,requestOptions:t}=await this._prepareForQuery(e,t)),yoe(this.url,e,t)}async queryGPSInfo(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsQueryGPSInfo)throw new et("imagery-layer:query-gps-info","queryGPSInfo operation is not supported on the input image service");return e=e??{where:"1=1"},hie(n(this.parsedUrl),e,this._getRequestOptions(t))}async queryRasterCount(e,t){return({query:e,requestOptions:t}=await this._prepareForQuery(e,t)),moe(this.url,e,t)}async queryVisibleRasters(e,t){if(!e)throw new et("imagery-layer: query-visible-rasters","missing query parameter");await this.load();const{pixelSize:n,returnDomainValues:r,returnTopmostRaster:i,showNoDataRecords:o}=t||{pixelSize:null,returnDomainValues:!1,returnTopmostRaster:!1,showNoDataRecords:!1};let s=!1,a=null,l=null;const c="raster.servicepixelvalue",u=this._rasterFunctionNamesIndex;if(null!=e.outFields&&(s=e.outFields.some((e=>!e.toLowerCase().includes(c))),this.version>=10.4)){const t=e.outFields.filter((e=>e.toLowerCase().includes(c)&&e.length>c.length)).map((e=>{const t=e.slice(c.length+1);return[this._updateRenderingRulesFunctionName(t,u),t]}));a=t.map((e=>new e9({functionName:e[0]}))),l=t.map((e=>e[1]));const{rasterFunction:n}=this;0===a.length?n?.functionName?(a.push(n),l.push(n.functionName)):a=null:n?.functionName&&!a.some((e=>e.functionName===n.functionName))&&(a.push(n),l.push(n.functionName))}const h=null==e.outSpatialReference||e.outSpatialReference.equals(this.spatialReference),{multidimensionalSubset:p}=this;let d=e.timeExtent||this.timeExtent;if(p){const{isOutside:t,intersection:n}=o7(p,{geometry:e.geometry,timeExtent:e.timeExtent,multidimensionalDefinition:this.exportImageServiceParameters.mosaicRule?.multidimensionalDefinition});if(t)throw new et("imagery-layer:query-visible-rasters","the request cannot be fulfilled when falling outside of the multidimensional subset");null!=n?.timeExtent&&(d=n.timeExtent)}const f=this._combineMosaicRuleWithTimeExtent(this.exportImageServiceParameters.mosaicRule,d);let m=e.geometry;this.version<10.91&&"extent"===m?.type&&(m=nv.fromExtent(m));const y=this._getQueryParams({geometry:m,timeExtent:d,mosaicRule:f,rasterFunction:this.version<10.4?this.rasterFunction:null,rasterFunctions:a,pixelSize:n,returnCatalogItems:s,returnGeometry:h,raster:this.raster,maxItemCount:i?1:null});delete y.f;const g=new lre(y);try{await this._generateRasterInfo(this.rasterFunction);const n=await Kre(this.url,g,{signal:t?.signal,query:{...this.customParameters}}),i=e.outFields,a=null!=n.value&&n.value.toLowerCase().includes("nodata");if(!s||h||!n?.catalogItems?.features.length||!o&&a)return this._processVisibleRastersResponse(n,{returnDomainValues:r,templateRRFunctionNames:l,showNoDataRecords:o,templateFields:i});const c=this.objectIdField||"ObjectId",u=n.catalogItems?.features??[],p=u.map((e=>e.attributes?.[c])),d=new IX({objectIds:p,returnGeometry:!0,outSpatialReference:e.outSpatialReference,outFields:[c]}),f=await this.queryRasters(d);return f?.features?.length&&f.features.forEach((t=>{u.forEach((n=>{n.attributes[c]===t.attributes[c]&&t.geometry&&(n.geometry=t.geometry.clone(),null!=e.outSpatialReference&&(n.geometry.spatialReference=e.outSpatialReference))}))})),this._processVisibleRastersResponse(n,{returnDomainValues:r,templateRRFunctionNames:l,showNoDataRecords:o,templateFields:i})}catch{throw new et("imagery-layer:query-visible-rasters","encountered error when querying visible rasters")}}async fetchVariableStatisticsHistograms(e,t){const r=Bl(n(this.parsedUrl)+"/statistics",{query:this._getQueryParams({variable:e}),signal:t}).then((e=>e.data?.statistics)),i=Bl(n(this.parsedUrl)+"/histograms",{query:this._getQueryParams({variable:e}),signal:t}).then((e=>e.data?.histograms)),o=await Promise.all([r,i]);return o[0]&&o[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:o[0]||null,histograms:o[1]||null}}async createFlowMesh(e,t){const n=this._rasterJobHandler.instance;return n?n.createFlowMesh(e,t):_oe(e.meshType,e.simulationSettings,e.flowData,null!=t.signal?t.signal:(new AbortController).signal)}getMultidimensionalSubsetVariables(e){const t=e??this.serviceRasterInfo.multidimensionalInfo;return u7(this.multidimensionalSubset,t)}async _fetchService(e){await this._fetchServiceInfo(e),this.rasterInfo||(this.rasterInfo=this.serviceRasterInfo);const t=this.sourceJSON,r=null!=this.serviceRasterInfo?Promise.resolve(this.serviceRasterInfo):vie(n(this.parsedUrl),t,{signal:e,query:this._getQueryParams()}).then((e=>(this._set("serviceRasterInfo",e),this._set("multidimensionalInfo",e.multidimensionalInfo),wie(e,t),e))),i=this._hasRasterFunction(this.rasterFunction)?this._generateRasterInfo(this.rasterFunction,{signal:e}):null,o=this._getRasterFunctionInfos();return Promise.all([r,i,o]).then((e=>{e[1]?this._set("rasterInfo",e[1]):this._set("rasterInfo",e[0]),e[2]&&this._set("rasterFunctionInfos",e[2]),this.internalRenderer&&!this._isSupportedRenderer(this.internalRenderer)&&(this._set("internalRenderer",null),Ye.getLogger(this).warn("ArcGISImageService","Switching to the default renderer. Renderer applied is not valid for this Imagery Layer")),this._set("internalRenderer",this._configRenderer(this.renderer)),this.addHandles([WR((()=>this.rasterFunction),(e=>{(this.renderer||this.symbolizer||this.popupEnabled&&this.popupTemplate)&&this._generateRasterInfo(e).then((e=>{e&&(this.rasterInfo=e)}))}))]);const{serviceRasterInfo:t}=this;null!=t.multidimensionalInfo&&this._updateMultidimensionalDefinition(t)}))}_combineMosaicRuleWithTimeExtent(e,t){const n=this.timeInfo,{multidimensionalInfo:r}=this.serviceRasterInfo;if(null==e||null==r||null==t||null==n?.startField)return e;const{startField:i}=n,o=r.variables.some((e=>e.dimensions.some((e=>e.name===i))))?i:"StdTime";if(e=e.clone(),"mosaic-dataset"===this.sourceType)return e.multidimensionalDefinition=e.multidimensionalDefinition?.filter((e=>e.dimensionName!==o)),this._cleanupMultidimensionalDefinition(e);e.multidimensionalDefinition=e.multidimensionalDefinition||[];const s=e.multidimensionalDefinition.filter((e=>e.dimensionName===o)),a=null!=t.start?t.start.getTime():null,l=null!=t.end?t.end.getTime():null,c=null==a||null==l||a===l,u=c?[a||l]:[[a,l]],h=this.version>=10.8;if(s.length)s.forEach((e=>{e.dimensionName===o&&(h?(e.dimensionName=null,e.isSlice=!1,e.values=[]):(e.isSlice=c,e.values=u))}));else if(!h){const t=e.multidimensionalDefinition.filter((e=>null!=e.variableName&&null==e.dimensionName));t.length?t.forEach((e=>{e.dimensionName=o,e.isSlice=c,e.values=u})):e.multidimensionalDefinition.push(new O8({variableName:"",dimensionName:o,isSlice:c,values:u}))}return this._cleanupMultidimensionalDefinition(e)}_cleanupMultidimensionalDefinition(e){return null==e?null:(e.multidimensionalDefinition&&(e.multidimensionalDefinition=e.multidimensionalDefinition.filter((e=>!(!e.variableName&&!e.dimensionName))),0===e.multidimensionalDefinition.length&&(e.multidimensionalDefinition=null)),"mosaic-dataset"!==this.sourceType&&null==e.multidimensionalDefinition?null:e)}async _prepareForQuery(e,t){if(!(await this._fetchCapabilities(t?.signal)).operations.supportsQuery)throw new et("imagery-layer:query-rasters","query operation is not supported on the input image service");return e=null!=e?no(IX,e):this.createQuery(),t=this._getRequestOptions(t),this.raster&&(t.query={...t.query,raster:this.raster}),{query:e,requestOptions:t}}async _initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const e=new X9;this._rasterJobHandler.connectionPromise=e.initialize().then((()=>{this._rasterJobHandler.instance=e}),(()=>{})),await this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this._cachedRendererJson=null}_isSupportedRenderer(e){const{rasterInfo:t,rasterFunction:n}=this;return"unique-value"===e.type&&this._hasRasterFunction(n)&&1===t?.bandCount&&["u8","s8"].includes(t.pixelType)||null!=t&&null!=e&&yte(t).includes(e.type)}async _fetchCapabilities(e){return this.capabilities||await this._fetchServiceInfo(e),this.capabilities}async _fetchServiceInfo(e){let t=this.sourceJSON;if(!t){const{data:r,ssl:i}=await Bl(n(this.parsedUrl),{query:this._getQueryParams(),signal:e});t=r,this.sourceJSON=t,i&&(this.url=this.url.replace(/^http:/i,"https:"))}if(t.capabilities?.toLowerCase().split(",").map((e=>e.trim())).indexOf("tilesonly")>-1)throw new et("imagery-layer:fetch-service-info","use ImageryTileLayer to open tiles-only image services");this.read(t,{origin:"service",url:this.parsedUrl})}_isMosaicDataset(e){return e.serviceSourceType?"esriImageServiceSourceTypeMosaicDataset"===e.serviceSourceType:e.fields?.length>0}_isMosaicRuleSupported(e){if(!e)return!1;const t=this._isMosaicDataset(e),n=e.currentVersion>=10.71&&e.hasMultidimensions&&!(e.fields?.length>1);return t||n}_isVectorFieldResampleFunction(e){if(null==e)return!1;const{functionName:t,functionArguments:n}=e,r="resample"===t?.toLowerCase(),i=n?.ResampleType||n?.resampleType;return r&&(7===i||10===i)}_isPicture(){return!this.format||this.format.includes("jpg")||this.format.includes("png")}_configRenderer(e){const t=this._isPicture(),{rasterInfo:n}=this;if(!t&&!this.pixelFilter||this._isVectorDataSet()){const t=this.mosaicRule?.multidimensionalDefinition?.[0].variableName,r=fte({variableName:t,rasterFunctionName:this.rasterFunction?.functionName,presetRenderers:this.presetRenderers});if(!this.bandIds&&n.bandCount>=3){const e=r?.bandIds??_te(n);!e||3===n.bandCount&&0===e[0]&&1===e[1]&&2===e[2]||(this.bandIds=e)}e||(e=r?.renderer??mte(n,{bandIds:this.bandIds,variableName:this.rasterFunction?null:t}));const i=Rte(e.toJSON());this.symbolizer?(this.symbolizer.rendererJSON=i,this.symbolizer.rasterInfo=n):this.symbolizer=new sne({rendererJSON:i,rasterInfo:n}),this.symbolizer.bind().success||(this.symbolizer=null)}return e}_clonePixelData(e){return null==e?e:{extent:e.extent&&e.extent.clone(),pixelBlock:null!=e.pixelBlock?e.pixelBlock.clone():null}}_getQueryParams(e){null!=e?.renderingRule&&"string"!=typeof e.renderingRule&&(e.renderingRule=this._getRenderingRuleString(e.renderingRule));const{raster:t,viewId:n}=this;return{raster:t,viewId:n,f:"json",...e,...this.customParameters}}_getRequestOptions(e){return{...e,query:{...e?.query,...this.customParameters}}}_decodePixelBlock(e,t,n){return this._rasterJobHandler.instance?this._rasterJobHandler.instance.decode({data:e,options:t}):Jee(e,t,n)}async _getRasterFunctionInfos(e){const t=this.sourceJSON.rasterFunctionInfos;return this.loaded?t:t&&this.version>=10.3?1===t.length&&"none"===t[0].name.toLowerCase()?t:(await Bl(n(this.parsedUrl)+"/rasterFunctionInfos",{query:this._getQueryParams(),signal:e})).data?.rasterFunctionInfos:null}_canRequestImageElement(e){return!this.pixelFilter&&(!e||e.includes("png"))}async _requestArrayBuffer(e){const{imageProps:t,requestAsImageElement:r,returnImageBitmap:i,signal:o}=e;if(r&&this._canRequestImageElement(t.format)){const r=`${n(this.parsedUrl)}/exportImage`,{data:s}=await Bl(r,{responseType:i?"blob":"image",query:this._getQueryParams({f:"image",...this.refreshParameters,...e.imageServiceParameters}),signal:o});return s instanceof Blob?{imageBitmap:await O9(s,r,o),params:t}:{imageOrCanvasElement:s,params:t}}const s=this._initJobHandler(),a=Bl(n(this.parsedUrl)+"/exportImage",{responseType:"array-buffer",query:this._getQueryParams({f:"image",...e.imageServiceParameters}),signal:o}),l=(await Promise.all([a,s]))[0].data,c=t.format||"jpgpng";let u=c;if("bsq"!==u&&"bip"!==u&&(u=Xee(l)),!u)throw new et("imagery-layer:fetch-image","unsupported format signature "+String.fromCharCode.apply(null,new Uint8Array(l)));const h={signal:o};return{pixelData:{pixelBlock:await("gif"===c||"bmp"===c||c.includes("png")&&("png"===u||"jpg"===u)?Jee(l,{useCanvas:!0,...t},h):this._decodePixelBlock(l,{width:t.width,height:t.height,planes:null,pixelType:null,noDataValue:null,format:c},h)),extent:t.extent},params:t}}_generateRasterInfo(e,t){return this.generateRasterInfo(e,t).catch((()=>null))}_isValidCustomizedMosaicRule(e){return e&&JSON.stringify(e.toJSON())!==JSON.stringify(this.defaultMosaicRule?.toJSON())}_updateMultidimensionalDefinition(e){if(this._isValidCustomizedMosaicRule(this.mosaicRule))return;let t=l7(e,{multidimensionalSubset:this.multidimensionalSubset});if(null!=t&&t.length>0){this.mosaicRule=this.mosaicRule||new A9;const e=this.mosaicRule.multidimensionalDefinition;!this.sourceJSON.defaultVariableName&&this.rasterFunction&&"none"!==this.rasterFunction.functionName?.toLowerCase()&&t.forEach((e=>e.variableName="")),t=t.filter((({variableName:e,dimensionName:t})=>e&&"*"!==e||t)),!e?.length&&t.length&&(this.mosaicRule.multidimensionalDefinition=t)}}_processVisibleRastersResponse(e,t){t=t||{};const n=e.value,{templateRRFunctionNames:r,showNoDataRecords:i,returnDomainValues:o,templateFields:s}=t,a=e.processedValues;let l=e.catalogItems?.features,c=e.properties?.Values?.map((e=>e.replaceAll(/ /gi,", ")))||[];const u=this.objectIdField||"ObjectId",h="string"==typeof n&&n.toLowerCase().includes("nodata"),p=[];if(n&&!l&&!h){const e={};e[u]=0,c=[n],l=[new jL({geometry:this.fullExtent,attributes:e})]}if(!l)return[];let d,f,m;this._updateResponseFieldNames(l,s),h&&!i&&(l=[]);for(let y=0;y<l.length;y++){if(d=l[y],null!=n){if(f=c[y],m=this.rasterFunction&&a&&a.length>0&&r&&r.length>0&&r.includes(this.rasterFunction.functionName)?a[r.indexOf(this.rasterFunction.functionName)]:n,"nodata"===f.toLowerCase()&&!i)continue;const e="Raster.ItemPixelValue",t="Raster.ServicePixelValue";d.attributes[e]=f,d.attributes[t]=m,this._updateFeatureWithMagDirValues(d,f);const o=this.fields&&this.fields.length>0;let s=this.rasterFunction&&null!=this.serviceRasterInfo.attributeTable?o?f:n:m;this.rasterFunction||(s=o?f:n),this._updateFeatureWithRasterAttributeTableValues(d,s)}if(d.sourceLayer=d.layer=this,o&&this._updateFeatureWithDomainValues(d),r&&a&&r.length===a.length)for(let e=0;e<r.length;e++){const t="Raster.ServicePixelValue."+r[e];d.attributes[t]=a[e]}p.push(l[y])}return p}_processMultidimensionalIntersection(e,t,n){const{multidimensionalSubset:r}=this;if(!r)return{isOutSide:!1,timeExtent:t,mosaicRule:n=this._combineMosaicRuleWithTimeExtent(n,t)};if(r){const{isOutside:n,intersection:i}=o7(r,{geometry:e,timeExtent:t});if(n)return{isOutSide:!0,timeExtent:null,mosaicRule:null};null!=i?.timeExtent&&(t=i.timeExtent)}if(n=this._combineMosaicRuleWithTimeExtent(n,t),n?.multidimensionalDefinition){const{isOutside:e}=o7(r,{multidimensionalDefinition:n.multidimensionalDefinition});if(e)return{isOutSide:!0,timeExtent:null,mosaicRule:null}}return{isOutSide:!1,timeExtent:t,mosaicRule:n}}_updateFeatureWithRasterAttributeTableValues(e,t){const n=this.rasterInfo.attributeTable||this.serviceRasterInfo.attributeTable;if(null==n)return;const{features:r,fields:i}=n,o=i.map((e=>e.name)).find((e=>"value"===e.toLowerCase()));if(!o)return;const s=r.filter((e=>e.attributes[o]===(null!=t?parseInt(t,10):null)));s&&s[0]&&i.forEach((t=>{const n=this._rasterAttributeTableFieldPrefix+t.name;e.attributes[n]=s[0].attributes[t.name]}))}_updateFeatureWithMagDirValues(e,t){if(!this._isVectorDataSet())return;const n=t.split(/,\s*/).map((e=>parseFloat(e))),r=n.map((e=>[e])),i=n.map((e=>({minValue:e,maxValue:e,noDataValue:null}))),o=new F5({height:1,width:1,pixelType:"f32",pixels:r,statistics:i});null!=this.pixelFilter&&this.pixelFilter({pixelBlock:o,extent:new Gd(0,0,0,0,this.spatialReference)});const s="esriImageServiceDataTypeVector-MagDir"===this.serviceDataType?[o.pixels[0][0],o.pixels[1][0]]:T6([o.pixels[0][0],o.pixels[1][0]]);e.attributes["Raster.Magnitude"]=s[0],e.attributes["Raster.Direction"]=s[1]}_updateFeatureWithDomainValues(e){(this.fields&&this.fields.filter((e=>e.domain&&"coded-value"===e.domain.type)))?.forEach((t=>{const n=e.attributes[t.name];if(null!=n){const r=t.domain.codedValues.find((e=>e.code===n));r&&(e.attributes[t.name]=r.name)}}))}_updateResponseFieldNames(e,t){if(!t||t.length<1)return;const n=this.fieldsIndex;null!=n&&e.forEach((e=>{if(e?.attributes)for(const r of t){const t=n.get(r)?.name;t&&t!==r&&(e.attributes[r]=e.attributes[t],delete e.attributes[t])}}))}_getRenderingRuleString(e){if(e){let t=e.toJSON();return t=t.rasterFunctionDefinition??t,(t.thumbnail||t.thumbnailEx)&&(t.thumbnail=t.thumbnailEx=null),JSON.stringify(t)}return null}_hasRasterFunction(e){return null!=e?.functionName&&"none"!==e.functionName.toLowerCase()}_updateRenderingRulesFunctionName(e,t){if(!e||e.length<1)return;if("Raw"===e)return e.replace("Raw","None");const n=e.toLowerCase().replaceAll(/ /gi,"_");return t.has(n)?t.get(n):e}_isRFTJson(e){return e?.name&&e.arguments&&e.function&&e.hasOwnProperty("functionType")}_isVectorDataSet(){return"esriImageServiceDataTypeVector-UV"===this.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===this.serviceDataType}_applyMosaicAndRenderingRules(e){const{raster:t,mosaicRule:n,rasterFunction:r}=this;r&&"rasterFunction"in e&&null==e.rasterFunction&&(e.rasterFunction=r),n&&null==e.mosaicRule&&(e.mosaicRule=n),t&&null==e.raster&&(e.raster=t)}_readCapabilities(e){const t=e.capabilities?e.capabilities.toLowerCase().split(",").map((e=>e.trim())):["image","catalog"],{currentVersion:n,advancedQueryCapabilities:r,maxRecordCount:i}=e,o=t.includes("image"),s="esriImageServiceDataTypeElevation"===e.serviceDataType,a=!(!e.spatialReference&&!e.extent?.spatialReference),l=t.includes("edit"),c=t.includes("mensuration")&&a,u=null==e.mensurationCapabilities?[]:e.mensurationCapabilities.toLowerCase().split(",").map((e=>e.trim())),h=c&&u.includes("basic"),p=this._isMosaicDataset(e)&&t.includes("catalog"),d=t.includes("download");return{data:{supportsAttachment:!1},operations:{supportsComputeHistograms:o,supportsExportImage:o,supportsIdentify:o,supportsImageToMap:n>=11.2&&p,supportsImageToMapMultiray:n>=11.2&&p,supportsMapToImage:n>=11.2&&p,supportsFindImages:n>=11.2&&p,supportsGetImageUrl:n>=11.3&&d,supportsMeasure:c,supportsMeasureFromImage:n>=11.2,supportsDownload:d,supportsQuery:p&&e.fields&&e.fields.length>0,supportsGetSamples:n>=10.2&&o,supportsProject:n>=10.3&&o,supportsComputeStatisticsHistograms:n>=10.4&&o,supportsQueryBoundary:n>=10.6&&o,supportsCalculateVolume:n>=10.7&&s,supportsComputePixelLocation:n>=10.7&&p,supportsComputeAngles:n>=10.91,supportsQueryGPSInfo:n>=11.2&&p,supportsAdd:l,supportsDelete:l,supportsEditing:l,supportsUpdate:l,supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsChangeTracking:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsExceedsLimitStatistics:!1,supportsQueryAnalytics:!1,supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsAsyncConvert3D:!1},query:{maxRecordCount:i,maxRecordCountFactor:void 0,supportsStatistics:!!r?.supportsStatistics,supportsOrderBy:!!r?.supportsOrderBy,supportsDistinct:!!r?.supportsDistinct,supportsPagination:!!r?.supportsPagination,supportsStandardizedQueriesOnly:!!r?.useStandardizedQueries,supportsPercentileStatistics:!!r?.supportsPercentileStatistics,supportsCentroid:!!r?.supportsReturningGeometryCentroid,supportsDistance:!!r?.supportsQueryWithDistance,supportsExtent:!!r?.supportsReturningQueryExtent,supportsGeometryProperties:!!r?.supportsReturningGeometryProperties,supportsHavingClause:!!r?.supportsHavingClause,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsMaxRecordCountFactor:!1,supportsSqlExpression:!1,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!1,supportsCacheHint:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsDefaultSpatialReference:!!r?.supportsDefaultSR,supportsFullTextSearch:!1,supportsCompactGeometry:!1,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0},mensuration:{supportsDistanceAndAngle:h,supportsAreaAndPerimeter:h,supportsPointOrCentroid:h,supportsHeightFromBaseAndTop:c&&u.includes("base-top height"),supportsHeightFromBaseAndTopShadow:c&&u.includes("base-top shadow height"),supportsHeightFromTopAndTopShadow:c&&u.includes("top-top shadow height"),supports3D:c&&u.includes("3d")}}}};function n(e){return e?.path??""}return S([To({clonable:!1})],t.prototype,"_functionRasterInfos",void 0),S([To({clonable:!1})],t.prototype,"_rasterJobHandler",void 0),S([To({clonable:!1})],t.prototype,"_cachedRendererJson",void 0),S([To({readOnly:!0})],t.prototype,"_serviceSupportsMosaicRule",void 0),S([Cp("_serviceSupportsMosaicRule",["currentVersion","fields"])],t.prototype,"readServiceSupportsMosaicRule",null),S([To({readOnly:!0})],t.prototype,"_rasterAttributeTableFieldPrefix",void 0),S([To({readOnly:!0})],t.prototype,"_rasterFunctionNamesIndex",null),S([To()],t.prototype,"adjustAspectRatio",void 0),S([To({type:[yo],json:{write:!0}})],t.prototype,"bandIds",void 0),S([Cp("bandIds")],t.prototype,"readBandIds",null),S([To({readOnly:!0,json:{read:!1}})],t.prototype,"capabilities",void 0),S([Cp("service","capabilities",["capabilities","currentVersion","serviceDataType"])],t.prototype,"readCapabilities",null),S([To({type:Number})],t.prototype,"compressionQuality",void 0),S([su("compressionQuality")],t.prototype,"writeCompressionQuality",null),S([To({type:Number})],t.prototype,"compressionTolerance",void 0),S([su("compressionTolerance")],t.prototype,"writeCompressionTolerance",null),S([To({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),S([To({readOnly:!0,dependsOn:["_serviceSupportsMosaicRule"]})],t.prototype,"defaultMosaicRule",void 0),S([Cp("defaultMosaicRule",["defaultMosaicMethod"])],t.prototype,"readDefaultMosaicRule",null),S([To({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),S([To({readOnly:!0,constructOnly:!0})],t.prototype,"exportImageServiceParameters",void 0),S([To()],t.prototype,"rasterInfo",void 0),S([To({readOnly:!0,type:[JW]})],t.prototype,"fields",void 0),S([To({readOnly:!0})],t.prototype,"fieldsIndex",null),S([To({type:["png","png8","png24","png32","jpg","bmp","gif","jpgpng","lerc","tiff","bip","bsq"],json:{write:!0}})],t.prototype,"format",null),S([Cp("service","format",["serviceDataType"])],t.prototype,"readFormat",null),S([To({type:Gd})],t.prototype,"fullExtent",void 0),S([To({readOnly:!0})],t.prototype,"hasMultidimensions",void 0),S([To({json:{read:{source:"maxImageHeight"}}})],t.prototype,"imageMaxHeight",void 0),S([To({json:{read:{source:"maxImageWidth"}}})],t.prototype,"imageMaxWidth",void 0),S([To({type:String,json:{type:k8.jsonValues,read:k8.read,write:k8.write}})],t.prototype,"interpolation",void 0),S([To()],t.prototype,"minScale",void 0),S([Cp("service","minScale")],t.prototype,"readMinScale",null),S([To()],t.prototype,"maxScale",void 0),S([Cp("service","maxScale")],t.prototype,"readMaxScale",null),S([To({type:A9})],t.prototype,"mosaicRule",null),S([Cp("mosaicRule",["mosaicRule","defaultMosaicMethod"])],t.prototype,"readMosaicRule",null),S([su("mosaicRule")],t.prototype,"writeMosaicRule",null),S([To()],t.prototype,"multidimensionalInfo",void 0),S([To({type:P9,json:{write:!0}})],t.prototype,"multidimensionalSubset",void 0),S([To({json:{type:yo}})],t.prototype,"noData",void 0),S([su("noData")],t.prototype,"writeNoData",null),S([To({type:String,json:{type:R8.jsonValues,read:R8.read,write:R8.write}})],t.prototype,"noDataInterpretation",void 0),S([To({type:String,readOnly:!0,json:{read:{source:["fields"]}}})],t.prototype,"objectIdField",void 0),S([Cp("objectIdField")],t.prototype,"readObjectIdField",null),S([To({readOnly:!0})],t.prototype,"geometryType",void 0),S([To({})],t.prototype,"typeIdField",void 0),S([To({})],t.prototype,"types",void 0),S([To({readOnly:!0})],t.prototype,"parsedUrl",null),S([To({type:Function})],t.prototype,"pixelFilter",void 0),S([To()],t.prototype,"raster",void 0),S([To({readOnly:!0})],t.prototype,"sourceType",void 0),S([Cp("sourceType",["serviceSourceType","fields"])],t.prototype,"readSourceType",null),S([To()],t.prototype,"viewId",void 0),S([To()],t.prototype,"renderer",null),S([To({types:S8,json:{name:"layerDefinition.drawingInfo.renderer",origins:{"web-scene":{types:T8,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type&&"flow"!==e.type})}}}}})],t.prototype,"internalRenderer",null),S([Cp("internalRenderer")],t.prototype,"readRenderer",null),S([su("internalRenderer")],t.prototype,"writeRenderer",null),S([To({clonable:!1})],t.prototype,"symbolizer",void 0),S([To(UJ)],t.prototype,"opacity",void 0),S([To({readOnly:!0})],t.prototype,"rasterFields",null),S([To({constructOnly:!0})],t.prototype,"rasterFunctionInfos",void 0),S([To({type:e9,json:{name:"renderingRule"}})],t.prototype,"rasterFunction",null),S([Cp("rasterFunction",["renderingRule","rasterFunctionInfos"])],t.prototype,"readRasterFunction",null),S([To({readOnly:!0})],t.prototype,"serviceDataType",void 0),S([To({readOnly:!0,type:Ip})],t.prototype,"spatialReference",void 0),S([Cp("spatialReference",["spatialReference","extent"])],t.prototype,"readSpatialReference",null),S([To({json:{type:L8.jsonValues}})],t.prototype,"pixelType",void 0),S([Cp("pixelType")],t.prototype,"readPixelType",null),S([su("pixelType")],t.prototype,"writePixelType",null),S([To({constructOnly:!0,type:Y9})],t.prototype,"serviceRasterInfo",void 0),S([To()],t.prototype,"sourceJSON",void 0),S([To(NJ)],t.prototype,"url",void 0),S([To({readOnly:!0})],t.prototype,"version",void 0),S([Cp("version",["currentVersion","fields","timeInfo"])],t.prototype,"readVersion",null),t=S([gs("esri.layers.mixins.ArcGISImageService")],t),t};let Doe=class extends(_v(Hs)){constructor(e){super(e),this.name=void 0,this.method="none",this.value=void 0,this.bandIds=void 0,this.renderer=void 0}};S([To({type:String,json:{write:!0}})],Doe.prototype,"name",void 0),S([To({type:["raster-function-template","variable","none"],json:{write:!0}}),WM({rasterFunctionTemplate:"raster-function-template",variable:"variable",none:"none"})],Doe.prototype,"method",void 0),S([To({type:String,json:{write:!0}})],Doe.prototype,"value",void 0),S([To({type:[yo],json:{write:!0}})],Doe.prototype,"bandIds",void 0),S([To({types:S8,json:{write:!0,origins:{"web-scene":{types:T8,write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type&&"flow"!==e.type})}}}}})],Doe.prototype,"renderer",void 0),Doe=S([gs("esri.renderers.support.RasterPresetRenderer")],Doe);const Foe=Doe,joe=e=>{let t=class extends e{constructor(){super(...arguments),this.activePresetRendererName=null,this.presetRenderers=null}};return S([To({type:String,json:{name:"layerDefinition.activePresetRendererName",write:{allowNull:!0}}})],t.prototype,"activePresetRendererName",void 0),S([To({type:[Foe],json:{name:"layerDefinition.presetRenderers",write:!0}})],t.prototype,"presetRenderers",void 0),t=S([gs("esri.layers.mixins.RasterPresetRendererMixin")],t),t};let Uoe=class extends(IY(S3(f3(H0(J2(joe(Poe(d3(CY(_q(sB(_v(kH))))))))))))){constructor(...e){super(...e),this.isReference=null,this.operationalLayerType="ArcGISImageServiceLayer",this.popupEnabled=!0,this.popupTemplate=null,this.type="imagery",this._debouncedSaveOperations=xr((async(e,t,r)=>{const{save:i,saveAs:o}=await n.e(6154).then(n.bind(n,36154));switch(e){case J3.SAVE:return i(this,t);case J3.SAVE_AS:return o(this,r,t)}}))}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).catch(lr).then((()=>this._fetchService(t)))),Promise.resolve(this)}get legendEnabled(){return!this._isPreviewLayer&&(this._get("legendEnabled")??!0)}set legendEnabled(e){this._set("legendEnabled",e)}get listMode(){return this._isPreviewLayer?"hide":this._get("listMode")}set listMode(e){this._set("listMode",e)}writeOperationalLayerType(e,t,n){const r="vector-field"===this.renderer?.type;t[n]=r?"ArcGISImageServiceVectorLayer":"ArcGISImageServiceLayer"}get defaultPopupTemplate(){return this.createPopupTemplate()}get _isPreviewLayer(){return!(!this.raster||!this.url?.toLowerCase().includes("/rasterrendering/imageserver"))}createPopupTemplate(e){const t=this.rasterFields,n=this.title,r=new Set;let i=!1,o=!1;this.capabilities&&(i=this.capabilities.operations.supportsQuery&&this.fields&&this.fields.length>0,o="esriImageServiceDataTypeVector-UV"===this.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===this.serviceDataType);const s=new Set;i&&s.add("raster.itempixelvalue");for(const l of t){const e=l.name.toLowerCase();s.has(e)||e.includes("raster.servicepixelvalue.")||r.add(l.name)}o&&r.add("raster.magnitude").add("raster.direction");const a=U3({fields:t,title:n},{...e,visibleFieldNames:r});return a?.fieldInfos&&this.rasterInfo?.pixelType.startsWith("f")&&a.fieldInfos.forEach((({format:e,fieldName:t})=>{e&&t&&/^raster\.(item|service)pixelvalue/i.test(t)&&(e.places=2)})),a}queryFeatures(e,t){return this.queryRasters(e,t).then((e=>{if(e?.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryFeatureCount(e,t){return this.queryRasterCount(e,t)}redraw(){this.emit("redraw")}async save(e){return this._debouncedSaveOperations(J3.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(J3.SAVE_AS,t,e)}serviceSupportsSpatialReference(e){return F3(this,e)}write(e,t){if(!this._isPreviewLayer)return super.write(e,t);if(t?.messages){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`;t.messages.push(new et("layer:unsupported",`Imagery preview layer (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}};S([To(PJ)],Uoe.prototype,"legendEnabled",null),S([To({type:["show","hide"]})],Uoe.prototype,"listMode",null),S([To({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],Uoe.prototype,"isReference",void 0),S([To({type:["ArcGISImageServiceLayer"],json:{origins:{"web-map":{type:["ArcGISImageServiceLayer","ArcGISImageServiceVectorLayer"],read:!1,write:{target:"layerType",ignoreOrigin:!0}}}}})],Uoe.prototype,"operationalLayerType",void 0),S([su("web-map","operationalLayerType")],Uoe.prototype,"writeOperationalLayerType",null),S([To(RJ)],Uoe.prototype,"popupEnabled",void 0),S([To({type:SI,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Uoe.prototype,"popupTemplate",void 0),S([To({readOnly:!0})],Uoe.prototype,"defaultPopupTemplate",null),S([To({readOnly:!0,json:{read:!1}})],Uoe.prototype,"type",void 0),S([To({readOnly:!0})],Uoe.prototype,"_isPreviewLayer",null),Uoe=S([gs("esri.layers.ImageryLayer")],Uoe);const zoe=Uoe,Goe=Object.freeze(Object.defineProperty({__proto__:null,default:zoe},Symbol.toStringTag,{value:"Module"})),Voe=96;function Boe(e,t){const n=e.extent,r=e.width,i=sp(n?.spatialReference);return n&&r?n.width/r*i*Ch*Voe:0}function $oe(e,t){return e/(sp(t)*Ch*Voe)}function Hoe(e,t,n){return Woe(e,t)&&qoe(e,n)}function Woe(e,t){return 0===t||ey(e,t)||e<t}function qoe(e,t){return 0===t||ey(e,t)||e>t}const Zoe=e=>{let t=class extends e{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=void 0,this._allLayersAndTablesMap=null}readCapabilities(e,t){const n=t.capabilities&&t.capabilities.split(",").map((e=>e.toLowerCase().trim()));if(!n)return{operations:{supportsExportMap:!1,supportsExportTiles:!1,supportsIdentify:!1,supportsQuery:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const r=this.type,i="tile"!==r&&!!t.supportsDynamicLayers,o=n.includes("query"),s=n.includes("map"),a=!!t.exportTilesAllowed,l=n.includes("tilemap"),c=n.includes("data"),u="tile"!==r&&(!t.tileInfo||i),h="tile"!==r&&(!t.tileInfo||i),p="tile"!==r,d=t.cimVersion?$D.parse(t.cimVersion):null,f=d?.greaterEqual(1,4)??!1,m=d?.greaterEqual(2,0)??!1;return{operations:{supportsExportMap:s,supportsExportTiles:a,supportsIdentify:o,supportsQuery:c,supportsTileMap:l},exportMap:s?{supportsArcadeExpressionForLabeling:f,supportsSublayersChanges:p,supportsDynamicLayers:i,supportsSublayerVisibility:u,supportsSublayerDefinitionExpression:h,supportsCIMSymbols:m}:null,exportTiles:a?{maxExportTilesCount:+t.maxExportTilesCount}:null}}readVersion(e,t){let n=t.currentVersion;return n||(n=t.hasOwnProperty("capabilities")||t.hasOwnProperty("tables")?10:t.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),n}async fetchRelatedService(e){const t=this.portalItem;if(!t||!H2(t))return null;this._relatedFeatureServicePromise||(this._relatedFeatureServicePromise=t.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},e).then((e=>e.find((e=>"Feature Service"===e.type))??null),(()=>null)));const n=await this._relatedFeatureServicePromise;return or(e),n?{itemId:n.id,url:n.url}:null}async fetchSublayerInfo(e,t){const{source:n}=e;if(this?.portalItem&&"tile"===this.type&&"map-layer"===n?.type&&H2(this.portalItem)&&e.originIdOf("url")<en.SERVICE){const r=await this.fetchRelatedService(t);r&&(e.url=Ua(r.url,n.mapLayerId.toString()),e.layerItemId=r.itemId)}const{url:r}=e;let i;if("data-layer"===n.type)i=(await Bl(r,{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey},...t})).data;else if(r&&e.originIdOf("url")>en.SERVICE)try{const e=await this._fetchAllLayersAndTablesFromService(r),t=pq(r)?.sublayer??n.mapLayerId;i=e.get(t)}catch{}else{let r=e.id;"map-layer"===n?.type&&(r=n.mapLayerId);try{i=(await this.fetchAllLayersAndTables(t)).get(r)}catch{}}return i}async fetchAllLayersAndTables(e){return this._fetchAllLayersAndTablesFromService(this.parsedUrl?.path,e)}async _fetchAllLayersAndTablesFromService(e,t){await this.load(t),this._allLayersAndTablesMap||=new Map;const n=pq(e),r=zi(this._allLayersAndTablesMap,n?.url.path,(()=>Bl(Ua(n?.url.path,"/layers"),{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey}}).then((e=>{const t=new Map,{layers:n,tables:r}=e.data,i=[...n??[],...r??[]];for(const o of i)t.set(o.id,o);return{result:t}}),(e=>({error:e}))))),i=await r;if(or(t),"result"in i)return i.result;throw i.error}};return S([To({readOnly:!0})],t.prototype,"capabilities",void 0),S([Cp("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],t.prototype,"readCapabilities",null),S([To({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),S([To({type:Gd})],t.prototype,"fullExtent",void 0),S([To(VJ)],t.prototype,"id",void 0),S([To({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],t.prototype,"legendEnabled",void 0),S([To(RJ)],t.prototype,"popupEnabled",void 0),S([To({type:Ip})],t.prototype,"spatialReference",void 0),S([To({readOnly:!0})],t.prototype,"version",void 0),S([Cp("service","version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],t.prototype,"readVersion",null),t=S([gs("esri.layers.mixins.ArcGISMapService")],t),t};let Yoe=class extends Rc{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles(gi((()=>this._refresh()),eL))}destroy(){this.getCollections=null}_refresh(){const e=null!=this.getCollections?this.getCollections():null;if(null==e)return void this.removeAll();let t=0;for(const n of e)null!=n&&(t=this._processCollection(t,n));this.splice(t,this.length)}_createNewInstance(e){return new Rc(e)}_processCollection(e,t){if(!t)return e;const n=this.itemFilterFunction??(e=>!!e);for(const r of t)if(r){if(n(r)){const t=this.indexOf(r,e);t>=0?t!==e&&this.reorder(r,e):this.add(r,e),++e}if(this.getChildrenFunction){const t=this.getChildrenFunction(r);if(Array.isArray(t))for(const n of t)e=this._processCollection(e,n);else e=this._processCollection(e,t)}}return e}};S([To()],Yoe.prototype,"getCollections",void 0),S([To()],Yoe.prototype,"getChildrenFunction",void 0),S([To()],Yoe.prototype,"itemFilterFunction",void 0),Yoe=S([gs("esri.core.CollectionFlattener")],Yoe);const Xoe=Yoe,Joe=[["binary","application/octet-stream","bin",""]];function Koe(e,t){return null!=dse(t.name,e?.supportedFormats??[])}function Qoe(e,t){if(!e)return!1;const n=rse(t,e.supportedFormats??[]);return null!=n&&e.editFormats.includes(n)}function ese(e,t){return fse(pse(e,t))}function tse(e,t){return fse(dse(e,t))}function nse(e,t){return mse(hse(e,t))}function rse(e,t){return tse(e.name,t)??ese(e.type,t)}function ise(e,t,n){return ese(e,n)??tse(t,n)}function ose({supportedFormats:e}){return ise("model/gltf-binary","glb",e)}function sse(e){const t=ose(e);return null!=t&&e.editFormats.includes(t)}function ase({supportedFormats:e}){return ise("model/gltf+json","gltf",e)}function lse({supportedFormats:e}){return ise("application/esri3do-SR_world","wld",e)}function cse({supportedFormats:e}){return ise("application/esri3do-SR_prj","prj",e)}function use(e){return[...Joe,...e]}function hse(e,t){return use(t).find((t=>fse(t)===e))}function pse(e,t){const n=e.toLowerCase();return use(t).find((e=>mse(e)===n))}function dse(e,t){const n=e.toLowerCase();return use(t).find((e=>yse(e).some((e=>n.endsWith(e)))))}function fse(e){return e?.[0]}function mse(e){return e?.[1].toLowerCase()}function yse(e){return e?.[2].split(",").map((e=>e.toLowerCase()))??[]}function gse(e){return e.tables?.find((e=>"assetMaps"===e.role))}async function vse(e,t,n){const r=n5(e),i=await poe(r,IX.from(t),{...n}),o=i.data.extent;return!o||isNaN(o.xmin)||isNaN(o.ymin)||isNaN(o.xmax)||isNaN(o.ymax)?{count:i.data.count,extent:null}:{count:i.data.count,extent:Gd.fromJSON(o)}}function bse(e,t){return e?t?4:3:t?3:2}const wse=()=>Ye.getLogger("esri.layers.graphics.featureConversionUtils"),_se={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryMultiPatch:3,esriGeometryEnvelope:0},xse=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o},Sse=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+2]},Tse=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+3]},Ese=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+2],e[n+3]=t[r+3]};function Mse(e,t,n,r){if(e){if(n)return t&&r?Ese:Sse;if(t&&r)return Tse}else if(t&&r)return Sse;return xse}function Ase({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function Ise({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function Cse({scale:e,translate:t},n,r){return n*e[r]+t[r]}function Ose(e,t,n){return e?t?n?Fse(e):Lse(e):n?Pse(e):kse(e):null}function kse(e){const t=e.coords;return{x:t[0],y:t[1]}}function Rse(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function Lse(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function Nse(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function Pse(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function Dse(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function Fse(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function jse(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function Use(e,t,n,r){let i=kse;n&&r?i=Fse:n?i=Lse:r&&(i=Pse);for(const o of t){const{geometry:t,attributes:n}=o,r=null!=t?i(t):null;e.push({attributes:n,geometry:r})}return e}function zse(e,t){return e&&t?jse:e?Nse:t?Dse:Rse}function Gse(e,t,n,r,i){const o=zse(n,r);for(const{geometry:s,attributes:a}of t){const t=null!=s?o(new Cie,s):null;e.push(new Oie(t,a,null,i?a[i]:void 0))}return e}function Vse(e,t,n=zse(null!=t.z,null!=t.m)){return n(e,t)}function Bse(e,t,n,r){for(const{geometry:i,attributes:o}of t)e.push({attributes:o,geometry:null!=i?$se(i,n,r):null});return e}function $se(e,t,n){if(null==e)return null;const r=bse(t,n),i=[];for(let o=0;o<e.coords.length;o+=r){const t=[];for(let n=0;n<r;n++)t.push(e.coords[o+n]);i.push(t)}return t?n?{points:i,hasZ:t,hasM:n}:{points:i,hasZ:t}:n?{points:i,hasM:n}:{points:i}}function Hse(e,t,n,r,i){const o=bse(n,r);for(const{geometry:s,attributes:a}of t){const t=null!=s?Wse(new Cie,s,o):null;e.push(new Oie(t,a,null,i?a[i]:void 0))}return e}function Wse(e,t,n=bse(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const r=e.coords;let i=0;for(const o of t.points)for(let e=0;e<n;e++)r[i++]=o[e];return e}function qse(e,t,n,r){for(const{geometry:i,attributes:o}of t)e.push({attributes:o,geometry:null!=i?Zse(i,n,r):null});return e}function Zse(e,t,n){if(!e)return null;const r=bse(t,n),{coords:i,lengths:o}=e,s=[];let a=0;for(const l of o){const e=[];for(let t=0;t<l;t++){const t=[];for(let e=0;e<r;e++)t.push(i[a++]);e.push(t)}s.push(e)}return t?n?{paths:s,hasZ:t,hasM:n}:{paths:s,hasZ:t}:n?{paths:s,hasM:n}:{paths:s}}function Yse(e,t,n,r,i){const o=bse(n,r);for(const{geometry:s,attributes:a,centroid:l}of t){const t=null!=s?Xse(new Cie,s,o):null,n=null!=l?Vse(new Cie,l):null;e.push(new Oie(t,a,n,i?a[i]:void 0))}return e}function Xse(e,t,n=bse(t.hasZ,t.hasM)){const{lengths:r,coords:i}=e;let o=0;for(const s of t.paths){for(const e of s)for(let t=0;t<n;t++)i[o++]=e[t];r.push(s.length)}return e}function Jse(e,t,n,r){for(const{geometry:i,attributes:o,centroid:s}of t){const t=null!=i?Kse(i,n,r):null;if(null!=s){const n=kse(s);e.push({attributes:o,centroid:n,geometry:t})}else e.push({attributes:o,geometry:t})}return e}function Kse(e,t,n){if(!e)return null;const r=bse(t,n),{coords:i,lengths:o}=e,s=[];let a=0;for(const l of o){const e=[];for(let t=0;t<l;t++){const t=[];for(let e=0;e<r;e++)t.push(i[a++]);e.push(t)}s.push(e)}return t?n?{rings:s,hasZ:t,hasM:n}:{rings:s,hasZ:t}:n?{rings:s,hasM:n}:{rings:s}}function Qse(e,t,n,r,i){for(const{geometry:o,centroid:s,attributes:a}of t){const t=null!=o?eae(new Cie,o,n,r):null,l=i?a[i]:void 0;null!=s?e.push(new Oie(t,a,Rse(new Cie,s),l)):e.push(new Oie(t,a,null,l))}return e}function eae(e,t,n=t.hasZ,r=t.hasM){return tae(e,t.rings,n,r)}function tae(e,t,n,r){const i=bse(n,r),{lengths:o,coords:s}=e;let a=0;Tae(e);for(const l of t){for(const e of l)for(let t=0;t<i;t++)s[a++]=e[t];o.push(l.length)}return e}const nae=[],rae=[];function iae(e,t,n,r,i){nae[0]=e;const[o]=oae(rae,nae,t,n,r,i);return Eae(nae),Eae(rae),o}function oae(e,t,n,r,i,o){if(Eae(e),!n){for(const n of t){const t=o?n.attributes[o]:void 0;e.push(new Oie(null,n.attributes,null,t))}return e}switch(n){case"esriGeometryPoint":return Gse(e,t,r,i,o);case"esriGeometryMultipoint":return Hse(e,t,r,i,o);case"esriGeometryPolyline":return Yse(e,t,r,i,o);case"esriGeometryPolygon":case"esriGeometryMultiPatch":return Qse(e,t,r,i,o);default:wse().error("convertToFeatureSet:unknown-geometry",new et(`Unable to parse unknown geometry type '${n}'`)),Eae(e)}return e}function sae(e,t,n,r){rae[0]=e,uae(nae,rae,t,n,r);const i=nae[0];return Eae(nae),Eae(rae),i}function aae(e,t,n){if(null==e)return null;const r=new Cie;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),hv(e)?zse(t??null!=e.z,n??null!=e.m)(r,e):dv(e)?eae(r,e,t,n):pv(e)?Xse(r,e,bse(t,n)):uv(e)?Wse(r,e,bse(t,n)):void wse().error("convertFromGeometry:unknown-geometry",new et(`Unable to parse unknown geometry type '${e}'`))}function lae(e,t,n,r){const i=e&&("coords"in e?e:e.geometry);if(null==i)return null;switch(t){case"esriGeometryPoint":{let e=kse;return n&&r?e=Fse:n?e=Lse:r&&(e=Pse),e(i)}case"esriGeometryMultipoint":return $se(i,n,r);case"esriGeometryPolyline":return Zse(i,n,r);case"esriGeometryPolygon":return Kse(i,n,r);default:return wse().error("convertToGeometry:unknown-geometry",new et(`Unable to parse unknown geometry type '${t}'`)),null}}function cae(e,t){for(const n of t)e.push({attributes:n.attributes});return e}function uae(e,t,n,r,i){if(Eae(e),null==n)return cae(e,t);switch(n){case"esriGeometryPoint":return Use(e,t,r,i);case"esriGeometryMultipoint":return Bse(e,t,r,i);case"esriGeometryPolyline":return qse(e,t,r,i);case"esriGeometryPolygon":return Jse(e,t,r,i);default:wse().error("convertToFeatureSet:unknown-geometry",new et(`Unable to parse unknown geometry type '${n}'`))}return e}function hae(e){const{objectIdFieldName:t,spatialReference:n,transform:r,fields:i,hasM:o,hasZ:s,features:a,geometryType:l,exceededTransferLimit:c,uniqueIdField:u,queryGeometry:h,queryGeometryType:p}=e,d={features:uae([],a,l,s,o),fields:i,geometryType:l,objectIdFieldName:t,spatialReference:n,uniqueIdField:u,queryGeometry:lae(h,p,!1,!1)};return r&&(d.transform=r),c&&(d.exceededTransferLimit=c),o&&(d.hasM=o),s&&(d.hasZ=s),d}function pae(e,t){const n=new Rie,{hasM:r,hasZ:i,features:o,objectIdFieldName:s,spatialReference:a,geometryType:l,exceededTransferLimit:c,transform:u,fields:h}=e;return h&&(n.fields=h),n.geometryType=l??null,n.objectIdFieldName=s??t??null,n.spatialReference=a??null,n.objectIdFieldName?(o&&oae(n.features,o,l,i,r,n.objectIdFieldName),c&&(n.exceededTransferLimit=c),r&&(n.hasM=r),i&&(n.hasZ=i),u&&(n.transform=u),n):(wse().error(new et("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function dae(e){const{transform:t,features:n,hasM:r,hasZ:i}=e;if(!t)return e;for(const o of n)null!=o.geometry&&wae(o.geometry,o.geometry,r,i,t),null!=o.centroid&&wae(o.centroid,o.centroid,r,i,t);return e.transform=null,e}function fae(e,t){const{geometryType:n,features:r,hasM:i,hasZ:o}=t;if(!e)return t;for(let s=0;s<r.length;s++){const t=r[s],a=t.weakClone();a.geometry=new Cie,mae(a.geometry,t.geometry,i,o,n,e),t.centroid&&(a.centroid=new Cie,mae(a.centroid,t.centroid,i,o,"esriGeometryPoint",e)),r[s]=a}return t.transform=e,t}function mae(e,t,n,r,i,o,s=n,a=r){if(Tae(e),!t?.coords.length)return null;const l=_se[i],{coords:c,lengths:u}=t,h=bse(n,r),p=bse(n&&s,r&&a),d=Mse(n,r,s,a);if(!u.length)return d(e.coords,c,0,0,Ase(o,c[0]),Ise(o,c[1])),Tae(e,h,0),e;let f,m,y,g,v=0,b=0,w=b;for(const _ of u){if(_<l)continue;let t=0;b=w,y=f=Ase(o,c[v]),g=m=Ise(o,c[v+1]),d(e.coords,c,b,v,y,g),t++,v+=h,b+=p;for(let n=1;n<_;n++,v+=h)y=Ase(o,c[v]),g=Ise(o,c[v+1]),y===f&&g===m||(d(e.coords,c,b,v,y-f,g-m),b+=p,t++,f=y,m=g);t>=l&&(e.lengths.push(t),w=b)}return Eae(e.coords,w),e.coords.length?e:null}function yae(e,t,n,r,i,o,s=n,a=r){if(Tae(e),!t?.coords.length)return null;const l=_se[i],{coords:c,lengths:u}=t,h=bse(n,r),p=bse(n&&s,r&&a),d=Mse(n,r,s,a);if(!u.length)return d(e.coords,c,0,0,c[0],c[1]),Tae(e,h,0),e;let f=0;const m=o*o;for(const y of u){if(y<l){f+=y*h;continue}const t=e.coords.length/p,n=f,r=f+(y-1)*h;d(e.coords,c,e.coords.length,n,c[n],c[n+1]),vae(e.coords,c,h,m,d,n,r),d(e.coords,c,e.coords.length,r,c[r],c[r+1]);const i=e.coords.length/p-t;i>=l?e.lengths.push(i):Eae(e.coords,t*p),f+=y*h}return e.coords.length?e:null}function gae(e,t,n,r){const i=e[t],o=e[t+1],s=e[n],a=e[n+1],l=e[r],c=e[r+1];let u=s,h=a,p=l-u,d=c-h;if(0!==p||0!==d){const e=((i-u)*p+(o-h)*d)/(p*p+d*d);e>1?(u=l,h=c):e>0&&(u+=p*e,h+=d*e)}return p=i-u,d=o-h,p*p+d*d}function vae(e,t,n,r,i,o,s){let a,l=r,c=0;for(let u=o+n;u<s;u+=n)a=gae(t,u,o,s),a>l&&(c=u,l=a);l>r&&(c-o>n&&vae(e,t,n,r,i,o,c),i(e,t,e.length,c,t[c],t[c+1]),s-c>n&&vae(e,t,n,r,i,c,s))}function bae(e,t,n,r){if(!t?.coords?.length)return null;const i=bse(n,r);let o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=i){const n=e[t],r=e[t+1];o=Math.min(o,n),a=Math.max(a,n),s=Math.min(s,r),l=Math.max(l,r)}}return CO(e)?IO(e,o,s,a,l):rg(o,s,a,l,e),e}function wae(e,t,n,r,i){const{coords:o,lengths:s}=t,a=bse(n,r);if(!o.length)return e!==t&&Tae(e),e;ft(i);const{originPosition:l,scale:c,translate:u}=i,h=Mae;h.originPosition=l;const p=h.scale;p[0]=c[0]??1,p[1]=-(c[1]??1),p[2]=c[2]??1,p[3]=c[3]??1;const d=h.translate;if(d[0]=u[0]??0,d[1]=u[1]??0,d[2]=u[2]??0,d[3]=u[3]??0,!s.length){for(let t=0;t<a;++t)e.coords[t]=Cse(h,o[t],t);return e!==t&&Tae(e,a,0),e}let f=0;for(let m=0;m<s.length;m++){const t=s[m];e.lengths[m]=t;for(let i=0;i<a;++i)e.coords[f+i]=Cse(h,o[f+i],i);let n=e.coords[f],r=e.coords[f+1];f+=a;for(let i=1;i<t;i++,f+=a){n+=o[f]*p[0],r+=o[f+1]*p[1],e.coords[f]=n,e.coords[f+1]=r;for(let t=2;t<a;++t)e.coords[f+t]=Cse(h,o[f+t],t)}}return e!==t&&Tae(e,o.length,s.length),e}function _ae(e,t,n,r,i,o){if(Tae(e),e.lengths.push(...t.lengths),n===i&&r===o)for(let s=0;s<t.coords.length;s++)e.coords.push(t.coords[s]);else{const s=bse(n,r),a=Mse(n,r,i,o),l=t.coords;for(let t=0;t<l.length;t+=s)a(e.coords,l,e.coords.length,t,l[t],l[t+1])}return e}function xae(e,t,n,r){let i=0,o=e[r*t],s=e[r*(t+1)];for(let a=1;a<n;a++){const n=o+e[r*(t+a)],l=s+e[r*(t+a)+1],c=(n-o)*(l+s);o=n,s=l,i+=c}return.5*i}function Sae(e,t){const{coords:n,lengths:r}=e;let i=0,o=0;for(let s=0;s<r.length;s++){const e=r[s];o+=xae(n,i,e,t),i+=e}return Math.abs(o)}function Tae(e,t=0,n=0){Eae(e.lengths,n),Eae(e.coords,t)}function Eae(e,t=0){e.length!==t&&(e.length=t)}const Mae={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};function Aae(e,t){return t}function Iae(e,t,n,r){switch(n){case 0:return Rae(e,t+r,0);case 1:return"lowerLeft"===e.originPosition?Rae(e,t+r,1):Lae(e,t+r,1)}}function Cae(e,t,n,r){return 2===n?Rae(e,t,2):Iae(e,t,n,r)}function Oae(e,t,n,r){return 2===n?0===t?0:Rae(e,t,3):Iae(e,t,n,r)}function kae(e,t,n,r){return 3===n?0===t?0:Rae(e,t,3):Cae(e,t,n,r)}function Rae({translate:e,scale:t},n,r){return e[r]+n*t[r]}function Lae({translate:e,scale:t},n,r){return e[r]-n*t[r]}let Nae=class{constructor(e){this._options=e,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=Aae,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._mValueOffset=null,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(e){if(this._options.applyTransform&&(e.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!e.hasZ)return;const t=zW(e.geometryType,this._options.sourceSpatialReference,e.spatialReference);if(null!=t)for(const n of e.features)t(n.geometry)}createSpatialReference(){return{}}addField(e,t){const n=e.fields;ft(n),n.push(t);const r=n.map((e=>e.name));this._attributesConstructor=function(){for(const e of r)this[e]=null}}addFeature(e,t){e.features.push(t)}prepareFeatures(e){switch(this._transform=e.transform,this._options.applyTransform&&e.transform&&(this._applyTransform=this._deriveApplyTransform(e)),this._mValueOffset=null,this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&(this._mValueOffset=this._vertexDimension,this._vertexDimension++),e.geometryType){case"esriGeometryPoint":this.addCoordinate=(e,t,n)=>this.addCoordinatePoint(e,t,n),this.createGeometry=e=>this.createPointGeometry(e);break;case"esriGeometryPolygon":this.addCoordinate=(e,t,n)=>this._addCoordinatePolygon(e,t,n),this.createGeometry=e=>this._createPolygonGeometry(e);break;case"esriGeometryPolyline":this.addCoordinate=(e,t,n)=>this._addCoordinatePolyline(e,t,n),this.createGeometry=e=>this._createPolylineGeometry(e);break;case"esriGeometryMultipoint":this.addCoordinate=(e,t,n)=>this._addCoordinateMultipoint(e,t,n),this.createGeometry=e=>this._createMultipointGeometry(e)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(e,t,n){0===this._lengths.length&&(this._toAddInCurrentPath=t),this._lengths.push(t)}addQueryGeometry(e,t){const{queryGeometry:n,queryGeometryType:r}=t,i=wae(n.clone(),n,!1,!1,this._transform),o=lae(i,r,!1,!1);e.queryGeometryType=r,e.queryGeometry={...o}}createPointGeometry(e){const t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}addCoordinatePoint(e,t,n){const r=this._transform;switch(t=this._applyTransform(r,t,n,0),n){case 0:e.x=t;break;case 1:e.y=t;break;case 2:"z"in e?e.z=t:e.m=t;break;case 3:e.m=t}}_transformPathLikeValue(e,t){let n=0;t<=1&&(n=this._previousCoordinate[t],this._previousCoordinate[t]+=e);const r=this._transform;return null!==this._mValueOffset&&0===e&&t>0&&!(t%this._mValueOffset)?0:this._applyTransform(r,e,t,n)}_addCoordinatePolyline(e,t,n){this._dehydratedAddPointsCoordinate(e.paths,t,n)}_addCoordinatePolygon(e,t,n){this._dehydratedAddPointsCoordinate(e.rings,t,n)}_addCoordinateMultipoint(e,t,n){0===n&&e.points.push([]);const r=this._transformPathLikeValue(t,n);e.points[e.points.length-1].push(r)}_createPolygonGeometry(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createPolylineGeometry(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createMultipointGeometry(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_dehydratedAddPointsCoordinate(e,t,n){0===n&&0==this._toAddInCurrentPath--&&(e.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const r=this._transformPathLikeValue(t,n),i=e[e.length-1];0===n&&(this._coordinateBufferPtr=0,this._coordinateBuffer=new Array(this._vertexDimension),i.push(this._coordinateBuffer)),this._coordinateBuffer[this._coordinateBufferPtr++]=r}_deriveApplyTransform(e){const{hasZ:t,hasM:n}=e;return t&&n?kae:t?Cae:n?Oae:Iae}};async function Pae(e,t,n){const r=n5(e),i={...n},o=IX.from(t),s=!o.quantizationParameters,{data:a}=await loe(r,o,new Nae({sourceSpatialReference:o.sourceSpatialReference,applyTransform:s}),i);return a}let Dae=class extends Ms{constructor(e){super(e),this.dynamicDataSource=null,this.fieldsIndex=null,this.gdbVersion=null,this.infoFor3D=null,this.pbfSupported=!1,this.queryAttachmentsSupported=!1,this.sourceSpatialReference=null,this.url=null}get parsedUrl(){return ba(this.url)}async execute(e,t){const n=await this.executeJSON(e,t);return this.featureSetFromJSON(e,n,t)}async executeJSON(e,t){const n=this._normalizeQuery(e),r=null!=e.outStatistics?.[0],i=A("featurelayer-pbf-statistics"),o=!r||i;let s;if(this.pbfSupported&&o)try{s=await Pae(this.url,n,t)}catch(a){if("query:parsing-pbf"!==a.name)throw a;this.pbfSupported=!1}return this.pbfSupported&&o||(s=await voe(this.url,n,t)),this._normalizeFields(s.fields),s}async featureSetFromJSON(e,t,r){if(!this._queryIs3DObjectFormat(e)||null==this.infoFor3D||!t.features)return tq.fromJSON(t);const{meshFeatureSetFromJSON:i}=await pr(Promise.all([n.e(8711),n.e(7537),n.e(2293)]).then(n.bind(n,1565)),r);return i(e,this.infoFor3D,t)}executeForCount(e,t){return moe(this.url,this._normalizeQuery(e),t)}executeForExtent(e,t){return vse(this.url,this._normalizeQuery(e),t)}executeForIds(e,t){return yoe(this.url,this._normalizeQuery(e),t)}async executeRelationshipQuery(e,t){const[{default:r},{executeRelationshipQuery:i}]=await pr(Promise.all([Promise.resolve().then((()=>sK)),n.e(6117).then(n.bind(n,6117))]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),i(this.url,e,t)}async executeRelationshipQueryForCount(e,t){const[{default:r},{executeRelationshipQueryForCount:i}]=await pr(Promise.all([Promise.resolve().then((()=>sK)),n.e(6117).then(n.bind(n,6117))]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),i(this.url,e,t)}async executeAttachmentQuery(e,t){const{executeAttachmentQuery:r,fetchAttachments:i,processAttachmentQueryResult:o}=await pr(n.e(975).then(n.bind(n,90975)),t),s=n5(this.url);return o(s,await(this.queryAttachmentsSupported?r(s,e,t):i(s,e,t)))}async executeBinsQuery(e,t){const{executeBinsQuery:r}=await pr(n.e(1865).then(n.bind(n,81865)),t);return r(this.parsedUrl,e,t)}async executeTopFeaturesQuery(e,t){const{executeTopFeaturesQuery:r}=await pr(n.e(663).then(n.bind(n,33044)),t);return r(this.parsedUrl,e,this.sourceSpatialReference,t)}async executeForTopIds(e,t){const{executeForTopIds:r}=await pr(n.e(2726).then(n.bind(n,62726)),t);return r(this.parsedUrl,e,t)}async executeForTopExtents(e,t){const{executeForTopExtents:r}=await pr(n.e(5577).then(n.bind(n,85577)),t);return r(this.parsedUrl,e,t)}async executeForTopCount(e,t){const{executeForTopCount:r}=await pr(n.e(2376).then(n.bind(n,32376)),t);return r(this.parsedUrl,e,t)}_normalizeQuery(e){let t=IX.from(e);t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(t=t===e?t.clone():t,t.gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?dX.from(e.dynamicDataSource):this.dynamicDataSource);const{infoFor3D:n}=this;if(null!=n&&this._queryIs3DObjectFormat(e)){t=t===e?t.clone():t,t.formatOf3DObjects=null;const r=ose(n),i=ase(n);for(const e of n.queryFormats){if(e===r){t.formatOf3DObjects=e;break}e!==i||t.formatOf3DObjects||(t.formatOf3DObjects=e)}if(!t.formatOf3DObjects)throw new et("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(t.outSpatialReference&&!Qu(t.outSpatialReference,this.sourceSpatialReference))throw new et("query:unsupported-out-spatial-reference","3D object feature services do not support projection of geometries");if(null==t.outFields||!t.outFields.includes("*")){t=t===e?t.clone():t,null==t.outFields&&(t.outFields=[]);const{originX:r,originY:i,originZ:o,translationX:s,translationY:a,translationZ:l,scaleX:c,scaleY:u,scaleZ:h,rotationX:p,rotationY:d,rotationZ:f,rotationDeg:m}=n.transformFieldRoles;t.outFields.push(r,i,o,s,a,l,c,u,h,p,d,f,m)}}return t}_normalizeFields(e){if(null!=this.fieldsIndex&&null!=e)for(const t of e){const e=this.fieldsIndex.get(t.name);e&&Object.assign(t,e.toJSON())}}_queryIs3DObjectFormat(e){return null!=this.infoFor3D&&!0===e.returnGeometry&&"xyFootprint"!==e.multipatchOption&&!e.outStatistics}};S([To({type:dX})],Dae.prototype,"dynamicDataSource",void 0),S([To()],Dae.prototype,"fieldsIndex",void 0),S([To()],Dae.prototype,"gdbVersion",void 0),S([To()],Dae.prototype,"infoFor3D",void 0),S([To({readOnly:!0})],Dae.prototype,"parsedUrl",null),S([To()],Dae.prototype,"pbfSupported",void 0),S([To()],Dae.prototype,"queryAttachmentsSupported",void 0),S([To()],Dae.prototype,"sourceSpatialReference",void 0),S([To({type:String})],Dae.prototype,"url",void 0),Dae=S([gs("esri.layers.graphics.sources.support.QueryTask")],Dae);const Fae=Dae;var jae;function Uae(e){return"esriSMS"===e?.type}function zae(e,t,n){const r=this.originIdOf(t)>=nn(n.origin);return{ignoreOrigin:!0,allowNull:r,enabled:!!n&&"map-image"===n.layer?.type&&(n.writeSublayerStructure||r)}}function Gae(e,t,n){return{enabled:!!n&&"tile"===n.layer?.type&&(n.origin&&this.originIdOf(t)>=nn(n.origin)||this._isOverridden(t))}}function Vae(e,t,n){return{ignoreOrigin:!0,enabled:n&&n.writeSublayerStructure||!1}}function Bae(e,t,n){return{ignoreOrigin:!0,enabled:!!n&&(n.writeSublayerStructure||this.originIdOf(t)>=nn(n.origin))}}let $ae=0;const Hae=new Set(["layer","parent","loaded","loadStatus","loadError","loadWarnings"]);let Wae=jae=class extends(sB(iI(Wc))){constructor(e){super(e),this.capabilities=void 0,this.maxScaleRange={minScale:0,maxScale:0},this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.isTable=!1,this.legendEnabled=!0,this.objectIdField=null,this.parent=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.spatialReference=null,this.title=null,this.typeIdField=null,this.type="sublayer",this.types=null,this._lastParsedUrl=null}async load(e){return this.addResolvingPromise((async()=>{const{layer:t,url:n}=this;if(!t&&!n)throw new et("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:this});const r=t?await t.fetchSublayerInfo(this,e):(await Bl(n,{responseType:"json",query:{f:"json"},...e})).data;r&&(this.sourceJSON=r,this.read({layerDefinition:r},{origin:"service",layer:t,url:n5(n)}))})()),this}readCapabilities(e,t){t=t.layerDefinition||t;const{operations:{supportsQuery:n,supportsQueryAttachments:r},query:{supportsFormatPBF:i,supportsOrderBy:o,supportsPagination:s},data:{supportsAttachment:a},queryRelated:l}=iQ(t,this.url);return{exportMap:{supportsModification:!!t.canModifyLayer},operations:{supportsQuery:n,supportsQueryAttachments:r},data:{supportsAttachment:a},query:{supportsFormatPBF:i,supportsOrderBy:o,supportsPagination:s},queryRelated:l}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(e){this._setAndNotifyLayer("definitionExpression",e)}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}readMaxScaleRange(e,t){return{minScale:(t=t.layerDefinition||t).minScale??0,maxScale:t.maxScale??0}}get fieldsIndex(){return new KD(this.fields||[])}set floorInfo(e){this._setAndNotifyLayer("floorInfo",e)}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields)for(const n of t.fields)if("esriFieldTypeGlobalID"===n.type)return n.name}get id(){return this._get("id")??$ae++}set id(e){this._get("id")!==e&&(!1!==this.layer?.capabilities?.exportMap?.supportsDynamicLayers?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}readIsTable(e,t){return"Table"===t.type}set labelingInfo(e){this._setAndNotifyLayer("labelingInfo",e)}writeLabelingInfo(e,t,n,r){e&&e.length&&(t.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},r)))}})}set labelsVisible(e){this._setAndNotifyLayer("labelsVisible",e)}set layer(e){this._set("layer",e),this.sublayers?.forEach((t=>t.layer=e))}set listMode(e){this._set("listMode",e)}set minScale(e){this._setAndNotifyLayer("minScale",e)}readMinScale(e,t){return t.minScale||t.layerDefinition?.minScale||0}set maxScale(e){this._setAndNotifyLayer("maxScale",e)}readMaxScale(e,t){return t.maxScale||t.layerDefinition?.maxScale||0}readObjectIdFieldFromService(e,t){return(t=t.layerDefinition||t).objectIdField?t.objectIdField:t.fields?.find((e=>"esriFieldTypeOID"===e.type))?.name}set opacity(e){this._setAndNotifyLayer("opacity",e)}readOpacity(e,t){const{layerDefinition:n}=t;return 1-.01*(n?.transparency??n?.drawingInfo?.transparency??0)}writeOpacity(e,t,n,r){t.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,t){this.parent&&this.parent!==this.layer?t.parentLayerId=qi(this.parent.id):t.parentLayerId=-1}get queryTask(){if(!this.layer)return null;const{capabilities:e,fieldsIndex:t,layer:n,url:r}=this,{spatialReference:i}=n,o="gdbVersion"in n?n.gdbVersion:void 0,s=A("featurelayer-pbf")&&e?.query.supportsFormatPBF;return new Fae({fieldsIndex:t,gdbVersion:o,pbfSupported:s,queryAttachmentsSupported:e?.operations?.supportsQueryAttachments??!1,sourceSpatialReference:i,url:r})}set renderer(e){if(hE(e,this.fieldsIndex),e)for(const t of e.getSymbols())if(xL(t)){Ye.getLogger(this).warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",e)}get source(){return this._get("source")||new JY({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer("source",e)}set sublayers(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}castSublayers(e){return so(Rc.ofType(jae),e)}writeSublayers(e,t,n){this.sublayers?.length&&(t[n]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTitle(e,t){return t.layerDefinition?.name??t.name}readTypeIdField(e,t){let n=(t=t.layerDefinition||t).typeIdField;if(n&&t.fields){n=n.toLowerCase();const e=t.fields.find((e=>e.name.toLowerCase()===n));e&&(n=e.name)}return n}get url(){const e=this.layer?.parsedUrl??this._lastParsedUrl,t=this.source;if(!e)return null;if(this._lastParsedUrl=e,"map-layer"===t?.type)return`${e.path}/${t.mapLayerId}`;const n={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${_a(n)}`}set url(e){this._overrideIfSome("url",e)}set visible(e){this._setAndNotifyLayer("visible",e)}writeVisible(e,t,n,r){t[n]=this.getAtOrigin("defaultVisibility","service")||e}clone(){const{store:e}=Ct(this),t=new jae;return Ct(t).store=e.clone(Hae),this.commitProperty("url"),t._lastParsedUrl=this._lastParsedUrl,t}createPopupTemplate(e){return U3(this,e)}createQuery(){return new IX({returnGeometry:!0,where:this.definitionExpression||"1=1"})}async createFeatureLayer(){if(this.hasOwnProperty("sublayers"))return null;const e=(await Promise.resolve().then((()=>o4))).default,{layer:t,url:n}=this;let r;if(n&&this.originIdOf("url")>en.SERVICE)r=new e({url:n});else{if(!t?.parsedUrl)throw new et("createFeatureLayer:missing-information","Cannot create a FeatureLayer without a url or a parent layer");{const n=t.parsedUrl;r=new e({url:n.path}),n&&this.source&&("map-layer"===this.source.type?r.layerId=this.source.mapLayerId:r.dynamicDataSource=this.source)}}return null!=t?.refreshInterval&&(r.refreshInterval=t.refreshInterval),this.definitionExpression&&(r.definitionExpression=this.definitionExpression),this.floorInfo&&(r.floorInfo=_e(this.floorInfo)),this.originIdOf("labelingInfo")>en.SERVICE&&(r.labelingInfo=_e(this.labelingInfo)),this.originIdOf("labelsVisible")>en.DEFAULTS&&(r.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>en.DEFAULTS&&(r.legendEnabled=this.legendEnabled),this.originIdOf("visible")>en.DEFAULTS&&(r.visible=this.visible),this.originIdOf("minScale")>en.DEFAULTS&&(r.minScale=this.minScale),this.originIdOf("maxScale")>en.DEFAULTS&&(r.maxScale=this.maxScale),this.originIdOf("opacity")>en.DEFAULTS&&(r.opacity=this.opacity),this.originIdOf("popupTemplate")>en.DEFAULTS&&(r.popupTemplate=_e(this.popupTemplate)),this.originIdOf("renderer")>en.SERVICE&&(r.renderer=_e(this.renderer)),"data-layer"===this.source?.type&&(r.dynamicDataSource=this.source.clone()),this.originIdOf("title")>en.DEFAULTS&&(r.title=this.title),"map-image"===t?.type&&t.originIdOf("customParameters")>en.DEFAULTS&&(r.customParameters=t.customParameters),"tile"===t?.type&&t.originIdOf("customParameters")>en.DEFAULTS&&(r.customParameters=t.customParameters),r}getField(e){return this.fieldsIndex.get(e)}getFeatureType(e){return jK(this.types,this.typeIdField,e)}getFieldDomain(e,t){const n=t?.feature,r=this.getFeatureType(n);if(r){const t=r.domains&&r.domains[e];if(t&&"inherited"!==t.type)return t}return this._getLayerDomain(e)}async queryAttachments(e,t){await this.load(),e=nK.from(e);const n=this.capabilities;if(!n?.data?.supportsAttachment)throw new et("queryAttachments:not-supported","this layer doesn't support attachments");const{attachmentTypes:r,objectIds:i,globalIds:o,num:s,size:a,start:l,where:c}=e;if(!n?.operations?.supportsQueryAttachments&&(r?.length>0||o?.length>0||a?.length>0||s||l||c))throw new et("queryAttachments:option-not-supported","when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e);if(!(i?.length||o?.length||c))throw new et("queryAttachments:invalid-query","'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);return this.queryTask.executeAttachmentQuery(e,t)}async queryFeatureCount(e=this.createQuery(),t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new et("queryFeatureCount:not-supported","this layer doesn't support queries.");if(!this.url)throw new et("queryFeatureCount:not-supported","this layer has no url.");const n=this.layer?.apiKey;return await this.queryTask.executeForCount(e,{...t,query:{...this.layer?.customParameters,token:n}})}async queryFeatures(e=this.createQuery(),t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new et("queryFeatures:not-supported","this layer doesn't support queries.");if(!this.url)throw new et("queryFeatures:not-supported","this layer has no url.");const n=await this.queryTask.execute(e,{...t,query:{...this.layer?.customParameters,token:this.layer?.apiKey}});if(n?.features)for(const r of n.features)r.sourceLayer=this;return n}async queryObjectIds(e=this.createQuery(),t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new et("queryObjectIds:not-supported","this layer doesn't support queries.");if(!this.url)throw new et("queryObjectIds:not-supported","this layer has no url.");const n=this.layer?.apiKey;return await this.queryTask.executeForIds(e,{...t,query:{...this.layer?.customParameters,token:n}})}async queryRelatedFeatures(e,t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new et("queryRelatedFeatures:not-supported","this layer doesn't support queries.");if(!this.url)throw new et("queryRelatedFeatures:not-supported","this layer has no url.");const n=this.layer?.apiKey;return await this.queryTask.executeRelationshipQuery(e,{...t,query:{...this.layer?.customParameters,token:n}})}async queryRelatedFeaturesCount(e,t){if(await this.load(),!this.capabilities.operations.supportsQuery)throw new et("queryRelatedFeaturesCount:not-supported","this layer doesn't support queries.");if(!this.capabilities.queryRelated.supportsCount)throw new et("queryRelatedFeaturesCount:not-supported","this layer doesn't support query related counts.");if(!this.url)throw new et("queryRelatedFeaturesCount:not-supported","this layer has no url.");const n=this.layer?.apiKey;return await this.queryTask.executeRelationshipQueryForCount(e,{...t,query:{...this.layer?.customParameters,token:n}})}toExportImageJSON(e){const t={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:"mapLayer"}},n=Tv(e,this.definitionExpression);null!=n&&(t.definitionExpression=n);const r=["renderer","labelingInfo","opacity","labelsVisible"].reduce(((e,t)=>(e[t]=this.originIdOf(t),e)),{});if(Object.keys(r).some((e=>r[e]>en.SERVICE))){const e=t.drawingInfo={};if(r.renderer>en.SERVICE&&(e.renderer=this.renderer?this.renderer.toJSON():null),r.labelsVisible>en.SERVICE&&(e.showLabels=this.labelsVisible),this.labelsVisible&&r.labelingInfo>en.SERVICE)if(this.labelingInfo){!this.loaded&&this.labelingInfo?.some((e=>!e.labelPlacement))&&Ye.getLogger(this).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.`,{sublayer:this});let t=this.labelingInfo;null!=this.geometryType&&(t=P3(this.labelingInfo,vv.toJSON(this.geometryType))),e.showLabels=!0,e.labelingInfo=t.filter((e=>e.labelPlacement)).map((e=>e.toJSON({origin:"service",layer:this.layer})))}else e.showLabels=!1;r.opacity>en.SERVICE&&(e.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(e.renderer)}return t}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline?.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,t){if(e){const n=("uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:null)??[];for(const e of n)Uae(e.symbol)&&t(e.symbol);"symbol"in e&&Uae(e.symbol)&&t(e.symbol),"defaultSymbol"in e&&Uae(e.defaultSymbol)&&t(e.defaultSymbol)}}_setAndNotifyLayer(e,t){const n=this.layer,r=this._get(e);let i,o;switch(e){case"definitionExpression":case"floorInfo":i="supportsSublayerDefinitionExpression";break;case"minScale":case"maxScale":case"visible":i="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":i="supportsDynamicLayers",o="supportsModification"}const s=Ct(this).getDefaultOrigin();if("service"!==s){if(i&&!1===this.layer?.capabilities?.exportMap?.[i])return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${i}'`);if(o&&!1===this.capabilities?.exportMap[o])return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${o}'`)}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,t),"service"!==s&&r!==t&&n&&n.emit&&n.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null,e.layer=null})),this.removeAllHandles()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null})),e.on("before-changes",(e=>{(this.layer?.capabilities?.exportMap?.supportsSublayersChanges??1)||(Ye.getLogger(this).error(new et("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,t){const{layer:n,declaredClass:r}=this;Ye.getLogger(r).error(new et("sublayer:locked",`Property '${String(e)}' can't be changed on Sublayer from the layer '${n?.id}'`,{reason:t,sublayer:this,layer:n}))}_getLayerDomain(e){return this.fieldsIndex.get(e)?.domain??null}};Wae.test={isMapImageLayerOverridePolicy:e=>e===Vae||e===zae,isTileImageLayerOverridePolicy:e=>e===Gae},S([To({readOnly:!0})],Wae.prototype,"capabilities",void 0),S([Cp("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],Wae.prototype,"readCapabilities",null),S([To()],Wae.prototype,"defaultPopupTemplate",null),S([To({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:zae}}})],Wae.prototype,"definitionExpression",null),S([To({readOnly:!0})],Wae.prototype,"effectiveScaleRange",null),S([Cp("service","maxScaleRange",["minScale","maxScale"])],Wae.prototype,"readMaxScaleRange",null),S([To({type:[JW],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],Wae.prototype,"fields",void 0),S([To({readOnly:!0})],Wae.prototype,"fieldsIndex",null),S([To({type:WK,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:zae},origins:{"web-scene":{read:!1,write:!1}}}})],Wae.prototype,"floorInfo",null),S([To({type:Gd,json:{read:{source:"layerDefinition.extent"}}})],Wae.prototype,"fullExtent",void 0),S([To({type:vv.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:vv.read}}}}})],Wae.prototype,"geometryType",void 0),S([To({type:String})],Wae.prototype,"globalIdField",void 0),S([Cp("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],Wae.prototype,"readGlobalIdFieldFromService",null),S([To({type:yo,json:{write:{ignoreOrigin:!0}}})],Wae.prototype,"id",null),S([To({readOnly:!0})],Wae.prototype,"isTable",void 0),S([Cp("service","isTable",["type"])],Wae.prototype,"readIsTable",null),S([To({value:null,type:[r0],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:Vae}}})],Wae.prototype,"labelingInfo",null),S([su("labelingInfo")],Wae.prototype,"writeLabelingInfo",null),S([To({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:Vae}}})],Wae.prototype,"labelsVisible",null),S([To({value:null})],Wae.prototype,"layer",null),S([To({type:String,json:{write:{overridePolicy:Gae}}})],Wae.prototype,"layerItemId",void 0),S([To({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:Bae}}})],Wae.prototype,"legendEnabled",void 0),S([To({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Wae.prototype,"listMode",null),S([To({type:Number,value:0,json:{write:{overridePolicy:Vae}}})],Wae.prototype,"minScale",null),S([Cp("minScale",["minScale","layerDefinition.minScale"])],Wae.prototype,"readMinScale",null),S([To({type:Number,value:0,json:{write:{overridePolicy:Vae}}})],Wae.prototype,"maxScale",null),S([Cp("maxScale",["maxScale","layerDefinition.maxScale"])],Wae.prototype,"readMaxScale",null),S([To()],Wae.prototype,"objectIdField",void 0),S([Cp("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],Wae.prototype,"readObjectIdFieldFromService",null),S([To({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:Vae}}})],Wae.prototype,"opacity",null),S([Cp("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],Wae.prototype,"readOpacity",null),S([su("opacity")],Wae.prototype,"writeOpacity",null),S([To({json:{type:yo,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:Vae}}})],Wae.prototype,"parent",void 0),S([su("parent")],Wae.prototype,"writeParent",null),S([To({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,t)=>!t.disablePopup},write:{target:"disablePopup",overridePolicy:Bae,writer(e,t,n){t[n]=!e}}}})],Wae.prototype,"popupEnabled",void 0),S([To({type:SI,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:Bae}}})],Wae.prototype,"popupTemplate",void 0),S([To({readOnly:!0})],Wae.prototype,"queryTask",null),S([To({type:[XK],readOnly:!0,json:{origins:{service:{read:{source:"layerDefinition.relationships"}}}}})],Wae.prototype,"relationships",void 0),S([To({types:HV,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:Vae},origins:{"web-scene":{types:WV,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:Vae}}}}})],Wae.prototype,"renderer",null),S([To({types:{key:"type",base:null,typeMap:{"data-layer":dX,"map-layer":JY}},cast(e){if(e){if("mapLayerId"in e)return no(JY,e);if("dataSource"in e)return no(dX,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:Vae}}})],Wae.prototype,"source",null),S([To()],Wae.prototype,"sourceJSON",void 0),S([To({type:Ip,json:{origins:{service:{read:{source:"layerDefinition.extent.spatialReference"}}}}})],Wae.prototype,"spatialReference",void 0),S([To({value:null,json:{type:[yo],write:{target:"subLayerIds",allowNull:!0,overridePolicy:Vae}}})],Wae.prototype,"sublayers",null),S([Dp("sublayers")],Wae.prototype,"castSublayers",null),S([su("sublayers")],Wae.prototype,"writeSublayers",null),S([To({type:String,json:{name:"name",write:{overridePolicy:Bae}}})],Wae.prototype,"title",void 0),S([Cp("service","title",["name","layerDefinition.name"])],Wae.prototype,"readTitle",null),S([To({type:String})],Wae.prototype,"typeIdField",void 0),S([To({json:{read:!1},readOnly:!0,value:"sublayer"})],Wae.prototype,"type",void 0),S([Cp("typeIdField",["layerDefinition.typeIdField"])],Wae.prototype,"readTypeIdField",null),S([To({type:[I3],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],Wae.prototype,"types",void 0),S([To({type:String,json:{name:"layerUrl",write:{overridePolicy:Gae}}})],Wae.prototype,"url",null),S([To({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:Vae}}})],Wae.prototype,"visible",null),S([su("visible")],Wae.prototype,"writeVisible",null),Wae=jae=S([gs("esri.layers.support.Sublayer")],Wae);const qae=Wae;function Zae(e,t,n){return t.flatten((({sublayers:e})=>e)).length!==e.length||(!!e.some((e=>e.originIdOf("minScale")>n||e.originIdOf("maxScale")>n||e.originIdOf("renderer")>n||e.originIdOf("labelingInfo")>n||e.originIdOf("opacity")>n||e.originIdOf("labelsVisible")>n||e.originIdOf("source")>n))||!Xae(e,t))}function Yae(e,t,n){return!!e.some((e=>{const t=e.source,r=!t||"map-layer"===t.type&&t.mapLayerId===e.id&&(null==t.gdbVersion||t.gdbVersion===n);return e.commitProperty("renderer"),e.commitProperty("labelingInfo"),e.commitProperty("opacity"),e.commitProperty("labelsVisible"),!r||e.originIdOf("renderer")>en.SERVICE||e.originIdOf("labelingInfo")>en.SERVICE||e.originIdOf("opacity")>en.SERVICE||e.originIdOf("labelsVisible")>en.SERVICE}))||!Xae(e,t)}function Xae(e,t){if(!e?.length||null==t)return!0;const n=t.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>n.length)return!1;let r=0;const i=n.length;for(const{id:o}of e){for(;r<i&&n[r]!==o;)r++;if(r>=i)return!1}return!0}function Jae(e){return!!e&&e.some((e=>null!=e.minScale||null!=e.layerDefinition?.minScale))}function Kae(e,t){const n=[],r={};return e&&e.forEach((e=>{const i=new qae;if(i.read(e,t),r[i.id]=i,null!=e.parentLayerId&&-1!==e.parentLayerId){const t=r[e.parentLayerId];t.sublayers||(t.sublayers=[]),t.sublayers.unshift(i)}else n.unshift(i)})),n}const Qae=Rc.ofType(qae);function ele(e,t){e&&e.forEach((e=>{t(e),e.sublayers&&e.sublayers.length&&ele(e.sublayers,t)}))}const tle=e=>{let t=class extends e{constructor(...e){super(...e),this.allSublayers=new Xoe({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.sublayersSourceJSON={[en.SERVICE]:{},[en.PORTAL_ITEM]:{},[en.WEB_SCENE]:{},[en.WEB_MAP]:{}},this.subtables=null,this.addHandles([WR((()=>this.sublayers),((e,t)=>this._handleSublayersChange(e,t)),eL),WR((()=>this.subtables),((e,t)=>this._handleSublayersChange(e,t)),eL)])}destroy(){this.allSublayers.destroy()}readSublayers(e,t){if(!t||!e)return;const{sublayersSourceJSON:n}=this,r=nn(t.origin);if(r<en.SERVICE||(n[r]={context:t,visibleLayers:e.visibleLayers||n[r].visibleLayers,layers:e.layers||n[r].layers},r>en.SERVICE))return;this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);const{sublayers:i,origin:o}=this.createSublayersForOrigin("web-document"),s=Ct(this);s.setDefaultOrigin(o),this._set("sublayers",new Qae(i)),s.setDefaultOrigin("user")}findSublayerById(e){return this.allSublayers.find((t=>t.id===e))}createServiceSublayers(){return this.createSublayersForOrigin("service").sublayers}createSublayersForOrigin(e){const t=nn("web-document"===e?"web-map":e);let n=en.SERVICE,r=this.sublayersSourceJSON[en.SERVICE].layers,i=this.sublayersSourceJSON[en.SERVICE].context,o=null;const s=[en.PORTAL_ITEM,en.WEB_SCENE,en.WEB_MAP].filter((e=>e<=t));for(const p of s){const e=this.sublayersSourceJSON[p];Jae(e.layers)&&(n=p,r=e.layers,i=e.context,e.visibleLayers&&(o={visibleLayers:e.visibleLayers,context:e.context}))}const a=[en.PORTAL_ITEM,en.WEB_SCENE,en.WEB_MAP].filter((e=>e>n&&e<=t));let l=null;for(const p of a){const{layers:e,visibleLayers:t,context:n}=this.sublayersSourceJSON[p];e&&(l={layers:e,context:n}),t&&(o={visibleLayers:t,context:n})}const c=Kae(r,i),u=new Map,h=new Set;if(l)for(const p of l.layers)u.set(p.id,p);if(o?.visibleLayers)for(const p of o.visibleLayers)h.add(p);return ele(c,(e=>{l&&e.read(u.get(e.id),l.context),o&&e.read({defaultVisibility:h.has(e.id)},o.context)})),{origin:rn(n),sublayers:new Qae({items:c})}}read(e,t){super.read(e,t),this.readSublayers(e,t)}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null,e.layer=null})),this.removeHandles("sublayers-owner")),e&&(e.forEach((e=>{e.parent=this,e.layer=this})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.addHandles(e.on("before-changes",(e=>{Ye.getLogger("esri.layers.TileLayer").error(new et("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this})),e.preventDefault()})),"sublayers-owner"))}};return S([To({readOnly:!0})],t.prototype,"allSublayers",void 0),S([To({readOnly:!0,type:Rc.ofType(qae)})],t.prototype,"serviceSublayers",void 0),S([To({value:null,type:Qae,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],t.prototype,"sublayers",void 0),S([To({readOnly:!0})],t.prototype,"sublayersSourceJSON",void 0),S([To({type:Qae,json:{read:{source:"tables"}}})],t.prototype,"subtables",void 0),t=S([gs("esri.layers.mixins.SublayersOwner")],t),t};function nle(e){const t=e.layer;return"floorInfo"in t&&t.floorInfo?.floorField&&"floors"in e.view?ile(e.view.floors,t.floorInfo.floorField):null}function rle(e,t){return"floorInfo"in t&&t.floorInfo?.floorField?ile(e,t.floorInfo.floorField):null}function ile(e,t){if(!e?.length)return null;const n=e.filter((e=>""!==e)).map((e=>`'${e}'`));return n.push("''"),`${t} IN (${n.join(",")}) OR ${t} IS NULL`}const ole={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let sle=class extends Ms{constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const t=rle(this.floors,e);return e.toExportImageJSON(t)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&Yae(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.allSublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("sublayer-update",(e=>this.notifyChange(ole[e.propertyName])))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map((e=>e.id)).join(","):"show:-1":null}get layerDefs(){const e=!!this.floors?.length,t=this.visibleSublayers.filter((t=>null!=t.definitionExpression||e&&null!=t.floorInfo));return t.length?JSON.stringify(t.reduce(((e,t)=>{const n=rle(this.floors,t),r=Tv(n,t.definitionExpression);return null!=r&&(e[t.id]=r),e}),{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const t=this.layer.sublayers,n=this.scale,r=t=>{t.visible&&(0===n||Hoe(n,t.minScale,t.maxScale))&&(t.sublayers?t.sublayers.forEach(r):e.unshift(t))};t&&t.forEach(r);const i=this._get("visibleSublayers");return!i||i.length!==e.length||i.some(((t,n)=>e[n]!==t))?e:i}toJSON(){const e=this.layer;let t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t={...t,layers:this.layers,layerDefs:this.layerDefs},t}};S([To({readOnly:!0})],sle.prototype,"dynamicLayers",null),S([To()],sle.prototype,"floors",void 0),S([To({readOnly:!0})],sle.prototype,"hasDynamicLayers",null),S([To()],sle.prototype,"layer",null),S([To({readOnly:!0})],sle.prototype,"layers",null),S([To({readOnly:!0})],sle.prototype,"layerDefs",null),S([To({type:Number})],sle.prototype,"scale",void 0),S([To({readOnly:!0})],sle.prototype,"version",null),S([To({readOnly:!0})],sle.prototype,"visibleSublayers",null),sle=S([gs("esri.layers.support.ExportImageParameters")],sle);let ale=class extends(IY(S3(f3(tle(Zoe(_q(H0(J2(sB(d3(oq(CY(kH))))))))))))){constructor(...e){super(...e),this._exportImageParameters=new sle({layer:this}),this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.preferredTimeZone=null,this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(lr).then((()=>this._fetchService(t)))),Promise.resolve(this)}destroy(){this._exportImageParameters.destroy()}readImageFormat(e,t){const n=t.supportedImageFormatTypes;return n&&n.includes("PNG32")?"png32":"png24"}writeSublayers(e,t,n,r){if(!this.loaded||!e)return;const i=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let o=!1;const s=nn(r.origin);if(this.capabilities?.operations.supportsExportMap&&this.capabilities?.exportMap?.supportsDynamicLayers)if(s===en.PORTAL_ITEM){const e=this.createSublayersForOrigin("service").sublayers;o=Zae(i,e,en.SERVICE)}else if(s>en.PORTAL_ITEM){const e=this.createSublayersForOrigin("portal-item");o=Zae(i,e.sublayers,nn(e.origin))}const a=[],l={writeSublayerStructure:o,...r};let c=o||this.hasVisibleLayersForOrigin(s);i.forEach((e=>{const t=e.write({},l);a.push(t),c=c||"user"===e.originOf("visible")})),a.some((e=>Object.keys(e).length>1))&&(t.layers=a),c&&(t.visibleLayers=i.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,t,n,r){const i=r?.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian()),this._exportImageParameters.floors=r?.floors??null,this._exportImageParameters.scale=Boe({extent:e,width:t})*i;const o=this._exportImageParameters.toJSON(),s=!r?.rotation||this.version<10.3?{}:{rotation:-r.rotation},a=e?.spatialReference,l=th(a);o.dpi*=i;const c={};if(r?.timeExtent){const{start:e,end:t}=r.timeExtent.toJSON();c.time=e&&t&&e===t?""+e:`${e??"null"},${t??"null"}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(c.time="null,null");return{bbox:e&&e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:l,imageSR:l,size:t+","+n,...o,...s,...c}}async fetchImage(e,t,n,r){const{data:i}=await this._fetchImage("image",e,t,n,r);return i}async fetchImageBitmap(e,t,n,r){const{data:i,url:o}=await this._fetchImage("blob",e,t,n,r);return O9(i,o,r?.signal)}async fetchRecomputedExtents(e={}){const t={...e,query:{returnUpdates:!0,f:"json",...this.customParameters,token:this.apiKey}},{data:n}=await Bl(this.url,t),{extent:r,fullExtent:i,timeExtent:o}=n,s=r||i;return{fullExtent:s&&Gd.fromJSON(s),timeExtent:o&&MH.fromJSON({start:o[0],end:o[1]})}}loadAll(){return ru(this,(e=>{e(this.allSublayers),e(this.subtables)}))}serviceSupportsSpatialReference(e){return F3(this,e)}async _fetchImage(e,t,n,r,i){const o={responseType:e,signal:i?.signal??null,query:{...this.parsedUrl.query,...this.createExportImageParameters(t,n,r,i),f:"image",...this.refreshParameters,...this.customParameters,token:this.apiKey}},s=this.parsedUrl.path+"/export";if(null!=o.query?.dynamicLayers&&!this.capabilities?.exportMap?.supportsDynamicLayers)throw new et("mapimagelayer:dynamiclayer-not-supported",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:o.query});try{const{data:e}=await Bl(s,o);return{data:e,url:s}}catch(a){throw dr(a)?a:new et("mapimagelayer:image-fetch-error",`Unable to load image: ${s}`,{error:a})}}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});const{data:t,ssl:n}=await Bl(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},signal:e});n&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=t,this.read(t,{origin:"service",url:this.parsedUrl})}hasVisibleLayersForOrigin(e){return!(null==e||!this.sublayersSourceJSON[e]?.visibleLayers)}};S([To(ZS("dateFieldsTimeReference"))],ale.prototype,"dateFieldsTimeZone",void 0),S([To({type:Boolean})],ale.prototype,"datesInUnknownTimezone",void 0),S([To()],ale.prototype,"dpi",void 0),S([To()],ale.prototype,"gdbVersion",void 0),S([To()],ale.prototype,"imageFormat",void 0),S([Cp("imageFormat",["supportedImageFormatTypes"])],ale.prototype,"readImageFormat",null),S([To({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],ale.prototype,"imageMaxHeight",void 0),S([To({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],ale.prototype,"imageMaxWidth",void 0),S([To()],ale.prototype,"imageTransparency",void 0),S([To({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],ale.prototype,"isReference",void 0),S([To({json:{read:!1,write:!1}})],ale.prototype,"labelsVisible",void 0),S([To({type:["ArcGISMapServiceLayer"]})],ale.prototype,"operationalLayerType",void 0),S([To({json:{read:!1,write:!1}})],ale.prototype,"popupEnabled",void 0),S([To(ZS("preferredTimeReference"))],ale.prototype,"preferredTimeZone",void 0),S([To()],ale.prototype,"sourceJSON",void 0),S([To({json:{write:{ignoreOrigin:!0}}})],ale.prototype,"sublayers",void 0),S([su("sublayers",{layers:{type:[qae]},visibleLayers:{type:[yo]}})],ale.prototype,"writeSublayers",null),S([To({type:["show","hide","hide-children"]})],ale.prototype,"listMode",void 0),S([To({json:{read:!1},readOnly:!0,value:"map-image"})],ale.prototype,"type",void 0),S([To(NJ)],ale.prototype,"url",void 0),ale=S([gs("esri.layers.MapImageLayer")],ale);const lle=ale,cle=Object.freeze(Object.defineProperty({__proto__:null,default:lle},Symbol.toStringTag,{value:"Module"}));var ule;let hle=ule=class extends Hs{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new ule({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};S([To({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],hle.prototype,"cols",void 0),S([To({type:yo,json:{write:!0}})],hle.prototype,"level",void 0),S([To({type:String,json:{write:!0}})],hle.prototype,"levelValue",void 0),S([To({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],hle.prototype,"origin",void 0),S([To({type:Number,json:{write:!0}})],hle.prototype,"resolution",void 0),S([To({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],hle.prototype,"rows",void 0),S([To({type:Number,json:{write:!0}})],hle.prototype,"scale",void 0),hle=ule=S([gs("esri.layers.support.LOD")],hle);const ple=hle;let dle=class{constructor(e,t,n,r,i=void 0){this.id=e,this.level=t,this.row=n,this.col=r,this.extent=i}};var fle;const mle=new au({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let yle=fle=class extends Hs{static create(e={}){const{resolutionFactor:t=1,scales:n,size:r=256,spatialReference:i=Ip.WebMercator,numLODs:o=24}=e;if(!fh(i)){const e=[];if(n)for(let t=0;t<n.length;t++){const r=n[t];e.push(new ple({level:t,scale:r,resolution:r}))}else{let t=5e-4;for(let n=o-1;n>=0;n--)e.unshift(new ple({level:n,scale:t,resolution:t})),t*=2}return new fle({dpi:96,lods:e,origin:new sd(0,0,i),size:[r,r],spatialReference:i})}const s=eh(i),a=e.origin?new sd({x:e.origin.x,y:e.origin.y,spatialReference:i}):new sd(s?{x:s.origin[0],y:s.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),l=96,c=1/(39.37*sp(i)*l),u=[];if(n)for(let h=0;h<n.length;h++){const e=n[h],t=e*c;u.push(new ple({level:h,scale:e,resolution:t}))}else{let e=nh(i)?512/r*591657527.5917094:256/r*591657527.591555;const n=Math.ceil(o/t);u.push(new ple({level:0,scale:e,resolution:e*c}));for(let r=1;r<n;r++){const n=e/2**t,i=n*c;u.push(new ple({level:r,scale:n,resolution:i})),e=n}}return new fle({dpi:l,lods:u,origin:a,size:[r,r],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const n=eh(e);return e.isWrappable&&!!n&&Math.abs(n.origin[0]-t.x)<=n.dx}return!1}readOrigin(e,t){return sd.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,n=0;const r=[],i=this._levelToLOD={};e&&(t=-1/0,n=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,n=e.scale<n?e.scale:n,i[e.level]=e}))),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const n=Math.floor(e),r=n+1;return t[n]/(t[n]/t[r])**(e-n)}scaleToZoom(e){const t=this.scales,n=t.length-1;let r=0;for(;r<n;r++){const n=t[r],i=t[r+1];if(n<=e)return r;if(i===e)return r+1;if(n>e&&i<e)return r+Math.log(n/e)/Math.log(n/i)}return r}tileAt(e,t,n,r){const i=this.lodAt(e);if(!i)return null;let o,s;if("number"==typeof t)o=t,s=n;else if(Qu(t.spatialReference,this.spatialReference))o=t.x,s=t.y,r=n;else{const e=Wp(t,this.spatialReference);if(null==e)return null;o=e.x,s=e.y,r=n}const a=i.resolution*this.size[0],l=i.resolution*this.size[1];return r||(r=new dle(null,0,0,0,tg())),r.level=e,r.row=Math.floor((this.origin.y-s)/l+.001),r.col=Math.floor((o-this.origin.x)/a+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=fle.ExtrapolateOptions.NONE){let n=this.lodAt(e.level);if(!n&&t===fle.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(n=t)}if(!n)return;const r=e.level-n.level,i=n.resolution*this.size[0]/2**r,o=n.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=tg()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+o}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const n=this.lodAt(t.level);if(null==n)return null;const{resolution:r}=n,i=r*this.size[0],o=r*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*o,e[2]=e[0]+i,e[3]=e[1]+o,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return fle.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===e)return null;const t=(512===this.size[0]&&256===e?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&0===t)return this;const n=[],r=this.lods.length-t;for(let i=0;i<r;i++){const e=i+t,{scale:r,resolution:o}=e>=0?this.lods[e]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};n.push(new ple({level:i,scale:r,resolution:o}))}return new fle({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:n})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let n=0;n<e.length;n++){const r=e[n];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};S([To({type:Number,json:{write:!0}})],yle.prototype,"compressionQuality",void 0),S([To({type:Number,json:{write:!0}})],yle.prototype,"dpi",void 0),S([To({type:String,json:{read:mle.read,write:mle.write,origins:{"web-scene":{read:!1,write:!1}}}})],yle.prototype,"format",void 0),S([To({readOnly:!0})],yle.prototype,"isWrappable",null),S([To({type:sd,json:{write:!0}})],yle.prototype,"origin",void 0),S([Cp("origin")],yle.prototype,"readOrigin",null),S([To({type:[ple],value:null,json:{write:!0}})],yle.prototype,"lods",null),S([To({readOnly:!0})],yle.prototype,"scales",void 0),S([To({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],yle.prototype,"size",void 0),S([Cp("size",["rows","cols"])],yle.prototype,"readSize",null),S([su("size",{cols:{type:yo},rows:{type:yo}})],yle.prototype,"writeSize",null),S([To({type:Ip,json:{write:!0}})],yle.prototype,"spatialReference",void 0),yle=fle=S([gs("esri.layers.support.TileInfo")],yle),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(yle||(yle={}));const gle=yle;var vle;let ble=vle=class extends Hs{constructor(e){super(e)}clone(){return new vle({customLayerParameters:_e(this.customLayerParameters),customParameters:_e(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};var wle;S([To({json:{type:Object,write:!0}})],ble.prototype,"customLayerParameters",void 0),S([To({json:{type:Object,write:!0}})],ble.prototype,"customParameters",void 0),S([To({type:String,json:{write:!0}})],ble.prototype,"layerIdentifier",void 0),S([To({type:String,json:{write:!0}})],ble.prototype,"tileMatrixSet",void 0),S([To({type:String,json:{write:!0}})],ble.prototype,"url",void 0),ble=vle=S([gs("esri.layers.support.WMTSLayerInfo")],ble);let _le=wle=class extends(IY(d3(f3(H0(J2(sB(kH))))))){constructor(...e){super(...e),this.copyright="",this.fullExtent=new Gd(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,Ip.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=Ip.WebMercator,this.subDomains=null,this.tileInfo=new gle({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new sd({x:-20037508.342787,y:20037508.342787,spatialReference:Ip.WebMercator}),spatialReference:Ip.WebMercator,lods:[new ple({level:0,scale:591657527.591555,resolution:156543.033928}),new ple({level:1,scale:295828763.795777,resolution:78271.5169639999}),new ple({level:2,scale:147914381.897889,resolution:39135.7584820001}),new ple({level:3,scale:73957190.948944,resolution:19567.8792409999}),new ple({level:4,scale:36978595.474472,resolution:9783.93962049996}),new ple({level:5,scale:18489297.737236,resolution:4891.96981024998}),new ple({level:6,scale:9244648.868618,resolution:2445.98490512499}),new ple({level:7,scale:4622324.434309,resolution:1222.99245256249}),new ple({level:8,scale:2311162.217155,resolution:611.49622628138}),new ple({level:9,scale:1155581.108577,resolution:305.748113140558}),new ple({level:10,scale:577790.554289,resolution:152.874056570411}),new ple({level:11,scale:288895.277144,resolution:76.4370282850732}),new ple({level:12,scale:144447.638572,resolution:38.2185141425366}),new ple({level:13,scale:72223.819286,resolution:19.1092570712683}),new ple({level:14,scale:36111.909643,resolution:9.55462853563415}),new ple({level:15,scale:18055.954822,resolution:4.77731426794937}),new ple({level:16,scale:9027.977411,resolution:2.38865713397468}),new ple({level:17,scale:4513.988705,resolution:1.19432856685505}),new ple({level:18,scale:2256.994353,resolution:.597164283559817}),new ple({level:19,scale:1128.497176,resolution:.298582141647617}),new ple({level:20,scale:564.248588,resolution:.14929107082380833}),new ple({level:21,scale:282.124294,resolution:.07464553541190416}),new ple({level:22,scale:141.062147,resolution:.03732276770595208}),new ple({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(e,t){return"string"==typeof e?{urlTemplate:e,...t}:e}load(e){const t=this.loadFromPortal({supportedTypes:["WMTS"]},e).then((()=>{let e="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const t=new ua(this.urlTemplate);!(this.subDomains&&this.subDomains.length>0)&&t.authority?.includes("{subDomain}")&&(e="is missing 'subDomains' property")}else e="spatialReference must match tileInfo.spatialReference";else e="is missing the required 'urlTemplate' property value";if(e)throw new et("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${e}`)}));return this.addResolvingPromise(t),Promise.resolve(this)}get levelValues(){const e=[];if(!this.tileInfo)return null;for(const t of this.tileInfo.lods)e[t.level]=t.levelValue||t.level;return e}readSpatialReference(e,t){return e||Ip.fromJSON(t.fullExtent?.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const e=[],{urlTemplate:t,subDomains:n}=this,r=new ua(t),i=r.scheme?r.scheme+"://":"//",o=i+r.authority+"/",s=r.authority;if(s?.includes("{subDomain}")){if(n&&n.length>0&&s.split(".").length>1)for(const a of n)e.push(i+s.replaceAll(/\{subDomain\}/gi,a)+"/")}else e.push(o);return e.map(cl)}get urlPath(){if(!this.urlTemplate)return null;const e=this.urlTemplate,t=new ua(e),n=(t.scheme?t.scheme+"://":"//")+t.authority+"/";return e.slice(n.length)}readUrlTemplate(e,t){return e||t.templateUrl}writeUrlTemplate(e,t){Ja(e)&&(e="https:"+e),e&&(e=e.replaceAll(/\{z\}/gi,"{level}").replaceAll(/\{x\}/gi,"{col}").replaceAll(/\{y\}/gi,"{row}"),e=ja(e)),t.templateUrl=e}fetchTile(e,t,n,r={}){const{signal:i}=r,o=this.getTileUrl(e,t,n),s={responseType:"image",signal:i,query:{...this.refreshParameters}};return Bl(o,s).then((e=>e.data))}async fetchImageBitmapTile(e,t,n,r={}){const{signal:i}=r;if(this.fetchTile!==wle.prototype.fetchTile){const o=await this.fetchTile(e,t,n,r);return k9(o,e,t,n,i)}const o=this.getTileUrl(e,t,n),s={responseType:"blob",signal:i,query:{...this.refreshParameters}},{data:a}=await Bl(o,s);return k9(a,e,t,n,i)}getTileUrl(e,t,n){const{levelValues:r,tileServers:i,urlPath:o}=this;if(!r||!i||!o)return"";const s=r[e];return i[t%i.length]+Ve(o,{level:s,z:s,col:n,x:n,row:t,y:t})}};S([To({type:String,value:"",json:{write:!0}})],_le.prototype,"copyright",void 0),S([To({type:Gd,json:{write:!0},nonNullable:!0})],_le.prototype,"fullExtent",void 0),S([To({readOnly:!0,json:{read:!1,write:!1}})],_le.prototype,"legendEnabled",void 0),S([To({type:["show","hide"]})],_le.prototype,"listMode",void 0),S([To({json:{read:!0,write:!0}})],_le.prototype,"blendMode",void 0),S([To()],_le.prototype,"levelValues",null),S([To({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],_le.prototype,"isReference",void 0),S([To({type:["WebTiledLayer"],value:"WebTiledLayer"})],_le.prototype,"operationalLayerType",void 0),S([To({readOnly:!0,json:{read:!1,write:!1}})],_le.prototype,"popupEnabled",void 0),S([To({type:Ip})],_le.prototype,"spatialReference",void 0),S([Cp("spatialReference",["spatialReference","fullExtent.spatialReference"])],_le.prototype,"readSpatialReference",null),S([To({type:[String],json:{write:!0}})],_le.prototype,"subDomains",void 0),S([To({type:gle,json:{write:!0}})],_le.prototype,"tileInfo",void 0),S([To({readOnly:!0})],_le.prototype,"tileServers",null),S([To({json:{read:!1}})],_le.prototype,"type",void 0),S([To()],_le.prototype,"urlPath",null),S([To({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],_le.prototype,"urlTemplate",void 0),S([Cp("urlTemplate",["urlTemplate","templateUrl"])],_le.prototype,"readUrlTemplate",null),S([su("urlTemplate",{templateUrl:{type:String}})],_le.prototype,"writeUrlTemplate",null),S([To({type:ble,json:{write:!0}})],_le.prototype,"wmtsInfo",void 0),_le=wle=S([gs("esri.layers.WebTileLayer")],_le);const xle=_le,Sle=Object.freeze(Object.defineProperty({__proto__:null,default:xle},Symbol.toStringTag,{value:"Module"}));let Tle=class extends xle{constructor(...e){super(...e),this.portalItem=null,this.isReference=null,this.tileInfo=new gle({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new sd({x:-20037508.342787,y:20037508.342787,spatialReference:Ip.WebMercator}),spatialReference:Ip.WebMercator,lods:[new ple({level:0,scale:591657527.591555,resolution:156543.033928}),new ple({level:1,scale:295828763.795777,resolution:78271.5169639999}),new ple({level:2,scale:147914381.897889,resolution:39135.7584820001}),new ple({level:3,scale:73957190.948944,resolution:19567.8792409999}),new ple({level:4,scale:36978595.474472,resolution:9783.93962049996}),new ple({level:5,scale:18489297.737236,resolution:4891.96981024998}),new ple({level:6,scale:9244648.868618,resolution:2445.98490512499}),new ple({level:7,scale:4622324.434309,resolution:1222.99245256249}),new ple({level:8,scale:2311162.217155,resolution:611.49622628138}),new ple({level:9,scale:1155581.108577,resolution:305.748113140558}),new ple({level:10,scale:577790.554289,resolution:152.874056570411}),new ple({level:11,scale:288895.277144,resolution:76.4370282850732}),new ple({level:12,scale:144447.638572,resolution:38.2185141425366}),new ple({level:13,scale:72223.819286,resolution:19.1092570712683}),new ple({level:14,scale:36111.909643,resolution:9.55462853563415}),new ple({level:15,scale:18055.954822,resolution:4.77731426794937}),new ple({level:16,scale:9027.977411,resolution:2.38865713397468}),new ple({level:17,scale:4513.988705,resolution:1.19432856685505}),new ple({level:18,scale:2256.994353,resolution:.597164283559817}),new ple({level:19,scale:1128.497176,resolution:.298582141647617})]}),this.subDomains=["a","b","c"],this.fullExtent=new Gd(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,Ip.WebMercator),this.urlTemplate="https://{subDomain}.tile.openstreetmap.org/{level}/{col}/{row}.png",this.operationalLayerType="OpenStreetMap",this.type="open-street-map",this.copyright="Map data &copy; OpenStreetMap contributors, CC-BY-SA"}get refreshInterval(){return 0}};S([To({type:Wf,json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],Tle.prototype,"portalItem",void 0),S([To({type:Boolean,json:{read:!1,write:!1}})],Tle.prototype,"isReference",void 0),S([To({type:Number,readOnly:!0,json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],Tle.prototype,"refreshInterval",null),S([To({type:gle,json:{write:!1}})],Tle.prototype,"tileInfo",void 0),S([To({type:["show","hide"]})],Tle.prototype,"listMode",void 0),S([To({readOnly:!0,json:{read:!1,write:!1}})],Tle.prototype,"subDomains",void 0),S([To({readOnly:!0,json:{read:!1,write:!1},nonNullable:!0})],Tle.prototype,"fullExtent",void 0),S([To({readOnly:!0,json:{read:!1,write:!1}})],Tle.prototype,"urlTemplate",void 0),S([To({type:["OpenStreetMap"]})],Tle.prototype,"operationalLayerType",void 0),S([To({json:{read:!1}})],Tle.prototype,"type",void 0),S([To({json:{read:!1,write:!1}})],Tle.prototype,"copyright",void 0),S([To({json:{read:!1,write:!1}})],Tle.prototype,"wmtsInfo",void 0),Tle=S([gs("esri.layers.OpenStreetMapLayer")],Tle);const Ele=Tle,Mle=Object.freeze(Object.defineProperty({__proto__:null,default:Ele},Symbol.toStringTag,{value:"Module"}));let Ale=class{constructor(e,t=0,n=e.lods[e.lods.length-1].level){this.tileInfo=e,this.minLOD=t,this.maxLOD=n,e.lodAt(t)||(this.minLOD=e.lods[0].level),e.lodAt(n)||(this.maxLOD=e.lods[e.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(e,t,n){const r=this.tileInfo?.lodAt(e);return!r||e<this.minLOD||e>this.maxLOD?"unavailable":r.cols&&r.rows?n>=r.cols[0]&&n<=r.cols[1]&&t>=r.rows[0]&&t<=r.rows[1]?"unknown":"unavailable":"unknown"}async fetchAvailability(e,t,n,r){await Tr(r);const i=this.getAvailability(e,t,n);if("unavailable"===i)throw new et("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:n});return i}async fetchAvailabilityUpsample(e,t,n,r,i){await Tr(i),r.level=e,r.row=t,r.col=n;const o=this.tileInfo;return o.updateTileInfo(r),this.fetchAvailability(e,t,n,i).catch((e=>{if(dr(e))throw e;if(o.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,i);throw e}))}};var Ile;function Cle(e,t=!1){return e<=ye?t?new Array(e).fill(0):new Array(e):new Uint32Array(e)}(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(Ile||(Ile={}));let Ole=class e{constructor(e){Lle(e);const{location:t,data:n}=e;this.location=Object.freeze(_e(t));const r=this.location.width,i=this.location.height;let o=!0,s=!0;const a=Math.ceil(r*i/32),l=Cle(a);let c=0;for(let u=0;u<n.length;u++){const e=u%32;n[u]?(s=!1,l[c]|=1<<e):o=!1,31===e&&++c}s?(this._availability="unavailable",this.byteSize=40):o?(this._availability="available",this.byteSize=40):(this._availability=l,this.byteSize=40+fe(l))}getAvailability(e,t){if("unavailable"===this._availability||"available"===this._availability)return this._availability;const n=(e-this.location.top)*this.location.width+(t-this.location.left),r=n%32,i=n>>5,o=this._availability;return i<0||i>o.length?"unknown":o[i]&1<<r?"available":"unavailable"}static fromDefinition(t,n){const r=t.service.request||Bl,{row:i,col:o,width:s,height:a}=t,l={query:{f:"json"}};return n=n?{...l,...n}:l,r(Rle(t),n).then((e=>e.data)).catch((e=>{if(422===e?.details?.httpStatus)return{location:{top:i,left:o,width:s,height:a},valid:!0,data:new Array(s*a).fill(0)};throw e})).then((t=>{if(t.location&&(t.location.top!==i||t.location.left!==o||t.location.width!==s||t.location.height!==a))throw new et("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:i,left:o,width:s,height:a}});return e.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new e(t))}};function kle(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}function Rle(e){let t;if(e.service.tileServers?.length){const n=e.service.tileServers;t=`${n&&n.length?n[e.row%n.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}else t=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;const n=e.service.query;return n&&(t=`${t}?${n}`),t}function Lle(e){if(!e?.location)throw new et("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new et("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new et("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new et("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new et("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}var Nle;function Ple(e,t,n){return new et("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:n})}let Dle=Nle=class extends Ms{constructor(e){super(e),this._pendingTilemapRequests={},this.request=Bl,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new BD(2*Ile.MEGABYTES),this.addHandles(WR((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),tL))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,n){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return"unavailable";const r=this._tilemapFromCache(e,t,n,this._tmpTilemapDefinition);return r?r.getAvailability(t,n):"unknown"}fetchAvailability(e,t,n,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(Ple(e,t,n)):this._fetchTilemap(e,t,n,r).catch((e=>e)).then((r=>{if(r instanceof Ole){const i=r.getAvailability(t,n);if("unavailable"===i)throw Ple(e,t,n);return i}if(dr(r))throw r;return"unknown"}))}fetchAvailabilityUpsample(e,t,n,r,i){r.level=e,r.row=t,r.col=n;const o=this.layer.tileInfo;o.updateTileInfo(r);const s=this.fetchAvailability(e,t,n,i).catch((e=>{if(dr(e))throw e;if(o.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,i);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,n,i,s),s}async _fetchAvailabilityUpsamplePrefetch(e,t,n,r,i,o){if(!this._prefetchingEnabled||null==e)return;const s=`prefetch-${e}`;if(this.hasHandles(s))return;const a=new AbortController;o.then((()=>a.abort()),(()=>a.abort()));let l=!1;const c=Tt((()=>{l||(l=!0,a.abort())}));if(this.addHandles(c,s),await qr(10,a.signal).catch((()=>{})),l||(l=!0,this.removeHandles(s)),ar(a))return;const u=new dle(e,t,n,r),h={...i,signal:a.signal},p=this.layer.tileInfo;for(let d=0;Nle._prefetches.length<Nle._maxPrefetch&&p.upsampleTile(u);++d){const e=this.fetchAvailability(u.level,u.row,u.col,h);Nle._prefetches.push(e);const t=()=>{Nle._prefetches.removeUnordered(e)};e.then(t,t)}}_fetchTilemap(e,t,n,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new et("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const i=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,n,i);if(o)return Promise.resolve(o);const s=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{ur(s,(()=>t(ir())));const n=kle(i);let o=this._pendingTilemapRequests[n];if(!o){o=Ole.fromDefinition(i,r).then((e=>(this._tilemapCache.put(n,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[n]};this._pendingTilemapRequests[n]=o,o.then(e,e)}o.then(e,t)}))}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:n}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:_a({...e.query,...n,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,n,r){r.level=e,r.row=t-t%this.size,r.col=n-n%this.size;const i=kle(r);return this._tilemapCache.get(i)}get test(){}};Dle._maxPrefetch=4,Dle._prefetches=new Zn({initialSize:Nle._maxPrefetch}),S([To({constructOnly:!0})],Dle.prototype,"layer",void 0),S([To({constructOnly:!0})],Dle.prototype,"minLOD",void 0),S([To({constructOnly:!0})],Dle.prototype,"maxLOD",void 0),S([To({constructOnly:!0})],Dle.prototype,"request",void 0),S([To({constructOnly:!0})],Dle.prototype,"size",void 0),Dle=Nle=S([gs("esri.layers.support.TilemapCache")],Dle);const Fle=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}readMaxScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,t,n){const r=t.capabilities?.includes("Tilemap");let{minLOD:i,maxLOD:o,minScale:s,maxScale:a}=t;if(null==i&&null==o&&0!==s&&0!==a){const e=e=>Math.round(1e4*e)/1e4;s=e(s||t.tileInfo.lods[0].scale),a=e(a||t.tileInfo.lods[t.tileInfo.lods.length-1].scale);for(const n of t.tileInfo.lods){const t=e(n.scale);i=t>=s?n.level:i,o=t>=a?n.level:o}}if(r)return new Dle({layer:this,minLOD:i,maxLOD:o});if(t.tileInfo){const e=new gle;return e.read(t.tileInfo,n),new Ale(e,i,o)}return null}};return S([To({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),S([To()],t.prototype,"minScale",void 0),S([Cp("service","minScale")],t.prototype,"readMinScale",null),S([To()],t.prototype,"maxScale",void 0),S([Cp("service","maxScale")],t.prototype,"readMaxScale",null),S([To({type:Ip})],t.prototype,"spatialReference",void 0),S([To({readOnly:!0})],t.prototype,"supportsBlankTile",null),S([To({type:gle})],t.prototype,"tileInfo",void 0),S([To()],t.prototype,"tilemapCache",void 0),S([Cp("service","tilemapCache",["capabilities","tileInfo"])],t.prototype,"readTilemapCache",null),S([To()],t.prototype,"version",void 0),t=S([gs("esri.layers.mixins.ArcGISCachedService")],t),t};var jle;const Ule=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"];let zle=jle=class extends(IY(f3(tle(Fle(Zoe(H0(J2(_q(sB(d3(oq(CY(kH))))))))))))){constructor(...e){super(...e),this.listMode="show",this.isReference=null,this.operationalLayerType="ArcGISTiledMapServiceLayer",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type="tile",this.url=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(lr).then((()=>this._fetchService(t)))),Promise.resolve(this)}get attributionDataUrl(){const e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,t){return(e=e||t.tileInfo?.spatialReference)&&Ip.fromJSON(e)}writeSublayers(e,t,n,r){if(!this.loaded||!e)return;const i=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),o=[],s={writeSublayerStructure:!1,...r};i.forEach((e=>{const t=e.write({},s);o.push(t)})),o.some((e=>Object.keys(e).length>1))&&(t.layers=o)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>ba(e).path)):null}fetchTile(e,t,n,r={}){const{signal:i}=r,o=this.getTileUrl(e,t,n),s={responseType:"image",signal:i,query:{...this.refreshParameters}};return Bl(o,s).then((e=>e.data))}async fetchImageBitmapTile(e,t,n,r={}){const{signal:i}=r;if(this.fetchTile!==jle.prototype.fetchTile){const o=await this.fetchTile(e,t,n,r);return k9(o,e,t,n,i)}const o=this.getTileUrl(e,t,n),s={responseType:"blob",signal:i,query:{...this.refreshParameters}},{data:a}=await Bl(o,s);return k9(a,e,t,n,i)}getTileUrl(e,t,n){const r=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,i=_a({...this.parsedUrl?.query,blankTile:!r&&null,...this.customParameters,token:this.apiKey}),o=this.tileServers;return`${o&&o.length?o[t%o.length]:this.parsedUrl?.path}/tile/${e}/${t}/${n}${i?"?"+i:""}`}loadAll(){return ru(this,(e=>{e(this.allSublayers)}))}_fetchService(e){return new Promise(((t,n)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new et("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");return void t({data:this.sourceJSON})}if(!this.parsedUrl)throw new et("tile-layer:undefined-url","layer's url is not defined");const r=pq(this.parsedUrl.path);if(null!=r&&"ImageServer"===r.serverType)throw new et("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");Bl(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t,n)})).then((t=>{let n=this.url;if(t.ssl&&(n=this.url=n.replace(/^http:/i,"https:")),this.sourceJSON=t.data,this.read(t.data,{origin:"service",url:this.parsedUrl}),10.1===this.version&&!yq(n))return this._fetchServerVersion(n,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,t){if(!hq(e))return Promise.reject();const n=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return Bl(n,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then((e=>{if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new et("tile-layer:version-not-available")}))}_getMapName(e){const t=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^/]+(\/[^/]+)*)\/mapserver/i);return t?t[2]:void 0}_getDefaultAttribution(e){if(null==e)return null;let t;e=e.toLowerCase();for(let n=0,r=Ule.length;n<r;n++)if(t=Ule[n],t.toLowerCase().includes(e))return Da("//static.arcgis.com/attribution/"+t);return null}_getDefaultTileServers(e){if(null==e)return[];const t=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),n=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return t||n?[e,e.replace(t?/server\.arcgisonline/i:/services\.arcgisonline/i,t?"services.arcgisonline":"server.arcgisonline")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[Gle]}};S([To({readOnly:!0})],zle.prototype,"attributionDataUrl",null),S([To({type:["show","hide","hide-children"]})],zle.prototype,"listMode",void 0),S([To({json:{read:!0,write:!0}})],zle.prototype,"blendMode",void 0),S([To({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],zle.prototype,"isReference",void 0),S([To({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],zle.prototype,"operationalLayerType",void 0),S([To({type:Boolean})],zle.prototype,"resampling",void 0),S([To()],zle.prototype,"sourceJSON",void 0),S([To({type:Ip})],zle.prototype,"spatialReference",void 0),S([Cp("spatialReference",["spatialReference","tileInfo"])],zle.prototype,"readSpatialReference",null),S([To({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],zle.prototype,"path",void 0),S([To({readOnly:!0})],zle.prototype,"sublayers",void 0),S([su("sublayers",{layers:{type:[qae]}})],zle.prototype,"writeSublayers",null),S([To({json:{read:!1,write:!1}})],zle.prototype,"popupEnabled",void 0),S([To()],zle.prototype,"tileServers",null),S([Dp("tileServers")],zle.prototype,"castTileServers",null),S([To({readOnly:!0,json:{read:!1}})],zle.prototype,"type",void 0),S([To(NJ)],zle.prototype,"url",void 0),zle=jle=S([gs("esri.layers.TileLayer")],zle);const Gle=Symbol("default-fetch-tile");zle.prototype.fetchTile[Gle]=!0;const Vle=zle,Ble=Object.freeze(Object.defineProperty({__proto__:null,default:Vle},Symbol.toStringTag,{value:"Module"})),$le=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function Hle(e){return null!=e&&$le.some((([t,n])=>e>=t&&e<=n))}const Wle={visible:"visibleSublayers"};let qle=class extends Ms{constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.sublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("wms-sublayer-update",(e=>this.notifyChange(Wle[e.propertyName])))],"layer"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:t}=this,n=e?.sublayers,r=[],i=e=>{const{minScale:n,maxScale:o,sublayers:s,visible:a}=e;a&&(0===t||(0===n||t<=n)&&(0===o||t>=o))&&(s?s.forEach(i):r.push(e))};return n?.forEach(i),r}toJSON(){const{layer:e,layers:t}=this,{imageFormat:n,imageTransparency:r,version:i}=e;return{format:n,request:"GetMap",service:"WMS",styles:"",transparent:r?"TRUE":"FALSE",version:i,layers:t}}};var Zle;S([To()],qle.prototype,"layer",null),S([To({readOnly:!0})],qle.prototype,"layers",null),S([To({type:Number})],qle.prototype,"scale",void 0),S([To({readOnly:!0})],qle.prototype,"version",null),S([To({readOnly:!0})],qle.prototype,"visibleSublayers",null),qle=S([gs("esri.layers.support.ExportWMSImageParameters")],qle);let Yle=0,Xle=Zle=class extends(iI(aB)){constructor(e){super(e),this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.legendUrl=null,this.legendEnabled=!0,this.layer=null,this.maxScale=0,this.minScale=0,this.name=null,this.parent=null,this.popupEnabled=!1,this.queryable=!1,this.sublayers=null,this.spatialReferences=null,this.title=null,this.addHandles([YR((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=this,e.layer=this.layer}),eL),YR((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),eL),WR((()=>this.sublayers),((e,t)=>{if(t)for(const n of t)n.layer=n.parent=null;if(e)for(const n of e)n.parent=this,n.layer=this.layer}),eL),WR((()=>this.layer),(e=>{if(this.sublayers)for(const t of this.sublayers)t.layer=e}),eL)])}get id(){return this._get("id")??Yle++}set id(e){this._set("id",e)}readLegendUrl(e,t){return t.legendUrl??t.legendURL??null}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}castSublayers(e){return so(Rc.ofType(Zle),e)}set visible(e){this._setAndNotifyLayer("visible",e)}clone(){const e=new Zle;return this.hasOwnProperty("description")&&(e.description=this.description),this.hasOwnProperty("fullExtent")&&(e.fullExtent=this.fullExtent.clone()),this.hasOwnProperty("fullExtents")&&(e.fullExtents=this.fullExtents?.map((e=>e.clone()))??null),this.hasOwnProperty("legendUrl")&&(e.legendUrl=this.legendUrl),this.hasOwnProperty("legendEnabled")&&(e.legendEnabled=this.legendEnabled),this.hasOwnProperty("layer")&&(e.layer=this.layer),this.hasOwnProperty("name")&&(e.name=this.name),this.hasOwnProperty("parent")&&(e.parent=this.parent),this.hasOwnProperty("queryable")&&(e.queryable=this.queryable),this.hasOwnProperty("sublayers")&&(e.sublayers=this.sublayers?.map((e=>e.clone()))),this.hasOwnProperty("spatialReferences")&&(e.spatialReferences=this.spatialReferences?.map((e=>e))),this.hasOwnProperty("visible")&&(e.visible=this.visible),this.hasOwnProperty("title")&&(e.title=this.title),e}_setAndNotifyLayer(e,t){const n=this.layer;this._get(e)!==t&&(this._set(e,t),n&&n.emit("wms-sublayer-update",{propertyName:e,id:this.id}))}};S([To()],Xle.prototype,"description",void 0),S([To({readOnly:!0})],Xle.prototype,"dimensions",void 0),S([To({type:Gd,json:{name:"extent"}})],Xle.prototype,"fullExtent",void 0),S([To()],Xle.prototype,"fullExtents",void 0),S([To({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],Xle.prototype,"id",null),S([To({type:String,json:{name:"legendUrl",write:{ignoreOrigin:!0}}})],Xle.prototype,"legendUrl",void 0),S([Cp("legendUrl",["legendUrl","legendURL"])],Xle.prototype,"readLegendUrl",null),S([To({type:Boolean,json:{name:"showLegend",origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],Xle.prototype,"legendEnabled",void 0),S([To()],Xle.prototype,"layer",void 0),S([To()],Xle.prototype,"maxScale",void 0),S([To()],Xle.prototype,"minScale",void 0),S([To({readOnly:!0})],Xle.prototype,"effectiveScaleRange",null),S([To({type:String,json:{write:{ignoreOrigin:!0}}})],Xle.prototype,"name",void 0),S([To()],Xle.prototype,"parent",void 0),S([To({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],Xle.prototype,"popupEnabled",void 0),S([To({type:Boolean,json:{write:{ignoreOrigin:!0}}})],Xle.prototype,"queryable",void 0),S([To()],Xle.prototype,"sublayers",void 0),S([Dp("sublayers")],Xle.prototype,"castSublayers",null),S([To({type:[Number],json:{read:{source:"spatialReferences"}}})],Xle.prototype,"spatialReferences",void 0),S([To({type:String,json:{write:{ignoreOrigin:!0}}})],Xle.prototype,"title",void 0),S([To({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],Xle.prototype,"visible",null),Xle=Zle=S([gs("esri.layers.support.WMSSublayer")],Xle);const Jle=Xle,Kle={84:4326,83:4269,27:4267};function Qle(e){if(!e)return null;const t={idCounter:-1};"string"==typeof e&&(e=(new DOMParser).parseFromString(e,"text/xml"));const n=e.documentElement;if("ServiceExceptionReport"===n.nodeName){const e=Array.prototype.slice.call(n.childNodes).map((e=>e.textContent)).join("\r\n");throw new et("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",e)}const r=oce("Capability",n),i=oce("Service",n),o=r&&oce("Request",r);if(!r||!i||!o)return null;const s=oce("Layer",r);if(!s)return null;const a="WMS_Capabilities"===n.nodeName||"WMT_MS_Capabilities"===n.nodeName?n.getAttribute("version"):"1.3.0",l=ace("Title",i,"")||ace("Name",i,""),c=ace("AccessConstraints",i,""),u=/^none$/i.test(c)?"":c,h=ace("Abstract",i,""),p=parseInt(ace("MaxWidth",i,"5000"),10),d=parseInt(ace("MaxHeight",i,"5000"),10),f=uce(o,"GetMap"),m=cce(o,"GetMap"),y=pce(s,a,t);if(!y)return null;let g,v=0;const b=Array.prototype.slice.call(r.childNodes),w=y.sublayers??[],_=e=>{null!=e&&w.push(e)};b.forEach((e=>{"Layer"===e.nodeName&&(0===v?g=e:(1===v&&y.name&&(y.name="",_(pce(g,a,t))),_(pce(e,a,t))),v++)}));let x=y.sublayers,S=y.extent;const T=y.fullExtents??[];if(x||(x=[]),0===x.length&&x.push(y),!S){const e=new Gd(x[0].extent);y.extent=e.toJSON(),S=y.extent}const E=y.spatialReferences.length>0?y.spatialReferences:tce(y),M=cce(o,"GetFeatureInfo"),A=M?uce(o,"GetFeatureInfo"):null,I=nce(x),C=y.minScale||0,O=y.maxScale||0,k=y.dimensions??[],R=I.reduce(((e,t)=>e.concat(t.dimensions??[])),[]),L=k.concat(R).filter(yce);let N=null;if(L.length){const e=L.map((e=>{const{extent:t}=e;return dce(t)?t.map((e=>e.getTime())):t?.map((e=>[e.min.getTime(),e.max.getTime()]))})).flat(2).filter(q);N={startTimeField:null,endTimeField:null,trackIdField:void 0,timeExtent:[Math.min(...e),Math.max(...e)]}}return{copyright:u,description:h,dimensions:k,extent:S,fullExtents:T,featureInfoFormats:A,featureInfoUrl:M,mapUrl:m,maxWidth:p,maxHeight:d,maxScale:O,minScale:C,layers:I,spatialReferences:E,supportedImageFormatTypes:f,timeInfo:N,title:l,version:a}}function ece(e){const t=e.filter((e=>e.popupEnabled&&e.name&&e.queryable));return t.length?t.map((({name:e})=>e)).join():null}function tce(e){if(e.spatialReferences.length>0)return e.spatialReferences;if(e.sublayers)for(const t of e.sublayers){const e=tce(t);if(e.length>0)return e}return[]}function nce(e){let t=[];for(const n of e)t.push(n),n.sublayers?.length&&(t=t.concat(nce(n.sublayers)),delete n.sublayers);return t}function rce(e,t,n){return t.getAttribute(e)??n}function ice(e,t,n,r){const i=oce(e,n);return i?rce(t,i,r):r}function oce(e,t){for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n];if(fce(r)&&r.nodeName===e)return r}return null}function sce(e,t){if(null==t)return[];const n=[];for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];fce(i)&&i.nodeName===e&&n.push(i)}return n}function ace(e,t,n){return oce(e,t)?.textContent??n}function lce(e,t,n){if(!e)return null;const r=parseFloat(e.getAttribute("minx")),i=parseFloat(e.getAttribute("miny")),o=parseFloat(e.getAttribute("maxx")),s=parseFloat(e.getAttribute("maxy"));let a,l,c,u;n?(a=isNaN(i)?-Number.MAX_VALUE:i,l=isNaN(r)?-Number.MAX_VALUE:r,c=isNaN(s)?Number.MAX_VALUE:s,u=isNaN(o)?Number.MAX_VALUE:o):(a=isNaN(r)?-Number.MAX_VALUE:r,l=isNaN(i)?-Number.MAX_VALUE:i,c=isNaN(o)?Number.MAX_VALUE:o,u=isNaN(s)?Number.MAX_VALUE:s);const h=new Ip({wkid:t});return new Gd({xmin:a,ymin:l,xmax:c,ymax:u,spatialReference:h})}function cce(e,t){const n=oce(t,e);if(n){const e=oce("DCPType",n);if(e){const t=oce("HTTP",e);if(t){const e=oce("Get",t);if(e){let t=ice("OnlineResource","xlink:href",e,null);if(t){const e=t.indexOf("&");return-1!==e&&e===t.length-1&&(t=t.slice(0,-1)),gce(t,["service","request"])}}}}}return null}function uce(e,t){const n=sce("Operation",e);if(!n.length)return sce("Format",oce(t,e)).map((({textContent:e})=>e)).filter(q);const r=[];for(const i of n)if(i.getAttribute("name")===t){const e=sce("Format",i);for(const{textContent:t}of e)null!=t&&r.push(t)}return r}function hce(e,t,n){const r=oce(t,e);if(!r)return n;const{textContent:i}=r;if(null==i||""===i)return n;const o=Number(i);return isNaN(o)?n:o}function pce(e,t,n){if(!e)return null;const r={id:n.idCounter++,fullExtents:[],parentLayerId:null,queryable:"1"===e.getAttribute("queryable"),spatialReferences:[],sublayers:null},i=oce("LatLonBoundingBox",e),o=oce("EX_GeographicBoundingBox",e);let s=null;i&&(s=lce(i,4326)),o&&(s=new Gd(0,0,0,0,new Ip({wkid:4326})),s.xmin=parseFloat(ace("westBoundLongitude",o,"0")),s.ymin=parseFloat(ace("southBoundLatitude",o,"0")),s.xmax=parseFloat(ace("eastBoundLongitude",o,"0")),s.ymax=parseFloat(ace("northBoundLatitude",o,"0"))),i||o||(s=new Gd(-180,-90,180,90,new Ip({wkid:4326}))),r.minScale=hce(e,"MaxScaleDenominator",0),r.maxScale=hce(e,"MinScaleDenominator",0);const a=["1.0.0","1.1.0","1.1.1"].includes(t)?"SRS":"CRS";return Array.prototype.slice.call(e.childNodes).forEach((e=>{if("Name"===e.nodeName)r.name=e.textContent||"";else if("Title"===e.nodeName)r.title=e.textContent||"";else if("Abstract"===e.nodeName)r.description=e.textContent||"";else if("BoundingBox"===e.nodeName){const n=e.getAttribute(a);if(n&&0===n.indexOf("EPSG:")){const r=parseInt(n.slice(5),10);0===r||isNaN(r)||s||(s="1.3.0"===t?lce(e,r,Hle(r)):lce(e,r))}const i=n?.indexOf(":");if(i&&i>-1){let o=parseInt(n.slice(i+1),10);0===o||isNaN(o)||(o=Kle[o]??o);const s="1.3.0"===t?lce(e,o,Hle(o)):lce(e,o);s&&r.fullExtents&&r.fullExtents.push(s)}}else if(e.nodeName===a)(e.textContent?.split(" ")??[]).forEach((e=>{let t=NaN;if(e.includes(":")){const[n,r]=e.toUpperCase().split(":");"CRS"!==n&&"EPSG"!==n||(t=parseInt(r,10))}else t=parseInt(e,10);if(0!==t&&!isNaN(t)){const e=Kle[t]??t;r.spatialReferences.includes(e)||r.spatialReferences.push(e)}}));else if("Style"!==e.nodeName||r.legendUrl){if("Layer"===e.nodeName){const i=pce(e,t,n);i&&(i.parentLayerId=r.id,r.sublayers||(r.sublayers=[]),r.sublayers.push(i))}}else{const t=oce("LegendURL",e);if(t){const e=oce("OnlineResource",t);e&&(r.legendUrl=e.getAttribute("xlink:href"))}}})),r.extent=s?.toJSON(),r.dimensions=sce("Dimension",e).filter((e=>e.getAttribute("name")&&e.getAttribute("units")&&e.textContent)).map((e=>{const t=e.getAttribute("name"),n=e.getAttribute("units"),r=e.textContent,i=e.getAttribute("unitSymbol")??void 0,o=e.getAttribute("default")??void 0,s="0"!==rce("default",e,"0"),a="0"!==rce("nearestValue",e,"0"),l="0"!==rce("current",e,"0");return yce({name:t,units:n})?{name:"time",units:"ISO8601",extent:wce(r),default:wce(o),multipleValues:s,nearestValue:a,current:l}:mce({name:t,units:n})?{name:"elevation",units:n,extent:vce(r),unitSymbol:i,default:vce(o),multipleValues:s,nearestValue:a}:{name:t,units:n,extent:bce(r),unitSymbol:i,default:bce(o),multipleValues:s,nearestValue:a}})),r}function dce(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof Date}function fce(e){return e.nodeType===Node.ELEMENT_NODE}function mce(e){return/^elevation$/i.test(e.name)&&/^(epsg|crs):\d+$/i.test(e.units)}function yce(e){return/^time$/i.test(e.name)&&/^iso8601$/i.test(e.units)}function gce(e,t){const n=[],r=ba(e);for(const i in r.query)r.query.hasOwnProperty(i)&&(t.includes(i.toLowerCase())||n.push(i+"="+r.query[i]));return r.path+(n.length?"?"+n.join("&"):"")}function vce(e){if(!e)return;const t=e.includes("/"),n=e.split(",");return t?n.map((e=>{const t=e.split("/");return t.length<2?null:{min:parseFloat(t[0]),max:parseFloat(t[1]),resolution:t.length>=3&&"0"!==t[2]?parseFloat(t[2]):void 0}})).filter(q):n.map((e=>parseFloat(e)))}function bce(e){if(!e)return;const t=e.includes("/"),n=e.split(",");return t?n.map((e=>{const t=e.split("/");return t.length<2?null:{min:t[0],max:t[1],resolution:t.length>=3&&"0"!==t[2]?t[2]:void 0}})).filter(q):n}function wce(e){if(!e)return;const t=e.includes("/"),n=e.split(",");return t?n.map((e=>{const t=e.split("/");return t.length<2?null:{min:_ce(t[0]),max:_ce(t[1]),resolution:t.length>=3&&"0"!==t[2]?xce(t[2]):void 0}})).filter(q):n.map((e=>_ce(e)))}function _ce(e){return US.fromISO(e,{zone:Ub.utcInstance}).toJSDate()}function xce(e){const t=/(?:p(\d+y|\d+(?:\.|,)\d+y)?(\d+m|\d+(?:\.|,)\d+m)?(\d+d|\d+(?:\.|,)\d+d)?)?(?:t(\d+h|\d+(?:\.|,)\d+h)?(\d+m|\d+(?:\.|,)\d+m)?(\d+s|\d+(?:\.|,)\d+s)?)?/i,n=e.match(t);return n?{years:Sce(n[1]),months:Sce(n[2]),days:Sce(n[3]),hours:Sce(n[4]),minutes:Sce(n[5]),seconds:Sce(n[6])}:null}function Sce(e){if(!e)return 0;const t=/(?:\d+(?:\.|,)\d+|\d+)/,n=e.match(t);if(!n)return 0;const r=n[0].replace(",",".");return Number(r)}function Tce(e){return e.toISOString().replace(/\.[0-9]{3}/,"")}const Ece="0000-01-01T00:00:00Z",Mce="9999-12-31T23:59:59Z";function Ace(e){if(!e||e.isAllTime||e.isEmpty)return;const{start:t,end:n}=e;return t&&n&&t.getTime()===n.getTime()?`${Tce(t)}`:`${t?Tce(t):Ece}/${n?Tce(n):Mce}`}const Ice=new Set([102100,3857,102113,900913]),Cce=new Set([3395,54004]);function Oce(e,t){let n=e.wkid;return null==t?n:(null!=n&&t.includes(n)||!e.latestWkid||(n=e.latestWkid),null!=n&&Ice.has(n)?t.find((e=>Ice.has(e)))||t.find((e=>Cce.has(e)))||102100:n)}const kce=new au({bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},{ignoreUnknown:!1});function Rce(e){return"text/html"===e}function Lce(e){return"text/plain"===e}let Nce=class extends(IY(S3(d3(f3(H0(J2(sB(kH)))))))){constructor(...e){super(...e),this.allSublayers=new Xoe({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.customParameters=null,this.customLayerParameters=null,this.copyright=null,this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.featureInfoFormats=null,this.featureInfoUrl=null,this.fetchFeatureInfoFunction=null,this.imageFormat=null,this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.legendEnabled=!0,this.mapUrl=null,this.isReference=null,this.operationalLayerType="WMS",this.spatialReference=null,this.spatialReferences=null,this.sublayers=null,this.type="wms",this.version=null,this.addHandles([YR((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=e.layer=this}),eL),YR((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),eL),WR((()=>this.sublayers),((e,t)=>{if(t)for(const n of t)n.layer=n.parent=null;if(e)for(const n of e)n.parent=n.layer=this}),eL)])}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}destroy(){this.allSublayers.destroy()}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMS"]},e).catch(lr).then((()=>this._fetchService(t))).then((()=>this._checkLayerValidity()))),Promise.resolve(this)}readFullExtentFromItemOrMap(e,t){const n=t.extent;return n?new Gd({xmin:n[0][0],ymin:n[0][1],xmax:n[1][0],ymax:n[1][1]}):null}writeFullExtent(e,t){t.extent=[[e.xmin,e.ymin],[e.xmax,e.ymax]]}get featureInfoFormat(){return null==this.featureInfoFormats?null:this.featureInfoFormats.find(Rce)??this.featureInfoFormats.find(Lce)??null}set featureInfoFormat(e){null==e?(this.revert("featureInfoFormat","service"),this._clearOverride("featureInfoFormat")):(Rce(e)||Lce(e))&&this._override("featureInfoFormat",e)}readImageFormat(e,t){const n=t.supportedImageFormatTypes;return n&&n.includes("image/png")?"image/png":n&&n[0]}readSpatialReferenceFromItemOrDocument(e,t){return new Ip(t.spatialReferences[0])}writeSpatialReferences(e,t){const n=this.spatialReference?.wkid;e&&n?(t.spatialReferences=e.filter((e=>e!==n)),t.spatialReferences.unshift(n)):t.spatialReferences=e}readSublayersFromItemOrMap(e,t,n){return Dce(t.layers,n,t.visibleLayers)}readSublayers(e,t,n){return Dce(t.layers,n)}writeSublayers(e,t,n,r){t.layers=[];const i=new Map,o=e.flatten((({sublayers:e})=>e??[]));for(const s of o)if("number"==typeof s.parent?.id){const e=i.get(s.parent.id);null!=e?e.push(s.id):i.set(s.parent.id,[s.id])}for(const s of o){const e={sublayer:s,...r},n=s.write({parentLayerId:"number"==typeof s.parent?.id?s.parent.id:-1},e);if(i.has(s.id)&&(n.sublayerIds=i.get(s.id)),!s.sublayers&&s.name){const n=s.write({},e);delete n.id,t.layers.push(n)}}t.visibleLayers=o.filter((({visible:e,sublayers:t})=>e&&!t)).map((({name:e})=>e)).toArray()}set url(e){if(!e)return void this._set("url",e);const{path:t,query:n}=ba(e);for(const i in n)/^(request|service)$/i.test(i)&&delete n[i];const r=bl(t,n??{});this._set("url",r)}createExportImageParameters(e,t,n,r){const i=r?.pixelRatio??1,o=Boe({extent:e,width:t})*i,s=new qle({layer:this,scale:o}),{xmin:a,ymin:l,xmax:c,ymax:u,spatialReference:h}=e,p=Oce(h,this.spatialReferences),d="1.3.0"===this.version&&Hle(p)?`${l},${a},${u},${c}`:`${a},${l},${c},${u}`,f=s.toJSON(),m="1.3.0"===this.version?"crs":"srs";return{bbox:d,[m]:null==p||isNaN(p)?void 0:"EPSG:"+p,...f}}async fetchImage(e,t,n,r){const i=this.mapUrl,o=this.createExportImageParameters(e,t,n,r);if(!o.layers){const e=document.createElement("canvas");return e.width=t,e.height=n,e}const s=Ace(r?.timeExtent),a={responseType:"image",query:this._mixCustomParameters({width:t,height:n,...o,time:s,...this.refreshParameters}),signal:r?.signal};return Bl(i??"",a).then((e=>e.data))}async fetchImageBitmap(e,t,n,r){const i=this.mapUrl??"",o=this.createExportImageParameters(e,t,n,r);if(!o.layers){const e=document.createElement("canvas");return e.width=t,e.height=n,e}const s=Ace(r?.timeExtent),a={responseType:"blob",query:this._mixCustomParameters({width:t,height:n,...o,time:s,...this.refreshParameters}),signal:r?.signal},{data:l}=await Bl(i,a);return O9(l,i,r?.signal)}fetchFeatureInfo(e,t,n,r,i){const o=Boe({extent:e,width:t}),s=new qle({layer:this,scale:o}),a=ece(s.visibleSublayers);if(null==this.featureInfoUrl||null==a)return Promise.resolve([]);if(null==this.fetchFeatureInfoFunction&&null==this.featureInfoFormat)return Promise.resolve([]);const l="1.3.0"===this.version?{I:r,J:i}:{x:r,y:i},c={query_layers:a,request:"GetFeatureInfo",info_format:this.featureInfoFormat,feature_count:25,width:t,height:n,...l},u={...this.createExportImageParameters(e,t,n),...c},h=this._mixCustomParameters(u);return null!=this.fetchFeatureInfoFunction?this.fetchFeatureInfoFunction(h):this._defaultFetchFeatureInfoFunction(bl(this.featureInfoUrl,h))}findSublayerById(e){return this.allSublayers.find((t=>t.id===e))}findSublayerByName(e){return this.allSublayers.find((t=>t.name===e))}serviceSupportsSpatialReference(e){return wq(this.url)||null!=this.spatialReferences&&this.spatialReferences.some((t=>{const n=900913===t?Ip.WebMercator:new Ip({wkid:t});return Qu(n,e)}))}_defaultFetchFeatureInfoFunction(e){const t=document.createElement("iframe");t.src=Sa(e),t.style.border="none",t.style.margin="0",t.style.width="100%",t.setAttribute("sandbox","");const n=new SI({title:this.title,content:t}),r=new jL({sourceLayer:this,popupTemplate:n});return Promise.resolve([r])}async _fetchService(e){if(!this.resourceInfo&&this.parsedUrl?.path){const{path:t,query:n}=this.parsedUrl,{data:r}=await Bl(t,{query:{SERVICE:"WMS",REQUEST:"GetCapabilities",...n,...this.customParameters},responseType:"xml",signal:e});this.resourceInfo=Qle(r)}if(this.parsedUrl){const e=new ua(this.parsedUrl.path),{httpsDomains:t}=Ue.request;"https"!==e.scheme||e.port&&"443"!==e.port||!e.host||t.includes(e.host)||t.push(e.host)}this.read(this.resourceInfo,{origin:"service"})}_checkLayerValidity(){if(!this.allSublayers.length)throw new et("wmslayer:empty-layer","The layer doesn't have any sublayer")}_mixCustomParameters(e){if(!this.customLayerParameters&&!this.customParameters)return e;const t={...this.customParameters,...this.customLayerParameters};for(const n in t)e[n.toLowerCase()]=t[n];return e}};function Pce(e,t){return e.some((e=>{for(const n in e)if(zs(e,n,null,t))return!0;return!1}))}function Dce(e,t,n){e=e??[];const r=new Map;e.every((e=>null==e.id))&&(e=_e(e)).forEach(((e,t)=>e.id=t));for(const o of e){const e=new Jle;e.read(o,t),n&&!n.includes(e.name)&&(e.visible=!1),r.set(e.id,e)}const i=[];for(const o of e){const e=null!=o.id?r.get(o.id):null;if(e)if(null!=o.parentLayerId&&o.parentLayerId>=0){const t=r.get(o.parentLayerId);if(!t)continue;t.sublayers||(t.sublayers=new Rc),t.sublayers.push(e)}else i.push(e)}return i}S([To({readOnly:!0})],Nce.prototype,"allSublayers",void 0),S([To({json:{type:Object,write:!0}})],Nce.prototype,"customParameters",void 0),S([To({json:{type:Object,write:!0}})],Nce.prototype,"customLayerParameters",void 0),S([To({type:String,json:{write:!0}})],Nce.prototype,"copyright",void 0),S([To()],Nce.prototype,"description",void 0),S([To({readOnly:!0})],Nce.prototype,"dimensions",void 0),S([To({json:{type:[[Number]],read:{source:"extent"},write:{target:"extent"},origins:{"web-document":{write:{ignoreOrigin:!0}},"portal-item":{write:{ignoreOrigin:!0}}}}})],Nce.prototype,"fullExtent",void 0),S([Cp(["web-document","portal-item"],"fullExtent",["extent"])],Nce.prototype,"readFullExtentFromItemOrMap",null),S([su(["web-document","portal-item"],"fullExtent",{extent:{type:[[Number]]}})],Nce.prototype,"writeFullExtent",null),S([To()],Nce.prototype,"fullExtents",void 0),S([To({type:String,json:{write:{ignoreOrigin:!0}}})],Nce.prototype,"featureInfoFormat",null),S([To({type:[String],readOnly:!0})],Nce.prototype,"featureInfoFormats",void 0),S([To({type:String,json:{write:{ignoreOrigin:!0}}})],Nce.prototype,"featureInfoUrl",void 0),S([To()],Nce.prototype,"fetchFeatureInfoFunction",void 0),S([To({type:String,json:{origins:{"web-document":{default:"image/png",type:kce.jsonValues,read:{reader:kce.read,source:"format"},write:{writer:kce.write,target:"format"}}}}})],Nce.prototype,"imageFormat",void 0),S([Cp("imageFormat",["supportedImageFormatTypes"])],Nce.prototype,"readImageFormat",null),S([To({type:Number,json:{read:{source:"maxHeight"},write:{target:"maxHeight"}}})],Nce.prototype,"imageMaxHeight",void 0),S([To({type:Number,json:{read:{source:"maxWidth"},write:{target:"maxWidth"}}})],Nce.prototype,"imageMaxWidth",void 0),S([To()],Nce.prototype,"imageTransparency",void 0),S([To(PJ)],Nce.prototype,"legendEnabled",void 0),S([To({type:["show","hide","hide-children"]})],Nce.prototype,"listMode",void 0),S([To({type:String,json:{write:{ignoreOrigin:!0}}})],Nce.prototype,"mapUrl",void 0),S([To({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],Nce.prototype,"isReference",void 0),S([To({type:["WMS"]})],Nce.prototype,"operationalLayerType",void 0),S([To()],Nce.prototype,"resourceInfo",void 0),S([To({type:Ip,json:{origins:{service:{read:{source:"extent.spatialReference"}}},write:!1}})],Nce.prototype,"spatialReference",void 0),S([Cp(["web-document","portal-item"],"spatialReference",["spatialReferences"])],Nce.prototype,"readSpatialReferenceFromItemOrDocument",null),S([To({type:[yo],json:{read:!1,origins:{service:{read:!0},"web-document":{read:!1,write:{ignoreOrigin:!0}},"portal-item":{read:!1,write:{ignoreOrigin:!0}}}}})],Nce.prototype,"spatialReferences",void 0),S([su(["web-document","portal-item"],"spatialReferences")],Nce.prototype,"writeSpatialReferences",null),S([To({type:Rc.ofType(Jle),json:{write:{target:"layers",overridePolicy(e,t,n){if(Pce(this.allSublayers,n))return{ignoreOrigin:!0}}}}})],Nce.prototype,"sublayers",void 0),S([Cp(["web-document","portal-item"],"sublayers",["layers","visibleLayers"])],Nce.prototype,"readSublayersFromItemOrMap",null),S([Cp("service","sublayers",["layers"])],Nce.prototype,"readSublayers",null),S([su("sublayers",{layers:{type:[Jle]},visibleLayers:{type:[String]}})],Nce.prototype,"writeSublayers",null),S([To({json:{read:!1},readOnly:!0,value:"wms"})],Nce.prototype,"type",void 0),S([To(NJ)],Nce.prototype,"url",null),S([To({type:String,json:{write:{ignoreOrigin:!0}}})],Nce.prototype,"version",void 0),Nce=S([gs("esri.layers.WMSLayer")],Nce);const Fce=Nce,jce=Object.freeze(Object.defineProperty({__proto__:null,default:Fce},Symbol.toStringTag,{value:"Module"}));var Uce;let zce=Uce=class extends Hs{constructor(e){super(e),this.type="none"}clone(){return new Uce({type:this.type})}};var Gce;S([WM({none:"none",stayAbove:"stay-above"})],zce.prototype,"type",void 0),zce=Uce=S([gs("esri.ground.NavigationConstraint")],zce);let Vce=Gce=class extends(Vs(Wc)){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Rc;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&Ye.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},n=e=>{e.parent=null};this.addHandles([this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>n(e.item)))])}initialize(){this.when().catch((e=>{dr(e)||Ye.getLogger(this).error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)mt(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",Lc(e,this._get("layers")))}writeLayers(e,t,n,r){const i=[];e&&(r={...r,layerContainerType:"ground"},e.forEach((e=>{if("write"in e){const t={};sP(e)().write(t,r)&&i.push(t)}else r?.messages&&r.messages.push(new et("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))}))),t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return ru(this,(e=>{e(this.layers)}))}async queryElevation(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await n.e(3822).then(n.bind(n,43822));or(t);const i=new r,o=this.layers.filter($ce).toArray();return i.queryAll(o,e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await n.e(3822).then(n.bind(n,43822));or(t);const i=new r,o=this.layers.filter($ce).toArray();return i.createSamplerAll(o,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:_e(this.surfaceColor),navigationConstraint:_e(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new Gce({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const i=t?.origin||"web-scene",o=t?.portal||null,s=t?.url||null,{populateOperationalLayers:a}=await n.e(4308).then(n.bind(n,94308));or(r);const l=[];if(e.layers&&Array.isArray(e.layers)){const t={context:{origin:i,url:s,portal:o,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(a(this.layers,e.layers,t))}await Promise.allSettled(l)}};function Bce(e){return e&&"createElevationSampler"in e}function $ce(e){return"elevation"===e.type||Bce(e)}S([To({json:{read:!1}})],Vce.prototype,"layers",null),S([su("layers")],Vce.prototype,"writeLayers",null),S([To({readOnly:!0})],Vce.prototype,"resourceInfo",void 0),S([To({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:yo,read:{reader:HI,source:"transparency"},write:{writer:(e,t)=>{t.transparency=$I(e)},target:"transparency"}}})],Vce.prototype,"opacity",void 0),S([To({type:gy,json:{type:[yo],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Vce.prototype,"surfaceColor",void 0),S([To({type:zce,json:{write:!0}})],Vce.prototype,"navigationConstraint",void 0),Vce=Gce=S([gs("esri.Ground")],Vce);const Hce=Vce,Wce=new WeakMap;function qce(e){return!e.destroyed&&(Wce.has(e)||e.addHandles([WR((()=>{const t=e.parent;return!(!t||!("type"in t))&&("catalog-dynamic-group"===t.type||qce(t))}),(t=>Wce.set(e,t)),nL),Tt((()=>Wce.delete(e)))]),Wce.get(e))}function Zce(e){return"object"==typeof e&&null!=e&&"loaded"in e&&!0===e.loaded&&"type"in e}function Yce(e){return!(!Zce(e)||!bm(e)?.operations?.supportsEditing||"editingEnabled"in e&&!_m(e)||qce(e))}const Xce=()=>Ye.getLogger("esri.support.basemapUtils");function Jce(){return{}}function Kce(e){for(const t in e){const n=e[t];mt(n),delete e[t]}}function Qce(e,t){let n;if("string"==typeof e){const r=e in am,i=!r&&e.includes("/");if(!r&&!i){if(Ue.apiKey)Xce().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const t=Object.entries(am).filter((([e,t])=>t.classic||t.is3d)).map((([e])=>`"${e}"`)).sort().join(", ");Xce().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`)}return null}t&&(n=t[e]),n||(n=r?Pm.fromId(e):new Pm({style:{id:e}}),t&&(t[e]=n))}else n=so(Pm,e);return n?.destroyed&&(Xce().warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function eue(e){return new Xoe({getCollections:()=>[e.tables,e.layers],getChildrenFunction:e=>{const t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&"tables"in t&&t.tables.includes(e)}})}function tue(e){for(const t of e.values())t?.destroy();e.clear()}const nue={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function rue(e){let t=null;if("string"==typeof e)if(e in nue){const n=nue[e];t=new Hce({resourceInfo:{data:{layers:[n]}}})}else Ye.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=so(Hce,e);return t}function iue(e,t,n){let r,i;if(e)for(let o=0,s=e.length;o<s;o++){if(r=e.at(o),r?.[t]===n)return r;if("group"===r?.type&&(i=iue(r.layers,t,n),i))return i}}const oue=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new Rc;const t=e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)},n=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||Ye.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},r=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on("before-add",(e=>{if(e.item===this)return e.preventDefault(),void Ye.getLogger(this).error("#add()","Cannot add layer to itself.");t(e.item)})),this.layers.on("after-add",(e=>n(e.item))),this.layers.on("after-remove",(e=>r(e.item)))])}destroy(){const e=this.layers.toArray();for(const t of e)t.destroy();this.layers.destroy()}set layers(e){this._set("layers",Lc(e,this._get("layers")))}add(e,t){const n=this.layers;if(t=n.getNextIndex(t),e instanceof kH){const r=e;r.parent===this?this.reorder(r,t):n.add(r,t)}else wr(e)?e.then((e=>{this.destroyed||this.add(e,t)})):Ye.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const n=this.layers;let r=n.getNextIndex(t);e.slice().forEach((e=>{e.parent!==this?(n.add(e,r),r+=1):this.reorder(e,r)}))}findLayerById(e){return iue(this.layers,"id",e)}findLayerByUid(e){return iue(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return S([To()],t.prototype,"layers",null),t=S([gs("esri.support.LayersMixin")],t),t};function sue(e,t,n){if(e)for(let r=0,i=e.length;r<i;r++){const i=e.at(r);if(i[t]===n)return i;if("group"===i?.type){const e=sue(i.tables,t,n);if(e)return e}}}const aue=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new Rc,this.addHandles([this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&Ye.getLogger(this).error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))])}destroy(){const e=this.tables.toArray();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",Lc(e,this._get("tables")))}findTableById(e){return sue(this.tables,"id",e)}findTableByUid(e){return sue(this.tables,"uid",e)}};return S([To()],t.prototype,"tables",null),t=S([gs("esri.support.TablesMixin")],t),t};let lue=class extends(aue(oue(dc.EventedMixin(Ms)))){constructor(e){super(e),this.allLayers=new Xoe({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:e=>"layers"in e?e.layers:null}),this.allTables=eue(this),this.basemap=null,this.editableLayers=new Xoe({getCollections:()=>[this.allLayers],itemFilterFunction:Yce}),this.ground=new Hce,this._basemapCache=Jce()}destroy(){Kce(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=mt(this.basemap),mt(this.ground),this._set("ground",null)}castBasemap(e){return Qce(e,this._basemapCache)}castGround(e){return rue(e)??this._get("ground")}findLayerById(e){return this.allLayers.find((t=>t.id===e))}findTableById(e){return this.allTables.find((t=>t.id===e))}};S([To({readOnly:!0,dependsOn:[]})],lue.prototype,"allLayers",void 0),S([To({readOnly:!0})],lue.prototype,"allTables",void 0),S([To({type:Pm,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],lue.prototype,"basemap",void 0),S([Dp("basemap")],lue.prototype,"castBasemap",null),S([To({readOnly:!0})],lue.prototype,"editableLayers",void 0),S([To({type:Hce,nonNullable:!0})],lue.prototype,"ground",void 0),S([Dp("ground")],lue.prototype,"castGround",null),S([To()],lue.prototype,"undoRedo",void 0),lue=S([gs("esri.Map")],lue);const cue=lue;function uue(e){const{exifInfo:t,exifName:n,tagName:r}=e;if(!t||!n||!r)return null;const i=t.find((e=>e.name===n));return i?hue({tagName:r,tags:i.tags}):null}function hue(e){const{tagName:t,tags:n}=e;return n&&t&&n.find((e=>e.name===t))?.value||null}var pue;const due={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let fue=pue=class extends Hs{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=uue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return due[t]||null}clone(){return new pue({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};S([To({type:String})],fue.prototype,"contentType",void 0),S([To()],fue.prototype,"exifInfo",void 0),S([To({readOnly:!0})],fue.prototype,"orientationInfo",null),S([To({type:yo})],fue.prototype,"id",void 0),S([To({type:String})],fue.prototype,"globalId",void 0),S([To({type:String})],fue.prototype,"keywords",void 0),S([To({type:String})],fue.prototype,"name",void 0),S([To({json:{read:!1}})],fue.prototype,"parentGlobalId",void 0),S([To({json:{read:!1}})],fue.prototype,"parentObjectId",void 0),S([To({type:yo})],fue.prototype,"size",void 0),S([To({json:{read:!1}})],fue.prototype,"url",void 0),fue=pue=S([gs("esri.rest.query.support.AttachmentInfo")],fue);const mue=fue,yue={convertToGEGeometry:gue,exportPoint:bue,exportPolygon:_ue,exportPolyline:Sue,exportMultipoint:Eue,exportExtent:Aue};function gue(e,t){return null==t?null:e.convertJSONToGeometry(t)}let vue=class{constructor(e,t,n){this.x=e,this.y=t,this.spatialReference=n,this.z=void 0,this.m=void 0}};function bue(e,t,n){const r=new vue(e.getPointX(t),e.getPointY(t),n),i=e.hasZ(t),o=e.hasM(t);return i&&(r.z=e.getPointZ(t)),o&&(r.m=e.getPointM(t)),r}let wue=class{constructor(e,t,n,r){this.rings=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),r&&(this.hasM=r)}};function _ue(e,t,n){return new wue(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))}let xue=class{constructor(e,t,n,r){this.paths=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),r&&(this.hasM=r)}};function Sue(e,t,n){return new xue(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))}let Tue=class{constructor(e,t,n,r){this.points=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),r&&(this.hasM=r)}};function Eue(e,t,n){return new Tue(e.exportPoints(t),n,e.hasZ(t),e.hasM(t))}let Mue=class{constructor(e,t,n,r,i){this.xmin=e,this.ymin=t,this.xmax=n,this.ymax=r,this.spatialReference=i,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}};function Aue(e,t,n){const r=e.hasZ(t),i=e.hasM(t),o=new Mue(e.getXMin(t),e.getYMin(t),e.getXMax(t),e.getYMax(t),n);if(r){const n=e.getZExtent(t);o.zmin=n.vmin,o.zmax=n.vmax}if(i){const n=e.getMExtent(t);o.mmin=n.vmin,o.mmax=n.vmax}return o}const Iue=[0,0];function Cue(e,t){if(!t)return null;if("x"in t){const n={x:0,y:0};return[n.x,n.y]=e(t.x,t.y,Iue),null!=t.z&&(n.z=t.z),null!=t.m&&(n.m=t.m),n}if("xmin"in t){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=e(t.xmin,t.ymin,Iue),[n.xmax,n.ymax]=e(t.xmax,t.ymax,Iue),t.hasZ&&(n.zmin=t.zmin,n.zmax=t.zmax,n.hasZ=!0),t.hasM&&(n.mmin=t.mmin,n.mmax=t.mmax,n.hasM=!0),n}return"rings"in t?{rings:Oue(t.rings,e),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:Oue(t.paths,e),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:kue(t.points,e),hasM:t.hasM,hasZ:t.hasZ}:null}function Oue(e,t){const n=[];for(const r of e)n.push(kue(r,t));return n}function kue(e,t){const n=[];for(const r of e){const e=t(r[0],r[1],[0,0]);n.push(e),r.length>2&&e.push(r[2]),r.length>3&&e.push(r[3])}return n}async function Rue(e,t){if(!e||!t)return;const n=Array.isArray(e)?e.map((e=>null!=e.geometry?e.geometry.spatialReference:null)).filter(q):[e];await A2(n.map((e=>({source:e,dest:t}))))}const Lue=Cue.bind(null,qp),Nue=Cue.bind(null,Zp);function Pue(e,t,n,r){if(!e||(n||(n=t,t=e.spatialReference),!fh(t)||!fh(n)||Qu(t,n)))return e;if(Hp(t,n)){const t=ah(n)?Lue(e):Nue(e);return t.spatialReference=n,t}return m2(yue,[e],t,n,null,r)[0]}let Due=class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(e,t,n,r){if(!e?.length||!t||!n||Qu(t,n))return e;const i={geometries:e,inSpatialReference:t,outSpatialReference:n,geographicTransformation:r,resolve:Sr()};return this._jobs.push(i),this._timer??=setTimeout(this._process,10),i.resolve.promise}_process(){this._timer=null;const e=this._jobs.shift();if(!e)return;const{geometries:t,inSpatialReference:n,outSpatialReference:r,resolve:i,geographicTransformation:o}=e;Hp(n,r)?ah(r)?i(t.map(Lue)):i(t.map(Nue)):i(m2(yue,t,n,r,o,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};const Fue=new Due;function jue(e,t,n,r){return Fue.push(e,t,n,r)}const Uue=new au({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),zue=Object.freeze({});async function Gue(e,t,n){const{outFields:r,orderByFields:i,groupByFieldsForStatistics:o,outStatistics:s}=e;if(r)for(let a=0;a<r.length;a++)r[a]=r[a].trim();if(i)for(let a=0;a<i.length;a++)i[a]=i[a].trim();if(o)for(let a=0;a<o.length;a++)o[a]=o[a].trim();if(s)for(let a=0;a<s.length;a++)s[a].onStatisticField&&(s[a].onStatisticField=s[a].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),Vue(e,t,n)}async function Vue(e,t,n){if(!e)return null;let{where:r}=e;if(e.where=r=r?.trim(),(!r||/^1 *= *1$/.test(r)||t&&t===r)&&(e.where=null),!e.geometry)return e;let i=await Hue(e);if(e.distance=0,e.units=null,"esriSpatialRelEnvelopeIntersects"===e.spatialRel){const{spatialReference:t}=e.geometry;i=Wg(i),i.spatialReference=t}if(i){await Rue(i.spatialReference,n),i=$ue(i,n);const t=(await g5(fv(i)))[0];if(null==t)throw zue;const r="quantizationParameters"in e&&e.quantizationParameters?.tolerance||"maxAllowableOffset"in e&&e.maxAllowableOffset||0,o=r&&Bue(i,n)?{densificationStep:8*r}:void 0,s=t.toJSON(),a=Pue(s,s.spatialReference,n,o);if(!a)throw zue;a.spatialReference=n,e.geometry=a}return e}function Bue(e,t){if(!e)return!1;const n=e.spatialReference;return(cv(e)||dv(e)||pv(e))&&!Qu(n,t)&&!E2(n,t)}function $ue(e,t){const n=e.spatialReference;return Bue(e,t)&&cv(e)?{spatialReference:n,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}:e}async function Hue(e){const{distance:t,units:n}=e,r=e.geometry;if(null==t||"vertexAttributes"in r)return r;const i=r.spatialReference,o=n?Uue.fromJSON(n):hp(i),s=i&&(nh(i)||ah(i))?r:await Rue(i,mh).then((()=>Pue(r,mh)));return(await Wue())(s.spatialReference,s,t,o)}async function Wue(){return(await Promise.all([n.e(6239),n.e(3270)]).then(n.bind(n,43270)).then((e=>e.g))).geodesicBuffer}let que=class extends(_v(Hs)){constructor(e){super(e),this.alias=null,this.expression=null,this.field=null,this.responseType=null}};S([To({type:String,json:{write:!0}})],que.prototype,"alias",void 0),S([To({type:String,json:{write:!0}})],que.prototype,"expression",void 0),S([To({type:String,json:{write:!0}})],que.prototype,"field",void 0),S([To({type:String,json:{write:!0}})],que.prototype,"responseType",void 0),que=S([gs("esri.rest.support.BinParametersAttributes")],que);const Zue=que;que.from=so(que);const Yue=new au({naturalLog:"natural-log",squareRoot:"square-root"});let Xue=class extends(_v(Hs)){constructor(e){super(e),this.expression=null,this.field=null,this.firstDayOfWeek=null,this.hideUpperBound=null,this.splitByAttributes=null,this.stackByAttributes=null,this.transformation=null}};S([To({type:String,json:{write:!0}})],Xue.prototype,"expression",void 0),S([To({type:String,json:{name:"onField",write:!0}})],Xue.prototype,"field",void 0),S([To({type:String,json:{write:!0}})],Xue.prototype,"firstDayOfWeek",void 0),S([To({type:String,json:{write:!0}})],Xue.prototype,"hideUpperBound",void 0),S([To({type:Zue,json:{write:{target:{splitBy:{type:String},splitByField:{type:String},splitByAlias:{type:String}},writer:(e,t)=>{null!=e.field&&(t.splitByField=e.field),null!=e.expression&&(t.splitBy=e.expression),null!=e.alias&&(t.splitByAlias=e.alias)}},read:{source:["splitBy","splitByField","splitByAlias"],reader:(e,t)=>new Zue({field:t.splitByField,expression:t.splitBy,alias:t.splitByAlias})}}})],Xue.prototype,"splitByAttributes",void 0),S([To({type:Zue,json:{write:{target:{stackBy:{type:String},stackByField:{type:String},stackByAlias:{type:String},jsonStyle:{type:String}},writer:(e,t)=>{null!=e.field&&(t.stackByField=e.field),null!=e.expression&&(t.stackBy=e.expression),null!=e.alias&&(t.stackByAlias=e.alias),null!=e.responseType&&(t.jsonStyle=e.responseType)},overridePolicy(){return{enabled:null!=this.stackByAttributes?.field||null!=this.stackByAttributes?.expression}}},read:{source:["stackBy","stackByField","stackByAlias","jsonStyle"],reader:(e,t)=>new Zue({field:t.stackByField,expression:t.stackBy,alias:t.stackByAlias,responseType:t.jsonStyle})}}})],Xue.prototype,"stackByAttributes",void 0),S([WM(Yue)],Xue.prototype,"transformation",void 0),Xue=S([gs("esri.rest.support.BinParametersBase")],Xue);const Jue=Xue,Kue=uu()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),Que="percent-of-total",ehe="field",the=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,n=null!=this.normalizationTotal;return t||n?(e=t&&ehe||n&&Que||null,t&&n&&Ye.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==ehe&&e!==Que||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}};return S([To({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),S([To({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),S([To({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),S([To({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),S([WM(Kue,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=S([gs("esri.rest.support.NormalizationBinParametersMixin")],t),t};function nhe(e,t,n){Pe(n,e instanceof Date?e.getTime():e,t)}let rhe=class extends(the(Jue)){constructor(e){super(e),this.bins=null,this.end=null,this.start=null,this.type="auto-interval"}};S([To({type:Number,json:{name:"parameters.numberOfBins",write:!0}})],rhe.prototype,"bins",void 0),S([To({json:{name:"parameters.end",write:{writer:nhe}}})],rhe.prototype,"end",void 0),S([To({json:{name:"parameters.start",write:{writer:nhe}}})],rhe.prototype,"start",void 0),S([WM({autoIntervalBin:"auto-interval"},{readOnly:!0})],rhe.prototype,"type",void 0),rhe=S([gs("esri.rest.support.AutoIntervalBinParameters")],rhe);const ihe=rhe;rhe.from=so(rhe);const ohe=uu()({year:"years",quarter:"quarters",month:"months",week:"weeks",day:"days",hour:"hours",minute:"minutes",second:"seconds"});let she=class extends(_v(Hs)){constructor(e){super(e),this.value=null,this.units=null}};S([To({type:Number,json:{name:"number",write:!0}})],she.prototype,"value",void 0),S([WM(ohe,{name:"unit"})],she.prototype,"units",void 0),she=S([gs("esri.rest.support.DateBinTimeInterval")],she);const ahe=she;function lhe(e,t,n){Pe(n,"string"==typeof e?e:e?.getTime(),t)}function che(e,t){const n=e.parameters[t];return n?"string"==typeof n?n:new Date(n):null}she.from=so(she);let uhe=class extends Jue{constructor(e){super(e),this.end=null,this.interval=null,this.offset=null,this.start=null,this.type="date"}};S([To({cast:e=>e?"string"==typeof e?e:new Date(e):null,json:{name:"parameters.end",read:{reader:(e,t)=>che(t,"end")},write:{writer:lhe}}})],uhe.prototype,"end",void 0),S([To({type:ahe,json:{name:"parameters",write:!0}})],uhe.prototype,"interval",void 0),S([To({type:ahe,json:{name:"parameters.offset",write:!0}})],uhe.prototype,"offset",void 0),S([To({cast:e=>e?"string"==typeof e?e:new Date(e):null,json:{name:"parameters.start",read:{reader:(e,t)=>che(t,"start")},write:{writer:lhe}}})],uhe.prototype,"start",void 0),S([WM({dateBin:"date"},{readOnly:!0})],uhe.prototype,"type",void 0),uhe=S([gs("esri.rest.support.DateBinParameters")],uhe);const hhe=uhe;function phe(e){return e[0]instanceof Date}function dhe(e,t,n){Pe(n,e&&phe(e)?e.map((e=>e.getTime())):e,t)}uhe.from=so(uhe);let fhe=class extends Jue{constructor(e){super(e),this.boundaries=null,this.type="fixed-boundaries"}};S([To({json:{name:"parameters.boundaries",write:{writer:dhe}}})],fhe.prototype,"boundaries",void 0),S([WM({fixedBoundariesBin:"fixed-boundaries"},{readOnly:!0})],fhe.prototype,"type",void 0),fhe=S([gs("esri.rest.support.FixedBoundariesBinParameters")],fhe);const mhe=fhe;function yhe(e,t,n){Pe(n,e instanceof Date?e.getTime():e,t)}fhe.from=so(fhe);let ghe=class extends(the(Jue)){constructor(e){super(e),this.end=null,this.interval=null,this.start=null,this.type="fixed-interval"}};S([To({json:{name:"parameters.end",write:{writer:yhe}}})],ghe.prototype,"end",void 0),S([To({type:Number,json:{name:"parameters.interval",write:!0}})],ghe.prototype,"interval",void 0),S([To({json:{name:"parameters.start",write:{writer:yhe}}})],ghe.prototype,"start",void 0),S([WM({fixedIntervalBin:"fixed-interval"},{readOnly:!0})],ghe.prototype,"type",void 0),ghe=S([gs("esri.rest.support.FixedIntervalBinParameters")],ghe);const vhe=ghe;ghe.from=so(ghe);const bhe=new au({asc:"ascending",desc:"descending"}),whe={base:Jue,key:"type",typeMap:{"auto-interval":ihe,date:hhe,"fixed-boundaries":mhe,"fixed-interval":vhe}};let _he=class extends(_v(Hs)){constructor(e){super(e),this.binParameters=null,this.binOrder="ascending",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.quantizationParameters=null,this.returnDistinctValues=null,this.spatialRelationship="intersects",this.upperBoundaryAlias=null,this.units=null,this.where="1=1"}set outTimeZone(e){this._set("outTimeZone",e),e&&!eT(e)&&Ye.getLogger(this).warn("#outTimeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}};S([To({types:whe,json:{name:"bin",write:!0}})],_he.prototype,"binParameters",void 0),S([WM(bhe)],_he.prototype,"binOrder",void 0),S([To({type:Boolean,json:{write:!0}})],_he.prototype,"cacheHint",void 0),S([To({json:{write:!0}})],_he.prototype,"datumTransformation",void 0),S([To({type:Ip,json:{name:"defaultSR",write:!0}})],_he.prototype,"defaultSpatialReference",void 0),S([To({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],_he.prototype,"distance",void 0),S([To({types:wv,json:{read:fv,write:!0}})],_he.prototype,"geometry",void 0),S([To({type:String,json:{write:!0}})],_he.prototype,"lowerBoundaryAlias",void 0),S([To({type:Ip,json:{name:"outSR",write:!0}})],_he.prototype,"outSpatialReference",void 0),S([To({type:[TX],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],_he.prototype,"outStatistics",void 0),S([To({value:null,json:{name:"outTimeReference",read:{reader:e=>e.ianaTimeZone},write:{writer:(e,t,n)=>{e&&(t[n]={ianaTimeZone:e})}}}})],_he.prototype,"outTimeZone",null),S([To({type:bX,json:{write:!0}})],_he.prototype,"quantizationParameters",void 0),S([To({type:Boolean,json:{write:!0}})],_he.prototype,"returnDistinctValues",void 0),S([WM(wX,{name:"spatialRel"})],_he.prototype,"spatialRelationship",void 0),S([To({type:String,json:{write:!0}})],_he.prototype,"upperBoundaryAlias",void 0),S([To({type:String,json:{read:Uue.read,write:{writer:Uue.write,overridePolicy(e){return{enabled:null!=e&&null!=this.distance&&this.distance>0}}}}})],_he.prototype,"units",void 0),S([To({type:String,json:{write:!0}})],_he.prototype,"where",void 0),_he=S([gs("esri.rest.support.BinsQuery")],_he);const xhe=_he;_he.from=so(_he);const She=Object.freeze(Object.defineProperty({__proto__:null,default:xhe},Symbol.toStringTag,{value:"Module"}));var The;let Ehe=The=class extends Hs{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new The({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};S([To({type:[String],json:{write:!0}})],Ehe.prototype,"groupByFields",void 0),S([To({type:Number,json:{write:!0}})],Ehe.prototype,"topCount",void 0),S([To({type:[String],json:{write:!0}})],Ehe.prototype,"orderByFields",void 0),Ehe=The=S([gs("esri.rest.support.TopFilter")],Ehe);const Mhe=Ehe;var Ahe;const Ihe=new au({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Che=new au({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Ohe=Ahe=class extends Hs{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new Ahe(_e({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};S([To({type:Boolean,json:{write:!0}})],Ohe.prototype,"cacheHint",void 0),S([To({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Ohe.prototype,"distance",void 0),S([To({types:wv,json:{read:fv,write:!0}})],Ohe.prototype,"geometry",void 0),S([To({type:Number,json:{write:!0}})],Ohe.prototype,"geometryPrecision",void 0),S([To({type:Number,json:{write:!0}})],Ohe.prototype,"maxAllowableOffset",void 0),S([To({type:Number,json:{read:{source:"resultRecordCount"}}})],Ohe.prototype,"num",void 0),S([To({json:{write:!0}})],Ohe.prototype,"objectIds",void 0),S([To({type:[String],json:{write:!0}})],Ohe.prototype,"orderByFields",void 0),S([To({type:[String],json:{write:!0}})],Ohe.prototype,"outFields",void 0),S([To({type:Ip,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ohe.prototype,"outSpatialReference",void 0),S([To({type:String,json:{write:!0}})],Ohe.prototype,"resultType",void 0),S([To({json:{write:!0}})],Ohe.prototype,"returnGeometry",void 0),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ohe.prototype,"returnM",void 0),S([To({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ohe.prototype,"returnZ",void 0),S([To({type:Number,json:{read:{source:"resultOffset"}}})],Ohe.prototype,"start",void 0),S([su("start"),su("num")],Ohe.prototype,"writeStart",null),S([To({type:String,json:{read:{source:"spatialRel",reader:Ihe.read},write:{target:"spatialRel",writer:Ihe.write}}})],Ohe.prototype,"spatialRelationship",void 0),S([To({type:MH,json:{write:!0}})],Ohe.prototype,"timeExtent",void 0),S([To({type:Mhe,json:{write:!0}})],Ohe.prototype,"topFilter",void 0),S([To({type:String,json:{read:Che.read,write:{writer:Che.write,overridePolicy(e){return{enabled:null!=e&&null!=this.distance&&this.distance>0}}}}})],Ohe.prototype,"units",void 0),S([To({type:String,json:{write:!0}})],Ohe.prototype,"where",void 0),Ohe=Ahe=S([gs("esri.rest.support.TopFeaturesQuery")],Ohe),Ohe.from=so(Ohe);const khe=Ohe,Rhe=Object.freeze(Object.defineProperty({__proto__:null,default:khe},Symbol.toStringTag,{value:"Module"}));let Lhe=class extends xv{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return null!=e&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};S([To({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Lhe.prototype,"row",void 0),S([To({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Lhe.prototype,"column",void 0),S([To({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Lhe.prototype,"rows",void 0),S([To({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Lhe.prototype,"columns",void 0),Lhe=S([gs("esri.CameraLayout")],Lhe);const Nhe=Lhe;let Phe=class{constructor(e,t){this.min=e,this.max=t,this.range=t-e}normalize(e,t=0,n=!1){return Dhe(this.range,this.min,this.max,e,t,n)}clamp(e,t=0){return Wm(e-t,this.min,this.max)+t}monotonic(e,t,n){return e<t?t:t+Fhe(this.range,e-t,n)}minimalMonotonic(e,t,n){return Dhe(this.range,e,e+this.range,t,n)}center(e,t,n){return t=this.monotonic(e,t,n),this.normalize((e+t)/2,n)}diff(e,t,n){return this.monotonic(e,t,n)-e}shortestSignedDiff(e,t){e=this.normalize(e);const n=(t=this.normalize(t))-e,r=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(n)<Math.abs(r)?n:r}contains(e,t,n){return t=this.minimalMonotonic(e,t),(n=this.minimalMonotonic(e,n))>e&&n<t}};function Dhe(e,t,n,r,i=0,o=!1){return(r-=i)<t?r+=Fhe(e,t-r):r>n&&(r-=Fhe(e,r-n)),o&&r===n&&(r=t),r+i}function Fhe(e,t,n=0){return Math.ceil((t-n)/e)*e+n}const jhe=new Phe(0,360);let Uhe=class extends(_v(Hs)){constructor(...e){super(...e),this.position=new sd([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new Nhe}normalizeCtorArgs(e,t,n,r){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){const i={position:e};return null!=t&&(i.heading=t),null!=n&&(i.tilt=n),null!=r&&(i.fov=r),i}return e}writePosition(e,t,n,r){const i=e.clone();i.x=Wi(e.x||0),i.y=Wi(e.y||0),i.z=e.hasZ?Wi(e.z||0):e.z,t[n]=i.write({},r)}readPosition(e,t){const n=new sd;return n.read(e,t),n.x=Wi(n.x||0),n.y=Wi(n.y||0),n.z=n.hasZ?Wi(n.z||0):n.z,n}equals(e){return null!=e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};S([To({type:sd,json:{write:{isRequired:!0}}})],Uhe.prototype,"position",void 0),S([su("position")],Uhe.prototype,"writePosition",null),S([Cp("position")],Uhe.prototype,"readPosition",null),S([To({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Dp((e=>jhe.normalize(Wi(e))))],Uhe.prototype,"heading",void 0),S([To({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Dp((e=>Wm(Wi(e),-180,180)))],Uhe.prototype,"tilt",void 0),S([To({type:Number,nonNullable:!0,json:{default:55,write:!0}}),Dp((e=>Wm(Wi(e,55),1,170)))],Uhe.prototype,"fov",void 0),S([To({type:Nhe,nonNullable:!0,json:{read:!1,write:!1}})],Uhe.prototype,"layout",void 0),Uhe=S([gs("esri.Camera")],Uhe);const zhe=Uhe;var Ghe;let Vhe=Ghe=class extends Hs{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new Ghe({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};S([To({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:$he}}}}})],Vhe.prototype,"rotation",void 0),S([Dp("rotation")],Vhe.prototype,"castRotation",null),S([To({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:$he}}}}})],Vhe.prototype,"scale",void 0),S([To({types:wv,json:{read:fv,write:!0,origins:{"web-scene":{read:fv,write:{overridePolicy:$he}}}}})],Vhe.prototype,"targetGeometry",void 0),S([To({type:zhe,json:{write:!0}})],Vhe.prototype,"camera",void 0),Vhe=Ghe=S([gs("esri.Viewpoint")],Vhe);const Bhe=Vhe;function $he(){return{enabled:!this.camera}}const Hhe={widthBreakpoint:{getValue(e){const t=e.viewSize[0],n=e.breakpoints,r=this.values;return t<=n.xsmall?r.xsmall:t<=n.small?r.small:t<=n.medium?r.medium:t<=n.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],n=e.breakpoints,r=this.values;return t<=n.xsmall?r.xsmall:t<=n.small?r.small:t<=n.medium?r.medium:t<=n.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,n=t[0],r=t[1],i=this.values;return r>=n?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},Whe={xsmall:544,small:768,medium:992,large:1200};function qhe(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function Zhe(e,t){return t?Hhe[e].valueToClassName[t].split(" "):[]}const Yhe=e=>{let t=class extends e{constructor(...e){super(...e),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=Whe}initialize(){this.addHandles(WR((()=>[this.breakpoints,this.size]),(()=>this._updateClassNames()),tL))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(e){if(e!==this._get("breakpoints")){if(!qhe(e)){const t=JSON.stringify(Whe,null,2);console.warn("provided breakpoints are not valid, using defaults:"+t),e=Whe}this._set("breakpoints",{...e})}}_updateClassNames(){if(!this.container)return;const e=jn.acquire(),t=jn.acquire();let n,r=!1;for(n in Hhe){const i=this[n],o=Hhe[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});i!==o&&(r=!0,this[n]=o,Zhe(n,i).forEach((e=>t.push(e))),Zhe(n,o).forEach((t=>e.push(t))))}r&&(this._applyClassNameChanges(e,t),jn.release(e),jn.release(t))}_applyClassNameChanges(e,t){const n=this.container;n&&(t.forEach((e=>n.classList.remove(e))),e.forEach((e=>n.classList.add(e))))}_removeActiveClassNames(){const e=this.container;if(!e)return;let t;for(t in Hhe)Zhe(t,this[t]).forEach((t=>e.classList.remove(t)))}};return S([To()],t.prototype,"breakpoints",null),S([To()],t.prototype,"orientation",void 0),S([To()],t.prototype,"widthBreakpoint",void 0),S([To()],t.prototype,"heightBreakpoint",void 0),t=S([gs("esri.views.BreakpointsOwner")],t),t};function Xhe(e){return"string"==typeof e?document.getElementById(e):e??null}function Jhe(e,t){for(;;){const n=e.firstChild;if(!n)break;t.appendChild(n)}}let Khe=class extends Ms{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,t,n={}){return this._installWatch(e,t,n,WR)}addWhen(e,t,n={}){return this._installWatch(e,t,n,qR)}addOnCollectionChange(e,t,{initial:n=!1,final:r=!1}={}){const i=++this._handleId;return this.addHandles([YR(e,"after-changes",this._createSyncUpdatingCallback(),eL),YR(e,"change",t,{onListenerAdd:n?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:r?e=>t({added:[],removed:e.toArray()}):void 0})],i),Tt((()=>this.removeHandles(i)))}addPromise(e){if(null==e)return e;const t=++this._handleId;this.addHandles(Tt((()=>{this._pendingPromises.delete(e)&&(0!==this._pendingPromises.size||this.hasHandles(Qhe)||this._set("updating",!1))})),t),this._pendingPromises.add(e),this._set("updating",!0);const n=()=>this.removeHandles(t);return e.then(n,n),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,t,n={},r){const i=++this._handleId;n.sync||this._installSyncUpdatingWatch(e,i);const o=r(e,t,n);return this.addHandles(o,i),Tt((()=>this.removeHandles(i)))}_installSyncUpdatingWatch(e,t){const n=this._createSyncUpdatingCallback(),r=WR(e,n,{sync:!0,equals:()=>!1});return this.addHandles(r,t),r}_createSyncUpdatingCallback(){return()=>{this.removeHandles(Qhe),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(jr((()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(Qhe))})),Qhe)}}};S([To({readOnly:!0})],Khe.prototype,"updating",void 0),Khe=S([gs("esri.core.support.UpdatingHandles")],Khe);const Qhe=-42;var epe=function(){return epe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},epe.apply(this,arguments)},tpe={exports:{}},npe={},rpe={exports:{}},ipe={};function ope(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}function spe(e,t,n){}function ape(e,t,n){}var lpe=/javascript\s*\:/gim;function cpe(e,t){return lpe.test(t)?"":t}ipe.whiteList=ope(),ipe.getDefaultWhiteList=ope,ipe.onAttr=spe,ipe.onIgnoreAttr=ape,ipe.safeAttrValue=cpe;var upe={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},hpe=upe;function ppe(e,t){e=hpe.trimRight(e),";"!==e[e.length-1]&&(e+=";");var n=e.length,r=!1,i=0,o=0,s="";function a(){if(!r){var n=hpe.trim(e.slice(i,o)),a=n.indexOf(":");if(-1!==a){var l=hpe.trim(n.slice(0,a)),c=hpe.trim(n.slice(a+1));if(l){var u=t(i,s.length,l,c,n);u&&(s+=u+"; ")}}}i=o+1}for(;o<n;o++){var l=e[o];if("/"===l&&"*"===e[o+1]){var c=e.indexOf("*/",o+2);if(-1===c)break;o=c+1,i=o+1,r=!1}else"("===l?r=!0:")"===l?r=!1:";"===l?r||a():"\n"===l&&a()}return hpe.trim(s)}var dpe=ppe,fpe=ipe,mpe=dpe;function ype(e){return null==e}function gpe(e){var t={};for(var n in e)t[n]=e[n];return t}function vpe(e){e=gpe(e||{}),e.whiteList=e.whiteList||fpe.whiteList,e.onAttr=e.onAttr||fpe.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||fpe.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||fpe.safeAttrValue,this.options=e}vpe.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,i=n.onAttr,o=n.onIgnoreAttr,s=n.safeAttrValue,a=mpe(e,(function(e,t,n,a,l){var c=r[n],u=!1;if(!0===c?u=c:"function"==typeof c?u=c(a):c instanceof RegExp&&(u=c.test(a)),!0!==u&&(u=!1),a=s(n,a),a){var h={position:t,sourcePosition:e,source:l,isWhite:u};if(u){var p=i(n,a,h);return ype(p)?n+":"+a:p}p=o(n,a,h);if(!ype(p))return p}}));return a};var bpe=vpe;(function(e,t){var n=ipe,r=bpe;function i(e,t){var n=new r(t);return n.process(e)}for(var o in t=e.exports=i,t.FilterCSS=r,n)t[o]=n[o]})(rpe,rpe.exports);var wpe=rpe.exports,_pe={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}},xpe=wpe.FilterCSS,Spe=wpe.getDefaultWhiteList,Tpe=_pe;function Epe(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Mpe=new xpe;function Ape(e,t,n){}function Ipe(e,t,n){}function Cpe(e,t,n){}function Ope(e,t,n){}function kpe(e){return e.replace(Lpe,"&lt;").replace(Npe,"&gt;")}function Rpe(e,t,n,r){if(n=Zpe(n),"href"===t||"src"===t){if(n=Tpe.trim(n),"#"===n)return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(zpe.lastIndex=0,zpe.test(n))return""}else if("style"===t){if(Gpe.lastIndex=0,Gpe.test(n)||(Vpe.lastIndex=0,Vpe.test(n)&&(zpe.lastIndex=0,zpe.test(n))))return"";!1!==r&&(r=r||Mpe,n=r.process(n))}return n=Ype(n),n}var Lpe=/</g,Npe=/>/g,Ppe=/"/g,Dpe=/&quot;/g,Fpe=/&#([a-zA-Z0-9]*);?/gim,jpe=/&colon;?/gim,Upe=/&newline;?/gim,zpe=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Gpe=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Vpe=/u\s*r\s*l\s*\(.*/gi;function Bpe(e){return e.replace(Ppe,"&quot;")}function $pe(e){return e.replace(Dpe,'"')}function Hpe(e){return e.replace(Fpe,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function Wpe(e){return e.replace(jpe,":").replace(Upe," ")}function qpe(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return Tpe.trim(t)}function Zpe(e){return e=$pe(e),e=Hpe(e),e=Wpe(e),e=qpe(e),e}function Ype(e){return e=Bpe(e),e=kpe(e),e}function Xpe(){return""}function Jpe(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e);function r(t){return!!n||-1!==Tpe.indexOf(e,t)}var i=[],o=!1;return{onIgnoreTag:function(e,n,s){if(r(e)){if(s.isClosing){var a="[/removed]",l=s.position+a.length;return i.push([!1!==o?o:s.position,l]),o=!1,a}return o||(o=s.position),"[removed]"}return t(e,n,s)},remove:function(e){var t="",n=0;return Tpe.forEach(i,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n),t}}}function Kpe(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var i=e.indexOf("--\x3e",r);if(-1===i)break;n=i+3}return t}function Qpe(e){var t=e.split("");return t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))})),t.join("")}npe.whiteList=Epe(),npe.getDefaultWhiteList=Epe,npe.onTag=Ape,npe.onIgnoreTag=Ipe,npe.onTagAttr=Cpe,npe.onIgnoreTagAttr=Ope,npe.safeAttrValue=Rpe,npe.escapeHtml=kpe,npe.escapeQuote=Bpe,npe.unescapeQuote=$pe,npe.escapeHtmlEntities=Hpe,npe.escapeDangerHtml5Entities=Wpe,npe.clearNonPrintableCharacter=qpe,npe.friendlyAttrValue=Zpe,npe.escapeAttrValue=Ype,npe.onIgnoreTagStripAll=Xpe,npe.StripTagBody=Jpe,npe.stripCommentTag=Kpe,npe.stripBlankChar=Qpe,npe.cssFilter=Mpe,npe.getDefaultCSSWhiteList=Spe;var ede={},tde=_pe;function nde(e){var t,n=tde.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),t=tde.trim(t).toLowerCase(),"/"===t.slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function rde(e){return"</"===e.slice(0,2)}function ide(e,t,n){var r="",i=0,o=!1,s=!1,a=0,l=e.length,c="",u="";e:for(a=0;a<l;a++){var h=e.charAt(a);if(!1===o){if("<"===h){o=a;continue}}else if(!1===s){if("<"===h){r+=n(e.slice(i,a)),o=a,i=a;continue}if(">"===h){r+=n(e.slice(i,o)),u=e.slice(o,a+1),c=nde(u),r+=t(o,r.length,c,u,rde(u)),i=a+1,o=!1;continue}if('"'===h||"'"===h)for(var p=1,d=e.charAt(a-p);""===d.trim()||"="===d;){if("="===d){s=h;continue e}d=e.charAt(a-++p)}}else if(h===s){s=!1;continue}}return i<e.length&&(r+=n(e.substr(i))),r}var ode=/[^a-zA-Z0-9\\_:.-]/gim;function sde(e,t){var n=0,r=0,i=[],o=!1,s=e.length;function a(e,n){if(e=tde.trim(e),e=e.replace(ode,"").toLowerCase(),!(e.length<1)){var r=t(e,n||"");r&&i.push(r)}}for(var l=0;l<s;l++){var c,u,h=e.charAt(l);if(!1!==o||"="!==h)if(!1===o||l!==r)if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(u=ade(e,l),-1===u){c=tde.trim(e.slice(n,l)),a(c),o=!1,n=l+1;continue}l=u-1;continue}if(u=cde(e,l-1),-1===u){c=tde.trim(e.slice(n,l)),c=hde(c),a(o,c),o=!1,n=l+1;continue}}else;else{if(u=e.indexOf(h,l+1),-1===u)break;c=tde.trim(e.slice(r+1,u)),a(o,c),o=!1,l=u,n=l+1}else o=e.slice(n,l),n=l+1,r='"'===e.charAt(n)||"'"===e.charAt(n)?n:lde(e,l+1)}return n<e.length&&(!1===o?a(e.slice(n)):a(o,hde(tde.trim(e.slice(n))))),tde.trim(i.join(" "))}function ade(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function lde(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function cde(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function ude(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function hde(e){return ude(e)?e.substr(1,e.length-2):e}ede.parseTag=ide,ede.parseAttr=sde;var pde=wpe.FilterCSS,dde=npe,fde=ede,mde=fde.parseTag,yde=fde.parseAttr,gde=_pe;function vde(e){return null==e}function bde(e){var t=gde.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};e=gde.trim(e.slice(t+1,-1));var n="/"===e[e.length-1];return n&&(e=gde.trim(e.slice(0,-1))),{html:e,closing:n}}function wde(e){var t={};for(var n in e)t[n]=e[n];return t}function _de(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}function xde(e){e=wde(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=dde.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=_de(e.whiteList||e.allowList):e.whiteList=dde.whiteList,e.onTag=e.onTag||dde.onTag,e.onTagAttr=e.onTagAttr||dde.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||dde.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||dde.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||dde.safeAttrValue,e.escapeHtml=e.escapeHtml||dde.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new pde(e.css))}xde.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,i=n.onTag,o=n.onIgnoreTag,s=n.onTagAttr,a=n.onIgnoreTagAttr,l=n.safeAttrValue,c=n.escapeHtml,u=t.cssFilter;n.stripBlankChar&&(e=dde.stripBlankChar(e)),n.allowCommentTag||(e=dde.stripCommentTag(e));var h=!1;n.stripIgnoreTagBody&&(h=dde.StripTagBody(n.stripIgnoreTagBody,o),o=h.onIgnoreTag);var p=mde(e,(function(e,t,n,h,p){var d={sourcePosition:e,position:t,isClosing:p,isWhite:Object.prototype.hasOwnProperty.call(r,n)},f=i(n,h,d);if(!vde(f))return f;if(d.isWhite){if(d.isClosing)return"</"+n+">";var m=bde(h),y=r[n],g=yde(m.html,(function(e,t){var r=-1!==gde.indexOf(y,e),i=s(n,e,t,r);return vde(i)?r?(t=l(n,e,t,u),t?e+'="'+t+'"':e):(i=a(n,e,t,r),vde(i)?void 0:i):i}));return h="<"+n,g&&(h+=" "+g),m.closing&&(h+=" /"),h+=">",h}return f=o(n,h,d),vde(f)?c(h):f}),c);return h&&(p=h.remove(p)),p};var Sde=xde;(function(e,t){var n=npe,r=ede,i=Sde;function o(e,t){var n=new i(t);return n.process(e)}function s(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}t=e.exports=o,t.filterXSS=o,t.FilterXSS=i,function(){for(var e in n)t[e]=n[e];for(var i in r)t[i]=r[i]}(),s()&&(self.filterXSS=e.exports)})(tpe,tpe.exports);var Tde=tpe.exports,Ede=function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Mde=function(){function e(e,t){var n,r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=epe(epe({},Tde.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,n,i){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?r.sanitizeUrl(n):Tde.safeAttrValue(e,t,n,i)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},e&&!t?n=e:e&&t?(n=Object.create(this.arcgisFilterOptions),n.css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach((function(t){if("whiteList"===t)n.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]);else if("css"===t){var i=e.css.whiteList;null!=i&&e.css instanceof Object&&Object.keys(i).forEach((function(e){return n.css.whiteList[e]=i[e]}))}else n[t]=e[t]}))):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList,n.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=n,this._xssFilter=new Tde.FilterXSS(n)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:return t.allowUndefined&&typeof e>"u"?void 0:null}},e.prototype.sanitizeUrl=function(e,t){var n=(t??{}).isProtocolRequired,r=void 0===n||n,i=this._trim(e.substring(0,e.indexOf(":"))),o="/"===e,s=/^#/.test(e),a=i&&this.allowedProtocols.indexOf(i.toLowerCase())>-1;return o||s||a?Tde.escapeAttrValue(e):i||r?"":Tde.escapeAttrValue("https://".concat(e))},e.prototype.sanitizeHTMLAttribute=function(e,t,n,r){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,n,r):Tde.safeAttrValue(e,t,n,r)},e.prototype.validate=function(e,t){void 0===t&&(t={});var n=this.sanitize(e,t);return{isValid:e===n,sanitized:n}},e.prototype.encodeHTML=function(e){var t=this;return String(e).replace(/[&<>"'\/]/g,(function(e){return t._entityMap[e]}))},e.prototype.encodeAttrValue=function(e){var t=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,(function(n,r){return t.test(n)?n:"&#x".concat(Number(e.charCodeAt(r)).toString(16),";")}))},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){Array.isArray(e[n])&&Array.isArray(t[n])?t[n]=t[n].concat(e[n]):t[n]=e[n]}))})),t},e.prototype._iterateOverObject=function(e,t){var n=this;void 0===t&&(t={});try{var r=!1,i=void 0;if(Array.isArray(e))i=e.reduce((function(e,i){var o=n.validate(i,t);return o.isValid?e.concat([i]):(r=!0,e.concat([o.sanitized]))}),[]);else{if(!Ede(e))return t.allowUndefined&&typeof e>"u"?void 0:null;var o=Object.keys(e);i=o.reduce((function(i,o){var s=e[o],a=n.validate(s,t);return a.isValid?i[o]=s:(r=!0,i[o]=a.sanitized),i}),{})}return r?i:e}catch{return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}();const Ade=new Map;function Ide(){Ade.clear()}function Cde(e){return Ade.get(e)}function Ode(e,t){Ade.set(e,t)}function kde(e){Ade.delete(e)}function Rde(...e){const t=jn.acquire();for(let r=0;r<e.length;r++){const n=e[r],i=typeof n;if("string"===i)t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if("object"===i)for(const e in n)n[e]&&t.push(e)}const n=t.join(" ");return jn.release(t),n}function Lde(e){const t=e?.closest("[dir]");return null!==t&&t instanceof HTMLElement&&"rtl"===t.dir||"rtl"===document.dir}function Nde(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function Pde(e){const t="data-node-ref";this[e.getAttribute(t)]=e}(()=>{const e=new Map,t=new ResizeObserver((t=>{Ide();for(const n of t)e.get(n.target)?.(n)})),n=(n,r,i)=>(e.set(n,r),t.observe(n,i),Tt((()=>{t.unobserve(n),e.delete(n)})))})();const Dde=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Fde=Dde.reduce(((e,t)=>(e[t]=[],e)),{}),jde=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ude=new Mde({whiteList:Fde,onTagAttr:(e,t,n)=>{const r=`${t}="${n}"`;if(jde.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function zde(e){return"Enter"===e||" "===e}async function Gde(e,t){await Yr(sr(t));const n="function"==typeof e?e():e;n&&("setFocus"in n&&"function"==typeof n.setFocus?await n.setFocus():n instanceof HTMLElement&&n.focus())}const Vde="http://www.w3.org/",Bde=`${Vde}2000/svg`,$de=`${Vde}1999/xlink`;let Hde=[],Wde=(e,t)=>{let n={};return Object.keys(e).forEach((t=>{n[t]=e[t]})),t&&Object.keys(t).forEach((e=>{n[e]=t[e]})),n},qde=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),Zde=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},Yde=(e,t,n)=>{if(""!==t.vnodeSelector)for(let r=n;r<e.length;r++)if(qde(e[r],t))return r;return-1},Xde=(e,t,n,r)=>{let i=e[t];if(""===i.vnodeSelector)return;let o=i.properties;if(!o||!(void 0===o.key?o.bind:o.key))for(let s=0;s<e.length;s++)if(s!==t){let t=e[s];if(qde(t,i))throw new Error(`${n.vnodeSelector} had a ${i.vnodeSelector} child ${"added"===r?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},Jde=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},Kde=[],Qde=!1,efe=e=>{(e.children||[]).forEach(efe),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},tfe=()=>{Qde=!1,Kde.forEach(efe),Kde.length=0},nfe=e=>{Kde.push(e),Qde||(Qde=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(tfe,{timeout:16}):setTimeout(tfe,16))},rfe=e=>{let t=e.domNode;if(e.properties){let n=e.properties.exitAnimation;if(n)return t.style.pointerEvents="none",void n(t,(()=>{t.parentNode&&(t.parentNode.removeChild(t),nfe(e))}),e.properties)}t.parentNode&&(t.parentNode.removeChild(t),nfe(e))},ife=(e,t,n)=>{if(!t)return;let r=n.eventHandlerInterceptor,i=Object.keys(t),o=i.length;for(let s=0;s<o;s++){let o=i[s],a=t[o];if("className"===o)throw new Error('Property "className" is not supported, use "class".');if("class"===o)ufe(e,a,!0);else if("classes"===o){let t=Object.keys(a),n=t.length;for(let r=0;r<n;r++){let n=t[r];a[n]&&e.classList.add(n)}}else if("styles"===o){let t=Object.keys(a),r=t.length;for(let i=0;i<r;i++){let r=t[i],o=a[r];o&&(Zde(o),n.styleApplyer(e,r,o))}}else if("key"!==o&&null!=a){let i=typeof a;"function"===i?(0===o.lastIndexOf("on",0)&&(r&&(a=r(o,a,e,t)),"oninput"===o&&function(){let e=a;a=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[o]=a):n.namespace===Bde?"href"===o?e.setAttributeNS($de,o,a):e.setAttribute(o,a):"string"===i&&"value"!==o?"innerHTML"===o?e[o]=Ude.sanitize(a):ofe(e)&&o in e?e[o]=a:e.setAttribute(o,a):e[o]=a}}};function ofe(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let sfe,afe=(e,t,n)=>{if(t)for(let r of t)cfe(r,e,void 0,n)},lfe=(e,t,n)=>{afe(e,t.children,n),t.text&&(e.textContent=t.text),ife(e,t.properties,n),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,n,t.vnodeSelector,t.properties,t.children])},cfe=(e,t,n,r)=>{let i,o=0,s=e.vnodeSelector,a=t.ownerDocument;if(""===s)i=e.domNode=a.createTextNode(e.text),void 0!==n?t.insertBefore(i,n):t.appendChild(i);else{for(let l=0;l<=s.length;++l){let c=s.charAt(l);if(l===s.length||"."===c||"#"===c){let c=s.charAt(o-1),u=s.slice(o,l);"."===c?i.classList.add(u):"#"===c?i.id=u:("svg"===u&&(r=Wde(r,{namespace:Bde})),void 0!==r.namespace?i=e.domNode=a.createElementNS(r.namespace,u):(i=e.domNode=e.domNode||a.createElement(u),"input"===u&&e.properties&&void 0!==e.properties.type&&i.setAttribute("type",e.properties.type)),void 0!==n?t.insertBefore(i,n):i.parentNode!==t&&t.appendChild(i)),o=l+1}}lfe(i,e,r)}},ufe=(e,t,n)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,n)}))},hfe=(e,t,n,r)=>{if(!n)return;let i=!1,o=Object.keys(n),s=o.length;for(let a=0;a<s;a++){let s=o[a],l=n[s],c=t[s];if("class"===s)c!==l&&(ufe(e,c,!1),ufe(e,l,!0));else if("classes"===s){let t=e.classList,n=Object.keys(l),r=n.length;for(let e=0;e<r;e++){let r=n[e],o=!!l[r];o!==!!c[r]&&(i=!0,o?t.add(r):t.remove(r))}}else if("styles"===s){let t=Object.keys(l),n=t.length;for(let o=0;o<n;o++){let n=t[o],s=l[n];s!==c[n]&&(i=!0,s?(Zde(s),r.styleApplyer(e,n,s)):r.styleApplyer(e,n,""))}}else if(l||"string"!=typeof c||(l=""),"value"!==s||ofe(e)){if(l!==c){let t=typeof l;"function"===t&&r.eventHandlerInterceptor||(r.namespace===Bde?"href"===s?e.setAttributeNS($de,s,l):e.setAttribute(s,l):"string"===t?"innerHTML"===s?e[s]=Ude.sanitize(l):"role"===s&&""===l?e.removeAttribute(s):ofe(e)&&s in e?e[s]=l:e.setAttribute(s,l):e[s]!==l&&(e[s]=l),i=!0)}}else{let t=e[s];t!==l&&(e["oninput-value"]?t===e["oninput-value"]:l!==c)&&(e[s]=l,e["oninput-value"]=void 0),l!==c&&(i=!0)}}return i},pfe=(e,t,n,r,i)=>{if(n===r)return!1;r=r||Hde;let o,s=(n=n||Hde).length,a=r.length,l=0,c=0,u=!1;for(;c<a;){let a=l<s?n[l]:void 0,h=r[c];if(void 0!==a&&qde(a,h))u=sfe(a,h,i)||u,l++;else{let a=Yde(n,h,l+1);if(a>=0){for(o=l;o<a;o++)rfe(n[o]),Xde(n,o,e,"removed");u=sfe(n[a],h,i)||u,l=a+1}else cfe(h,t,l<s?n[l].domNode:void 0,i),Jde(h),Xde(r,c,e,"added")}c++}if(s>l)for(o=l;o<s;o++)rfe(n[o]),Xde(n,o,e,"removed");return u};sfe=(e,t,n)=>{let r=e.domNode,i=!1;if(e===t)return!1;let o=!1;if(""===t.vnodeSelector){if(t.text!==e.text){let e=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(e,r),t.domNode=e,i=!0,i}t.domNode=r}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(n=Wde(n,{namespace:Bde})),e.text!==t.text&&(o=!0,void 0===t.text?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,o=pfe(t,r,e.children,t.children,n)||o,o=hfe(r,e.properties,t.properties,n)||o,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,n,t.vnodeSelector,t.properties,t.children]);return o&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),i};let dfe=(e,t)=>({getLastRender:()=>e,update:n=>{if(e.vnodeSelector!==n.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=n,sfe(r,n,t)},domNode:e.domNode});const ffe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{"-"===t.charAt(0)?e.style.setProperty(t,n):e.style[t]=n}};let mfe,yfe=e=>Wde(ffe,e),gfe={create:(e,t)=>(t=yfe(t),cfe(e,document.createElement("div"),void 0,t),dfe(e,t)),append:(e,t,n)=>(n=yfe(n),cfe(t,e,void 0,n),dfe(t,n)),insertBefore:(e,t,n)=>(n=yfe(n),cfe(t,e.parentNode,e,n),dfe(t,n)),merge:(e,t,n)=>(n=yfe(n),t.domNode=e,lfe(e,t,n),dfe(t,n)),replace:(e,t,n)=>(n=yfe(n),cfe(t,e.parentNode,e,n),e.parentNode.removeChild(e),dfe(t,n))},vfe=(e,t)=>{let n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n};mfe=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let bfe=(e,t)=>{let n=e;return t.forEach((e=>{n=n&&n.children?mfe(n.children,(t=>t.domNode===e)):void 0})),n},wfe=(e,t,n)=>{let r=function(r){n("domEvent",r);let i=t(),o=vfe(r.currentTarget,i.domNode);o.reverse();let s,a=bfe(i.getLastRender(),o);return e.scheduleRender(),a&&(s=a.properties[`on${r.type}`].apply(a.properties.bind||this,arguments)),n("domEventProcessed",r),s};return(e,t,n,i)=>r},_fe=e=>{let t,n,r=yfe(e),i=r.performanceLogger,o=!0,s=!1,a=[],l=[],c=(e,n,o)=>{let s,c=()=>s;r.eventHandlerInterceptor=wfe(t,c,i),s=e(n,o(),r),a.push(s),l.push(o)},u=()=>{if(n=void 0,o){o=!1,i("renderStart",void 0);for(let e=0;e<a.length;e++){let t=l[e]();i("rendered",void 0),a[e].update(t),i("patched",void 0)}i("renderDone",void 0),o=!0}};return t={renderNow:u,scheduleRender:()=>{n||s||(n=requestAnimationFrame(u))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),s=!0},resume:()=>{s=!1,o=!0,t.scheduleRender()},append:(e,t)=>{c(gfe.append,e,t)},insertBefore:(e,t)=>{c(gfe.insertBefore,e,t)},merge:(e,t)=>{c(gfe.merge,e,t)},replace:(e,t)=>{c(gfe.replace,e,t)},detach:e=>{for(let t=0;t<l.length;t++)if(l[t]===e)return l.splice(t,1),a.splice(t,1)[0];throw new Error("renderFunction was not found")}},t},xfe=class extends Ms{constructor(){super(...arguments),this.items=new Rc,this._watchUpdatingTracking=new Khe,this._callbacks=new Map,this._projector=_fe(),this._hiddenProjector=_fe()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange((()=>this.items),(e=>{for(const t of e.added){const e=()=>t.render();this._callbacks.set(t,e),this._projector.append(this.surface,e)}for(const t of e.removed){const e=this._projector.detach(this._callbacks.get(t));this.surface.removeChild(e.domNode),this._callbacks.delete(t)}}))}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach((e=>this._projector.detach(e))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const t=this._hiddenSurface,n=this._hiddenProjector;let r;const i=()=>(r=e.render(),r);n.append(t,i),n.renderNow();const o={left:0,top:0,right:0,bottom:0};if(r?.domNode){const e=r.domNode.getBoundingClientRect();o.left=e.left,o.top=e.top,o.right=e.right,o.bottom=e.bottom}for(n.detach(i);t.firstChild;)t.removeChild(t.firstChild);return o}overlaps(e,t){const n=this.computeBoundingRect(e),r=this.computeBoundingRect(t);return Math.max(n.left,r.left)<=Math.min(n.right,r.right)&&Math.max(n.top,r.top)<=Math.min(n.bottom,r.bottom)}get hasVisibleItems(){return this.items.some((e=>e.visible))}async prepare(){await document.fonts.load(this._fontString()).catch((()=>{}))}renderCanvas(e,t){const n=!!t?.disableDecorations;if(!this.items.some((e=>e.visible&&!(n&&e.isDecoration))))return;const r=e.getContext("2d");r.save(),r.font=this._fontString(),this.items.forEach((e=>{n&&e.isDecoration||(r.save(),e.renderCanvas(r),r.restore())})),r.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};S([To({readOnly:!0})],xfe.prototype,"surface",void 0),S([To({readOnly:!0})],xfe.prototype,"items",void 0),S([To({readOnly:!0})],xfe.prototype,"needsRender",null),S([To({readOnly:!0})],xfe.prototype,"_watchUpdatingTracking",void 0),S([To({readOnly:!0})],xfe.prototype,"updating",null),xfe=S([gs("esri.views.overlay.ViewOverlay")],xfe);const Sfe=xfe,Tfe=[0,0];function Efe(e){const t=(e.ownerDocument||window.document).defaultView,n=e.getBoundingClientRect();return Tfe[0]=n.left+(t?.pageXOffset??0),Tfe[1]=n.top+(t?.pageYOffset??0),Tfe}function Mfe(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}function Afe(e){const t=document.createElement("div");return e.appendChild(t),t}const Ife=16,Cfe=750,Ofe=512,kfe=2,Rfe=e=>{let t=class extends e{constructor(...e){super(...e),this._freqInfo={freq:Ife,time:Cfe},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([WR((()=>this.cursor),(e=>{const{surface:t}=this;t&&t.setAttribute("data-cursor",e)})),WR((()=>this.navigating),(e=>{const{surface:t}=this;t&&t.setAttribute("data-navigating",e.toString())}))])}initialize(){this.addHandles([WR((()=>this.ui),((e,t)=>this._handleUIChange(e,t)),tL),this.on("focus",(()=>this.notifyChange("focused"))),this.on("blur",(()=>this.notifyChange("focused")))])}destroy(){this.destroyed||(this.ui=mt(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(e){const t=this._get("container"),n=Xhe(e);if(n||"string"!=typeof e||Ye.getLogger(this).error("#container",`element with id '${e}' not found`),t===n)return;if(this._stopMeasuring(),t&&(t.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(Mfe(this.root),this._set("root",null)),this.userContent&&(Jhe(this.userContent,t),Mfe(this.userContent),this._set("userContent",null))),!n)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);n.classList.add("esri-view");const r=document.createElement("div");r.className="esri-view-user-storage",Jhe(n,r),n.appendChild(r),this._set("userContent",r);const i=document.createElement("div");i.className="esri-view-root",n.insertBefore(i,n.firstChild),this._set("root",i);const o=document.createElement("div");o.className="esri-view-surface",o.setAttribute("role","application"),o.tabIndex=0,i.appendChild(o),this._set("surface",o);const s=new Sfe;i.appendChild(s.surface),this._set("overlay",s),this.addHandles(WR((()=>s.needsRender),(e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Ur({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=gt(this._overlayRenderTaskHandle)}))),this.forceDOMReadyCycle(),this._set("container",n),this._startMeasuring()}get focused(){const e=document.activeElement===this.surface;return document.hasFocus()&&e}get size(){return[this.width,this.height]}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(e,t,n){const r=this.position;return e-=r?r[0]:0,t-=r?r[1]:0,n?(n[0]=e,n[1]=t):n=[e,t],n}containerToPage(e,t,n){const r=this.position;return e+=r?r[0]:0,t+=r?r[1]:0,n?(n[0]=e,n[1]=t):n=[e,t],n}_handleUIChange(e,t){this.removeHandles("ui"),t&&t!==e&&t.destroy(),e&&(e.view=this,this.addHandles(WR((()=>this.root),(t=>{e.container=t?Afe(t):null}),tL),"ui")),this._set("ui",e)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const e=this._freqInfo;e.freq=Ife,e.time=Cfe,this.addHandles([tr(window,"resize",(()=>{e.freq=Ife,e.time=Cfe})),Ur({prepare:e=>{const t=this._measure(),n=this._freqInfo;if(n.time+=e.deltaTime,t&&(n.freq=Ife,this._get("resizing")||this._set("resizing",!0)),n.time<n.freq)return;n.time=0;const r=this._position();n.freq=r||t?Ife:Math.min(Cfe,n.freq*kfe),!t&&n.freq>=Ofe&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const e=this.container,t=e?e.clientWidth:0,n=e?e.clientHeight:0;if(0===t||0===n)return this.suspended||this._set("suspended",!0),!1;const r=this.width,i=this.height;return t===r&&n===i?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",t),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:r,oldHeight:i,width:t,height:n}),!0)}_position(){const e=this.container,t=this.position,n=e&&Efe(e);return!!n&&(!t||n[0]!==t[0]||n[1]!==t[1])&&(this._set("position",[n[0],n[1]]),!0)}forceDOMReadyCycle(){}};return S([To()],t.prototype,"container",null),S([To({readOnly:!0})],t.prototype,"focused",null),S([To({readOnly:!0})],t.prototype,"height",void 0),S([To()],t.prototype,"messagesCommon",void 0),S([To({type:Sfe})],t.prototype,"overlay",void 0),S([To({readOnly:!0})],t.prototype,"position",void 0),S([To({readOnly:!0})],t.prototype,"resizing",void 0),S([To({readOnly:!0})],t.prototype,"root",void 0),S([To({value:null,readOnly:!0})],t.prototype,"size",null),S([To({readOnly:!0})],t.prototype,"surface",void 0),S([To({readOnly:!0})],t.prototype,"suspended",void 0),S([To()],t.prototype,"ui",void 0),S([To({readOnly:!0})],t.prototype,"userContent",void 0),S([To({readOnly:!0})],t.prototype,"width",void 0),S([To()],t.prototype,"widthBreakpoint",void 0),t=S([gs("esri.views.DOMContainer")],t),t},Lfe=A("mac")?"Meta":"Control",Nfe=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),Pfe=e=>Nfe.has(e);let Dfe=class{constructor(e,t=[]){this.eventType=e,this.keyModifiers=t}matches(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const t=e.modifiers;for(const n of this.keyModifiers)if(!t.has(n))return!1;return!0}},Ffe=class{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const t=this._incoming[e];for(const e of t)this._incomingEventMatches.push(e.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((e=>e.eventType))),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback((e=>this._handleEvent(e))),e.setUninstallCallback((()=>this._onUninstall())),this._manager=e)}onUninstall(){}registerIncoming(e,t,n){let r;"function"==typeof t?(n=t,r=[]):r=t||[];const i="string"==typeof e?new Dfe(e,r):e,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},s=e=>{const t=this._incoming[e.match.eventType];if(t){const n=t.indexOf(e);t.splice(n,1),o(),this._manager&&this._manager.updateDependencies()}},a=new jfe(i,n,{onPause:s,onRemove:s,onResume:e=>{const t=this._incoming[e.match.eventType];t&&!t.includes(e)&&(t.push(e),o(),this._manager&&this._manager.updateDependencies())}});let l=this._incoming[i.eventType];return l||(l=[],this._incoming[i.eventType]=l),l.push(a),o(),this._manager&&this._manager.updateDependencies(),a}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const t=new Ufe(e,{onEmit:(e,t,n,r)=>{this._manager?.emit(e.eventType,t,n,r)},onRemove:e=>{delete this._outgoing[e.eventType],this._manager?.updateDependencies()}});return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){this._manager?.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){const t=this._incoming[e.type];if(t)for(const n of t)if(n.match.matches(e)&&(n.callback?.(e),e.shouldStopPropagation()))break}},jfe=class{constructor(e,t,n){this.match=e,this._callback=t,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},Ufe=class{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t}emit(e,t,n){this._removed||this._handler.onEmit(this,e,t,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},zfe=class extends Ffe{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",(e=>this._update(e.data)))}_update(e){const t="touch"===e.native.pointerType?"touch":"mouse",{x:n,y:r}=e;t===this._value&&this._x===n&&this._y===r||(this._value=t,this._x=n,this._y=r,this._onChange(t,n,r))}},Gfe=class{constructor(e,t){this._observable=new yc,this._value=e,this._equalityFunction=t}get value(){return hn(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function Vfe(e,t=Ce){return new Gfe(e,t)}let Bfe=class extends Ffe{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=Vfe(!1),this._onPointerAdd=({data:e})=>{"touch"===e.pointerType&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{"touch"===e.pointerType&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},$fe=class{constructor(e,t){this._owner=t,this._properties={},this._afterDispatchHandle=null;for(const n in e){const t=e[n],r=new zn(t,void 0,void 0,2,2);this._properties[n]={pool:r,acquired:[]}}this._afterDispatchHandle=ki((()=>this._release()))}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const t=this._properties[e];for(const e of t.acquired)ji(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this._properties=null,this._owner=null}get(e){const t=this._owner._get(e),n=this._properties[e];let r=n.pool.acquire();for(n.acquired.push(r);r===t;)n.acquired.push(r),r=n.pool.acquire();return r}_release(){for(const e in this._properties){const t=this._properties[e];let n=0;for(const e of t.acquired)ji(e)?t.acquired[n++]=e:t.pool.release(e);t.acquired.length=n}}},Hfe=class extends Ms{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=Lfe,this._latestPointerType="mouse",this._propertiesPool=new $fe({latestPointerLocation:Xfe},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,t,n=Zfe.INTERNAL){if(this._nameToGroup[e]||0===t.length)return;const r={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=r;for(let i=r.handlers.length-1;i>=0;i--){const e=r.handlers[i];this._handlers.push(e),e.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(t,n,r,i,o)=>{this._emitInputEvent(e.priorityIndex+1,t,n,r,o,i)},setPointerCapture:(t,n)=>{this._setPointerCapture(r,e,t,n)},setEventCallback:t=>{e.eventCallback=t},setUninstallCallback:t=>{e.uninstallCallback=t},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{e.removed=!0,e.uninstallCallback?.()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):Ye.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return void 0!==this._nameToGroup[e]}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const e=this._handlers[n];e.priorityIndex=n,this._handlersPriority.push(e)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const r=this._handlersPriority[n];r.priorityIndex=n;let i=r.handler.hasSideEffects;if(!i)for(const t of r.handler.outgoingEventTypes)if(e.has(t)){i=!0;break}if(i)for(const n of r.handler.incomingEventMatches){e.add(n.eventType);for(const e of n.keyModifiers)Pfe(e)||t.add(e)}r.active=i}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,n){this._latestPointerType=e;const r=this._get("latestPointerLocation");if(null==r||r.x!==t||r.y!==n){const e=this._propertiesPool.get("latestPointerLocation");e.x=t,e.y=n,this._set("latestPointerLocation",e)}}_onEventReceived(e,t){if("pointer-capture-lost"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);const n=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,r=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,n,r)}_updateKeyModifiers(e,t){if(!t)return;let n=!1;const r=()=>{n||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),n=!0)},i=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(r(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(r(),this._activeKeyModifiers.delete(e))};if("key-down"===e||"key-up"===e){const n=t.key;this._keyModifiers.has(n)&&i(n,"key-down"===e)}const o=t.native;i("Alt",!!o?.altKey),i("Control",!!o?.ctrlKey),i("Ctrl",!!o?.ctrlKey),i("Shift",!!o?.shiftKey),i("Meta",!!o?.metaKey),i("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new zfe(((e,t,n)=>this._setLatestPointer(e,t,n))),this._multiTouchHandler=new Bfe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Zfe.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Zfe.INTERNAL)}_setPointerCapture(e,t,n,r){const i=e.name+"-"+t.priorityIndex,o=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,o),r?(o.add(i),1===o.size&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):o.has(i)&&(o.delete(i),0===o.size&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,t,n,r){this._emitInputEvent(0,e,t,n,r)}_emitInputEvent(e,t,n,r,i,o){const s=void 0!==r?r:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==i&&i,l={event:new Wfe(t,n,s,o||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new RH,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:t,priorityIndex:n}=e.events.pop(),r=t.data?.eventId;if(null==r||!this._stoppedPropagationEventIds.has(r))for(e.currentHandler=this._handlersPriority[n];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback?.(t),t.shouldStopPropagation()){null!=r&&this._stoppedPropagationEventIds.add(r);break}if(t.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new RH;t.push(e);const n=this._currentPropagation;if(n){for(;n.events.length;)t.push(n.events.pop());n.events=t,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const n of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(n.eventType!==e.eventType)continue;const t=n.keyModifiers.filter((t=>e.keyModifiers.includes(t)));if(t.length===n.keyModifiers.length!=(t.length===e.keyModifiers.length))return n.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const n of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(n,t[e])>=0;)e++;t.splice(e,0,n)}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t};return{injectEvent:(t,n)=>{e((()=>this._onEventReceived(t,n)))},disablePointerCapture:e}}};S([To({readOnly:!0})],Hfe.prototype,"hasPendingInputs",null),S([To({constructOnly:!0})],Hfe.prototype,"eventSource",void 0),S([To({constructOnly:!0})],Hfe.prototype,"recognizers",void 0),S([To()],Hfe.prototype,"_latestPointerType",void 0),S([To()],Hfe.prototype,"latestPointerType",null),S([To()],Hfe.prototype,"multiTouchActive",null),S([To({readOnly:!0})],Hfe.prototype,"latestPointerLocation",void 0),S([To()],Hfe.prototype,"_paused",void 0),S([To({readOnly:!0})],Hfe.prototype,"updating",null),Hfe=S([gs("esri.views.input.InputManager")],Hfe);let Wfe=class{constructor(e,t,n,r,i){this.type=e,this.data=t,this.timestamp=n,this.modifiers=r,this.cancelable=i,this._propagationState=qfe.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=qfe.STOPPED}shouldStopPropagation(){return!!(this._propagationState&qfe.STOPPED)}async(e){this._propagationState|=qfe.PAUSED;const t=(e,t)=>{this._propagationState&=~qfe.PAUSED;const n=this._resumeCallback;if(this._resumeCallback=null,n&&n(),t)throw e;return e};return("function"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return!!(this._propagationState&qfe.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}};var qfe;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(qfe||(qfe={}));const Zfe={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let Yfe=class{};const Xfe=Yfe;function Jfe(e){return null!=e&&"open"in e&&"declaredClass"in e}function Kfe(e){return null!=e&&"declaredClass"in e&&"dockOptions"in e}const Qfe=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([WR((()=>[this.ui,this.popup]),(([e,t],n)=>{const r="popup",i="manual";if(n){const[e,t]=n;e&&Jfe(t)&&(t.view=null,Kfe(t)&&e.remove(t,r))}e&&Jfe(t)&&(t.view=this,Kfe(t)&&e.add(t,{key:r,position:i,internal:!0}))}),tL),this.on("click",(e=>{this.popup&&this.popupEnabled&&("mouse"!==e.pointerType||0===e.button)&&(Jfe(this.popup)?this.popup.viewModel.handleViewClick(e):e.async((async()=>{await this.setupPopup(),Jfe(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(e)})))}),Zfe.WIDGET)]),XR((()=>this.ready&&this.popupEnabled&&!this.updating)).then((()=>{n.e(5908).then(n.bind(n,5908))}))}destroy(){this.destroyed||this.closePopup()}async openPopup(e){if(Jfe(this.popup))return this.popup.open(e);try{if(await this.setupPopup(),!this.popup)return void Ye.getLogger(this).error(new et("view:null-popup","Popup is null and can't be opened"));this.popup.open(e)}catch{}}closePopup(){this._popupSetupTask?.abort(),Jfe(this.popup)&&this.popup.close()}async fetchPopupFeatures(e,t){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(e,t),t)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!Jfe(this.popup))return this._popupSetupTask=tu((async e=>{const{default:t}=await n.e(5908).then(n.bind(n,5908));if(or(e),!this.popup||Jfe(this.popup))return;const r=this.popup;delete r.open,delete r.close,this.popup=new t(r)})),this._popupSetupTask.promise}async _popupHitsToFeatures({location:e,hits:t},n){const r=[],i=[];let o=!1;const s=br(n,A("popup-view-fetch-timeout")??tme),a=e=>{const t=new eme(e);return i.push(t),r.push(t.promise),t},l=e=>{const t=i.at(-1);return t&&t.layerView===e&&!o?t:a(e)};for(const u of t)"graphic"in u?(l(u.layerView).graphics.push(u.graphic),o=!1):(r.push(u.layerView.fetchPopupFeaturesAtLocation(u.mapPoint,s)),o=!0);i.map((e=>e.resolve(s)));const c=yr(r).then((e=>e.filter((e=>!!e)).flat()));return{pendingFeatures:r,allGraphicsPromise:c,location:e}}async _getPopupHits(e,t){const{hits:n,location:r}=await this.popupHitTest(e);or(t);const i=[];for(const o of n)if("graphic"in o){if(this._isValidPopupGraphic(o.graphic,t)){const e=this._isValidPopupGraphicsLayerView(o.layerView)?o.layerView:void 0;i.push({graphic:o.graphic,layerView:e})}}else this._isValidPopupLocationLayerView(o.layerView)&&i.push({mapPoint:o.mapPoint,layerView:o.layerView});return{hits:i,location:r}}_isValidPopupGraphic(e,t){return e&&!!e.getEffectivePopupTemplate(t?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(e){return!e||(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesFromGraphics"in e}_isValidPopupLocationLayerView(e){return(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesAtLocation"in e}};return S([To()],t.prototype,"popup",void 0),S([To()],t.prototype,"popupEnabled",void 0),t=S([gs("esri.views.PopupView")],t),t};let eme=class{constructor(e){this.layerView=e,this._resolver=Sr(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:t,graphics:n,_resolver:r}=this;if(!t)return r.resolve(n),r.promise;let i;return t.fetchPopupFeaturesFromGraphics(n,e).catch((e=>(i=e,null))).then((e=>{e?r.resolve(e):r.reject(i)})),r.promise}};const tme=5e3;let nme=class extends s4{constructor(e){super(e),this.addHandles(this.on("before-add",(e=>{null!=e.item&&e.item.parent===this.owner&&(Ye.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),e.preventDefault())})))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};nme=S([gs("esri.support.AnalysesCollection")],nme);let rme=class extends Ms{constructor(e){super(e),this.view=null,this.baseLayerViews=new Rc,this.referenceLayerViews=new Rc,this._loadingHandle=WR((()=>this.view?.map?.basemap),(e=>{e&&e.load().catch((()=>{}))}),tL)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const e of this.baseLayerViews)e.destroy();this.baseLayerViews.length=0;for(const e of this.referenceLayerViews)e.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){if(this.view?.suspended)return!1;const e=this.view?.map?.basemap;return!!e&&!!e.loaded&&(this.baseLayerViews.some((e=>e.updating))||this.referenceLayerViews.some((e=>e.updating)))}};S([To({constructOnly:!0})],rme.prototype,"view",void 0),S([To({readOnly:!0})],rme.prototype,"baseLayerViews",void 0),S([To({readOnly:!0})],rme.prototype,"referenceLayerViews",void 0),S([To({readOnly:!0})],rme.prototype,"suspended",null),S([To({type:Boolean,readOnly:!0})],rme.prototype,"updating",null),rme=S([gs("esri.views.BasemapView")],rme);const ime=rme;function ome(e){return"tryRecycleWith"in e}function sme(e){return null!=e&&"object"==typeof e&&"layerViews"in e}let ame=class{constructor(e,t,n){this.layer=e,this.view=t,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=Sr(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,ur(this._controller.signal,(()=>{const t=new et("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred.reject(t)}))}tryRecycle(e){if(!this.done||!this.layerView||!ome(this.layerView))return null;const t=this.layer.type,n=this._controller.signal;for(let r=0;r<e.length;r++){const i=e[r];if(i.type!==t)continue;const o=this.layerView.tryRecycleWith(i,{signal:n});if(o){e.splice(r,1),this.layer=i;const t=this.layerView,n=t.view;return this.promise=Promise.race([o.then((()=>(or(this._controller.signal),i.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{view:n,layerView:t}),i.emit("layerview-create",{view:n,layerView:t}),n.emit("layerview-create",{view:n,layerView:t}),t))),new Promise(((e,t)=>ur(this._controller.signal,(()=>t(ir())))))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:t,view:n}=this;t.emit("layerview-destroy",{view:n,layerView:e}),n.emit("layerview-destroy",{layer:t,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:e},layer:t,view:n}=this;this._map=n.map;try{let i,o;if(await t.load({signal:e}),t.prefetchResources&&await t.prefetchResources({signal:e}),ume(t))i=await t.createLayerView(n,{signal:e});else{if(!this.layerViewImporter.hasLayerViewModule(t))throw new et("layer:view-not-supported","No layerview implementation was found");const r=await this.layerViewImporter.importLayerView(t);or(e),i="default"in r?new r.default({layer:t,view:n}):new r({layer:t,view:n})}const s=()=>{o=gt(o),i.destroyed||i.destroy(),i.layer=null,i.parent=null,i.view=null,this.done=!0};o=ur(e,s),or(e);try{await i.when()}catch(r){throw s(),r}if(!this._map?.allLayers?.includes(t))return s(),void this._deferred.reject(new et("view:no-layerview-for-layer","The layer has been removed from the map",{layer:t}));this.layerView=i,t.emit("layerview-create",{view:n,layerView:i}),n.emit("layerview-create",{layer:t,layerView:i}),this.done=!0,this._deferred.resolve(i)}catch(i){t.emit("layerview-create-error",{view:n,error:i}),n.emit("layerview-create-error",{layer:t,error:i}),this.done=!0,this._deferred.reject(new et("layerview:create-error","layerview creation failed",{layer:t,error:i}))}}},lme=class extends Ms{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new Khe,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const e=this.view.map?.allLayers;if(e)for(const t of e)this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=Sr(),this._workPromise.promise.catch((()=>{}))),this.removeHandles("reschedule"),this.addHandles(jr(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const e=this.view.map;if(this._map!==e&&(this.clear(),this._map=e),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const t=new Set,n=[],r=this.view.ready,i=e=>{if(null!=e)for(const o of e)if(o){t.add(o);const e=this._layerLayerViewInfoMap.get(o);e&&r?e.start():e||this._recyclingInfoMap.has(o)||n.push(o),"layers"in o&&o.layers&&i(o.layers)}};for(const s of this._rootCollectionNames)i(zt(this,s));for(const[s,a]of this._layerLayerViewInfoMap)if(!t.has(s)){this._layerLayerViewInfoMap.delete(a.layer);const e=a.tryRecycle(n);e?(this.notifyChange("updating"),this._recyclingInfoMap.set(a.layer,a),e.then((()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(a.layer),this._layerLayerViewInfoMap.set(a.layer,a),this._reschedule()})).catch((()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(a.layer),a.destroy(),this._reschedule()}))):a.destroy()}for(const[s,a]of this._recyclingInfoMap)t.has(s)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(a.layer),a.destroy());for(const s of n)this._createLayerView(s);this._refreshCollections();const o=[e?.ground?.layers,e?.basemap?.baseLayers,e?.basemap?.referenceLayers,e?.layers].filter((e=>!!e));t.forEach((e=>"layers"in e&&o.push(e.layers))),this.addHandles(o.map((e=>this._watchUpdatingTracking.addOnCollectionChange((()=>e),this._reschedule))),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([YR((()=>this.view?.map?.allLayers),"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),WR((()=>{const e=this.view,t=e?.map;return[t?.basemap,t?.ground,t?.layers,e?.ready]}),(()=>this._reschedule()),nL)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),tue(this._recyclingInfoMap),tue(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject(ir()),this._workPromise=null)}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||Ui(this._layerLayerViewInfoMap,(e=>!e.done))||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){this.destroyed||(tue(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise;throw new et("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}isCreatingLayerViewsForLayer(e,t){this.commitProperty("updatingRemaining");const n=this._layerLayerViewInfoMap.get(e);if(!n?.done)return!0;const r=n.layerView;return!(!r||!t||r.parent===t)||!!(n.done&&r&&"layers"in e&&e.layers?.length)&&e.layers.some((e=>this.isCreatingLayerViewsForLayer(e,r)))}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners(zt(this,e),zt(this,t),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(e,t,n){if(!e||!t)return void(t&&t.removeAll());let r=0;for(const i of e){const e=this._layerLayerViewInfoMap.get(i);if(!e?.layerView)continue;const o=e.layerView;o.layer=i,o.parent=n,t.at(r)!==o&&t.splice(r,0,o),"layers"in i&&sme(o)&&this._populateLayerViewsOwners(i.layers,o.layerViews,o),r+=1}r<t.length&&t.splice(r,t.length)}_createLayerView(e){e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new ame(e,this.view,this.layerViewImporter);t.promise.then((()=>this._refreshCollections()),(t=>{t&&(dr(t)||"cancelled:layerview-create"===t.name)||Ye.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:t}),this._refreshCollections()})),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};S([To()],lme.prototype,"_workPromise",void 0),S([To({readOnly:!0})],lme.prototype,"_watchUpdatingTracking",void 0),S([To({readOnly:!0})],lme.prototype,"_layersToLayerViews",null),S([To({readOnly:!0})],lme.prototype,"_rootCollectionNames",null),S([To()],lme.prototype,"layerViewImporter",void 0),S([To()],lme.prototype,"supportsGround",void 0),S([To({readOnly:!0})],lme.prototype,"updating",null),S([To({readOnly:!0})],lme.prototype,"updatingRemaining",null),S([To({constructOnly:!0})],lme.prototype,"view",void 0),lme=S([gs("esri.views.LayerViewManager")],lme);const cme=lme;function ume(e){return"createLayerView"in e&&null!=e.createLayerView}let hme=class extends Ms{constructor(e){super(e),this.factor=1.5,this.offset=UI(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};S([To({type:Number})],hme.prototype,"factor",void 0),S([To({nonNullable:!0})],hme.prototype,"offset",void 0),S([To()],hme.prototype,"position",void 0),S([To({type:Number,range:{min:0}})],hme.prototype,"size",void 0),S([To()],hme.prototype,"maskUrl",void 0),S([To()],hme.prototype,"maskEnabled",void 0),S([To()],hme.prototype,"overlayUrl",void 0),S([To()],hme.prototype,"overlayEnabled",void 0),S([To({readOnly:!0})],hme.prototype,"version",null),S([To({type:Boolean})],hme.prototype,"visible",void 0),hme=S([gs("esri.views.Magnifier")],hme);const pme=hme;let dme=class{constructor(e){this._observable=new yc,this._map=new Map(e)}get size(){return hn(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const t=this._map.delete(e);return t&&this._observable.notify(),t}entries(){return hn(this._observable),this._map.entries()}forEach(e,t){hn(this._observable),this._map.forEach(((n,r)=>e.call(t,n,r,this)),t)}get(e){return hn(this._observable),this._map.get(e)}has(e){return hn(this._observable),this._map.has(e)}keys(){return hn(this._observable),this._map.keys()}set(e,t){return this._map.set(e,t),this._observable.notify(),this}values(){return hn(this._observable),this._map.values()}[Symbol.iterator](){return hn(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};function fme(e){return!!(null!=e&&"object"==typeof e&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let mme=class extends dc.EventedAccessor{constructor(e){super(e),this._selectionMap=new dme,this._sources=new Rc,this._trashCan=[],this._layerEditHandles=new Rc,this._vizTaskId=0,this.showHighlight=!0}initialize(){this.addHandles([WR((()=>[this.view,this.showHighlight]),(()=>this._refreshVisualization())),YR((()=>this.sources),"change",(e=>{const t=this._selectionMap;for(const n of e.removed)t.delete(n);this._refreshListeners(),this._refreshVisualization()}),{onListenerAdd:()=>this._refreshListeners()})]);const e=new Rc;this.view.when().then((()=>{this.view.map&&(this.view.map.allLayers.flatten((e=>"sublayers"in e&&e.sublayers?e.sublayers:null)).forEach((t=>{(fme(t)&&!hm(t)||pm(t))&&e.add(t)})),this.sources=e)}))}destroy(){this._layerEditHandles.drain(gt)}get selections(){return Array.from(this._selectionMap.entries()).map((e=>{const[t,n]=e;return{layer:t,selection:[...n.selection]}}))}get count(){let e=0;for(const t of this._selectionMap.values())e+=t.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){Lc(e,this._sources)}async getSelectedFeatures(e,t={},n="layerView"){const{view:r,selections:i}=this,o=(void 0!==e?i.filter((t=>e.includes(t.layer))):i).filter((e=>e.selection.length>0)).map((async e=>{const{layer:i,selection:o}=e,s=pm(i)?i.parent:i;if(null==s||!vme(s))return null;if("layer"===n)return wme(s,o,t);if(yme(s))return null;const a=await r.whenLayerView(s).catch((()=>null));return a?wme(a,o,t):null}));return(await Promise.all(o)).filter((e=>null!=e))}updateSelection(e){const t=new Map;for(const[i,o]of this._selectionMap)t.set(i,[...o.selection]);let n=!1;const r=e.current.concat(e.added);for(const i of r){const e=i.sourceLayer,r=i.getObjectId();if(this.sources.includes(e)&&(fme(e)||pm(e))&&null!==r){const i=zi(t,e,(()=>[]));i.includes(r)||(i.push(r),n=!0)}}for(const i of e.removed){const e=i.sourceLayer,r=i.getObjectId();if(this.sources.includes(e)&&(fme(e)||pm(e))&&null!==r){const i=t.get(e),o=i?.indexOf(r);void 0!==o&&o>=0&&(i?.splice(o,1),n=!0)}}if(n){const{_selectionMap:e,_trashCan:n}=this,r=[];for(const[i,o]of t){const t=e.get(i);void 0!==t&&n.push(t),e.set(i,{selection:o}),r.push({layer:i,selection:o,...N(void 0!==t?t.selection:[],o)})}this._onSelectionChange(r)}}setSelection(e,t){this._setSelection(e,t)}getSelection(e){return this._selectionMap.get(e)?.selection}appendToSelection(e,t){const n=this._selectionMap.get(e),r=void 0!==n?[...n.selection]:[];for(const i of t)r.includes(i)||r.push(i);this._setSelection(e,r)}removeFromSelection(e,t){const n=this._selectionMap.get(e);if(!n)return;const r=[];for(const i of n.selection)t.includes(i)||r.push(i);this._setSelection(e,r)}toggleInSelection(e,t){const n=this._selectionMap.get(e);if(!n||0===n.selection.length)return void this._setSelection(e,t);const r=new Set(n.selection),i=new Set(t),o=si(r,i);this._setSelection(e,Array.from(o))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const t=[];for(const[n,r]of this._selectionMap.entries())t.push({layer:n,added:[],removed:[...r.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(t)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){if(null==this.view||null==this.sources)return;for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();const{sources:e,view:t,_selectionMap:n,showHighlight:r}=this,i=this._vizTaskId;for(const o of e){const e=n.get(o),s=pm(o)?o.parent:o;if(null!=s&&vme(s)){if(yme(s))continue;t.whenLayerView(s).then((t=>{e?.highlightHandle?.remove(),null!=e&&r&&i===this._vizTaskId&&"highlight"in t&&"function"==typeof t.highlight&&e.selection.length>0&&(e.highlightHandle=t.highlight(e.selection,"selection"))})).catch((()=>{e?.highlightHandle?.remove()}))}}}_refreshListeners(){this._layerEditHandles.drain(gt);for(const e of this.sources){const t=pm(e)?e.parent:e;if(null!=t&&fme(t)){const n=t.on("edits",(t=>{this._handleEditChanges(t,e)}));this._layerEditHandles.push(n)}}}_handleEditChanges(e,t){if(void 0!==e.deletedFeatures&&e.deletedFeatures.length>0&&this._selectionMap.has(t)){const n=e.deletedFeatures.filter((e=>null==e.error)).map((e=>e.objectId)).filter(q);this.removeFromSelection(t,n)}}_setSelection(e,t){if(!this.sources.includes(e))throw new Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);const n=this._selectionMap.get(e);if(void 0===n||!bme(n,{selection:t})){void 0!==n&&this._trashCan.push(n),this._selectionMap.set(e,{selection:[...t]});const r={layer:e,selection:[...t],...N(void 0!==n?n.selection:[],t)};this._onSelectionChange([r])}}};S([To({readOnly:!0,nonNullable:!0})],mme.prototype,"selections",null),S([To({readOnly:!0,nonNullable:!0})],mme.prototype,"count",null),S([To({constructOnly:!0,nonNullable:!0})],mme.prototype,"view",void 0),S([To({readOnly:!0,nonNullable:!0})],mme.prototype,"hasSelection",null),S([To()],mme.prototype,"showHighlight",void 0),S([To()],mme.prototype,"sources",null),mme=S([gs("esri.views.SelectionManager")],mme);const yme=e=>pm(e)?!0===e.parent?.isTable:e.isTable,gme=e=>void 0!==e.layer,vme=e=>void 0!==e?.when,bme=(e,t)=>{if(null==e&&null==t)return!0;if(null!=e&&null==t||null==e&&null!=t)return!1;if(null!=e&&null!=t&&null!=e.selection&&null!=t.selection){const n=[...e.selection],r=[...t.selection];if(n.length!==r.length)return!1;n.sort(),r.sort();for(let e=0;e<n.length;e++)if(n[e]!==r[e])return!1}return!0},wme=async(e,t,n={})=>{let r;if(gme(e)){const i=e;r=void 0===i?null:await i.queryFeatures(new IX({...n,objectIds:t})).then((t=>({data:t,layer:e.layer})))}else{const i=e;r=void 0===i?null:await i.queryFeatures(new IX({...n,objectIds:t})).then((e=>({data:e,layer:i})))}return r},_me=mme;let xme=class extends(_v(Ms)){constructor(e){super(e),this.accentColor=new gy([255,127,0]),this.textColor=new gy([255,255,255])}};S([To({type:gy,nonNullable:!0})],xme.prototype,"accentColor",void 0),S([To({type:gy,nonNullable:!0})],xme.prototype,"textColor",void 0),xme=S([gs("esri.views.Theme")],xme);const Sme=xme;var Tme;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(Tme||(Tme={}));const Eme=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Mme={};function Ame(e){return!!Mme[e]}function Ime(e){for(const t of e)if(!Ame(t))return!1;return!0}Eme.forEach((e=>{Mme[e]=!0}));let Cme=class{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach((({handler:e,priority:t},n)=>this.inputManager?.installHandlers(n,[e],t)))}disconnect(){this.inputManager&&this._handlers.forEach(((e,t)=>this.inputManager?.uninstallHandlers(t))),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,t,n,r){const i=Array.isArray(e)?e:e.split(",");if(!Ime(i))return i.some(Ame)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,s;Array.isArray(t)?s=t:(o=t,s=[]),"function"==typeof n?o=n:r=n,r=r??Zfe.DEFAULT;const a=this._createUniqueGroupName(),l=new Ome(this.view,i,s,o);this._handlers.set(a,{handler:l,priority:r});for(const c of i){const e=this._handlerCounts.get(c)||0;this._handlerCounts.set(c,e+1)}return this.inputManager&&this.inputManager.installHandlers(a,[l],r),Tt((()=>this._removeHandler(a,i)))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,t){if(this._handlers.has(e)){this._handlers.delete(e);for(const e of t){const t=this._handlerCounts.get(e);void 0===t||(1===t?this._handlerCounts.delete(e):this._handlerCounts.set(e,t-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},Ome=class extends Ffe{constructor(e,t,n,r){super(!0),this._latestDragStart=void 0,this.view=e;for(const i of t)switch(i){case"click":this.registerIncoming("click",n,(t=>r(Lme(e,t))));break;case"double-click":this.registerIncoming("double-click",n,(t=>r(Nme(e,t))));break;case"immediate-click":this.registerIncoming("immediate-click",n,(t=>r(Pme(e,t))));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,(t=>r(Dme(e,t))));break;case"hold":this.registerIncoming("hold",n,(t=>r(Fme(e,t))));break;case"drag":this.registerIncoming("drag",n,(e=>{const t=this._wrapDrag(e);t&&r(t)}));break;case"key-down":this.registerIncoming("key-down",n,(e=>r(Ume(e))));break;case"key-up":this.registerIncoming("key-up",n,(e=>r(zme(e))));break;case"pointer-down":this.registerIncoming("pointer-down",n,(e=>r(Gme(e,"pointer-down"))));break;case"pointer-move":this.registerIncoming("pointer-move",n,(e=>r(Gme(e,"pointer-move"))));break;case"pointer-up":this.registerIncoming("pointer-up",n,(e=>r(Gme(e,"pointer-up"))));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,(e=>r(Vme(e))));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,(e=>r(Bme(e))));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,(e=>r(Gme(e,"pointer-enter"))));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,(e=>r(Gme(e,"pointer-leave"))));break;case"gamepad":this.registerIncoming("gamepad",n,(e=>{r($me(e))}));break;case"focus":this.registerIncoming("focus",n,(e=>{r(kme(e))}));break;case"blur":this.registerIncoming("blur",n,(e=>{r(Rme(e))}))}}_wrapDrag(e){const t=e.data,{x:n,y:r}=t.center,{action:i,pointerType:o,button:s}=t;if("start"===i&&(this._latestDragStart=t),!this._latestDragStart)return;const a=t.pointer.native,l=t.buttons,{cancelable:c,timestamp:u}=e,h={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===i&&(this._latestDragStart=void 0),{type:"drag",action:i,x:n,y:r,origin:h,pointerType:o,button:s,buttons:l,radius:t.radius,angle:Jm(t.angle),native:a,timestamp:u,cancelable:c,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}};function kme(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function Rme(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function Lme(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,{cancelable:c,timestamp:u}=t;return{type:"click",pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:u,screenPoint:UI(o,s),mapPoint:jme(e,o,s),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function Nme(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,{cancelable:c,timestamp:u}=t;return{type:"double-click",pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:u,mapPoint:jme(e,o,s),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function Pme(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:u,timestamp:h}=t;return{type:"immediate-click",pointerId:c,pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:h,mapPoint:jme(e,o,s),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function Dme(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:u,timestamp:h}=t;return{type:"immediate-double-click",pointerId:c,pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:h,mapPoint:jme(e,o,s),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function Fme(e,t){const{pointerType:n,button:r,buttons:i,x:o,y:s,native:a}=t.data,{cancelable:l,timestamp:c}=t;return{type:"hold",pointerType:n,button:r,buttons:i,x:o,y:s,native:a,timestamp:c,mapPoint:jme(e,o,s),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}function jme(e,t,n){return e.toMap(UI(t,n),{exclude:[]})}function Ume(e){const{key:t,repeat:n,native:r}=e.data,{cancelable:i,timestamp:o}=e;return{type:"key-down",key:t,repeat:n,native:r,timestamp:o,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function zme(e){const{key:t,native:n}=e.data,{cancelable:r,timestamp:i}=e;return{type:"key-up",key:t,native:n,timestamp:i,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function Gme(e,t){const{x:n,y:r,button:i,buttons:o,native:s,eventId:a}=e.data,l=s.pointerId,c=s.pointerType,{cancelable:u,timestamp:h}=e;return{type:t,x:n,y:r,pointerId:l,pointerType:c,button:i,buttons:o,native:s,timestamp:h,eventId:a,cancelable:u,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function Vme(e){const{x:t,y:n,buttons:r,native:i,eventId:o}=e.data.currentEvent,{button:s}=e.data.startEvent,a=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,c=e.data.action,u={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:h,timestamp:p}=e;return{type:"pointer-drag",x:t,y:n,pointerId:a,pointerType:l,button:s,buttons:r,action:c,origin:u,native:i,timestamp:p,eventId:o,cancelable:h,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function Bme(e){const{cancelable:t,data:n,timestamp:r}=e,{x:i,y:o,deltaY:s,native:a}=n;return{type:"mouse-wheel",x:i,y:o,deltaY:s,native:a,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function $me(e){const{action:t,state:n,device:r}=e.data,{cancelable:i,timestamp:o}=e,{buttons:s,axes:a}=n;return{type:"gamepad",device:r,timestamp:o,action:t,buttons:s,axes:a,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}var Hme,Wme,qme;function Zme(e){return[e.on("before-add",(t=>{const n=t.item;if(null==n||e.includes(n))return Ye.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();n.onAdd()})),e.on("after-remove",(e=>{const t=e.item;t.active&&(t.view.activeTool=null),t.destroy()}))]}function Yme(e){return e.visible&&null!=e.getEditableFlag&&e.getEditableFlag(Hme.USER)&&e.getEditableFlag(Hme.MANAGER)}function Xme(e){return UI(e.x,e.y)}function Jme(e,t){const n=(e instanceof HTMLElement?e:e.surface)?.getBoundingClientRect();return n?UI(t.clientX-n.left,t.clientY-n.top):UI(0,0)}function Kme(e,t){return t instanceof Event?Jme(e,t):Xme(t)}function Qme(e){if(e instanceof Event)return!0;if("object"==typeof e&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(Hme||(Hme={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(Wme||(Wme={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(qme||(qme={}));let eye=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,t){const n=()=>e.stopPropagation();switch(e.type){case"pointer-move":rye(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:"start"===e.action?this._externallyDragging=!0:"end"===e.action&&(this._externallyDragging=!1),this._stopDrag&&(n(),"end"===e.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!iye(e))break;const r=Xme(e),i=nye(r,e.pointerType,t.forEachTool);if(null==i)break;const o=i.manipulator,s=i.tool;null==o||null==s||!o.interactive||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,e,t),null!=o&&null!=s&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:o,tool:s,start:r,pointerType:e.pointerType}),1===this._grabbedManipulators.size&&null==t.activeTool&&(this._revertToNullActiveTool=!0,t.setActiveTool(i.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:r}),n());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,t);break;case"pointer-drag":{if(!iye(e))break;const r=this._grabbedManipulators.get(e.pointerId),i=r?.manipulator,o=r?.tool;if(null==i||null==o)break;const s=Xme(e);s.x=Wm(s.x,0,t.view.width),s.y=Wm(s.y,0,t.view.height);const a=r.start,l=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":"update"!==e.action&&1!==this._grabbedManipulators.size||(i.dragging=!0,l?i.events.emit("drag",{action:"update",start:a,screenPoint:s}):i.events.emit("drag",{action:"start",start:a,screenPoint:s,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:o,manipulator:i,start:a}));break;case"end":i.dragging=!1,l&&i.events.emit("drag",{action:"end",start:a,screenPoint:s}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}n();break}case"immediate-click":{const r=Xme(e),i=nye(r,e.pointerType,t.forEachTool);if(oye(e)||t.forEachTool((e=>{if((null==i||i.tool!==e||e.automaticManipulatorSelection)&&e.manipulators){let t=!1;e.manipulators.forEach((({manipulator:e})=>{e.selected&&(e.selected=!1,t=!0)})),t&&e.onManipulatorSelectionChanged&&e.onManipulatorSelectionChanged()}})),null==i)break;const{manipulator:o,tool:s}=i;if(!o.interactive)break;o.selectable&&s.automaticManipulatorSelection&&(o.selected=!o.selected,s.onManipulatorSelectionChanged&&s.onManipulatorSelectionChanged());const a=e.native.shiftKey;o.events.emit("immediate-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:n}),sye(o,n);break}case"click":{const r=Xme(e),i=nye(r,e.pointerType,t.forEachTool),o=i?.manipulator;if(null==o||!o.interactive)break;const s=e.native.shiftKey;o.events.emit(e.type,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:s}),n();break}case"double-click":{const r=Xme(e),i=nye(r,e.pointerType,t.forEachTool),o=null!=i?i.manipulator:null;if(null==o||!o.interactive)break;const s=e.native.shiftKey;o.events.emit("double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:s,stopPropagation:n}),sye(o,n);break}case"immediate-double-click":{const r=Xme(e),i=nye(r,e.pointerType,t.forEachTool),o=null!=i?i.manipulator:null;if(null==o||!o.interactive)break;const s=e.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:s,stopPropagation:n}),"mouse"===e.pointerType&&sye(o,n);break}}this._onFocusChange(t.forEachTool)}_releaseManipulatorBeforeDragging(e,t,n){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Xme(t)}),this._grabbedManipulators.forEach((({manipulator:t},n)=>{t===e&&this._grabbedManipulators.delete(n)})),this._afterManipulatorRelease(n.setActiveTool)}_handlePointerEnd(e,t){const n=this._grabbedManipulators.get(e.pointerId)?.manipulator;null!=n&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:Xme(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(t.setActiveTool))}_onFocusChange(e){this._updateCursor(),this._updateFocusedManipulatorTools(e)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=tye(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=tye(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(e){const t=new Set,n=new Set;this._grabbedManipulators.forEach((({tool:e})=>{t.add(e)})),this._hoveredManipulators.forEach((({tool:e})=>{n.add(e)})),e((e=>{e.hasGrabbedManipulators=t.has(e),e.hasHoveredManipulators=n.has(e);const r=this._grabbedManipulators.values(),i=lt(r,(({tool:t})=>t===e));e.firstGrabbedManipulator=null!=i?i.manipulator:null}))}clearPointers(e,{forEachTool:t,setActiveTool:n},r=!0,i){const o=(t,n)=>t===e&&(null==i||i===n);this._grabbedManipulators.forEach((({tool:e,manipulator:t,pointerType:n},r)=>{o(e,t)&&(this._grabbedManipulators.delete(r),t.grabbing=!1,t.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:n}))})),this._draggedManipulators.forEach((({tool:e,manipulator:t},n)=>{o(e,t)&&(this._draggedManipulators.delete(n),t.dragging=!1,t.events.emit("drag",{action:"cancel"}))})),r&&this._hoveredManipulators.forEach((({tool:e,manipulator:t},n)=>{o(e,t)&&(this._hoveredManipulators.delete(n),t.hovering=!1)})),this._afterManipulatorRelease(n),this._onFocusChange(t)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach(((t,n)=>{this._updateHoveredStateForPointerAtScreenPosition(UI(t.x,t.y),n,t.pointerType,e)}))}handleHoverEvent(e,t){const n=e.type;"pointer-up"!==n&&"immediate-click"!==n&&"pointer-move"!==n||!rye(e.pointerType)||("pointer-up"!==n&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition(Xme(e),e.pointerId,e.pointerType,t))}_updateHoveredStateForPointerAtScreenPosition(e,t,n,r){let i=nye(e,n,r);const o=this._hoveredManipulators.get(t)?.manipulator;null==i||i.manipulator.interactive||(i=null),null!=i&&o===i.manipulator||(null!=o&&(o.hovering=!1),null!=i?(i.manipulator.hovering=!0,this._hoveredManipulators.set(t,i)):this._hoveredManipulators.delete(t),this._onFocusChange(r))}_afterManipulatorRelease(e){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach((({manipulator:t},n)=>{e===n&&(this._hoveredManipulators.delete(e),t.hovering=!1)}))}};function tye(e){for(const{manipulator:t}of e.values())if(null!=t&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function nye(e,t,n){let r=null;return n((n=>{if(null==n.manipulators||!Yme(n))return!1;const i=n.manipulators.intersect(e,t);return null!=i&&(r={tool:n,manipulator:i},!0)})),r}function rye(e){return"mouse"===e}function iye(e){return"mouse"!==e.pointerType||0===e.button}function oye(e){return!!e.native.shiftKey}function sye(e,t){e?.consumesClicks&&t()}const aye="attached",lye="tools",cye=1e3;let uye=class extends Ms{constructor(e){super(e),this._updatingHandles=new Khe,this._clock=Jn,this._manipulatorState=new eye,this.tools=new Rc,this.cursor=null,this._interacting=!1,this._interactingTimeout=cye,this._interactingTimeoutHandle=null,this._forEachTool=e=>{for(const t of this.tools.items)if(e(t))return}}initialize(){this.addHandles([this.view.on(Eme,(e=>{this._handleInputEvent(e)}),Zfe.TOOL),...Zme(this.tools),this.tools.on("before-add",(({item:e})=>{this._updateToolEditableFlag(e)})),this.tools.on("before-remove",(({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()})),this.tools.on("change",(()=>{this._refreshToolWatchers()}))])}destroy(){this.activeTool=null,this.tools.drain((e=>e.destroy())),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(null!=e&&!this.view.ready)return void Ye.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const t=this.activeTool;this._set("activeTool",e),t?.deactivate(),e?.activate(),this._removeIncompleteTools(e);for(const n of this.tools){this._updateToolEditableFlag(n);const e=Yme(n);null!=this.activeTool&&e||this._manipulatorState.clearPointers(n,this._manipulatorStateEventArgs,!e)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some((e=>e.updating))}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=gt(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout((()=>this._interacting=!1),this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([WR((()=>{const{state:e}=this.view;return"camera"in e&&e.camera}),(()=>this._forEachManipulator((e=>e.onViewChange())))),this.view.elevationProvider?.on("elevation-change",(e=>this._forEachManipulator((t=>t.onElevationChange(e)))))],aye):this.addHandles(WR((()=>this.view.extent),(()=>this._forEachManipulator((e=>e.onViewChange())))))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(aye),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){this._forEachTool((t=>{t.manipulators&&t.manipulators.forEach((({manipulator:n})=>e(n,t)))}))}_handleInputEvent(e){let t=!1;const n={...e,stopPropagation:()=>{t=!0,e.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool((e=>{!t&&e.visible&&e.handleInputEvent(n)})),!t&&"key-down"===e.type&&"Escape"===e.key&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),t||null==this.activeTool||this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor(),"pointer-move"===e.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(lye),this._forEachTool((e=>{if(e instanceof Ms){const t=WR((()=>[e.cursor,e.visible,e.editable]),(()=>{Yme(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()}));this.addHandles(t,lye)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",(t=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,t.item.manipulator)})),e.manipulators.on("change",(()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}))],lye)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(e){e.setEditableFlag?.(Hme.MANAGER,null==this.activeTool||e===this.activeTool)}_updateCursor(){let e=this._manipulatorState.cursor;null==e&&this._forEachTool((t=>!(null==t.cursor||!t.visible)&&(e=t.cursor,!0))),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter((t=>(null==e||t!==e)&&!t.created&&t.removeIncompleteOnCancel)).forEach((e=>{this.tools.remove(e)}))}get test(){}};S([To({constructOnly:!0,nonNullable:!0})],uye.prototype,"view",void 0),S([To({value:null})],uye.prototype,"activeTool",null),S([To({readOnly:!0,type:Rc})],uye.prototype,"tools",void 0),S([To({readOnly:!0})],uye.prototype,"cursor",void 0),S([To({readOnly:!0})],uye.prototype,"updating",null),S([To()],uye.prototype,"_interacting",void 0),S([To({readOnly:!0})],uye.prototype,"interacting",null),uye=S([gs("esri.views.ToolViewManager")],uye);let hye=class extends Ms{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown","standard"===e.mapping?this._detectedDeviceType="standard":dye.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return fye[this.deviceType]}};S([To({nonNullable:!0,readOnly:!0})],hye.prototype,"nativeIndex",void 0),S([To({type:String,readOnly:!0})],hye.prototype,"deviceType",null),S([To({type:Number,readOnly:!0})],hye.prototype,"axisThreshold",null),hye=S([gs("esri.views.input.gamepad.GamepadInputDevice")],hye);const pye=hye,dye=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),fye={standard:.15,spacemouse:.025,unknown:0};let mye=class extends Ms{constructor(...e){super(...e),this.devices=new Rc,this.enabledFocusMode="document"}};S([To({type:Rc.ofType(pye),readOnly:!0})],mye.prototype,"devices",void 0),S([To({type:["document","view","none"]})],mye.prototype,"enabledFocusMode",void 0),mye=S([gs("esri.views.input.gamepad.GamepadSettings")],mye);const yye=mye;let gye=class extends Ms{constructor(){super(...arguments),this.gamepad=new yye}};S([To({readOnly:!0})],gye.prototype,"gamepad",void 0),gye=S([gs("esri.views.input.Input")],gye);const vye=gye,bye=()=>Ue.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;let wye=class extends Ms{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};S([To({type:Boolean,nonNullable:!0})],wye.prototype,"enabled",void 0),S([To({type:pye})],wye.prototype,"device",void 0),S([To({type:["pan","zoom"],nonNullable:!0})],wye.prototype,"mode",void 0),S([To({type:["forward-down","forward-up"],nonNullable:!0})],wye.prototype,"tiltDirection",void 0),S([To({type:Number,nonNullable:!0})],wye.prototype,"velocityFactor",void 0),wye=S([gs("esri.views.navigation.gamepad.GamepadSettings")],wye);const _ye=wye;let xye=class extends Ms{constructor(e){super(e),this.browserTouchPanEnabled=!0,this.gamepad=new _ye,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!bye()}};S([To({type:Boolean})],xye.prototype,"browserTouchPanEnabled",void 0),S([To({type:_ye,nonNullable:!0})],xye.prototype,"gamepad",void 0),S([To({type:Boolean})],xye.prototype,"momentumEnabled",void 0),S([To({type:Boolean})],xye.prototype,"mouseWheelZoomEnabled",void 0),xye=S([gs("esri.views.navigation.Navigation")],xye);const Sye=xye;var Tye;function Eye(e){if("integrated-mesh-3dtiles"===e.type)return null;const t=e.url?pq(e.url):void 0;return(null!=e.spatialReference?.vcsWkid||null==t||"ImageServer"!==t.serverType)&&Mye(e)&&e.heightModelInfo?e.heightModelInfo:Iye(e)?XX.deriveUnitFromSR(kye,e.spatialReference):null}function Mye(e){return"heightModelInfo"in e}function Aye(e){if("unknown"===e.type||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function Iye(e){return Aye(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):Oye(e)}function Cye(e){return null!=e.layers||Oye(e)||Aye(e)||Mye(e)}function Oye(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"focusArea":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(Tye||(Tye={}));const kye=new XX({heightModel:"gravity-related-height"});var Rye;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(Rye||(Rye={}));let Lye,Nye=null;async function Pye(e){Nye||(Nye=n.e(6713).then(n.bind(n,16713)).then((e=>Lye=e))),await Nye,or(e)}async function Dye(e,t,n,r){if(!e)return null;const i=e.spatialReference;return c2()||E2(i,t)?f2(e,t):Lye?Lye.projectGeometry(e,t,n,r):(await Promise.race([Pye(r),d2(r)]),Dye(e,t,n,r))}let Fye=class extends Ms{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=vt(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const e=this.map?.(),t=[];return null!=this.priorityCollection&&t.push(this.priorityCollection),t.push({parent:e?.basemap,layers:e?.basemap?.baseLayers},{layers:e?.layers},{parent:e?.ground,layers:e?.ground?.layers},{parent:e?.basemap,layers:e?.basemap?.referenceLayers}),t}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let e;if(this._collectLayers(this.mapCollections,(t=>{const n=this._getSupportedSpatialReferences(t);if(n.length>0){const t=this._narrowDownSpatialReferenceCandidates(e,n);null!=t&&(e=t)}return 1===e?.length}))&&1!==e?.length)return{updating:!0};const t=this._pickSpatialReferenceCandidate(e);return{spatialReference:t?.spatialReference??null,viewingMode:t?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const e=this.map?.(),t=this.spatialReference;if(!t)return{updating:this._spatialReferenceTask.updating};let n;const r=this._collectLayers([{parent:e?.basemap,layers:e?.basemap?.baseLayers},{layers:e?.layers}],(e=>!(!("tileInfo"in e)||!e.tileInfo?.spatialReference.equals(t))&&(n=e,!0)),(e=>"tileInfo"in e));return n?{tileInfo:n.tileInfo,updating:!1}:{updating:r}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let e={};const t=this._collectLayers(this.mapCollections,(t=>{const n=Eye(t);return!!n&&(e={heightModelInfo:n,vcsWkid:t.spatialReference?.vcsWkid,latestVcsWkid:t.spatialReference?.latestVcsWkid},!0)}),(e=>Cye(e)));return{...e,updating:t}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=[],t=this._collectLayers(this.mapCollections,(t=>{const n="fullExtents"in t&&t.fullExtents||(null!=t.fullExtent?[t.fullExtent]:[]),r=this.requiresExtentInSpatialReference?null:n[0],i=n.find((e=>e.spatialReference.equals(this.spatialReference)))??r;if(i)return e.push({extent:i,layer:t}),!0;if(this._getSupportedSpatialReferences(t).length>0)for(const o of n)e.push({extent:o,layer:t});return!1}));return{candidates:e,updating:t}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if(null==e||0===e.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(e),r=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=vt(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:r.clone(),task:tu((async e=>{try{const t=await Dye(n.extent,r,"portalItem"in n.layer?n.layer.portalItem:void 0,e);this._projectExtentTask={...this._projectExtentTask,task:null,output:t}}catch{if(ar(e))return;this._projectExtentTask={...this._projectExtentTask,task:null}}}))},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if(null==e)return t;const n=new Array;for(const r of e)for(const e of t){if(!r.spatialReference.equals(e.spatialReference))continue;const t=Uye(r.viewingMode,e.viewingMode);if(!1!==t){n.push({spatialReference:r.spatialReference,viewingMode:t});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return null==e||e.length<1?t?{spatialReference:t,viewingMode:null}:null:(null!=t&&e.length>1&&e.some((({spatialReference:e})=>e.equals(t)))&&(e=e.filter((({spatialReference:e})=>e.equals(t)))),e.length>1&&e.some((({viewingMode:e})=>e!==Rye.Local))&&(e=e.filter((({viewingMode:e})=>e!==Rye.Local))),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===t.length)return[];const n=[];for(const r of t){const t=this.getSpatialReferenceSupport(r,e);if(null!=t){const e=t.constraints??[{spatialReference:r,viewingMode:null}];for(const{spatialReference:t,viewingMode:r}of e)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!t.equals(this.userSpatialReference)||n.push({spatialReference:t,viewingMode:r})}}return n}_pickExtentCandidate(e){const t=this.spatialReference;return e.find((({extent:e})=>t.equals(e.spatialReference)))||e[0]}_collectLayers(e,t,n=()=>!0){if("loaded"!==this._loadMaybe(this.map?.()))return!0;const r=new jye(n,t);for(const i of e)if(this._collectCollection(i,r),r.done||r.preloading===this.sourcePreloadCount)break;return r.updating}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const n of e.layers)if(t.layerFilter(n)){switch(this._loadMaybe(n)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":if(t.updating||(t.done=t.pushLayer(n)),t.done||t.preloading===this.sourcePreloadCount)break;"layers"in n&&this._collectCollection({layers:n.layers},t)}if(t.done||t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&null!=e.loadStatus?"not-loaded"===e.loadStatus?(e.load().catch((e=>{dr(e)})),"loading"):e.loadStatus:"loaded"}};S([To()],Fye.prototype,"required",void 0),S([To({constructOnly:!0})],Fye.prototype,"map",void 0),S([To({constructOnly:!0})],Fye.prototype,"getSpatialReferenceSupport",void 0),S([To()],Fye.prototype,"defaultSpatialReference",void 0),S([To()],Fye.prototype,"userSpatialReference",void 0),S([To()],Fye.prototype,"sourcePreloadCount",void 0),S([To()],Fye.prototype,"priorityCollection",void 0),S([To()],Fye.prototype,"requiresExtentInSpatialReference",void 0),S([To()],Fye.prototype,"suspended",void 0),S([To({readOnly:!0})],Fye.prototype,"ready",null),S([To({readOnly:!0})],Fye.prototype,"heightModelInfoReady",null),S([To({readOnly:!0})],Fye.prototype,"spatialReference",null),S([To({readOnly:!0})],Fye.prototype,"extent",null),S([To({readOnly:!0})],Fye.prototype,"heightModelInfo",null),S([To({readOnly:!0})],Fye.prototype,"vcsWkid",null),S([To({readOnly:!0})],Fye.prototype,"latestVcsWkid",null),S([To({readOnly:!0})],Fye.prototype,"viewingMode",null),S([To({readOnly:!0})],Fye.prototype,"tileInfo",null),S([To({readOnly:!0})],Fye.prototype,"mapCollections",null),S([To({readOnly:!0})],Fye.prototype,"_spatialReferenceTask",null),S([To({readOnly:!0})],Fye.prototype,"_tileInfoTask",null),S([To({readOnly:!0})],Fye.prototype,"_heightModelInfoTask",null),S([To({readOnly:!0})],Fye.prototype,"_extentCandidatesTask",null),S([To()],Fye.prototype,"_extentTask",null),S([To()],Fye.prototype,"_projectExtentTask",void 0),Fye=S([gs("esri.views.support.DefaultsFromMap")],Fye);let jye=class{constructor(e,t){this.layerFilter=e,this.pushLayer=t,this.preloading=-1,this.updating=!1,this.done=!1}};function Uye(e,t){return null!=e?null!=t?e===t&&e:e:t}var zye;let Gye=zye=class extends(dc.EventedMixin(jc(Ms))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new ut,this.updatingHandles=new Khe,this.allLayerViews=new Xoe({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:$ye}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new l4,this.analyses=new nme,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Rc,this.magnifier=new pme,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new vye,this.navigation=new Sye,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new Cme(this),this.persistableViewModels=new Rc,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(WR((()=>this.preconditionsReady),(e=>{const t=this.ready;if(e?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,zye.views.add(this)):(this._lockedSpatialReference=null,zye.views.remove(this)),this.notifyChange("spatialReference"),!e&&t)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(e&&!t){try{this._startup()}catch(n){return void queueMicrotask((()=>{this.fatalError=new et("startup-error",null,n)}))}null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach()}}),eL))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then((()=>(this._isValid=!0,XR((()=>this.ready)))))),this.basemapView=new ime({view:this}),this.layerViewManager=new cme({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new uye({view:this}),this._setupSpatialReferenceLogger(),this.selectionManager=new _me({view:this}),this.addHandles([WR((()=>this.initialExtentRequired),(e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e}),nL),WR((()=>this.ready),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)}),eL),WR((()=>this._userSpatialReference),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)}),nL)])}_setupSpatialReferenceLogger(){let e=null;this.addHandles([WR((()=>this.defaultsFromMap?.ready),(t=>{const n=this.map?.allLayers.length>0;if(t&&!this.spatialReference&&n){if(null!=e)return;const t=Tt((()=>e=vt(e)));e=tu((async t=>{try{await vr(this.spatialReferenceWarningDelay,null,t)}catch{return}finally{e=null}Ye.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")})),this.addHandles(t,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")}),{sync:!0})])}destroy(){this.destroyed||(zye.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=mt(this.graphics),this.analyses=mt(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),mt(this.analysisViewManager),this.toolViewManager=mt(this.toolViewManager),this.layerViewManager=mt(this.layerViewManager),this.selectionManager=mt(this.selectionManager),this.basemapView=mt(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach((e=>e.destroy())),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=mt(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Ye.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Fye({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Wc.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e?.destroyed&&(Ye.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),Wc.isLoadable(e)&&e.load().catch((()=>{})),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get spatialReference(){const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&this.defaultsFromMap?.required?.heightModelInfo){const t=e.clone();return t.vcsWkid=this.defaultsFromMap.vcsWkid,t.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,t}return e}set spatialReference(e){const t=!Qu(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??GS}set timeZone(e){this._userTimeZone=e,eT(e)||Ye.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new Sme}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new et("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return null!=this.getSpatialReferenceSupport(e)}when(e,t){return this.isResolved()&&!this.ready&&Ye.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(qR((()=>this.destroyed||!1===this.preconditionsReady),(()=>this._readyCycleForced=!1),{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};Gye.views=new Rc,S([To()],Gye.prototype,"_userSpatialReference",void 0),S([To()],Gye.prototype,"activeTool",null),S([To({readOnly:!0})],Gye.prototype,"allLayerViews",void 0),S([To()],Gye.prototype,"groundView",void 0),S([To()],Gye.prototype,"animation",null),S([To()],Gye.prototype,"basemapView",void 0),S([To()],Gye.prototype,"center",null),S([To()],Gye.prototype,"defaultsFromMapSettings",null),S([To()],Gye.prototype,"defaultsFromMap",null),S([To()],Gye.prototype,"fatalError",void 0),S([To({type:Gd})],Gye.prototype,"extent",null),S([To(a4(l4,"graphics"))],Gye.prototype,"graphics",void 0),S([To(a4(nme,"analyses"))],Gye.prototype,"analyses",void 0),S([To({readOnly:!0,type:XX})],Gye.prototype,"heightModelInfo",null),S([To({readOnly:!0})],Gye.prototype,"interacting",null),S([To({readOnly:!0})],Gye.prototype,"navigating",null),S([To({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Gye.prototype,"preconditionsReady",null),S([To({readOnly:!0})],Gye.prototype,"typeSpecificPreconditionsReady",void 0),S([To({type:Rc,readOnly:!0})],Gye.prototype,"layerViews",void 0),S([To()],Gye.prototype,"resolution",null),S([To({type:pme})],Gye.prototype,"magnifier",void 0),S([To({value:null,type:cue})],Gye.prototype,"map",null),S([To()],Gye.prototype,"padding",void 0),S([To({readOnly:!0})],Gye.prototype,"ready",void 0),S([To({type:Ip})],Gye.prototype,"spatialReference",null),S([To()],Gye.prototype,"spatialReferenceWarningDelay",void 0),S([To()],Gye.prototype,"stationary",null),S([To({readOnly:!0})],Gye.prototype,"supportsGround",void 0),S([To({type:MH})],Gye.prototype,"timeExtent",null),S([To({type:String,nonNullable:!0})],Gye.prototype,"timeZone",null),S([To()],Gye.prototype,"tools",null),S([To()],Gye.prototype,"toolViewManager",void 0),S([To({readOnly:!0})],Gye.prototype,"type",void 0),S([To({type:Number})],Gye.prototype,"scale",void 0),S([To({readOnly:!0})],Gye.prototype,"updating",void 0),S([To({readOnly:!0})],Gye.prototype,"initialExtentRequired",void 0),S([To({readOnly:!0})],Gye.prototype,"initialExtent",null),S([To()],Gye.prototype,"cursor",null),S([To({readOnly:!0})],Gye.prototype,"input",void 0),S([To({type:Sye,nonNullable:!0})],Gye.prototype,"navigation",void 0),S([To()],Gye.prototype,"layerViewManager",void 0),S([To()],Gye.prototype,"analysisViewManager",void 0),S([To()],Gye.prototype,"selectionManager",void 0),S([To()],Gye.prototype,"width",void 0),S([To()],Gye.prototype,"height",void 0),S([To({readOnly:!0})],Gye.prototype,"resizing",void 0),S([To({value:null,readOnly:!0})],Gye.prototype,"size",null),S([To({readOnly:!0})],Gye.prototype,"suspended",void 0),S([To({readOnly:!0})],Gye.prototype,"viewEvents",void 0),S([To({readOnly:!0})],Gye.prototype,"persistableViewModels",void 0),S([To()],Gye.prototype,"_isValid",void 0),S([To()],Gye.prototype,"_readyCycleForced",void 0),S([To()],Gye.prototype,"_lockedSpatialReference",void 0),S([To()],Gye.prototype,"_userTimeZone",void 0),S([To()],Gye.prototype,"_lockedTimeZone",void 0),S([To()],Gye.prototype,"_userTimeExtent",void 0),S([To()],Gye.prototype,"_lockedTimeExtent",void 0),S([To({type:Sme})],Gye.prototype,"theme",void 0),S([To({readOnly:!0,type:Sme})],Gye.prototype,"effectiveTheme",null),Gye=zye=S([gs("esri.views.View")],Gye);const Vye=globalThis.$arcgis;Vye&&!Vye.views&&Object.defineProperty(Vye,"views",{configurable:!1,enumerable:!0,writable:!1,value:Gye.views});const Bye=Gye;function $ye(e){return e.layerViews}function Hye(){return[0,0]}function Wye(e){return[e[0],e[1]]}function qye(e,t){return[e,t]}function Zye(e,t=Hye()){const n=Math.min(2,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function Yye(e,t){return new Float64Array(e,t,2)}function Xye(){return Hye()}function Jye(){return qye(1,1)}function Kye(){return qye(1,0)}function Qye(){return qye(0,1)}const ege=Xye(),tge=Jye(),nge=Kye(),rge=Qye();Object.freeze(Object.defineProperty({__proto__:null,ONES:tge,UNIT_X:nge,UNIT_Y:rge,ZEROS:ege,clone:Wye,create:Hye,createView:Yye,fromArray:Zye,fromValues:qye,ones:Jye,unitX:Kye,unitY:Qye,zeros:Xye},Symbol.toStringTag,{value:"Module"}));let ige=class extends Uc{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=Sr(),this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new et("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(e,t){t||(t=wr(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};S([To({readOnly:!0})],ige.prototype,"done",null),S([To({readOnly:!0,type:String})],ige.prototype,"state",void 0),S([To()],ige.prototype,"target",void 0),ige=S([gs("esri.views.ViewAnimation")],ige),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(ige||(ige={}));const oge=ige;function sge(e,t){return e[0]=t[0],e[1]=t[1],e}function age(e,t,n){return e[0]=t,e[1]=n,e}function lge(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function cge(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function uge(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function hge(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function pge(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function dge(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function fge(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function mge(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function yge(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function gge(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function vge(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function bge(e,t){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function wge(e,t){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function _ge(e){const t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function xge(e){const t=e[0],n=e[1];return t*t+n*n}function Sge(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Tge(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function Ege(e,t){const n=t[0],r=t[1];let i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function Mge(e,t){return e[0]*t[0]+e[1]*t[1]}function Age(e,t,n){const r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function Ige(e,t,n,r){const i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function Cge(e,t=1){const n=2*sF()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function Oge(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function kge(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function Rge(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function Lge(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function Nge(e,t,n,r){const i=t[0]-n[0],o=t[1]-n[1],s=Math.sin(r),a=Math.cos(r);return e[0]=i*a-o*s+n[0],e[1]=i*s+o*a+n[1],e}function Pge(e,t){const n=e[0],r=e[1],i=t[0],o=t[1];let s=n*n+r*r;s>0&&(s=1/Math.sqrt(s));let a=i*i+o*o;a>0&&(a=1/Math.sqrt(a));const l=(n*i+r*o)*s*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function Dge(e){return"vec2("+e[0]+", "+e[1]+")"}function Fge(e,t){return e[0]===t[0]&&e[1]===t[1]}function jge(e,t){const n=e[0],r=e[1],i=t[0],o=t[1],s=iF();return Math.abs(n-i)<=s*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=s*Math.max(1,Math.abs(r),Math.abs(o))}function Uge(e,t,n,r,i){let o=t[0]-n[0],s=t[1]-n[1];const a=(r[0]*o+r[1]*s)*(i-1);return o=r[0]*a,s=r[1]*a,e[0]=t[0]+o,e[1]=t[1]+s,e}const zge=_ge,Gge=cge,Vge=uge,Bge=hge,$ge=bge,Hge=wge,Wge=xge;function qge(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Zge(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Yge(e,t,n,r,i,o,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e}function Xge(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5];let l=n*o-r*i;return l?(l=1/l,e[0]=o*l,e[1]=-r*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*a-o*s)*l,e[5]=(r*s-n*a)*l,e):null}function Jge(e){return e[0]*e[3]-e[1]*e[2]}function Kge(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=n[0],u=n[1],h=n[2],p=n[3],d=n[4],f=n[5];return e[0]=r*c+o*u,e[1]=i*c+s*u,e[2]=r*h+o*p,e[3]=i*h+s*p,e[4]=r*d+o*f+a,e[5]=i*d+s*f+l,e}function Qge(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*c,e[1]=i*u+s*c,e[2]=r*-c+o*u,e[3]=i*-c+s*u,e[4]=a,e[5]=l,e}function eve(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=n[0],u=n[1];return e[0]=r*c,e[1]=i*c,e[2]=o*u,e[3]=s*u,e[4]=a,e[5]=l,e}function tve(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=n[0],u=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=r*c+o*u+a,e[5]=i*c+s*u+l,e}function nve(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function rve(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function ive(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function ove(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function sve(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function ave(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function lve(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function cve(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function uve(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function hve(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function pve(e,t){const n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=t[0],c=t[1],u=t[2],h=t[3],p=t[4],d=t[5],f=iF();return Math.abs(n-l)<=f*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-c)<=f*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-u)<=f*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-h)<=f*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-p)<=f*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(a-d)<=f*Math.max(1,Math.abs(a),Math.abs(d))}Object.freeze(Object.defineProperty({__proto__:null,add:lge,angle:Pge,ceil:pge,copy:sge,cross:Age,dist:$ge,distance:bge,div:Bge,divide:hge,dot:Mge,equals:jge,exactEquals:Fge,floor:dge,inverse:Tge,len:zge,length:_ge,lerp:Ige,max:mge,min:fge,mul:Vge,multiply:uge,negate:Sge,normalize:Ege,projectAndScale:Uge,random:Cge,rotate:Nge,round:yge,scale:gge,scaleAndAdd:vge,set:age,sqrDist:Hge,sqrLen:Wge,squaredDistance:wge,squaredLength:xge,str:Dge,sub:Gge,subtract:cge,transformMat2:Oge,transformMat2d:kge,transformMat3:Rge,transformMat4:Lge},Symbol.toStringTag,{value:"Module"}));const dve=Kge,fve=lve;function mve(){return[1,0,0,1,0,0]}function yve(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function gve(e,t,n,r,i,o){return[e,t,n,r,i,o]}function vve(e,t){return new Float64Array(e,t,6)}Object.freeze(Object.defineProperty({__proto__:null,add:ave,copy:qge,determinant:Jge,equals:pve,exactEquals:hve,frob:sve,fromRotation:nve,fromScaling:rve,fromTranslation:ive,identity:Zge,invert:Xge,mul:dve,multiply:Kge,multiplyScalar:cve,multiplyScalarAndAdd:uve,rotate:Qge,scale:eve,set:Yge,str:ove,sub:fve,subtract:lve,translate:tve},Symbol.toStringTag,{value:"Module"}));const bve=mve();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:bve,clone:yve,create:mve,createView:vve,fromValues:gve},Symbol.toStringTag,{value:"Module"}));const wve=96,_ve=39.37,xve=180/Math.PI;function Sve(e){return e.wkid?e:e.spatialReference||Ip.WGS84}function Tve(e,t){return t.type?age(e,t.x,t.y):sge(e,t)}function Eve(e){return sp(e)}function Mve(e,t,n=0){let r=e.width,i=e.height;if(0!==n){const t=Xm(n),o=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t));r=e.width*o+e.height*s,i=e.width*s+e.height*o}const o=Math.max(1,t[0]),s=Math.max(1,t[1]);return Math.max(r/o,i/s)*Gve(e.spatialReference)}async function Ave(e,t,n,r){let i,o;if(!e||Array.isArray(e)&&!e.length)return null;if(Rc.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&"object"==typeof e[0]){const i=e.every((e=>"attributes"in e)),o=e.some((e=>!e.geometry));let s=e;if(i&&o&&t&&t.allLayerViews){const n=new Map;for(const t of e){const e=t.layer,r=n.get(e)||[],i=t.attributes[e.objectIdField];null!=i&&r.push(i),n.set(e,r)}const r=[];n.forEach(((e,n)=>{const i=t.allLayerViews.find((e=>e.layer.id===n.id));if(i&&"queryFeatures"in i){const t=n.createQuery();t.objectIds=e,t.returnGeometry=!0,r.push(i.queryFeatures(t))}}));const i=await Promise.all(r),o=[];for(const e of i)if(e&&e.features&&e.features.length)for(const t of e.features)null!=t.geometry&&o.push(t.geometry);s=o}for(const e of s)r=await Ave(e,t,n,r);return r}if(Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])i=new sd(e);else if(e instanceof kp)i=e;else if("geometry"in e)if(e.geometry)i=e.geometry;else if(e.layer){const n=e.layer,r=t.allLayerViews.find((e=>e.layer.id===n.id));if(r&&"queryFeatures"in r){const t=n.createQuery();t.objectIds=[e.attributes[n.objectIdField]],t.returnGeometry=!0,i=(await r.queryFeatures(t))?.features?.[0]?.geometry}}if(null==i)return null;switch(i.type){case"point":o=new Gd({xmin:i.x,ymin:i.y,xmax:i.x,ymax:i.y,spatialReference:i.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":o=v5(i);break;default:o=i.extent}if(!o)return null;c2()||E2(o.spatialReference,n)||await d2();const s=f2(o,n);if(!s)return null;if(r){const e=s.center,t=e.clone();t.x=b5(e.x,r.center.x,n),t.x!==e.x&&s.centerAt(t),r=r.union(s)}else r=s;return r}function Ive(e){if(e&&(!Array.isArray(e)||"number"!=typeof e[0])&&("object"==typeof e||Array.isArray(e)&&"object"==typeof e[0])){if("layer"in e&&null!=e.layer?.minScale&&null!=e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every((e=>"layer"in e))){let t=0,n=0;for(const r of e){const e=r.layer;e?.minScale&&e.maxScale&&(t=e.minScale<t?e.minScale:t,n=e.maxScale>n?e.maxScale:n)}return t&&n?{min:t,max:n}:null}}}function Cve(e,t){const n=Sve(e);return Qu(n,t)||n.imageCoordinateSystem||t.imageCoordinateSystem?e:f2(e,t)}async function Ove(e,t){if(!e||!t)return new Bhe({targetGeometry:new sd,scale:0,rotation:0});let n=t.spatialReference;const{constraints:r,padding:i,viewpoint:o,size:s}=t,a=[i?s[0]-i.left-i.right:s[0],i?s[1]-i.top-i.bottom:s[1]];let l=null;e instanceof Bhe?l=e:e.viewpoint?l=e.viewpoint:e.target&&"esri.Viewpoint"===e.target.declaredClass&&(l=e.target);let c=null;l?.targetGeometry?c=l.targetGeometry:e instanceof Gd?c=e:e instanceof kp?c=await Ave(e,t,n):e&&(c=await Ave(e.center,t,n)||await Ave(e.target,t,n)||await Ave(e,t,n)),!c&&o?.targetGeometry?c=o.targetGeometry:!c&&t.extent&&(c=t.extent),n||(n=Sve(t.spatialReference||t.extent||c)),c2()||Qu(c.spatialReference,n)||E2(c.spatialReference,n)||await d2();const u=Cve(c,n),h="center"in u?u.center:u;!1!==t.pickClosestTarget&&"point"===h.type&&"point"===o.targetGeometry?.type&&(h.x=b5(h.x,o.targetGeometry.x,h.spatialReference));let p=0;l?p=l.rotation:e.hasOwnProperty("rotation")?p=e.rotation:o&&(p=o.rotation);let d=0;d=null!=l?.targetGeometry&&"point"===l.targetGeometry.type?l.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&-1!==e.zoom&&r&&r.effectiveLODs?r.zoomToScale(e.zoom):Array.isArray(c)||"point"===c.type||"extent"===c.type&&0===c.width&&0===c.height?o.scale:Mve(Cve(c.extent,n),a,p);const f=Ive(e.target??e);f&&(f.min&&f.min<d?d=f.min:f.max&&f.max>d&&(d=f.max));let m=new Bhe({targetGeometry:h,scale:d,rotation:p});return r&&(m=r.fit(m),r.constrainByGeometry(m),r.rotationEnabled||(m.rotation=o.rotation)),m}function kve(e,t){const n=e.targetGeometry,r=t.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function Rve(e,t,n){return n?age(e,.5*(t[0]-n.right+n.left),.5*(t[1]-n.bottom+n.top)):gge(e,t,.5)}const Lve=function(){const e=Hye();return function(t,n,r){const i=n.targetGeometry;Tve(e,i);const o=.5*jve(n);return t.xmin=e[0]-o*r[0],t.ymin=e[1]-o*r[1],t.xmax=e[0]+o*r[0],t.ymax=e[1]+o*r[1],t.spatialReference=i.spatialReference,t}}();function Nve(e,t,n,r,i){return Xve(e,t,n.center),e.scale=Mve(n,r),i?.constraints?.constrain(e),e}function Pve(e,t,n,r){return $ve(e,t,n,r),Xge(e,e)}const Dve=function(){const e=Hye();return function(t,n,r){return Gge(t,Vve(t,n),Rve(e,n,r))}}(),Fve=function(){const e=mve(),t=Hye();return function(n,r,i,o){const s=jve(r),a=zve(r);return age(t,s,s),rve(e,t),Qge(e,e,a),tve(e,e,Dve(t,i,o)),tve(e,e,[0,o.top-o.bottom]),age(n,e[4],e[5])}}();function jve(e){return e.scale*Uve(e.targetGeometry?.spatialReference)}function Uve(e){return null!=e&&fh(e)?1/(Eve(e)*_ve*wve):1}function zve(e){return cF(e.rotation)||0}function Gve(e){return fh(e)?Eve(e)*_ve*wve:1}function Vve(e,t){return gge(e,t,.5)}const Bve=function(){const e=Hye(),t=Hye(),n=Hye();return function(r,i,o,s,a,l){return Sge(e,i),gge(t,o,.5*l),age(n,1/s*l,-1/s*l),ive(r,t),a&&Qge(r,r,a),eve(r,r,n),tve(r,r,e),r}}(),$ve=function(){const e=Hye();return function(t,n,r,i){const o=jve(n),s=zve(n);return Tve(e,n.targetGeometry),Bve(t,e,r,o,s,i)}}(),Hve=function(){const e=Hye();return function(t,n,r,i){const o=jve(n);return Tve(e,n.targetGeometry),Bve(t,e,r,o,0,i)}}();function Wve(e){const t=eh(e);return t?t.valid[1]-t.valid[0]:0}function qve(e,t){return Math.round(Wve(e)/t)}const Zve=function(){const e=Hye(),t=Hye(),n=[0,0,0];return function(r,i,o){cge(e,r,i),Ege(e,e),cge(t,r,o),Ege(t,t),Age(n,e,t);let s=Math.acos(Mge(e,t)/(_ge(e)*_ge(t)))*xve;return n[2]<0&&(s=-s),isNaN(s)&&(s=0),s}}(),Yve=function(){const e=Hye();return function(t,n,r,i){const o=t.targetGeometry;return kve(t,n),Fve(e,n,r,i),o.x+=e[0],o.y+=e[1],t}}(),Xve=function(e,t,n){kve(e,t);const r=e.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e},Jve=function(){const e=Hye();return function(t,n,r,i,o){o||(o="center"),Gge(e,r,i),gge(e,e,.5);const s=e[0],a=e[1];switch(o){case"center":age(e,0,0);break;case"left":age(e,-s,0);break;case"top":age(e,0,a);break;case"right":age(e,s,0);break;case"bottom":age(e,0,-a);break;case"top-left":age(e,-s,a);break;case"bottom-left":age(e,-s,-a);break;case"top-right":age(e,s,a);break;case"bottom-right":age(e,s,-a)}return sbe(t,n,e),t}}();function Kve(e,t,n){return kve(e,t),e.rotation+=n,e}function Qve(e,t,n){return kve(e,t),e.rotation=n,e}const ebe=function(){const e=Hye();return function(t,n,r,i,o){return kve(t,n),isNaN(r)||0===r||(ibe(e,i,n,o),t.scale=n.scale*r,obe(e,e,t,o),sbe(t,t,age(e,e[0]-i[0],i[1]-e[1]))),t}}();function tbe(e,t,n){return kve(e,t),e.scale=n,e}const nbe=function(){const e=Hye();return function(t,n,r,i,o,s){return kve(t,n),isNaN(r)||0===r||(ibe(e,o,n,s),t.scale=n.scale*r,t.rotation+=i,obe(e,e,t,s),sbe(t,t,age(e,e[0]-o[0],o[1]-e[1]))),t}}(),rbe=function(){const e=Hye(),t=Hye();return function(n,r,i,o,s,a,l){return Dve(t,a,l),lge(e,s,t),o?nbe(n,r,i,o,e,a):ebe(n,r,i,e,a)}}(),ibe=function(){const e=mve();return function(t,n,r,i){return kge(t,n,Pve(e,r,i,1))}}(),obe=function(){const e=mve();return function(t,n,r,i){return kge(t,n,$ve(e,r,i,1))}}(),sbe=function(){const e=Hye(),t=mve();return function(n,r,i){kve(n,r);const o=jve(r),s=n.targetGeometry;return nve(t,zve(r)),eve(t,t,qye(o,o)),kge(e,i,t),s.x+=e[0],s.y+=e[1],n}}();function abe(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function lbe(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function cbe(e,t,n,r,i,o){const s=new Float32Array(6);return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=o,s}function ube(e,t){return new Float32Array(e,t,6)}function hbe(e,t,n,r){const i=t[r],o=t[r+1];e[r]=n[0]*i+n[2]*o+n[4],e[r+1]=n[1]*i+n[3]*o+n[5]}function pbe(e,t,n,r=0,i=0,o=2){const s=i||t.length/o;for(let a=r;a<s;a++)hbe(e,t,n,a*o)}function dbe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function fbe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function mbe(e,t,n,r,i,o,s,a,l,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e}function ybe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function gbe(e,t){if(e===t){const n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function vbe(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=u*s-a*c,p=-u*o+a*l,d=c*o-s*l;let f=n*h+r*p+i*d;return f?(f=1/f,e[0]=h*f,e[1]=(-u*r+i*c)*f,e[2]=(a*r-i*s)*f,e[3]=p*f,e[4]=(u*n-i*l)*f,e[5]=(-a*n+i*o)*f,e[6]=d*f,e[7]=(-c*n+r*l)*f,e[8]=(s*n-r*o)*f,e):null}function bbe(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e[0]=s*u-a*c,e[1]=i*c-r*u,e[2]=r*a-i*s,e[3]=a*l-o*u,e[4]=n*u-i*l,e[5]=i*o-n*a,e[6]=o*c-s*l,e[7]=r*l-n*c,e[8]=n*s-r*o,e}function wbe(e){const t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*(c*o-s*l)+n*(-c*i+s*a)+r*(l*i-o*a)}function _be(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=n[0],d=n[1],f=n[2],m=n[3],y=n[4],g=n[5],v=n[6],b=n[7],w=n[8];return e[0]=p*r+d*s+f*c,e[1]=p*i+d*a+f*u,e[2]=p*o+d*l+f*h,e[3]=m*r+y*s+g*c,e[4]=m*i+y*a+g*u,e[5]=m*o+y*l+g*h,e[6]=v*r+b*s+w*c,e[7]=v*i+b*a+w*u,e[8]=v*o+b*l+w*h,e}function xbe(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=n[0],d=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=p*r+d*s+c,e[7]=p*i+d*a+u,e[8]=p*o+d*l+h,e}function Sbe(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=Math.sin(n),d=Math.cos(n);return e[0]=d*r+p*s,e[1]=d*i+p*a,e[2]=d*o+p*l,e[3]=d*s-p*r,e[4]=d*a-p*i,e[5]=d*l-p*o,e[6]=c,e[7]=u,e[8]=h,e}function Tbe(e,t,n){const r=n[0],i=n[1],o=n[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=o*t[8],e}function Ebe(e,t,n){const r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function Mbe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Abe(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ibe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Cbe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Obe(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,a=r+r,l=i+i,c=n*s,u=r*s,h=r*a,p=i*s,d=i*a,f=i*l,m=o*s,y=o*a,g=o*l;return e[0]=1-h-f,e[3]=u-g,e[6]=p+y,e[1]=u+g,e[4]=1-c-f,e[7]=d-m,e[2]=p-y,e[5]=d+m,e[8]=1-c-h,e}function kbe(e,t){const n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],c=t[9],u=t[10],h=u*s-a*c,p=-u*o+a*l,d=c*o-s*l,f=n*h+r*p+i*d;if(!f)return null;const m=1/f;return e[0]=h*m,e[1]=(-u*r+i*c)*m,e[2]=(a*r-i*s)*m,e[3]=p*m,e[4]=(u*n-i*l)*m,e[5]=(-a*n+i*o)*m,e[6]=d*m,e[7]=(-c*n+r*l)*m,e[8]=(s*n-r*o)*m,e}function Rbe(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],p=t[10],d=t[11],f=t[12],m=t[13],y=t[14],g=t[15],v=n*a-r*s,b=n*l-i*s,w=n*c-o*s,_=r*l-i*a,x=r*c-o*a,S=i*c-o*l,T=u*m-h*f,E=u*y-p*f,M=u*g-d*f,A=h*y-p*m,I=h*g-d*m,C=p*g-d*y;let O=v*C-b*I+w*A+_*M-x*E+S*T;return O?(O=1/O,e[0]=(a*C-l*I+c*A)*O,e[1]=(l*M-s*C-c*E)*O,e[2]=(s*I-a*M+c*T)*O,e[3]=(i*I-r*C-o*A)*O,e[4]=(n*C-i*M+o*E)*O,e[5]=(r*M-n*I-o*T)*O,e[6]=(m*S-y*x+g*_)*O,e[7]=(y*w-f*S-g*b)*O,e[8]=(f*x-m*w+g*v)*O,e):null}function Lbe(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Nbe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Pbe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function Dbe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Fbe(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function jbe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function Ube(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function zbe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Gbe(e,t){const n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=t[0],p=t[1],d=t[2],f=t[3],m=t[4],y=t[5],g=t[6],v=t[7],b=t[8],w=iF();return Math.abs(n-h)<=w*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-p)<=w*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-d)<=w*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-f)<=w*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-m)<=w*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-y)<=w*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(l-g)<=w*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-v)<=w*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-b)<=w*Math.max(1,Math.abs(u),Math.abs(b))}function Vbe(e){const t=iF(),n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return Math.abs(1-(n*n+o*o+l*l))<=t&&Math.abs(1-(r*r+s*s+c*c))<=t&&Math.abs(1-(i*i+a*a+u*u))<=t}Object.freeze(Object.defineProperty({__proto__:null,clone:lbe,create:abe,createView:ube,fromValues:cbe,transform:hbe,transformMany:pbe},Symbol.toStringTag,{value:"Module"}));const Bbe=_be,$be=Fbe;function Hbe(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function Wbe(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function qbe(e,t,n,r,i,o,s,a,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=s,c[7]=a,c[8]=l,c}function Zbe(e,t){return new Float32Array(e,t,9)}function Ybe(){return new Float32Array(2)}function Xbe(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Jbe(e,t){const n=new Float32Array(2);return n[0]=e,n[1]=t,n}function Kbe(e,t){return new Float32Array(e,t,2)}function Qbe(){return Ybe()}function ewe(){return Jbe(1,1)}function twe(){return Jbe(1,0)}function nwe(){return Jbe(0,1)}Object.freeze(Object.defineProperty({__proto__:null,add:Dbe,adjoint:bbe,copy:fbe,determinant:wbe,equals:Gbe,exactEquals:zbe,frob:Pbe,fromMat2d:Cbe,fromMat4:dbe,fromQuat:Obe,fromRotation:Abe,fromScaling:Ibe,fromTranslation:Mbe,identity:ybe,invert:vbe,isOrthoNormal:Vbe,mul:Bbe,multiply:_be,multiplyScalar:jbe,multiplyScalarAndAdd:Ube,normalFromMat4:Rbe,normalFromMat4Legacy:kbe,projection:Lbe,rotate:Sbe,scale:Tbe,scaleByVec2:Ebe,set:mbe,str:Nbe,sub:$be,subtract:Fbe,translate:xbe,transpose:gbe},Symbol.toStringTag,{value:"Module"})),Object.freeze(Object.defineProperty({__proto__:null,clone:Wbe,create:Hbe,createView:Zbe,fromValues:qbe},Symbol.toStringTag,{value:"Module"}));const rwe=Qbe(),iwe=ewe(),owe=twe(),swe=nwe();function awe(e){return e instanceof Float32Array&&e.length>=2}function lwe(e){return Array.isArray(e)&&e.length>=2}function cwe(e){return awe(e)||lwe(e)}var uwe;Object.freeze(Object.defineProperty({__proto__:null,ONES:iwe,UNIT_X:owe,UNIT_Y:swe,ZEROS:rwe,clone:Xbe,create:Ybe,createView:Kbe,fromValues:Jbe,ones:ewe,unitX:twe,unitY:nwe,zeros:Qbe},Symbol.toStringTag,{value:"Module"}));const hwe=[0,0];let pwe=uwe=class extends Hs{constructor(e){super(e),this._viewpoint2D={center:Hye(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Gd,this.id=0,this.inverseTransform=mve(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=mve(),this.transformNoRotation=mve(),this.displayMat3=Hbe(),this.displayViewMat3=Hbe(),this.viewMat3=Hbe(),this.viewMat2d=abe(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,n=e.targetGeometry;t.center[0]=n.x,t.center[1]=n.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=n.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,n=this.viewpoint;return n&&t?(this.viewpoint=kve(n,e.viewpoint),this._set("size",sge(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new uwe({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,n){return cwe(t)?kge(e,t,this.inverseTransform):(hwe[0]=t,hwe[1]=n,kge(e,hwe,this.inverseTransform))}toScreen(e,t,n){return cwe(t)?kge(e,t,this.transform):(hwe[0]=t,hwe[1]=n,kge(e,hwe,this.transform))}toScreenNoRotation(e,t,n){return cwe(t)?kge(e,t,this.transformNoRotation):(hwe[0]=t,hwe[1]=n,kge(e,hwe,this.transformNoRotation))}wrapMapCoordinate(e,t){sge(e,t);const[n]=t,[r]=this.center,{extent:i,spatialReference:o}=this;let{xmin:s,xmax:a}=i;if(o.isWrappable){const e=Wve(o)/2;s=Math.max(s,r-e),a=Math.min(a,r+e)}return(n<s||n>a)&&(e[0]=b5(n,r,o)),e}getScreenTransform(e,t){const{center:n}=this._viewpoint2D,r=this._get("pixelRatio")||1,i=this._get("size");return Bve(e,n,i,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:n,rotation:r}=this._viewpoint2D,i=this._get("pixelRatio")||1,o=this._get("size"),s=new Bhe({targetGeometry:new sd(e[0],e[1],t),scale:n,rotation:r});if(this._set("viewpoint",s),!o||!t||!n)return;this.resolution=jve(s),this.rotation=r,this.scale=n,this.spatialReference=t,sge(this.center,e);const a=0!==o[0]?2/o[0]:0,l=0!==o[1]?-2/o[1]:0;mbe(this.displayMat3,a,0,0,0,l,0,-1,1,1);const c=ybe(this.viewMat3),u=Jbe(o[0]/2,o[1]/2),h=Jbe(-o[0]/2,-o[1]/2),p=cF(r);xbe(c,c,u),Sbe(c,c,p),xbe(c,c,h),_be(this.displayViewMat3,this.displayMat3,c);const d=ive(this.viewMat2d,u);return Qge(d,d,p),tve(d,d,h),Lve(this.extent,s,o),$ve(this.transform,s,o,i),Xge(this.inverseTransform,this.transform),Hve(this.transformNoRotation,s,o,i),this.worldScreenWidth=qve(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};S([To({readOnly:!0})],pwe.prototype,"id",void 0),S([To({value:1,json:{write:!0}})],pwe.prototype,"pixelRatio",null),S([To({json:{write:!0}})],pwe.prototype,"size",null),S([To()],pwe.prototype,"spatialReference",void 0),S([To({type:Bhe,json:{write:!0}})],pwe.prototype,"viewpoint",null),S([To({readOnly:!0})],pwe.prototype,"visibleArea",null),pwe=uwe=S([gs("esri.views.2d.ViewState")],pwe);const dwe=pwe;var fwe,mwe;let ywe=fwe=class extends Ms{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new fwe({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};S([To()],ywe.prototype,"left",void 0),S([To()],ywe.prototype,"top",void 0),S([To()],ywe.prototype,"right",void 0),S([To()],ywe.prototype,"bottom",void 0),ywe=fwe=S([gs("esri.views.2d.PaddedViewState.Padding")],ywe);let gwe=mwe=class extends dwe{constructor(...e){super(...e),this.paddedViewState=new dwe,this._updateContent=(()=>{const e=Hye();return()=>{const t=this._get("size"),n=this._get("padding");if(!t||!n)return;const r=this.paddedViewState;age(e,n.left+n.right,n.top+n.bottom),cge(e,t,e),sge(r.size,e);const i=r.viewpoint;i&&(this.viewpoint=i)}})(),this.addHandles(WR((()=>[this.size,this.padding]),(()=>this._updateContent()),eL)),this.padding=new ywe,this.size=[0,0]}set padding(e){this._set("padding",e||new ywe)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const n=this._get("padding");n&&(t=Yve(e.clone(),e,this._get("size"),n));const{targetGeometry:r,rotation:i,scale:o}=t,{x:s,y:a,spatialReference:l}=r,c=this._viewpoint2D;c.center[0]=s,c.center[1]=a,c.rotation=i,c.scale=o,c.spatialReference=l,this._update()}}clone(){return new mwe({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};S([To()],gwe.prototype,"paddedViewState",void 0),S([To({type:ywe})],gwe.prototype,"padding",null),S([To()],gwe.prototype,"viewpoint",null),gwe=mwe=S([gs("esri.views.2d.PaddedViewState")],gwe);const vwe=gwe;function bwe(e,t,n,r){const i=3*e,o=3*(n-e)-i,s=1-i-o,a=3*t,l=3*(r-t)-a,c=1-a-l;function u(e){return((s*e+o)*e+i)*e}function h(e){return((c*e+l)*e+a)*e}function p(e){return(3*s*e+2*o)*e+i}function d(e,t){let n,r,i,o,s,a;for(i=e,a=0;a<8;a++){if(o=u(i)-e,Math.abs(o)<t)return i;if(s=p(i),Math.abs(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=e,i<n)return n;if(i>r)return r;for(;n<r;){if(o=u(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i}return function(e,t=1e-6){return h(d(e,t))}}const wwe=/^cubic-bezier\((.*)\)/,_we={};function xwe(e){let t=_we[e]||null;if(!t){const n=wwe.exec(e);if(n){const e=n[1].split(",").map((e=>parseFloat(e.trim())));4!==e.length||e.some((e=>isNaN(e)))||(t=bwe.apply(bwe,e))}}return t}_we.ease=bwe(.25,.1,.25,1),_we.linear=bwe(0,0,1,1),_we.easeIn=_we["ease-in"]=bwe(.42,0,1,1),_we.easeOut=_we["ease-out"]=bwe(0,0,.58,1),_we.easeInOut=_we["ease-in-out"]=bwe(.42,0,.58,1);let Swe=class{constructor(e){this._view=e,this.viewpoint=new Bhe({targetGeometry:new sd,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,t]=this._view.size;return Math.sqrt(e*e+t*t)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return Uve(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,t){t.pan=Jp(this.center,e.center);let n=Math.abs(e.rotation-this.rotation);n=n>=180?360-n:n,t.rotate=Xm(n),t.sourceZoom=this.scale,t.targetZoom=e.scale}interpolate(e,t,n){const{pan:r,rotate:i,zoom:o,zoomOffset:s}=n,{center:a}=this;a.spatialReference=e.center.spatialReference,a.x=Zm(e.center.x,t.center.x,r),a.y=Zm(e.center.y,t.center.y,r),this.viewpoint.scale=Zm(e.scale,t.scale+s,o);let l=e.rotation;const c=t.rotation;Math.abs(c-l)>=180&&(l+=360*(l<c?1:-1)),this.viewpoint.rotation=Zm(l,c,i)}copyFrom(e){kve(this.viewpoint,e.viewpoint),this._view=e.view}};const Twe=e=>e*e,Ewe=e=>1-Twe(1-e),Mwe=e=>2**(10*(e-1)),Awe=e=>1-Mwe(1-e);function Iwe(e){const t=2*(e-Math.sqrt((e-1)*e)),n=t/2/e;return r=>r<n?e*r*r:t*r-t+1}function Cwe(e,t){return(n,r)=>n<t?t*e(n/t,r):1-e((1-n)/(1-t),r)*(1-t)}const Owe=Cwe(Iwe(1),.5);let kwe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const Rwe={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},Lwe={...Rwe,maxDuration:4e3};let Nwe=class e{constructor(e){this._createCamera=e,this.compared=new kwe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:Rwe.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const t=new e(this._createCamera);return t.copyFrom(this),t}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,t,n){this.source!==e&&this.source.copyFrom(e),this.target!==t&&this.target.copyFrom(t),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=n.desiredScreenFlow??Rwe.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const t=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/t}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>iF()}get hasFov(){return Math.abs(this.compared.fov)>iF()}get hasRotate(){return this.compared.rotate>iF()}},Pwe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},Dwe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce(((e,t)=>e+t.time),0)}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),e*=this.time;let n=0,r=0;const i=this.definition,o=this.segments.reduce(((e,t)=>e||t.definition.hasZoom),!1);for(let s=0;s<this.segments.length;s++){const a=this.segments[s],l=a.definition;if(e<=a.time||s===this.segments.length-1){if(this.segmentInterpolateComponentsAt(a,0===a.time?0:e/a.time,t),i.hasPan&&!isNaN(t.pan)&&isFinite(i.compared.pan)?t.pan=(n+l.compared.pan*t.pan)/i.compared.pan:t.pan=1,i.hasRotate&&!isNaN(t.rotate)&&isFinite(i.compared.rotate)?t.rotate=(r+l.compared.rotate*t.rotate)/i.compared.rotate:t.rotate=1,o&&!isNaN(t.zoom)&&isFinite(l.compared.targetZoom)){const{sourceZoom:e,targetZoom:n}=l.compared,r=t.zoom*(n-e)+e,i=this.segments[0].definition.compared.sourceZoom,o=this.segments[this.segments.length-1].definition.compared.targetZoom,s=Math.abs(n-i)>Math.abs(e-i)?n:e;t.zoomOffset=s-o,t.zoom=(r-i)/(s-i)}else t.zoom=1;return t}e-=a.time,n+=l.compared.pan,r+=l.compared.rotate}}segmentInterpolateComponentsAt(e,t,n){e.interpolateComponentsAt(t,n)}},Fwe=class{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,t=e.compared,n=t.sourceZoom,r=t.targetZoom;this._zoomSign=n>r?1:-1,this._panPixelsAtSource=t.pan*e.source.pixelsPerPanAtZoom(n);const i=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=t.rotate*i}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,t=this.definition.compared.targetZoom,{hasZoom:n,hasPan:r,hasRotate:i}=this.definition;let o=0,s=0;n&&(r&&(o=(t/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),i&&(s=this._zoomSign*(Math.log(e/t)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const a=this.definition.desiredPixelFlow;if(n&&r&&i){const e=o+s+o*s;this._zoomPixelFlow=o*s/e*a,this._panPixelFlow=s/e*a,this._rotatePixelFlow=o/e*a}else if(n&&r){const e=1+o;this._zoomPixelFlow=o/e*a,this._panPixelFlow=1/e*a}else if(n&&i){const e=1+s;this._zoomPixelFlow=s/e*a,this._rotatePixelFlow=1/e*a}else if(r&&i){const e=this._panPixelsAtSource/this._rotatePixels,t=1+e;this._panPixelFlow=e/t*a,this._rotatePixelFlow=1/t*a}else r?this._panPixelFlow=a:n?this._zoomPixelFlow=a:i&&(this._rotatePixelFlow=a);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const e=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=e,this._panPixelFlow/=e,this._rotatePixelFlow/=e}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/jwe:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,t=e*this._panPixelsAtSource;return Math.log(t*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(e){if(0===e||1===e)return e;if(this.definition.hasZoom){const t=this.definition.compared.sourceZoom,n=this.definition.compared.targetZoom;return(t*(t/n)**-e-t)/(n-t)}return e}_interpolateComponentsFov(e){if(0===e)return this.definition.segmentStart;if(1===e)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:t,segmentEnd:n}=this.definition;return t+e*(n-t)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(0===e||1===e)return e;if(this.definition.hasPan&&this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(t*e*this._time)-1))/(t*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),t.zoom=this._interpolateComponentsZoom(e),t.pan=this._interpolateComponentsPan(e),t.rotate=this._interpolateComponentsRotate(e),t.zoomOffset=0,t.fov=this._interpolateComponentsFov(e)}};const jwe=Xm(45);function Uwe(e,t,n){const r=t-e.compared.sourceZoom,i=e.halfWindowPanAtZoom(r);return-e.halfWindowSize*(n.ascensionFactor*Math.LN2*e.compared.pan+i)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*i)}function zwe(e,t,n){const r=1/t,i=Math.log(e.compared.sourceZoom*r),o=1/e.desiredPixelFlow,s=1/Math.LN2,a=t-e.compared.sourceZoom,l=1/a,c=(n.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(a))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*o*s*l*c-e.halfWindowSize*i*o*s*l+e.halfWindowSize*i*o*s*c/(a*a)}function Gwe(e,t,n){const r=t-e.compared.sourceZoom,i=1/r,o=1/t,s=Math.log(e.compared.sourceZoom*o),a=(n.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(r))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*o*a+2*i*s+2*o-2*s*a/(r*r)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Vwe(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function Bwe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function $we(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function Hwe(e,t,n){return-e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function Wwe(e,t,n){return e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function qwe(e,t,n){return-2*e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function Zwe(e,t,n){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-n.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function Ywe(e,t,n){const r=Math.log(t/e.compared.targetZoom),i=1/e.desiredPixelFlow,o=1/Math.LN2,s=-t+e.compared.targetZoom,a=1/s,l=(-e.halfWindowPanAtZoom(t)-n.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*r*i*o*a+e.halfWindowSize*r*i*o*l/(s*s)+e.halfWindowSize*i*o*a*l/t}function Xwe(e,t,n){const r=t-e.compared.targetZoom,i=1/r,o=1/t,s=Math.log(t/e.compared.targetZoom),a=(e.halfWindowPanAtZoom(t)+n.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*o*a-2*i*s+2*o+2*s*a/(r*r)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Jwe(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function Kwe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function Qwe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function e_e(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(0===t)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const n=Math.LN2*e.compared.pan,r=t,i=e.halfWindowPanAtZoom(r),o=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*i);return e.compared.sourceZoom<=e.compared.targetZoom?o*(n-i):o*(n+i)}function t_e(e,t){let n=n_e(e,t);const r={ascensionFactor:null!=t.ascensionFactor?t.ascensionFactor:.5,descensionFactor:null!=t.descensionFactor?t.descensionFactor:.5},i=0===r.ascensionFactor,o=0===r.descensionFactor,s=i?Vwe:Uwe,a=i?Bwe:zwe,l=i?$we:Gwe,c=o?Jwe:Zwe,u=o?Kwe:Ywe,h=o?Qwe:Xwe,p=t=>s(e,t,r)+Hwe(e,t,r)+c(e,t,r),d=t=>a(e,t,r)+Wwe(e,t,r)+u(e,t,r),f=t=>l(e,t,r)+qwe(e,t,r)+h(e,t,r);let m=p(n);const y=e_e(e);let g;const v=t.maximumIterations||20,b=null!=t.maximumDistance?t.maximumDistance:1/0;for(g=0;g<v;g++){const r=t.desiredSlope??1e-6;let i=d(n);Math.abs(i)>r&&(i+=r);const o=i/f(n);if(isNaN(o)||n>=b&&o<0){if(!isFinite(b))return null;n=b,m=p(n);break}if(n-=o,n<e.compared.sourceZoom||n<e.compared.targetZoom)return null;const s=p(n);if(Math.abs(s-m)/m<=.005)break;m=s}return m>.7*y||n<e.compared.sourceZoom||n<e.compared.targetZoom?null:n}function n_e(e,t){const n=Math.max(e.compared.sourceZoom,e.compared.targetZoom),r=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return r<n?null!=t.maximumDistance?n+(t.maximumDistance-n)/2:1.5*n:t.maximumDistance?Math.min(t.maximumDistance,r):r}let r_e=class extends Dwe{constructor(e,t){super(),this._preallocSegments=[new Fwe,new Fwe,new Fwe],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,t)}update(e,t){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const n=t?.apex?t_e(e,t.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,n?this._updateWithApex(n,t?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,t,n){e.interpolateComponentsAt(t,n),e===this._ascensionSegment?n.zoom=Ewe(n.zoom):e===this._descensionSegment&&(n.zoom=Twe(n.zoom))}_updateWithApex(e,t){const[n,r,i]=this._preallocSegments,o=t?.ascensionFactor??.5,s=Math.min(1-o,null!=t?.ascensionFactor&&null!=t.descensionFactor?t.descensionFactor:.5),a=1-o-s;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=e,n.definition.compared.pan=this.definition.compared.pan*o,n.definition.compared.rotate=this.definition.compared.rotate*o,n.definition.segmentEnd=o,n.update(),this._ascensionSegment=n,this.segments.push(n),a>0&&(r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.copyFrom(this.definition),r.definition.compared.sourceZoom=e,r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*a,r.definition.compared.rotate=this.definition.compared.rotate*a,r.definition.segmentStart=n.definition.segmentEnd,r.definition.segmentEnd=n.definition.segmentEnd+a,r.update(),this.segments.push(r)),i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.compared.sourceZoom=e,i.definition.compared.pan=this.definition.compared.pan*s,i.definition.compared.rotate=this.definition.compared.rotate*s,i.definition.segmentStart=o+a,i.update(),this._descensionSegment=i,this.segments.push(i)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}};const i_e=new Pwe;let o_e=class{get time(){return this._time}get isLinear(){return 1===this.path.segments.length}constructor(e){this._time=0,this._easing=Owe,this.definition=new Nwe(e),this.path=new r_e}update(e,t,n){this.definition.update(e,t,n),this.path.update(this.definition,n),this._time=this._applyTimeSettings(Mr(isFinite(this.path.time)?this.path.time:0),n),this._easing=n.easing??(this._time>=1e3?Owe:Awe)}cameraAt(e,t){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const n=this.path.interpolateComponentsAt(e,i_e);t.interpolate(this.definition.source,this.definition.target,n)}_normalizedEasing(e){const t=this._easing(0,this._time),n=this._easing(1,this._time);return(this._easing(e,this._time)-t)/(n-t)}_applyTimeSettings(e,t){const n=null!=t.speedFactor?t.speedFactor:1,r=t.minDuration??Rwe.minDuration/n,i=t.maxDuration??Rwe.maxDuration/n;return null!=t.duration?t.duration:Math.min(Math.max(e/n,r),i)}};const s_e=2e3,a_e=64;let l_e=class{constructor(e){this._view=e,this._animation=new o_e((()=>new Swe(this._view))),this._current=new Swe(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,t,n={}){kve(this._current.viewpoint,e),kve(this._source.viewpoint,e),kve(this._target.viewpoint,t),this._animation.update(this._source,this._target,n)}applyRatio(e,t){this._animation.cameraAt(t,this._current),kve(e,this._current.viewpoint)}},c_e=class extends Ms{constructor(e){super(e),this._animation=null,this._destinationViewState=new vwe,this.updateFunction=null,this.easing=_we.ease,this.viewpoint=new Bhe({targetGeometry:new sd,scale:0,rotation:0}),this._updateTask=Ur({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new l_e(e.view)}destroy(){this._updateTask=gt(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,t,n){this.stop();const r=this.viewpoint;kve(r,t);const i=("string"==typeof n?.easing?xwe(n.easing):n?.easing)||this.easing,o=e.target;this._transition.update(this.viewpoint,o,{apex:{maximumDistance:Math.min(Math.min(t.scale,o.scale)*a_e,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:n?.duration,maxDuration:"auto"===n?.animationMode?1/0:n?.maxDuration??Lwe.maxDuration,speedFactor:n?.speedFactor,easing:"function"==typeof i?e=>i(e):void 0}),"auto"===n?.animationMode&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=o,u_e(this._transition.animation,n,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,o,{duration:0}));const s=()=>{this.animation===e&&this._updateTask&&("finished"===e.state&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const n=new oge({target:e.clone()}),r=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==oge.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),this.animation?.update(this.viewpoint);else{const e=performance.now()-this._startTime,t=this._transition.duration,n=t>0?e/t:1,r=n>=1;this._transition.applyRatio(this.viewpoint,n),r&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function u_e(e,t,n,r){if(null!=t?.duration)return!0;const{time:i,isLinear:o}=e,s=t?.speedFactor||1,a=t?.maxDuration??Lwe.maxDuration/s;if(A("esri-goto-debug")&&(console.log("speed factor:",s),console.log("adjusted duration:\t\t",i),console.log("adjusted max duration:\t",a),console.log("is linear:",o)),i>a)return A("esri-goto-debug")&&console.warn(`failed "auto" heuristic: animations must be shorter than ${a/1e3}s`),!1;if(o){const e=Hye(),t=UI(...r.toScreen(e,...n.center)),o=UI(...n.toScreen(e,...r.center)),l=null!=o&&o.x>-1*n.size[0]&&o.x<2*n.size[0]&&o.y>-1*n.size[1]&&o.y<2*n.size[1],c=null!=t&&t.x>-1*r.size[0]&&t.x<2*r.size[0]&&t.y>-1*r.size[1]&&t.y<2*r.size[1];if(A("esri-goto-debug")&&(console.log("dest is within 1.5 screens at start view:",l),console.log("start is within 1.5 screens at dest view:",c)),i>s_e/s&&!l&&!c)return A("esri-goto-debug")&&console.warn(`failed "auto" heuristic: linear animations must be...\n  - shorter than ${s_e/1e3/s}s, or\n  - shorter than ${a/1e3}s and the destination is close enough to the starting screen, or\n  - shorter than ${a/1e3}s and the start point is close enough to the destination screen`),!1}return!0}S([To()],c_e.prototype,"easing",void 0),S([To()],c_e.prototype,"view",void 0),S([To()],c_e.prototype,"viewpoint",void 0),c_e=S([gs("esri.views.2d.AnimationManager")],c_e);const h_e=c_e;var p_e;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(p_e||(p_e={}));const d_e=Symbol("Yield");let f_e=class{constructor(){this._tasks=new Array,this._runningTasks=Vfe(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(e){if(0===this.length)return d_e;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,n){return++this._runningTasks.value,new Promise(((r,i)=>this._tasks.push(new m_e(r,i,e,t,n)))).finally((()=>--this._runningTasks.value))}unshift(e,t,n){return++this._runningTasks.value,new Promise(((r,i)=>this._tasks.unshift(new m_e(r,i,e,t,n)))).finally((()=>--this._runningTasks.value))}_process(e){if(0===this._tasks.length)return!1;const t=this._tasks.shift();try{const n=ar(t.signal);if(n&&!t.abortCallback)t.reject(ir());else{const r=n?t.abortCallback?.(ir()):t.callback(e);wr(r)?r.then(t.resolve,t.reject):t.resolve(r)}}catch(n){t.reject(n)}return!0}cancelAll(){const e=ir();for(const t of this._tasks)if(t.abortCallback){const n=t.abortCallback(e);t.resolve(n)}else t.reject(e);this._tasks.length=0}},m_e=class{constructor(e,t,n,r=void 0,i=void 0){this.resolve=e,this.reject=t,this.callback=n,this.signal=r,this.abortCallback=i}},y_e=class extends Ms{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};S([To()],y_e.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),S([To()],y_e.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),y_e=S([gs("esri.views.support.debugFlags")],y_e);const g_e=new y_e;function v_e(){return new C_e.Scheduler}var b_e;(function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"})(b_e||(b_e={}));const w_e=0,__e=new Map([[b_e.RESOURCE_CONTROLLER_IMMEDIATE,w_e],[b_e.RESOURCE_CONTROLLER,4],[b_e.SLIDE,w_e],[b_e.STREAM_DATA_LOADER,w_e],[b_e.ELEVATION_QUERY,w_e],[b_e.TERRAIN_SURFACE,1],[b_e.SURFACE_GEOMETRY_UPDATES,1],[b_e.LOD_RENDERER,2],[b_e.GRAPHICS_CORE,2],[b_e.I3S_CONTROLLER,2],[b_e.POINT_CLOUD_LAYER,2],[b_e.FEATURE_TILE_FETCHER,2],[b_e.CLOUDS_GENERATOR,2],[b_e.OVERLAY,4],[b_e.STAGE,4],[b_e.GRAPHICS_DECONFLICTOR,4],[b_e.FILTER_VISIBILITY,4],[b_e.SCALE_VISIBILITY,4],[b_e.FRUSTUM_VISIBILITY,4],[b_e.POINT_OF_INTEREST_FREQUENT,6],[b_e.POINT_OF_INTEREST_INFREQUENT,30],[b_e.LABELER,8],[b_e.FEATURE_QUERY_ENGINE,8],[b_e.FEATURE_TILE_TREE,16],[b_e.FEATURE_TILE_TREE_ACTIVE,w_e],[b_e.ELEVATION_ALIGNMENT,12],[b_e.ELEVATION_ALIGNMENT_SCENE,14],[b_e.TEXT_TEXTURE_ATLAS,12],[b_e.TEXTURE_UNLOAD,12],[b_e.LINE_OF_SIGHT_TOOL,16],[b_e.LINE_OF_SIGHT_TOOL_INTERACTIVE,w_e],[b_e.SNAPPING,w_e],[b_e.SHADOW_ACCUMULATOR,30],[b_e.MAPVIEW_FETCH_QUEUE,w_e],[b_e.MAPVIEW_LAYERVIEW_UPDATE,2],[b_e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,w_e]]);function x_e(e){return __e.has(e)?__e.get(e):"number"==typeof e?e:1}const S_e=6.5,T_e=1,E_e=30,M_e=1e3/30,A_e=100,I_e=.9;var C_e,O_e;(function(e){class t{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some((e=>e.needsUpdate))}constructor(){this._updating=Vfe(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new Bn("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new r,this._state=p_e.INTERACTING,this._tasks=new Zn,this._runQueue=new Zn,this._load=0,this._idleStateCallbacks=new Zn,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=WR((()=>g_e.SCHEDULER_LOG_SLOW_TASKS),(e=>this._debug=e),tL);for(const e of Object.keys(b_e))this.performanceInfo.tasks.set(b_e[e],new Bn(b_e[e]))}destroy(){this._tasks.toArray().forEach((e=>e.remove())),this._tasks.clear(),gt(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask((()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())})))}registerTask(e,t){const r=new n(this,e,t);return this._tasks.push(r),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new Bn(e)),r}registerIdleStateCallbacks(e,t){const n={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(n),this.state===p_e.IDLE&&this._idleUpdatesStartFired&&n.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(n),set idleBegin(e){r._idleUpdatesStartFired&&(n.idleEnd(),r._state===p_e.IDLE&&e()),n.idleBegin=e},set idleEnd(e){n.idleEnd=e}}}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,this.state!==p_e.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return this._state}updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let t=S_e,n=e.frameDuration,r=T_e;switch(this.state){case p_e.IDLE:t=0,n=Math.max(A_e,e.frameDuration),r=E_e;break;case p_e.INTERACTING:n=Math.max(M_e,e.frameDuration);case p_e.ANIMATING:}return n=n-e.elapsedFrameTime-t,this.state!==p_e.IDLE&&n<T_e&&!this._forceTask?(this._forceTask=!0,!1):(n=Math.max(n,r),this._budget.reset(n,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case p_e.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case p_e.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e),this._updatingChanged()}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return O_e.SCHEDULED;let t=O_e.IDLE;return this._tasks.forAll((n=>{n.name===e&&n.needsUpdate&&(n.schedulePriority<=1?t=O_e.READY:t!==O_e.READY&&(t=O_e.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((n=>{n.name===e&&(t+=n.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t="";return e.forEach(((e,n)=>{t+=e>1?` ${e}x ${n}`:` ${n}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=this._load*I_e+e*(1-I_e)}_schedule(){for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1))),this._tasks.forAll((e=>{e.basePriority===w_e&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((n=>{n.needsUpdate&&0!==n.schedulePriority&&n.basePriority!==w_e&&n.blockFrame!==this._frameNumber&&(e=!0,t=Math.max(t,n.basePriority),1===n.schedulePriority?(n.schedulePriority=0,this._runQueue.push(n)):--n.schedulePriority)})),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const e=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const n=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.task.runTask(this._budget)===d_e&&(r.blockFrame=this._frameNumber)}catch(t){Ye.getLogger("esri.views.support.Scheduler").error(`Exception in task "${r.name}"`,t),r.blockFrame=this._frameNumber}!this._budget.hasProgressed&&r.blockFrame!==this._frameNumber&&r.needsUpdate&&(r.name,b_e.I3S_CONTROLLER,r.blockFrame=this._frameNumber),r.schedulePriority=r.basePriority;const i=this._budget.now()-n;if(r.runtime+=i,this._frameTaskTimes.set(r.priority,this._frameTaskTimes.get(r.priority)+i),this._budget.remaining<=0)return this._updatingChanged(),void this._recordFrameTaskTimes(this._budget.now()-e)}}while(this._schedule());this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-e)}_startFrameTaskTimes(){for(const e of Object.keys(b_e))this._frameTaskTimes.set(b_e[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach(((e,t)=>this.performanceInfo.tasks.get(t).push(e))),this.performanceInfo.total.push(e)}get test(){return this._test}}e.Scheduler=t;class n{get task(){return this._task.value}get updating(){return this._queue.running}constructor(e,t,n){this._scheduler=e,this.name=t,this.blockFrame=0,this.runtime=0,this._queue=new f_e,this._handles=new ut,this._basePriority=x_e(t),this.schedulePriority=this._basePriority,this._task=Vfe(n??this._queue),this._handles.add(qR((()=>this.task.running),(t=>e.taskRunningChanged(t))))}remove(){this.processQueue(k_e),this._scheduler.removeTask(this),this.schedule=L_e.schedule,this.reschedule=L_e.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;const t=x_e(e);this._basePriority!==w_e&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,n){return this._queue.push(e,t,n)}reschedule(e,t,n){return this._queue.unshift(e,t,n)}processQueue(e){return this._queue.runTask(e)}}class r{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=p_e.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=r})(C_e||(C_e={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(O_e||(O_e={}));const k_e=(()=>{const e=new C_e.Budget;return e.enabled=!1,e})();let R_e=class{remove(){}processQueue(){}schedule(e,t,n){try{if(ar(t)){const e=ir();return n?Promise.resolve(n(e)):Promise.reject(e)}return _r(e(k_e))}catch(r){return Promise.reject(r)}}reschedule(e,t,n){return this.schedule(e,t,n)}};const L_e=new R_e;let N_e=class{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=v_e(),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),null==this.view.animation?.target||wr(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=e=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:t,graphicsView:n,labelManager:r,state:{id:i}}=this.view;t.forEach(this._updateLayerView,this),null!=r&&(r.lastUpdateId!==i&&(r.viewChange(),r.lastUpdateId=i),r.updateRequested&&r.processUpdate(this._updateParameters)),null!=n&&(n.lastUpdateId!==i&&(n.viewChange(),n.lastUpdateId=i),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=p_e.ANIMATING:this.view.interacting?this._scheduler.state=p_e.INTERACTING:this._scheduler.state=p_e.IDLE,this._scheduler.updateBudget(e)&&this._scheduler.frame()}}destroy(){this.stop(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new vwe,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=WR((()=>e.stationary),(e=>{this.stationary=e,this.requestFrame()})),this._frameTaskHandle=Ur(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){if(!e.attached)return void this.requestUpdate();const t=this.view.state,n=e.lastUpdateId;null!=n&&(this.stationary||e.moving)||(e.moving=!0),n!==t.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=t.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews?.forEach(this._updateLayerView,this)}},P_e=class extends Ms{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,t){if(!e)return void Ye.getLogger(this).error("#goTo()","target cannot be null or undefined");const n=new oge;this.view.animation=n,await XR((()=>this.view.ready),t);const r={...t,animate:t?.animate??!bye(),animationMode:t?.animationMode??"auto"},{extent:i,spatialReference:o,size:s,viewpoint:a,constraints:l,padding:c,allLayerViews:u}=this.view,h=Ove(e,{extent:i,spatialReference:o,size:s,viewpoint:a,constraints:l,padding:c,allLayerViews:u,pickClosestTarget:t?.pickClosestTarget??!0});return n?.update(h),this._gotoTask={},r.animate?this._gotoAnimated(h,r):this._gotoImmediate(h,r)}_gotoImmediate(e,t){const n=this._gotoTask,r=this.view.animation,i=e.then((e=>{if(or(t),n!==this._gotoTask)throw new et("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=r.target=e,r.finish()}));return this._cancellableGoTo(n,r,i,t)}_gotoAnimated(e,t){const n=this._gotoTask,r=this.view.animation;if(!r)return Promise.resolve();const i=e.then((e=>{if(or(t),n!==this._gotoTask)throw new et("view:goto-interrupted","Goto was interrupted");return r.update(e),this.view.animationManager.animate(r,this.view.viewpoint,t),r.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(n,r,i,t)}_cancellableGoTo(e,t,n,r){const i=()=>e===this._gotoTask;return pr(n,r).finally((()=>{i()&&(t.done||t.stop())}))}};function D_e(){return Promise.all([Promise.all([n.e(9558),n.e(2230)]).then(n.bind(n,52230)),Promise.all([n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(2347),n.e(3694),n.e(8960),n.e(9868),n.e(5479)]).then(n.bind(n,55479))])}S([To({constructOnly:!0})],P_e.prototype,"view",void 0),P_e=S([gs("esri.views.2d.GoToManager")],P_e);const F_e=()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(2347),n.e(3694),n.e(6485),n.e(3753),n.e(7302)]).then(n.bind(n,97302)))),j_e=()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(9060),n.e(6004),n.e(8253),n.e(1302)]).then(n.bind(n,71302)).then((e=>e.F)))),U_e={"base-dynamic":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(6703)]).then(n.bind(n,36703)))),"base-tile":F_e,"bing-maps":F_e,catalog:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(2222)]).then(n.bind(n,42222)))),"catalog-dynamic-group":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(685)]).then(n.bind(n,80685)))),"catalog-footprint":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(9060),n.e(6004),n.e(8253),n.e(1302),n.e(7177)]).then(n.bind(n,7177)))),csv:j_e,"geo-rss":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(9516)]).then(n.bind(n,89516)))),feature:j_e,geojson:j_e,parquet:j_e,graphics:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(9031)]).then(n.bind(n,9031)))),group:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(5419)]).then(n.bind(n,45419)))),imagery:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(3753),n.e(9224),n.e(9888)]).then(n.bind(n,69888)))),"imagery-tile":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(9224),n.e(1321)]).then(n.bind(n,11321)))),kml:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(8960),n.e(6607)]).then(n.bind(n,73978)))),"knowledge-graph":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(4754)]).then(n.bind(n,94754)))),"link-chart":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(4754)]).then(n.bind(n,94754)))),"knowledge-graph-sublayer":j_e,"map-image":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(6485),n.e(3753),n.e(8735)]).then(n.bind(n,38735)))),"map-notes":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(2233)]).then(n.bind(n,62233)))),media:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(2347),n.e(3694),n.e(756)]).then(n.bind(n,30756)))),"ogc-feature":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(9060),n.e(6004),n.e(8253),n.e(1302),n.e(479)]).then(n.bind(n,50479)))),"open-street-map":F_e,"oriented-imagery":j_e,route:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(1555),n.e(711)]).then(n.bind(n,90711)))),stream:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(9060),n.e(6004),n.e(8253),n.e(1302),n.e(5975)]).then(n.bind(n,75975)))),"subtype-group":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(9060),n.e(6004),n.e(8253),n.e(1302),n.e(3566)]).then(n.bind(n,73566)))),tile:F_e,"vector-tile":()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4789),n.e(9341)]).then(n.bind(n,29341)))),video:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(1413)]).then(n.bind(n,71413)))),wcs:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(9224),n.e(1321)]).then(n.bind(n,11321)))),"web-tile":F_e,wfs:j_e,wms:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(1079)]).then(n.bind(n,41079)))),wmts:()=>D_e().then((()=>Promise.all([n.e(1609),n.e(9558),n.e(8006),n.e(2177)]).then(n.bind(n,72177)))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,focusArea:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function z_e(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",n=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new et(`${n}:view-not-supported`,`${t} is not supported in 2D`)}const G_e={hasLayerViewModule:e=>null!=U_e[e.type],importLayerView:e=>{const t=U_e[e.type];if(null==t)throw z_e(e);return t(e)}};function V_e(e,t){const{spatialReference:n}=t,r=[t.x,t.y];let i=Number.POSITIVE_INFINITY,o=0,s=0;const a=[0,0],l="extent"===e.type?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const c of l)for(let e=0;e<c.length-1;e++){Cy(a,r,c,e);const t=bge(r,a);t<i&&(i=t,o=a[0],s=a[1])}return{coordinate:new sd({x:o,y:s,spatialReference:n}),distance:i}}var B_e;let $_e=B_e=class extends(oI(Ms)){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return f2(this.geometry,this.spatialReference)}catch(e){return Ye.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(null==this.normalizedGeometry)return e;const n=e.targetGeometry;if("extent"===this.normalizedGeometry.type?ld(this.normalizedGeometry,n):fd(this.normalizedGeometry,n))return e;const{coordinate:r}=V_e(this.normalizedGeometry,n);return r&&(e.targetGeometry=r),e}clone(){return new B_e({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};var H_e;S([To({constructOnly:!0})],$_e.prototype,"geometry",void 0),S([To({readOnly:!0})],$_e.prototype,"normalizedGeometry",null),S([To({constructOnly:!0})],$_e.prototype,"spatialReference",void 0),$_e=B_e=S([gs("esri.views.2d.constraints.GeometryConstraint")],$_e);let W_e=H_e=class extends(oI(Ms)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new H_e({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};S([To()],W_e.prototype,"enabled",void 0),S([To()],W_e.prototype,"rotationEnabled",void 0),W_e=H_e=S([gs("esri.views.2d.constraints.RotationConstraint")],W_e);const q_e=W_e;var Z_e;let Y_e=Z_e=class extends(oI(Ms)){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:n,maxScale:r,minZoom:i,maxZoom:o}=this,s=-1,a=-1,l=!1,c=!1;if(0!==n&&0!==r&&n<r&&([n,r]=[r,n]),!t?.length)return this._set("effectiveMinScale",n),void this._set("effectiveMaxScale",r);t=t.map((e=>e.clone())),t.sort(((e,t)=>t.scale-e.scale)),t.forEach(((e,t)=>e.level=t));for(const u of t)!l&&n>0&&n>=u.scale&&(s=u.level,l=!0),!c&&r>0&&r>=u.scale&&(a=e?e.level:-1,c=!0),e=u;-1===i&&(i=0===n?0:s),-1===o&&(o=0===r?t.length-1:a),i=Math.max(i,0),i=Math.min(i,t.length-1),o=Math.max(o,0),o=Math.min(o,t.length-1),i>o&&([i,o]=[o,i]),n=t[i].scale,r=t[o].scale,t.splice(0,i),t.splice(o-i+1,t.length),t.forEach(((e,t)=>{this._lodByScale[e.scale]=e,this._scales[t]=e.scale})),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",o),this._set("effectiveMinScale",n),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const n=this.effectiveMinScale,r=this.effectiveMaxScale,i=e.targetGeometry,o=t&&t.targetGeometry,s=0!==r&&e.scale<r,a=0!==n&&e.scale>n;if(s||a){const s=a?n:r;if(t&&o){const n=(s-t.scale)/(e.scale-t.scale);i.x=o.x+(i.x-o.x)*n,i.y=o.y+(i.y-o.y)*n}e.scale=s}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),n=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(n>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const n=Math.floor(e),r=Math.ceil(e);return t[n]+(e-n)*(t[r]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let n,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(n=t[i],r=t[i+1],r===e)return i+this.effectiveMinZoom+1;if(n>e&&r<e)return i+this.effectiveMinZoom+1-(e-r)/(n-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n-1)}clone(){return new Z_e({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce(((t,n)=>Math.abs(n-e)<=Math.abs(t-e)?n:t),this._scales[0])),this._lodByScale[e].scale}};S([To({readOnly:!0})],Y_e.prototype,"effectiveLODs",void 0),S([To({readOnly:!0})],Y_e.prototype,"effectiveMinZoom",void 0),S([To({readOnly:!0})],Y_e.prototype,"effectiveMaxZoom",void 0),S([To({readOnly:!0})],Y_e.prototype,"effectiveMinScale",void 0),S([To({readOnly:!0})],Y_e.prototype,"effectiveMaxScale",void 0),S([To()],Y_e.prototype,"lods",void 0),S([To()],Y_e.prototype,"minZoom",void 0),S([To()],Y_e.prototype,"maxZoom",void 0),S([To()],Y_e.prototype,"minScale",void 0),S([To()],Y_e.prototype,"maxScale",void 0),S([To()],Y_e.prototype,"snapToZoom",void 0),Y_e=Z_e=S([gs("esri.views.2d.constraints.ZoomConstraint")],Y_e);const X_e=Y_e,J_e={base:null,key:"type",typeMap:{extent:Gd,polygon:nv}};let K_e=class extends Ms{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new Rc}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const e=this._get("_geometry");return e&&this.geometry===e.geometry&&this.view?.constraintsInfo.spatialReference===e.spatialReference?e:new $_e({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new q_e({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),t=this.lods||this.view?.constraintsInfo.lods,n=this.minZoom,r=this.maxZoom,i=this.minScale,o=this.maxScale,s=this.snapToZoom;return e&&e.lods===t&&e.minZoom===n&&e.maxZoom===r&&e.minScale===i&&e.maxScale===o&&e.snapToZoom===s?e:new X_e({lods:t,minZoom:n,maxZoom:r,minScale:i,maxScale:o,snapToZoom:s})}canZoomInTo(e){const t=this.effectiveMaxScale;return 0===t||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return 0===t||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),this.customConstraints.forEach((n=>n.constrain(e,t))),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach((t=>t.applyPanConstraint?.(e))),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};S([To({readOnly:!0})],K_e.prototype,"effectiveLODs",null),S([To({readOnly:!0})],K_e.prototype,"effectiveMinScale",null),S([To({readOnly:!0})],K_e.prototype,"effectiveMaxScale",null),S([To({readOnly:!0})],K_e.prototype,"effectiveMinZoom",null),S([To({readOnly:!0})],K_e.prototype,"effectiveMaxZoom",null),S([To({types:J_e,value:null})],K_e.prototype,"geometry",null),S([To({type:[ple]})],K_e.prototype,"lods",void 0),S([To()],K_e.prototype,"minScale",void 0),S([To()],K_e.prototype,"maxScale",void 0),S([To()],K_e.prototype,"minZoom",void 0),S([To()],K_e.prototype,"maxZoom",void 0),S([To()],K_e.prototype,"rotationEnabled",void 0),S([To()],K_e.prototype,"snapToZoom",void 0),S([To({type:Rc})],K_e.prototype,"customConstraints",void 0),S([To()],K_e.prototype,"view",void 0),S([To({readOnly:!0})],K_e.prototype,"version",null),S([To({type:$_e,readOnly:!0})],K_e.prototype,"_geometry",null),S([To({type:q_e})],K_e.prototype,"_rotation",null),S([To({readOnly:!0,type:X_e})],K_e.prototype,"_zoom",null),K_e=S([gs("esri.views.2d.MapViewConstraints")],K_e);const Q_e=K_e;let exe=class e{static getId(e,t,n,r){return"object"==typeof e?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${t}/${n}/${r}`}constructor(e,t,n,r){this.set(e,t,n,r)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,t=4095&this.col,n=63&this.level;return(3&this.world)<<30|t<<22|e<<8|n}acquire(e,t,n,r){this.set(e,t,n,r)}contains(e){const t=e.level-this.level;return t>=0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}containsChild(e){const t=e.level-this.level;return t>0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new e(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,t,n,r){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){const[t,n,r,i]=e.split("/");this.level=parseFloat(t),this.row=parseFloat(n),this.col=parseFloat(r),this.world=parseFloat(i)}else this.level=+e,this.row=+t,this.col=+n,this.world=+r||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,t,n){const r=this.clone();return r.col+=e,r.row+=t,n.normalizeKey(r),r}getChildKeys(){const t=this.level+1,n=this.row<<1,r=this.col<<1,i=this.world;return[new e(t,n,r,i),new e(t,n,r+1,i),new e(t,n+1,r,i),new e(t,n+1,r+1,i)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}};function txe(e,t){return[e,t]}function nxe(e,t,n){return e[0]=t,e[1]=n,e}function rxe(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}exe.pool=new Xt(exe,null,null,25,50);const ixe=new exe("0/0/0/0");let oxe=class e{static create(t,n,r=null){const i=eh(t.spatialReference),o=n.origin||txe(t.origin.x,t.origin.y),s=txe(t.size[0]*n.resolution,t.size[1]*n.resolution),a=txe(-1/0,-1/0),l=txe(1/0,1/0),c=txe(1/0,1/0);null!=r&&(nxe(a,Math.max(0,Math.floor((r.xmin-o[0])/s[0])),Math.max(0,Math.floor((o[1]-r.ymax)/s[1]))),nxe(l,Math.max(0,Math.floor((r.xmax-o[0])/s[0])),Math.max(0,Math.floor((o[1]-r.ymin)/s[1]))),nxe(c,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:u,rows:h}=n;let p,d,f,m;return!r&&u&&h&&(nxe(a,u[0],h[0]),nxe(l,u[1],h[1]),nxe(c,u[1]-u[0]+1,h[1]-h[0]+1)),t.isWrappable?(p=txe(Math.ceil(Math.round((i.valid[1]-i.valid[0])/n.resolution)/t.size[0]),c[1]),d=!0,f=i.origin,m=i.valid):(p=c,d=!1),new e(n.level,n.resolution,n.scale,o,a,l,c,s,p,d,f,m)}constructor(e,t,n,r,i,o,s,a,l,c,u,h){this.level=e,this.resolution=t,this.scale=n,this.origin=r,this.first=i,this.last=o,this.size=s,this.norm=a,this.worldSize=l,this.wrap=c,this._spatialReferenceOrigin=u,this._spatialReferenceValid=h}normalizeCol(e){if(!this.wrap)return e;const t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t}normalizeKey(e){if(!this.wrap)return;const t=this.worldSize[0],n=e.col;n<0?(e.col=n+t,e.world-=1):n>=t&&(e.col=n-t,e.world+=1)}denormalizeCol(e,t){return this.wrap?this.worldSize[0]*t+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const t=this.origin[0]+e*this.norm[0],n=this._spatialReferenceOrigin,r=this._spatialReferenceValid;return this.wrap&&n&&r?t===n[0]?r[0]:this.origin[0]===n[0]&&e===this.worldSize[0]?r[1]:t:t}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,t,n=!1){ixe.set(t);const r=n?ixe.col:this.denormalizeCol(ixe.col,ixe.world),i=ixe.row;return rxe(e,this.getXForColumn(r),this.getYForRow(i+1),this.getXForColumn(r+1),this.getYForRow(i)),e}getTileCoords(e,t,n=!1){ixe.set(t);const r=n?ixe.col:this.denormalizeCol(ixe.col,ixe.world);return Array.isArray(e)?nxe(e,this.getXForColumn(r),this.getYForRow(ixe.row)):(e.x=this.getXForColumn(r),e.y=this.getYForRow(ixe.row)),e}},sxe=class{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:t,colFrom:n,colTo:r}of this.spans)for(let i=n;i<=r;i++){const n=e.getWorldForColumn(i);yield new exe(e.level,t,e.normalizeCol(i),n)}}forEach(e,t){const{spans:n,lodInfo:r}=this,{level:i}=r;if(0!==n.length)for(const{row:o,colFrom:s,colTo:a}of n)for(let n=s;n<=a;n++)e.call(t,i,o,r.normalizeCol(n),r.getWorldForColumn(n))}};sxe.pool=new Xt(sxe);let axe=class{constructor(e,t,n){this.row=e,this.colFrom=t,this.colTo=n}};const lxe=new exe("0/0/0/0");let cxe=class e{static create(t,n){t[1]>n[1]&&([t,n]=[n,t]);const[r,i]=t,[o,s]=n,a=o-r,l=s-i,c=0!==l?a/l:0,u=(Math.ceil(i)-i)*c,h=(Math.floor(i)-i)*c;return new e(r,Math.floor(i),Math.ceil(s),c,a<0?u:h,a<0?h:u,a<0?o:r,a<0?r:o)}constructor(e,t,n,r,i,o,s,a){this.x=e,this.ymin=t,this.ymax=n,this.invM=r,this.leftAdjust=i,this.rightAdjust=o,this.leftBound=s,this.rightBound=a}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const uxe=[[0,0],[0,0],[0,0],[0,0]],hxe=1e-6;let pxe=class{constructor(e,t=null,n=e.lods[0].level,r=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=t,this.scales=[],this._infoByScale={},this._infoByLevel={};const i=e.lods.filter((e=>e.level>=n&&e.level<=r));this.minScale=i[0].scale,this.maxScale=i[i.length-1].scale;const o=this._lodInfos=i.map((n=>oxe.create(e,n,t)));i.forEach(((e,t)=>{this._infoByLevel[e.level]=o[t],this._infoByScale[e.scale]=o[t],this.scales[t]=e.scale}),this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t,n=!1){lxe.set(t);const r=this._infoByLevel[lxe.level];return r?r.getTileBounds(e,lxe,n):e}getTileCoords(e,t,n=!1){lxe.set(t);const r=this._infoByLevel[lxe.level];return r?r.getTileCoords(e,lxe,n):e}getTileCoverage(e,t=192,n=!0,r="closest"){if(!n&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const i="closest"===r?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),o=sxe.pool.acquire(i),s=this._wrap;let a,l,c,u=1/0,h=-1/0;const p=o.spans;uxe[0][0]=uxe[0][1]=uxe[1][1]=uxe[3][0]=-t,uxe[1][0]=uxe[2][0]=e.size[0]+t,uxe[2][1]=uxe[3][1]=e.size[1]+t;for(const y of uxe)e.toMap(y,y),y[0]=i.getColumnForX(y[0]),y[1]=i.getRowForY(y[1]);const d=[];let f=3;for(let y=0;y<4;y++){if(uxe[y][1]===uxe[f][1]){f=y;continue}const e=cxe.create(uxe[y],uxe[f]);u=Math.min(e.ymin,u),h=Math.max(e.ymax,h),void 0===d[e.ymin]&&(d[e.ymin]=[]),d[e.ymin].push(e),f=y}if(null==u||null==h||h-u>100)return null;let m=[];for(a=u;a<h;){null!=d[a]&&(m=m.concat(d[a])),l=1/0,c=-1/0;for(let e=m.length-1;e>=0;e--){const t=m[e];l=Math.min(l,t.getLeftCol()),c=Math.max(c,t.getRightCol())}if(l=Math.floor(l),c=Math.floor(c),a>=i.first[1]&&a<=i.last[1])if(s)if(i.size[0]<i.worldSize[0]){const e=Math.floor(c/i.worldSize[0]);for(let t=Math.floor(l/i.worldSize[0]);t<=e;t++)p.push(new axe(a,Math.max(i.getFirstColumnForWorld(t),l),Math.min(i.getLastColumnForWorld(t),c)))}else p.push(new axe(a,l,c));else l>i.last[0]||c<i.first[0]||(l=Math.max(l,i.first[0]),c=Math.min(c,i.last[0]),p.push(new axe(a,l,c)));a+=1;for(let e=m.length-1;e>=0;e--){const t=m[e];t.ymax>=a?t.incrRow():m.splice(e,1)}}return o}getTileParentId(e){lxe.set(e);const t=this._infoByLevel[lxe.level],n=this._lodInfos.indexOf(t)-1;return n<0?null:(this._getTileIdAtLOD(lxe,this._lodInfos[n],lxe),lxe.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){lxe.set(t);const n=this._infoByLevel[lxe.level],r=e.lodInfo;if(r.resolution>n.resolution){this._getTileIdAtLOD(lxe,r,lxe);const t=r.denormalizeCol(lxe.col,lxe.world);for(const n of e.spans)if(n.row===lxe.row&&n.colFrom<=t&&n.colTo>=t)return!0}if(r.resolution<n.resolution){const[t,i,o,s]=e.spans.reduce(((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e)),[1/0,-1/0,1/0,-1/0]),a=n.denormalizeCol(lxe.col,lxe.world),l=r.getColumnForX(n.getXForColumn(a)),c=r.getRowForY(n.getYForRow(lxe.row)),u=r.getColumnForX(n.getXForColumn(a+1))-1,h=r.getRowForY(n.getYForRow(lxe.row+1))-1;return!(l>s||u<o||c>i||h<t)}const i=r.denormalizeCol(lxe.col,lxe.world);return e.spans.some((e=>e.row===lxe.row&&e.colFrom<=i&&e.colTo>=i))}normalizeBounds(e,t,n){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){const t=eh(this.tileInfo.spatialReference),r=-n*(t.valid[1]-t.valid[0]);e[0]+=r,e[2]+=r}return e}getSmallestInfoForScale(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let n=1;n<t.length-1;n++)if(e>t[n]+hxe)return this._infoByScale[t[n-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales;return this._infoByScale[e]||(e=t.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t),t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let n=t.length-1;n>=0;n--)if(e<t[n])return n===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[n]].level+(t[n]-e)/(t[n]-t[n+1]);return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,t,n){const r=this._infoByLevel[n.level];return e.set(n),t.resolution<r.resolution?null:(t.resolution===r.resolution||(e.level=t.level,e.col=Math.floor(n.col*r.resolution/t.resolution+.01),e.row=Math.floor(n.row*r.resolution/t.resolution+.01)),e)}},dxe=class{constructor(e,t){this.item=e,this.controller=t,this.promise=null}},fxe=class{constructor(e){this._schedule=null,this._task=null,this._deferreds=new dme,this._controllers=new dme,this._processingItems=new dme,this._pausedSignal=Vfe(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new RH(e.peeker),this.process=e.process;const t=e.scheduler;e.priority&&t&&(this._task=t.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=gt(this._schedule),this._task=gt(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(e){const t=this._controllers.get(e);t&&t.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((t=>e.push(t))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((t,n)=>e(n)))}get(e){const t=this._deferreds.get(e);return t?t.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,t){const n=this.get(e);if(n)return n;const r=new AbortController;let i=null;t&&(i=ur(t,(()=>r.abort())));const o=()=>{const t=this._processingItems.get(e);t&&t.controller.abort(),s(),l.reject(ir())},s=()=>{a.remove(),i?.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},a=hr(r.signal,o),l=Sr();return this._deferreds.set(e,l),this._controllers.set(e,r),l.promise.then(s,s),this._queue.push(e),this._scheduleNext(),l.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject(ir()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const t of e)this._queue.push(t.item),t.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=jr((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}_processError(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let t;const n=new AbortController,r=new dxe(e,n);this._processingItems.set(e,r);try{t=this.process(e,n.signal)}catch(i){this._processError(r,i)}wr(t)?(r.promise=t,t.then((e=>this._processResult(r,e)),(e=>this._processError(r,e)))):this._processResult(r,t)}get test(){}};const mxe=[0,0];let yxe=class extends Ms{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:t,scheduler:n,priority:r}=this;this._queue=new fxe({concurrency:e,scheduler:n,priority:r,process:(e,n)=>{const r=this._keyToItem.get(e);return t(r,{signal:n})},peeker:e=>this._peek(e)})}destroy(){this.clear(),this._queue=mt(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const t="string"==typeof e?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this._queue.has(t))return this._queue.get(t);const n=this._queue.push(t),r=this.tileInfoView.getTileScale(e.key),i=zi(this._tilesByScale,r,(()=>new Set)),o=()=>{i.delete(e.key),0===i.size&&this._tilesByScale.delete(r),this._keyToItem.delete(t)};return i.add(e.key),this._keyToItem.set(t,e),n.then(o,o),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const t=new Set;for(const o of e)t.add(this._keyToItem.get(o).key);const n=this.state.scale;let r,i=Number.POSITIVE_INFINITY;for(const[o,s]of this._tilesByScale)if(Kr(s,(e=>t.has(e)))){const e=Math.abs(o-n);e<i&&(r=s,i=e)}return this._getClosestTileKey(r,e).id}_getClosestTileKey(e,t){const n=this.tileInfoView,r=this.state.center;let i,o=Number.POSITIVE_INFINITY;for(const s of e)if(t.has(s.id)){n.getTileCoords(mxe,s);const e=bge(mxe,r);e<o&&(o=e,i=s)}return i}};S([To({constructOnly:!0})],yxe.prototype,"concurrency",void 0),S([To({constructOnly:!0})],yxe.prototype,"priority",void 0),S([To({constructOnly:!0})],yxe.prototype,"process",void 0),S([To({constructOnly:!0})],yxe.prototype,"scheduler",void 0),S([To()],yxe.prototype,"state",void 0),S([To({constructOnly:!0})],yxe.prototype,"tileInfoView",void 0),yxe=S([gs("esri.views.2d.tiling.TileQueue")],yxe);const gxe=yxe;let vxe=class{constructor(e,t,n){this.maxSize=e,this._tileInfoView=t,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const t=this._tilePerId.get(e);if(!t)return;const n=t.key.level,r=this._tileKeysPerLevel[n];bxe(this._tilePerId,e);for(let i=0;i<r.length;i++)if(r[i].id===e){r.splice(i,1);break}return t.visible=!0,t}add(e){e.visible=!1;const t=e.key,n=t.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,e);const r=t.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(t)}prune(e,t,n){let r=this._tilePerId.size;if(r<=this.maxSize)return;let i=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&i>=0;)i!==e&&(r=this._pruneAroundCenterTile(r,t,n,i)),i--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,t,n,e))}_pruneAroundCenterTile(e,t,n,r){const i=this._tileKeysPerLevel[r];if(!i||0===i.length)return e;const{size:o,origin:s}=this._tileInfoView.tileInfo,a=n*o[0],l=n*o[1],c=[0,0],u=[0,0];for(i.sort(((e,n)=>(c[0]=s.x+a*(e.col+.5),c[1]=s.y-l*(e.row+.5),u[0]=s.x+a*(n.col+.5),u[1]=s.y-l*(n.row+.5),wge(c,t)-wge(u,t))));i.length>0;){const t=i.pop();if(this._removeTile(t.id),--e===this.maxSize)break}return e}_removeTile(e){const t=this._tilePerId.get(e);this._removedFunc&&t&&this._removedFunc(t),bxe(this._tilePerId,e)}};function bxe(e,t){e.delete(t)}const wxe=new exe(0,0,0,0),_xe=new Map,xxe=[],Sxe=[];let Txe=class{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,null!=e.resampling&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),null!=e.buffer&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new vxe(e.cacheSize,this.tileInfoView,(e=>{this.releaseTile(e)})))}destroy(){this.tileIndex.clear()}update(e){const{resampling:t,tileIndex:n}=this,{scale:r,center:i,resolution:o}=e.state,{minScale:s,maxScale:a}=this.tileInfoView,l=!e.stationary&&r>this._previousScale;if(this._previousScale=r,!t&&(r>s||r<a))return this.tiles.length=0,void this.clear();const c=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!c)return this.tiles.length=0,void this.clear();const{spans:u,lodInfo:h}=c,{level:p}=h;this.tiles.length=0,n.forEach((e=>e.visible=!0));let d=0,f=0;if(u.length>0)for(const{row:y,colFrom:g,colTo:v}of u)for(let e=g;e<=v;e++){d++;const t=wxe.set(p,y,h.normalizeCol(e),h.getWorldForColumn(e)).id;let r=n.get(t);if(r)r.isReady?(_xe.set(t,r),f++):l||this._addParentTile(t,_xe);else{if(this._tileCache?.has(t)){if(r=this._tileCache.pop(t),this.tileIndex.set(t,r),r.isReady){_xe.set(t,r),f++;continue}}else r=this.acquireTile(wxe),this.tileIndex.set(t,r);l||this._addParentTile(t,_xe)}}const m=f===d;for(const[y,g]of n){if(_xe.has(y))continue;wxe.set(y);const e=this.tileInfoView.intersects(c,wxe),t="purge"===this.cachePolicy?wxe.level!==p:wxe.level>p;!e||!l&&m?!t&&e||xxe.push(g):g.isReady?t&&"purge"===this.cachePolicy&&this._hasReadyAncestor(wxe,p)?xxe.push(g):Sxe.push(g):t&&xxe.push(g)}for(const y of Sxe)y.isReady&&_xe.set(y.key.id,y);for(const y of xxe)this._tileCache?this._tileCache.add(y):this.releaseTile(y),n.delete(y.key.id);for(const y of _xe.values())this.tiles.push(y);for(const y of n.values())_xe.has(y.key.id)||(y.visible=!1);this._tileCache?.prune(p,i,o),sxe.pool.release(c),Sxe.length=0,xxe.length=0,_xe.clear()}clear(){const{tileIndex:e}=this;for(const t of e.values())this.releaseTile(t);e.clear()}refresh(e){for(const t of this.tileIndex.values())e(t);this._tileCache?.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,t){let n=e,r=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(r=this.tileIndex.get(n),r?.isReady){t.has(r.key.id)||t.set(r.key.id,r);break}}else if(this._tileCache?.has(n)&&(r=this._tileCache.pop(n),this.tileIndex.set(n,r),r?.isReady)){t.has(r.key.id)||t.set(r.key.id,r);break}}_hasReadyAncestor(e,t){const n=tg();this.tileInfoView.getTileBounds(n,e,!0);for(const r of this.tileIndex.values())if(r.isReady&&r.key.level>=t&&r.key.level<e.level){const e=tg();if(this.tileInfoView.getTileBounds(e,r.key,!0),fg(e,n))return!0}return!1}},Exe=class extends Ms{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([WR((()=>this.constraints?.version),(e=>{this.constraints&&e&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))}),eL)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return this.state.commitProperty("id"),new sd({x:e[0],y:e[1],spatialReference:t})}set center(e){if(null==e)return;if(!this.ready)return void this._set("center",e);let t;try{t=this._project(e,this.state.spatialReference)}catch(r){return void Ye.getLogger(this).error(new et("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:r}))}const n=this.viewpoint;Xve(n,n,t),this.viewpoint=n}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(null==e)return;if(!e.width||!e.height)return void Ye.getLogger(this).error(new et("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let t;try{t=this._project(e,this.state.spatialReference)}catch(r){return void Ye.getLogger(this).error(new et("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:r}))}const n=this.viewpoint;Nve(n,n,t,this.state.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;Qve(t,t,e),this.viewpoint=t}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const t=this._get("extent");return void(t&&(this._set("extent",void 0),this._set("center",t.center)))}const t=this.viewpoint;tbe(t,t,e),this.viewpoint=t}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){if(null==e)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let t,n;try{t=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?n=new et("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):null==e.targetGeometry&&(n=new et("mapview:invalid-viewpoint","geometry not defined"))}catch(i){n=new et("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:i})}if(n)return void Ye.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;const r=new Bhe({targetGeometry:new sd,scale:0,rotation:0});kve(r,t),this.constraints?.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this._set("viewpoint",r)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(e){if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const t=this._get("extent");return void(t&&(this._set("extent",void 0),this._set("center",t.center)))}const t=this.constraints?.zoomToScale(e)??0;if(!t)return void this._set("zoom",-1);const n=this.viewpoint;tbe(n,n,t),this.viewpoint=n,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:t,constraints:n}=this,r=this._get("center"),i=this._get("extent"),o=this._get("scale"),s=this._get("rotation"),a=this._get("viewpoint"),l=this._get("zoom"),c=null!=l&&null!=n&&n.zoomToScale(l)||void 0;let u,h,p;const d=a?.rotation,f=a?.targetGeometry;"extent"===f?.type?u=f:"point"===f?.type&&(h=f,p=a?.scale);const m=i??u;return{center:r??h??m?.center,rotation:s??d,scale:(o??c??p??(m&&Mve(m,[e[0]-t.left-t.right,e[1]-t.top-t.bottom])))||void 0}}startup(e,t,n,r){const i=e.targetGeometry;try{this._project(e,n)}catch(o){Ye.getLogger(this).warn(new Co("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:i.toJSON(),spatialReference:n,error:o})),e.targetGeometry=r||new sd({x:0,y:0,spatialReference:n})}this.constraints?.fit(e),this._set("state",new vwe({padding:this.padding,size:t,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,t],spatialReference:n,rotation:r,scale:i}=this.state.paddedViewState,o=new sd({x:e,y:t,spatialReference:n});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",r),this._set("scale",i),this._set("state",null)}changeSpatialReference(e){const t=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=t.scale;else{const e=t.viewpoint.clone();e.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=e}const n=t.clone(),[r,i]=t.center;let o=null;try{o=this._project(new sd({x:r,y:i,spatialReference:t.spatialReference}),e)}catch(a){vu()||Ye.getLogger(this).warn(new Co("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o?.toJSON(),spatialReference:e,error:a}))}o||(o=new sd({x:0,y:0,spatialReference:e}));const s=Xve(new Bhe({targetGeometry:new sd,scale:0,rotation:0}),t.viewpoint,o);n.viewpoint=s;try{const r=[t.size[0]/2,t.size[1]/2],i=[r[0]+20,r[1]],o=t.toMap([0,0],i),{x:a,y:l}=this._project(new sd({x:o[0],y:o[1],spatialReference:t.spatialReference}),e);o[0]=a,o[1]=l,n.toScreen(o,o);const c=Zve(r,o,i),u=Math.hypot(o[0]-r[0],o[1]-r[1])/20;!Number.isFinite(u)||Math.abs(u)>4?(s.rotation=0,s.targetGeometry=new sd({x:0,y:0,spatialReference:e})):(s.scale*=u,s.scale>A("mapview-srswitch-adjust-rotation-scale-threshold")?s.rotation=0:s.rotation+=Number.isFinite(c)?c:0)}catch{}this._get("constraints")?.constrain(s,void 0),this._get("state").viewpoint=s}resize(e,t){if(!this.ready)return;const n=this.state;let r=this.state.paddedViewState.viewpoint;const i=this.state.paddedViewState.size.slice();n.size=[e,t],Jve(r,r,i,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints?.constrain(r,void 0)??r,this.state.viewpoint=r}toMap(e){if(!this.ready)return null;const t=[0,0],[n,r]=this.state.toMap(t,[e.x,e.y]),i=this.state.spatialReference;return new sd({x:n,y:r,spatialReference:i})}toScreen(e,t){if(!this.ready)return null;const n=this._project(e,this.state.spatialReference),r=[n.x,n.y];return!1===t?.pickClosestTarget||this.state.paddedViewState.wrapMapCoordinate(r,r),this.state.toScreen(r,r),UI(r[0],r[1])}_project(e,t){const n=e?.targetGeometry||e;if(!t)return e;if(!n)return null;if(t.imageCoordinateSystem||n.spatialReference?.imageCoordinateSystem||Qu(t,n.spatialReference))return e;const r=f2(n,t);if(!r)throw new et("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:t});return Mxe(e)?(e.targetGeometry=r,e):r}};function Mxe(e){return"esri.Viewpoint"===e?.declaredClass}function Axe(e,t){switch(t){case"primary":return"touch"===e.pointerType||0===e.button;case"secondary":return"touch"!==e.pointerType&&2===e.button;case"tertiary":return"touch"!==e.pointerType&&1===e.button}}S([To({type:sd})],Exe.prototype,"center",null),S([To()],Exe.prototype,"constraints",void 0),S([To({type:Gd})],Exe.prototype,"extent",null),S([To({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Exe.prototype,"padding",null),S([To()],Exe.prototype,"ready",void 0),S([To()],Exe.prototype,"resizeAlign",void 0),S([To({readOnly:!0})],Exe.prototype,"resolution",null),S([To({type:Number})],Exe.prototype,"rotation",null),S([To({type:Number})],Exe.prototype,"scale",null),S([To({readOnly:!0})],Exe.prototype,"state",void 0),S([To({type:Bhe})],Exe.prototype,"viewpoint",null),S([To({readOnly:!0})],Exe.prototype,"visibleArea",null),S([To()],Exe.prototype,"zoom",null),Exe=S([gs("esri.views.2d.ViewStateManager")],Exe);let Ixe=class extends Ffe{constructor(e,t){super(!0),this._view=e,this.registerIncoming("double-click",t,(e=>this._handleDoubleClick(e,t)))}_handleDoubleClick(e,t){Axe(e.data,"primary")&&(e.stopPropagation(),t?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}},Cxe=class extends Ffe{constructor(e,t,n){super(!0),this.view=e,this.pointerType=t,this.registerIncoming("double-tap-drag",n,(e=>this._handleDoubleTapDrag(e)))}_handleDoubleTapDrag(e){const{data:t}=e,{pointerType:n}=t;if(n!==this.pointerType)return;e.stopPropagation();const{action:r,delta:i}=t,{view:o}=this,{mapViewNavigation:s}=o;switch(r){case"begin":{const{scale:e}=o;this._startScale=e,this._currentScale=e,this._previousDelta=i,s.begin();break}case"update":{if(this._previousDelta.y===i.y)return;this._previousDelta=i;const e=1.015**i.y,t=this._startScale*e,n=t/this._currentScale;s.setViewpointImmediate(n),this._currentScale=t;break}case"end":{const{constraints:e}=o,{effectiveLODs:t,snapToZoom:n}=e;if(!n||!t)return void s.end();const r=e.snapScale(this._currentScale),a=(i.y>0?Math.max(r,e.snapToPreviousScale(this._startScale)):Math.min(r,e.snapToNextScale(this._startScale)))/this._currentScale;s.zoom(a).then((()=>{s.end()}));break}}}},Oxe=class{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const t=e.data,n=t.pointers.size;switch(t.action){case"start":this._currentCount=n,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){this._startEvent=e,this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}},kxe=class extends Ffe{constructor(e,t,n){super(!0),this.view=e,this.pointerAction=t,this.registerIncoming("drag",n,(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this.stopMomentumNavigation()))}onInstall(e){super.onInstall(e),this._dragEventSeparator=new Oxe({start:(e,t)=>{this.view.mapViewNavigation.pan.begin(this.view,t.data),t.stopPropagation()},update:(e,t)=>{this.view.mapViewNavigation.pan.update(this.view,t.data),t.stopPropagation()},end:(e,t)=>{this.view.mapViewNavigation.pan.end(this.view,t.data),t.stopPropagation()},condition:(e,t)=>1===e&&Axe(t.data,this.pointerAction)})}_handleDrag(e){const t=this.view.mapViewNavigation;t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},Rxe=class extends Ffe{constructor(e,t,n){super(!0),this._view=e,this.pointerAction=t;const r=this._view.mapViewNavigation;this._dragEventSeparator=new Oxe({start:(e,t)=>{r.rotate.begin(this._view,t.data),t.stopPropagation()},update:(e,t)=>{r.rotate.update(this._view,t.data),t.stopPropagation()},end:(e,t)=>{r.rotate.end(),t.stopPropagation()},condition:(e,t)=>1===e&&Axe(t.data,this.pointerAction)}),this.registerIncoming("drag",n,(e=>this._dragEventSeparator.handle(e)))}};function Lxe(e){const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function Nxe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Pxe(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function Dxe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Fxe(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function jxe(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Uxe(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function zxe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Gxe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function Vxe(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function Bxe(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function $xe(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Hxe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function Wxe(e,t=0,n=1){return e[0]=Math.min(Math.max(e[0],t),n),e[1]=Math.min(Math.max(e[1],t),n),e[2]=Math.min(Math.max(e[2],t),n),e}function qxe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function Zxe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Yxe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function Xxe(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function Jxe(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function Kxe(e){const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function Qxe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function eSe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function tSe(e,t){const n=t[0],r=t[1],i=t[2];let o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function nSe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function rSe(e,t,n){const r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2];return e[0]=i*l-o*a,e[1]=o*s-r*l,e[2]=r*a-i*s,e}function iSe(e,t,n){const r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2],c=i*l-o*a,u=o*s-r*l,h=r*a-i*s,p=Math.sqrt(c*c+u*u+h*h);return e[0]=c/p,e[1]=u/p,e[2]=h/p,e}function oSe(e,t,n,r){const i=t[0],o=t[1],s=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=s+r*(n[2]-s),e}function sSe(e,t,n,r,i,o){const s=o*o,a=s*(2*o-3)+1,l=s*(o-2)+o,c=s*(o-1),u=s*(3-2*o);return e[0]=t[0]*a+n[0]*l+r[0]*c+i[0]*u,e[1]=t[1]*a+n[1]*l+r[1]*c+i[1]*u,e[2]=t[2]*a+n[2]*l+r[2]*c+i[2]*u,e}function aSe(e,t,n,r,i,o){const s=1-o,a=s*s,l=o*o,c=a*s,u=3*o*a,h=3*l*s,p=l*o;return e[0]=t[0]*c+n[0]*u+r[0]*h+i[0]*p,e[1]=t[1]*c+n[1]*u+r[1]*h+i[1]*p,e[2]=t[2]*c+n[2]*u+r[2]*h+i[2]*p,e}function lSe(e,t=1){const n=sF,r=2*n()*Math.PI,i=2*n()-1,o=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(r)*o,e[1]=Math.sin(r)*o,e[2]=i*t,e}function cSe(e,t,n){const r=t[0],i=t[1],o=t[2];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12],e[1]=n[1]*r+n[5]*i+n[9]*o+n[13],e[2]=n[2]*r+n[6]*i+n[10]*o+n[14],e}function uSe(e,t,n){const r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function hSe(e,t,n){const r=n[0],i=n[1],o=n[2],s=n[3],a=t[0],l=t[1],c=t[2],u=i*c-o*l,h=o*a-r*c,p=r*l-i*a,d=i*p-o*h,f=o*u-r*p,m=r*h-i*u,y=2*s;return e[0]=a+u*y+2*d,e[1]=l+h*y+2*f,e[2]=c+p*y+2*m,e}function pSe(e,t,n,r){const i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function dSe(e,t,n,r){const i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function fSe(e,t,n,r){const i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function mSe(e,t){tSe(ySe,e),tSe(gSe,t);const n=nSe(ySe,gSe);return n>1?0:n<-1?Math.PI:Math.acos(n)}const ySe=oC(),gSe=oC();function vSe(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function bSe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function wSe(e,t){if(e===t)return!0;const n=e[0],r=e[1],i=e[2],o=t[0],s=t[1],a=t[2],l=iF();return Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=l*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-a)<=l*Math.max(1,Math.abs(i),Math.abs(a))}function _Se(e,t,n){const r=n[0]-t[0],i=n[1]-t[1],o=n[2]-t[2];let s=r*r+i*i+o*o;return s>0?(s=1/Math.sqrt(s),e[0]=r*s,e[1]=i*s,e[2]=o*s,e):(e[0]=0,e[1]=0,e[2]=0,e)}const xSe=Fxe,SSe=jxe,TSe=Uxe,ESe=Xxe,MSe=Jxe,ASe=Lxe,ISe=Kxe;function CSe(e){let t=e*e;return e<0&&(t*=-1),t}function OSe(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function kSe(e,t,n){const r=n,i=e.state,o=e.device,s="forward-down"===t.tiltDirection?1:-1,a=1;return"standard"===o.deviceType?(r.translation[0]=CSe(i.axes[0]),r.translation[1]=CSe(i.axes[1]),r.translation[2]=CSe(i.buttons[7])-CSe(i.buttons[6]),r.heading=CSe(i.axes[2]),r.tilt=CSe(i.axes[3])):"spacemouse"===o.deviceType&&(r.translation[0]=1.2*CSe(i.axes[0]),r.translation[1]=1.2*CSe(i.axes[1]),r.translation[2]=2*-CSe(i.axes[2]),r.heading=1.2*CSe(i.axes[5]),r.tilt=1.2*CSe(i.axes[3])),r.tilt*=s,Zxe(r.translation,r.translation,a),r}function RSe(e){return 0===e.translation[0]&&0===e.translation[1]&&0===e.translation[2]&&0===e.heading&&0===e.tilt&&0===e.zoom}Object.freeze(Object.defineProperty({__proto__:null,abs:Vxe,add:Dxe,angle:mSe,bezier:aSe,ceil:zxe,clamp:Wxe,copy:Nxe,cross:rSe,crossAndNormalize:iSe,direction:_Se,dist:ESe,distance:Xxe,div:TSe,divide:Uxe,dot:nSe,equals:wSe,exactEquals:bSe,floor:Gxe,hermite:sSe,inverse:eSe,len:ASe,length:Lxe,lerp:oSe,max:Hxe,min:$xe,mul:SSe,multiply:jxe,negate:Qxe,normalize:tSe,random:lSe,rotateX:pSe,rotateY:dSe,rotateZ:fSe,round:qxe,scale:Zxe,scaleAndAdd:Yxe,set:Pxe,sign:Bxe,sqrDist:MSe,sqrLen:ISe,squaredDistance:Jxe,squaredLength:Kxe,str:vSe,sub:xSe,subtract:Fxe,transformMat3:uSe,transformMat4:cSe,transformQuat:hSe},Symbol.toStringTag,{value:"Module"}));let LSe=class extends Ffe{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new ut,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",(e=>this._handleGamePadEvent(e))),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([WR((()=>this._view.navigation.gamepad?.enabled),(e=>{e?(this._handle.resume(),this._frameTask||(this._frameTask=Ur({update:e=>this._frameUpdate(e.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))}),tL)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){const t=this._view.navigation.gamepad.device;t&&e.data.device!==t||this._currentDevice&&this._currentDevice!==e.data.device||("end"===e.data.action?(this._currentDevice=null,OSe(this._transformation)):(this._currentDevice=e.data.device,kSe(e.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(e){const t=this._transformation;if(RSe(t))return;const n=this._view.viewpoint.clone(),r=this._view.navigation.gamepad.velocityFactor,i=PSe*r*e;sbe(n,n,[t.translation[0]*i,-t.translation[1]*i]);const o=1+t.translation[2]*DSe*e,s=this._view.constraints.rotationEnabled?-t.heading*NSe*e:0,a=this._view.size,l=[a[0]/2,a[1]];nbe(n,n,o,s,l,a);const c=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=c}};const NSe=.06,PSe=.7,DSe=6e-4;function FSe(e){const t=()=>e("visible"===document.visibilityState);return document.addEventListener("visibilitychange",t),Tt((()=>document.removeEventListener("visibilitychange",t)))}let jSe=class extends Ffe{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=e=>{const t=this._keyMap[e.data.key];if(e.modifiers.has("Meta")||e.modifiers.has("Control"))return void this._stopMovement();if(null==t)return;e.stopPropagation(),e.preventDefault();const n="key-down"===e.type;if(this._pressedKeys[n?"add":"delete"](t),n){if(this._direction===t)return;this._direction=t,this._isSticky=!1,this._setTimeout((()=>{this._isSticky&&this._handlePopKey()}))}else{const e=void 0===this._timeout,t=this._pressedKeys.size>0;e||t?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[t.left]:"left",[t.right]:"right",[t.up]:"up",[t.down]:"down"},this.registerIncoming("key-down",n,this._handleKey),this.registerIncoming("key-up",n,this._handleKey),this.registerIncoming("blur",n,this._stopMovement),this._visibilityHandle=FSe((e=>e?null:this._stopMovement()))}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(e){const t=null!=this._currentDirection;if(null!=e){if(t||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else t&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=void 0===e?void 0:setTimeout((()=>{this._timeout=void 0,e()}),this._stickyKeyDuration)}},USe=class extends Ffe{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._pressed=!1,this._keyToDirection={[t.clockwiseOption1]:"clockwise",[t.clockwiseOption2]:"clockwise",[t.counterClockwiseOption1]:"counterClockwise",[t.counterClockwiseOption2]:"counterClockwise",[t.resetOption1]:"reset",[t.resetOption2]:"reset"},this.registerIncoming("key-down",n,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",n,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",n,(()=>this._handleStop())),this._visibilityHandle=FSe((e=>e?null:this._handleStop()))}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,t){const n=e.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const r=this._keyToDirection[e.data.key];if(this._pressed=null!=r,this._pressed){if(e.preventDefault(),t)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}};var zSe;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(zSe||(zSe={}));let GSe=class extends Ffe{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._keysToZoomAction={},this.registerIncoming("key-down",n,(e=>this._handleKeyDown(e))),t.zoomIn.forEach((e=>this._keysToZoomAction[e]=zSe.IN)),t.zoomOut.forEach((e=>this._keysToZoomAction[e]=zSe.OUT))}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const t=e.modifiers;if(t.size>0&&!t.has("Shift"))return;const{key:n}=e.data;if(!(n in this._keysToZoomAction))return;const r=this._keysToZoomAction[n],{mapViewNavigation:i}=this.view;let o=null;switch(r){case zSe.IN:o=i.zoomIn();break;case zSe.OUT:o=i.zoomOut();break;default:return}i.begin(),o.then((()=>i.end())),e.stopPropagation()}};const VSe=.6;let BSe=class extends Ffe{constructor(e,t){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",t,(e=>this._handleMouseWheel(e)))}_handleMouseWheel(e){if(!this._view.navigation.mouseWheelZoomEnabled||(e.preventDefault(),e.stopPropagation(),!this._canZoom))return;const t=this._view.mapViewNavigation,{x:n,y:r,deltaY:i}=e.data,o=1/VSe**(1/60*i),s=t.zoom(o,[n,r]);s&&(this._canZoom=!1,s.catch((()=>{})).then((()=>{this._canZoom=!0,t.end()})))}},$Se=class extends Ffe{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this._stopMomentumNavigation()));const t=this.view.mapViewNavigation;this._dragEventSeparator=new Oxe({start:(e,n)=>{t.pinch.begin(this.view,n.data),n.stopPropagation()},update:(e,n)=>{t.pinch.update(this.view,n.data),n.stopPropagation()},end:(e,n)=>{t.pinch.end(this.view),n.stopPropagation()},condition:e=>e>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function HSe(e){const t=e.native;return t?{buttons:t.buttons.map((e=>e.pressed?e.value||1:0)),axes:t.axes.map((t=>ZSe(t,e.axisThreshold)))}:{buttons:[],axes:[]}}function WSe(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let n=0;n<e.axes.length;n++)if(e.axes[n]!==t.axes[n])return!1;for(let n=0;n<e.buttons.length;n++)if(e.buttons[n]!==t.buttons[n])return!1;return!0}function qSe(e){for(let t=0;t<e.axes.length;t++)if(0!==e.axes[t])return!1;for(let t=0;t<e.buttons.length;t++)if(0!==e.buttons[t])return!1;return!0}function ZSe(e,t){const n=Math.abs(e);return n<t?0:Math.sign(e)*(n-t)/(1-t)}let YSe=class{constructor(e,t){this._element=e,this._input=t,this._hasEventListeners=!1,this._onConnectGamepad=e=>{this._connectGamepad(e.gamepad)},this._onDisconnectGamepad=e=>{const t=e.gamepad,n=t.index,r=this._inputDevices[n];r&&(this._emitGamepadEvent(t,HSe(r),!1),this._inputDevices.splice(n,1),this._latestUpdate.splice(n,1),this._input.gamepad.devices.remove(r),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,r=window.isSecureContext;this.supported=n&&r,this.supported&&(JSe((e=>this._connectGamepad(e))),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const t=new pye(e);"unknown"!==t.deviceType&&(this._inputDevices[e.index]=t,this._input.gamepad.devices.add(t)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=Ur({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),t=this._element.contains(document.activeElement),n="document"===this._input.gamepad.enabledFocusMode&&!e||"view"===this._input.gamepad.enabledFocusMode&&!t;JSe((e=>{const t=this._inputDevices[e.index];if(!t)return;const r=this._latestUpdate[e.index],i=HSe(t),o=n||qSe(i);r&&(r.timestamp===e.timestamp||!r.active&&o||WSe(r.state,i))||this._emitGamepadEvent(e,i,!o)}))}_emitGamepadEvent(e,t,n){const r=this._latestUpdate[e.index],i=r&&r.active;if(!i&&!n)return;const o=!i&&n?"start":i&&n?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:n},this._callback&&this._callback({device:this._inputDevices[e.index],state:t,action:o})}};function XSe(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function JSe(e){for(const t of navigator.getGamepads())XSe(t)&&e(t)}const KSe=A("edge"),QSe=A("chrome"),eTe=A("ff"),tTe=A("safari"),nTe="esri-view-surface",rTe={touchNone:`${nTe}--touch-none`,touchPan:`${nTe}--touch-pan`};let iTe=class e{constructor(e,t){this._input=t,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new YSe(e,this._input),this._gamepadSource.onEvent=e=>this._callback("gamepad",e)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach((e=>{this._releasePointerCaptureSafe(e)})),this._gamepadSource=mt(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const t in this._active)if(!e||!e.has(t)){const e=this._active[t];this._element.removeEventListener(oTe[t],e),delete this._active[t]}e&&e.forEach((e=>{if(!this._active[e]&&oTe[e]){const t=(this._eventHandlers[e]||this._handleDefault).bind(this,e);this._element.addEventListener(oTe[e],t),this._active[e]=t}})),this._gamepadSource.hasEventListeners=e?.has("gamepad")??!1}setPointerCapture(e,t){t?this._setPointerCatpureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?rTe.touchNone:rTe.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?rTe.touchPan:rTe.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(rTe.touchNone),this._element.classList.remove(rTe.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(t,n){const r=Jme(this._element,t);return e.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),n.x=r.x,n.y=r.y,n}_handleKey(e,t){const{key:n}=t;n&&"key-up"===e&&this._keyDownState.delete(n);const r={native:t,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&"key-down"===e&&this._keyDownState.add(r.key),this._callback(e,r)}_handlePointer(e,t){const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});this._callback(e,n)}_handlePointerPreventDefault(e,t){const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});t.preventDefault(),this._callback(e,n)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&A("mac")&&0===e.deltaY?e.deltaX:e.deltaY}_handleMouseWheel(e,t){let n=this._getDeltaFromTrackpadOrMouseWheel(t);switch(t.deltaMode){case 0:KSe&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}KSe?n*=.7:QSe||tTe?n*=.6:eTe&&(n*=1.375);const r=100,i=Math.abs(n);i>r&&(n=n/i*200/(1+Math.exp(-.02*(i-r))));const o=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:n});this._callback(e,o)}_handlePointerCaptureLost(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t)}_handleDefault(e,t){const n={native:t};t.preventDefault(),this._callback(e,n)}_preventAltKeyDefault(e){"Alt"===e.key&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}};iTe.test={disableSubpixelCoordinates:!1};const oTe={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let sTe=class extends Ffe{constructor(){super(!0),this.registerIncoming("context-menu",(e=>e.data.native.preventDefault()))}};const aTe={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function lTe(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function cTe(e,t){const n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function uTe(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:UI()},0===e.length)return t;if(1===e.length)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(2===e.length){const[n,r]=e,[i,o]=[r.x-n.x,r.y-n.y];return t.radius=Math.sqrt(i*i+o*o)/2,t.center.x=(n.x+r.x)/2,t.center.y=(n.y+r.y)/2,t}let n=0,r=0;for(let b=0;b<e.length;b++)n+=e[b].x,r+=e[b].y;n/=e.length,r/=e.length;const i=e.map((e=>e.x-n)),o=e.map((e=>e.y-r));let s=0,a=0,l=0,c=0,u=0,h=0,p=0;for(let b=0;b<i.length;b++){const e=i[b],t=o[b],n=e*e,r=t*t;s+=n,a+=r,l+=e*t,c+=n*e,u+=r*t,h+=e*r,p+=t*n}const d=.5*(c+h),f=.5*(u+p),m=s*a-l*l,y=(d*a-f*l)/m,g=(s*f-l*d)/m,v=UI(y+n,g+r);return{radius:Math.sqrt(y*y+g*g+(s+a)/e.length),center:v}}function hTe(e){const{native:t}=e,{pointerId:n,button:r,pointerType:i}=t;return"mouse"===i?`${n}:${r}`:`${i}`}let pTe=class extends Ffe{constructor(e=aTe.maximumDoubleClickDelay,t=aTe.maximumDoubleClickDistance,n=aTe.maximumDoubleTouchDelay,r=aTe.maximumDoubleTouchDistance,i=Jn){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=t,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=i,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=UI(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Oxe({start:(e,t)=>this._dragStart(e,t),update:(e,t)=>this._dragUpdate(t),end:(e,t)=>this._dragEnd(t)}),this.registerIncoming("drag",(e=>this._dragEventSeparator.handle(e))),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e))),this.registerIncoming("pointer-up",(()=>this._handlePointerUp()))}onUninstall(){this._pointerState.forEach((e=>{e.doubleTapTimeout=gt(e.doubleTapTimeout)}))}get hasPendingInputs(){for(const e of this._pointerState.values())if(null!=e.doubleTapTimeout)return!0;return!1}_clearPointerDown(e){const t=this._pointerState.get(e);t&&(t.doubleTapTimeout=gt(t.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,t){if(!this._doubleTapDragReady||1!==e)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:r}=t,{center:i}=n;this._dragStartCenter=i;const o=dTe("begin",UI(0,0),n);this._doubleTapDrag.emit(o,void 0,r),t.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:n}=e,{center:r}=t,i=dTe("update",UI(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(i,void 0,n),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:n}=e,{center:r}=t,i=dTe("end",UI(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(i,void 0,n),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:t}=e,n=hTe(t),r=this._pointerState.get(n),{pointerType:i}=t.native;if(r){const o="touch"===i?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),lTe(r.event.data,t)>o?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:t}=e,{pointerType:n}=t.native,r=hTe(t),i="touch"===n?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout((()=>this._clearPointerDown(r)),i);this._pointerState.set(r,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function dTe(e,t,n){const{button:r,buttons:i,pointer:o,pointers:s,pointerType:a,timestamp:l}=n;return{action:e,delta:t,button:r,buttons:i,pointer:o,pointers:s,pointerType:a,timestamp:l}}let fTe=class extends Ffe{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,t,n,r){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:t.buttons,timestamp:r,pointers:gTe(this._activePointerMap),pointer:t,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(e){const t=e.native.pointerId,n=yTe(this._activePointerMap).angle,r={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(t,r);const i=vTe(r,mTe(this._activePointerMap));r.initialAngle=i,r.lastAngle=i,this._updatePointerAngles(n)}_updatePointer(e){if(e&&null==e.x&&null==e.y)return;const t=e.native.pointerId,n=this._activePointerMap.get(t);n?n.event=e:this._addPointer(e)}_removePointer(e){const t=yTe(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(t)}_updatePointerAngles(e){const t=yTe(this._activePointerMap);this._activePointerMap.forEach((n=>{n.initialAngle=vTe(n,t)-e,n.lastAngle=vTe(n,t)-e}))}_emitEvent(e,t,n){const r=yTe(this._activePointerMap);this._drag.emit(this._createPayload(e,t,r,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const t=e.data.native.pointerId,n=e.timestamp;this._activePointerMap.get(t)&&(1===this._activePointerMap.size?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(t)):(this._removePointer(t),this._emitEvent("removed",e.data,e.timestamp)))}_handlePointerDrag(e){const t=e.data,n=t.currentEvent,r=e.timestamp;switch(t.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,r)):(this._addPointer(n),this._emitEvent("added",n,r),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,r))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}};function mTe(e){const t=[];return e.forEach((e=>{t.push(UI(e.event.x,e.event.y))})),uTe(t)}function yTe(e){const t=mTe(e);let n=0;return e.forEach((e=>{let r=vTe(e,t),i=r-e.lastAngle;for(;i>Math.PI;)i-=2*Math.PI;for(;i<-Math.PI;)i+=2*Math.PI;r=e.lastAngle+i,e.lastAngle=r;const o=r-e.initialAngle;n+=o})),n/=e.size||1,{angle:n,radius:t.radius,center:t.center}}function gTe(e){const t=new Map;return e.forEach(((e,n)=>t.set(n,e.event))),t}function vTe(e,t){const n=e.event,r=n.x-t.center.x,i=n.y-t.center.y;return Math.atan2(i,r)}var bTe;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(bTe||(bTe={}));let wTe=class extends Ffe{constructor(e=aTe.maximumDoubleClickDelay,t=aTe.maximumDoubleClickDistance,n=aTe.maximumDoubleTouchDelay,r=aTe.maximumDoubleTouchDistance,i=Jn){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=t,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=i,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach((e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()})),super.onUninstall()}_handlePointerDown(e){const t=e.data,n=hTe(t);if(!this._pointerState.has(n)){const e={downButton:t.native.button,x:t.x,y:t.y,immediateDoubleClick:null};this._pointerState.set(n,e),this.startCapturingPointer(t.native)}}_handlePointerUp(e){const t=e.data,n=hTe(t),r=this._pointerState.get(n);if(r&&r.downButton===t.native.button){const n=r.immediateDoubleClick,i="touch"===e.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;n?(n.timeoutHandle.remove(),lTe(n,e.data)>i?this._startImmediateDoubleClick(e,r):(this._immediateDoubleClick.emit(e.data,void 0,n.modifiers),this._removeState(t))):lTe(r,e.data)>i?this._removeState(t):this._startImmediateDoubleClick(e,r)}}_startImmediateDoubleClick(e,t){const n="touch"===e.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;t.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout((()=>this._removeState(e.data)),n)}}_removeState(e){const t=hTe(e);this._pointerState.delete(t),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}},_Te=class extends Ffe{constructor(e=aTe.maximumClickDelay,t=aTe.movementUntilMouseDrag,n=aTe.movementUntilPenDrag,r=aTe.movementUntilTouchDrag,i=aTe.holdDelay,o=Jn){super(!1),this._maximumClickDelay=e,this._movementUntilMouseDrag=t,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=r,this._holdDelay=i,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e))),this.registerIncoming("pointer-up",(e=>this._handlePointerLoss(e,"pointer-up"))),this.registerIncoming("pointer-capture-lost",(e=>this._handlePointerLoss(e,"pointer-capture-lost"))),this.registerIncoming("pointer-cancel",(e=>this._handlePointerLoss(e,"pointer-cancel"))),this._moveHandle=this.registerIncoming("pointer-move",(e=>this._handlePointerMove(e))),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach((e=>{e.holdTimeout=gt(e.holdTimeout)})),super.onUninstall()}_handlePointerDown(e){const t=e.data,n=t.native.pointerId;let r=null;0===this._pointerState.size&&(r=this._clock.setTimeout((()=>{const t=this._pointerState.get(n);if(t){if(!t.isDragging){const n=t.previousEvent;this._pointerHold.emit(n,void 0,e.modifiers),t.holdEmitted=!0}t.holdTimeout=null}}),this._holdDelay));const i={startEvent:t,previousEvent:t,startTimestamp:e.timestamp,isDragging:!1,downButton:t.native.button,holdTimeout:r,modifiers:new Set};this._pointerState.set(n,i),this.startCapturingPointer(t.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const t=e.data,n=t.native.pointerId,r=this._pointerState.get(n);r&&(r.isDragging?this._pointerDrag.emit(xTe("update",r,t),void 0,r.modifiers):cTe(t,r.startEvent)>this._getDragThreshold(t.native.pointerType)&&this._startDragging(e),r.previousEvent=t)}_getDragThreshold(e){switch(e){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(e){const t=e.data,n=t.native.pointerId;this._pointerState.forEach((r=>{null!=r.holdTimeout&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=e.modifiers,r.isDragging=!0,n===r.startEvent.native.pointerId?this._pointerDrag.emit(xTe("start",r,t)):this._pointerDrag.emit(xTe("start",r,r.previousEvent),e.timestamp))}))}_handlePointerLoss(e,t){const n=e.data,r=n.native.pointerId,i=this._pointerState.get(r);i&&(null!=i.holdTimeout&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging?this._pointerDrag.emit(xTe("end",i,"pointer-up"===t?n:i.previousEvent),void 0,i.modifiers):"pointer-up"===t&&i.downButton===n.native.button&&e.timestamp-i.startTimestamp<=this._maximumClickDelay&&!i.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(r),this.stopCapturingPointer(n.native),0===this._pointerState.size&&this._moveHandle.pause())}};function xTe(e,t,n){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:n}}let STe=class extends Ffe{constructor(e=aTe.maximumDoubleClickDelay,t=aTe.maximumDoubleClickDistance,n=aTe.maximumDoubleTouchDelay,r=aTe.maximumDoubleTouchDistance,i=Jn){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=t,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=i,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",(e=>this._handleImmediateClick(e))),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e)))}onUninstall(){this._pointerState.forEach((e=>e.doubleClickTimer=gt(e.doubleClickTimer)))}get hasPendingInputs(){for(const e of this._pointerState.values())if(null!=e.doubleClickTimer)return!0;return!1}_clearDoubleClickTimer(e,t){const n=this._pointerState.get(e);n&&(n.doubleClickTimer=gt(n.doubleClickTimer),t&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const t=this._pointerState.get(e);1===t.pointerDownCount&&this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const t=e.data,{pointerType:n}=t.native,r=TTe(t);if(!this._pointerState.has(r))return void this._startClick(e);const i=this._pointerState.get(r),{data:o,modifiers:s}=i.event,a="touch"===n?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;lTe(o,t)>a?(this._clearDoubleClickTimer(r,!0),this._startClick(e)):(this._clearDoubleClickTimer(r,!1),2===i.pointerDownCount&&this._doubleClick.emit(o,void 0,s))}_handlePointerDown(e){const t=hTe(e.data),n=this._pointerState.get(t);n&&(n.pointerDownCount+=1)}_startClick(e){const{data:t}=e,{native:{pointerType:n}}=t,r=hTe(t),i="touch"===n?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout((()=>this._doubleClickTimeoutExceeded(r)),i);this._pointerState.set(r,{event:e,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function TTe(e){const{pointerId:t,pointerType:n,button:r}=e.native;return"mouse"===n?`${t}:${r}`:`${n}`}const ETe={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let MTe=class extends Ms{initialize(){const e=()=>this.view?.ready;this.addHandles([qR((()=>!e()),(()=>this._disconnect())),qR(e,(()=>this._connect()))])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(e){return this._inputManager?.isModifierKeyDown(e)??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=mt(this._inputManager)}_connect(){const e=this.view.surface,t=new iTe(e,this.view.input),n=[new wTe,new _Te,new STe,new fTe(this.view.navigation),new pTe],r=new Hfe({eventSource:t,recognizers:n});r.installHandlers("prevent-context-menu",[new sTe],Zfe.INTERNAL),r.installHandlers("navigation",[new $Se(this.view),new LSe(this.view),new BSe(this.view),new Ixe(this.view),new Ixe(this.view,[ETe.counter]),new kxe(this.view,"primary"),new jSe(this.view,ETe.pan),new GSe(this.view,ETe.zoom),new USe(this.view,ETe.rotate),new Rxe(this.view,"secondary"),new Cxe(this.view,"touch")],Zfe.INTERNAL),this.view.viewEvents.connect(r),this._source=t,this._inputManager=r,WR((()=>this.view?.navigation?.browserTouchPanEnabled),(e=>{this._source&&(this._source.browserTouchPanningEnabled=!e)}),tL)}get test(){}};S([To()],MTe.prototype,"view",void 0),S([To()],MTe.prototype,"latestPointerType",null),S([To()],MTe.prototype,"latestPointerLocation",null),S([To()],MTe.prototype,"multiTouchActive",null),MTe=S([gs("esri.views.2d.input.MapViewInputManager")],MTe);const ATe=MTe;function ITe(e,t,n,r,i){CTe(e,t,n||0,r||e.length-1,i||kTe)}function CTe(e,t,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,s=t-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);CTe(e,t,Math.max(n,Math.floor(t-s*l/o+c)),Math.min(r,Math.floor(t+(o-s)*l/o+c)),i)}var u=e[t],h=n,p=r;for(OTe(e,n,t),i(e[r],u)>0&&OTe(e,n,r);h<p;){for(OTe(e,h,p),h++,p--;i(e[h],u)<0;)h++;for(;i(e[p],u)>0;)p--}0===i(e[n],u)?OTe(e,n,p):OTe(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function OTe(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function kTe(e,t){return e<t?-1:e>t?1:0}function RTe(e,t){if(!(this instanceof RTe))return new RTe(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function LTe(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function NTe(e,t){PTe(e,0,e.children.length,t,e)}function PTe(e,t,n,r,i){i||(i=HTe(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=t;s<n;s++)o=e.children[s],DTe(i,e.leaf?r(o):o);return i}function DTe(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function FTe(e,t){return e.minX-t.minX}function jTe(e,t){return e.minY-t.minY}function UTe(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function zTe(e){return e.maxX-e.minX+(e.maxY-e.minY)}function GTe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function VTe(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function BTe(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function $Te(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function HTe(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function WTe(e,t,n,r,i){for(var o,s=[t,n];s.length;)(n=s.pop())-(t=s.pop())<=r||(o=t+Math.ceil((n-t)/r/2)*r,ITe(e,o,t,n,i),s.push(t,o,o,n))}RTe.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!$Te(e,t))return n;for(var i,o,s,a,l=[];t;){for(i=0,o=t.children.length;i<o;i++)s=t.children[i],$Te(e,a=t.leaf?r(s):s)&&(t.leaf?n.push(s):BTe(e,a)?this._all(s,n):l.push(s));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!$Te(e,t))return!1;for(var r,i,o,s,a=[];t;){for(r=0,i=t.children.length;r<i;r++)if(o=t.children[r],$Te(e,s=t.leaf?n(o):o)){if(t.leaf||BTe(e,s))return!0;a.push(o)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return null!=e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=HTe([]),this},remove:function(e,t){if(null==e)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(e),l=[],c=[];s||l.length;){if(s||(s=l.pop(),r=l[l.length-1],n=c.pop(),o=!0),s.leaf&&-1!==(i=LTe(e,s.children,t)))return s.children.splice(i,1),l.push(s),this._condense(l),this;o||s.leaf||!BTe(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(l.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:FTe,compareMinY:jTe,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,o=n-t+1,s=this._maxEntries;if(o<=s)return NTe(i=HTe(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=HTe([])).leaf=!1,i.height=r;var a,l,c,u,h=Math.ceil(o/s),p=h*Math.ceil(Math.sqrt(s));for(WTe(e,t,n,p,this.compareMinX),a=t;a<=n;a+=p)for(WTe(e,a,c=Math.min(a+p-1,n),h,this.compareMinY),l=a;l<=c;l+=h)u=Math.min(l+h-1,c),i.children.push(this._build(e,l,u,r-1));return NTe(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,o,s,a,l,c,u,h;r.push(t),!t.leaf&&r.length-1!==n;){for(u=h=1/0,i=0,o=t.children.length;i<o;i++)l=UTe(s=t.children[i]),(c=GTe(e,s)-l)<h?(h=c,u=l<u?l:u,a=s):c===h&&l<u&&(u=l,a=s);t=a||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),o=[],s=this._chooseSubtree(i,this.data,t,o);for(s.children.push(e),DTe(s,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=HTe(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,NTe(n,this.toBBox),NTe(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(e,t){this.data=HTe([e,t]),this.data.height=e.height+1,this.data.leaf=!1,NTe(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,o,s,a,l,c,u;for(l=c=1/0,r=t;r<=n-t;r++)s=VTe(i=PTe(e,0,r,this.toBBox),o=PTe(e,r,n,this.toBBox)),a=UTe(i)+UTe(o),s<l?(l=s,u=r,c=a<c?a:c):s===l&&a<c&&(c=a,u=r);return u},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:FTe,i=e.leaf?this.compareMinY:jTe;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,o,s=this.toBBox,a=PTe(e,0,t,s),l=PTe(e,n-t,n,s),c=zTe(a)+zTe(l);for(i=t;i<n-t;i++)o=e.children[i],DTe(a,e.leaf?s(o):o),c+=zTe(a);for(i=n-t-1;i>=t;i--)o=e.children[i],DTe(l,e.leaf?s(o):o),c+=zTe(l);return c},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)DTe(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():NTe(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};let qTe=class e{constructor(e,t){this.key=new exe(0,0,0,0),this.bounds=tg(),this.objectIds=new Set,this.key.set(t);const n=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.level=n.level,this.scale=n.scale,this.minScale=e.zoomToScale(n.level-1),this.maxScale=e.zoomToScale(n.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return Gd.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return{$view:{scale:this.scale,timeZone:e}}}createChildTiles(){const t=this.key.getChildKeys(),n=jn.acquire();for(let r=0;r<t.length;r++)n[r]=new e(this.tileInfoView,t[r]);return n}getQuantizationParameters(){return bX.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const ZTe={added:[],removed:[]},YTe=new Set,XTe=new exe(0,0,0,0);function JTe(e,t){const n=eh(t);if(!n)return null;const[r,i]=n.valid;return e[2]>i?[tg([e[0],e[1],i,e[3]]),tg([r,e[1],r+e[2]-i,e[3]])]:e[0]<r?[tg([r,e[1],e[2],e[3]]),tg([i-(r-e[0]),e[1],i,e[3]])]:null}let KTe=class extends dc{constructor(e){super(),this._tiles=new Map,this._index=RTe(9,A("esri-csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||0===lg(e)||0===cg(e))return[];const t=JTe(e,this.tileScheme.spatialReference);return null!=t?[...new Set([...this.boundsIntersections(t[0]),...this.boundsIntersections(t[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]};for(const n of e.added)if(!this.has(n)){const e=new qTe(this.tileScheme,n);this._tiles.set(n,e),this._index.insert(e),t.added.push(e)}for(const n of e.removed)if(this.has(n)){const e=this.get(n);this._tiles.delete(n),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach((e=>this.tiles.push(e))),(t.added.length||t.removed.length)&&this.emit("update",t)}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0);if(!t)return;const{spans:n,lodInfo:r}=t,{level:i}=r;if(n.length>0)for(const{row:o,colFrom:s,colTo:a}of n)for(let e=s;e<=a;e++){const t=XTe.set(i,o,r.normalizeCol(e),r.getWorldForColumn(e)).id;if(YTe.add(t),!this.has(t)){const e=new qTe(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),ZTe.added.push(e)}}for(let o=this.tiles.length-1;o>=0;o--){const e=this.tiles[o];YTe.has(e.id)||(this._tiles.delete(e.id),this.tiles.splice(o,1),this._index.remove(e),ZTe.removed.push(e))}(ZTe.added.length||ZTe.removed.length)&&this.emit("update",ZTe),sxe.pool.release(t),YTe.clear(),ZTe.added.length=0,ZTe.removed.length=0}};const QTe=1e-30,eEe=512,tEe=16777216,nEe=8,rEe=29,iEe=24,oEe=4,sEe=0,aEe=0,lEe=0,cEe=1,uEe=2,hEe=3,pEe=4,dEe=5,fEe=6,mEe=12,yEe=13,gEe=5,vEe=6,bEe=5,wEe=6;var _Ee;(function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"})(_Ee||(_Ee={}));const xEe=6,SEe=1<<xEe,TEe=SEe<<1,EEe=1.05,MEe=3,AEe=1,IEe=3,CEe=3,OEe=5,kEe=6,REe=1.15,LEe=2,NEe=128,PEe=256,DEe=PEe-2*LEe,FEe=2,jEe=128,UEe=10,zEe=1024,GEe=128,VEe=4,BEe=1,$Ee=1<<20,HEe=.75,WEe=10,qEe=.75,ZEe=256,YEe=32,XEe=512,JEe=0,KEe=1,QEe=1,eMe=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],tMe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],nMe=256,rMe=new gy("cyan"),iMe=1,oMe=.25;new gy("black");const sMe="default",aMe="temporary",lMe=new gy("yellow");let cMe=class extends Ms{constructor(e){super(e),this.color=rMe.clone(),this.haloOpacity=iMe,this.fillOpacity=oMe}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity}};S([To({type:gy})],cMe.prototype,"color",void 0),S([To({type:gy})],cMe.prototype,"haloColor",void 0),S([To()],cMe.prototype,"haloOpacity",void 0),S([To()],cMe.prototype,"fillOpacity",void 0),cMe=S([gs("esri.views.support.HighlightOptions")],cMe);const uMe=cMe;var hMe;let pMe=hMe=class extends uMe{constructor(e){super(e),this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return super.equals(e)&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur}get optionsKey(){return`${this.color};${this.haloColor};${this.haloOpacity};${this.fillOpacity};${this.haloWidth};${this.haloBlur}`}clone(){return new hMe({color:this.color.clone(),haloColor:this.haloColor?.clone(),haloOpacity:this.haloOpacity,fillOpacity:this.fillOpacity,haloWidth:this.haloWidth,haloBlur:this.haloBlur})}};S([To()],pMe.prototype,"haloWidth",void 0),S([To()],pMe.prototype,"haloBlur",void 0),pMe=hMe=S([gs("esri.views.2d.support.HighlightOptions")],pMe);const dMe=pMe;var fMe,mMe,yMe,gMe,vMe,bMe,wMe,_Me,xMe,SMe,TMe,EMe,MMe,AMe,IMe,CMe,OMe,kMe,RMe,LMe;(function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"})(fMe||(fMe={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(mMe||(mMe={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(yMe||(yMe={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(gMe||(gMe={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(vMe||(vMe={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(bMe||(bMe={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(wMe||(wMe={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(_Me||(_Me={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(xMe||(xMe={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(SMe||(SMe={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(TMe||(TMe={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(EMe||(EMe={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(MMe||(MMe={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(AMe||(AMe={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(IMe||(IMe={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(CMe||(CMe={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(OMe||(OMe={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(kMe||(kMe={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(RMe||(RMe={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(LMe||(LMe={}));const NMe=33984;var PMe,DMe,FMe;(function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.TransformFeedback=7]="TransformFeedback",e[e.Sync=8]="Sync",e[e.UNCOUNTED=9]="UNCOUNTED",e[e.LinesOfCode=9]="LinesOfCode",e[e.Uniform=10]="Uniform",e[e.COUNT=11]="COUNT"})(PMe||(PMe={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(DMe||(DMe={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}(FMe||(FMe={}));const jMe=33306;var UMe,zMe,GMe,VMe,BMe,$Me,HMe;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(UMe||(UMe={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(zMe||(zMe={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(GMe||(GMe={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(VMe||(VMe={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(BMe||(BMe={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}($Me||($Me={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(HMe||(HMe={}));const WMe=()=>Ye.getLogger("esri.views.webgl.checkWebGLError");function qMe(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const ZMe=!!A("enable-feature:webgl-debug");function YMe(){return ZMe}function XMe(){return ZMe}function JMe(e){if(YMe()){const t=e.getError();if(t){const n=qMe(e,t),r=(new Error).stack;WMe().error(new et("webgl-error","WebGL error occurred",{message:n,stack:r}))}}}var KMe;function QMe(e){switch(e){case _Me.BYTE:case _Me.UNSIGNED_BYTE:return 1;case _Me.SHORT:case _Me.UNSIGNED_SHORT:case _Me.HALF_FLOAT:return 2;case _Me.FLOAT:case _Me.INT:case _Me.UNSIGNED_INT:return 4}}function eAe(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function tAe(e,t,n,r,i=0){const o=e.gl;e.bindBuffer(n);for(const s of r){const n=t.get(s.name);if(null==n){console.warn(`There is no location for vertex attribute '${s.name}' defined.`);continue}const r=i*s.stride;if(s.count<=4)o.vertexAttribPointer(n,s.count,s.type,s.normalized,s.stride,s.offset+r),o.enableVertexAttribArray(n),s.divisor>0&&e.gl.vertexAttribDivisor(n,s.divisor);else if(9===s.count)for(let t=0;t<3;t++)o.vertexAttribPointer(n+t,3,s.type,s.normalized,s.stride,s.offset+12*t+r),o.enableVertexAttribArray(n+t),s.divisor>0&&e.gl.vertexAttribDivisor(n+t,s.divisor);else if(16===s.count)for(let t=0;t<4;t++)o.vertexAttribPointer(n+t,4,s.type,s.normalized,s.stride,s.offset+16*t+r),o.enableVertexAttribArray(n+t),s.divisor>0&&e.gl?.vertexAttribDivisor(n+t,s.divisor);else console.error("Unsupported vertex attribute element count: "+s.count);if(YMe()){const t=eAe(e),n=QMe(s.type),i=s.offset,o=Math.round(n/i)!==n/i?`. Offset not a multiple of stride. DataType requires ${n} bytes, but descriptor has an offset of ${i}`:"";t&&console.error(`Unable to bind vertex attribute "${s.name}" with baseInstanceOffset ${r}${o}:`,t,s)}}}function nAe(e,t,n,r){const i=e.gl;e.bindBuffer(n);for(const o of r){const n=t.get(o.name);if(o.count<=4)i.disableVertexAttribArray(n),o.divisor&&o.divisor>0&&e.gl?.vertexAttribDivisor(n,0);else if(9===o.count)for(let t=0;t<3;t++)i.disableVertexAttribArray(n+t),o.divisor&&o.divisor>0&&e.gl?.vertexAttribDivisor(n+t,0);else if(16===o.count)for(let t=0;t<4;t++)i.disableVertexAttribArray(n+t),o.divisor&&o.divisor>0&&e.gl?.vertexAttribDivisor(n+t,0);else console.error("Unsupported vertex attribute element count: "+o.count)}e.unbindBuffer(vMe.ARRAY_BUFFER)}function rAe(e){switch(e){case AMe.ALPHA:case AMe.LUMINANCE:case AMe.RED:case AMe.RED_INTEGER:case IMe.R8:case IMe.R8I:case IMe.R8UI:case IMe.R8_SNORM:case OMe.STENCIL_INDEX8:return 1;case AMe.LUMINANCE_ALPHA:case AMe.RG:case AMe.RG_INTEGER:case IMe.RGBA4:case IMe.R16F:case IMe.R16I:case IMe.R16UI:case IMe.RG8:case IMe.RG8I:case IMe.RG8UI:case IMe.RG8_SNORM:case IMe.RGB565:case IMe.RGB5_A1:case OMe.DEPTH_COMPONENT16:return 2;case AMe.DEPTH_COMPONENT:case AMe.RGB:case AMe.RGB_INTEGER:case IMe.RGB8:case IMe.RGB8I:case IMe.RGB8UI:case IMe.RGB8_SNORM:case IMe.SRGB8:case OMe.DEPTH_COMPONENT24:return 3;case AMe.DEPTH_STENCIL:case AMe.DEPTH24_STENCIL8:case AMe.RGBA:case AMe.RGBA_INTEGER:case IMe.RGBA8:case IMe.R32F:case IMe.R11F_G11F_B10F:case IMe.RG16F:case IMe.R32I:case IMe.R32UI:case IMe.RG16I:case IMe.RG16UI:case IMe.RGBA8I:case IMe.RGBA8UI:case IMe.RGBA8_SNORM:case IMe.SRGB8_ALPHA8:case IMe.RGB9_E5:case IMe.RGB10_A2UI:case IMe.RGB10_A2:case OMe.DEPTH_STENCIL:case OMe.DEPTH_COMPONENT32F:case OMe.DEPTH24_STENCIL8:return 4;case OMe.DEPTH32F_STENCIL8:return 5;case IMe.RGB16F:case IMe.RGB16I:case IMe.RGB16UI:return 6;case IMe.RG32F:case IMe.RG32I:case IMe.RG32UI:case IMe.RGBA16F:case IMe.RGBA16I:case IMe.RGBA16UI:return 8;case IMe.RGB32F:case IMe.RGB32I:case IMe.RGB32UI:return 12;case IMe.RGBA32F:case IMe.RGBA32I:case IMe.RGBA32UI:return 16;case UMe.COMPRESSED_RGB_S3TC_DXT1_EXT:case UMe.COMPRESSED_RGBA_S3TC_DXT1_EXT:return.5;case UMe.COMPRESSED_RGBA_S3TC_DXT3_EXT:case UMe.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case UMe.COMPRESSED_R11_EAC:case UMe.COMPRESSED_SIGNED_R11_EAC:case UMe.COMPRESSED_RGB8_ETC2:case UMe.COMPRESSED_SRGB8_ETC2:case UMe.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case UMe.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return.5;case UMe.COMPRESSED_RG11_EAC:case UMe.COMPRESSED_SIGNED_RG11_EAC:case UMe.COMPRESSED_RGBA8_ETC2_EAC:case UMe.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}(function(e){e[e.Texture=0]="Texture",e[e.RenderBuffer=1]="RenderBuffer"})(KMe||(KMe={}));let iAe=class{constructor(e=0,t=e){this.width=e,this.height=t,this.target=MMe.TEXTURE_2D,this.pixelFormat=AMe.RGBA,this.dataType=CMe.UNSIGNED_BYTE,this.samplingMode=TMe.LINEAR,this.wrapMode=EMe.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.depth=1,this.isImmutable=!1}};function oAe(e){return e.width<=0||e.height<=0?0:Math.round(e.width*e.height*(e.hasMipmap?4/3:1)*(null==e.internalFormat?4:rAe(e.internalFormat))*(e.target===MMe.TEXTURE_CUBE_MAP?6:1))}let sAe=class e extends iAe{constructor(e,t){switch(super(),this.context=e,Object.assign(this,t),this.internalFormat){case IMe.R16F:case IMe.R16I:case IMe.R16UI:case IMe.R32F:case IMe.R32I:case IMe.R32UI:case IMe.R8_SNORM:case IMe.R8:case IMe.R8I:case IMe.R8UI:this.pixelFormat=AMe.RED}}static validate(t,n){return new e(t,n)}},aAe=class e{constructor(e,t=null,n=null){if(this.type=KMe.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,n=t;else{const n=sAe.validate(e,t);if(!n)throw new et("Texture descriptor invalid");this._descriptor=n}this._descriptor.target===MMe.TEXTURE_CUBE_MAP?this._setDataCubeMap(n):this.setData(n)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return oAe(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}dispose(){this._glName&&this._descriptor.context.instanceCounter.decrement(PMe.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(e,t){const n=this._descriptor;if(n.width!==e||n.height!==t){if(this._wasImmutablyAllocated)throw new et("Immutable textures can't be resized!");n.width=e,n.height=t,this._descriptor.target===MMe.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}_setDataCubeMap(e=null){for(let t=MMe.TEXTURE_CUBE_MAP_POSITIVE_X;t<=MMe.TEXTURE_CUBE_MAP_NEGATIVE_Z;t++)this._setData(e,t)}setData(e){this._setData(e)}_setData(t,n){const r=this._descriptor.context?.gl;if(!r)return;JMe(r),this._glName||(this._glName=r.createTexture(),this._glName&&this._descriptor.context.instanceCounter.increment(PMe.Texture,this));const i=this._descriptor,o=n??i.target,s=gAe(o),a=this._descriptor.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),lAe(i),this._configurePixelStorage(),JMe(r);const l=this._deriveInternalFormat();if(yAe(t)){let e="width"in t?t.width:t.codedWidth,n="height"in t?t.height:t.codedHeight;const a=1;t instanceof HTMLVideoElement&&(e=t.videoWidth,n=t.videoHeight),i.width&&i.height,s&&i.depth,i.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,l,i.hasMipmap,e,n,a),this._texImage(o,0,l,e,n,a,t),JMe(r),i.hasMipmap&&(this.generateMipmap(),JMe(r)),i.width||(i.width=e),i.height||(i.height=n),s&&!i.depth&&(i.depth=a)}else{const{width:e,height:n,depth:a}=i;if(null==e||null==n)throw new et("Width and height must be specified!");if(s&&null==a)throw new et("Depth must be specified!");if(i.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,l,i.hasMipmap,e,n,a),fAe(t)){const s=t.levels,c=vAe(o,e,n,a),u=Math.min(c-1,s.length-1);r.texParameteri(i.target,this._descriptor.context.gl.TEXTURE_MAX_LEVEL,u);const h=l;if(!dAe(h))throw new et("Attempting to use compressed data with an uncompressed format!");this._forEachMipmapLevel(((e,t,n,r)=>{const i=s[Math.min(e,s.length-1)];this._compressedTexImage(o,e,h,t,n,r,i)}),u)}else this._texImage(o,0,l,e,n,a,t),JMe(r),i.hasMipmap&&this.generateMipmap()}cAe(r,this._descriptor),uAe(r,this._descriptor),hAe(this._descriptor.context,this._descriptor),JMe(r),this._descriptor.context.bindTexture(a,e.TEXTURE_UNIT_FOR_UPDATES)}updateData(t,n,r,i,o,s,a=0){s||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const l=this._descriptor,c=this._deriveInternalFormat(),{context:u,pixelFormat:h,dataType:p,target:d,isImmutable:f}=l;if(f&&!this._wasImmutablyAllocated)throw new et("Cannot update immutable texture before allocation!");const m=u.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES,!0);(n<0||r<0||n+i>l.width||r+o>l.height)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:y}=u;a&&y.pixelStorei(y.UNPACK_SKIP_ROWS,a),yAe(s)?y.texSubImage2D(d,t,n,r,i,o,h,p,s):fAe(s)?y.compressedTexSubImage2D(d,t,n,r,i,o,c,s.levels[t]):y.texSubImage2D(d,t,n,r,i,o,h,p,s),a&&y.pixelStorei(y.UNPACK_SKIP_ROWS,0),u.bindTexture(m,e.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,n,r,i,o,s,a,l){l||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const c=this._descriptor,u=this._deriveInternalFormat(),{context:h,pixelFormat:p,dataType:d,isImmutable:f,target:m}=c;if(f&&!this._wasImmutablyAllocated)throw new et("Cannot update immutable texture before allocation!");gAe(m)||console.warn("Attempting to set 3D texture data on a non-3D texture");const y=h.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);h.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),(n<0||r<0||i<0||n+o>c.width||r+s>c.height||i+a>c.depth)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:g}=h;if(fAe(l))l=l.levels[t],g.compressedTexSubImage3D(m,t,n,r,i,o,s,a,u,l);else{const e=l;g.texSubImage3D(m,t,n,r,i,o,s,a,p,d,e)}h.bindTexture(y,e.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new et("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,lAe(t)}t.samplingMode===TMe.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=TMe.LINEAR_MIPMAP_NEAREST):t.samplingMode===TMe.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=TMe.NEAREST_MIPMAP_NEAREST);const n=this._descriptor.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(n,e.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new et("Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,lAe(e)}e.samplingMode===TMe.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,e.samplingMode=TMe.LINEAR):e.samplingMode===TMe.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=TMe.NEAREST)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,lAe(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const e=this._descriptor,t=e.context.gl;this._samplingModeDirty&&(cAe(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(uAe(t,e),this._wrapModeDirty=!1)}_deriveInternalFormat(){if(null!=this._descriptor.internalFormat)return this._descriptor.internalFormat===AMe.DEPTH_STENCIL&&(this._descriptor.internalFormat=AMe.DEPTH24_STENCIL8),this._descriptor.internalFormat;switch(this._descriptor.dataType){case CMe.FLOAT:switch(this._descriptor.pixelFormat){case AMe.RGBA:return this._descriptor.internalFormat=IMe.RGBA32F;case AMe.RGB:return this._descriptor.internalFormat=IMe.RGB32F;default:throw new et("Unable to derive format")}case CMe.UNSIGNED_BYTE:switch(this._descriptor.pixelFormat){case AMe.RGBA:return this._descriptor.internalFormat=IMe.RGBA8;case AMe.RGB:return this._descriptor.internalFormat=IMe.RGB8}}return this._descriptor.internalFormat=this._descriptor.pixelFormat===AMe.DEPTH_STENCIL?AMe.DEPTH24_STENCIL8:this._descriptor.pixelFormat}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:t,flipped:n,preMultiplyAlpha:r}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,n?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r?1:0)}_texStorage(e,t,n,r,i,o){const{gl:s}=this._descriptor.context;if(!pAe(t))throw new et("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const a=n?vAe(e,r,i,o):1;if(gAe(e)){if(null==o)throw new et("Missing depth dimension for 3D texture upload");s.texStorage3D(e,a,t,r,i,o)}else s.texStorage2D(e,a,t,r,i);this._wasImmutablyAllocated=!0}_texImage(e,t,n,r,i,o,s){const a=this._descriptor.context.gl,l=gAe(e),{isImmutable:c,pixelFormat:u,dataType:h}=this._descriptor;if(c){if(null!=s){const n=s;if(l){if(null==o)throw new et("Missing depth dimension for 3D texture upload");a.texSubImage3D(e,t,0,0,0,r,i,o,u,h,n)}else a.texSubImage2D(e,t,0,0,r,i,u,h,n)}}else{const c=s;if(l){if(null==o)throw new et("Missing depth dimension for 3D texture upload");a.texImage3D(e,t,n,r,i,o,0,u,h,c)}else a.texImage2D(e,t,n,r,i,0,u,h,c)}}_compressedTexImage(e,t,n,r,i,o,s){const a=this._descriptor.context.gl,l=gAe(e);if(this._descriptor.isImmutable){if(null!=s)if(l){if(null==o)throw new et("Missing depth dimension for 3D texture upload");a.compressedTexSubImage3D(e,t,0,0,0,r,i,o,n,s)}else a.compressedTexSubImage2D(e,t,0,0,r,i,n,s)}else if(l){if(null==o)throw new et("Missing depth dimension for 3D texture upload");a.compressedTexImage3D(e,t,n,r,i,o,0,s)}else a.compressedTexImage2D(e,t,n,r,i,0,s)}_forEachMipmapLevel(e,t=1/0){let{width:n,height:r,depth:i,hasMipmap:o,target:s}=this._descriptor;const a=s===MMe.TEXTURE_3D;if(null==n||null==r||a&&null==i)throw new et("Missing texture dimensions for mipmap calculation");for(let l=0;e(l,n,r,i),o&&(1!==n||1!==r||a&&1!==i)&&!(l>=t);++l)n=Math.max(1,n>>1),r=Math.max(1,r>>1),a&&(i=Math.max(1,i>>1))}};function lAe(e){(null!=e.width&&e.width<0||null!=e.height&&e.height<0||null!=e.depth&&e.depth<0)&&console.error("Negative dimension parameters are not allowed!")}function cAe(e,t){let n=t.samplingMode,r=t.samplingMode;n===TMe.LINEAR_MIPMAP_NEAREST||n===TMe.LINEAR_MIPMAP_LINEAR?(n=TMe.LINEAR,t.hasMipmap||(r=TMe.LINEAR)):n!==TMe.NEAREST_MIPMAP_NEAREST&&n!==TMe.NEAREST_MIPMAP_LINEAR||(n=TMe.NEAREST,t.hasMipmap||(r=TMe.NEAREST)),e.texParameteri(t.target,e.TEXTURE_MAG_FILTER,n),e.texParameteri(t.target,e.TEXTURE_MIN_FILTER,r)}function uAe(e,t){"number"==typeof t.wrapMode?(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode)):(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode.s),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode.t))}function hAe(e,t){const n=e.capabilities.textureFilterAnisotropic;n&&e.gl.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}function pAe(e){return e in IMe}function dAe(e){return e in UMe}function fAe(e){return null!=e&&"type"in e&&"compressed"===e.type}function mAe(e){return null!=e&&"byteLength"in e}function yAe(e){return null!=e&&!fAe(e)&&!mAe(e)}function gAe(e){return e===MMe.TEXTURE_3D||e===MMe.TEXTURE_2D_ARRAY}function vAe(e,t,n,r=1){let i=Math.max(t,n);return e===MMe.TEXTURE_3D&&(i=Math.max(i,r)),Math.round(Math.log(i)/Math.LN2)+1}aAe.TEXTURE_UNIT_FOR_UPDATES=0;const bAe=()=>Ye.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function wAe(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}const _Ae=[0,0,0,0];let xAe=class{constructor(){this.type="single",this._highlightOptions=new dMe,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*nMe),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,t){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,vEe),t.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<xEe)-1,activeGradient:this}]}_updateGradientTexture(e){const{optionsKey:t}=this._highlightOptions;if(t===this._optionsShadeTexKey)return;this._optionsShadeTexKey=t,wAe(this._highlightOptions,this._convertedHighlightOptions);const n=this._convertedHighlightOptions,r=n.outlinePosition-n.outlineWidth/2-n.outerHaloWidth,i=n.outlinePosition-n.outlineWidth/2,o=n.outlinePosition+n.outlineWidth/2,s=n.outlinePosition+n.outlineWidth/2+n.innerHaloWidth,a=Math.sqrt(Math.PI/2)*QEe,l=Math.abs(r)>a?Math.round(10*(Math.abs(r)-a))/10:0,c=Math.abs(s)>a?Math.round(10*(Math.abs(s)-a))/10:0;let u;l&&!c?bAe().error("The outer rim of the highlight is "+l+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!l&&c?bAe().error("The inner rim of the highlight is "+c+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):l&&c&&bAe().error("The highlight is "+Math.max(l,c)+"px away from the edge of the feature; consider reducing some width values.");const h=[void 0,void 0,void 0,void 0];function p(e,t,n){h[0]=(1-n)*e[0]+n*t[0],h[1]=(1-n)*e[1]+n*t[1],h[2]=(1-n)*e[2]+n*t[2],h[3]=(1-n)*e[3]+n*t[3]}const{_texelData:d}=this;for(let f=0;f<nMe;++f)u=r+f/(nMe-1)*(s-r),u<r?(h[0]=0,h[1]=0,h[2]=0,h[3]=0):u<i?p(_Ae,n.outlineColor,(u-r)/(i-r)):u<o?[h[0],h[1],h[2],h[3]]=n.outlineColor:u<s?p(n.outlineColor,n.fillColor,(u-o)/(s-o)):[h[0],h[1],h[2],h[3]]=n.fillColor,d[4*f]=255*h[0],d[4*f+1]=255*h[1],d[4*f+2]=255*h[2],d[4*f+3]=255*h[3];if(this._minMaxDistance[0]=r,this._minMaxDistance[1]=s,!this._shadeTex){const t=new iAe;t.wrapMode=EMe.CLAMP_TO_EDGE,t.width=nMe,t.height=1,this._shadeTex=new aAe(e,t)}this._shadeTex.updateData(0,0,0,nMe,1,this._texelData)}},SAe=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let t=0;t<e.length;t++)this.gradients[t]||(this.gradients[t]=new xAe),this.gradients[t].setHighlightOptions(e[t].options);for(let t=e.length+1;t<this.gradients.length;t++)this.gradients[t].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const t=[];for(let n=0;n<this.gradients.length;n++){const r=this.gradients[n];t.push({activeReasons:e,activeGradient:r}),e<<=1}return t}};var TAe,EAe,MAe,AAe,IAe,CAe,OAe,kAe,RAe;(function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"})(TAe||(TAe={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(EAe||(EAe={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(MAe||(MAe={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(AAe||(AAe={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(IAe||(IAe={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(CAe||(CAe={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(OAe||(OAe={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(kAe||(kAe={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(RAe||(RAe={}));const LAe={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:xMe.EQUAL,mask:255,op:{fail:SMe.KEEP,zFail:SMe.KEEP,zPass:SMe.REPLACE}}}},NAe={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},PAe={...LAe,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function DAe({pixelRatio:e,state:t,displayLevel:n,requiredLevel:r},i){const o=1/2**(n-i.key.level),s=1/2**(r-i.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:i.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:i.transforms.tileMat3,displayZoomFactor:o,requiredZoomFactor:s,tileOffset:[i.x,i.y],currentScale:t.scale,currentZoom:n,metersPerSRUnit:sp(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function FAe(e){return"highlight"===e.passOptions?.type}function jAe(e){return"hittest"===e.passOptions?.type}function UAe(e){if(!jAe(e))return null;const{position:t,distance:n,smallSymbolDistance:r,smallSymbolSizeThreshold:i}=e.passOptions;return{position:t,distance:n,smallSymbolDistance:r,smallSymbolSizeThreshold:i}}function zAe(e){if(!FAe(e))return null;const{activeReasons:t,highlightAll:n}=e.passOptions;return{activeReasons:t,highlightAll:n?1:0}}function GAe(e,t,n){const r={};for(const i in n)n[i]instanceof Function?r[i]=n[i](e,t):r[i]=n[i];return r}function VAe(e,t){const{attributeView:n,context:r}=e;return{storage:n.getUniforms(r),view:DAe(e,t),hittestRequest:UAe(e),highlight:zAe(e)}}function BAe(e){return{inside:e.selection===OAe.InsideEffect,outside:e.selection===OAe.OutsideEffect}}function $Ae(e){return jAe(e)?NAe:FAe(e)&&"clear"===e.passOptions.stepType?PAe:LAe}function HAe(e){const{row:t,col:n}=e.key,r=n*eEe,i=t*eEe;return{tileOffsetFromLocalOrigin:[r%tEe,i%tEe],maxIntsToLocalOrigin:[Math.floor(r/tEe),Math.floor(i/tEe)]}}const WAe=new au({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function qAe(e){return WAe.toJSON(e)}function ZAe(e){const{bandCount:t,attributeTable:n,colormap:r,pixelType:i}=e.raster.rasterInfo;return 1===t&&(null!=n||null!=r||"u8"===i||"s8"===i)}function YAe(e,t){return null==t?(e?.destroy(),null):("single"===e?.type&&Array.isArray(t)&&(e.destroy(),e=null),"multi"!==e?.type||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new SAe:new xAe),Array.isArray(t)?"multi"===e.type&&e.setHighlightOptions(t):"single"===e.type&&e.setHighlightOptions(t),e)}function XAe(e,t,n,r){const{painter:i,highlightGradient:o}=e,{highlight:s}=i.effects;if(!o)return;const a=e.passOptions,l=o.getReasonsWithGradients();for(let c=0;c<l.length;c++){const o={...e,passOptions:{type:"highlight",activeGradient:null!=r?l[r].activeGradient:l[c].activeGradient,activeReasons:l[c].activeReasons,stepType:"burn",highlightAll:t}};if(s.bind(o),n(o),c<l.length-1){let i=0;for(let e=c+1;e<l.length;e++)i|=l[e].activeReasons;n({...e,passOptions:{type:"highlight",activeGradient:null!=r?l[r].activeGradient:l[c].activeGradient,activeReasons:i,stepType:"clear",highlightAll:t}})}const a={...e,passOptions:{type:"highlight",activeGradient:null!=r?l[r].activeGradient:l[c].activeGradient,activeReasons:l[c].activeReasons,stepType:"draw",highlightAll:t}};i.setPipelineState($Ae(e)),i.updatePipelineState(e.context),s.draw(a),s.unbind()}e.passOptions=a}const JAe=e=>parseFloat(e)/100;function KAe(e,t,n){const r="string"==typeof e.left?JAe(e.left)*t:e.left,i="string"==typeof e.right?JAe(e.right)*t:e.right,o="string"==typeof e.top?JAe(e.top)*n:e.top,s="string"==typeof e.bottom?JAe(e.bottom)*n:e.bottom,a=o;return{xmin:r,xmax:Math.max(t-i,r),ymin:a,ymax:Math.max(n-s,o)}}function QAe(e,t,n,r){switch(t.type){case"rect":{const{width:r,height:i}=e,{xmin:o,xmax:s,ymin:a,ymax:l}=KAe(t,r,i),{x:c,y:u}=n;return c>o&&c<s&&u>a&&u<l}case"path":return 0===t.path.length||!Array.isArray(t.path[0][0])||yd(t.path,[n.x,n.y]);case"geometry":return null==t.geometry||("polygon"===t.geometry.type?fd(t.geometry,r):ld(t.geometry,r))}}var eIe;let tIe=eIe=class extends Ms{constructor(...e){super(...e),this.name="default",this.options=new dMe}clone(){return new eIe({name:this.name,options:this.options.clone()})}};S([To({type:String})],tIe.prototype,"name",void 0),S([To({type:dMe})],tIe.prototype,"options",void 0),tIe=eIe=S([gs("esri.views.2d.support.HighlightGroup")],tIe);const nIe=Rc.ofType(tIe);function rIe(){return new nIe([{name:sMe,options:new dMe},{name:aMe,options:new dMe({color:lMe})}])}function iIe(e){if(!e.highlights)return null;const t=e.highlights.findIndex((e=>"default"===e.name));return-1===t?null:e.highlights.items[t].options}function oIe(e,t){if(!e.highlights){if(!t)return;e.highlights=new nIe([{name:"default",options:new dMe}])}const n=e.highlights.findIndex((e=>"default"===e.name));t?e.highlights.items[n].options=t:e.highlights.removeAt(n)}async function sIe(e,t,n){const r=Qme(t)?Kme(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let i=new Set;const o=new Set;let s=!1,a=null,l=null;n?.include?lIe(n.include,aIe(e,(e=>{i.add(e),uIe(e,(e=>o.add(e)))}),((e,t)=>{o.add(e),i.add(t)}),(e=>{a||(a=new Set),a.add(e)}),(e=>i.add(e)),(()=>s=!0))):(s=!0,i=new Set(e.allLayerViews),i.forEach((e=>{uIe(e,(e=>o.add(e)))}))),n?.exclude&&lIe(n.exclude,aIe(e,(e=>{i.delete(e),uIe(e,(e=>o.delete(e)))}),(e=>o.delete(e)),(e=>{l||(l=new Set),l.add(e)})));const c=e.toMap(r),u=e.allLayerViews.filter((t=>!t.suspended&&i.has(t)&&t.clips.every((t=>QAe(e,t,r,c))))).reverse();let h=[...s?e.graphicsView.hitTest(c).map((e=>({type:"graphic",graphic:e,layer:null,mapPoint:c}))):[],...await Promise.all(u.map((e=>e.hitTest(c,r))).toArray())].filter(q).flat().filter(q);return h=h.filter((e=>"graphic"!==e.type||"subtype-group"!==e.layer?.type||o.has(e.graphic.layer))),a&&(h=h.filter((e=>!("graphic"in e)||!e.graphic||a?.has(cIe(e.graphic))))),l&&(h=h.filter((e=>!("graphic"in e)||!e.graphic||!l?.has(cIe(e.graphic))))),{screenPoint:r,results:h}}function aIe(e,t,n,r,i,o){return s=>{if(s instanceof jL){if(s.layer===e)o?.();else{const t=e.allLayerViews.find((e=>e.layer===s.layer));t&&i?.(t)}r(cIe(s))}else if(!("layer"in s)||!("element"in s))if("subtype-sublayer"===s.type){const t=e.allLayerViews.find((e=>e.layer===s.parent));t&&n(s,t)}else{const n=e.allLayerViews.find((e=>e.layer===s));n&&t(n)}}}function lIe(e,t){if(e)if(ct(e))for(const n of e)if(ct(n))for(const e of n)t(e);else t(n);else t(e)}function cIe(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function uIe({layer:e},t){"subtype-group"===e?.type&&e.sublayers.forEach((e=>{t(e)}))}rIe().items.map((e=>e.name));let hIe=null,pIe=!0;function dIe(e,t,n){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(pIe)try{return new ImageData(e,t)}catch{pIe=!1}return yIe(e,t,n)}function fIe(e,t,n,r){if(!t||!n)throw new Error("Cannot construct image data without dimensions");if(pIe)try{return new ImageData(e,t,n)}catch{pIe=!1}const i=yIe(t,n,r);return i.data.set(e,0),i}function mIe(){return hIe||(hIe=document.createElement("canvas"),hIe.width=1,hIe.height=1),hIe}function yIe(e,t,n){return n||(n=mIe()),n.getContext("2d").createImageData(e,t)}async function gIe(e,t){const n=window.URL.createObjectURL(e);try{const{data:e}=await Bl(n,{...t,responseType:"image"});return e}catch(r){throw dr(r)?r:new et("invalid-image",`Could not fetch requested image at ${n}`)}finally{window.URL.revokeObjectURL(n)}}async function vIe(e,t){const{arrayBuffer:r,mediaType:i}=await bIe(e,t),o="image/png"===i;if("image/gif"===i){const{isAnimatedGIF:e,parseGif:i}=await n.e(4390).then(n.bind(n,94390));if(e(r))return i(r,t)}if(o){const{isAnimatedPNG:e,parseApng:i}=await n.e(3787).then(n.bind(n,13787));if(e(r))return i(r,t)}return gIe(new Blob([r],{type:i}),t)}async function bIe(e,t){const n=qa(e);if(n?.isBase64)return{arrayBuffer:Js(n.data),mediaType:n.mediaType};const r=await Bl(e,{responseType:"array-buffer",...t});return{arrayBuffer:r.data,mediaType:r.getHeader?.("Content-Type")??""}}function wIe(e,t,n){const{ctx:r,canvas:i}=xIe(e,n),o=r.getImageData(0,0,e.width,e.height),s=MIe(i,t);return SIe(i),{dataUrl:s,data:o}}function _Ie(e,t){const{ctx:n,canvas:r}=xIe(e,t),i=n.getImageData(0,0,e.width,e.height);return SIe(r),i}function xIe(e,t){const n=TIe();t.premultipliedAlpha&&RIe(e),n.width=e.width,n.height=e.height;const r=n.getContext("2d",{willReadFrequently:!0});return r.putImageData(e,0,0),t.flipY&&kIe(r),{ctx:r,canvas:n}}function SIe(e){e.width=0,e.height=0}function TIe(){return null==EIe&&(EIe=document.createElement("canvas")),EIe}let EIe=null;function MIe(e,t){const n=LIe[t.format],r=t.quality/100;return e.toDataURL(n,r)}function AIe(e,t){const n=OIe(e),r=DIe[n];return{format:n,quality:Wm(t??r,0,100)}}function IIe(e,t){return t/Math.max(e[0],e[1])}function CIe(e,t,n,r=0,i=0,o=e.width-r,s=e.height-i,a=!1){const{data:l}=e,{width:c,height:u,data:h}=t,p=o/c,d=s/u,f=Math.ceil(p/2),m=Math.ceil(d/2),y=e.width;for(let g=0;g<u;g++)for(let e=0;e<c;e++){const t=4*(e+(a?u-g-1:g)*c);let o=0,s=0,v=0,b=0,w=0,_=0;const x=(g+.5)*d;for(let a=Math.floor(g*d);a<(g+1)*d;a++){const t=Math.abs(x-(a+.5))/m,c=(e+.5)*p,u=t*t;for(let h=Math.floor(e*p);h<(e+1)*p;h++){const e=Math.abs(c-(h+.5))/f,t=Math.sqrt(u+e*e);if(t>=1)continue;let p=2*t*t*t-3*t*t+1;const d=4*(r+h+(i+a)*y);_+=p*l[d+3],s+=p,!n&&l[d+3]<255&&(p=p*l[d+3]/255),v+=p*l[d],b+=p*l[d+1],w+=p*l[d+2],o+=p}}h[t]=v/o,h[t+1]=b/o,h[t+2]=w/o,h[t+3]=_/s}return t}function OIe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return PIe}}function kIe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function RIe(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4){const e=t[r+3];if(255!==e&&e>0){const n=255/e;t[r]=t[r]*n,t[r+1]=t[r+1]*n,t[r+2]=t[r+2]*n}}}const LIe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},NIe=98,PIe="png",DIe={png:100,jpg:NIe,jpeg:NIe},FIe=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:dIe,encode:wIe,encodeData:_Ie,getFormatAndQuality:AIe,getMaximumResolutionScale:IIe,resampleHermite:CIe,toDataUrl:MIe},Symbol.toStringTag,{value:"Module"})),jIe={flipY:!0,premultipliedAlpha:!0};async function UIe(e,t){const n=await GIe(e,t),{format:r,quality:i}=AIe(t?.format,t?.quality);return wIe(n,{format:r,quality:i},jIe)}async function zIe(e,t){const n=await GIe(e,t);return _Ie(n,jIe)}function GIe(e,t){const n=$Ie(t||{},BIe(e.stage,e.size),e.size,e.padding),r=VIe(t,e.allLayerViews);return e.stage.takeScreenshot(n,r,e.backgroundColor,t?.rotation)}function VIe(e={},t){if(!e.layers)return;const n=[];return e.layers.forEach((e=>{const r=t.find((t=>t.layer.id===e.id));r?.container&&n.push(r.container)})),n}function BIe(e,t){return Math.min(4,IIe(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function $Ie(e,t,n,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let i=null;null!=e.width&&null!=e.height?i=[e.width,e.height]:null==e.width&&null!=e.height?i=[e.height,e.height]:null!=e.width&&null==e.height?i=[e.width,e.width]:null==e.width&&null==e.height&&(i=null);const o=n[0]-(r.left+r.right),s=n[1]-(r.top+r.bottom);let a,l,c=e.area||{x:0,y:0,width:o,height:s};if(i){const e=o/s,t=i[0]/i[1];if(t>e){const e=c.width/t;c={x:c.x,y:Math.round(c.y+(c.height-e)/2),width:c.width,height:Math.round(e)}}else{const e=c.height*t;c={x:Math.round(c.x+(c.width-e)/2),y:c.y,width:Math.round(e),height:c.height}}}else i=[c.width,c.height];return i[0]>c.width?(a=Math.min(i[0]/c.width,t),l=i[0]/c.width/a):(a=1,l=i[0]/c.width),{cropArea:{x:Math.round((c.x+r.left)*a),y:Math.round((c.y+r.top)*a),width:Math.round(c.width*a),height:Math.round(c.height*a)},outputScale:l,resolutionScale:a}}const HIe=160;let WIe=class extends Ms{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval((()=>{performance.now()-this._timestamp>=HIe&&this.clear()}),HIe))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};S([To()],WIe.prototype,"_timer",void 0),S([To()],WIe.prototype,"stationary",null),WIe=S([gs("esri.views.2d.support.StationaryManager")],WIe);const qIe=e=>e.includes("Brush");let ZIe,YIe=class{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),qIe(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}};function XIe(){return ZIe||(ZIe=QIe()),ZIe}let JIe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}};function KIe(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let n=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(null==n&&(n=t.getContext("webgl2"),null!=n&&(e.majorPerformanceCaveat=!0)),null==n)return n;e.available=!0,e.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return r&&(e.supportsHighPrecisionFragment=r.precision>0),n}function QIe(){const e=new JIe,t=KIe(e);return null==t||(e.supportsColorBufferFloat=null!==t.getExtension("EXT_color_buffer_float"),e.supportsColorBufferFloatBlend=null!==t.getExtension("EXT_float_blend"),e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||null!==t.getExtension("EXT_color_buffer_half_float")),e}function eCe(e){const t=XIe();return t.available?"3d"===e&&t.majorPerformanceCaveat?new et("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new et("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new et("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new et("webgl:required","WebGL2 is required but not supported.",(new Error).stack)}function tCe(e){return e&&"nodeType"in e}function nCe(e){return e&&"function"==typeof e.render}const rCe={component:"esri-component"};let iCe=class extends Ms{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(e){this._set("id",e)}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(rCe.component),t&&t.classList.remove(rCe.component),this._set("node",e))}castNode(e){return this.widget?.destroy(),e?"string"==typeof e||tCe(e)?(this._set("widget",null),Xhe(e)):(nCe(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};S([To()],iCe.prototype,"id",null),S([To()],iCe.prototype,"node",null),S([Dp("node")],iCe.prototype,"castNode",null),S([To({readOnly:!0})],iCe.prototype,"widget",void 0),iCe=S([gs("esri.views.ui.Component")],iCe);const oCe=iCe,sCe="calcite-mode-";function aCe(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function lCe(){return aCe().startsWith("dark")}function cCe(){return`${sCe}${lCe()?"dark":"light"}`}function uCe(e){hCe(e),e.classList.add(cCe())}function hCe(e){Array.from(e.classList).forEach((t=>{t.startsWith(sCe)&&e.classList.remove(t)}))}const pCe={left:0,top:0,bottom:0,right:0},dCe={bottom:30,top:15,right:15,left:15},fCe="esri-ui",mCe={ui:fCe,corner:`${fCe}-corner`,innerContainer:`${fCe}-inner-container`,manualContainer:`${fCe}-manual-container`,cornerContainer:`${fCe}-corner-container`,topLeft:`${fCe}-top-left`,topRight:`${fCe}-top-right`,bottomLeft:`${fCe}-bottom-left`,bottomRight:`${fCe}-bottom-right`};function yCe(e){return e&&!e._started&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}function gCe(e){return 0===e?"0":`${e}px`}function vCe(e){const t="object"==typeof e&&null!==e&&Object.getPrototypeOf(e);return null!==t&&t!==Object.prototype||!("component"in e||"index"in e||"position"in e)?null:e}function bCe(e,{top:t,bottom:n,left:r,right:i}){e.style.top=t,e.style.bottom=n,e.style.left=r,e.style.right=i}let wCe=class extends dc.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Wd(),this.view=null,this._applyViewPadding=()=>{const e=this.container;e&&bCe(e,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const e=this._innerContainer;e&&bCe(e,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([WR((()=>[this.view?.padding,this.container]),this._applyViewPadding,tL),WR((()=>this.padding),this._applyUIPadding,tL),WR((()=>[this.container,this._locale]),(([e,t])=>{e&&e.setAttribute("lang",t)}),tL),Yd((e=>{this._locale=e}))])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(mCe.ui),uCe(e),this._attachContainers(e)),t&&(t.classList.remove(mCe.ui),bCe(t,{top:"",bottom:"",left:"",right:""}),t.textContent=""),this._set("container",e))}get height(){const e=this.view?.height??0;if(0===e)return e;const t=this._getViewPadding(),{top:n,bottom:r}=t;return Math.max(e-n-r,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return"number"==typeof e?{bottom:e,top:e,right:e,left:e}:{...dCe,...e}}get width(){const e=this.view?.width??0;if(0===e)return e;const t=this._getViewPadding(),{left:n,right:r}=t;return Math.max(e-n-r,0)}add(e,t){let n,r,i;if(Array.isArray(e))return void e.forEach((e=>this.add(e,t)));const o=vCe(e);o&&({index:n,position:t,component:e,key:r}=o),t&&"object"==typeof t&&({index:n,key:r,position:t,internal:i}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,n,r,i)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map((e=>this.remove(e,t)));const n=this._find(e);if(n){if(this._componentMap.has(n)&&this._componentMap.get(n)?.key!==t)return;const e=this._components.indexOf(n);return n.node.parentNode?.removeChild(n.node),this._componentMap.delete(n),n.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(e,1)[0]}}empty(e,t={removeInternal:!1}){if(Array.isArray(e)){for(const n of e)this.empty(n,t);return}const n=this._positionNameToContainerLookup[e??"manual"],r=Array.prototype.slice.call(n.children).map((e=>this._findByNode(e))).filter((e=>null!=e&&(!this._componentMap.get(e)?.internal||t.removeInternal)));for(const i of r)this.remove(i)}move(e,t){if(Array.isArray(e)&&e.forEach((e=>this.move(e,t))),!e)return;let n;const r=vCe(e)||vCe(t);if(r&&(n=r.index,t=r.position,e=r.component||e),t&&!this._isValidPosition(t))return;const i=this.remove(e);i&&this.add(i,{position:t,index:n})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}getComponents(e,t={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap((e=>this._getComponentsAtPosition(e,t))):this._getComponentsAtPosition(e,t):this._components.filter((e=>t.includeInternal||!this._componentMap.get(e)?.internal)).map((({widget:e,node:t})=>e??t))}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,n,r,i){e instanceof oCe||(e=new oCe({node:e}));const{widget:o}=e;null!=o&&o instanceof Ms&&o.addHandles(Tt((()=>{queueMicrotask((()=>this.remove(e)))})),this._removeWidgetHandleKey),this._place({component:e,position:t,index:n}),this._components.push(e),this._componentMap.set(e,{key:r,internal:i})}_find(e){return e?e instanceof oCe?this._findByComponent(e):"string"==typeof e?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){return this.view?.padding??pCe}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(mCe.innerContainer,mCe.cornerContainer);const t=document.createElement("div");t.classList.add(mCe.innerContainer,mCe.manualContainer);const n=document.createElement("div");n.classList.add(mCe.topLeft,mCe.corner),e.appendChild(n);const r=document.createElement("div");r.classList.add(mCe.topRight,mCe.corner),e.appendChild(r);const i=document.createElement("div");i.classList.add(mCe.bottomLeft,mCe.corner),e.appendChild(i);const o=document.createElement("div");o.classList.add(mCe.bottomRight,mCe.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=t;const s=Lde();this._cornerNameToContainerLookup={"top-left":n,"top-right":r,"bottom-left":i,"bottom-right":o,"top-leading":s?r:n,"top-trailing":s?n:r,"bottom-leading":s?o:i,"bottom-trailing":s?i:o},this._positionNameToContainerLookup={manual:t,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.position??"manual",{component:n,index:r}=e,i=this._positionNameToContainerLookup[t],o=null!=r&&r>-1;if(yCe(n.widget)&&n.widget.startup(),!o)return void i.appendChild(n.node);const s=Array.from(i.children);if(0===r){const{firstChild:e}=i;return void(e?e.parentNode?.insertBefore(n.node,e):i.appendChild(n.node))}if(r>=s.length)return void i.appendChild(n.node);const a=s[r];a.parentNode?.insertBefore(n.node,a)}_toPixelPosition(e){return{top:gCe(e.top),left:gCe(e.left),right:gCe(e.right),bottom:gCe(e.bottom)}}_findByComponent(e){return this._components.find((t=>t===e))??null}_findById(e){return this._components.find((({id:t})=>t===e))??null}_findByNode(e){return this._components.find((({node:t})=>t===e))??null}_getComponentsAtPosition(e,t){const n=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(n.children).map((e=>this._findByNode(e))).filter(q).filter((e=>t.includeInternal||!this._componentMap.get(e)?.internal)).map((({widget:e,node:t})=>e??t))}};S([To()],wCe.prototype,"_locale",void 0),S([To()],wCe.prototype,"container",null),S([To()],wCe.prototype,"height",null),S([To({value:dCe})],wCe.prototype,"padding",null),S([Dp("padding")],wCe.prototype,"castPadding",null),S([To()],wCe.prototype,"view",void 0),S([To()],wCe.prototype,"width",null),wCe=S([gs("esri.views.ui.UI")],wCe);const _Ce=wCe,xCe={handleInterceptedEvent:(e,t,n,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||n,[r]))},SCe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{"-"===t.charAt(0)?e.style.setProperty(t,n):e.style[t]=n}},TCe=e=>({...SCe,...e}),ECe=(e,t)=>{const n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n},MCe=(e,t)=>e.find(t),ACe=(e,t,n=!1)=>{let r=e;return t.forEach(((e,i)=>{const o=r?.children?MCe(r.children,(t=>t.domNode===e)):void 0;n&&!o&&i!==t.length-1||(r=o)})),r},ICe=e=>{let t;const n={...xCe,...e},r=TCe(n),i=r.performanceLogger;let o,s=!0,a=!1;const l=[],c=[],u=(e,o,s)=>{let a;r.eventHandlerInterceptor=(e,r,o,s)=>function(e){let r;i("domEvent",e);const o=ECe(e.currentTarget,a.domNode),s=o.some((e=>customElements.get(e?.tagName?.toLowerCase())));if(e.eventPhase!==Event.CAPTURING_PHASE&&s){const t=e.composedPath(),n=t.slice(t.indexOf(e.currentTarget),t.indexOf(a.domNode)).reverse();r=ACe(a.getLastRender(),n,!0)}else o.reverse(),r=ACe(a.getLastRender(),o);let l;return r&&(l=n.handleInterceptedEvent(t,r,this,e)),i("domEventProcessed",e),l},n.postProcessProjectionOptions?.(r);const u=s();a=e(o,u,r),r.eventHandlerInterceptor=void 0,l.push(a),c.push(s),n.afterFirstVNodeRendered&&n.afterFirstVNodeRendered(a,u)};let h=()=>{if(o=void 0,s){s=!1,i("renderStart",void 0);for(let t=0;t<l.length;t++){const n=c[t]();i("rendered",void 0);try{l[t].update(n)}catch(e){console.error(e)}i("patched",void 0)}i("renderDone",void 0),s=!0}};return n.modifyDoRenderImplementation&&(h=n.modifyDoRenderImplementation(h,l,c)),t={renderNow:h,scheduleRender:()=>{o||a||(o=requestAnimationFrame(h))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),a=!0},resume:()=>{a=!1,s=!0,t.scheduleRender()},append:(e,t)=>{u(gfe.append,e,t)},insertBefore:(e,t)=>{u(gfe.insertBefore,e,t)},merge:(e,t)=>{u(gfe.merge,e,t)},replace:(e,t)=>{u(gfe.replace,e,t)},detach:e=>{for(let t=0;t<c.length;t++)if(c[t]===e)return c.splice(t,1),l.splice(t,1)[0];throw new Error("renderFunction was not found")}},t},CCe="calcite-mode-auto",OCe="calcite-mode-dark",kCe="calcite-mode-light",RCe={autoMode:CCe,darkMode:OCe,lightMode:kCe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},LCe={filter:250,nextTick:0,resize:150,reposition:100};var NCe={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},PCe=Object.defineProperty,DCe=(e,t)=>{for(var n in t)PCe(e,n,{get:t[n],enumerable:!0})},FCe=new WeakMap,jCe=e=>FCe.get(e),UCe=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return FCe.set(e,n)},zCe=(e,t)=>t in e,GCe=(e,t)=>(0,console.error)(e,t),VCe=new Map,BCe=[],$Ce="slot-fb{display:contents}slot-fb[hidden]{display:none}",HCe="http://www.w3.org/1999/xlink",WCe=typeof window<"u"?window:{},qCe=WCe.document||{head:{}},ZCe=WCe.HTMLElement||class{},YCe={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},XCe=(()=>{let e=!1;try{qCe.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),JCe=e=>Promise.resolve(e),KCe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),QCe=!1,eOe=[],tOe=[],nOe=(e,t)=>n=>{e.push(n),QCe||(QCe=!0,t&&4&YCe.$flags$?oOe(iOe):YCe.raf(iOe))},rOe=e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(t){GCe(t)}e.length=0},iOe=()=>{rOe(eOe),rOe(tOe),(QCe=eOe.length>0)&&YCe.raf(iOe)},oOe=e=>JCe().then(e),sOe=nOe(eOe,!1),aOe=nOe(tOe,!0),lOe=e=>{const t=new URL(e,YCe.$resourcesUrl$);return t.origin!==WCe.location.origin?t.href:t.pathname},cOe=e=>YCe.$resourcesUrl$=e,uOe={},hOe="http://www.w3.org/2000/svg",pOe="http://www.w3.org/1999/xhtml",dOe=e=>null!=e,fOe=e=>(e=typeof e,"object"===e||"function"===e);function mOe(e){var t,n,r;return null!=(r=null==(n=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:n.getAttribute("content"))?r:void 0}var yOe={};DCe(yOe,{err:()=>vOe,map:()=>bOe,ok:()=>gOe,unwrap:()=>wOe,unwrapErr:()=>_Oe});var gOe=e=>({isOk:!0,isErr:!1,value:e}),vOe=e=>({isOk:!1,isErr:!0,value:e});function bOe(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then((e=>gOe(e))):gOe(n)}if(e.isErr){const t=e.value;return vOe(t)}throw"should never get here"}var wOe=e=>{if(e.isOk)return e.value;throw e.value},_Oe=e=>{if(e.isErr)return e.value;throw e.value},xOe=(e,t="")=>()=>{},SOe=(e,t,...n)=>{let r=null,i=null,o=null,s=!1,a=!1;const l=[],c=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?c(r):null!=r&&"boolean"!=typeof r&&((s="function"!=typeof e&&!fOe(r))&&(r=String(r)),s&&a?l[l.length-1].$text$+=r:l.push(s?TOe(null,r):r),a=s)};if(c(n),t){t.key&&(i=t.key),t.name&&(o=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,l,AOe);const u=TOe(e,null);return u.$attrs$=t,l.length>0&&(u.$children$=l),u.$key$=i,u.$name$=o,u},TOe=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return n},EOe={},MOe=e=>e&&e.$tag$===EOe,AOe={forEach:(e,t)=>e.map(IOe).forEach(t),map:(e,t)=>e.map(IOe).map(t).map(COe)},IOe=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),COe=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),SOe(e.vtag,t,...e.vchildren||[])}const t=TOe(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},OOe=e=>BCe.map((t=>t(e))).find((e=>!!e)),kOe=(e,t)=>null==e||fOe(e)?e:4&t?"false"!==e&&(""===e||!!e):2&t?parseFloat(e):1&t?String(e):e,ROe=e=>e,LOe=(e,t,n)=>{const r=ROe(e);return{emit:e=>NOe(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},NOe=(e,t,n)=>{const r=YCe.ce(t,n);return e.dispatchEvent(r),r},POe=new WeakMap,DOe=(e,t,n)=>{let r=VCe.get(e);KCe&&n?(r=r||new CSSStyleSheet,"string"==typeof r?r=t:r.replaceSync(t)):r=t,VCe.set(e,r)},FOe=(e,t,n)=>{var r;const i=UOe(t,n),o=VCe.get(i);if(e=11===e.nodeType?e:qCe,o)if("string"==typeof o){e=e.head||e;let n,s=POe.get(e);if(s||POe.set(e,s=new Set),!s.has(i)){{n=qCe.createElement("style"),n.innerHTML=o;const i=null!=(r=YCe.$nonce$)?r:mOe(qCe);null!=i&&n.setAttribute("nonce",i),(!(1&t.$flags$)||1&t.$flags$&&"HEAD"!==e.nodeName)&&e.insertBefore(n,e.querySelector("link"))}4&t.$flags$&&(n.innerHTML+=$Ce),s&&s.add(i)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return i},jOe=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=xOe("attachStyles",t.$tagName$),o=FOe(n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$);10&r&&2&r&&(n["s-sc"]=o,n.classList.add(o+"-h"),2&r&&n.classList.add(o+"-s")),i()},UOe=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),zOe=(e,t,n,r,i,o)=>{if(n!==r){let s=zCe(e,t),a=t.toLowerCase();if("class"===t){const t=e.classList,i=VOe(n),o=VOe(r);t.remove(...i.filter((e=>e&&!o.includes(e)))),t.add(...o.filter((e=>e&&!i.includes(e))))}else if("style"===t){for(const t in n)(!r||null==r[t])&&(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)(!n||r[t]!==n[t])&&(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"!==t)if("ref"===t)r&&r(e);else if(e.__lookupSetter__(t)||"o"!==t[0]||"n"!==t[1]){const l=fOe(r);if((s||l&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{const i=r??"";"list"===t?s=!1:(null==n||e[t]!=i)&&(e[t]=i)}}catch{}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),null==r||!1===r?(!1!==r||""===e.getAttribute(t))&&(c?e.removeAttributeNS(HCe,t):e.removeAttribute(t)):(!s||4&o||i)&&!l&&(r=!0===r?"":r,c?e.setAttributeNS(HCe,t,r):e.setAttribute(t,r))}else if(t="-"===t[2]?t.slice(3):zCe(WCe,a)?a.slice(2):a[2]+t.slice(3),n||r){const i=t.endsWith(BOe);t=t.replace($Oe,""),n&&YCe.rel(e,t,n,i),r&&YCe.ael(e,t,r,i)}}},GOe=/\s/,VOe=e=>e?e.split(GOe):[],BOe="Capture",$Oe=new RegExp(BOe+"$"),HOe=(e,t,n)=>{const r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||uOe,o=t.$attrs$||uOe;for(const s of WOe(Object.keys(i)))s in o||zOe(r,s,i[s],void 0,n,t.$flags$);for(const s of WOe(Object.keys(o)))zOe(r,s,i[s],o[s],n,t.$flags$)};function WOe(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var qOe,ZOe,YOe,XOe=!1,JOe=!1,KOe=!1,QOe=!1,eke=(e,t,n,r)=>{var i;const o=t.$children$[n];let s,a,l,c=0;if(XOe||(KOe=!0,"slot"===o.$tag$&&(qOe&&r.classList.add(qOe+"-s"),o.$flags$|=o.$children$?2:1)),null!==o.$text$)s=o.$elm$=qCe.createTextNode(o.$text$);else if(1&o.$flags$)s=o.$elm$=qCe.createTextNode("");else{if(QOe||(QOe="svg"===o.$tag$),s=o.$elm$=qCe.createElementNS(QOe?hOe:pOe,!XOe&&NCe.slotRelocation&&2&o.$flags$?"slot-fb":o.$tag$),QOe&&"foreignObject"===o.$tag$&&(QOe=!1),HOe(null,o,QOe),s.getRootNode().querySelector("body")&&NCe.scoped&&dOe(qOe)&&s["s-si"]!==qOe&&s.classList.add(s["s-si"]=qOe),yke(s,r),o.$children$)for(c=0;c<o.$children$.length;++c)a=eke(e,o,c,s),a&&s.appendChild(a);"svg"===o.$tag$?QOe=!1:"foreignObject"===s.tagName&&(QOe=!0)}return s["s-hn"]=YOe,3&o.$flags$&&(s["s-sr"]=!0,s["s-cr"]=ZOe,s["s-sn"]=o.$name$||"",s["s-rf"]=null==(i=o.$attrs$)?void 0:i.ref,l=e&&e.$children$&&e.$children$[n],l&&l.$tag$===o.$tag$&&e.$elm$&&tke(e.$elm$,!1)),s},tke=(e,t)=>{YCe.$flags$|=1;const n=Array.from(e.childNodes);if(e["s-sr"]&&NCe.experimentalSlotFixes){let t=e;for(;t=t.nextSibling;)t&&t["s-sn"]===e["s-sn"]&&t["s-sh"]===YOe&&n.push(t)}for(let r=n.length-1;r>=0;r--){const e=n[r];e["s-hn"]!==YOe&&e["s-ol"]&&(fke(ake(e),e,ske(e)),e["s-ol"].remove(),e["s-ol"]=void 0,e["s-sh"]=void 0,KOe=!0),t&&tke(e,t)}YCe.$flags$&=-2},nke=(e,t,n,r,i,o)=>{let s,a=e["s-cr"]&&e["s-cr"].parentNode||e;for(a.shadowRoot&&a.tagName===YOe&&(a=a.shadowRoot);i<=o;++i)r[i]&&(s=eke(null,n,i,e),s&&(r[i].$elm$=s,fke(a,s,ske(t))))},rke=(e,t,n)=>{for(let r=t;r<=n;++r){const t=e[r];if(t){const e=t.$elm$;dke(t),e&&(JOe=!0,e["s-ol"]?e["s-ol"].remove():tke(e,!0),e.remove())}}},ike=(e,t,n,r,i=!1)=>{let o,s,a=0,l=0,c=0,u=0,h=t.length-1,p=t[0],d=t[h],f=r.length-1,m=r[0],y=r[f];for(;a<=h&&l<=f;)if(null==p)p=t[++a];else if(null==d)d=t[--h];else if(null==m)m=r[++l];else if(null==y)y=r[--f];else if(oke(p,m,i))lke(p,m,i),p=t[++a],m=r[++l];else if(oke(d,y,i))lke(d,y,i),d=t[--h],y=r[--f];else if(oke(p,y,i))("slot"===p.$tag$||"slot"===y.$tag$)&&tke(p.$elm$.parentNode,!1),lke(p,y,i),fke(e,p.$elm$,d.$elm$.nextSibling),p=t[++a],y=r[--f];else if(oke(d,m,i))("slot"===p.$tag$||"slot"===y.$tag$)&&tke(d.$elm$.parentNode,!1),lke(d,m,i),fke(e,d.$elm$,p.$elm$),d=t[--h],m=r[++l];else{for(c=-1,u=a;u<=h;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===m.$key$){c=u;break}c>=0?(s=t[c],s.$tag$!==m.$tag$?o=eke(t&&t[l],n,c,e):(lke(s,m,i),t[c]=void 0,o=s.$elm$),m=r[++l]):(o=eke(t&&t[l],n,l,e),m=r[++l]),o&&fke(ake(p.$elm$),o,ske(p.$elm$))}a>h?nke(e,null==r[f+1]?null:r[f+1].$elm$,n,r,l,f):l>f&&rke(t,a,h)},oke=(e,t,n=!1)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?(!("$nodeId$"in e)||!n||8===e.$elm$.nodeType)&&e.$name$===t.$name$:!!n||e.$key$===t.$key$),ske=e=>e&&e["s-ol"]||e,ake=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,lke=(e,t,n=!1)=>{const r=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,s=t.$tag$,a=t.$text$;let l;null===a?(QOe="svg"===s||"foreignObject"!==s&&QOe,"slot"===s&&!XOe||HOe(e,t,QOe),null!==i&&null!==o?ike(r,i,t,o,n):null!==o?(null!==e.$text$&&(r.textContent=""),nke(r,null,t,o,0,o.length-1)):!n&&NCe.updatable&&null!==i&&rke(i,0,i.length-1),QOe&&"svg"===s&&(QOe=!1)):(l=r["s-cr"])?l.parentNode.textContent=a:e.$text$!==a&&(r.data=a)},cke=e=>{const t=e.childNodes;for(const n of t)if(1===n.nodeType){if(n["s-sr"]){const e=n["s-sn"];n.hidden=!1;for(const r of t)if(r!==n)if(r["s-hn"]!==n["s-hn"]||""!==e){if(1===r.nodeType&&(e===r.getAttribute("slot")||e===r["s-sn"])||3===r.nodeType&&e===r["s-sn"]){n.hidden=!0;break}}else if(1===r.nodeType||3===r.nodeType&&""!==r.textContent.trim()){n.hidden=!0;break}}cke(n)}},uke=[],hke=e=>{let t,n,r;for(const i of e.childNodes){if(i["s-sr"]&&(t=i["s-cr"])&&t.parentNode){n=t.parentNode.childNodes;const e=i["s-sn"];for(r=n.length-1;r>=0;r--)if(t=n[r],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==i["s-hn"]&&!NCe.experimentalSlotFixes)if(pke(t,e)){let n=uke.find((e=>e.$nodeToRelocate$===t));JOe=!0,t["s-sn"]=t["s-sn"]||e,n?(n.$nodeToRelocate$["s-sh"]=i["s-hn"],n.$slotRefNode$=i):(t["s-sh"]=i["s-hn"],uke.push({$slotRefNode$:i,$nodeToRelocate$:t})),t["s-sr"]&&uke.map((e=>{pke(e.$nodeToRelocate$,t["s-sn"])&&(n=uke.find((e=>e.$nodeToRelocate$===t)),n&&!e.$slotRefNode$&&(e.$slotRefNode$=n.$slotRefNode$))}))}else uke.some((e=>e.$nodeToRelocate$===t))||uke.push({$nodeToRelocate$:t})}1===i.nodeType&&hke(i)}},pke=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,dke=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(dke)},fke=(e,t,n)=>{const r=e?.insertBefore(t,n);return yke(t,e),r},mke=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...mke(e.parentElement)),t},yke=(e,t,n=!1)=>{var r;if(e&&t&&1===e.nodeType){const i=new Set(mke(t).filter(Boolean));if(i.size&&(null==(r=e.classList)||r.add(...e["s-scs"]=[...i]),e["s-ol"]||n))for(const t of Array.from(e.childNodes))yke(t,e,!0)}},gke=(e,t,n=!1)=>{var r,i,o,s,a;const l=e.$hostElement$,c=e.$cmpMeta$,u=e.$vnode$||TOe(null,null),h=MOe(t)?t:SOe(null,null,t);if(YOe=l.tagName,c.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},c.$attrsToReflect$.map((([e,t])=>h.$attrs$[t]=l[e]))),n&&h.$attrs$)for(const p of Object.keys(h.$attrs$))l.hasAttribute(p)&&!["key","ref","style","class"].includes(p)&&(h.$attrs$[p]=l[p]);if(h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=u.$elm$=l.shadowRoot||l,qOe=l["s-sc"],XOe=0!==(1&c.$flags$),ZOe=l["s-cr"],JOe=!1,lke(u,h,n),YCe.$flags$|=1,KOe){hke(h.$elm$);for(const e of uke){const t=e.$nodeToRelocate$;if(!t["s-ol"]){const e=qCe.createTextNode("");e["s-nr"]=t,fke(t.parentNode,t["s-ol"]=e,t)}}for(const e of uke){const t=e.$nodeToRelocate$,a=e.$slotRefNode$;if(a){const e=a.parentNode;let n=a.nextSibling;{let o=null==(r=t["s-ol"])?void 0:r.previousSibling;for(;o;){let r=null!=(i=o["s-nr"])?i:null;if(r&&r["s-sn"]===t["s-sn"]&&e===r.parentNode){for(r=r.nextSibling;r===t||r?.["s-sr"];)r=r?.nextSibling;if(!r||!r["s-nr"]){n=r;break}}o=o.previousSibling}}(!n&&e!==t.parentNode||t.nextSibling!==n)&&t!==n&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),fke(e,t,n),1===t.nodeType&&(t.hidden=null!=(o=t["s-ih"])&&o)),t&&"function"==typeof a["s-rf"]&&a["s-rf"](t)}else 1===t.nodeType&&(n&&(t["s-ih"]=null!=(s=t.hidden)&&s),t.hidden=!0)}}if(JOe&&cke(h.$elm$),YCe.$flags$&=-2,uke.length=0,NCe.experimentalScopedSlotChanges&&2&c.$flags$)for(const p of h.$elm$.childNodes)p["s-hn"]!==YOe&&!p["s-sh"]&&(n&&null==p["s-ih"]&&(p["s-ih"]=null!=(a=p.hidden)&&a),p.hidden=!0);ZOe=void 0},vke=(e,t)=>{},bke=(e,t)=>(e.$flags$|=16,vke(e,e.$ancestorComponent$),aOe((()=>wke(e,t)))),wke=(e,t)=>{const n=e.$hostElement$,r=xOe("scheduleUpdate",e.$cmpMeta$.$tagName$),i=n;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return o=Ake(i,t?"componentWillLoad":"componentWillUpdate"),o=_ke(o,(()=>Ake(i,"componentWillRender"))),r(),_ke(o,(()=>Ske(e,i,t)))},_ke=(e,t)=>xke(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),xke=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,Ske=async(e,t,n)=>{const r=e.$hostElement$,i=xOe("update",e.$cmpMeta$.$tagName$);r["s-rc"],n&&jOe(e);const o=xOe("render",e.$cmpMeta$.$tagName$);Tke(e,t,r,n),o(),i(),Eke(e)},Tke=(e,t,n,r)=>{try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(NCe.hasRenderFn||NCe.reflect)&&(NCe.vdomRender||NCe.reflect)&&(NCe.hydrateServerSide||gke(e,t,r))}catch(i){GCe(i,e.$hostElement$)}return null},Eke=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,r=xOe("postUpdate",t),i=n;e.$ancestorComponent$,Ake(i,"componentDidRender"),64&e.$flags$?(Ake(i,"componentDidUpdate"),r()):(e.$flags$|=64,Ake(i,"componentDidLoad"),r())},Mke=e=>{{const t=jCe(e),n=t.$hostElement$.isConnected;return n&&2===(18&t.$flags$)&&bke(t,!1),n}},Ake=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(r){GCe(r)}},Ike=(e,t)=>jCe(e).$instanceValues$.get(t),Cke=(e,t,n,r)=>{const i=jCe(e),o=e,s=i.$instanceValues$.get(t),a=i.$flags$,l=o;n=kOe(n,r.$members$[t][0]);const c=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!c){if(i.$instanceValues$.set(t,n),r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.map((e=>{try{l[e](n,s,t)}catch(r){GCe(r,o)}}))}if(2===(18&a)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(n,s,t))return;bke(i,!1)}}},Oke=(e,t,n)=>{var r,i;const o=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const n=Object.entries(null!=(r=t.$members$)?r:{});n.map((([e,[n]])=>{(31&n||32&n)&&Object.defineProperty(o,e,{get(){return Ike(this,e)},set(n){Cke(this,e,n,t)},configurable:!0,enumerable:!0})}));{const r=new Map;o.attributeChangedCallback=function(e,n,i){YCe.jmp((()=>{var s;const a=r.get(e);if(this.hasOwnProperty(a))i=this[a],delete this[a];else{if(o.hasOwnProperty(a)&&"number"==typeof this[a]&&this[a]==i)return;if(null==a){const r=jCe(this),o=r?.$flags$;if(o&&!(8&o)&&128&o&&i!==n){const r=this;(null==(s=t.$watchers$)?void 0:s[e])?.forEach((t=>{null!=r[t]&&r[t].call(r,i,n,e)}))}return}}this[a]=(null!==i||"boolean"!=typeof this[a])&&i}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(i=t.$watchers$)?i:{}),...n.filter((([e,t])=>15&t[0])).map((([e,n])=>{var i;const o=n[1]||e;return r.set(o,e),512&n[0]&&(null==(i=t.$attrsToReflect$)||i.push([e,o])),o}))]))}}return e},kke=async(e,t,n,r)=>{let i;if(!(32&t.$flags$)){t.$flags$|=32,n.$lazyBundleId$;{i=e.constructor;const n=e.localName;customElements.whenDefined(n).then((()=>t.$flags$|=128))}if(i&&i.style){let r;"string"==typeof i.style?r=i.style:"string"!=typeof i.style&&(t.$modeName$=OOe(e),t.$modeName$&&(r=i.style[t.$modeName$]));const o=UOe(n,t.$modeName$);if(!VCe.has(o)){const e=xOe("registerStyles",n.$tagName$);DOe(o,r,!!(1&n.$flags$)),e()}}}t.$ancestorComponent$,bke(t,!0)},Rke=e=>{},Lke=e=>{if(!(1&YCe.$flags$)){const t=jCe(e),n=t.$cmpMeta$,r=xOe("connectedCallback",n.$tagName$);1&t.$flags$?(jke(e,t,n.$listeners$),t?.$lazyInstance$?Rke(t.$lazyInstance$):t?.$onReadyPromise$&&t.$onReadyPromise$.then((()=>Rke(t.$lazyInstance$)))):(t.$flags$|=1,12&n.$flags$&&Nke(e),n.$members$&&Object.entries(n.$members$).map((([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}})),kke(e,t,n)),r()}},Nke=e=>{const t=e["s-cr"]=qCe.createComment("");t["s-cn"]=!0,fke(e,t,e.firstChild)},Pke=async e=>{if(!(1&YCe.$flags$)){const t=jCe(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0)}},Dke=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]};n.$members$=t[2],n.$listeners$=t[3],n.$watchers$=e.$watchers$,n.$attrsToReflect$=[];const r=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){UCe(this,n)},connectedCallback(){const e=jCe(this);jke(this,e,n.$listeners$),Lke(this),r&&r.call(this)},disconnectedCallback(){Pke(this),i&&i.call(this)},__attachShadow(){if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else this.attachShadow({mode:"open",delegatesFocus:!!(16&n.$flags$)})}}),e.is=n.$tagName$,Oke(e,n)},Fke=(e,t)=>t,jke=(e,t,n,r)=>{n&&n.map((([n,r,i])=>{const o=zke(e,n),s=Uke(t,i),a=Gke(n);YCe.ael(o,r,s,a),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>YCe.rel(o,r,s,a)))}))},Uke=(e,t)=>n=>{try{NCe.lazyLoad||e.$hostElement$[t](n)}catch(r){GCe(r)}},zke=(e,t)=>4&t?qCe:8&t?WCe:16&t?qCe.body:e,Gke=e=>XCe?{passive:0!==(1&e),capture:0!==(2&e)}:0!==(2&e);const Vke=globalThis.calciteConfig,Bke=Vke?.focusTrapStack||[],$ke="2.13.2",Hke="2024-10-24",Wke="e38e2977d";function qke(){if(Vke&&Vke.version)return;console.info(`Using Calcite Components ${$ke} [Date: ${Hke}, Revision: ${Wke}]`);const e=Vke||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:$ke,writable:!1}),globalThis.calciteConfig=e}const Zke=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function Yke(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,n=()=>e.contains(OCe)||e.contains(CCe)&&t?"dark":"light",r=e=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:e}})),i=e=>{o!==e&&r(e),o=e};let o=n();r(o),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>i(e.matches?"dark":"light"))),new MutationObserver((()=>i(n()))).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function Xke(){Zke()&&("interactive"===document.readyState?Yke():document.addEventListener("DOMContentLoaded",(()=>Yke()),{once:!0})),qke()}const Jke=Xke;let Kke;function Qke(){try{lOe(".")}catch{cOe(Da(mu(Kke)))}}function eRe(e){const t=[];for(const n of Object.keys(e))customElements.get(`calcite-${n}`)||t.push(e[n]?.());return t.length>0?Promise.all(t):null}Jke(),Kke="components/assets";const tRe=Symbol("widget"),nRe=Symbol("widget-test-data"),rRe=[],iRe={},oRe=new WeakMap;function sRe(e,t){let n=t.children;if(n?.length)for(let i=0;i<n.length;++i)n[i]=sRe(e,n[i]);else n=rRe;const r=t.vnodeSelector;if(uRe(r)){const i=t.properties||iRe,o=i.key||r,s={key:o,afterCreate:aRe,afterUpdate:lRe,afterRemoved:cRe,parentWidget:e,widgetConstructor:r,widgetProperties:{...i,key:o,children:n}};return{vnodeSelector:r.vnodeSelector,properties:s,children:void 0,text:void 0,domNode:null}}return t}function aRe(e,t,n,{parentWidget:r,widgetConstructor:i,widgetProperties:o}){const s=new i(o);s.container=e,oRe.set(e,s),s.afterCreate?.(s,e),r.addHandles(Tt((()=>cRe(e)))),queueMicrotask((()=>{s[nRe].projector.renderNow()}))}function lRe(e,t,n,{widgetProperties:r}){const i=oRe.get(e);i&&(i.set(r),i.afterUpdate?.(i,e))}function cRe(e){const t=oRe.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),oRe.delete(e))}function uRe(e){return"function"==typeof e&&e[tRe]}const hRe=new Set;function pRe(e){hRe.add(e),e.finally((()=>hRe.delete(e)))}var dRe;const fRe="esri.widgets.Widget";let mRe=0;function yRe(e,t){const n=Object.prototype.hasOwnProperty;for(const r in t)n.call(t,r)&&n.call(e,r)&&(null!=e[r]&&null!=t[r]&&"object"==typeof e[r]&&"object"==typeof t[r]?yRe(e[r],t[r]):e[r]=t[r]);return e}const gRe=ICe({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,n=/capture$/i;e.eventHandlerInterceptor=(e,r,i,o)=>{const s=t?.(e,r,i,o),a=n.test(e);if(!((e=e.replace(n,"")).toLowerCase()in i)||a){const t=e[2].toLowerCase()+e.slice(3),n=e=>s?.call(i,e);i.addEventListener(t,n,a);const r=()=>i.removeEventListener(t,n,a),l=o.afterRemoved;o.afterRemoved=e=>{l?.(e),r()}}return s}},handleInterceptedEvent(e,t,n,r){const{eventPhase:i,type:o}=r,s=i===Event.CAPTURING_PHASE;let a=`on${o}${s?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${o[0].toUpperCase()}${o.slice(1)}${s?"Capture":""}`,l&&a in l))&&(Ide(),e.scheduleRender(),l[a].call(l.bind||n,r))}});let vRe=!1,bRe=class extends(jc(dc.EventedAccessor)){constructor(e,t){super(e,t),this._attached=!1,this._projector=gRe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=xr((async()=>{if(this._messageBundleProps?.length){const e=await Promise.allSettled(this._messageBundleProps.map((async({bundlePath:e,propertyName:t})=>{if(this.destroyed)return;let n=await tm(e);this.uiStrings&&Object.keys(this.uiStrings)&&(n=yRe(_e(n),this.uiStrings)),this[t]=n})));if(this.destroyed)return;for(const t of e)"rejected"===t.status&&Ye.getLogger(this).error("widget-intl:locale-error",this.declaredClass,t.reason)}await this.loadLocale()})),Qke();const n="esri-widget-uid-"+kY(),r=this.render.bind(this);this._trackingTarget=new ci((()=>{this.autoRenderingEnabled&&this.scheduleRender()}));const i=()=>({vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const e=r()??i(),t=e.properties??={};if(t.key??=n,uRe(e.vnodeSelector)){if(!this.visible)return i()}else this.visible?t.styles||(t.styles={}):(t.class="",t.styles={display:"none"}),t.styles.display??="";let o=0;return e.children?.forEach((e=>{uRe(e.vnodeSelector)||(e.properties??={},e.properties.key??=`${this.id}--${o++}`)})),sRe(this,e)};this.render=()=>{if(vRe)return o();let e=Cde(this)??null;if(e)return e;this._trackingTarget.clear(),vRe=!0;try{e=fn(this._trackingTarget,o)}catch(t){throw Ye.getLogger(this).error(t),t}finally{vRe=!1}return e&&Ode(this,e),e};const s=this.beforeFirstRender();s?this._resourcesFetch=s.then((()=>{this._readyForTrueRender=!0,this._postInitialize()})):(this._resourcesFetch=Promise.resolve().then((()=>{this._postInitialize()})),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),pRe(this._resourcesFetch)}normalizeCtorArgs(e,t){const n={...e};return t&&(n.container=t),n}postInitialize(){}beforeFirstRender(){const e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then((()=>{})).catch(cr):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(mt(this._trackingTarget),mt(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,kde(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return Xhe(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+mRe++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(dRe=tRe,nRe)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(kde(this),this._projector.scheduleRender())}own(e){rt(Ye.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(e)}classes(...e){return Rde.apply(this,e)}renderNow(){kde(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(WR((()=>this.viewModel),((e,t)=>{t&&this.removeHandles("delegated-events"),e&&Kn(e)&&this.addHandles(this._delegatedEventNames.map((t=>tr(e,t,(e=>{this.emit(t,e)})))),"delegated-events")}),nL)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(cr),this.scheduleRender()};this.addHandles([Yd(e),WR((()=>this.uiStrings),e),qR((()=>this.container),(e=>{this.destroyed||this._attach(e)}),{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e)}};bRe[dRe]=!0,bRe.vnodeSelector="div",S([To()],bRe.prototype,"_readyForTrueRender",void 0),S([To({value:null})],bRe.prototype,"container",null),S([Dp("container")],bRe.prototype,"castContainer",null),S([To()],bRe.prototype,"icon",null),S([To()],bRe.prototype,"id",null),S([To()],bRe.prototype,"label",null),S([To()],bRe.prototype,"renderable",null),S([To()],bRe.prototype,"uiStrings",void 0),S([To()],bRe.prototype,"viewModel",void 0),S([To({value:!0})],bRe.prototype,"visible",null),S([To()],bRe.prototype,"key",void 0),S([To()],bRe.prototype,"children",void 0),S([To()],bRe.prototype,"afterCreate",void 0),S([To()],bRe.prototype,"afterUpdate",void 0),S([To()],bRe.prototype,"afterRemoved",void 0),bRe=S([gs(fRe)],bRe);const wRe=bRe,_Re=new Map;function xRe(e){return _Re.get(e)}function SRe(e,t){return e&&"copyright"in e&&(!t||"function"==typeof e.originOf&&"user"===e.originOf("copyright"))}function TRe(e,t){return e.length!==t.length||e.some(((e,n)=>e.text!==t[n].text))}function ERe(e,t,n){!n||!t||e.find((e=>e.layerView===t&&e.text===n))||e.push({text:n,layerView:t})}function MRe(e){return"bing-maps"===e.type}const ARe=[];let IRe=class extends Ms{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Rc,this.view=null,this._allLayerViewsChange=e=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const t=this.view?.allLayerViews;t&&(this.addHandles(t.map((e=>WR((()=>[e.suspended,e.layer?.attributionVisible]),(()=>this._updateAttributionItems())))).toArray(),"suspension"),t.forEach((e=>{"esri.views.3d.layers.Tiles3DLayerView3D"===e.declaredClass&&this.addHandles(e.on("visible-geometry-changed",(()=>this._updateAttributionItems())),"visible-geometry-changed")}))),e?.removed&&e.removed.forEach((e=>{this._pendingAttributions.delete(e),this._fetchedAttributionData.delete(e)})),this._updateAttributionItems()},this.addHandles([YR((()=>this.view?.allLayerViews),"change",(e=>this._allLayerViewsChange(e)),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),qR((()=>!0===this.view?.stationary),(()=>this._updateAttributionItems()))])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,t=e?.allLayerViews;if(ARe.length=0,!e||!t)return void this._clear();t.forEach((t=>{if(t.suspended||!t.layer?.attributionVisible)return;const n=t.layer;if(SRe(n,"user"))return void ERe(ARe,t,n.copyright);if(n.hasAttributionData){if(this._fetchedAttributionData.has(t)){const r=this._fetchedAttributionData.get(t);return void(r?ERe(ARe,t,this._getDynamicAttribution(r,e,n)):SRe(n)&&ERe(ARe,t,n.copyright))}return void this._fetchAttributionData(t)}const r="portalItem"in n?n.portalItem?.accessInformation:void 0;ERe(ARe,t,r||n.copyright)}));const n=t.find((e=>"integrated-mesh-3dtiles"===e.layer?.type));if(this.view&&n){const e=xRe(this.view);if(e){const t=e.getAttributionText();for(let e=0;e<t.length;++e)ERe(ARe,n,t[e])}}TRe(this.items,ARe)&&(this.items.removeAll(),this.items.addMany(ARe)),ARe.length=0,this.notifyChange("state")}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await Qc(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const n=t.ok?this._createContributionIndex(t.value,MRe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,n)}this._updateAttributionItems()}_createContributionIndex(e,t){const n=e.contributors,r={};if(!n)return r;for(let i=0;i<n.length;i++){const e=n[i],o=e.coverageAreas;if(!o)return;for(const n of o){const o=n.bbox,s=n.zoomMin-(t&&n.zoomMin?1:0),a=n.zoomMax-(t&&n.zoomMax?1:0),l=new Gd({xmin:o[1],ymin:o[0],xmax:o[3],ymax:o[2],spatialReference:Ip.WGS84}),c={extent:Yp(l),attribution:e.attribution||"",score:null!=n.score?n.score:100,id:i};for(let e=s;e<=a;e++)r[e]??=[],r[e].push(c)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(e,t,n){const{extent:r,scale:i}=t;let o=n.tileInfo?.scaleToZoom(i)??0;if(o=Math.min(e.maxKey??0,Math.round(o)),!r||null==o||o<=-1)return"";const s=e[o],a=Wp(r.center.clone().normalize(),Ip.WebMercator),l=new Set;return s?s.filter((e=>{const t=e.id,n=!l.has(t)&&a&&e.extent&&ld(e.extent,a);return n&&l.add(t),n})).sort(((e,t)=>t.score-e.score||e.objectId-t.objectId)).map((e=>e.attribution)).join(", "):""}};S([To({readOnly:!0,type:Rc})],IRe.prototype,"items",void 0),S([To({readOnly:!0})],IRe.prototype,"state",null),S([To()],IRe.prototype,"view",void 0),IRe=S([gs("esri.widgets.Attribution.AttributionViewModel")],IRe);const CRe=IRe,ORe={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function kRe(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:LRe(e[t])}}}function RRe(e){const t=e?.type;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}function LRe(e){return function(t,...n){RRe(t)?zde(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...n)}}function NRe(e){return(t,n)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:n})}}var PRe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},DRe=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?DRe(i,t):null!=i&&!1!==i&&(i.hasOwnProperty("vnodeSelector")||(i=PRe(i)),t.push(i))}},FRe=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===n.length&&"string"==typeof n[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:n[0],domNode:null};var i=[];return DRe(n,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function jRe(e,t,...n){return"function"!=typeof e||uRe(e)?FRe(e,t,...n):e(t,...n)}function URe(...e){return e}const zRe="esri-attribution",GRe={base:zRe,poweredBy:`${zRe}__powered-by`,sources:`${zRe}__sources`,open:`${zRe}--open`,sourcesOpen:`${zRe}__sources--open`,link:`${zRe}__link`};let VRe=class extends wRe{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver((e=>e.forEach((({target:e})=>this._checkSourceTextOverflow(e))))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new CRe}initialize(){this.addHandles(YR((()=>this.viewModel?.items),"change",(()=>this.scheduleRender())))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce(((e,t)=>(e.includes(t.text)||e.push(t.text),e)),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[GRe.open]:this._isOpen};return jRe("div",{bind:this,class:this.classes(GRe.base,ORe.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return jRe("div",{class:GRe.poweredBy},"Powered by"," ",jRe("a",{class:GRe.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,n=t?0:void 0,{attributionText:r}=this,i={[GRe.sourcesOpen]:e,[ORe.interactive]:t};return jRe("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(GRe.sources,i),innerHTML:r,tabIndex:n})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let t=!1;const{clientHeight:n,clientWidth:r,scrollWidth:i}=e,o=i>r,s=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,s&&(t=!0),this._isOpen){const e=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,e&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};S([To()],VRe.prototype,"_isOpen",void 0),S([To()],VRe.prototype,"_isInteractive",null),S([To()],VRe.prototype,"_attributionTextOverflowed",void 0),S([To()],VRe.prototype,"_prevSourceNodeHeight",void 0),S([To({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],VRe.prototype,"attributionText",null),S([To()],VRe.prototype,"icon",null),S([To()],VRe.prototype,"itemDelimiter",void 0),S([To()],VRe.prototype,"label",null),S([To(),NRe("esri/widgets/Attribution/t9n/Attribution")],VRe.prototype,"messages",void 0),S([To()],VRe.prototype,"view",null),S([To({type:CRe})],VRe.prototype,"viewModel",void 0),S([kRe()],VRe.prototype,"_toggleState",null),VRe=S([gs("esri.widgets.Attribution")],VRe);const BRe=VRe;function $Re(){const e=A("mapview-essential-goto-duration");return e}function HRe(e){return e?.spatialReference?.isWebMercator||e?.spatialReference?.isGeographic||!1}const WRe=e=>{let t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this;return ft(t),this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}};return S([To()],t.prototype,"goToOverride",void 0),S([To()],t.prototype,"view",void 0),t=S([gs("esri.widgets.support.GoTo")],t),t};let qRe=class extends(WRe(Ms)){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(WR((()=>this.view),this._updateRotationWatcher,tL))}destroy(){this.view=null}get canShowNorth(){return HRe(this.view)}get state(){return!this.view?.ready||"2d"===this.view.type&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&("2d"===this.view?.type?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:$Re()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){null!=e&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this._set("orientation",{x:0,y:0,z:t})}_updateRotationWatcher(e){this.removeAllHandles(),e&&this.addHandles("2d"===e.type?WR((()=>e?.rotation),this._updateForRotation,tL):WR((()=>e?.camera),this._updateForCamera,tL))}};S([To({readOnly:!0})],qRe.prototype,"canShowNorth",null),S([To({readOnly:!0})],qRe.prototype,"orientation",void 0),S([To({readOnly:!0})],qRe.prototype,"state",null),S([To()],qRe.prototype,"view",void 0),qRe=S([gs("esri.widgets.Compass.CompassViewModel")],qRe);const ZRe=qRe,YRe="esri-compass",XRe={base:YRe,iconContainer:`${YRe}__icon-container`};let JRe=class extends wRe{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new ZRe,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=e=>({transform:`rotateZ(${e.z}deg)`})}loadDependencies(){return eRe({button:()=>Promise.all([n.e(5284),n.e(3115)]).then(n.bind(n,73115)),icon:()=>n.e(9958).then(n.bind(n,19958))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"rotation"===this.viewModel.state?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,{messages:n}=this;return jRe("div",{class:this.classes(XRe.base,ORe.widget)},jRe("calcite-button",{class:ORe.widgetButton,disabled:"disabled"===t,kind:"neutral",label:n.reset,onclick:this._reset,round:!0,scale:"s",title:n.reset},jRe("div",{"aria-hidden":"true",class:XRe.iconContainer,title:n.reset},jRe("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};S([To()],JRe.prototype,"goToOverride",null),S([To()],JRe.prototype,"icon",null),S([To()],JRe.prototype,"label",null),S([To(),NRe("esri/widgets/Compass/t9n/Compass")],JRe.prototype,"messages",void 0),S([To()],JRe.prototype,"view",null),S([To({type:ZRe})],JRe.prototype,"viewModel",void 0),JRe=S([gs("esri.widgets.Compass")],JRe);const KRe=JRe,QRe="esri-navigation-toggle",eLe={base:QRe,isLayoutHorizontal:`${QRe}--horizontal`};let tLe=class extends Ms{constructor(e){super(e),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(qR((()=>this.view?.inputManager),(()=>this._setNavigationMode())))}destroy(){this.view=null}get state(){return this.view?.ready&&"3d"===this.view?.type?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(e){this._navigationMode=e,this._setNavigationMode()}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate")}_setNavigationMode(){const e=this.view?.inputManager;e&&(e.primaryDragAction="pan"===this._navigationMode?"pan":"rotate")}};S([To({readOnly:!0})],tLe.prototype,"state",null),S([To()],tLe.prototype,"_navigationMode",void 0),S([To()],tLe.prototype,"view",void 0),tLe=S([gs("esri.widgets.NavigationToggle.NavigationToggleViewModel")],tLe);const nLe=tLe;let rLe=class extends wRe{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new nLe,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{const e="pan"===this.viewModel?.navigationMode?this._rotateButton:this._panButton;Gde(e),this.toggle()}}loadDependencies(){return eRe({button:()=>Promise.all([n.e(5284),n.e(3115)]).then(n.bind(n,73115))})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e="disabled"===this.viewModel?.state,t="pan"===this.viewModel?.navigationMode,n=this.messages.toggle;return jRe("div",{class:this.classes(eLe.base,ORe.widget,{[eLe.isLayoutHorizontal]:"horizontal"===this.layout})},jRe("calcite-button",{afterCreate:e=>{this._panButton=e},appearance:t?"outline-fill":"solid",class:ORe.widgetButton,disabled:e,iconStart:"move",kind:"neutral",label:n,onclick:this._toggle,tabIndex:t?void 0:-1,title:n}),jRe("calcite-button",{afterCreate:e=>{this._rotateButton=e},appearance:t?"solid":"outline-fill",class:ORe.widgetButton,disabled:e,iconStart:"rotate",kind:"neutral",label:n,onclick:this._toggle,tabIndex:t?-1:void 0,title:n}))}};S([To()],rLe.prototype,"icon",null),S([To()],rLe.prototype,"label",null),S([To({value:"vertical"})],rLe.prototype,"layout",null),S([To(),NRe("esri/widgets/NavigationToggle/t9n/NavigationToggle")],rLe.prototype,"messages",void 0),S([To()],rLe.prototype,"view",null),S([To({type:nLe})],rLe.prototype,"viewModel",void 0),rLe=S([gs("esri.widgets.NavigationToggle")],rLe);const iLe=rLe;let oLe=class extends Ms{get canZoomIn(){if(!this.view?.ready)return!1;const e=this.view?.constraints?.effectiveMaxScale;return 0===e||this._scale>e}get canZoomOut(){const{view:e}=this;if(!e?.ready)return!1;const t=e.constraints?.effectiveMinScale;return 0===t||this._scale<t}get _scale(){const e=this.view?.animation?.target;return(e&&"then"in e?void 0:e?.scale)??this.view?.scale??0}};S([To({readOnly:!0})],oLe.prototype,"canZoomIn",null),S([To({readOnly:!0})],oLe.prototype,"canZoomOut",null),S([To()],oLe.prototype,"view",void 0),S([To()],oLe.prototype,"_scale",null),oLe=S([gs("esri.widgets.Zoom.ZoomConditions2D")],oLe);const sLe=oLe;let aLe=class extends Ms{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};S([To({readOnly:!0})],aLe.prototype,"canZoomIn",null),S([To({readOnly:!0})],aLe.prototype,"canZoomOut",null),S([To()],aLe.prototype,"view",void 0),aLe=S([gs("esri.widgets.Zoom.ZoomConditions3D")],aLe);const lLe=aLe;let cLe=class extends Ms{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){return null!=this._zoomConditions&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(e){e?"2d"===e.type?this._zoomConditions=new sLe({view:e}):"3d"===e.type&&(this._zoomConditions=new lLe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){if(!this.canZoomIn)return;const e=this.view;"2d"===e.type?e.mapViewNavigation.zoomIn():fr(e.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const e=this.view;"2d"===e.type?e.mapViewNavigation.zoomOut():fr(e.goTo({zoomFactor:.5}))}};S([To()],cLe.prototype,"_zoomConditions",void 0),S([To()],cLe.prototype,"canZoomIn",null),S([To()],cLe.prototype,"canZoomOut",null),S([To({readOnly:!0})],cLe.prototype,"state",null),S([To()],cLe.prototype,"view",null),cLe=S([gs("esri.widgets.Zoom.ZoomViewModel")],cLe);const uLe=cLe,hLe={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let pLe=class extends wRe{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new uLe,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return eRe({button:()=>Promise.all([n.e(5284),n.e(3115)]).then(n.bind(n,73115))})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[hLe.horizontalLayout]:"horizontal"===this.layout},{canZoomIn:t,canZoomOut:n}=this.viewModel,{zoomIn:r,zoomOut:i}=this.messages;return jRe("div",{class:this.classes(hLe.base,ORe.widget,e)},jRe("calcite-button",{class:ORe.widgetButton,disabled:!t,iconStart:"plus",kind:"neutral",label:r,onclick:this.zoomIn,title:r}),jRe("calcite-button",{class:ORe.widgetButton,disabled:!n,iconStart:"minus",kind:"neutral",label:i,onclick:this.zoomOut,title:i}))}};S([To()],pLe.prototype,"icon",null),S([To()],pLe.prototype,"label",null),S([To({value:"vertical"})],pLe.prototype,"layout",null),S([To(),NRe("esri/widgets/Zoom/t9n/Zoom")],pLe.prototype,"messages",void 0),S([To()],pLe.prototype,"view",null),S([To({type:uLe})],pLe.prototype,"viewModel",void 0),pLe=S([gs("esri.widgets.Zoom")],pLe);const dLe=pLe;function fLe(e){return void 0!==e?.view}let mLe=class extends _Ce{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=e=>{this.components.forEach((t=>{const n=this._find(t),r=n?.widget;fLe(r)&&(r.view=e)}))},this._componentsWatcher=(e,t)=>{this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}}initialize(){this.addHandles([WR((()=>this.components),this._componentsWatcher,tL),WR((()=>this.view),this._updateViewAwareWidgets,tL)])}_add(e,t,n,r,i){let o=e;if("string"==typeof e&&this._defaultPositionLookup[e]){if(this._find(e))return;o=this._createComponent(e)}super._add(o,t,n,r,i)}_removeComponents(e){e.forEach((e=>{const t=this._find(e);t&&(this.remove(t),t.destroy())}))}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:e}=this.padding;this.padding=e}}_addComponents(e){this.constructed&&e.forEach((e=>this.add(this._createComponent(e),this._defaultPositionLookup[e])))}_createComponent(e){const t=this._createWidget(e);return new oCe({id:e,node:t})}_createWidget(e){const t=this.view;switch(e){case"attribution":return new BRe({view:t});case"compass":return new KRe({view:t});case"navigation-toggle":return new iLe({view:t});case"zoom":return new dLe({view:t})}}};S([To()],mLe.prototype,"components",void 0),mLe=S([gs("esri.views.ui.DefaultUI")],mLe);const yLe=mLe;let gLe=class extends yLe{constructor(e){super(e),this.components=["attribution","zoom"]}};S([To()],gLe.prototype,"components",void 0),gLe=S([gs("esri.views.ui.2d.DefaultUI2D")],gLe);const vLe=gLe;class bLe extends $D{constructor(e,t){super(e,t,"webmap")}}function wLe(e){return null!=e&&"object"==typeof e&&"declaredClass"in e&&"esri.WebMap"===e.declaredClass}var _Le;new bLe(2,32);let xLe=_Le=class extends Hs{constructor(e){super(e),this.color=new gy([0,0,0,1])}clone(){return new _Le(_e({color:this.color}))}};S([To({type:gy,json:{write:!0}})],xLe.prototype,"color",void 0),xLe=_Le=S([gs("esri.webmap.background.ColorBackground")],xLe);const SLe=xLe;let TLe,ELe,MLe,ALe,ILe,CLe,OLe;async function kLe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:i,MagnifierView2D:o,GridView2D:s,Stage:a}]=await Promise.all([Promise.all([n.e(9558),n.e(2230)]).then(n.bind(n,52230)),Promise.all([n.e(9558),n.e(8006),n.e(4464),n.e(9060),n.e(6004),n.e(8253),n.e(8326),n.e(1771),n.e(2347),n.e(3694),n.e(8960),n.e(9868),n.e(5479)]).then(n.bind(n,55479))]);ELe=e,MLe=t,ALe=r,ILe=i,CLe=o,OLe=s,TLe=a}let RLe=class extends(Yhe(Qfe(Rfe(Bye)))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Xoe({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new P_e({view:this}),this.graphicsView=null,this.stateManager=new Exe({constraints:new Q_e({view:this})}),this.stationaryManager=new WIe,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new N_e(this),this.floors=new Rc,this.grid=null,this.highlights=rIe(),this.inputManager=new ATe({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new YIe,this.type="2d",this.view2dType=null,this.ui=new vLe,this.test={takeScreenshot:async e=>zIe(this._getScreenshotView(e),e)},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([WR((()=>this.viewpoint),(()=>this.stationaryManager.flip()),eL),this.on("resize",(e=>this.stateManager.resize(e.width,e.height)))]),kW()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=mt(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new KTe(this.featuresTilingScheme)}get constraintsInfo(){const e=this.defaultsFromMap?.tileInfo,t=this.spatialReference;return{lods:e?.spatialReference?.equals(t)?e.lods:null,spatialReference:t}}get state(){return this.stateManager.state}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:e,constraints:t,center:n,viewpoint:r,extent:i}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!i&&(t?.effectiveLODs||(o=-1),(!n||0===e&&-1===o)&&(null==r?.targetGeometry||"extent"!==r.targetGeometry.type&&!r.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=e.targetGeometry,n=this.spatialReference;return h2(t.spatialReference,n)}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),e!==this.animationManager.animation&&this.animationManager.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e);const n=()=>{this.destroyed||e===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};e.when(n,n)}get background(){return wLe(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get constraints(){return this.stateManager?.constraints}set constraints(e){e.view=this;const t=this.stateManager.constraints;this.stateManager.constraints=e,t?.destroy()}get extent(){return this.stateManager?.extent??null}set extent(e){this.stateManager.extent=e}get highlightOptions(){return iIe(this)}set highlightOptions(e){oIe(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(e){const{rotationEnabled:t}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=t}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const e=!(!this.magnifier.visible||null===this.magnifier.position||!this._magnifierView?.updatingHandles.updating),t=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((e=>!e.destroyed&&!("layerViews"in e)&&!0===e.updating))||e);if(A("esri-2d-log-updating")){const n=this.allLayerViews.reduce(((e,t)=>({...e,[`${t.layer.id}(${t.layer.type})`]:!t.destroyed&&!("layerViews"in t)&&t.updating})),{});console.log(`Updating MapView: ${t}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(n)}\n-> updatingMagnifier: ${e}\n`)}return t}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new nv({rings:[e.map((e=>[e[0],e[1]]))],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}goTo(e,t){return this.goToManager.goTo(e,t)}async hitTest(e,t){return sIe(this,e,t)}async takeScreenshot(e){return UIe(this._getScreenshotView(e),e)}toMap(e){if(!this.ready)return null;const t=Qme(e)?Kme(this,e):e;return this.stateManager.toMap(t)}toScreen(e,t){return this.stateManager.toScreen(e,t)}on(e,t,n,r){return this.inputManager&&this.viewEvents.on(e,t,n,r)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return wLe(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return wLe(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return G_e.hasLayerViewModule(e)}importLayerView(e){return G_e.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(Ye.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){const t=this.toMap(e),n=await this.hitTest(e),r=this.allLayerViews.toArray().filter((n=>n.clips.every((n=>QAe(this,n,e,t))))).reverse(),i=new globalThis.Map(r.map((e=>[e.layer.uid,e]))),o=[];let s=0,a=0;for(;s<n.results.length||a<r.length;){const e=n.results.at(s);if(e&&"graphic"!==e.type){++s;continue}const l=i.get((e?.layer??e?.graphic.layer)?.uid);if((!e||l)&&a<r.length&&r.at(a)!==l){const e=r.at(a);"fetchPopupFeaturesAtLocation"in e&&o.push({mapPoint:t,layerView:e}),++a}else e&&(o.push({graphic:e.graphic,layerView:l}),++s)}return{hits:o,location:t}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=eCe(this.type);if(A("safari")&&A("safari")<9&&(e=new et("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:A("safari")})),null!=e)throw Ye.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return kLe()}_getDefaultViewpoint(){const{constraints:e,initialExtent:t,map:n,padding:r,size:i}=this;if(!e)return null;const o=n&&"initialViewProperties"in n?n.initialViewProperties:void 0,s=this.stateManager.getUserStartupOptions(this.size),a=o?.viewpoint,l=a?.targetGeometry?.extent??t,c=l?.center,u=a?.rotation??0,h=a?.scale||l&&Mve(l,[i[0]-r.left-r.right,i[1]-r.top-r.bottom]),p=s.center??c,d=s.rotation??u,f=s.scale??h;return p&&f?new Bhe({targetGeometry:p,scale:f,rotation:d}):null}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const t=new TLe(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=t,this._magnifierView=new CLe,this._magnifierView.magnifier=this.magnifier,this._gridView=new OLe;const n=new ALe({view:this});this._set("labelManager",n);const r=new h_e({view:this});this._set("animationManager",r);const i=new ILe({view:this,animationManager:r});this._set("mapViewNavigation",i),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",(()=>this._updateStageChildren())),t.on("webgl-error",(e=>this.fatalError=e.error)),WR((()=>this.stationary),(e=>t.stationary=e),nL),WR((()=>this.background),(e=>{t.backgroundColor=e?.color,this._magnifierView.backgroundColor=e?.color}),nL),WR((()=>this.magnifier),(e=>this._magnifierView.magnifier=e),nL),WR((()=>this.grid),(e=>this._gridView.grid=e),nL),WR((()=>this.renderingOptions),(e=>t.renderingOptions=e),nL),WR((()=>this.highlights.items.map((e=>({name:e.name,options:{fillColor:e.options.color,haloColor:e.options.haloColor,fillOpacity:e.options.fillOpacity,haloOpacity:e.options.haloOpacity,haloWidth:e.options.haloWidth,haloBlur:e.options.haloBlur}})))),(()=>{t.highlightGradient=YAe(t.highlightGradient,this.highlights.items)}),nL),WR((()=>this.state.id),(()=>t.state=this.state),nL)],"map-view"),this._updateStageChildren();const o=this._resolveWhenReady;this._resolveWhenReady=[],o.forEach((e=>e(this))),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach((e=>{this.stage.addChild(e.container)}));const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new pxe(gle.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new ELe({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new MLe(e)});this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){const{allLayerViews:t,padding:n,size:r,stage:i}=this;return{allLayerViews:t,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:n,size:r,stage:i}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const e of this.allLayerViews)e.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const e of this.allLayerViews)e.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};RLe.type="2d",S([To({readOnly:!0})],RLe.prototype,"animationManager",void 0),S([To({constructOnly:!0})],RLe.prototype,"deactivatedWebGLExtensions",void 0),S([To({constructOnly:!0})],RLe.prototype,"debugWebGLExtensions",void 0),S([To({readOnly:!0})],RLe.prototype,"featuresTilingScheme",void 0),S([To({readOnly:!0})],RLe.prototype,"fullOpacity",void 0),S([To()],RLe.prototype,"goToManager",void 0),S([To({readOnly:!0})],RLe.prototype,"graphicsTileStore",null),S([To()],RLe.prototype,"graphicsView",void 0),S([To()],RLe.prototype,"stateManager",void 0),S([To()],RLe.prototype,"constraintsInfo",null),S([To({readOnly:!0})],RLe.prototype,"state",null),S([To()],RLe.prototype,"initialExtentRequired",null),S([To()],RLe.prototype,"labelManager",void 0),S([To({readOnly:!0})],RLe.prototype,"mapViewNavigation",void 0),S([To({constructOnly:!0})],RLe.prototype,"renderCanvas",void 0),S([To()],RLe.prototype,"renderingOptions",void 0),S([To({constructOnly:!0})],RLe.prototype,"supersampleScreenshotsEnabled",void 0),S([To({readOnly:!0})],RLe.prototype,"supportsGround",void 0),S([To()],RLe.prototype,"defaultsFromMapSettings",null),S([To({readOnly:!0})],RLe.prototype,"typeSpecificPreconditionsReady",null),S([To()],RLe.prototype,"animation",null),S([To({type:SLe})],RLe.prototype,"background",null),S([To()],RLe.prototype,"center",null),S([To({type:Q_e})],RLe.prototype,"constraints",null),S([To()],RLe.prototype,"extent",null),S([To()],RLe.prototype,"floors",void 0),S([To()],RLe.prototype,"grid",void 0),S([To({type:dMe})],RLe.prototype,"highlightOptions",null),S([To({type:Rc.ofType(tIe)})],RLe.prototype,"highlights",void 0),S([To({readOnly:!0})],RLe.prototype,"inputManager",void 0),S([To()],RLe.prototype,"map",void 0),S([To()],RLe.prototype,"padding",null),S([To({readOnly:!0})],RLe.prototype,"rendering",null),S([To()],RLe.prototype,"resizeAlign",null),S([To({readOnly:!0})],RLe.prototype,"resolution",null),S([To()],RLe.prototype,"rotation",null),S([To()],RLe.prototype,"scale",null),S([To({constructOnly:!0})],RLe.prototype,"spatialReferenceLocked",void 0),S([To()],RLe.prototype,"stationary",null),S([To({readOnly:!0})],RLe.prototype,"tileInfo",null),S([To({type:YIe,readOnly:!0})],RLe.prototype,"timeline",void 0),S([To({readOnly:!0})],RLe.prototype,"type",void 0),S([To({readOnly:!0})],RLe.prototype,"updating",null),S([To({readOnly:!0})],RLe.prototype,"view2dType",void 0),S([To()],RLe.prototype,"viewpoint",null),S([To({readOnly:!0})],RLe.prototype,"visibleArea",null),S([To()],RLe.prototype,"zoom",null),S([To({readOnly:!0})],RLe.prototype,"navigating",null),S([To(),Dp((e=>e instanceof yLe?e:no(vLe,e)))],RLe.prototype,"ui",void 0),RLe=S([gs("esri.views.View2D")],RLe);const LLe=RLe;let NLe=class extends LLe{constructor(e){super(e),this.view2dType="map"}};S([To({readOnly:!0})],NLe.prototype,"view2dType",void 0),NLe=S([gs("esri.views.MapView")],NLe);const PLe=NLe;class DLe{wkid;latestWkid;wkt;constructor(e,t){"string"==typeof e?this.wkt=e:(this.wkid=e,this.latestWkid=t)}isEqual(e){return!!(this.isWebMercator()&&e.isWebMercator()||this.wkid&&e.wkid&&this.wkid===e.wkid||this.wkt&&e.wkt&&this.wkt===e.wkt||this.latestWkid&&e.latestWkid&&this.latestWkid===e.latestWkid)}clone(){const e=new DLe("");return e.latestWkid=this.latestWkid,e.wkid=this.wkid,e.wkt=this.wkt,e}lean(){const e={};return this.wkt?e.wkt=this.wkt:(e.wkid=this.wkid,this.latestWkid&&(e.latestWkid=this.latestWkid)),e}isWebMercator(){const e=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&e.includes(this.wkid)||this.latestWkid&&e.includes(this.latestWkid))}static latLongSR(){return new DLe(4326)}static fromConfig(e){if(e.wkt)return new DLe(e.wkt);if(e.wkid)return new DLe(e.wkid,e.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(e){return e?e instanceof DLe?e.clone():"string"==typeof e&&e.startsWith("EPSG:")?new DLe(parseInt(e.substring(5).trim())):new DLe(e):DLe.latLongSR()}static fromESRI(e){if(e.wkt)return new DLe(e.wkt);{const t=e.toJSON().latestWkid,n=new DLe(e.wkid);return t&&(n.latestWkid=t),n}}toESRI(){return new Ip(this.lean())}static fromGeoJSON(e){const t=DLe.parseGeoJsonCrs(e);return"EPSG:"===t.substring(0,5)?new DLe(parseInt(t.slice(5))):new DLe(t)}static parseGeoJsonCrs(e){if(!e)return"EPSG:4326";if("name"===e.type){const t=/urn:ogc:def:crs:EPSG::(\d+)/,n=e.properties.name,r=n.match(t);if(r)return"EPSG:"+r[1];if("urn:ogc"!==n.substring(0,7))return n}return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",e),"EPSG:4326"}toGeoJSON(){const e={type:"name",properties:{name:""}};return this.wkt?e.properties.name=this.wkt:e.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),e}}class FLe{sr;id;constructor(e,t){this.id=e?e.toString():"",this.sr=DLe.parseSR(t)}get type(){return c.UNKNOWN}childIdGenerator(e){return`${this.id}-${e}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===c.NONE||this.type===c.UNKNOWN}geoJsonFactory(e,t){const n={type:e,coordinates:t};return this.sr&&(n.crs=this.sr.toGeoJSON()),n}}class jLe extends FLe{constructor(){super("no_geometry")}get type(){return c.NONE}}let ULe=class e extends FLe{rawArray;constructor(t,n,r,i){super(t,n.sr||r),this.rawArray=i?n.slice():e.parseXY(n)}get type(){return c.POINT}get x(){return this.rawArray[0]}set x(e){this.rawArray[0]=e}get y(){return this.rawArray[1]}set y(e){this.rawArray[1]=e}toArray(){return this.rawArray.slice()}static parseXY(t){let n;if(Array.isArray(t)&&2===t.length)n=t;else{if(t instanceof e)return t.toArray();n=[t.x,t.y]}if(isNaN(n[0])||isNaN(n[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(n[0]),parseFloat(n[1])]}static fromESRI(t,n){return new e(n,[t.x,t.y],DLe.fromESRI(t.spatialReference),!0)}toESRI(){return new sd({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,n){return new e(n,t.coordinates,DLe.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(f.POINT,this.toArray())}};class zLe extends FLe{rawArray;constructor(e,t,n,r){super(e,t.sr||n),this.rawArray=r?zLe.arrayDeepCopy(t):t instanceof zLe?t.toArray():zLe.parsePointSet(t)}get pointArray(){return this.rawArray.map(((e,t)=>new ULe(this.childIdGenerator(t),e,this.sr,!0)))}getAt(e){return new ULe(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,t){this.rawArray[t]=ULe.parseXY(e)}get length(){return this.rawArray.length}toArray(){return zLe.arrayDeepCopy(this.rawArray)}static parsePointSet(e){if(Array.isArray(e)){if(0===e.length)throw new Error("no verticies provided");return e.map((e=>ULe.parseXY(e)))}throw new Error("Bad geometry input encountered")}static arrayDeepCopy(e){return e.map((e=>e.slice()))}}class GLe extends zLe{constructor(e,t,n,r){super(e,t,n,r)}get type(){return c.MULTIPOINT}static fromESRI(e,t){return new GLe(t,e.points,DLe.fromESRI(e.spatialReference),!0)}toESRI(){return new Sy({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,t){return new GLe(t,e.coordinates,DLe.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(f.MULTIPOINT,this.toArray())}}class VLe extends zLe{constructor(e,t,n,r){if(super(e,t,n,r),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return c.LINESTRING}static fromESRI(e,t){return new VLe(t,e.paths[0],DLe.fromESRI(e.spatialReference),!0)}toESRI(){return new lv({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,t){return new VLe(t,e.coordinates,DLe.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(f.LINESTRING,this.toArray())}}class BLe extends FLe{rawArray;constructor(e,t,n,r){if(super(e,t.sr||n),r)this.rawArray=BLe.arrayDeepCopy(t);else if(t instanceof BLe)this.rawArray=t.toArray();else if(t instanceof zLe)this.rawArray=[t.toArray()];else{if(!Array.isArray(t))throw new Error("invalid lines format for MulitLineString");if(0===t.length)throw new Error("no lines provided");this.rawArray=t.map((e=>zLe.parsePointSet(e)))}}get lineArray(){return this.rawArray.map(((e,t)=>new VLe(this.childIdGenerator(t),e,this.sr,!0)))}getAt(e){return new VLe(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,t){this.rawArray[t]=zLe.parsePointSet(e)}get length(){return this.rawArray.length}get type(){return c.MULTILINESTRING}toArray(){return BLe.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(e){return e.map((e=>e.map((e=>e.slice()))))}static fromESRI(e,t){return new BLe(t,e.paths,DLe.fromESRI(e.spatialReference),!0)}toESRI(){return new lv({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,t){return new BLe(t,e.coordinates,DLe.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(f.MULTILINESTRING,this.toArray())}}class $Le extends zLe{constructor(e,t,n,r){if(super(e,t,n,r),$Le.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return c.LINEARRING}updateAt(e,t){const n=this.length-1;0===t?super.updateAt(e,n):t===n&&super.updateAt(e,0),super.updateAt(e,t)}static closeRing(e){const t=e[0],n=e[e.length-1];(t[0]!==n[0]||t[1]!==n[1])&&e.push(t.slice())}static fromESRI(e,t){return new $Le(t,e.rings[0],DLe.fromESRI(e.spatialReference),!0)}toESRI(){return new nv({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,t){return new $Le(t,e.coordinates,DLe.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(f.POLYGON,[this.toArray()])}}class HLe extends FLe{rawArray;constructor(e,t,n,r){super(e,t.sr||n),this.rawArray=r?HLe.arrayDeepCopy(t):HLe.parsePolygon(t)}addLinearRings(e){e.forEach((e=>this.rawArray.push(e.toArray())))}get ringArray(){return this.rawArray.map(((e,t)=>new $Le(this.childIdGenerator(t),e,this.sr,!0)))}get type(){return c.POLYGON}toArray(){return HLe.arrayDeepCopy(this.rawArray)}static parsePolygon(e){let t=[];if(e instanceof HLe)return e.toArray();if(e instanceof BLe)t=e.toArray();else if(e instanceof zLe)t=[e.toArray()];else{if(!Array.isArray(e))throw new Error("invalid input format for parsePolygon");if(0===e.length)throw new Error("no rings provided");t=e.map((e=>zLe.parsePointSet(e)))}return t.forEach((e=>$Le.closeRing(e))),t}static arrayDeepCopy(e){return e.map((e=>e.map((e=>e.slice()))))}static fromESRI(e,t){return new HLe(t,e.rings,DLe.fromESRI(e.spatialReference),!0)}toESRI(){return new nv({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,t){return new HLe(t,e.coordinates,DLe.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(f.POLYGON,this.toArray())}}class WLe extends FLe{rawArray;constructor(e,t,n,r){super(e,t.sr||n),this.rawArray=r?WLe.arrayDeepCopy(t):WLe.parseMultiPolygon(t)}addPolygon(e){this.rawArray.push(e.toArray())}get polygonArray(){return this.rawArray.map(((e,t)=>new HLe(this.childIdGenerator(t),e,this.sr,!0)))}get type(){return c.MULTIPOLYGON}toArray(){return WLe.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(e){if(e instanceof WLe)return e.toArray();if(e instanceof HLe)return[e.toArray()];if(e instanceof BLe||e instanceof zLe)return[HLe.parsePolygon(e)];if(Array.isArray(e)){if(0===e.length)throw new Error("no polygons provided");return e.map((e=>HLe.parsePolygon(e)))}throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(e){return e.map((e=>e.map((e=>e.map((e=>e.slice()))))))}static fromESRI(e,t){return new WLe(t,[e.rings],DLe.fromESRI(e.spatialReference),!0)}toESRI(){const e=[];return this.toArray().forEach((t=>{t.forEach((t=>e.push(t)))})),new nv({rings:e,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,t){return new WLe(t,e.coordinates,DLe.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(f.MULTIPOLYGON,this.toArray())}}class qLe extends FLe{rawMin;rawMax;constructor(e,t,n,r){super(e,t.sr||r),this.rawMin=ULe.parseXY(t),this.rawMax=ULe.parseXY(n)}get type(){return c.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new ULe(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(e){return qLe.fromESRI(this.toESRI().expand(e),`${this.id}-expanded`)}clone(){return new qLe(this.id,this.rawMin,this.rawMax,this.sr)}contains(e){return this.sr.isEqual(e.sr)?this.xmin<=e.x&&this.xmax>=e.x&&this.ymin<=e.y&&this.ymax>=e.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new HLe(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(e,t,n,r,i,o){return new qLe(e,[t,n],[r,i],o)}static fromConfig(e,t){return new qLe(e,[t.xmin,t.ymin],[t.xmax,t.ymax],DLe.fromConfig(t.spatialReference))}isEqual(e){return!!e&&(this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax)}static fromESRI(e,t){return qLe.fromParams(t,e.xmin,e.ymin,e.xmax,e.ymax,DLe.fromESRI(e.spatialReference))}toESRI(){return new Gd({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(e,t){return qLe.fromESRI(Gd.fromJSON(e),t)}static fromGeoJSON(e,t){if(5!==e.coordinates.length)throw new Error("Extent expected a four vertex polygon from GeoJSON");const n=e.coordinates[0].slice(),r=n.slice();return[1,2,3].forEach((t=>{[0,1].forEach((i=>{const o=e.coordinates[t];n[i]>o[i]&&(n[i]=o[i]),r[i]<o[i]&&(r[i]=o[i])}))})),new qLe(t,n,r,DLe.fromGeoJSON(e.crs))}toGeoJSON(){return this.geoJsonFactory(f.POLYGON,this.toPolygonArray())}}class ZLe{c;constructor(e){if(e){if(Array.isArray(e)){const t=e.length;if(t<3||t>4)return console.error("Invalid colour value array passed to Colour class"),void(this.c=[0,0,0,1]);this.c=e.map(((e,t)=>3===t?e:parseInt(e))),3===t&&this.c.push(1)}else if("string"==typeof e){const t="#"===e.substring(0,1)?e.substring(1):e;this.c=[0,2,4,6].map((e=>{const n=t.substring(e,e+2);return ZLe.hexToInt(n)}))}else this.c=[e.r,e.g,e.b,e.a??1];this.c.forEach(((e,t)=>{e<0&&(console.error("Negative value passed to colour"),this.c[t]=0),e>255&&(console.error("Rotund value passed to colour"),this.c[t]=255)})),this.c[3]>1&&(this.c[3]=this.c[3]/255)}else this.c=[0,0,0,1]}get rgba(){return this.c.slice()}get hex(){const e=this.rgba;return e[3]=255*e[3],`#${e.map((e=>ZLe.intToHex(e))).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new gy(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(e){return 0===e.length?255:parseInt(e,16)}static intToHex(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}}class YLe{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(e){if(!(typeof e>"u")){if("string"==typeof e){let t;const n=e.length;if(0===n)return;const r=e.substring(n-2);return t="px"===r?1.333333*parseFloat(e.substring(0,n-2)):"pt"===r?parseFloat(e.substring(0,n-2)):parseFloat(e),t}return e}}}class XLe extends YLe{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(e){if(e=e||{style:i.CIRCLE},super(),this._style=e.style||i.CIRCLE,e.style===i.ICON){const t=e;this._icon=t.icon||"",this._height=YLe.convToPoints(t.height)||16.5,this._width=YLe.convToPoints(t.width)||16.5,this._size=0,this._colour=new ZLe,this._outline=new JLe,this._path=""}else{const t=e;this._size=YLe.convToPoints(t.size)||12,this._colour=new ZLe(t.colour??"#ffffff40"),this._outline=new JLe(t.outline),this._path=this._style===i.PATH&&t.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=YLe.convToPoints(e.xOffset)||0,this._yOffset=YLe.convToPoints(e.yOffset)||0,this._angle=e.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(e){this._style===i.ICON!==e&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const e={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===i.ICON?{...e,icon:this.icon,width:this.width,height:this.height}:{...e,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let e;return this.styleType===i.ICON?XLe.isImageUrl(this.icon)?(e=new GR,e.url=this.icon,e.width=this.width,e.height=this.height,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new fL,e.color=new gy(this.colour.rgba),e.size=this.width,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new fL,e.color=new gy(this.colour.rgba),e.size=this.size,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle,e.path=this.path,e.style=this.styleType,e.outline=this.outline.toESRI()),e}static fromESRI(e){const t={xOffset:e.xoffset,yOffset:e.yoffset,angle:e.angle};if("simple-marker"===e.type){const n=t;n.style=e.style,n.colour=e.color.toRgba(),n.size=e.size,n.path=e.path,n.outline=JLe.fromESRI(e.outline).toOptions()}else{const n=t;n.style=i.ICON,n.width=e.width,n.height=e.height,n.icon=e.url}return new XLe(t)}static fromArcServer(e){return XLe.fromESRI(bD(e))}static isImageUrl(e){return!!e.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!e.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class JLe extends YLe{_style;_width;_miter;_cap;_join;_colour;constructor(e){e=e||{},super(),this._style=e.style||o.SOLID;const t=YLe.convToPoints(e.width);this._width=typeof t>"u"||t<0?.75:t,this._colour=new ZLe(e.colour),this._miter=e.miter??2,this._cap=e.cap||a.ROUND,this._join=e.join||s.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const e=new DC;return e.width=this.width,e.color=this.colour.toESRI(),e.style=this.styleType,e.cap=this.cap,e.miterLimit=this.miter,e.join=this.join,e}static fromESRI(e){const t={width:e.width,colour:e.color.toRgba(),style:e.style};return new JLe(t)}static fromArcServer(e){return JLe.fromESRI(bD(e))}}class KLe extends YLe{_outlineStyle;_fillColour;_fillStyle;constructor(e){super(),e=e||{},e.fill||(e.fill={}),this._fillColour=new ZLe(e.fill.colour),this._fillStyle=e.fill.style||l.SOLID,this._outlineStyle=new JLe(e.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const e=this.outline.toESRI(),t=new gy(this.fillColour.rgba),n=new uL;return n.style=this.fillStyleType,n.color=t,n.outline=e,n}static fromESRI(e){const t={fill:{colour:e.color.toRgba(),style:e.style},outline:JLe.fromESRI(e.outline).toOptions()};return new KLe(t)}static fromArcServer(e){return KLe.fromESRI(bD(e))}}class QLe{Extent=qLe;Graphic=x;LineString=VLe;LineStyle=JLe;LinearRing=$Le;MultiLineString=BLe;MultiPoint=GLe;MultiPolygon=WLe;Point=ULe;PointStyle=XLe;Polygon=HLe;PolygonStyle=KLe;SpatialReference=DLe;esriMapClickToRamp(e,t){return{mapPoint:ULe.fromESRI(e.mapPoint,t),screenX:e.x,screenY:e.y,button:e.button,input:e.native.pointerType,clickTime:e.timestamp}}esriMapMouseToRamp(e){return{screenX:e.x,screenY:e.y,button:e.button,moveTime:e.timestamp}}geomRampToEsri(e){return e.toESRI()}geomEsriToRamp(e,t){switch(e.type){case"point":return ULe.fromESRI(e,t);case"polyline":{const n=e;return 1===n.paths.length?VLe.fromESRI(n,t):BLe.fromESRI(n,t)}case"polygon":return HLe.fromESRI(e,t);case"extent":return qLe.fromESRI(e,t);case"multipoint":return GLe.fromESRI(e,t);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomGeoJsonToRamp(e,t){switch(e.type){case f.POINT:return ULe.fromGeoJSON(e,t);case f.LINESTRING:return VLe.fromGeoJSON(e,t);case f.POLYGON:return HLe.fromGeoJSON(e,t);case f.MULTIPOINT:return GLe.fromGeoJSON(e,t);case f.MULTILINESTRING:return BLe.fromGeoJSON(e,t);case f.MULTIPOLYGON:return WLe.fromGeoJSON(e,t);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomRampToGeoJson(e){return e.toGeoJSON()}graphicRampToGeoJson(e){const t={},n={type:"Feature",geometry:this.geomRampToGeoJson(e.geometry),properties:t};return Object.keys(e.attributes).forEach((t=>n.properties[t]=e.attributes[t])),n}graphicGeoJsonToRamp(e,t){if("Feature"!==e.type)throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const n=this.geomGeoJsonToRamp(e.geometry,t),r={};return Object.keys(e.properties.forEach((t=>r[t]=e.properties[t]))),new x(n,"",r)}graphicRampToEsri(e){const t={attributes:{},id:e.id};return t.geometry=this.geomRampToEsri(e.geometry),Object.keys(e.attributes).forEach((n=>t.attributes[n]=e.attributes[n])),e.style&&(t.symbol=this.styleRampToEsri(e.style)),new jL(t)}styleRampToEsri(e){return e.toESRI()}styleEsriToRamp(e){switch(e.type){case"picture-marker":case"simple-marker":return XLe.fromESRI(e);case"simple-line":return JLe.fromESRI(e);case"simple-fill":return KLe.fromESRI(e);default:return console.error(`Unsupported ESRI symbol type encountered: ${e.type}`),new XLe}}serverGeomTypeToRampGeomType(e){if(!e)return c.NONE;switch(e){case"esriGeometryPolygon":return c.POLYGON;case"esriGeometryPolyline":return c.LINESTRING;case"esriGeometryPoint":return c.POINT;case"esriGeometryMultipoint":return c.MULTIPOINT;case"esriGeometryEnvelope":return c.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${e}`),c.UNKNOWN}}clientGeomTypeToRampGeomType(e){if(!e)return c.NONE;switch(e){case"polygon":return c.POLYGON;case"polyline":return c.LINESTRING;case"point":return c.POINT;case"multipoint":return c.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${e}`),c.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(e){switch(e){case f.POINT:return"point";case f.LINESTRING:case f.MULTILINESTRING:return"polyline";case f.POLYGON:case f.MULTIPOLYGON:return"polygon";case f.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${e}`)}}isImageUrl(e){return XLe.isImageUrl(e)}}class eNe{layerIdx;name;children;uid;isRoot;constructor(e,t,n="",r=!0){this.layerIdx=e,this.name=n,this.isRoot=r,this.children=[],this.uid=t}findChildByUid(e){if(this.uid===e)return this;{let t;return this.children.some((n=>t=n.findChildByUid(e))),t}}findChildByIdx(e){if(this.layerIdx===e)return this;{let t;return this.children.some((n=>t=n.findChildByIdx(e))),t}}get isLogicalLayer(){return this.layerIdx>-1&&0===this.children.length}get isLayerRoot(){return this.isRoot}}class tNe{minScale;maxScale;constructor(e=0,t=0){this.minScale=e,this.maxScale=t}isOffScale(e){const t={offScale:!1,zoomIn:!1};return e<this.maxScale&&0!==this.maxScale?(t.offScale=!0,t.zoomIn=!1):e>this.minScale&&0!==this.minScale&&(t.offScale=!0,t.zoomIn=!0),t}}class nNe{sql;cache;extent;constructor(e="",t=""){this.sql={[w.PERMANENT]:e,[w.INITIAL]:t},this.extent=void 0,this.cache={}}sqlActiveFilters(e=[]){const t=this.sql,n=Object.keys(t).filter((e=>t[e]));return 0===e.length?n:n.filter((t=>-1===e.indexOf(t)))}isActive(){return this.sqlActiveFilters([w.PERMANENT]).length>0}getCombinedSql(e=[]){const t=this.sqlActiveFilters(e),n=t.length;return 0===n?"":1===n?this.sql[t[0]]:t.map((e=>`(${this.sql[e]})`)).join(" AND ")}setSql(e,t){e===w.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[e]=t,this.clearCacheSet(e))}getSql(e){return this.sql[e]||""}setExtent(e){e.isEqual(this.extent)||(this.extent=e,this.clearCacheSet(w.EXTENT))}getCacheKey(e,t){return`_cache$${e.sort().join("$")}${t?"$"+w.EXTENT:""}$`}getCache(e,t){const n=this.getCacheKey(e,t);return this.cache[n]}setCache(e,t,n){const r=this.getCacheKey(t,n);this.cache[r]=e}cacheActiveKeys(){const e=this.cache;return Object.keys(e).filter((t=>e[t]))}clearAllCaches(){this.cache={}}clearCacheSet(e){this.cacheActiveKeys().forEach((t=>{t.indexOf(`$${e}$`)>-1&&delete this.cache[t]}))}clearAll(){this.sql={[w.PERMANENT]:this.sql[w.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class rNe{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(e,t,n=void 0,r=void 0){this.id=e,this.sr=t.sr.clone(),this._defaultExtent=t.clone(),this._fullExtent=n?.clone(),this._maximumExtent=r?.clone(),n&&!n.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${n.sr}`),r&&!r.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${r.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(e){this._defaultExtent=e.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(e){this._fullExtent=e.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(e){this._maximumExtent=e.clone()}static fromConfig(e){return new rNe(e.id,qLe.fromConfig(`${e.id}-extent-default`,e.default),void 0!==e.full?qLe.fromConfig(`${e.id}-extent-full`,e.full):void 0,void 0!==e.maximum?qLe.fromConfig(`${e.id}-extent-maximum`,e.maximum):void 0)}clone(){return new rNe(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class iNe{realPromise;resolveMe(e){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise(((e,t)=>{this.resolveMe=t=>{e(t)},this.rejectMe=t}))}}var oNe,sNe,aNe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lNe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cNe(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}function uNe(){if(sNe)return oNe;sNe=1;var e=function(e){return t(e)&&!n(e)};function t(e){return!!e&&"object"==typeof e}function n(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||o(e)}var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(e){return e.$$typeof===i}function s(e){return Array.isArray(e)?[]:{}}function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?m(s(e),e,t):e}function l(e,t,n){return e.concat(t).map((function(e){return a(e,n)}))}function c(e,t){if(!t.customMerge)return m;var n=t.customMerge(e);return"function"==typeof n?n:m}function u(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}function h(e){return Object.keys(e).concat(u(e))}function p(e,t){try{return t in e}catch{return!1}}function d(e,t){return p(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function f(e,t,n){var r={};return n.isMergeableObject(e)&&h(e).forEach((function(t){r[t]=a(e[t],n)})),h(t).forEach((function(i){d(e,i)||(p(e,i)&&n.isMergeableObject(t[i])?r[i]=c(i,n)(e[i],t[i],n):r[i]=a(t[i],n))})),r}function m(t,n,r){r=r||{},r.arrayMerge=r.arrayMerge||l,r.isMergeableObject=r.isMergeableObject||e,r.cloneUnlessOtherwiseSpecified=a;var i=Array.isArray(n),o=Array.isArray(t),s=i===o;return s?i?r.arrayMerge(t,n,r):f(t,n,r):a(n,r)}m.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return m(e,n,t)}),{})};var y=m;return oNe=y,oNe}var hNe=uNe();const pNe=lNe(hNe);class dNe{generateUUID(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}convertImageToCanvas(e,t,n=!0){const r=t??document.createElement("canvas"),i=document.createElement("img");n&&(i.crossOrigin="anonymous");const o=new Promise(((e,t)=>{i.addEventListener("load",(()=>{r.width=i.width,r.height=i.height,r.getContext("2d")?.drawImage(i,0,0),e(r)})),i.addEventListener("error",(e=>t(e)))}));return i.src=e,o}async convertImagetoDataURL(e,t="image/png"){return e.startsWith("data")?e:this.convertImageToCanvas(e).then((e=>e.toDataURL(t))).catch((t=>(console.error("Failed to load crossorigin image",e,t),e)))}parseUrlIndex(e){const t={rootUrl:e,index:0},n=/\/(\d+)\/?$/,r=e.match(n);if(r){const n=r[1];t.index=isNaN(parseInt(n))?void 0:parseInt(n),t.rootUrl=e.substr(0,e.length-r[0].length)}else console.warn("Cannot extract layer index from url "+e);return t}controlAvailable(e,t){return!t?.disabledControls?.includes(e)&&(!t?.controls||t?.controls?.includes(e))}}class fNe{_url;_base;_query;_queryMap={};constructor(e){this._url=e,[this._base,this._query]=e.split("?").concat(""),this._queryMap=this._query.split("&").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(e){const t=pNe.all([{},this.queryMap,e]);return`${this.base}${Object.entries(t).filter((([,e])=>void 0!==e)).map((([e,t],n)=>`${0===n?"?":""}${e}=${t}`)).join("&")}`}}var mNe,yNe={exports:{}},gNe=yNe.exports;function vNe(){return mNe||(mNe=1,function(e){(function(t,n){e.exports=n(),"object"==typeof window&&(t.Terraformer=n())})(gNe,(function(){var e={},t=6378137,n=57.29577951308232,r=.017453292519943,i={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},o={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}};function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(){var e=Array.prototype.slice.apply(arguments);void 0!==typeof console&&console.warn&&console.warn.apply(console,e)}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(e){if(e.type)switch(e.type){case"Point":return[e.coordinates[0],e.coordinates[1],e.coordinates[0],e.coordinates[1]];case"MultiPoint":return p(e.coordinates);case"LineString":return p(e.coordinates);case"MultiLineString":return u(e.coordinates);case"Polygon":return u(e.coordinates);case"MultiPolygon":return h(e.coordinates);case"Feature":return e.geometry?c(e.geometry):null;case"FeatureCollection":return d(e);case"GeometryCollection":return f(e);default:throw new Error("Unknown type: "+e.type)}return null}function u(e){for(var t=null,n=null,r=null,i=null,o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++){var l=s[a],c=l[0],u=l[1];(null===t||c<t)&&(t=c),(null===n||c>n)&&(n=c),(null===r||u<r)&&(r=u),(null===i||u>i)&&(i=u)}return[t,r,n,i]}function h(e){for(var t=null,n=null,r=null,i=null,o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++)for(var l=s[a],c=0;c<l.length;c++){var u=l[c],h=u[0],p=u[1];(null===t||h<t)&&(t=h),(null===n||h>n)&&(n=h),(null===r||p<r)&&(r=p),(null===i||p>i)&&(i=p)}return[t,r,n,i]}function p(e){for(var t=null,n=null,r=null,i=null,o=0;o<e.length;o++){var s=e[o],a=s[0],l=s[1];(null===t||a<t)&&(t=a),(null===n||a>n)&&(n=a),(null===r||l<r)&&(r=l),(null===i||l>i)&&(i=l)}return[t,r,n,i]}function d(e){for(var t,n=[],r=e.features.length-1;r>=0;r--)t=c(e.features[r].geometry),n.push([t[0],t[1]]),n.push([t[2],t[3]]);return p(n)}function f(e){for(var t,n=[],r=e.geometries.length-1;r>=0;r--)t=c(e.geometries[r]),n.push([t[0],t[1]]),n.push([t[2],t[3]]);return p(n)}function m(e){var t=c(e);return{x:t[0],y:t[1],w:Math.abs(t[0]-t[2]),h:Math.abs(t[1]-t[3])}}function y(e){return e*n}function g(e){return e*r}function v(e,t){for(var n=0;n<e.length;n++)"number"==typeof e[n][0]&&(e[n]=t(e[n])),"object"==typeof e[n]&&(e[n]=v(e[n],t));return e}function b(e){var n=e[0],r=e[1];return[y(n/t)-360*Math.floor((y(n/t)+180)/360),y(Math.PI/2-2*Math.atan(Math.exp(-1*r/t)))]}function w(e){var n=e[0],r=Math.max(Math.min(e[1],89.99999),-89.99999);return[g(n)*t,t/2*Math.log((1+Math.sin(g(r)))/(1-Math.sin(g(r))))]}function _(e,t,n){if("Point"===e.type)e.coordinates=t(e.coordinates);else if("Feature"===e.type)e.geometry=_(e.geometry,t,!0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)e.features[r]=_(e.features[r],t,!0);else if("GeometryCollection"===e.type)for(var o=0;o<e.geometries.length;o++)e.geometries[o]=_(e.geometries[o],t,!0);else e.coordinates=v(e.coordinates,t);return n||t===w&&(e.crs=i),t===b&&delete e.crs,e}function x(e){return _(e,w)}function S(e){return _(e,b)}function T(e,t){return e<t?-1:e>t?1:0}function E(e,t){return e[0]>t[0]?-1:e[0]<t[0]?1:e[1]>t[1]?-1:e[1]<t[1]?1:0}function M(e,t,n){return T((t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1]),0)}function A(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function I(e,t){var n=t;for(var r in e){var i=M(t,n,e[r]);(-1===i||0===i&&A(t,e[r])>A(t,n))&&(n=e[r])}return n}function C(e){if(0===e.length)return[];if(1===e.length)return e;for(var t=[e.sort(E)[0]],n=0;n<t.length;n++){var r=I(e,t[n]);r!==t[0]&&t.push(r)}return t}function O(e){for(var t,n=0;n<e.length-3;n++){var r=e[n],i=e[n+1],o=e[n+2],s=[i[0]-r[0],i[1]-r[1]],a=o[0]*s[1]-o[1]*s[0]+s[0]*r[1]-s[1]*r[0];if(0===n)t=a<0;else if(t&&a>0||!t&&a<0)return!1}return!0}function k(e,t){for(var n=!1,r=-1,i=e.length,o=i-1;++r<i;o=r)(e[r][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[o][0]-e[r][0])*(t[1]-e[r][1])/(e[o][1]-e[r][1])+e[r][0]&&(n=!n);return n}function R(e,t){if(e&&e.length){if(1===e.length)return k(e[0],t);if(k(e[0],t)){for(var n=1;n<e.length;n++)if(k(e[n],t))return!1;return!0}return!1}return!1}function L(e,t,n,r){var i=(r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]),o=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(0!==s){var a=i/s,l=o/s;if(0<=a&&a<=1&&0<=l&&l<=1)return!0}return!1}function N(e){return!isNaN(parseFloat(e))&&isFinite(e)}function P(e,t){if(N(e[0][0])){if(N(t[0][0])){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++)if(L(e[n],e[n+1],t[r],t[r+1]))return!0}else for(var i=0;i<t.length;i++)if(P(e,t[i]))return!0}else for(var o=0;o<e.length;o++)if(P(e[o],t))return!0;return!1}function D(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].slice();!1===F(r[0],r[r.length-1])&&r.push(r[0]),t.push(r)}return t}function F(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function j(e,t){if(e.length!==t.length)return!1;for(var n=e.slice().sort(E),r=t.slice().sort(E),i=0;i<n.length;i++){if(n[i].length!==r[i].length)return!1;for(var o=0;o<n.length;o++)if(n[i][o]!==r[i][o])return!1}return!0}var U=["length"];function z(e){if(e)switch(e.type){case"Point":return new G(e);case"MultiPoint":return new V(e);case"LineString":return new B(e);case"MultiLineString":return new $(e);case"Polygon":return new H(e);case"MultiPolygon":return new W(e);case"Feature":return new q(e);case"FeatureCollection":return new Z(e);case"GeometryCollection":return new Y(e);default:throw new Error("Unknown type: "+e.type)}}function G(e){var t=Array.prototype.slice.call(arguments);if(e&&"Point"===e.type&&e.coordinates)l(this,e);else if(e&&s(e))this.coordinates=e;else{if(!(t.length>=2))throw"Terraformer: invalid input for Terraformer.Point";this.coordinates=t}this.type="Point"}function V(e){if(e&&"MultiPoint"===e.type&&e.coordinates)l(this,e);else{if(!s(e))throw"Terraformer: invalid input for Terraformer.MultiPoint";this.coordinates=e}this.type="MultiPoint"}function B(e){if(e&&"LineString"===e.type&&e.coordinates)l(this,e);else{if(!s(e))throw"Terraformer: invalid input for Terraformer.LineString";this.coordinates=e}this.type="LineString"}function $(e){if(e&&"MultiLineString"===e.type&&e.coordinates)l(this,e);else{if(!s(e))throw"Terraformer: invalid input for Terraformer.MultiLineString";this.coordinates=e}this.type="MultiLineString"}function H(e){if(e&&"Polygon"===e.type&&e.coordinates)l(this,e);else{if(!s(e))throw"Terraformer: invalid input for Terraformer.Polygon";this.coordinates=e}this.type="Polygon"}function W(e){if(e&&"MultiPolygon"===e.type&&e.coordinates)l(this,e);else{if(!s(e))throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.coordinates=e}this.type="MultiPolygon"}function q(e){if(e&&"Feature"===e.type)l(this,e);else{if(!(e&&e.type&&e.coordinates))throw"Terraformer: invalid input for Terraformer.Feature";this.geometry=e}this.type="Feature"}function Z(e){if(e&&"FeatureCollection"===e.type&&e.features)l(this,e);else{if(!s(e))throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.features=e}this.type="FeatureCollection"}function Y(e){if(e&&"GeometryCollection"===e.type&&e.geometries)l(this,e);else if(s(e))this.geometries=e;else{if(!e.coordinates||!e.type)throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection",this.geometries=[e]}this.type="GeometryCollection"}function X(e,t,n){for(var r=w(e),i=n||64,o={type:"Polygon",coordinates:[[]]},s=1;s<=i;s++){var a=s*(360/i)*Math.PI/180;o.coordinates[0].push([r[0]+t*Math.cos(a),r[1]+t*Math.sin(a)])}return o.coordinates=D(o.coordinates),S(o)}function J(e,t,n){var r=n||64,i=t||250;if(!e||e.length<2||!i||!r)throw new Error("Terraformer: missing parameter for Terraformer.Circle");l(this,new q({type:"Feature",geometry:X(e,i,r),properties:{radius:i,center:e,steps:r}}))}return z.prototype.toMercator=function(){return x(this)},z.prototype.toGeographic=function(){return S(this)},z.prototype.envelope=function(){return m(this)},z.prototype.bbox=function(){return c(this)},z.prototype.convexHull=function(){var e,t,n=[];if("Point"===this.type)return null;if("LineString"===this.type||"MultiPoint"===this.type){if(!(this.coordinates&&this.coordinates.length>=3))return null;n=this.coordinates}else if("Polygon"===this.type||"MultiLineString"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)n=n.concat(this.coordinates[e]);if(n.length<3)return null}else if("MultiPolygon"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)for(t=0;t<this.coordinates[e].length;t++)n=n.concat(this.coordinates[e][t]);if(n.length<3)return null}else if("Feature"===this.type){var r=new z(this.geometry);return r.convexHull()}return new H({type:"Polygon",coordinates:D([C(n)])})},z.prototype.toJSON=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&-1===U.indexOf(t)&&(e[t]=this[t]);return e.bbox=c(this),e},z.prototype.contains=function(e){return new z(e).within(this)},z.prototype.within=function(e){var t,n,r,i;if("Feature"===e.type&&(e=e.geometry),"Point"===e.type&&"Point"===this.type)return F(this.coordinates,e.coordinates);if("MultiLineString"===e.type&&"Point"===this.type)for(n=0;n<e.coordinates.length;n++){var o={type:"LineString",coordinates:e.coordinates[n]};if(this.within(o))return!0}if(("LineString"===e.type||"MultiPoint"===e.type)&&"Point"===this.type)for(n=0;n<e.coordinates.length;n++){if(this.coordinates.length!==e.coordinates[n].length)return!1;if(F(this.coordinates,e.coordinates[n]))return!0}if("Polygon"===e.type){if("Polygon"===this.type){if(e.coordinates.length===this.coordinates.length)for(n=0;n<this.coordinates.length;n++)if(j(this.coordinates[n],e.coordinates[n]))return!0;return!(!this.coordinates.length||!R(e.coordinates,this.coordinates[0][0]))&&!P(D(this.coordinates),D(e.coordinates))}if("Point"===this.type)return R(e.coordinates,this.coordinates);if("LineString"===this.type||"MultiPoint"===this.type){if(!this.coordinates||0===this.coordinates.length)return!1;for(n=0;n<this.coordinates.length;n++)if(!1===R(e.coordinates,this.coordinates[n]))return!1;return!0}if("MultiLineString"===this.type){for(n=0;n<this.coordinates.length;n++){var s=new B(this.coordinates[n]);if(!1===s.within(e))return i++,!1}return!0}if("MultiPolygon"===this.type){for(n=0;n<this.coordinates.length;n++){var a=new z({type:"Polygon",coordinates:this.coordinates[n]});if(!1===a.within(e))return!1}return!0}}if("MultiPolygon"===e.type){if("Point"===this.type){if(e.coordinates.length)for(n=0;n<e.coordinates.length;n++)if(t=e.coordinates[n],R(t,this.coordinates)&&!1===P([this.coordinates],e.coordinates))return!0;return!1}if("Polygon"===this.type){for(n=0;n<this.coordinates.length;n++)if(e.coordinates[n].length===this.coordinates.length)for(r=0;r<this.coordinates.length;r++)if(j(this.coordinates[r],e.coordinates[n][r]))return!0;if(!1===P(this.coordinates,e.coordinates)&&e.coordinates.length){for(n=0;n<e.coordinates.length;n++)t=e.coordinates[n],i=!1!==R(t,this.coordinates[0][0]);return i}}else if("LineString"===this.type||"MultiPoint"===this.type)for(n=0;n<e.coordinates.length;n++){var l={type:"Polygon",coordinates:e.coordinates[n]};return!!this.within(l)}else{if("MultiLineString"===this.type){for(n=0;n<this.coordinates.length;n++){var c=new B(this.coordinates[n]);if(!1===c.within(e))return!1}return!0}if("MultiPolygon"===this.type){for(n=0;n<e.coordinates.length;n++){var u={type:"Polygon",coordinates:e.coordinates[n]};if(!1===this.within(u))return!1}return!0}}}return!1},z.prototype.intersects=function(e){"Feature"===e.type&&(e=e.geometry);var t=new z(e);if(this.within(e)||t.within(this))return!0;if("Point"!==this.type&&"MultiPoint"!==this.type&&"Point"!==e.type&&"MultiPoint"!==e.type)return P(this.coordinates,e.coordinates);if("Feature"===this.type){var n=new z(this.geometry);return n.intersects(e)}return a("Type "+this.type+" to "+e.type+" intersection is not supported by intersects"),!1},G.prototype=new z,G.prototype.constructor=G,V.prototype=new z,V.prototype.constructor=V,V.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates]);return this},V.prototype.addPoint=function(e){return this.coordinates.push(e),this},V.prototype.insertPoint=function(e,t){return this.coordinates.splice(t,0,e),this},V.prototype.removePoint=function(e){return"number"==typeof e?this.coordinates.splice(e,1):this.coordinates.splice(this.coordinates.indexOf(e),1),this},V.prototype.get=function(e){return new G(this.coordinates[e])},B.prototype=new z,B.prototype.constructor=B,B.prototype.addVertex=function(e){return this.coordinates.push(e),this},B.prototype.insertVertex=function(e,t){return this.coordinates.splice(t,0,e),this},B.prototype.removeVertex=function(e){return this.coordinates.splice(e,1),this},$.prototype=new z,$.prototype.constructor=$,$.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},$.prototype.get=function(e){return new B(this.coordinates[e])},H.prototype=new z,H.prototype.constructor=H,H.prototype.addVertex=function(e){return this.insertVertex(e,this.coordinates[0].length-1),this},H.prototype.insertVertex=function(e,t){return this.coordinates[0].splice(t,0,e),this},H.prototype.removeVertex=function(e){return this.coordinates[0].splice(e,1),this},H.prototype.close=function(){this.coordinates=D(this.coordinates)},H.prototype.hasHoles=function(){return this.coordinates.length>1},H.prototype.holes=function(){var e=[];if(this.hasHoles())for(var t=1;t<this.coordinates.length;t++)e.push(new H([this.coordinates[t]]));return e},W.prototype=new z,W.prototype.constructor=W,W.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},W.prototype.get=function(e){return new H(this.coordinates[e])},W.prototype.close=function(){var e=[];return this.forEach((function(t){e.push(D(t))})),this.coordinates=e,this},q.prototype=new z,q.prototype.constructor=q,Z.prototype=new z,Z.prototype.constructor=Z,Z.prototype.forEach=function(e){for(var t=0;t<this.features.length;t++)e.apply(this,[this.features[t],t,this.features])},Z.prototype.get=function(e){var t;return this.forEach((function(n){n.id===e&&(t=n)})),new q(t)},Y.prototype=new z,Y.prototype.constructor=Y,Y.prototype.forEach=function(e){for(var t=0;t<this.geometries.length;t++)e.apply(this,[this.geometries[t],t,this.geometries])},Y.prototype.get=function(e){return new z(this.geometries[e])},J.prototype=new z,J.prototype.constructor=J,J.prototype.recalculate=function(){return this.geometry=X(this.properties.center,this.properties.radius,this.properties.steps),this},J.prototype.center=function(e){return e&&(this.properties.center=e,this.recalculate()),this.properties.center},J.prototype.radius=function(e){return e&&(this.properties.radius=e,this.recalculate()),this.properties.radius},J.prototype.steps=function(e){return e&&(this.properties.steps=e,this.recalculate()),this.properties.steps},J.prototype.toJSON=function(){var e=z.prototype.toJSON.call(this);return e},e.Primitive=z,e.Point=G,e.MultiPoint=V,e.LineString=B,e.MultiLineString=$,e.Polygon=H,e.MultiPolygon=W,e.Feature=q,e.FeatureCollection=Z,e.GeometryCollection=Y,e.Circle=J,e.toMercator=x,e.toGeographic=S,e.Tools={},e.Tools.positionToMercator=w,e.Tools.positionToGeographic=b,e.Tools.applyConverter=_,e.Tools.toMercator=x,e.Tools.toGeographic=S,e.Tools.createCircle=X,e.Tools.calculateBounds=c,e.Tools.calculateEnvelope=m,e.Tools.coordinatesContainPoint=k,e.Tools.polygonContainsPoint=R,e.Tools.arraysIntersectArrays=P,e.Tools.coordinatesContainPoint=k,e.Tools.coordinatesEqual=j,e.Tools.convexHull=C,e.Tools.isConvex=O,e.MercatorCRS=i,e.GeographicCRS=o,e}))}(yNe)),yNe.exports}var bNe=vNe();function wNe(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var _Ne=1,xNe=2,SNe=3,TNe=4,ENe=5,MNe=6378137,ANe=6356752.314,INe=.0066943799901413165,CNe=484813681109536e-20,ONe=Math.PI/2,kNe=.16666666666666666,RNe=.04722222222222222,LNe=.022156084656084655,NNe=1e-10,PNe=.017453292519943295,DNe=57.29577951308232,FNe=Math.PI/4,jNe=2*Math.PI,UNe=3.14159265359,zNe={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const GNe={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var VNe=/[\s_\-\/\(\)]/g;function BNe(e,t){if(e[t])return e[t];for(var n,r,i=Object.keys(e),o=t.toLowerCase().replace(VNe,""),s=-1;++s<i.length;)if(n=i[s],r=n.toLowerCase().replace(VNe,""),r===o)return e[n]}function $Ne(e){var t,n,r,i={},o=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e}),{}),s={proj:"projName",datum:"datumCode",rf:function(e){i.rf=parseFloat(e)},lat_0:function(e){i.lat0=e*PNe},lat_1:function(e){i.lat1=e*PNe},lat_2:function(e){i.lat2=e*PNe},lat_ts:function(e){i.lat_ts=e*PNe},lon_0:function(e){i.long0=e*PNe},lon_1:function(e){i.long1=e*PNe},lon_2:function(e){i.long2=e*PNe},alpha:function(e){i.alpha=parseFloat(e)*PNe},gamma:function(e){i.rectified_grid_angle=parseFloat(e)},lonc:function(e){i.longc=e*PNe},x_0:function(e){i.x0=parseFloat(e)},y_0:function(e){i.y0=parseFloat(e)},k_0:function(e){i.k0=parseFloat(e)},k:function(e){i.k0=parseFloat(e)},a:function(e){i.a=parseFloat(e)},b:function(e){i.b=parseFloat(e)},r:function(e){i.a=i.b=parseFloat(e)},r_a:function(){i.R_A=!0},zone:function(e){i.zone=parseInt(e,10)},south:function(){i.utmSouth=!0},towgs84:function(e){i.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){i.to_meter=parseFloat(e)},units:function(e){i.units=e;var t=BNe(GNe,e);t&&(i.to_meter=t.to_meter)},from_greenwich:function(e){i.from_greenwich=e*PNe},pm:function(e){var t=BNe(zNe,e);i.from_greenwich=(t||parseFloat(e))*PNe},nadgrids:function(e){"@null"===e?i.datumCode="none":i.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(i.axis=e)},approx:function(){i.approx=!0}};for(t in o)n=o[t],t in s?(r=s[t],"function"==typeof r?r(n):i[r]=n):i[t]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}var HNe=1,WNe=2,qNe=3,ZNe=4,YNe=5,XNe=-1,JNe=/\s/,KNe=/[A-Za-z]/,QNe=/[A-Za-z84_]/,ePe=/[,\]]/,tPe=/[\d\.E\-\+]/;function nPe(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=HNe}function rPe(e){var t=new nPe(e);return t.output()}function iPe(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce((function(e,t){return oPe(t,e),e}),r);t&&(e[t]=i)}function oPe(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void oPe(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var r;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&oPe(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&oPe(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void iPe(t,n,e);default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return oPe(e,t[n]);return iPe(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}nPe.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==ZNe)for(;JNe.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case HNe:return this.neutral(e);case WNe:return this.keyword(e);case ZNe:return this.quoted(e);case YNe:return this.afterquote(e);case qNe:return this.number(e);case XNe:return}},nPe.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=ZNe);if(ePe.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},nPe.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=HNe)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=HNe,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=XNe))):void 0},nPe.prototype.number=function(e){if(!tPe.test(e)){if(ePe.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},nPe.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=YNe},nPe.prototype.keyword=function(e){if(QNe.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=HNe)}if(!ePe.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},nPe.prototype.neutral=function(e){if(KNe.test(e))return this.word=e,void(this.state=WNe);if('"'===e)return this.word="",void(this.state=ZNe);if(tPe.test(e))return this.word=e,void(this.state=qNe);if(!ePe.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},nPe.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===XNe)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var sPe=.017453292519943295;function aPe(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}function lPe(e){return e*sPe}function cPe(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,r=e.AXIS.length;n<r;++n){var i=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];-1!==i[0].indexOf("north")||("y"===i[0]||"lat"===i[0])&&"north"===i[1]?t+="n":-1!==i[0].indexOf("south")||("y"===i[0]||"lat"===i[0])&&"south"===i[1]?t+="s":-1!==i[0].indexOf("east")||("x"===i[0]||"lon"===i[0])&&"east"===i[1]?t+="e":(-1!==i[0].indexOf("west")||("x"===i[0]||"lon"===i[0])&&"west"===i[1])&&(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var o=e.GEOGCS;function s(t){var n=e.to_meter||1;return t*n}"GEOGCS"===e.type&&(o=e),o&&(o.DATUM?e.datumCode=o.DATUM.name.toLowerCase():e.datumCode=o.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===e.datumCode||"new_zealand_1949"===e.datumCode)&&(e.datumCode="nzgd49"),("wgs_1984"===e.datumCode||"world_geodetic_system_1984"===e.datumCode)&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(e.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=o.DATUM.SPHEROID.a,e.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(e.datum_params=o.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);var a=function(t){return aPe(e,t)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",lPe],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",lPe],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",lPe],["lat0","latitude_of_origin",lPe],["lat0","standard_parallel_1",lPe],["lat1","standard_parallel_1",lPe],["lat2","standard_parallel_2",lPe],["azimuth","Azimuth"],["alpha","azimuth",lPe],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&("Albers_Conic_Equal_Area"===e.projName||"Lambert_Azimuthal_Equal_Area"===e.projName)&&(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName?!e.lat_ts&&e.lat0&&"Polar_Stereographic"===e.projName&&(e.lat_ts=e.lat0,e.lat0=lPe(e.lat0>0?90:-90)):(e.lat0=lPe(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function uPe(e){var t=rPe(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return oPe(t,i),cPe(i),i}function hPe(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?hPe[e]=$Ne(arguments[1]):hPe[e]=uPe(arguments[1]):hPe[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?hPe.apply(t,e):hPe(e)}));if("string"==typeof e){if(e in hPe)return hPe[e]}else"EPSG"in e?hPe["EPSG:"+e.EPSG]=e:"ESRI"in e?hPe["ESRI:"+e.ESRI]=e:"IAU2000"in e?hPe["IAU2000:"+e.IAU2000]=e:console.log(e);return}}function pPe(e){return"string"==typeof e}function dPe(e){return e in hPe}wNe(hPe);var fPe=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function mPe(e){return fPe.some((function(t){return e.indexOf(t)>-1}))}var yPe=["3857","900913","3785","102113"];function gPe(e){var t=BNe(e,"authority");if(t){var n=BNe(t,"epsg");return n&&yPe.indexOf(n)>-1}}function vPe(e){var t=BNe(e,"extension");if(t)return BNe(t,"proj4")}function bPe(e){return"+"===e[0]}function wPe(e){if(!pPe(e))return e;if(dPe(e))return hPe[e];if(mPe(e)){var t=uPe(e);if(gPe(t))return hPe["EPSG:3857"];var n=vPe(t);return n?$Ne(n):t}return bPe(e)?$Ne(e):void 0}function _Pe(e,t){var n,r;if(e=e||{},!t)return e;for(r in t)n=t[r],void 0!==n&&(e[r]=n);return e}function xPe(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}function SPe(e){return e<0?-1:1}function TPe(e){return Math.abs(e)<=UNe?e:e-SPe(e)*jNe}function EPe(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(ONe-t))/r}function MPe(e,t){for(var n,r,i=.5*e,o=ONe-2*Math.atan(t),s=0;s<=15;s++)if(n=e*Math.sin(o),r=ONe-2*Math.atan(t*Math.pow((1-n)/(1+n),i))-o,o+=r,Math.abs(r)<=1e-10)return o;return-9999}function APe(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=xPe(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function IPe(e){var t,n,r=e.x,i=e.y;if(i*DNe>90&&i*DNe<-90&&r*DNe>180&&r*DNe<-180)return null;if(Math.abs(Math.abs(i)-ONe)<=NNe)return null;if(this.sphere)t=this.x0+this.a*this.k0*TPe(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(FNe+.5*i));else{var o=Math.sin(i),s=EPe(this.e,i,o);t=this.x0+this.a*this.k0*TPe(r-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return e.x=t,e.y=n,e}function CPe(e){var t,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=ONe-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(n=MPe(this.e,o),-9999===n)return null}return t=TPe(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e}var OPe=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const kPe={init:APe,forward:IPe,inverse:CPe,names:OPe};function RPe(){}function LPe(e){return e}var NPe=["longlat","identity"];const PPe={init:RPe,forward:LPe,inverse:LPe,names:NPe};var DPe=[kPe,PPe],FPe={},jPe=[];function UPe(e,t){var n=jPe.length;return e.names?(jPe[n]=e,e.names.forEach((function(e){FPe[e.toLowerCase()]=n})),this):(console.log(t),!0)}function zPe(e){if(!e)return!1;var t=e.toLowerCase();return typeof FPe[t]<"u"&&jPe[FPe[t]]?jPe[FPe[t]]:void 0}function GPe(){DPe.forEach(UPe)}const VPe={start:GPe,add:UPe,get:zPe};var BPe={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},$Pe=BPe.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function HPe(e,t,n,r){var i=e*e,o=t*t,s=(i-o)/i,a=0;r?(e*=1-s*(kNe+s*(RNe+s*LNe)),i=e*e,s=0):a=Math.sqrt(s);var l=(i-o)/o;return{es:s,e:a,ep2:l}}function WPe(e,t,n,r,i){if(!e){var o=BNe(BPe,r);o||(o=$Pe),e=o.a,t=o.b,n=o.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<NNe)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}BPe.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var qPe={};function ZPe(e,t,n,r,i,o,s){var a={};return a.datum_type=void 0===e||"none"===e?ENe:TNe,t&&(a.datum_params=t.map(parseFloat),(0!==a.datum_params[0]||0!==a.datum_params[1]||0!==a.datum_params[2])&&(a.datum_type=_Ne),a.datum_params.length>3&&(0!==a.datum_params[3]||0!==a.datum_params[4]||0!==a.datum_params[5]||0!==a.datum_params[6])&&(a.datum_type=xNe,a.datum_params[3]*=CNe,a.datum_params[4]*=CNe,a.datum_params[5]*=CNe,a.datum_params[6]=a.datum_params[6]/1e6+1)),s&&(a.datum_type=SNe,a.grids=s),a.a=n,a.b=r,a.es=i,a.ep2=o,a}qPe.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},qPe.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},qPe.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},qPe.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},qPe.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},qPe.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},qPe.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},qPe.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},qPe.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},qPe.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},qPe.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},qPe.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},qPe.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},qPe.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},qPe.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},qPe.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},qPe.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},qPe.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var YPe={};function XPe(e,t){var n=new DataView(t),r=eDe(n),i=tDe(n,r),o=rDe(n,i,r),s={header:i,subgrids:o};return YPe[e]=s,s}function JPe(e){if(void 0===e)return null;var t=e.split(",");return t.map(KPe)}function KPe(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:YPe[e]||null,isNull:!1}}function QPe(e){return e/3600*Math.PI/180}function eDe(e){var t=e.getInt32(8,!1);return 11!==t&&(t=e.getInt32(8,!0),11!==t&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function tDe(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:nDe(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function nDe(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function rDe(e,t,n){for(var r=176,i=[],o=0;o<t.nSubgrids;o++){var s=oDe(e,r,n),a=sDe(e,r,s,n),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),c=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[QPe(s.lowerLongitude),QPe(s.lowerLatitude)],del:[QPe(s.longitudeInterval),QPe(s.latitudeInterval)],lim:[l,c],count:s.gridNodeCount,cvs:iDe(a)}),r+=176+16*s.gridNodeCount}return i}function iDe(e){return e.map((function(e){return[QPe(e.longitudeShift),QPe(e.latitudeShift)]}))}function oDe(e,t,n){return{name:nDe(e,t+8,t+16).trim(),parent:nDe(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function sDe(e,t,n,r){for(var i=t+176,o=16,s=[],a=0;a<n.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(i+a*o,r),longitudeShift:e.getFloat32(i+a*o+4,r),latitudeAccuracy:e.getFloat32(i+a*o+8,r),longitudeAccuracy:e.getFloat32(i+a*o+12,r)};s.push(l)}return s}function aDe(e,t){if(!(this instanceof aDe))return new aDe(e);t=t||function(e){if(e)throw e};var n=wPe(e);if("object"==typeof n){var r=aDe.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=BNe(qPe,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=WPe(n.a,n.b,n.rf,n.ellps,n.sphere),s=HPe(o.a,o.b,o.rf,n.R_A),a=JPe(n.nadgrids),l=n.datum||ZPe(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2,a);_Pe(this,n),_Pe(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),t(null,this)}else t("Could not get projection name from: "+e)}else t("Could not parse to valid json: "+e)}function lDe(e,t){return!(e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===_Ne?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==xNe||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}function cDe(e,t,n){var r,i,o,s,a=e.x,l=e.y,c=e.z?e.z:0;if(l<-ONe&&l>-1.001*ONe)l=-ONe;else if(l>ONe&&l<1.001*ONe)l=ONe;else{if(l<-ONe)return{x:-1/0,y:-1/0,z:e.z};if(l>ONe)return{x:1/0,y:1/0,z:e.z}}return a>Math.PI&&(a-=2*Math.PI),i=Math.sin(l),s=Math.cos(l),o=i*i,r=n/Math.sqrt(1-t*o),{x:(r+c)*s*Math.cos(a),y:(r+c)*s*Math.sin(a),z:(r*(1-t)+c)*i}}function uDe(e,t,n,r){var i,o,s,a,l,c,u,h,p,d,f,m,y,g,v,b,w=1e-12,_=w*w,x=30,S=e.x,T=e.y,E=e.z?e.z:0;if(i=Math.sqrt(S*S+T*T),o=Math.sqrt(S*S+T*T+E*E),i/n<w){if(g=0,o/n<w)return v=ONe,b=-r,{x:e.x,y:e.y,z:e.z}}else g=Math.atan2(T,S);s=E/o,a=i/o,l=1/Math.sqrt(1-t*(2-t)*a*a),h=a*(1-t)*l,p=s*l,y=0;do{y++,u=n/Math.sqrt(1-t*p*p),b=i*h+E*p-u*(1-t*p*p),c=t*u/(u+b),l=1/Math.sqrt(1-c*(2-c)*a*a),d=a*(1-c)*l,f=s*l,m=f*h-d*p,h=d,p=f}while(m*m>_&&y<x);return v=Math.atan(f/Math.abs(d)),{x:g,y:v,z:b}}function hDe(e,t,n){if(t===_Ne)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===xNe){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-s*e.z)+i,z:c*(-a*e.x+s*e.y+e.z)+o}}}function pDe(e,t,n){if(t===_Ne)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===xNe){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=(e.x-r)/c,h=(e.y-i)/c,p=(e.z-o)/c;return{x:u+l*h-a*p,y:-l*u+h+s*p,z:a*u-s*h+p}}}function dDe(e){return e===_Ne||e===xNe}function fDe(e,t,n){if(lDe(e,t)||e.datum_type===ENe||t.datum_type===ENe)return n;var r=e.a,i=e.es;if(e.datum_type===SNe){var o=mDe(e,!1,n);if(0!==o)return;r=MNe,i=INe}var s=t.a,a=t.b,l=t.es;if(t.datum_type===SNe&&(s=MNe,a=ANe,l=INe),i===l&&r===s&&!dDe(e.datum_type)&&!dDe(t.datum_type))return n;if(n=cDe(n,i,r),dDe(e.datum_type)&&(n=hDe(n,e.datum_type,e.datum_params)),dDe(t.datum_type)&&(n=pDe(n,t.datum_type,t.datum_params)),n=uDe(n,l,s,a),t.datum_type===SNe){var c=mDe(t,!0,n);if(0!==c)return}return n}function mDe(e,t,n){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},o=[];e:for(var s=0;s<e.grids.length;s++){var a=e.grids[s];if(o.push(a.name),a.isNull){i=r;break}if(a.mandatory,null!==a.grid)for(var l=a.grid.subgrids,c=0,u=l.length;c<u;c++){var h=l[c],p=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,d=h.ll[0]-p,f=h.ll[1]-p,m=h.ll[0]+(h.lim[0]-1)*h.del[0]+p,y=h.ll[1]+(h.lim[1]-1)*h.del[1]+p;if(!(f>r.y||d>r.x||y<r.y||m<r.x)&&(i=yDe(r,t,h),!isNaN(i.x)))break e}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*DNe+" "+r.y*DNe+" tried: '"+o+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function yDe(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var i={x:e.x,y:e.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=TPe(i.x-Math.PI)+Math.PI;var o=gDe(i,n);if(t){if(isNaN(o.x))return r;o.x=i.x-o.x,o.y=i.y-o.y;var s,a,l=9,c=1e-12;do{if(a=gDe(o,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:i.x-(a.x+o.x),y:i.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(l--&&Math.abs(s.x)>c&&Math.abs(s.y)>c);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=TPe(o.x+n.ll[0]),r.y=o.y+n.ll[1]}else isNaN(o.x)||(r.x=e.x+o.x,r.y=e.y+o.y);return r}function gDe(e,t){var n,r={x:e.x/t.del[0],y:e.y/t.del[1]},i={x:Math.floor(r.x),y:Math.floor(r.y)},o={x:r.x-1*i.x,y:r.y-1*i.y},s={x:Number.NaN,y:Number.NaN};if(i.x<0||i.x>=t.lim[0]||i.y<0||i.y>=t.lim[1])return s;n=i.y*t.lim[0]+i.x;var a={x:t.cvs[n][0],y:t.cvs[n][1]};n++;var l={x:t.cvs[n][0],y:t.cvs[n][1]};n+=t.lim[0];var c={x:t.cvs[n][0],y:t.cvs[n][1]};n--;var u={x:t.cvs[n][0],y:t.cvs[n][1]},h=o.x*o.y,p=o.x*(1-o.y),d=(1-o.x)*(1-o.y),f=(1-o.x)*o.y;return s.x=d*a.x+p*l.x+f*u.x+h*c.x,s.y=d*a.y+p*l.y+f*u.y+h*c.y,s}function vDe(e,t,n){var r,i,o,s=n.x,a=n.y,l=n.z||0,c={};for(o=0;o<3;o++)if(!t||2!==o||void 0!==n.z)switch(0===o?(r=s,i=-1!=="ew".indexOf(e.axis[o])?"x":"y"):1===o?(r=a,i=-1!=="ns".indexOf(e.axis[o])?"y":"x"):(r=l,i="z"),e.axis[o]){case"e":c[i]=r;break;case"w":c[i]=-r;break;case"n":c[i]=r;break;case"s":c[i]=-r;break;case"u":void 0!==n[i]&&(c.z=r);break;case"d":void 0!==n[i]&&(c.z=-r);break;default:return null}return c}function bDe(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function wDe(e){_De(e.x),_De(e.y)}function _De(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function xDe(e,t){return(e.datum.datum_type===_Ne||e.datum.datum_type===xNe||e.datum.datum_type===SNe)&&"WGS84"!==t.datumCode||(t.datum.datum_type===_Ne||t.datum.datum_type===xNe||t.datum.datum_type===SNe)&&"WGS84"!==e.datumCode}function SDe(e,t,n,r){var i;n=Array.isArray(n)?bDe(n):{x:n.x,y:n.y,z:n.z,m:n.m};var o=void 0!==n.z;if(wDe(n),e.datum&&t.datum&&xDe(e,t)&&(i=new aDe("WGS84"),n=SDe(e,i,n,r),e=i),r&&"enu"!==e.axis&&(n=vDe(e,!1,n)),"longlat"===e.projName)n={x:n.x*PNe,y:n.y*PNe,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),n=e.inverse(n),!n)return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=fDe(e.datum,t.datum,n),n)return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*DNe,y:n.y*DNe,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),r&&"enu"!==t.axis?vDe(t,!0,n):(n&&!o&&delete n.z,n)}aDe.projections=VPe,aDe.projections.start();var TDe=aDe("WGS84");function EDe(e,t,n,r){var i,o,s;return Array.isArray(n)?(i=SDe(e,t,n,r)||{x:NaN,y:NaN},n.length>2?typeof e.name<"u"&&"geocent"===e.name||typeof t.name<"u"&&"geocent"===t.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.slice(3)):[i.x,i.y,n[2]].concat(n.slice(3)):[i.x,i.y].concat(n.slice(2)):[i.x,i.y]):(o=SDe(e,t,n,r),s=Object.keys(n),2===s.length||s.forEach((function(r){if(typeof e.name<"u"&&"geocent"===e.name||typeof t.name<"u"&&"geocent"===t.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;o[r]=n[r]})),o)}function MDe(e){return e instanceof aDe?e:e.oProj?e.oProj:aDe(e)}function ADe(e,t,n){e=MDe(e);var r,i=!1;return typeof t>"u"?(t=e,e=TDe,i=!0):(typeof t.x<"u"||Array.isArray(t))&&(n=t,t=e,e=TDe,i=!0),t=MDe(t),n?EDe(e,t,n):(r={forward:function(n,r){return EDe(e,t,n,r)},inverse:function(n,r){return EDe(t,e,n,r)}},i&&(r.oProj=t),r)}var IDe=6,CDe="AJSAJS",ODe="AFAFAF",kDe=65,RDe=73,LDe=79,NDe=86,PDe=90;const DDe={forward:FDe,inverse:jDe,toPoint:UDe};function FDe(e,t){return t=t||5,HDe(VDe({lat:e[1],lon:e[0]}),t)}function jDe(e){var t=BDe(YDe(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function UDe(e){var t=BDe(YDe(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function zDe(e){return e*(Math.PI/180)}function GDe(e){return e/Math.PI*180}function VDe(e){var t,n,r,i,o,s,a,l,c,u=e.lat,h=e.lon,p=6378137,d=.00669438,f=.9996,m=zDe(u),y=zDe(h);c=Math.floor((h+180)/6)+1,180===h&&(c=60),u>=56&&u<64&&h>=3&&h<12&&(c=32),u>=72&&u<84&&(h>=0&&h<9?c=31:h>=9&&h<21?c=33:h>=21&&h<33?c=35:h>=33&&h<42&&(c=37)),t=6*(c-1)-180+3,l=zDe(t),n=d/(1-d),r=p/Math.sqrt(1-d*Math.sin(m)*Math.sin(m)),i=Math.tan(m)*Math.tan(m),o=n*Math.cos(m)*Math.cos(m),s=Math.cos(m)*(y-l),a=p*((1-d/4-3*d*d/64-5*d*d*d/256)*m-(3*d/8+3*d*d/32+45*d*d*d/1024)*Math.sin(2*m)+(15*d*d/256+45*d*d*d/1024)*Math.sin(4*m)-35*d*d*d/3072*Math.sin(6*m));var g=f*r*(s+(1-i+o)*s*s*s/6+(5-18*i+i*i+72*o-58*n)*s*s*s*s*s/120)+5e5,v=f*(a+r*Math.tan(m)*(s*s/2+(5-i+9*o+4*o*o)*s*s*s*s/24+(61-58*i+i*i+600*o-330*n)*s*s*s*s*s*s/720));return u<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(g),zoneNumber:c,zoneLetter:$De(u)}}function BDe(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var o,s,a,l,c,u,h,p,d,f,m=.9996,y=6378137,g=.00669438,v=(1-Math.sqrt(1-g))/(1+Math.sqrt(1-g)),b=n-5e5,w=t;r<"N"&&(w-=1e7),p=6*(i-1)-180+3,o=g/(1-g),h=w/m,d=h/(y*(1-g/4-3*g*g/64-5*g*g*g/256)),f=d+(3*v/2-27*v*v*v/32)*Math.sin(2*d)+(21*v*v/16-55*v*v*v*v/32)*Math.sin(4*d)+151*v*v*v/96*Math.sin(6*d),s=y/Math.sqrt(1-g*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),l=o*Math.cos(f)*Math.cos(f),c=y*(1-g)/Math.pow(1-g*Math.sin(f)*Math.sin(f),1.5),u=b/(s*m);var _=f-s*Math.tan(f)/c*(u*u/2-(5+3*a+10*l-4*l*l-9*o)*u*u*u*u/24+(61+90*a+298*l+45*a*a-252*o-3*l*l)*u*u*u*u*u*u/720);_=GDe(_);var x,S=(u-(1+2*a+l)*u*u*u/6+(5-2*l+28*a-3*l*l+8*o+24*a*a)*u*u*u*u*u/120)/Math.cos(f);if(S=p+GDe(S),e.accuracy){var T=BDe({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});x={top:T.lat,right:T.lon,bottom:_,left:S}}else x={lat:_,lon:S};return x}function $De(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function HDe(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+WDe(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function WDe(e,t,n){var r=qDe(n),i=Math.floor(e/1e5),o=Math.floor(t/1e5)%20;return ZDe(i,o,r)}function qDe(e){var t=e%IDe;return 0===t&&(t=IDe),t}function ZDe(e,t,n){var r=n-1,i=CDe.charCodeAt(r),o=ODe.charCodeAt(r),s=i+e-1,a=o+t,l=!1;s>PDe&&(s=s-PDe+kDe-1,l=!0),(s===RDe||i<RDe&&s>RDe||(s>RDe||i<RDe)&&l)&&s++,(s===LDe||i<LDe&&s>LDe||(s>LDe||i<LDe)&&l)&&(s++,s===RDe&&s++),s>PDe&&(s=s-PDe+kDe-1),a>NDe?(a=a-NDe+kDe-1,l=!0):l=!1,(a===RDe||o<RDe&&a>RDe||(a>RDe||o<RDe)&&l)&&a++,(a===LDe||o<LDe&&a>LDe||(a>LDe||o<LDe)&&l)&&(a++,a===RDe&&a++),a>NDe&&(a=a-NDe+kDe-1);var c=String.fromCharCode(s)+String.fromCharCode(a);return c}function YDe(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,i="",o=0;!/[A-Z]/.test(t=e.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,o++}var s=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+e;r=e.substring(o,o+=2);for(var l=qDe(s),c=XDe(r.charAt(0),l),u=JDe(r.charAt(1),l);u<KDe(a);)u+=2e6;var h=n-o;if(h%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var p,d,f,m,y,g=h/2,v=0,b=0;return g>0&&(p=1e5/Math.pow(10,g),d=e.substring(o,o+g),v=parseFloat(d)*p,f=e.substring(o+g),b=parseFloat(f)*p),m=v+c,y=b+u,{easting:m,northing:y,zoneLetter:a,zoneNumber:s,accuracy:p}}function XDe(e,t){for(var n=CDe.charCodeAt(t-1),r=1e5,i=!1;n!==e.charCodeAt(0);){if(n++,n===RDe&&n++,n===LDe&&n++,n>PDe){if(i)throw"Bad character: "+e;n=kDe,i=!0}r+=1e5}return r}function JDe(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=ODe.charCodeAt(t-1),r=0,i=!1;n!==e.charCodeAt(0);){if(n++,n===RDe&&n++,n===LDe&&n++,n>NDe){if(i)throw"Bad character: "+e;n=kDe,i=!0}r+=1e5}return r}function KDe(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function QDe(e,t,n){if(!(this instanceof QDe))return new QDe(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&typeof t>"u"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}QDe.fromMGRS=function(e){return new QDe(UDe(e))},QDe.prototype.toMGRS=function(e){return FDe([this.x,this.y],e)};var eFe=1,tFe=.25,nFe=.046875,rFe=.01953125,iFe=.01068115234375,oFe=.75,sFe=.46875,aFe=.013020833333333334,lFe=.007120768229166667,cFe=.3645833333333333,uFe=.005696614583333333,hFe=.3076171875;function pFe(e){var t=[];t[0]=eFe-e*(tFe+e*(nFe+e*(rFe+e*iFe))),t[1]=e*(oFe-e*(nFe+e*(rFe+e*iFe)));var n=e*e;return t[2]=n*(sFe-e*(aFe+e*lFe)),n*=e,t[3]=n*(cFe-e*uFe),t[4]=n*e*hFe,t}function dFe(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var fFe=20;function mFe(e,t,n){for(var r=1/(1-t),i=e,o=fFe;o;--o){var s=Math.sin(i),a=1-t*s*s;if(a=(dFe(i,s,Math.cos(i),n)-e)*(a*Math.sqrt(a))*r,i-=a,Math.abs(a)<NNe)return i}return i}function yFe(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=pFe(this.es),this.ml0=dFe(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function gFe(e){var t,n,r,i=e.x,o=e.y,s=TPe(i-this.long0),a=Math.sin(o),l=Math.cos(o);if(this.es){var c=l*s,u=Math.pow(c,2),h=this.ep2*Math.pow(l,2),p=Math.pow(h,2),d=Math.abs(l)>NNe?Math.tan(o):0,f=Math.pow(d,2),m=Math.pow(f,2);t=1-this.es*Math.pow(a,2),c/=Math.sqrt(t);var y=dFe(o,a,l,this.en);n=this.a*(this.k0*c*(1+u/6*(1-f+h+u/20*(5-18*f+m+14*h-58*f*h+u/42*(61+179*m-m*f-479*f)))))+this.x0,r=this.a*(this.k0*(y-this.ml0+a*s*c/2*(1+u/12*(5-f+9*h+4*p+u/30*(61+m-58*f+270*h-330*f*h+u/56*(1385+543*m-m*f-3111*f))))))+this.y0}else{var g=l*Math.sin(s);if(Math.abs(Math.abs(g)-1)<NNe)return 93;if(n=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,r=l*Math.cos(s)/Math.sqrt(1-Math.pow(g,2)),g=Math.abs(r),g>=1){if(g-1>NNe)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e}function vFe(e){var t,n,r,i,o=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+s/this.k0,n=mFe(t,this.es,this.en),Math.abs(n)<ONe){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>NNe?Math.tan(n):0,u=this.ep2*Math.pow(l,2),h=Math.pow(u,2),p=Math.pow(c,2),d=Math.pow(p,2);t=1-this.es*Math.pow(a,2);var f=o*Math.sqrt(t)/this.k0,m=Math.pow(f,2);t*=c,r=n-t*m/(1-this.es)*.5*(1-m/12*(5+3*p-9*u*p+u-4*h-m/30*(61+90*p-252*u*p+45*d+46*u-m/56*(1385+3633*p+4095*d+1574*d*p)))),i=TPe(this.long0+f*(1-m/6*(1+2*p+u-m/20*(5+28*p+24*d+8*u*p+6*u-m/42*(61+662*p+1320*d+720*d*p))))/l)}else r=ONe*SPe(s),i=0;else{var y=Math.exp(o/this.k0),g=.5*(y-1/y),v=this.lat0+s/this.k0,b=Math.cos(v);t=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(g,2))),r=Math.asin(t),s<0&&(r=-r),i=0===g&&0===b?0:TPe(Math.atan2(g,b)+this.long0)}return e.x=i,e.y=r,e}var bFe=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const wFe={init:yFe,forward:gFe,inverse:vFe,names:bFe};function _Fe(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function xFe(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function SFe(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}function TFe(e){var t=Math.abs(e);return t=SFe(t*(1+t/(xFe(1,t)+1))),e<0?-t:t}function EFe(e,t){for(var n,r=2*Math.cos(2*t),i=e.length-1,o=e[i],s=0;--i>=0;)n=r*o-s+e[i],s=o,o=n;return t+n*Math.sin(2*t)}function MFe(e,t){for(var n,r=2*Math.cos(t),i=e.length-1,o=e[i],s=0;--i>=0;)n=r*o-s+e[i],s=o,o=n;return Math.sin(t)*n}function AFe(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function IFe(e,t,n){for(var r,i,o=Math.sin(t),s=Math.cos(t),a=_Fe(n),l=AFe(n),c=2*s*l,u=-2*o*a,h=e.length-1,p=e[h],d=0,f=0,m=0;--h>=0;)r=f,i=d,f=p,d=m,p=c*f-r-u*d+e[h],m=u*f-i+c*d;return c=o*l,u=s*a,[c*p-u*m,c*m+u*p]}function CFe(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(wFe.init.apply(this),this.forward=wFe.forward,this.inverse=wFe.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=EFe(this.cbg,this.lat0);this.Zb=-this.Qn*(r+MFe(this.gtu,2*r))}function OFe(e){var t=TPe(e.x-this.long0),n=e.y;n=EFe(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(t),s=Math.cos(t);n=Math.atan2(r,s*i),t=Math.atan2(o*i,xFe(r,i*s)),t=TFe(Math.tan(t));var a,l,c=IFe(this.gtu,2*n,2*t);return n+=c[0],t+=c[1],Math.abs(t)<=2.623395162778?(a=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),e.x=a,e.y=l,e}function kFe(e){var t,n,r=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=IFe(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(_Fe(r));var s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r);i=Math.atan2(s*c,xFe(l,c*a)),r=Math.atan2(l,c*a),t=TPe(r+this.long0),n=EFe(this.cgb,i)}else t=1/0,n=1/0;return e.x=t,e.y=n,e}var RFe=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const LFe={init:CFe,forward:OFe,inverse:kFe,names:RFe};function NFe(e,t){if(void 0===e){if(e=Math.floor(30*(TPe(t)+Math.PI)/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var PFe="etmerc";function DFe(){var e=NFe(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*PNe,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,LFe.init.apply(this),this.forward=LFe.forward,this.inverse=LFe.inverse}var FFe=["Universal Transverse Mercator System","utm"];const jFe={init:DFe,names:FFe,dependsOn:PFe};function UFe(e,t){return Math.pow((1-e)/(1+e),t)}var zFe=20;function GFe(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+FNe)/(Math.pow(Math.tan(.5*this.lat0+FNe),this.C)*UFe(this.e*e,this.ratexp))}function VFe(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+FNe),this.C)*UFe(this.e*Math.sin(n),this.ratexp))-ONe,e.x=this.C*t,e}function BFe(e){for(var t=1e-14,n=e.x/this.C,r=e.y,i=Math.pow(Math.tan(.5*r+FNe)/this.K,1/this.C),o=zFe;o>0&&(r=2*Math.atan(i*UFe(this.e*Math.sin(e.y),-.5*this.e))-ONe,!(Math.abs(r-e.y)<t));--o)e.y=r;return o?(e.x=n,e.y=r,e):null}var $Fe=["gauss"];const HFe={init:GFe,forward:VFe,inverse:BFe,names:$Fe};function WFe(){HFe.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function qFe(e){var t,n,r,i;return e.x=TPe(e.x-this.long0),HFe.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function ZFe(e){var t,n,r,i,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=xFe(e.x,e.y)){var s=2*Math.atan2(o,this.R2);t=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/o),r=Math.atan2(e.x*t,o*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,HFe.inverse.apply(this,[e]),e.x=TPe(e.x+this.long0),e}var YFe=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const XFe={init:WFe,forward:qFe,inverse:ZFe,names:YFe};function JFe(e,t,n){return t*=n,Math.tan(.5*(ONe+e))*Math.pow((1-t)/(1+t),.5*n)}function KFe(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=NNe&&(this.k0=.5*(1+SPe(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=NNe&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=NNe&&Math.abs(Math.cos(this.lat_ts))>NNe&&(this.k0=.5*this.cons*xPe(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/EPe(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=xPe(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-ONe,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function QFe(e){var t,n,r,i,o,s,a=e.x,l=e.y,c=Math.sin(l),u=Math.cos(l),h=TPe(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=NNe&&Math.abs(l+this.lat0)<=NNe?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(h)),e.x=this.a*t*u*Math.sin(h)+this.x0,e.y=this.a*t*(this.coslat0*c-this.sinlat0*u*Math.cos(h))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,c,this.e))-ONe,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=NNe?(o=EPe(this.e,l*this.con,this.con*c),s=2*this.a*this.k0*o/this.cons,e.x=this.x0+s*Math.sin(a-this.long0),e.y=this.y0-this.con*s*Math.cos(a-this.long0),e):(Math.abs(this.sinlat0)<NNe?(t=2*this.a*this.k0/(1+i*Math.cos(h)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(h))),e.y=t*(this.cosX0*r-this.sinX0*i*Math.cos(h))+this.y0),e.x=t*i*Math.sin(h)+this.x0,e))}function eje(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return t=this.long0,n=this.lat0,s<=NNe?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/s),t=Math.abs(this.coslat0)<NNe?this.lat0>0?TPe(this.long0+Math.atan2(e.x,-1*e.y)):TPe(this.long0+Math.atan2(e.x,e.y)):TPe(this.long0+Math.atan2(e.x*Math.sin(a),s*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=NNe){if(s<=NNe)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*MPe(this.e,r),t=this.con*TPe(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,s<=NNe?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/s),t=TPe(this.long0+Math.atan2(e.x*Math.sin(i),s*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*MPe(this.e,Math.tan(.5*(ONe+o)));return e.x=t,e.y=n,e}var tje=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const nje={init:KFe,forward:QFe,inverse:eje,names:tje,ssfn_:JFe};function rje(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,o=2*i-Math.pow(i,2),s=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+s*t)/(1-s*t));this.K=a-this.alpha*l+this.alpha*s/2*c}function ije(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(e.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*s+this.x0,e}function oje(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,l=0,c=o,u=-1e3,h=0;Math.abs(c-u)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var sje=["somerc"];const aje={init:rje,forward:ije,inverse:oje,names:sje};var lje=1e-7;function cje(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n="object"==typeof e.PROJECTION?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||-1!==t.indexOf(n)}function uje(){var e,t,n,r,i,o,s,a,l,c,u,h=0,p=0,d=0,f=0,m=0,y=0,g=0;this.no_off=cje(this),this.no_rot="no_rot"in this;var v=!1;"alpha"in this&&(v=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),v&&(g=this.alpha),b&&(h=this.rectified_grid_angle*PNe),v||b)p=this.longc;else if(d=this.long1,m=this.lat1,f=this.long2,y=this.lat2,Math.abs(m-y)<=lje||(e=Math.abs(m))<=lje||Math.abs(e-ONe)<=lje||Math.abs(Math.abs(this.lat0)-ONe)<=lje||Math.abs(Math.abs(y)-ONe)<=lje)throw new Error;var w=1-this.es;t=Math.sqrt(w),Math.abs(this.lat0)>NNe?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/w),this.A=this.B*this.k0*t/e,r=this.B*t/(n*Math.sqrt(e)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(EPe(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=i=1),v||b?(v?(u=Math.asin(Math.sin(g)/r),b||(h=g)):(u=h,g=Math.asin(r*Math.sin(u))),this.lam0=p-Math.asin(.5*(i-1/i)*Math.tan(u))/this.B):(o=Math.pow(EPe(this.e,m,Math.sin(m)),this.B),s=Math.pow(EPe(this.e,y,Math.sin(y)),this.B),i=this.E/o,l=(s-o)/(s+o),c=this.E*this.E,c=(c-s*o)/(c+s*o),e=d-f,e<-Math.pi?f-=jNe:e>Math.pi&&(f+=jNe),this.lam0=TPe(.5*(d+f)-Math.atan(c*Math.tan(.5*this.B*(d-f))/l)/this.B),u=Math.atan(2*Math.sin(this.B*TPe(d-this.lam0))/(i-1/i)),h=g=Math.asin(r*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(g))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(FNe-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(FNe+i))}function hje(e){var t,n,r,i,o,s,a,l,c={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-ONe)>NNe){if(o=this.E/Math.pow(EPe(this.e,e.y,Math.sin(e.y)),this.B),s=1/o,t=.5*(o-s),n=.5*(o+s),i=Math.sin(this.B*e.x),r=(t*this.singam-i*this.cosgam)/n,Math.abs(Math.abs(r)-1)<NNe)throw new Error;l=.5*this.ArB*Math.log((1-r)/(1+r)),s=Math.cos(this.B*e.x),a=Math.abs(s)<lje?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+i*this.singam,s)}else l=e.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*e.y;return this.no_rot?(c.x=a,c.y=l):(a-=this.u_0,c.x=l*this.cosrot+a*this.sinrot,c.y=a*this.cosrot-l*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c}function pje(e){var t,n,r,i,o,s,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),o=.5*(r+1/r),s=Math.sin(this.BrA*t),a=(s*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(a)-1)<NNe)l.x=0,l.y=a<0?-ONe:ONe;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=MPe(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var dje=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const fje={init:uje,forward:hje,inverse:pje,names:dje};function mje(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<NNe)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=xPe(this.e,t,n),i=EPe(this.e,this.lat1,t),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=xPe(this.e,o,s),l=EPe(this.e,this.lat2,o),c=EPe(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>NNe?this.ns=Math.log(r/a)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function yje(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=NNe&&(n=SPe(n)*(ONe-2*NNe));var r,i,o=Math.abs(Math.abs(n)-ONe);if(o>NNe)r=EPe(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if(o=n*this.ns,o<=0)return null;i=0}var s=this.ns*TPe(t-this.long0);return e.x=this.k0*(i*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(s))+this.y0,e}function gje(e){var t,n,r,i,o,s=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(s*s+a*a),n=1):(t=-Math.sqrt(s*s+a*a),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*s,n*a)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),i=MPe(this.e,r),-9999===i)return null}else i=-ONe;return o=TPe(l/this.ns+this.long0),e.x=o,e.y=i,e}var vje=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const bje={init:mje,forward:yje,inverse:gje,names:vje};function wje(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function _je(e){var t,n,r,i,o,s,a,l=e.x,c=e.y,u=TPe(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=a*Math.cos(s)/1,e.x=a*Math.sin(s)/1,this.czech||(e.y*=-1,e.x*=-1),e}function xje(e){var t,n,r,i,o,s,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),s=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x),i=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,a=t,l=0;var u=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,u+=1}while(0===l&&u<15);return u>=15?null:e}var Sje=["Krovak","krovak"];const Tje={init:wje,forward:_je,inverse:xje,names:Sje};function Eje(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Mje(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function Aje(e){return.375*e*(1+.25*e*(1+.46875*e))}function Ije(e){return.05859375*e*e*(1+.75*e)}function Cje(e){return e*e*e*(35/3072)}function Oje(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}function kje(e){return Math.abs(e)<ONe?e:e-SPe(e)*Math.PI}function Rje(e,t,n,r,i){var o,s;o=e/t;for(var a=0;a<15;a++)if(s=(e-(t*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(t-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}function Lje(){this.sphere||(this.e0=Mje(this.es),this.e1=Aje(this.es),this.e2=Ije(this.es),this.e3=Cje(this.es),this.ml0=this.a*Eje(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Nje(e){var t,n,r=e.x,i=e.y;if(r=TPe(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=Oje(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),u=c*c,h=this.es*s*s/(1-this.es),p=this.a*Eje(this.e0,this.e1,this.e2,this.e3,i);t=a*c*(1-u*l*(1/6-(8-l+8*h)*u/120)),n=p-this.ml0+a*o/s*u*(.5+(5-l+6*h)*u/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function Pje(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var o=i+this.lat0;t=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var s=this.ml0/this.a+i,a=Rje(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-ONe)<=NNe)return e.x=this.long0,e.y=ONe,i<0&&(e.y*=-1),e;var l=Oje(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(a),2),h=r*this.a/l,p=h*h;t=a-l*Math.tan(a)/c*h*h*(.5-(1+3*u)*h*h/24),n=h*(1-p*(u/3+(1+3*u)*u*p/15))/Math.cos(a)}return e.x=TPe(n+this.long0),e.y=kje(t),e}var Dje=["Cassini","Cassini_Soldner","cass"];const Fje={init:Lje,forward:Nje,inverse:Pje,names:Dje};function jje(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t}var Uje=1,zje=2,Gje=3,Vje=4;function Bje(){var e,t=Math.abs(this.lat0);if(Math.abs(t-ONe)<NNe?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<NNe?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=jje(this.e,1),this.mmf=.5/(1-this.es),this.apa=Kje(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=jje(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function $je(e){var t,n,r,i,o,s,a,l,c,u,h=e.x,p=e.y;if(h=TPe(h-this.long0),this.sphere){if(o=Math.sin(p),u=Math.cos(p),r=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+u*r:1+this.sinph0*o+this.cosph0*u*r,n<=NNe)return null;n=Math.sqrt(2/n),t=n*u*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.lat0)<NNe)return null;n=FNe-.5*p,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(h),n*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(h),i=Math.sin(h),o=Math.sin(p),s=jje(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=ONe+p,s=this.qp-s;break;case this.S_POLE:c=p-ONe,s=this.qp+s;break}if(Math.abs(c)<NNe)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*l*r):(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:s>=0?(t=(c=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?c:-c)):t=n=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function Hje(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,s,a,l=e.x/this.a,c=e.y/this.a;if(this.sphere){var u,h=0,p=0;if(u=Math.sqrt(l*l+c*c),n=.5*u,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(u)<=NNe?0:Math.asin(c*p/u),l*=p,c=h*u;break;case this.OBLIQ:n=Math.abs(u)<=NNe?this.lat0:Math.asin(h*this.sinph0+c*p*this.cosph0/u),l*=p*this.cosph0,c=(h-Math.sin(n)*this.sinph0)*u;break;case this.N_POLE:c=-c,n=ONe-n;break;case this.S_POLE:n-=ONe;break}t=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,c):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,c*=this.dd,s=Math.sqrt(l*l+c*c),s<NNe)return e.x=this.long0,e.y=this.lat0,e;i=2*Math.asin(.5*s/this.rq),r=Math.cos(i),l*=i=Math.sin(i),this.mode===this.OBLIQ?(a=r*this.sinb1+c*i*this.cosb1/s,o=this.qp*a,c=s*this.cosb1*r-c*this.sinb1*i):(a=c*i/s,o=this.qp*a,c=s*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),o=l*l+c*c,!o)return e.x=this.long0,e.y=this.lat0,e;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}t=Math.atan2(l,c),n=Qje(Math.asin(a),this.apa)}return e.x=TPe(this.long0+t),e.y=n,e}var Wje=.3333333333333333,qje=.17222222222222222,Zje=.10257936507936508,Yje=.06388888888888888,Xje=.0664021164021164,Jje=.016415012942191543;function Kje(e){var t,n=[];return n[0]=e*Wje,t=e*e,n[0]+=t*qje,n[1]=t*Yje,t*=e,n[0]+=t*Zje,n[1]+=t*Xje,n[2]=t*Jje,n}function Qje(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}var eUe=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const tUe={init:Bje,forward:$je,inverse:Hje,names:eUe,S_POLE:Uje,N_POLE:zje,EQUIT:Gje,OBLIQ:Vje};function nUe(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function rUe(){Math.abs(this.lat1+this.lat2)<NNe||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=xPe(this.e3,this.sin_po,this.cos_po),this.qs1=jje(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=xPe(this.e3,this.sin_po,this.cos_po),this.qs2=jje(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=jje(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>NNe?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function iUe(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=jje(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*TPe(t-this.long0),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return e.x=s,e.y=a,e}function oUe(e){var t,n,r,i,o,s;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,0!==t&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),o=TPe(i/this.ns0+this.long0),e.x=o,e.y=s,e}function sUe(e,t){var n,r,i,o,s,a=nUe(.5*t);if(e<NNe)return a;for(var l=e*e,c=1;c<=25;c++)if(n=Math.sin(a),r=Math.cos(a),i=e*n,o=1-i*i,s=.5*o*o/r*(t/(1-l)-n/o+.5/e*Math.log((1-i)/(1+i))),a+=s,Math.abs(s)<=1e-7)return a;return null}var aUe=["Albers_Conic_Equal_Area","Albers","aea"];const lUe={init:rUe,forward:iUe,inverse:oUe,names:aUe,phi1z:sUe};function cUe(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function uUe(e){var t,n,r,i,o,s,a,l,c=e.x,u=e.y;return r=TPe(c-this.long0),t=Math.sin(u),n=Math.cos(u),i=Math.cos(r),s=this.sin_p14*t+this.cos_p14*n*i,o=1,s>0||Math.abs(s)<=NNe?(a=this.x0+this.a*o*n*Math.sin(r)/s,l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*i)/s):(a=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=a,e.y=l,e}function hUe(e){var t,n,r,i,o,s;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),s=nUe(r*this.sin_p14+e.y*n*this.cos_p14/t),o=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),o=TPe(this.long0+o)):(s=this.phic0,o=0),e.x=o,e.y=s,e}var pUe=["gnom"];const dUe={init:cUe,forward:uUe,inverse:hUe,names:pUe};function fUe(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*ONe:ONe;for(var r,i,o,s,a=Math.asin(.5*t),l=0;l<30;l++)if(i=Math.sin(a),o=Math.cos(a),s=e*i,r=Math.pow(1-s*s,2)/(2*o)*(t/(1-e*e)-i/(1-s*s)+.5/e*Math.log((1-s)/(1+s))),a+=r,Math.abs(r)<=1e-10)return a;return NaN}function mUe(){this.sphere||(this.k0=xPe(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function yUe(e){var t,n,r=e.x,i=e.y,o=TPe(r-this.long0);if(this.sphere)t=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=jje(this.e,Math.sin(i));t=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return e.x=t,e.y=n,e}function gUe(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=TPe(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=fUe(this.e,2*e.y*this.k0/this.a),t=TPe(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}var vUe=["cea"];const bUe={init:mUe,forward:yUe,inverse:gUe,names:vUe};function wUe(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function _Ue(e){var t=e.x,n=e.y,r=TPe(t-this.long0),i=kje(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function xUe(e){var t=e.x,n=e.y;return e.x=TPe(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=kje(this.lat0+(n-this.y0)/this.a),e}var SUe=["Equirectangular","Equidistant_Cylindrical","eqc"];const TUe={init:wUe,forward:_Ue,inverse:xUe,names:SUe};var EUe=20;function MUe(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Mje(this.es),this.e1=Aje(this.es),this.e2=Ije(this.es),this.e3=Cje(this.es),this.ml0=this.a*Eje(this.e0,this.e1,this.e2,this.e3,this.lat0)}function AUe(e){var t,n,r,i=e.x,o=e.y,s=TPe(i-this.long0);if(r=s*Math.sin(o),this.sphere)Math.abs(o)<=NNe?(t=this.a*s,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(o),n=this.a*(kje(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=NNe)t=this.a*s,n=-1*this.ml0;else{var a=Oje(this.a,this.e,Math.sin(o))/Math.tan(o);t=a*Math.sin(r),n=this.a*Eje(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e}function IUe(e){var t,n,r,i,o,s,a,l,c;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=NNe)t=TPe(r/this.a+this.long0),n=0;else{var u;for(s=this.lat0+i/this.a,a=r*r/this.a/this.a+s*s,l=s,o=EUe;o;--o)if(u=Math.tan(l),c=-1*(s*(l*u+1)-l-.5*(l*l+a)*u)/((l-s)/u-1),l+=c,Math.abs(c)<=NNe){n=l;break}t=TPe(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=NNe)n=0,t=TPe(this.long0+r/this.a);else{var h,p,d,f,m;for(s=(this.ml0+i)/this.a,a=r*r/this.a/this.a+s*s,l=s,o=EUe;o;--o)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),p=this.a*Eje(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),f=p/this.a,c=(s*(h*f+1)-f-.5*h*(f*f+a))/(this.es*Math.sin(2*l)*(f*f+a-2*s*f)/(4*h)+(s-f)*(h*d-2/Math.sin(2*l))-d),l-=c,Math.abs(c)<=NNe){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=TPe(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}var CUe=["Polyconic","poly"];const OUe={init:MUe,forward:AUe,inverse:IUe,names:CUe};function kUe(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function RUe(e){var t,n=e.x,r=e.y,i=r-this.lat0,o=n-this.long0,s=i/CNe*1e-5,a=o,l=1,c=0;for(t=1;t<=10;t++)l*=s,c+=this.A[t]*l;var u,h,p=c,d=a,f=1,m=0,y=0,g=0;for(t=1;t<=6;t++)u=f*p-m*d,h=m*p+f*d,f=u,m=h,y=y+this.B_re[t]*f-this.B_im[t]*m,g=g+this.B_im[t]*f+this.B_re[t]*m;return e.x=g*this.a+this.x0,e.y=y*this.a+this.y0,e}function LUe(e){var t,n,r,i=e.x,o=e.y,s=i-this.x0,a=o-this.y0,l=a/this.a,c=s/this.a,u=1,h=0,p=0,d=0;for(t=1;t<=6;t++)n=u*l-h*c,r=h*l+u*c,u=n,h=r,p=p+this.C_re[t]*u-this.C_im[t]*h,d=d+this.C_im[t]*u+this.C_re[t]*h;for(var f=0;f<this.iterations;f++){var m,y,g=p,v=d,b=l,w=c;for(t=2;t<=6;t++)m=g*p-v*d,y=v*p+g*d,g=m,v=y,b+=(t-1)*(this.B_re[t]*g-this.B_im[t]*v),w+=(t-1)*(this.B_im[t]*g+this.B_re[t]*v);g=1,v=0;var _=this.B_re[1],x=this.B_im[1];for(t=2;t<=6;t++)m=g*p-v*d,y=v*p+g*d,g=m,v=y,_+=t*(this.B_re[t]*g-this.B_im[t]*v),x+=t*(this.B_im[t]*g+this.B_re[t]*v);var S=_*_+x*x;p=(b*_+w*x)/S,d=(w*_-b*x)/S}var T=p,E=d,M=1,A=0;for(t=1;t<=9;t++)M*=T,A+=this.D[t]*M;var I=this.lat0+A*CNe*1e5,C=this.long0+E;return e.x=C,e.y=I,e}var NUe=["New_Zealand_Map_Grid","nzmg"];const PUe={init:kUe,forward:RUe,inverse:LUe,names:NUe};function DUe(){}function FUe(e){var t=e.x,n=e.y,r=TPe(t-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=o,e}function jUe(e){e.x-=this.x0,e.y-=this.y0;var t=TPe(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}var UUe=["Miller_Cylindrical","mill"];const zUe={init:DUe,forward:FUe,inverse:jUe,names:UUe};var GUe=20;function VUe(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pFe(this.es)}function BUe(e){var t,n,r=e.x,i=e.y;if(r=TPe(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),s=GUe;s;--s){var a=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<NNe)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);n=this.a*dFe(i,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function $Ue(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=nUe((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=nUe(Math.sin(t)/this.n)),r=TPe(r+this.long0),t=kje(t)):(t=mFe(e.y/this.a,this.es,this.en),i=Math.abs(t),i<ONe?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=TPe(n)):i-NNe<ONe&&(r=this.long0)),e.x=r,e.y=t,e}var HUe=["Sinusoidal","sinu"];const WUe={init:VUe,forward:BUe,inverse:$Ue,names:HUe};function qUe(){}function ZUe(e){for(var t=e.x,n=e.y,r=TPe(t-this.long0),i=n,o=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<NNe)break}i/=2,Math.PI/2-Math.abs(n)<NNe&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=a,e.y=l,e}function YUe(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=TPe(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}var XUe=["Mollweide","moll"];const JUe={init:qUe,forward:ZUe,inverse:YUe,names:XUe};function KUe(){Math.abs(this.lat1+this.lat2)<NNe||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Mje(this.es),this.e1=Aje(this.es),this.e2=Ije(this.es),this.e3=Cje(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=xPe(this.e,this.sinphi,this.cosphi),this.ml1=Eje(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<NNe?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=xPe(this.e,this.sinphi,this.cosphi),this.ml2=Eje(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Eje(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function QUe(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var i=Eje(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-i)}var o=this.ns*TPe(n-this.long0),s=this.x0+t*Math.sin(o),a=this.y0+this.rh-t*Math.cos(o);return e.x=s,e.y=a,e}function eze(e){var t,n,r,i;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var o=0;if(0!==n&&(o=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=TPe(this.long0+o/this.ns),r=kje(this.g-n/this.a),e.x=i,e.y=r,e;var s=this.g-n/this.a;return r=Rje(s,this.e0,this.e1,this.e2,this.e3),i=TPe(this.long0+o/this.ns),e.x=i,e.y=r,e}var tze=["Equidistant_Conic","eqdc"];const nze={init:KUe,forward:QUe,inverse:eze,names:tze};function rze(){this.R=this.a}function ize(e){var t,n,r=e.x,i=e.y,o=TPe(r-this.long0);Math.abs(i)<=NNe&&(t=this.x0+this.R*o,n=this.y0);var s=nUe(2*Math.abs(i/Math.PI));(Math.abs(o)<=NNe||Math.abs(Math.abs(i)-ONe)<=NNe)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),l=a*a,c=Math.sin(s),u=Math.cos(s),h=u/(c+u-1),p=h*h,d=h*(2/c-1),f=d*d,m=Math.PI*this.R*(a*(h-f)+Math.sqrt(l*(h-f)*(h-f)-(f+l)*(p-f)))/(f+l);o<0&&(m=-m),t=this.x0+m;var y=l+h;return m=Math.PI*this.R*(d*y-a*Math.sqrt((f+l)*(l+1)-y*y))/(f+l),n=i>=0?this.y0+m:this.y0-m,e.x=t,e.y=n,e}function oze(e){var t,n,r,i,o,s,a,l,c,u,h,p,d;return e.x-=this.x0,e.y-=this.y0,h=Math.PI*this.R,r=e.x/h,i=e.y/h,o=r*r+i*i,s=-Math.abs(i)*(1+o),a=s-2*i*i+r*r,l=-2*s+1+2*i*i+o*o,d=i*i/l+(2*a*a*a/l/l/l-9*s*a/l/l)/27,c=(s-a*a/3/l)/l,u=2*Math.sqrt(-c/3),h=3*d/c/u,Math.abs(h)>1&&(h=h>=0?1:-1),p=Math.acos(h)/3,n=e.y>=0?(-u*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:-(-u*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,t=Math.abs(r)<NNe?this.long0:TPe(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),e.x=t,e.y=n,e}var sze=["Van_der_Grinten_I","VanDerGrinten","vandg"];const aze={init:rze,forward:ize,inverse:oze,names:sze};function lze(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function cze(e){var t,n,r,i,o,s,a,l,c,u,h,p,d,f,m,y,g,v,b,w,_,x,S,T=e.x,E=e.y,M=Math.sin(e.y),A=Math.cos(e.y),I=TPe(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=NNe?(e.x=this.x0+this.a*(ONe-E)*Math.sin(I),e.y=this.y0-this.a*(ONe-E)*Math.cos(I),e):Math.abs(this.sin_p12+1)<=NNe?(e.x=this.x0+this.a*(ONe+E)*Math.sin(I),e.y=this.y0+this.a*(ONe+E)*Math.cos(I),e):(v=this.sin_p12*M+this.cos_p12*A*Math.cos(I),y=Math.acos(v),g=y?y/Math.sin(y):1,e.x=this.x0+this.a*g*A*Math.sin(I),e.y=this.y0+this.a*g*(this.cos_p12*M-this.sin_p12*A*Math.cos(I)),e):(t=Mje(this.es),n=Aje(this.es),r=Ije(this.es),i=Cje(this.es),Math.abs(this.sin_p12-1)<=NNe?(o=this.a*Eje(t,n,r,i,ONe),s=this.a*Eje(t,n,r,i,E),e.x=this.x0+(o-s)*Math.sin(I),e.y=this.y0-(o-s)*Math.cos(I),e):Math.abs(this.sin_p12+1)<=NNe?(o=this.a*Eje(t,n,r,i,ONe),s=this.a*Eje(t,n,r,i,E),e.x=this.x0+(o+s)*Math.sin(I),e.y=this.y0+(o+s)*Math.cos(I),e):(a=M/A,l=Oje(this.a,this.e,this.sin_p12),c=Oje(this.a,this.e,M),u=Math.atan((1-this.es)*a+this.es*l*this.sin_p12/(c*A)),h=Math.atan2(Math.sin(I),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(I)),b=0===h?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(h)-Math.PI)<=NNe?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(I)*Math.cos(u)/Math.sin(h)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),d=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es),f=p*d,m=d*d,w=b*b,_=w*b,x=_*b,S=x*b,y=l*b*(1-w*m*(1-m)/6+_/8*f*(1-2*m)+x/120*(m*(4-7*m)-3*p*p*(1-7*m))-S/48*f),e.x=this.x0+y*Math.sin(h),e.y=this.y0+y*Math.cos(h),e))}function uze(e){var t,n,r,i,o,s,a,l,c,u,h,p,d,f,m,y,g,v,b,w,_,x,S,T;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*ONe*this.a?void 0:(n=t/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=NNe?s=this.lat0:(s=nUe(i*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-ONe,o=Math.abs(a)<=NNe?this.lat0>=0?TPe(this.long0+Math.atan2(e.x,-e.y)):TPe(this.long0-Math.atan2(-e.x,e.y)):TPe(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=o,e.y=s,e)):(l=Mje(this.es),c=Aje(this.es),u=Ije(this.es),h=Cje(this.es),Math.abs(this.sin_p12-1)<=NNe?(p=this.a*Eje(l,c,u,h,ONe),t=Math.sqrt(e.x*e.x+e.y*e.y),d=p-t,s=Rje(d/this.a,l,c,u,h),o=TPe(this.long0+Math.atan2(e.x,-1*e.y)),e.x=o,e.y=s,e):Math.abs(this.sin_p12+1)<=NNe?(p=this.a*Eje(l,c,u,h,ONe),t=Math.sqrt(e.x*e.x+e.y*e.y),d=t-p,s=Rje(d/this.a,l,c,u,h),o=TPe(this.long0+Math.atan2(e.x,e.y)),e.x=o,e.y=s,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),y=Math.atan2(e.x,e.y),f=Oje(this.a,this.e,this.sin_p12),g=Math.cos(y),v=this.e*this.cos_p12*g,b=-v*v/(1-this.es),w=3*this.es*(1-b)*this.sin_p12*this.cos_p12*g/(1-this.es),_=t/f,x=_-b*(1+b)*Math.pow(_,3)/6-w*(1+3*b)*Math.pow(_,4)/24,S=1-b*x*x/2-_*x*x*x/6,m=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*g),o=TPe(this.long0+Math.asin(Math.sin(y)*Math.sin(x)/Math.cos(m))),T=Math.sin(m),s=Math.atan2((T-this.es*S*this.sin_p12)*Math.tan(m),T*(1-this.es)),e.x=o,e.y=s,e))}var hze=["Azimuthal_Equidistant","aeqd"];const pze={init:lze,forward:cze,inverse:uze,names:hze};function dze(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function fze(e){var t,n,r,i,o,s,a,l,c=e.x,u=e.y;return r=TPe(c-this.long0),t=Math.sin(u),n=Math.cos(u),i=Math.cos(r),s=this.sin_p14*t+this.cos_p14*n*i,o=1,(s>0||Math.abs(s)<=NNe)&&(a=this.a*o*n*Math.sin(r),l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*i)),e.x=a,e.y=l,e}function mze(e){var t,n,r,i,o,s,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=nUe(t/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=NNe?(a=this.lat0,e.x=s,e.y=a,e):(a=nUe(i*this.sin_p14+e.y*r*this.cos_p14/t),o=Math.abs(this.lat0)-ONe,Math.abs(o)<=NNe?(s=this.lat0>=0?TPe(this.long0+Math.atan2(e.x,-e.y)):TPe(this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=a,e):(s=TPe(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=s,e.y=a,e))}var yze=["ortho"];const gze={init:dze,forward:fze,inverse:mze,names:yze};var vze={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},bze={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function wze(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=ONe-FNe/2?this.face=vze.TOP:this.lat0<=-(ONe-FNe/2)?this.face=vze.BOTTOM:Math.abs(this.long0)<=FNe?this.face=vze.FRONT:Math.abs(this.long0)<=ONe+FNe?this.face=this.long0>0?vze.RIGHT:vze.LEFT:this.face=vze.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function _ze(e){var t,n,r,i,o,s,a={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===vze.TOP)i=ONe-t,n>=FNe&&n<=ONe+FNe?(l.value=bze.AREA_0,r=n-ONe):n>ONe+FNe||n<=-(ONe+FNe)?(l.value=bze.AREA_1,r=n>0?n-UNe:n+UNe):n>-(ONe+FNe)&&n<=-FNe?(l.value=bze.AREA_2,r=n+ONe):(l.value=bze.AREA_3,r=n);else if(this.face===vze.BOTTOM)i=ONe+t,n>=FNe&&n<=ONe+FNe?(l.value=bze.AREA_0,r=-n+ONe):n<FNe&&n>=-FNe?(l.value=bze.AREA_1,r=-n):n<-FNe&&n>=-(ONe+FNe)?(l.value=bze.AREA_2,r=-n-ONe):(l.value=bze.AREA_3,r=n>0?-n+UNe:-n-UNe);else{var c,u,h,p,d,f,m;this.face===vze.RIGHT?n=Tze(n,+ONe):this.face===vze.BACK?n=Tze(n,+UNe):this.face===vze.LEFT&&(n=Tze(n,-ONe)),p=Math.sin(t),d=Math.cos(t),f=Math.sin(n),m=Math.cos(n),c=d*m,u=d*f,h=p,this.face===vze.FRONT?(i=Math.acos(c),r=Sze(i,h,u,l)):this.face===vze.RIGHT?(i=Math.acos(u),r=Sze(i,h,-c,l)):this.face===vze.BACK?(i=Math.acos(-c),r=Sze(i,h,-u,l)):this.face===vze.LEFT?(i=Math.acos(-u),r=Sze(i,h,c,l)):(i=r=0,l.value=bze.AREA_0)}return s=Math.atan(12/UNe*(r+Math.acos(Math.sin(r)*Math.cos(FNe))-ONe)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===bze.AREA_1?s+=ONe:l.value===bze.AREA_2?s+=UNe:l.value===bze.AREA_3&&(s+=1.5*UNe),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,e.x=a.x,e.y=a.y,e}function xze(e){var t,n,r,i,o,s,a,l,c,u,h,p,d={lam:0,phi:0},f={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?f.value=bze.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(f.value=bze.AREA_1,t-=ONe):e.x<0&&-e.x>=Math.abs(e.y)?(f.value=bze.AREA_2,t=t<0?t+UNe:t-UNe):(f.value=bze.AREA_3,t+=ONe),c=UNe/12*Math.tan(t),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),r=Math.cos(t),i=Math.tan(n),a=1-r*r*i*i*(1-Math.cos(Math.atan(1/Math.cos(s)))),a<-1?a=-1:a>1&&(a=1),this.face===vze.TOP)l=Math.acos(a),d.phi=ONe-l,f.value===bze.AREA_0?d.lam=s+ONe:f.value===bze.AREA_1?d.lam=s<0?s+UNe:s-UNe:f.value===bze.AREA_2?d.lam=s-ONe:d.lam=s;else if(this.face===vze.BOTTOM)l=Math.acos(a),d.phi=l-ONe,f.value===bze.AREA_0?d.lam=-s+ONe:f.value===bze.AREA_1?d.lam=-s:f.value===bze.AREA_2?d.lam=-s-ONe:d.lam=s<0?-s-UNe:-s+UNe;else{var m,y,g;m=a,c=m*m,g=c>=1?0:Math.sqrt(1-c)*Math.sin(s),c+=g*g,y=c>=1?0:Math.sqrt(1-c),f.value===bze.AREA_1?(c=y,y=-g,g=c):f.value===bze.AREA_2?(y=-y,g=-g):f.value===bze.AREA_3&&(c=y,y=g,g=-c),this.face===vze.RIGHT?(c=m,m=-y,y=c):this.face===vze.BACK?(m=-m,y=-y):this.face===vze.LEFT&&(c=m,m=y,y=-c),d.phi=Math.acos(-g)-ONe,d.lam=Math.atan2(y,m),this.face===vze.RIGHT?d.lam=Tze(d.lam,-ONe):this.face===vze.BACK?d.lam=Tze(d.lam,-UNe):this.face===vze.LEFT&&(d.lam=Tze(d.lam,+ONe))}0!==this.es&&(u=d.phi<0?1:0,h=Math.tan(d.phi),p=this.b/Math.sqrt(h*h+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),u&&(d.phi=-d.phi));return d.lam+=this.long0,e.x=d.lam,e.y=d.phi,e}function Sze(e,t,n,r){var i;return e<NNe?(r.value=bze.AREA_0,i=0):(i=Math.atan2(t,n),Math.abs(i)<=FNe?r.value=bze.AREA_0:i>FNe&&i<=ONe+FNe?(r.value=bze.AREA_1,i-=ONe):i>ONe+FNe||i<=-(ONe+FNe)?(r.value=bze.AREA_2,i=i>=0?i-UNe:i+UNe):(r.value=bze.AREA_3,i+=ONe)),i}function Tze(e,t){var n=e+t;return n<-UNe?n+=jNe:n>+UNe&&(n-=jNe),n}var Eze=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Mze={init:wze,forward:_ze,inverse:xze,names:Eze};var Aze=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ize=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Cze=.8487,Oze=1.3523,kze=DNe/5,Rze=1/kze,Lze=18,Nze=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},Pze=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])};function Dze(e,t,n,r){for(var i=t;r;--r){var o=e(i);if(i-=o,Math.abs(o)<n)break}return i}function Fze(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function jze(e){var t=TPe(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*kze);r<0?r=0:r>=Lze&&(r=Lze-1),n=DNe*(n-Rze*r);var i={x:Nze(Aze[r],n)*t,y:Nze(Ize[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*Cze+this.x0,i.y=i.y*this.a*Oze+this.y0,i}function Uze(e){var t={x:(e.x-this.x0)/(this.a*Cze),y:Math.abs(e.y-this.y0)/(this.a*Oze)};if(t.y>=1)t.x/=Aze[Lze][0],t.y=e.y<0?-ONe:ONe;else{var n=Math.floor(t.y*Lze);for(n<0?n=0:n>=Lze&&(n=Lze-1);;)if(Ize[n][0]>t.y)--n;else{if(!(Ize[n+1][0]<=t.y))break;++n}var r=Ize[n],i=5*(t.y-r[0])/(Ize[n+1][0]-r[0]);i=Dze((function(e){return(Nze(r,e)-t.y)/Pze(r,e)}),i,NNe,100),t.x/=Nze(Aze[n],i),t.y=(5*n+i)*PNe,e.y<0&&(t.y=-t.y)}return t.x=TPe(t.x+this.long0),t}var zze=["Robinson","robin"];const Gze={init:Fze,forward:jze,inverse:Uze,names:zze};function Vze(){this.name="geocent"}function Bze(e){var t=cDe(e,this.es,this.a);return t}function $ze(e){var t=uDe(e,this.es,this.a,this.b);return t}var Hze=["Geocentric","geocentric","geocent","Geocent"];const Wze={init:Vze,forward:Bze,inverse:$ze,names:Hze};var qze={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Zze={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Yze(){if(Object.keys(Zze).forEach(function(e){if(typeof this[e]>"u")this[e]=Zze[e].def;else{if(Zze[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);Zze[e].num&&(this[e]=parseFloat(this[e]))}Zze[e].degrees&&(this[e]=this[e]*PNe)}.bind(this)),Math.abs(Math.abs(this.lat0)-ONe)<NNe?this.mode=this.lat0<0?qze.S_POLE:qze.N_POLE:Math.abs(this.lat0)<NNe?this.mode=qze.EQUIT:(this.mode=qze.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function Xze(e){e.x-=this.long0;var t,n,r,i,o=Math.sin(e.y),s=Math.cos(e.y),a=Math.cos(e.x);switch(this.mode){case qze.OBLIQ:n=this.sinph0*o+this.cosph0*s*a;break;case qze.EQUIT:n=s*a;break;case qze.S_POLE:n=-o;break;case qze.N_POLE:n=o;break}switch(n=this.pn1/(this.p-n),t=n*s*Math.sin(e.x),this.mode){case qze.OBLIQ:n*=this.cosph0*o-this.sinph0*s*a;break;case qze.EQUIT:n*=o;break;case qze.N_POLE:n*=-s*a;break;case qze.S_POLE:n*=s*a;break}return r=n*this.cg+t*this.sg,i=1/(r*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*i,n=r*i,e.x=t*this.a,e.y=n*this.a,e}function Jze(e){e.x/=this.a,e.y/=this.a;var t,n,r,i={x:e.x,y:e.y};r=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*r,n=this.pn1*e.y*this.cw*r,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var o=xFe(e.x,e.y);if(Math.abs(o)<NNe)i.x=0,i.y=e.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case qze.OBLIQ:i.y=Math.asin(s*this.sinph0+e.y*a*this.cosph0/o),e.y=(s-this.sinph0*Math.sin(i.y))*o,e.x*=a*this.cosph0;break;case qze.EQUIT:i.y=Math.asin(e.y*a/o),e.y=s*o,e.x*=a;break;case qze.N_POLE:i.y=Math.asin(s),e.y=-e.y;break;case qze.S_POLE:i.y=-Math.asin(s);break}i.x=Math.atan2(e.x,e.y)}return e.x=i.x+this.long0,e.y=i.y,e}var Kze=["Tilted_Perspective","tpers"];const Qze={init:Yze,forward:Xze,inverse:Jze,names:Kze};function eGe(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function tGe(e){var t,n,r,i,o=e.x,s=e.y;if(o-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/xFe(this.radius_p*Math.cos(s),Math.sin(s));if(n=a*Math.cos(o)*Math.cos(s),r=a*Math.sin(o)*Math.cos(s),i=a*Math.sin(s),(this.radius_g-n)*n-r*r-i*i*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/xFe(i,t)),e.y=this.radius_g_1*Math.atan(i/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(i/xFe(r,t)))}else"sphere"===this.shape&&(t=Math.cos(s),n=Math.cos(o)*t,r=Math.sin(o)*t,i=Math.sin(s),t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/xFe(i,t)),e.y=this.radius_g_1*Math.atan(i/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(i/xFe(r,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function nGe(e){var t,n,r,i,o=-1,s=0,a=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),s=Math.tan(e.x/this.radius_g_1)*xFe(1,a)):(s=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*xFe(1,s));var l=a/this.radius_p;if(t=s*s+l*l+o*o,n=2*this.radius_g*o,r=n*n-4*t*this.C,r<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=(-n-Math.sqrt(r))/(2*t),o=this.radius_g+i*o,s*=i,a*=i,e.x=Math.atan2(s,o),e.y=Math.atan(a*Math.cos(e.x)/o),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),s=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+s*s)),t=s*s+a*a+o*o,n=2*this.radius_g*o,r=n*n-4*t*this.C,r<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=(-n-Math.sqrt(r))/(2*t),o=this.radius_g+i*o,s*=i,a*=i,e.x=Math.atan2(s,o),e.y=Math.atan(a*Math.cos(e.x)/o)}return e.x=e.x+this.long0,e}var rGe=["Geostationary Satellite View","Geostationary_Satellite","geos"];const iGe={init:eGe,forward:tGe,inverse:nGe,names:rGe};var oGe=1.340264,sGe=-.081106,aGe=893e-6,lGe=.003796,cGe=Math.sqrt(3)/2;function uGe(){this.es=0,this.long0=void 0!==this.long0?this.long0:0}function hGe(e){var t=TPe(e.x-this.long0),n=e.y,r=Math.asin(cGe*Math.sin(n)),i=r*r,o=i*i*i;return e.x=t*Math.cos(r)/(cGe*(oGe+3*sGe*i+o*(7*aGe+9*lGe*i))),e.y=r*(oGe+sGe*i+o*(aGe+lGe*i)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function pGe(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t,n,r,i,o,s,a=1e-9,l=12,c=e.y;for(s=0;s<l&&(t=c*c,n=t*t*t,r=c*(oGe+sGe*t+n*(aGe+lGe*t))-e.y,i=oGe+3*sGe*t+n*(7*aGe+9*lGe*t),c-=o=r/i,!(Math.abs(o)<a));++s);return t=c*c,n=t*t*t,e.x=cGe*e.x*(oGe+3*sGe*t+n*(7*aGe+9*lGe*t))/Math.cos(c),e.y=Math.asin(Math.sin(c)/cGe),e.x=TPe(e.x+this.long0),e}var dGe=["eqearth","Equal Earth","Equal_Earth"];const fGe={init:uGe,forward:hGe,inverse:pGe,names:dGe};var mGe=1e-10;function yGe(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<mGe)throw new Error;this.es?(this.en=pFe(this.es),this.m1=dFe(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=vGe,this.forward=gGe):(Math.abs(this.phi1)+mGe>=ONe?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=wGe,this.forward=bGe)}function gGe(e){var t,n,r,i=TPe(e.x-(this.long0||0)),o=e.y;return t=this.am1+this.m1-dFe(o,n=Math.sin(o),r=Math.cos(o),this.en),n=r*i/(t*Math.sqrt(1-this.es*n*n)),e.x=t*Math.sin(n),e.y=this.am1-t*Math.cos(n),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function vGe(e){var t,n,r,i;if(e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a,n=xFe(e.x,e.y=this.am1-e.y),i=mFe(this.am1+this.m1-n,this.es,this.en),(t=Math.abs(i))<ONe)t=Math.sin(i),r=n*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(i);else{if(!(Math.abs(t-ONe)<=mGe))throw new Error;r=0}return e.x=TPe(r+(this.long0||0)),e.y=kje(i),e}function bGe(e){var t,n,r=TPe(e.x-(this.long0||0)),i=e.y;return n=this.cphi1+this.phi1-i,Math.abs(n)>mGe?(e.x=n*Math.sin(t=r*Math.cos(i)/n),e.y=this.cphi1-n*Math.cos(t)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function wGe(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,n,r=xFe(e.x,e.y=this.cphi1-e.y);if(n=this.cphi1+this.phi1-r,Math.abs(n)>ONe)throw new Error;return t=Math.abs(Math.abs(n)-ONe)<=mGe?0:r*Math.atan2(e.x,e.y)/Math.cos(n),e.x=TPe(t+(this.long0||0)),e.y=kje(n),e}var _Ge=["bonne","Bonne (Werner lat_1=90)"];const xGe={init:yGe,names:_Ge};function SGe(e){e.Proj.projections.add(wFe),e.Proj.projections.add(LFe),e.Proj.projections.add(jFe),e.Proj.projections.add(XFe),e.Proj.projections.add(nje),e.Proj.projections.add(aje),e.Proj.projections.add(fje),e.Proj.projections.add(bje),e.Proj.projections.add(Tje),e.Proj.projections.add(Fje),e.Proj.projections.add(tUe),e.Proj.projections.add(lUe),e.Proj.projections.add(dUe),e.Proj.projections.add(bUe),e.Proj.projections.add(TUe),e.Proj.projections.add(OUe),e.Proj.projections.add(PUe),e.Proj.projections.add(zUe),e.Proj.projections.add(WUe),e.Proj.projections.add(JUe),e.Proj.projections.add(nze),e.Proj.projections.add(aze),e.Proj.projections.add(pze),e.Proj.projections.add(gze),e.Proj.projections.add(Mze),e.Proj.projections.add(Gze),e.Proj.projections.add(Wze),e.Proj.projections.add(Qze),e.Proj.projections.add(iGe),e.Proj.projections.add(fGe),e.Proj.projections.add(xGe)}ADe.defaultDatum="WGS84",ADe.Proj=aDe,ADe.WGS84=new ADe.Proj("WGS84"),ADe.Point=QDe,ADe.toPoint=bDe,ADe.defs=hPe,ADe.nadgrid=XPe,ADe.transform=SDe,ADe.mgrs=DDe,ADe.version="__VERSION__",SGe(ADe);const TGe="EPSG:4326";class EGe{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,ADe.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),ADe.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),ADe.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),ADe.defs("EPSG:102100",ADe.defs("EPSG:3857")),ADe.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),ADe.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let e=1;for(;e<=60;){const t=e<10?`0${e}`:e;ADe.defs(`EPSG:326${t}`,`+proj=utm +zone=${e} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),e++}}addProjection(e,t){e="number"==typeof e?`EPSG:${e}`:e,ADe.defs(e,t)}defaultEpsgLookup(e){const t=/urn:ogc:def:crs:EPSG::(\d+)/,n=/EPSG:(\d+)/,r=String(e).match(t)||String(e).match(n)||[];if(r.length<2)throw new Error("Invalid code provided.");return new Promise(((e,t)=>{const n=`https://epsg.io/${r[1]}.proj4`;Bl(n,{responseType:"text"}).then((n=>{n.data?e(n.data):t()}),(e=>{t(e)}))}))}epsgLookup(e){return this.espgWorker(e)}setEpsgLookup(e){this.espgWorker=e}normalizeProj(e){if("object"==typeof e){if(e.wkid)return"EPSG:"+e.wkid;if(e.wkt)return e.wkt}else{if("number"==typeof e)return"EPSG:"+e;if("string"==typeof e)return e}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(e){let t,n="";try{t=this.normalizeProj(e)}catch{return!1}if(!t.startsWith("EPSG:"))return!0;"object"==typeof e&&e.latestWkid&&(n=this.normalizeProj(e.latestWkid));const r=(e,t)=>{e!==t&&ADe.defs(t,ADe.defs(e))};if(ADe.defs(t))return!0;if(n&&ADe.defs(n))return r(n,t),!0;const i=async e=>{try{const t=await this.epsgLookup(e);return null!==t&&""!==t&&(ADe.defs(e,t),!0)}catch{return!1}};return await(n?i(n):Promise.resolve(!1))?(r(n,t),!0):i(t)}async checkProjBomber(e){if(e.length>0){const t=e.pop();if(await this.checkProj(t))return this.checkProjBomber(e);throw console.error("Unable to parse or locate projection information for this item:",t),new Error("Could not find projection information, see console for details")}}async projectGeoJson(e,t,n){let r,i;if(r=t?this.normalizeProj(t):DLe.parseGeoJsonCrs(e.crs),i=n?this.normalizeProj(n):TGe,i===r)return e;await this.checkProjBomber([r,i]);const o=ADe(r,i).forward;return bNe.Tools.applyConverter(e,o)}async projectGeometry(e,t){if(t.type===c.EXTENT)return this.projectExtent(e,t);await this.checkProjBomber([e,t.sr]);const n=t.toGeoJSON(),r=await this.projectGeoJson(n,this.normalizeProj(t.sr),this.normalizeProj(e)),i=Fut.geom.geomGeoJsonToRamp(r,t.id);return i.sr=DLe.parseSR(e),i}async projectExtent(e,t){const n=(e,t,r)=>{if(0===r)return[e,t];const i=[(e[0]+t[0])/2,(e[1]+t[1])/2];if(1===r)return[e,i,t];if(r>1){const o=n(e,i,r-1),s=n(i,t,r-1);return o.concat(s.slice(1))}return[[]]},r=t.toPolygonArray().pop()||[];let i=[];[0,1,2,3].map((e=>n(r[e],r[e+1],3).slice(1))).forEach((e=>i=i.concat(e)));const o=new HLe("warpy",[i],t.sr,!0),s=await this.projectGeometry(e,o),a=s.toArray().pop()||[],l=a.map((e=>e[0])),c=a.map((e=>e[1])),u=Math.min.apply(null,l),h=Math.max.apply(null,l),p=Math.min.apply(null,c),d=Math.max.apply(null,c);return qLe.fromParams(t.id+"_projected",u,p,h,d,s.sr)}}class MGe{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new EGe,this.geom=new QLe,this.sharedUtils=new dNe}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(e){const t=e=>e.map((e=>({level:e[0],resolution:e[1],scale:e[2]})));if(e===this.DEFAULT_LAMBERT)return t([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(e===this.DEFAULT_MERCATOR)return t([[0,19567.87924099992,73957190.948944],[1,9783.93962049996,36978595.474472],[2,4891.96981024998,18489297.737236],[3,2445.98490512499,9244648.868618],[4,1222.992452562495,4622324.434309],[5,611.4962262813797,2311162.217155],[6,305.74811314055756,1155581.108577],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${e}`)}}class AGe{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(e){this.$iApi=e}}function IGe(e){return"function"==typeof e&&e.render&&"function"==typeof e.render}function CGe(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return"object"==typeof e&&!e.functional&&t.some((t=>void 0!==e[t]))}function OGe(e){return"object"==typeof e&&Object.keys(e).every((e=>"string"==typeof e))&&Object.values(e).every((e=>e instanceof HTMLElement))}function kGe(e){return"object"==typeof e&&void 0!==e.default}var RGe,LGe={exports:{}};function NGe(){if(RGe)return LGe.exports;function e(){}return RGe=1,e.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,s=r.length;o<s;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},LGe.exports=e,LGe.exports.TinyEmitter=e,LGe.exports}var PGe=NGe();function DGe(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}const FGe={},jGe=[],UGe=()=>{},zGe=()=>!1,GGe=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),VGe=e=>e.startsWith("onUpdate:"),BGe=Object.assign,$Ge=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},HGe=Object.prototype.hasOwnProperty,WGe=(e,t)=>HGe.call(e,t),qGe=Array.isArray,ZGe=e=>"[object Map]"===iVe(e),YGe=e=>"[object Set]"===iVe(e),XGe=e=>"[object Date]"===iVe(e),JGe=e=>"[object RegExp]"===iVe(e),KGe=e=>"function"==typeof e,QGe=e=>"string"==typeof e,eVe=e=>"symbol"==typeof e,tVe=e=>null!==e&&"object"==typeof e,nVe=e=>(tVe(e)||KGe(e))&&KGe(e.then)&&KGe(e.catch),rVe=Object.prototype.toString,iVe=e=>rVe.call(e),oVe=e=>iVe(e).slice(8,-1),sVe=e=>"[object Object]"===iVe(e),aVe=e=>QGe(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,lVe=DGe(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cVe=DGe("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),uVe=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},hVe=/-(\w)/g,pVe=uVe((e=>e.replace(hVe,((e,t)=>t?t.toUpperCase():"")))),dVe=/\B([A-Z])/g,fVe=uVe((e=>e.replace(dVe,"-$1").toLowerCase())),mVe=uVe((e=>e.charAt(0).toUpperCase()+e.slice(1))),yVe=uVe((e=>e?`on${mVe(e)}`:"")),gVe=(e,t)=>!Object.is(e,t),vVe=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},bVe=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},wVe=e=>{const t=parseFloat(e);return isNaN(t)?e:t},_Ve=e=>{const t=QGe(e)?Number(e):NaN;return isNaN(t)?e:t};let xVe;const SVe=()=>xVe||(xVe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),TVe=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function EVe(e){return TVe.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`}function MVe(e,t){return e+JSON.stringify(t,((e,t)=>"function"==typeof t?t.toString():t))}const AVe={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},IVe={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},CVe={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},OVe={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},kVe={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},RVe="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",LVe=DGe(RVe),NVe=LVe,PVe=2;function DVe(e,t=0,n=e.length){if(t=Math.max(0,Math.min(t,e.length)),n=Math.max(0,Math.min(n,e.length)),t>n)return"";let r=e.split(/(\r?\n)/);const i=r.filter(((e,t)=>t%2===1));r=r.filter(((e,t)=>t%2===0));let o=0;const s=[];for(let a=0;a<r.length;a++)if(o+=r[a].length+(i[a]&&i[a].length||0),o>=t){for(let e=a-PVe;e<=a+PVe||n>o;e++){if(e<0||e>=r.length)continue;const l=e+1;s.push(`${l}${" ".repeat(Math.max(3-String(l).length,0))}|  ${r[e]}`);const c=r[e].length,u=i[e]&&i[e].length||0;if(e===a){const e=t-(o-(c+u)),r=Math.max(1,n>o?c-e:n-t);s.push("   |  "+" ".repeat(e)+"^".repeat(r))}else if(e>a){if(n>o){const e=Math.max(Math.min(n-o,c),1);s.push("   |  "+"^".repeat(e))}o+=c+u}}break}return s.join("\n")}function FVe(e){if(qGe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=QGe(r)?GVe(r):FVe(r);if(i)for(const e in i)t[e]=i[e]}return t}if(QGe(e)||tVe(e))return e}const jVe=/;(?![^(]*\))/g,UVe=/:([^]+)/,zVe=/\/\*[^]*?\*\//g;function GVe(e){const t={};return e.replace(zVe,"").split(jVe).forEach((e=>{if(e){const n=e.split(UVe);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function VVe(e){let t="";if(!e||QGe(e))return t;for(const n in e){const r=e[n];if(QGe(r)||"number"==typeof r){const e=n.startsWith("--")?n:fVe(n);t+=`${e}:${r};`}}return t}function BVe(e){let t="";if(QGe(e))t=e;else if(qGe(e))for(let n=0;n<e.length;n++){const r=BVe(e[n]);r&&(t+=r+" ")}else if(tVe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function $Ve(e){if(!e)return null;let{class:t,style:n}=e;return t&&!QGe(t)&&(e.class=BVe(t)),n&&(e.style=FVe(n)),e}const HVe="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",WVe="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",qVe="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",ZVe="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",YVe=DGe(HVe),XVe=DGe(WVe),JVe=DGe(qVe),KVe=DGe(ZVe),QVe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eBe=DGe(QVe),tBe=DGe(QVe+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function nBe(e){return!!e||""===e}const rBe=/[>/="'\u0009\u000a\u000c\u0020]/,iBe={};function oBe(e){if(iBe.hasOwnProperty(e))return iBe[e];const t=rBe.test(e);return t&&console.error(`unsafe attribute name: ${e}`),iBe[e]=!t}const sBe={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},aBe=DGe("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),lBe=DGe("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),cBe=DGe("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function uBe(e){if(null==e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t}const hBe=/["'&<>]/;function pBe(e){const t=""+e,n=hBe.exec(t);if(!n)return t;let r,i,o="",s=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==i&&(o+=t.slice(s,i)),s=i+1,o+=r}return s!==i?o+t.slice(s,i):o}const dBe=/^-?>|<!--|-->|--!>|<!-$/g;function fBe(e){return e.replace(dBe,"")}const mBe=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function yBe(e,t){return e.replace(mBe,(e=>t?'"'===e?'\\\\\\"':`\\\\${e}`:`\\${e}`))}function gBe(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=vBe(e[r],t[r]);return n}function vBe(e,t){if(e===t)return!0;let n=XGe(e),r=XGe(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=eVe(e),r=eVe(t),n||r)return e===t;if(n=qGe(e),r=qGe(t),n||r)return!(!n||!r)&&gBe(e,t);if(n=tVe(e),r=tVe(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!vBe(e[n],t[n]))return!1}}return String(e)===String(t)}function bBe(e,t){return e.findIndex((e=>vBe(e,t)))}const wBe=e=>!(!e||!0!==e.__v_isRef),_Be=e=>QGe(e)?e:null==e?"":qGe(e)||tVe(e)&&(e.toString===rVe||!KGe(e.toString))?wBe(e)?_Be(e.value):JSON.stringify(e,xBe,2):String(e),xBe=(e,t)=>wBe(t)?xBe(e,t.value):ZGe(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],r)=>(e[SBe(t,r)+" =>"]=n,e)),{})}:YGe(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>SBe(e)))}:eVe(t)?SBe(t):!tVe(t)||qGe(t)||sVe(t)?t:String(t),SBe=(e,t="")=>{var n;return eVe(e)?`Symbol(${null!=(n=e.description)?n:t})`:e},TBe=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:jGe,EMPTY_OBJ:FGe,NO:zGe,NOOP:UGe,PatchFlagNames:IVe,PatchFlags:AVe,ShapeFlags:CVe,SlotFlags:OVe,camelize:pVe,capitalize:mVe,cssVarNameEscapeSymbolsRE:mBe,def:bVe,escapeHtml:pBe,escapeHtmlComment:fBe,extend:BGe,genCacheKey:MVe,genPropsAccessExp:EVe,generateCodeFrame:DVe,getEscapedCssVarName:yBe,getGlobalThis:SVe,hasChanged:gVe,hasOwn:WGe,hyphenate:fVe,includeBooleanAttr:nBe,invokeArrayFns:vVe,isArray:qGe,isBooleanAttr:tBe,isBuiltInDirective:cVe,isDate:XGe,isFunction:KGe,isGloballyAllowed:LVe,isGloballyWhitelisted:NVe,isHTMLTag:YVe,isIntegerKey:aVe,isKnownHtmlAttr:aBe,isKnownMathMLAttr:cBe,isKnownSvgAttr:lBe,isMap:ZGe,isMathMLTag:JVe,isModelListener:VGe,isObject:tVe,isOn:GGe,isPlainObject:sVe,isPromise:nVe,isRegExp:JGe,isRenderableAttrValue:uBe,isReservedProp:lVe,isSSRSafeAttrName:oBe,isSVGTag:XVe,isSet:YGe,isSpecialBooleanAttr:eBe,isString:QGe,isSymbol:eVe,isVoidTag:KVe,looseEqual:vBe,looseIndexOf:bBe,looseToNumber:wVe,makeMap:DGe,normalizeClass:BVe,normalizeProps:$Ve,normalizeStyle:FVe,objectToString:rVe,parseStringStyle:GVe,propsToAttrMap:sBe,remove:$Ge,slotFlagsText:kVe,stringifyStyle:VVe,toDisplayString:_Be,toHandlerKey:yVe,toNumber:_Ve,toRawType:oVe,toTypeString:iVe},Symbol.toStringTag,{value:"Module"}));var EBe={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"833",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6481",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12419971258",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"tag",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/tags/v4.10.0",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5OmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMTc5NyBEaXN0cmlidXRlZFRhc2suR2VuZXJhdGVJZFRva2VuOmUzM2ZiMWRkLTkyMjItNDJiYS1iNzk0LWI0ODRmZDMzZjg0OTpjYTM5NTA4NS0wNDBhLTUyNmItMmNlOC1iZGM4NWY2OTI3NzQgTG9jYXRpb25TZXJ2aWNlLkNvbm5lY3QgUmVhZEFuZFVwZGF0ZUJ1aWxkQnlVcmk6MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwLzE6QnVpbGQvQnVpbGQvMTE3OTciLCJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJERERERERERC1ERERELUREREQtRERERC1EREREREREREREREQiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJhdWkiOiIxZmE4NDE2ZS05OTQzLTRlMWEtYjY4MS1hODAxOGQxOGIzNzQiLCJzaWQiOiJhMDllZjkzMi04YjkxLTQyNGEtOWZhOC1lODZkM2FiODhlNDEiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcIlBlcm1pc3Npb25cIjozfSx7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJQZXJtaXNzaW9uXCI6MX1dIiwiYWNzbCI6IjEwIiwib2lkY19leHRyYSI6IntcInJlZlwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcInNoYVwiOlwiMWYzMmY1YzRkZWRhZDdhYzM1YTc4OTVlN2Y3NDBkOWU0ODM1OTkwM1wiLFwicmVwb3NpdG9yeVwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcInJhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCI1NzE0ODcyNFwiLFwicnVuX2lkXCI6XCIxMjQxOTk3MTI1OFwiLFwicnVuX251bWJlclwiOlwiMTMxXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIxODM1NjA1N1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwidGFnXCIsXCJ3b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJ3b3JrZmxvd19zaGFcIjpcIjFmMzJmNWM0ZGVkYWQ3YWMzNWE3ODk1ZTdmNzQwZDllNDgzNTk5MDNcIixcImVudmlyb25tZW50XCI6XCJnaXRodWItcGFnZXNcIixcImVudmlyb25tZW50X25vZGVfaWRcIjpcIkVOX2t3RE9EUVBaV2M0ZUV4MlpcIixcImpvYl93b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCIxZjMyZjVjNGRlZGFkN2FjMzVhNzg5NWU3Zjc0MGQ5ZTQ4MzU5OTAzXCIsXCJydW5uZXJfZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1ob3N0ZWRcIn0iLCJvaWRjX3N1YiI6InJlcG86cmFtcDQtcGNhcjQvcmFtcDQtcGNhcjQ6ZW52aXJvbm1lbnQ6Z2l0aHViLXBhZ2VzIiwib3JjaGlkIjoiZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5LmJ1aWxkLl9fZGVmYXVsdCIsImlzcyI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJhdWQiOiJ2c3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tfHZzbzpkYzhlN2U0ZC00ZDQ1LTQ4ZDAtYmY4YS02YmQ0YzZjMjQ2MDciLCJuYmYiOjE3MzQ2MzgxODcsImV4cCI6MTczNDY2MDk4N30.RARk5esxipY8hoZlRACe-X_yM76TNaGPNYLTOeo3QHil127k0ynntWTAIhvG4AnWGYhGaYy4r4nNazwMI7YVAcri6W6w4txoRtMEUdA20vrF04HAvi2LIMPtdLXXW03zl6hIVd22jIGJI6t6hor6a8dQKa5uN4XR_tcXzEI8Vhv3S4R4fOIPJthxGXdW5oC06Arc0YSPRDRDTk-Lb4qXWQVoaQ4oHaRZGaA0xHNITcKkzLN9AHvPFnzaIyK4iQ8Zr_0B2I-Tyor7AAKyCfvKVt980mzK76axB0fid1T0ATLZNg8nftwlvB-y9u-KqFPIf8iOeoMrMNQVV9FHigeU7w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_f84c0023-8fe3-4772-972b-468f8650057c",INVOCATION_ID:"b4280ab4ab86413d99aedf730c4ee39c",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"131",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"v4.10.0",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.10.0",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/tags/v4.10.0",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus2.actions.githubusercontent.com/CYYZq0bGEiBG5XjoYFUt7ZUW3UppKtccmRBdNq2vSmlX4E20ap/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e33fb1dd-9222-42ba-b794-b484fd33f849/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};let MBe,ABe;class IBe{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=MBe,!e&&MBe&&(this.index=(MBe.scopes||(MBe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=MBe;try{return MBe=this,e()}finally{MBe=t}}}on(){MBe=this}off(){MBe=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function CBe(e){return new IBe(e)}function OBe(){return MBe}function kBe(e,t=!1){MBe&&MBe.cleanups.push(e)}const RBe=new WeakSet;class LBe{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,MBe&&MBe.active&&MBe.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,RBe.has(this)&&(RBe.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||DBe(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,JBe(this),UBe(this);const e=ABe,t=qBe;ABe=this,qBe=!0;try{return this.fn()}finally{zBe(this),ABe=e,qBe=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)BBe(e);this.deps=this.depsTail=void 0,JBe(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?RBe.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){GBe(this)&&this.run()}get dirty(){return GBe(this)}}let NBe,PBe=0;function DBe(e){e.flags|=8,e.next=NBe,NBe=e}function FBe(){PBe++}function jBe(){if(--PBe>0)return;let e;for(;NBe;){let n,r=NBe;for(;r;)r.flags&=-9,r=r.next;for(r=NBe,NBe=void 0;r;){if(1&r.flags)try{r.trigger()}catch(t){e||(e=t)}n=r.next,r.next=void 0,r=n}}if(e)throw e}function UBe(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function zBe(e){let t,n=e.depsTail,r=n;for(;r;){const e=r.prevDep;-1===r.version?(r===n&&(n=e),BBe(r),$Be(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function GBe(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(VBe(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function VBe(e){if(4&e.flags&&!(16&e.flags)||(e.flags&=-17,e.globalVersion===KBe))return;e.globalVersion=KBe;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!GBe(e))return void(e.flags&=-3);const n=ABe,r=qBe;ABe=e,qBe=!0;try{UBe(e);const n=e.fn(e._value);(0===t.version||gVe(n,e._value))&&(e._value=n,t.version++)}catch(i){throw t.version++,i}finally{ABe=n,qBe=r,zBe(e),e.flags&=-3}}function BBe(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)BBe(e,!0)}!t&&! --n.sc&&n.map&&n.map.delete(n.key)}function $Be(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}function HBe(e,t){e.effect instanceof LBe&&(e=e.effect.fn);const n=new LBe(e);t&&BGe(n,t);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function WBe(e){e.effect.stop()}let qBe=!0;const ZBe=[];function YBe(){ZBe.push(qBe),qBe=!1}function XBe(){const e=ZBe.pop();qBe=void 0===e||e}function JBe(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=ABe;ABe=void 0;try{t()}finally{ABe=e}}}let KBe=0;class QBe{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class e$e{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ABe||!qBe||ABe===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==ABe)t=this.activeLink=new QBe(ABe,this),ABe.deps?(t.prevDep=ABe.depsTail,ABe.depsTail.nextDep=t,ABe.depsTail=t):ABe.deps=ABe.depsTail=t,t$e(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=ABe.depsTail,t.nextDep=void 0,ABe.depsTail.nextDep=t,ABe.depsTail=t,ABe.deps===t&&(ABe.deps=e)}return t}trigger(e){this.version++,KBe++,this.notify(e)}notify(e){FBe();try{EBe.NODE_ENV;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{jBe()}}}function t$e(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)t$e(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const n$e=new WeakMap,r$e=Symbol(""),i$e=Symbol(""),o$e=Symbol("");function s$e(e,t,n){if(qBe&&ABe){let t=n$e.get(e);t||n$e.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new e$e),r.target=e,r.map=t,r.key=n),r.track()}}function a$e(e,t,n,r,i,o){const s=n$e.get(e);if(!s)return void KBe++;const a=e=>{e&&e.trigger()};if(FBe(),"clear"===t)s.forEach(a);else{const i=qGe(e),o=i&&aVe(n);if(i&&"length"===n){const e=Number(r);s.forEach(((t,n)=>{("length"===n||n===o$e||!eVe(n)&&n>=e)&&a(t)}))}else switch(void 0!==n&&a(s.get(n)),o&&a(s.get(o$e)),t){case"add":i?o&&a(s.get("length")):(a(s.get(r$e)),ZGe(e)&&a(s.get(i$e)));break;case"delete":i||(a(s.get(r$e)),ZGe(e)&&a(s.get(i$e)));break;case"set":ZGe(e)&&a(s.get(r$e));break}}jBe()}function l$e(e,t){const n=n$e.get(e);return n&&n.get(t)}function c$e(e){const t=hHe(e);return t===e?t:(s$e(t,"iterate",o$e),cHe(e)?t:t.map(dHe))}function u$e(e){return s$e(e=hHe(e),"iterate",o$e),e}const h$e={__proto__:null,[Symbol.iterator](){return p$e(this,Symbol.iterator,dHe)},concat(...e){return c$e(this).concat(...e.map((e=>qGe(e)?c$e(e):e)))},entries(){return p$e(this,"entries",(e=>(e[1]=dHe(e[1]),e)))},every(e,t){return f$e(this,"every",e,t,void 0,arguments)},filter(e,t){return f$e(this,"filter",e,t,(e=>e.map(dHe)),arguments)},find(e,t){return f$e(this,"find",e,t,dHe,arguments)},findIndex(e,t){return f$e(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return f$e(this,"findLast",e,t,dHe,arguments)},findLastIndex(e,t){return f$e(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return f$e(this,"forEach",e,t,void 0,arguments)},includes(...e){return y$e(this,"includes",e)},indexOf(...e){return y$e(this,"indexOf",e)},join(e){return c$e(this).join(e)},lastIndexOf(...e){return y$e(this,"lastIndexOf",e)},map(e,t){return f$e(this,"map",e,t,void 0,arguments)},pop(){return g$e(this,"pop")},push(...e){return g$e(this,"push",e)},reduce(e,...t){return m$e(this,"reduce",e,t)},reduceRight(e,...t){return m$e(this,"reduceRight",e,t)},shift(){return g$e(this,"shift")},some(e,t){return f$e(this,"some",e,t,void 0,arguments)},splice(...e){return g$e(this,"splice",e)},toReversed(){return c$e(this).toReversed()},toSorted(e){return c$e(this).toSorted(e)},toSpliced(...e){return c$e(this).toSpliced(...e)},unshift(...e){return g$e(this,"unshift",e)},values(){return p$e(this,"values",dHe)}};function p$e(e,t,n){const r=u$e(e),i=r[t]();return r!==e&&!cHe(e)&&(i._next=i.next,i.next=()=>{const e=i._next();return e.value&&(e.value=n(e.value)),e}),i}const d$e=Array.prototype;function f$e(e,t,n,r,i,o){const s=u$e(e),a=s!==e&&!cHe(e),l=s[t];if(l!==d$e[t]){const t=l.apply(e,o);return a?dHe(t):t}let c=n;s!==e&&(a?c=function(t,r){return n.call(this,dHe(t),r,e)}:n.length>2&&(c=function(t,r){return n.call(this,t,r,e)}));const u=l.call(s,c,r);return a&&i?i(u):u}function m$e(e,t,n,r){const i=u$e(e);let o=n;return i!==e&&(cHe(e)?n.length>3&&(o=function(t,r,i){return n.call(this,t,r,i,e)}):o=function(t,r,i){return n.call(this,t,dHe(r),i,e)}),i[t](o,...r)}function y$e(e,t,n){const r=hHe(e);s$e(r,"iterate",o$e);const i=r[t](...n);return-1!==i&&!1!==i||!uHe(n[0])?i:(n[0]=hHe(n[0]),r[t](...n))}function g$e(e,t,n=[]){YBe(),FBe();const r=hHe(e)[t].apply(e,n);return jBe(),XBe(),r}const v$e=DGe("__proto__,__v_isRef,__isVue"),b$e=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(eVe));function w$e(e){eVe(e)||(e=String(e));const t=hHe(this);return s$e(t,"has",e),t.hasOwnProperty(e)}class _$e{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){const r=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(r?i?Q$e:K$e:i?J$e:X$e).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=qGe(e);if(!r){let e;if(o&&(e=h$e[t]))return e;if("hasOwnProperty"===t)return w$e}const s=Reflect.get(e,t,mHe(e)?e:n);return(eVe(t)?b$e.has(t):v$e(t))||(r||s$e(e,"get",t),i)?s:mHe(s)?o&&aVe(t)?s:s.value:tVe(s)?r?iHe(s):nHe(s):s}}class x$e extends _$e{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t];if(!this._isShallow){const t=lHe(i);if(!cHe(n)&&!lHe(n)&&(i=hHe(i),n=hHe(n)),!qGe(e)&&mHe(i)&&!mHe(n))return!t&&(i.value=n,!0)}const o=qGe(e)&&aVe(t)?Number(t)<e.length:WGe(e,t),s=Reflect.set(e,t,n,mHe(e)?e:r);return e===hHe(r)&&(o?gVe(n,i)&&a$e(e,"set",t,n):a$e(e,"add",t,n)),s}deleteProperty(e,t){const n=WGe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&a$e(e,"delete",t,void 0),r}has(e,t){const n=Reflect.has(e,t);return(!eVe(t)||!b$e.has(t))&&s$e(e,"has",t),n}ownKeys(e){return s$e(e,"iterate",qGe(e)?"length":r$e),Reflect.ownKeys(e)}}class S$e extends _$e{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const T$e=new x$e,E$e=new S$e,M$e=new x$e(!0),A$e=new S$e(!0),I$e=e=>e,C$e=e=>Reflect.getPrototypeOf(e);function O$e(e,t,n=!1,r=!1){e=e.__v_raw;const i=hHe(e),o=hHe(t);n||(gVe(t,o)&&s$e(i,"get",t),s$e(i,"get",o));const{has:s}=C$e(i),a=r?I$e:n?fHe:dHe;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void(e!==i&&e.get(t))}function k$e(e,t=!1){const n=this.__v_raw,r=hHe(n),i=hHe(e);return t||(gVe(e,i)&&s$e(r,"has",e),s$e(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function R$e(e,t=!1){return e=e.__v_raw,!t&&s$e(hHe(e),"iterate",r$e),Reflect.get(e,"size",e)}function L$e(e,t=!1){!t&&!cHe(e)&&!lHe(e)&&(e=hHe(e));const n=hHe(this);return C$e(n).has.call(n,e)||(n.add(e),a$e(n,"add",e,e)),this}function N$e(e,t,n=!1){!n&&!cHe(t)&&!lHe(t)&&(t=hHe(t));const r=hHe(this),{has:i,get:o}=C$e(r);let s=i.call(r,e);s||(e=hHe(e),s=i.call(r,e));const a=o.call(r,e);return r.set(e,t),s?gVe(t,a)&&a$e(r,"set",e,t):a$e(r,"add",e,t),this}function P$e(e){const t=hHe(this),{has:n,get:r}=C$e(t);let i=n.call(t,e);i||(e=hHe(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&a$e(t,"delete",e,void 0),o}function D$e(){const e=hHe(this),t=0!==e.size,n=e.clear();return t&&a$e(e,"clear",void 0,void 0),n}function F$e(e,t){return function(n,r){const i=this,o=i.__v_raw,s=hHe(o),a=t?I$e:e?fHe:dHe;return!e&&s$e(s,"iterate",r$e),o.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function j$e(e,t,n){return function(...r){const i=this.__v_raw,o=hHe(i),s=ZGe(o),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=i[e](...r),u=n?I$e:t?fHe:dHe;return!t&&s$e(o,"iterate",l?i$e:r$e),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function U$e(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function z$e(){const e={get(e){return O$e(this,e)},get size(){return R$e(this)},has:k$e,add:L$e,set:N$e,delete:P$e,clear:D$e,forEach:F$e(!1,!1)},t={get(e){return O$e(this,e,!1,!0)},get size(){return R$e(this)},has:k$e,add(e){return L$e.call(this,e,!0)},set(e,t){return N$e.call(this,e,t,!0)},delete:P$e,clear:D$e,forEach:F$e(!1,!0)},n={get(e){return O$e(this,e,!0)},get size(){return R$e(this,!0)},has(e){return k$e.call(this,e,!0)},add:U$e("add"),set:U$e("set"),delete:U$e("delete"),clear:U$e("clear"),forEach:F$e(!0,!1)},r={get(e){return O$e(this,e,!0,!0)},get size(){return R$e(this,!0)},has(e){return k$e.call(this,e,!0)},add:U$e("add"),set:U$e("set"),delete:U$e("delete"),clear:U$e("clear"),forEach:F$e(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=j$e(i,!1,!1),n[i]=j$e(i,!0,!1),t[i]=j$e(i,!1,!0),r[i]=j$e(i,!0,!0)})),[e,n,t,r]}const[G$e,V$e,B$e,$$e]=z$e();function H$e(e,t){const n=t?e?$$e:B$e:e?V$e:G$e;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(WGe(n,r)&&r in t?n:t,r,i)}const W$e={get:H$e(!1,!1)},q$e={get:H$e(!1,!0)},Z$e={get:H$e(!0,!1)},Y$e={get:H$e(!0,!0)},X$e=new WeakMap,J$e=new WeakMap,K$e=new WeakMap,Q$e=new WeakMap;function eHe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tHe(e){return e.__v_skip||!Object.isExtensible(e)?0:eHe(oVe(e))}function nHe(e){return lHe(e)?e:sHe(e,!1,T$e,W$e,X$e)}function rHe(e){return sHe(e,!1,M$e,q$e,J$e)}function iHe(e){return sHe(e,!0,E$e,Z$e,K$e)}function oHe(e){return sHe(e,!0,A$e,Y$e,Q$e)}function sHe(e,t,n,r,i){if(!tVe(e)||e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=tHe(e);if(0===s)return e;const a=new Proxy(e,2===s?r:n);return i.set(e,a),a}function aHe(e){return lHe(e)?aHe(e.__v_raw):!(!e||!e.__v_isReactive)}function lHe(e){return!(!e||!e.__v_isReadonly)}function cHe(e){return!(!e||!e.__v_isShallow)}function uHe(e){return!!e&&!!e.__v_raw}function hHe(e){const t=e&&e.__v_raw;return t?hHe(t):e}function pHe(e){return!WGe(e,"__v_skip")&&Object.isExtensible(e)&&bVe(e,"__v_skip",!0),e}const dHe=e=>tVe(e)?nHe(e):e,fHe=e=>tVe(e)?iHe(e):e;function mHe(e){return!!e&&!0===e.__v_isRef}function yHe(e){return vHe(e,!1)}function gHe(e){return vHe(e,!0)}function vHe(e,t){return mHe(e)?e:new bHe(e,t)}class bHe{constructor(e,t){this.dep=new e$e,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:hHe(e),this._value=t?e:dHe(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||cHe(e)||lHe(e);e=n?e:hHe(e),gVe(e,t)&&(this._rawValue=e,this._value=n?e:dHe(e),this.dep.trigger())}}function wHe(e){e.dep&&e.dep.trigger()}function _He(e){return mHe(e)?e.value:e}function xHe(e){return KGe(e)?e():_He(e)}const SHe={get:(e,t,n)=>"__v_raw"===t?e:_He(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return mHe(i)&&!mHe(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function THe(e){return aHe(e)?e:new Proxy(e,SHe)}class EHe{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new e$e,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function MHe(e){return new EHe(e)}function AHe(e){const t=qGe(e)?new Array(e.length):{};for(const n in e)t[n]=kHe(e,n);return t}class IHe{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return l$e(hHe(this._object),this._key)}}class CHe{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function OHe(e,t,n){return mHe(e)?e:KGe(e)?new CHe(e):tVe(e)&&arguments.length>1?kHe(e,t,n):yHe(e)}function kHe(e,t,n){const r=e[t];return mHe(r)?r:new IHe(e,t,n)}class RHe{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new e$e(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=KBe-1,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&ABe!==this)return DBe(this),!0}get value(){const e=this.dep.track();return VBe(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function LHe(e,t,n=!1){let r,i;return KGe(e)?r=e:(r=e.get,i=e.set),new RHe(r,i,n)}const NHe={GET:"get",HAS:"has",ITERATE:"iterate"},PHe={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},DHe={},FHe=new WeakMap;let jHe;function UHe(){return jHe}function zHe(e,t=!1,n=jHe){if(n){let t=FHe.get(n);t||FHe.set(n,t=[]),t.push(e)}}function GHe(e,t,n=FGe){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:a,call:l}=n,c=e=>i?e:cHe(e)||!1===i||0===i?VHe(e,1):VHe(e);let u,h,p,d,f=!1,m=!1;if(mHe(e)?(h=()=>e.value,f=cHe(e)):aHe(e)?(h=()=>c(e),f=!0):qGe(e)?(m=!0,f=e.some((e=>aHe(e)||cHe(e))),h=()=>e.map((e=>mHe(e)?e.value:aHe(e)?c(e):KGe(e)?l?l(e,2):e():void 0))):h=KGe(e)?t?l?()=>l(e,2):e:()=>{if(p){YBe();try{p()}finally{XBe()}}const t=jHe;jHe=u;try{return l?l(e,3,[d]):e(d)}finally{jHe=t}}:UGe,t&&i){const e=h,t=!0===i?1/0:i;h=()=>VHe(e(),t)}const y=OBe(),g=()=>{u.stop(),y&&$Ge(y.effects,u)};if(o&&t){const e=t;t=(...t)=>{e(...t),g()}}let v=m?new Array(e.length).fill(DHe):DHe;const b=e=>{if(1&u.flags&&(u.dirty||e))if(t){const e=u.run();if(i||f||(m?e.some(((e,t)=>gVe(e,v[t]))):gVe(e,v))){p&&p();const n=jHe;jHe=u;try{const n=[e,v===DHe?void 0:m&&v[0]===DHe?[]:v,d];l?l(t,3,n):t(...n),v=e}finally{jHe=n}}}else u.run()};return a&&a(b),u=new LBe(h),u.scheduler=s?()=>s(b,!1):b,d=e=>zHe(e,!1,u),p=u.onStop=()=>{const e=FHe.get(u);if(e){if(l)l(e,4);else for(const t of e)t();FHe.delete(u)}},t?r?b(!0):v=u.run():s?s(b.bind(null,!0),!0):u.run(),g.pause=u.pause.bind(u),g.resume=u.resume.bind(u),g.stop=g,g}function VHe(e,t=1/0,n){if(t<=0||!tVe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,mHe(e))VHe(e.value,t,n);else if(qGe(e))for(let r=0;r<e.length;r++)VHe(e[r],t,n);else if(YGe(e)||ZGe(e))e.forEach((e=>{VHe(e,t,n)}));else if(sVe(e)){for(const r in e)VHe(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&VHe(e[r],t,n)}return e}var BHe={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"833",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6481",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12419971258",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"tag",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/tags/v4.10.0",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5OmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMTc5NyBEaXN0cmlidXRlZFRhc2suR2VuZXJhdGVJZFRva2VuOmUzM2ZiMWRkLTkyMjItNDJiYS1iNzk0LWI0ODRmZDMzZjg0OTpjYTM5NTA4NS0wNDBhLTUyNmItMmNlOC1iZGM4NWY2OTI3NzQgTG9jYXRpb25TZXJ2aWNlLkNvbm5lY3QgUmVhZEFuZFVwZGF0ZUJ1aWxkQnlVcmk6MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwLzE6QnVpbGQvQnVpbGQvMTE3OTciLCJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJERERERERERC1ERERELUREREQtRERERC1EREREREREREREREQiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJhdWkiOiIxZmE4NDE2ZS05OTQzLTRlMWEtYjY4MS1hODAxOGQxOGIzNzQiLCJzaWQiOiJhMDllZjkzMi04YjkxLTQyNGEtOWZhOC1lODZkM2FiODhlNDEiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcIlBlcm1pc3Npb25cIjozfSx7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJQZXJtaXNzaW9uXCI6MX1dIiwiYWNzbCI6IjEwIiwib2lkY19leHRyYSI6IntcInJlZlwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcInNoYVwiOlwiMWYzMmY1YzRkZWRhZDdhYzM1YTc4OTVlN2Y3NDBkOWU0ODM1OTkwM1wiLFwicmVwb3NpdG9yeVwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcInJhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCI1NzE0ODcyNFwiLFwicnVuX2lkXCI6XCIxMjQxOTk3MTI1OFwiLFwicnVuX251bWJlclwiOlwiMTMxXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIxODM1NjA1N1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwidGFnXCIsXCJ3b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJ3b3JrZmxvd19zaGFcIjpcIjFmMzJmNWM0ZGVkYWQ3YWMzNWE3ODk1ZTdmNzQwZDllNDgzNTk5MDNcIixcImVudmlyb25tZW50XCI6XCJnaXRodWItcGFnZXNcIixcImVudmlyb25tZW50X25vZGVfaWRcIjpcIkVOX2t3RE9EUVBaV2M0ZUV4MlpcIixcImpvYl93b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCIxZjMyZjVjNGRlZGFkN2FjMzVhNzg5NWU3Zjc0MGQ5ZTQ4MzU5OTAzXCIsXCJydW5uZXJfZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1ob3N0ZWRcIn0iLCJvaWRjX3N1YiI6InJlcG86cmFtcDQtcGNhcjQvcmFtcDQtcGNhcjQ6ZW52aXJvbm1lbnQ6Z2l0aHViLXBhZ2VzIiwib3JjaGlkIjoiZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5LmJ1aWxkLl9fZGVmYXVsdCIsImlzcyI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJhdWQiOiJ2c3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tfHZzbzpkYzhlN2U0ZC00ZDQ1LTQ4ZDAtYmY4YS02YmQ0YzZjMjQ2MDciLCJuYmYiOjE3MzQ2MzgxODcsImV4cCI6MTczNDY2MDk4N30.RARk5esxipY8hoZlRACe-X_yM76TNaGPNYLTOeo3QHil127k0ynntWTAIhvG4AnWGYhGaYy4r4nNazwMI7YVAcri6W6w4txoRtMEUdA20vrF04HAvi2LIMPtdLXXW03zl6hIVd22jIGJI6t6hor6a8dQKa5uN4XR_tcXzEI8Vhv3S4R4fOIPJthxGXdW5oC06Arc0YSPRDRDTk-Lb4qXWQVoaQ4oHaRZGaA0xHNITcKkzLN9AHvPFnzaIyK4iQ8Zr_0B2I-Tyor7AAKyCfvKVt980mzK76axB0fid1T0ATLZNg8nftwlvB-y9u-KqFPIf8iOeoMrMNQVV9FHigeU7w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_f84c0023-8fe3-4772-972b-468f8650057c",INVOCATION_ID:"b4280ab4ab86413d99aedf730c4ee39c",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"131",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"v4.10.0",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.10.0",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/tags/v4.10.0",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus2.actions.githubusercontent.com/CYYZq0bGEiBG5XjoYFUt7ZUW3UppKtccmRBdNq2vSmlX4E20ap/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e33fb1dd-9222-42ba-b794-b484fd33f849/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const $He=[];function HHe(e){$He.push(e)}function WHe(){$He.pop()}let qHe=!1;function ZHe(e,...t){if(qHe)return;qHe=!0,YBe();const n=$He.length?$He[$He.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=YHe();if(r)rWe(r,n,11,[e+t.map((e=>{var t,n;return null!=(n=null==(t=e.toString)?void 0:t.call(e))?n:JSON.stringify(e)})).join(""),n&&n.proxy,i.map((({vnode:e})=>`at <${yJe(n,e.type)}>`)).join("\n"),i]);else{const n=[`[Vue warn]: ${e}`,...t];i.length&&n.push("\n",...XHe(i)),console.warn(...n)}XBe(),qHe=!1}function YHe(){let e=$He[$He.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function XHe(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...JHe(e))})),t}function JHe({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=!!e.component&&null==e.component.parent,i=` at <${yJe(e.component,e.type,r)}`,o=">"+n;return e.props?[i,...KHe(e.props),o]:[i+o]}function KHe(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...QHe(n,e[n]))})),n.length>3&&t.push(" ..."),t}function QHe(e,t,n){return QGe(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"==typeof t||"boolean"==typeof t||null==t?n?t:[`${e}=${t}`]:mHe(t)?(t=QHe(e,hHe(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):KGe(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=hHe(t),n?t:[`${e}=`,t])}function eWe(e,t){}const tWe={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},nWe={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function rWe(e,t,n,r){try{return r?e(...r):e()}catch(i){oWe(i,t,n)}}function iWe(e,t,n,r){if(KGe(e)){const i=rWe(e,t,n,r);return i&&nVe(i)&&i.catch((e=>{oWe(e,t,n)})),i}if(qGe(e)){const i=[];for(let o=0;o<e.length;o++)i.push(iWe(e[o],t,n,r));return i}}function oWe(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||FGe;if(t){let r=t.parent;const i=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,s))return;r=r.parent}if(o)return YBe(),rWe(o,null,10,[e,i,s]),void XBe()}sWe(e,n,i,r,s)}function sWe(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}let aWe=!1,lWe=!1;const cWe=[];let uWe=0;const hWe=[];let pWe=null,dWe=0;const fWe=Promise.resolve();let mWe=null;function yWe(e){const t=mWe||fWe;return e?t.then(this?e.bind(this):e):t}function gWe(e){let t=aWe?uWe+1:0,n=cWe.length;for(;t<n;){const r=t+n>>>1,i=cWe[r],o=SWe(i);o<e||o===e&&2&i.flags?t=r+1:n=r}return t}function vWe(e){if(!(1&e.flags)){const t=SWe(e),n=cWe[cWe.length-1];!n||!(2&e.flags)&&t>=SWe(n)?cWe.push(e):cWe.splice(gWe(t),0,e),e.flags|=1,bWe()}}function bWe(){!aWe&&!lWe&&(lWe=!0,mWe=fWe.then(TWe))}function wWe(e){qGe(e)?hWe.push(...e):pWe&&-1===e.id?pWe.splice(dWe+1,0,e):1&e.flags||(hWe.push(e),e.flags|=1),bWe()}function _We(e,t,n=(aWe?uWe+1:0)){for(;n<cWe.length;n++){const t=cWe[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;cWe.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function xWe(e){if(hWe.length){const e=[...new Set(hWe)].sort(((e,t)=>SWe(e)-SWe(t)));if(hWe.length=0,pWe)return void pWe.push(...e);for(pWe=e,dWe=0;dWe<pWe.length;dWe++){const e=pWe[dWe];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}pWe=null,dWe=0}}const SWe=e=>null==e.id?2&e.flags?-1:1/0:e.id;function TWe(e){lWe=!1,aWe=!0;const t=UGe;try{for(uWe=0;uWe<cWe.length;uWe++){const e=cWe[uWe];e&&!(8&e.flags)&&("production"!==BHe.NODE_ENV&&t(e),4&e.flags&&(e.flags&=-2),rWe(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;uWe<cWe.length;uWe++){const e=cWe[uWe];e&&(e.flags&=-2)}uWe=0,cWe.length=0,xWe(),aWe=!1,mWe=null,(cWe.length||hWe.length)&&TWe()}}let EWe,MWe=[];function AWe(e,t){var n,r;EWe=e,EWe?(EWe.enabled=!0,MWe.forEach((({event:e,args:t})=>EWe.emit(e,...t))),MWe=[]):typeof window<"u"&&window.HTMLElement&&(null==(r=null==(n=window.navigator)?void 0:n.userAgent)||!r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{AWe(e,t)})),setTimeout((()=>{EWe||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,MWe=[])}),3e3)):MWe=[]}let IWe=null,CWe=null;function OWe(e){const t=IWe;return IWe=e,CWe=e&&e.type.__scopeId||null,t}function kWe(e){CWe=e}function RWe(){CWe=null}const LWe=e=>NWe;function NWe(e,t=IWe,n){if(!t||e._n)return e;const r=(...n)=>{r._d&&SXe(-1);const i=OWe(t);let o;try{o=e(...n)}finally{OWe(i),r._d&&SXe(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function PWe(e,t){if(null===IWe)return e;const n=pJe(IWe),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[e,o,s,a=FGe]=t[i];e&&(KGe(e)&&(e={mounted:e,updated:e}),e.deep&&VHe(o),r.push({dir:e,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a}))}return e}function DWe(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(YBe(),iWe(l,n,8,[e.el,a,e,t]),XBe())}}const FWe=Symbol("_vte"),jWe=e=>e.__isTeleport,UWe=e=>e&&(e.disabled||""===e.disabled),zWe=e=>e&&(e.defer||""===e.defer),GWe=e=>typeof SVGElement<"u"&&e instanceof SVGElement,VWe=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,BWe=(e,t)=>{const n=e&&e.to;return QGe(n)?t?t(n):null:n},$We={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,o,s,a,l,c){const{mc:u,pc:h,pbc:p,o:{insert:d,querySelector:f,createText:m,createComment:y}}=c,g=UWe(t.props);let{shapeFlag:v,children:b,dynamicChildren:w}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");d(e,n,r),d(c,n,r);const h=(e,t)=>{16&v&&(i&&i.isCE&&(i.ce._teleportTarget=e),u(b,e,t,i,o,s,a,l))},p=()=>{const e=t.target=BWe(t.props,f),n=YWe(e,t,m,d);e&&("svg"!==s&&GWe(e)?s="svg":"mathml"!==s&&VWe(e)&&(s="mathml"),g||(h(e,n),ZWe(t)))};g&&(h(n,c),ZWe(t)),zWe(t.props)?xYe(p,o):p()}else{t.el=e.el,t.targetStart=e.targetStart;const r=t.anchor=e.anchor,u=t.target=e.target,d=t.targetAnchor=e.targetAnchor,m=UWe(e.props),y=m?n:u,v=m?r:d;if("svg"===s||GWe(u)?s="svg":("mathml"===s||VWe(u))&&(s="mathml"),w?(p(e.dynamicChildren,w,y,i,o,s,a),CYe(e,t,!0)):l||h(e,t,y,v,i,o,s,a,!1),g)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):HWe(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=BWe(t.props,f);e&&HWe(t,e,null,c,0)}else m&&HWe(t,u,d,c,1);ZWe(t)}},remove(e,t,n,{um:r,o:{remove:i}},o){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:h,props:p}=e;if(h&&(i(c),i(u)),o&&i(l),16&s){const e=o||!UWe(p);for(let i=0;i<a.length;i++){const o=a[i];r(o,t,n,e,!!o.dynamicChildren)}}},move:HWe,hydrate:WWe};function HWe(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,h=2===o;if(h&&r(s,t,n),(!h||UWe(u))&&16&l)for(let p=0;p<c.length;p++)i(c[p],t,n,2);h&&r(a,t,n)}function WWe(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},h){const p=t.target=BWe(t.props,l);if(p){const l=p._lpa||p.firstChild;if(16&t.shapeFlag)if(UWe(t.props))t.anchor=h(s(e),t,a(e),n,r,i,o),t.targetStart=l,t.targetAnchor=l&&s(l);else{t.anchor=s(e);let a=l;for(;a;){if(a&&8===a.nodeType)if("teleport start anchor"===a.data)t.targetStart=a;else if("teleport anchor"===a.data){t.targetAnchor=a,p._lpa=t.targetAnchor&&s(t.targetAnchor);break}a=s(a)}t.targetAnchor||YWe(p,t,u,c),h(l&&s(l),t,p,n,r,i,o)}ZWe(t)}return t.anchor&&s(t.anchor)}const qWe=$We;function ZWe(e){const t=e.ctx;if(t&&t.ut){let n=e.targetStart;for(;n&&n!==e.targetAnchor;)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function YWe(e,t,n,r){const i=t.targetStart=n(""),o=t.targetAnchor=n("");return i[FWe]=o,e&&(r(i,e),r(o,e)),o}const XWe=Symbol("_leaveCb"),JWe=Symbol("_enterCb");function KWe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zqe((()=>{e.isMounted=!0})),Jqe((()=>{e.isUnmounting=!0})),e}const QWe=[Function,Array],eqe={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:QWe,onEnter:QWe,onAfterEnter:QWe,onEnterCancelled:QWe,onBeforeLeave:QWe,onLeave:QWe,onAfterLeave:QWe,onLeaveCancelled:QWe,onBeforeAppear:QWe,onAppear:QWe,onAfterAppear:QWe,onAppearCancelled:QWe},tqe=e=>{const t=e.subTree;return t.component?tqe(t.component):t},nqe={name:"BaseTransition",props:eqe,setup(e,{slots:t}){const n=YXe(),r=KWe();return()=>{const i=t.default&&uqe(t.default(),!0);if(!i||!i.length)return;const o=rqe(i),s=hHe(e),{mode:a}=s;if(r.isLeaving)return aqe(o);const l=lqe(o);if(!l)return aqe(o);let c=sqe(l,s,r,n,(e=>c=e));l.type!==yXe&&cqe(l,c);const u=n.subTree,h=u&&lqe(u);if(h&&h.type!==yXe&&!IXe(l,h)&&tqe(n).type!==yXe){const e=sqe(h,s,r,n);if(cqe(h,e),"out-in"===a&&l.type!==yXe)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave},aqe(o);"in-out"===a&&l.type!==yXe&&(e.delayLeave=(e,t,n)=>{const i=oqe(r,h);i[String(h.key)]=h,e[XWe]=()=>{t(),e[XWe]=void 0,delete c.delayedLeave},c.delayedLeave=n})}return o}}};function rqe(e){let t=e[0];if(e.length>1)for(const n of e)if(n.type!==yXe){t=n;break}return t}const iqe=nqe;function oqe(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function sqe(e,t,n,r,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:p,onLeave:d,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:y,onAppear:g,onAfterAppear:v,onAppearCancelled:b}=t,w=String(e.key),_=oqe(n,e),x=(e,t)=>{e&&iWe(e,r,9,t)},S=(e,t)=>{const n=t[1];x(e,t),qGe(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},T={mode:s,persisted:a,beforeEnter(t){let r=l;if(!n.isMounted){if(!o)return;r=y||l}t[XWe]&&t[XWe](!0);const i=_[w];i&&IXe(e,i)&&i.el[XWe]&&i.el[XWe](),x(r,[t])},enter(e){let t=c,r=u,i=h;if(!n.isMounted){if(!o)return;t=g||c,r=v||u,i=b||h}let s=!1;const a=e[JWe]=t=>{s||(s=!0,x(t?i:r,[e]),T.delayedLeave&&T.delayedLeave(),e[JWe]=void 0)};t?S(t,[e,a]):a()},leave(t,r){const i=String(e.key);if(t[JWe]&&t[JWe](!0),n.isUnmounting)return r();x(p,[t]);let o=!1;const s=t[XWe]=n=>{o||(o=!0,r(),x(n?m:f,[t]),t[XWe]=void 0,_[i]===e&&delete _[i])};_[i]=e,d?S(d,[t,s]):s()},clone(e){const o=sqe(e,t,n,r,i);return i&&i(o),o}};return T}function aqe(e){if(Pqe(e))return e=DXe(e),e.children=null,e}function lqe(e){if(!Pqe(e))return jWe(e.type)&&e.children?rqe(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&KGe(n.default))return n.default()}}function cqe(e,t){6&e.shapeFlag&&e.component?(e.transition=t,cqe(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function uqe(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===fXe?(128&s.patchFlag&&i++,r=r.concat(uqe(s.children,t,a))):(t||s.type!==yXe)&&r.push(null!=a?DXe(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function hqe(e,t){return KGe(e)?BGe({name:e.name},t,{setup:e}):e}function pqe(){const e=YXe();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function dqe(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fqe(e){const t=YXe(),n=gHe(null);if(t){const r=t.refs===FGe?t.refs={}:t.refs;Object.defineProperty(r,e,{enumerable:!0,get:()=>n.value,set:e=>n.value=e})}return n}function mqe(e,t,n,r,i=!1){if(qGe(e))return void e.forEach(((e,o)=>mqe(e,t&&(qGe(t)?t[o]:t),n,r,i)));if(Rqe(r)&&!i)return;const o=4&r.shapeFlag?pJe(r.component):r.el,s=i?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===FGe?a.refs={}:a.refs,h=a.setupState,p=hHe(h),d=h===FGe?()=>!1:e=>WGe(p,e);if(null!=c&&c!==l&&(QGe(c)?(u[c]=null,d(c)&&(h[c]=null)):mHe(c)&&(c.value=null)),KGe(l))rWe(l,a,12,[s,u]);else{const t=QGe(l),r=mHe(l);if(t||r){const a=()=>{if(e.f){const n=t?d(l)?h[l]:u[l]:l.value;i?qGe(n)&&$Ge(n,o):qGe(n)?n.includes(o)||n.push(o):t?(u[l]=[o],d(l)&&(h[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else t?(u[l]=s,d(l)&&(h[l]=s)):r&&(l.value=s,e.k&&(u[e.k]=s))};s?(a.id=-1,xYe(a,n)):a()}}}let yqe=!1;const gqe=()=>{yqe||(console.error("Hydration completed but contains mismatches."),yqe=!0)},vqe=e=>e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName,bqe=e=>e.namespaceURI.includes("MathML"),wqe=e=>{if(1===e.nodeType){if(vqe(e))return"svg";if(bqe(e))return"mathml"}},_qe=e=>8===e.nodeType;function xqe(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:s,remove:a,insert:l,createComment:c}}=e,u=(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),xWe(),void(t._vnode=e);h(t.firstChild,e,null,null,null),xWe(),t._vnode=e},h=(n,r,a,c,u,b=!1)=>{b=b||!!r.dynamicChildren;const w=_qe(n)&&"["===n.data,_=()=>m(n,r,a,c,u,w),{type:x,ref:S,shapeFlag:T,patchFlag:E}=r;let M=n.nodeType;r.el=n,-2===E&&(b=!1,r.dynamicChildren=null);let A=null;switch(x){case mXe:3!==M?""===r.children?(l(r.el=i(""),s(n),n),A=n):A=_():(n.data!==r.children&&(gqe(),n.data=r.children),A=o(n));break;case yXe:v(n)?(A=o(n),g(r.el=n.content.firstChild,n,a)):A=8!==M||w?_():o(n);break;case gXe:if(w&&(n=o(n),M=n.nodeType),1===M||3===M){A=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===A.nodeType?A.outerHTML:A.data),t===r.staticCount-1&&(r.anchor=A),A=o(A);return w?o(A):A}_();break;case fXe:A=w?f(n,r,a,c,u,b):_();break;default:if(1&T)A=1===M&&r.type.toLowerCase()===n.tagName.toLowerCase()||v(n)?p(n,r,a,c,u,b):_();else if(6&T){r.slotScopeIds=u;const e=s(n);if(A=w?y(n):_qe(n)&&"teleport start"===n.data?y(n,n.data,"teleport end"):o(n),t(r,e,null,a,c,wqe(e),b),Rqe(r)){let t;w?(t=LXe(fXe),t.anchor=A?A.previousSibling:e.lastChild):t=3===n.nodeType?FXe(""):LXe("div"),t.el=n,r.component.subTree=t}}else 64&T?A=8!==M?_():r.type.hydrate(n,r,a,c,u,b,e,d):128&T&&(A=r.type.hydrate(n,r,a,c,wqe(s(n)),u,b,e,h))}return null!=S&&mqe(S,null,c,r),A},p=(e,t,n,i,o,s)=>{s=s||!!t.dynamicChildren;const{type:l,props:c,patchFlag:u,shapeFlag:h,dirs:p,transition:f}=t,m="input"===l||"option"===l;if(m||-1!==u){p&&DWe(t,null,n,"created");let l,y=!1;if(v(e)){y=IYe(i,f)&&n&&n.vnode.props&&n.vnode.props.appear;const r=e.content.firstChild;y&&f.beforeEnter(r),g(r,e,n),t.el=e=r}if(16&h&&(!c||!c.innerHTML&&!c.textContent)){let r=d(e.firstChild,t,e,n,i,o,s);for(;r;){Eqe(e,1)||gqe();const t=r;r=r.nextSibling,a(t)}}else if(8&h){let n=t.children;"\n"===n[0]&&("PRE"===e.tagName||"TEXTAREA"===e.tagName)&&(n=n.slice(1)),e.textContent!==n&&(Eqe(e,0)||gqe(),e.textContent=t.children)}if(c)if(m||!s||48&u){const t=e.tagName.includes("-");for(const i in c)(m&&(i.endsWith("value")||"indeterminate"===i)||GGe(i)&&!lVe(i)||"."===i[0]||t)&&r(e,i,null,c[i],void 0,n)}else if(c.onClick)r(e,"onClick",null,c.onClick,void 0,n);else if(4&u&&aHe(c.style))for(const e in c.style)c.style[e];(l=c&&c.onVnodeBeforeMount)&&$Xe(l,n,t),p&&DWe(t,null,n,"beforeMount"),((l=c&&c.onVnodeMounted)||p||y)&&hXe((()=>{l&&$Xe(l,n,t),y&&f.enter(e),p&&DWe(t,null,n,"mounted")}),i)}return e.nextSibling},d=(e,t,r,s,a,c,u)=>{u=u||!!t.dynamicChildren;const p=t.children,d=p.length;for(let f=0;f<d;f++){const t=u?p[f]:p[f]=zXe(p[f]),m=t.type===mXe;e?(m&&!u&&f+1<d&&zXe(p[f+1]).type===mXe&&(l(i(e.data.slice(t.children.length)),r,o(e)),e.data=t.children),e=h(e,t,s,a,c,u)):m&&!t.children?l(t.el=i(""),r):(Eqe(r,1)||gqe(),n(null,t,r,null,s,a,wqe(r),c))}return e},f=(e,t,n,r,i,a)=>{const{slotScopeIds:u}=t;u&&(i=i?i.concat(u):u);const h=s(e),p=d(o(e),t,h,n,r,i,a);return p&&_qe(p)&&"]"===p.data?o(t.anchor=p):(gqe(),l(t.anchor=c("]"),h,p),p)},m=(e,t,r,i,l,c)=>{if(Eqe(e.parentElement,1)||gqe(),t.el=null,c){const t=y(e);for(;;){const n=o(e);if(!n||n===t)break;a(n)}}const u=o(e),h=s(e);return a(e),n(null,t,h,u,r,i,wqe(h),l),u},y=(e,t="[",n="]")=>{let r=0;for(;e;)if(e=o(e),e&&_qe(e)&&(e.data===t&&r++,e.data===n)){if(0===r)return o(e);r--}return e},g=(e,t,n)=>{const r=t.parentNode;r&&r.replaceChild(e,t);let i=n;for(;i;)i.vnode.el===t&&(i.vnode.el=i.subTree.el=e),i=i.parent},v=e=>1===e.nodeType&&"TEMPLATE"===e.tagName;return[u,h]}const Sqe="data-allow-mismatch",Tqe={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Eqe(e,t){if(0===t||1===t)for(;e&&!e.hasAttribute(Sqe);)e=e.parentElement;const n=e&&e.getAttribute(Sqe);if(null==n)return!1;if(""===n)return!0;{const e=n.split(",");return!(0!==t||!e.includes("children"))||n.split(",").includes(Tqe[t])}}const Mqe=(e=1e4)=>t=>{const n=requestIdleCallback(t,{timeout:e});return()=>cancelIdleCallback(n)};function Aqe(e){const{top:t,left:n,bottom:r,right:i}=e.getBoundingClientRect(),{innerHeight:o,innerWidth:s}=window;return(t>0&&t<o||r>0&&r<o)&&(n>0&&n<s||i>0&&i<s)}const Iqe=e=>(t,n)=>{const r=new IntersectionObserver((e=>{for(const n of e)if(n.isIntersecting){r.disconnect(),t();break}}),e);return n((e=>{if(e instanceof Element){if(Aqe(e))return t(),r.disconnect(),!1;r.observe(e)}})),()=>r.disconnect()},Cqe=e=>t=>{if(e){const n=matchMedia(e);if(!n.matches)return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t);t()}},Oqe=(e=[])=>(t,n)=>{QGe(e)&&(e=[e]);let r=!1;const i=e=>{r||(r=!0,o(),t(),e.target.dispatchEvent(new e.constructor(e.type,e)))},o=()=>{n((t=>{for(const n of e)t.removeEventListener(n,i)}))};return n((t=>{for(const n of e)t.addEventListener(n,i,{once:!0})})),o};function kqe(e,t){if(_qe(e)&&"["===e.data){let n=1,r=e.nextSibling;for(;r;){if(1===r.nodeType){if(!1===t(r))break}else if(_qe(r))if("]"===r.data){if(0===--n)break}else"["===r.data&&n++;r=r.nextSibling}}else t(e)}const Rqe=e=>!!e.type.__asyncLoader;function Lqe(e){KGe(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:o,timeout:s,suspensible:a=!0,onError:l}=e;let c,u=null,h=0;const p=()=>(h++,u=null,d()),d=()=>{let e;return u||(e=u=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise(((t,n)=>{l(e,(()=>t(p())),(()=>n(e)),h+1)}));throw e})).then((t=>e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t))))};return hqe({name:"AsyncComponentWrapper",__asyncLoader:d,__asyncHydrate(e,t,n){const r=o?()=>{const r=o(n,(t=>kqe(e,t)));r&&(t.bum||(t.bum=[])).push(r)}:n;c?r():d().then((()=>!t.isUnmounted&&r()))},get __asyncResolved(){return c},setup(){const e=ZXe;if(dqe(e),c)return()=>Nqe(c,e);const t=t=>{u=null,oWe(t,e,13,!r)};if(a&&e.suspense||rJe)return d().then((t=>()=>Nqe(t,e))).catch((e=>(t(e),()=>r?LXe(r,{error:e}):null)));const o=yHe(!1),l=yHe(),h=yHe(!!i);return i&&setTimeout((()=>{h.value=!1}),i),null!=s&&setTimeout((()=>{if(!o.value&&!l.value){const e=new Error(`Async component timed out after ${s}ms.`);t(e),l.value=e}}),s),d().then((()=>{o.value=!0,e.parent&&Pqe(e.parent.vnode)&&e.parent.update()})).catch((e=>{t(e),l.value=e})),()=>o.value&&c?Nqe(c,e):l.value&&r?LXe(r,{error:l.value}):n&&!h.value?LXe(n):void 0}})}function Nqe(e,t){const{ref:n,props:r,children:i,ce:o}=t.vnode,s=LXe(e,r,i);return s.ref=n,s.ce=o,delete t.vnode.ce,s}const Pqe=e=>e.type.__isKeepAlive,Dqe={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=YXe(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const i=new Map,o=new Set;let s=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=r,p=h("div");function d(e){Bqe(e),u(e,n,a,!0)}function f(e){i.forEach(((t,n)=>{const r=mJe(t.type);r&&!e(r)&&m(n)}))}function m(e){const t=i.get(e);!t||s&&IXe(t,s)?s&&Bqe(s):d(t),i.delete(e),o.delete(e)}r.activate=(e,t,n,r,i)=>{const o=e.component;c(e,t,n,0,a),l(o.vnode,e,t,n,o,a,r,e.slotScopeIds,i),xYe((()=>{o.isDeactivated=!1,o.a&&vVe(o.a);const t=e.props&&e.props.onVnodeMounted;t&&$Xe(t,o.parent,e)}),a)},r.deactivate=e=>{const t=e.component;RYe(t.m),RYe(t.a),c(e,p,null,1,a),xYe((()=>{t.da&&vVe(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&$Xe(n,t.parent,e),t.isDeactivated=!0}),a)},jYe((()=>[e.include,e.exclude]),(([e,t])=>{e&&f((t=>jqe(e,t))),t&&f((e=>!jqe(t,e)))}),{flush:"post",deep:!0});let y=null;const g=()=>{null!=y&&(eXe(n.subTree.type)?xYe((()=>{i.set(y,$qe(n.subTree))}),n.subTree.suspense):i.set(y,$qe(n.subTree)))};return Zqe(g),Xqe(g),Jqe((()=>{i.forEach((e=>{const{subTree:t,suspense:r}=n,i=$qe(t);if(e.type!==i.type||e.key!==i.key)d(e);else{Bqe(i);const e=i.component.da;e&&xYe(e,r)}}))})),()=>{if(y=null,!t.default)return s=null;const n=t.default(),r=n[0];if(n.length>1)return s=null,n;if(!AXe(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return s=null,r;let a=$qe(r);if(a.type===yXe)return s=null,a;const l=a.type,c=mJe(Rqe(a)?a.type.__asyncResolved||{}:l),{include:u,exclude:h,max:p}=e;if(u&&(!c||!jqe(u,c))||h&&c&&jqe(h,c))return a.shapeFlag&=-257,s=a,r;const d=null==a.key?l:a.key,f=i.get(d);return a.el&&(a=DXe(a),128&r.shapeFlag&&(r.ssContent=a)),y=d,f?(a.el=f.el,a.component=f.component,a.transition&&cqe(a,a.transition),a.shapeFlag|=512,o.delete(d),o.add(d)):(o.add(d),p&&o.size>parseInt(p,10)&&m(o.values().next().value)),a.shapeFlag|=256,s=a,eXe(r.type)?r:a}}},Fqe=Dqe;function jqe(e,t){return qGe(e)?e.some((e=>jqe(e,t))):QGe(e)?e.split(",").includes(t):!!JGe(e)&&(e.lastIndex=0,e.test(t))}function Uqe(e,t){Gqe(e,"a",t)}function zqe(e,t){Gqe(e,"da",t)}function Gqe(e,t,n=ZXe){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Hqe(t,r,n),n){let e=n.parent;for(;e&&e.parent;)Pqe(e.parent.vnode)&&Vqe(r,t,n,e),e=e.parent}}function Vqe(e,t,n,r){const i=Hqe(t,e,r,!0);Kqe((()=>{$Ge(r[t],i)}),n)}function Bqe(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function $qe(e){return 128&e.shapeFlag?e.ssContent:e}function Hqe(e,t,n=ZXe,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{YBe();const i=KXe(n),o=iWe(t,n,e,r);return i(),XBe(),o});return r?i.unshift(o):i.push(o),o}}const Wqe=e=>(t,n=ZXe)=>{(!rJe||"sp"===e)&&Hqe(e,((...e)=>t(...e)),n)},qqe=Wqe("bm"),Zqe=Wqe("m"),Yqe=Wqe("bu"),Xqe=Wqe("u"),Jqe=Wqe("bum"),Kqe=Wqe("um"),Qqe=Wqe("sp"),eZe=Wqe("rtg"),tZe=Wqe("rtc");function nZe(e,t=ZXe){Hqe("ec",e,t)}const rZe="components",iZe="directives";function oZe(e,t){return cZe(rZe,e,!0,t)||e}const sZe=Symbol.for("v-ndc");function aZe(e){return QGe(e)?cZe(rZe,e,!1)||e:e||sZe}function lZe(e){return cZe(iZe,e)}function cZe(e,t,n=!0,r=!1){const i=IWe||ZXe;if(i){const n=i.type;if(e===rZe){const e=mJe(n,!1);if(e&&(e===t||e===pVe(t)||e===mVe(pVe(t))))return n}const o=uZe(i[e]||n[e],t)||uZe(i.appContext[e],t);return!o&&r?n:o}}function uZe(e,t){return e&&(e[t]||e[pVe(t)]||e[mVe(pVe(t))])}function hZe(e,t,n,r){let i;const o=n&&n[r],s=qGe(e);if(s||QGe(e)){const n=s&&aHe(e);let r=!1;n&&(r=!cHe(e),e=u$e(e)),i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(r?dHe(e[s]):e[s],s,void 0,o&&o[s])}else if("number"==typeof e){i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,o&&o[n])}else if(tVe(e))if(e[Symbol.iterator])i=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);i=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const s=n[r];i[r]=t(e[s],s,r,o&&o[r])}}else i=[];return n&&(n[r]=i),i}function pZe(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(qGe(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function dZe(e,t,n={},r,i){if(IWe.ce||IWe.parent&&Rqe(IWe.parent)&&IWe.parent.ce)return"default"!==t&&(n.name=t),wXe(),MXe(fXe,null,[LXe("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),wXe();const s=o&&fZe(o(n)),a=MXe(fXe,{key:(n.key||s&&s.key||`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&1===e._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function fZe(e){return e.some((e=>!AXe(e)||!(e.type===yXe||e.type===fXe&&!fZe(e.children))))?e:null}function mZe(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:yVe(r)]=e[r];return n}const yZe=e=>e?eJe(e)?pJe(e):yZe(e.parent):null,gZe=BGe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yZe(e.parent),$root:e=>yZe(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>GZe(e),$forceUpdate:e=>e.f||(e.f=()=>{vWe(e.update)}),$nextTick:e=>e.n||(e.n=yWe.bind(e.proxy)),$watch:e=>zYe.bind(e)}),vZe=(e,t)=>e!==FGe&&!e.__isScriptSetup&&WGe(e,t),bZe={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(vZe(r,t))return s[t]=1,r[t];if(i!==FGe&&WGe(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&WGe(c,t))return s[t]=3,o[t];if(n!==FGe&&WGe(n,t))return s[t]=4,n[t];DZe&&(s[t]=0)}}const u=gZe[t];let h,p;return u?("$attrs"===t&&s$e(e.attrs,"get",""),u(e)):(h=a.__cssModules)&&(h=h[t])?h:n!==FGe&&WGe(n,t)?(s[t]=4,n[t]):(p=l.config.globalProperties,WGe(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return vZe(i,t)?(i[t]=n,!0):r!==FGe&&WGe(r,t)?(r[t]=n,!0):!(WGe(e.props,t)||"$"===t[0]&&t.slice(1)in e)&&(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==FGe&&WGe(e,s)||vZe(t,s)||(a=o[0])&&WGe(a,s)||WGe(r,s)||WGe(gZe,s)||WGe(i.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:WGe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},wZe=BGe({},bZe,{get(e,t){if(t!==Symbol.unscopables)return bZe.get(e,t,e)},has(e,t){return"_"!==t[0]&&!LVe(t)}});function _Ze(){return null}function xZe(){return null}function SZe(e){}function TZe(e){}function EZe(){return null}function MZe(){}function AZe(e,t){return null}function IZe(){return OZe().slots}function CZe(){return OZe().attrs}function OZe(){const e=YXe();return e.setupContext||(e.setupContext=hJe(e))}function kZe(e){return qGe(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function RZe(e,t){const n=kZe(e);for(const r in t){if(r.startsWith("__skip"))continue;let e=n[r];e?qGe(e)||KGe(e)?e=n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(e=n[r]={default:t[r]}),e&&t[`__skip_${r}`]&&(e.skipFactory=!0)}return n}function LZe(e,t){return e&&t?qGe(e)&&qGe(t)?e.concat(t):BGe({},kZe(e),kZe(t)):e||t}function NZe(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function PZe(e){const t=YXe();let n=e();return QXe(),nVe(n)&&(n=n.catch((e=>{throw KXe(t),e}))),[n,()=>KXe(t)]}let DZe=!0;function FZe(e){const t=GZe(e),n=e.proxy,r=e.ctx;DZe=!1,t.beforeCreate&&UZe(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:p,beforeUpdate:d,updated:f,activated:m,deactivated:y,beforeDestroy:g,beforeUnmount:v,destroyed:b,unmounted:w,render:_,renderTracked:x,renderTriggered:S,errorCaptured:T,serverPrefetch:E,expose:M,inheritAttrs:A,components:I,directives:C,filters:O}=t;if(c&&jZe(c,r,null),s)for(const R in s){const e=s[R];KGe(e)&&(r[R]=e.bind(n))}if(i){const t=i.call(n,n);tVe(t)&&(e.data=nHe(t))}if(DZe=!0,o)for(const R in o){const e=o[R],t=KGe(e)?e.bind(n,n):KGe(e.get)?e.get.bind(n,n):UGe,i=!KGe(e)&&KGe(e.set)?e.set.bind(n):UGe,s=vJe({get:t,set:i});Object.defineProperty(r,R,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(a)for(const R in a)zZe(a[R],r,n,R);if(l){const e=KGe(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{tYe(t,e[t])}))}function k(e,t){qGe(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(u&&UZe(u,e,"c"),k(qqe,h),k(Zqe,p),k(Yqe,d),k(Xqe,f),k(Uqe,m),k(zqe,y),k(nZe,T),k(tZe,x),k(eZe,S),k(Jqe,v),k(Kqe,w),k(Qqe,E),qGe(M))if(M.length){const t=e.exposed||(e.exposed={});M.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});_&&e.render===UGe&&(e.render=_),null!=A&&(e.inheritAttrs=A),I&&(e.components=I),C&&(e.directives=C),E&&dqe(e)}function jZe(e,t,n=UGe){qGe(e)&&(e=WZe(e));for(const r in e){const n=e[r];let i;i=tVe(n)?"default"in n?nYe(n.from||r,n.default,!0):nYe(n.from||r):nYe(n),mHe(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[r]=i}}function UZe(e,t,n){iWe(qGe(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function zZe(e,t,n,r){let i=r.includes(".")?GYe(n,r):()=>n[r];if(QGe(e)){const n=t[e];KGe(n)&&jYe(i,n)}else if(KGe(e))jYe(i,e.bind(n));else if(tVe(e))if(qGe(e))e.forEach((e=>zZe(e,t,n,r)));else{const r=KGe(e.handler)?e.handler.bind(n):t[e.handler];KGe(r)&&jYe(i,r,e)}}function GZe(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:i.length||n||r?(l={},i.length&&i.forEach((e=>VZe(l,e,s,!0))),VZe(l,t,s)):l=t,tVe(t)&&o.set(t,l),l}function VZe(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&VZe(e,o,n,!0),i&&i.forEach((t=>VZe(e,t,n,!0)));for(const s in t)if(!r||"expose"!==s){const r=BZe[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const BZe={data:$Ze,props:YZe,emits:YZe,methods:ZZe,computed:ZZe,beforeCreate:qZe,created:qZe,beforeMount:qZe,mounted:qZe,beforeUpdate:qZe,updated:qZe,beforeDestroy:qZe,beforeUnmount:qZe,destroyed:qZe,unmounted:qZe,activated:qZe,deactivated:qZe,errorCaptured:qZe,serverPrefetch:qZe,components:ZZe,directives:ZZe,watch:XZe,provide:$Ze,inject:HZe};function $Ze(e,t){return t?e?function(){return BGe(KGe(e)?e.call(this,this):e,KGe(t)?t.call(this,this):t)}:t:e}function HZe(e,t){return ZZe(WZe(e),WZe(t))}function WZe(e){if(qGe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qZe(e,t){return e?[...new Set([].concat(e,t))]:t}function ZZe(e,t){return e?BGe(Object.create(null),e,t):t}function YZe(e,t){return e?qGe(e)&&qGe(t)?[...new Set([...e,...t])]:BGe(Object.create(null),kZe(e),kZe(t??{})):t}function XZe(e,t){if(!e)return t;if(!t)return e;const n=BGe(Object.create(null),e);for(const r in t)n[r]=qZe(e[r],t[r]);return n}function JZe(){return{app:null,config:{isNativeTag:zGe,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KZe=0;function QZe(e,t){return function(n,r=null){KGe(n)||(n=BGe({},n)),null!=r&&!tVe(r)&&(r=null);const i=JZe(),o=new WeakSet,s=[];let a=!1;const l=i.app={_uid:KZe++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:SJe,get config(){return i.config},set config(e){},use(e,...t){return o.has(e)||(e&&KGe(e.install)?(o.add(e),e.install(l,...t)):KGe(e)&&(o.add(e),e(l,...t))),l},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),l},component(e,t){return t?(i.components[e]=t,l):i.components[e]},directive(e,t){return t?(i.directives[e]=t,l):i.directives[e]},mount(o,s,c){if(!a){const u=l._ceVNode||LXe(n,r);return u.appContext=i,!0===c?c="svg":!1===c&&(c=void 0),s&&t?t(u,o):e(u,o,c),a=!0,l._container=o,o.__vue_app__=l,pJe(u.component)}},onUnmount(e){s.push(e)},unmount(){a&&(iWe(s,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return i.provides[e]=t,l},runWithContext(e){const t=eYe;eYe=l;try{return e()}finally{eYe=t}}};return l}}let eYe=null;function tYe(e,t){if(ZXe){let n=ZXe.provides;const r=ZXe.parent&&ZXe.parent.provides;r===n&&(n=ZXe.provides=Object.create(r)),n[e]=t}}function nYe(e,t,n=!1){const r=ZXe||IWe;if(r||eYe){const i=eYe?eYe._context.provides:r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&KGe(t)?t.call(r&&r.proxy):t}}function rYe(){return!!(ZXe||IWe||eYe)}const iYe={},oYe=()=>Object.create(iYe),sYe=e=>Object.getPrototypeOf(e)===iYe;function aYe(e,t,n,r=!1){const i={},o=oYe();e.propsDefaults=Object.create(null),cYe(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:rHe(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function lYe(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=hHe(i),[l]=e.propsOptions;let c=!1;if(!(r||s>0)||16&s){let r;cYe(e,t,i,o)&&(c=!0);for(const o in a)(!t||!WGe(t,o)&&((r=fVe(o))===o||!WGe(t,r)))&&(l?n&&(void 0!==n[o]||void 0!==n[r])&&(i[o]=uYe(l,a,o,void 0,e,!0)):delete i[o]);if(o!==a)for(const e in o)(!t||!WGe(t,e))&&(delete o[e],c=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];if(WYe(e.emitsOptions,s))continue;const u=t[s];if(l)if(WGe(o,s))u!==o[s]&&(o[s]=u,c=!0);else{const t=pVe(s);i[t]=uYe(l,a,t,u,e,!1)}else u!==o[s]&&(o[s]=u,c=!0)}}c&&a$e(e.attrs,"set","")}function cYe(e,t,n,r){const[i,o]=e.propsOptions;let s,a=!1;if(t)for(let l in t){if(lVe(l))continue;const c=t[l];let u;i&&WGe(i,u=pVe(l))?o&&o.includes(u)?(s||(s={}))[u]=c:n[u]=c:WYe(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(o){const t=hHe(n),r=s||FGe;for(let s=0;s<o.length;s++){const a=o[s];n[a]=uYe(i,t,a,r[a],e,!WGe(r,a))}}return a}function uYe(e,t,n,r,i,o){const s=e[n];if(null!=s){const e=WGe(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&!s.skipFactory&&KGe(e)){const{propsDefaults:o}=i;if(n in o)r=o[n];else{const s=KXe(i);r=o[n]=e.call(null,t),s()}}else r=e;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!e?r=!1:s[1]&&(""===r||r===fVe(n))&&(r=!0))}return r}const hYe=new WeakMap;function pYe(e,t,n=!1){const r=n?hYe:t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let l=!1;if(!KGe(e)){const r=e=>{l=!0;const[n,r]=pYe(e,t,!0);BGe(s,n),r&&a.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!o&&!l)return tVe(e)&&r.set(e,jGe),jGe;if(qGe(o))for(let u=0;u<o.length;u++){const e=pVe(o[u]);dYe(e)&&(s[e]=FGe)}else if(o)for(const u in o){const e=pVe(u);if(dYe(e)){const t=o[u],n=s[e]=qGe(t)||KGe(t)?{type:t}:BGe({},t),r=n.type;let i=!1,l=!0;if(qGe(r))for(let e=0;e<r.length;++e){const t=r[e],n=KGe(t)&&t.name;if("Boolean"===n){i=!0;break}"String"===n&&(l=!1)}else i=KGe(r)&&"Boolean"===r.name;n[0]=i,n[1]=l,(i||WGe(n,"default"))&&a.push(e)}}const c=[s,a];return tVe(e)&&r.set(e,c),c}function dYe(e){return"$"!==e[0]&&!lVe(e)}const fYe=e=>"_"===e[0]||"$stable"===e,mYe=e=>qGe(e)?e.map(zXe):[zXe(e)],yYe=(e,t,n)=>{if(t._n)return t;const r=NWe(((...e)=>("production"!==BHe.NODE_ENV&&ZXe&&(!n||(n.root,ZXe.root)),mYe(t(...e)))),n);return r._c=!1,r},gYe=(e,t,n)=>{const r=e._ctx;for(const i in e){if(fYe(i))continue;const n=e[i];if(KGe(n))t[i]=yYe(i,n,r);else if(null!=n){const e=mYe(n);t[i]=()=>e}}},vYe=(e,t)=>{const n=mYe(t);e.slots.default=()=>n},bYe=(e,t,n)=>{for(const r in t)(n||"_"!==r)&&(e[r]=t[r])},wYe=(e,t,n)=>{const r=e.slots=oYe();if(32&e.vnode.shapeFlag){const e=t._;e?(bYe(r,t,n),n&&bVe(r,"_",e,!0)):gYe(t,r)}else t&&vYe(e,t)},_Ye=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=FGe;if(32&r.shapeFlag){const e=t._;e?n&&1===e?o=!1:bYe(i,t,n):(o=!t.$stable,gYe(t,i)),s=t}else t&&(vYe(e,t),s={default:1});if(o)for(const a in i)!fYe(a)&&null==s[a]&&delete i[a]},xYe=hXe;function SYe(e){return EYe(e)}function TYe(e){return EYe(e,xqe)}function EYe(e,t){const n=SVe();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:p,setScopeId:d=UGe,insertStaticContent:f}=e,m=(e,t,n,r=null,i=null,o=null,s=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!IXe(e,t)&&(r=B(e),j(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case mXe:y(e,t,n,r);break;case yXe:g(e,t,n,r);break;case gXe:null==e&&v(t,n,r,s);break;case fXe:I(e,t,n,r,i,o,s,a,l);break;default:1&h?_(e,t,n,r,i,o,s,a,l):6&h?C(e,t,n,r,i,o,s,a,l):(64&h||128&h)&&c.process(e,t,n,r,i,o,s,a,l,W)}null!=u&&i&&mqe(u,e&&e.ref,o,t||e,!t)},y=(e,t,n,i)=>{if(null==e)r(t.el=a(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},g=(e,t,n,i)=>{null==e?r(t.el=l(t.children||""),n,i):t.el=e.el},v=(e,t,n,r)=>{[e.el,e.anchor]=f(e.children,t,n,r,e.el,e.anchor)},b=({el:e,anchor:t},n,i)=>{let o;for(;e&&e!==t;)o=p(e),r(e,n,i),e=o;r(t,n,i)},w=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=p(e),i(e),e=n;i(t)},_=(e,t,n,r,i,o,s,a,l)=>{"svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e?x(t,n,r,i,o,s,a,l):E(e,t,i,o,s,a,l)},x=(e,t,n,i,a,l,c,h)=>{let p,d;const{props:f,shapeFlag:m,transition:y,dirs:g}=e;if(p=e.el=s(e.type,l,f&&f.is,f),8&m?u(p,e.children):16&m&&T(e.children,p,null,i,a,MYe(e,l),c,h),g&&DWe(e,null,i,"created"),S(p,e,e.scopeId,c,i),f){for(const e in f)"value"!==e&&!lVe(e)&&o(p,e,null,f[e],l,i);"value"in f&&o(p,"value",null,f.value,l),(d=f.onVnodeBeforeMount)&&$Xe(d,i,e)}g&&DWe(e,null,i,"beforeMount");const v=IYe(a,y);v&&y.beforeEnter(p),r(p,t,n),((d=f&&f.onVnodeMounted)||v||g)&&xYe((()=>{d&&$Xe(d,i,e),v&&y.enter(p),g&&DWe(e,null,i,"mounted")}),a)},S=(e,t,n,r,i)=>{if(n&&d(e,n),r)for(let o=0;o<r.length;o++)d(e,r[o]);if(i){let n=i.subTree;if(t===n||eXe(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=i.vnode;S(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},T=(e,t,n,r,i,o,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?GXe(e[c]):zXe(e[c]);m(null,l,t,n,r,i,o,s,a)}},E=(e,t,n,r,i,s,a)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:p}=t;c|=16&e.patchFlag;const d=e.props||FGe,f=t.props||FGe;let m;if(n&&AYe(n,!1),(m=f.onVnodeBeforeUpdate)&&$Xe(m,n,t,e),p&&DWe(t,e,n,"beforeUpdate"),n&&AYe(n,!0),(d.innerHTML&&null==f.innerHTML||d.textContent&&null==f.textContent)&&u(l,""),h?M(e.dynamicChildren,h,l,n,r,MYe(t,i),s):a||N(e,t,l,null,n,r,MYe(t,i),s,!1),c>0){if(16&c)A(l,d,f,n,i);else if(2&c&&d.class!==f.class&&o(l,"class",null,f.class,i),4&c&&o(l,"style",d.style,f.style,i),8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t],s=d[r],a=f[r];(a!==s||"value"===r)&&o(l,r,s,a,i,n)}}1&c&&e.children!==t.children&&u(l,t.children)}else!a&&null==h&&A(l,d,f,n,i);((m=f.onVnodeUpdated)||p)&&xYe((()=>{m&&$Xe(m,n,t,e),p&&DWe(t,e,n,"updated")}),r)},M=(e,t,n,r,i,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===fXe||!IXe(l,c)||70&l.shapeFlag)?h(l.el):n;m(l,c,u,null,r,i,o,s,!0)}},A=(e,t,n,r,i)=>{if(t!==n){if(t!==FGe)for(const s in t)!lVe(s)&&!(s in n)&&o(e,s,t[s],null,i,r);for(const s in n){if(lVe(s))continue;const a=n[s],l=t[s];a!==l&&"value"!==s&&o(e,s,l,a,i,r)}"value"in n&&o(e,"value",t.value,n.value,i)}},I=(e,t,n,i,o,s,l,c,u)=>{const h=t.el=e?e.el:a(""),p=t.anchor=e?e.anchor:a("");let{patchFlag:d,dynamicChildren:f,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(r(h,n,i),r(p,n,i),T(t.children||[],n,p,o,s,l,c,u)):d>0&&64&d&&f&&e.dynamicChildren?(M(e.dynamicChildren,f,n,o,s,l,c),(null!=t.key||o&&t===o.subTree)&&CYe(e,t,!0)):N(e,t,n,p,o,s,l,c,u)},C=(e,t,n,r,i,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,l):O(t,n,r,i,o,s,l):k(e,t,l)},O=(e,t,n,r,i,o,s)=>{const a=e.component=qXe(e,r,i);if(Pqe(e)&&(a.ctx.renderer=W),iJe(a,!1,s),a.asyncDep){if(i&&i.registerDep(a,R,s),!e.el){const e=a.subTree=LXe(yXe);g(null,e,t,n)}}else R(a,e,t,n,i,o,s)},k=(e,t,n)=>{const r=t.component=e.component;if(JYe(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void L(r,t,n);r.next=t,r.update()}else t.el=e.el,r.vnode=t},R=(e,t,n,r,i,o,s)=>{const a=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:l,vnode:c}=e;{const n=kYe(e);if(n)return t&&(t.el=c.el,L(e,t,s)),void n.asyncDep.then((()=>{e.isUnmounted||a()}))}let u,p=t;AYe(e,!1),t?(t.el=c.el,L(e,t,s)):t=c,n&&vVe(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&$Xe(u,l,t,c),AYe(e,!0);const d=qYe(e),f=e.subTree;e.subTree=d,m(f,d,h(f.el),B(f),e,i,o),t.el=d.el,null===p&&QYe(e,d.el),r&&xYe(r,i),(u=t.props&&t.props.onVnodeUpdated)&&xYe((()=>$Xe(u,l,t,c)),i)}else{let s;const{el:a,props:l}=t,{bm:c,m:u,parent:h,root:p,type:d}=e,f=Rqe(t);if(AYe(e,!1),c&&vVe(c),!f&&(s=l&&l.onVnodeBeforeMount)&&$Xe(s,h,t),AYe(e,!0),a&&Z){const t=()=>{e.subTree=qYe(e),Z(a,e.subTree,e,i,null)};f&&d.__asyncHydrate?d.__asyncHydrate(a,e,t):t()}else{p.ce&&p.ce._injectChildStyle(d);const s=e.subTree=qYe(e);m(null,s,n,r,e,i,o),t.el=s.el}if(u&&xYe(u,i),!f&&(s=l&&l.onVnodeMounted)){const e=t;xYe((()=>$Xe(s,h,e)),i)}(256&t.shapeFlag||h&&Rqe(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&xYe(e.a,i),e.isMounted=!0,t=n=r=null}};e.scope.on();const l=e.effect=new LBe(a);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>vWe(u),AYe(e,!0),c()},L=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,lYe(e,t.props,r,n),_Ye(e,t.children,n),YBe(),_We(e),XBe()},N=(e,t,n,r,i,o,s,a,l=!1)=>{const c=e&&e.children,h=e?e.shapeFlag:0,p=t.children,{patchFlag:d,shapeFlag:f}=t;if(d>0){if(128&d)return void D(c,p,n,r,i,o,s,a,l);if(256&d)return void P(c,p,n,r,i,o,s,a,l)}8&f?(16&h&&V(c,i,o),p!==c&&u(n,p)):16&h?16&f?D(c,p,n,r,i,o,s,a,l):V(c,i,o,!0):(8&h&&u(n,""),16&f&&T(p,n,r,i,o,s,a,l))},P=(e,t,n,r,i,o,s,a,l)=>{e=e||jGe,t=t||jGe;const c=e.length,u=t.length,h=Math.min(c,u);let p;for(p=0;p<h;p++){const r=t[p]=l?GXe(t[p]):zXe(t[p]);m(e[p],r,n,null,i,o,s,a,l)}c>u?V(e,i,o,!0,!1,h):T(t,n,r,i,o,s,a,l,h)},D=(e,t,n,r,i,o,s,a,l)=>{let c=0;const u=t.length;let h=e.length-1,p=u-1;for(;c<=h&&c<=p;){const r=e[c],u=t[c]=l?GXe(t[c]):zXe(t[c]);if(!IXe(r,u))break;m(r,u,n,null,i,o,s,a,l),c++}for(;c<=h&&c<=p;){const r=e[h],c=t[p]=l?GXe(t[p]):zXe(t[p]);if(!IXe(r,c))break;m(r,c,n,null,i,o,s,a,l),h--,p--}if(c>h){if(c<=p){const e=p+1,h=e<u?t[e].el:r;for(;c<=p;)m(null,t[c]=l?GXe(t[c]):zXe(t[c]),n,h,i,o,s,a,l),c++}}else if(c>p)for(;c<=h;)j(e[c],i,o,!0),c++;else{const d=c,f=c,y=new Map;for(c=f;c<=p;c++){const e=t[c]=l?GXe(t[c]):zXe(t[c]);null!=e.key&&y.set(e.key,c)}let g,v=0;const b=p-f+1;let w=!1,_=0;const x=new Array(b);for(c=0;c<b;c++)x[c]=0;for(c=d;c<=h;c++){const r=e[c];if(v>=b){j(r,i,o,!0);continue}let u;if(null!=r.key)u=y.get(r.key);else for(g=f;g<=p;g++)if(0===x[g-f]&&IXe(r,t[g])){u=g;break}void 0===u?j(r,i,o,!0):(x[u-f]=c+1,u>=_?_=u:w=!0,m(r,t[u],n,null,i,o,s,a,l),v++)}const S=w?OYe(x):jGe;for(g=S.length-1,c=b-1;c>=0;c--){const e=f+c,h=t[e],p=e+1<u?t[e+1].el:r;0===x[c]?m(null,h,n,p,i,o,s,a,l):w&&(g<0||c!==S[g]?F(h,n,p,2):g--)}}},F=(e,t,n,i,o=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)F(e.component.subTree,t,n,i);else if(128&u)e.suspense.move(t,n,i);else if(64&u)a.move(e,t,n,W);else if(a!==fXe)if(a!==gXe)if(2!==i&&1&u&&l)if(0===i)l.beforeEnter(s),r(s,t,n),xYe((()=>l.enter(s)),o);else{const{leave:e,delayLeave:i,afterLeave:o}=l,a=()=>r(s,t,n),c=()=>{e(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else r(s,t,n);else b(e,t,n);else{r(s,t,n);for(let e=0;e<c.length;e++)F(c[e],t,n,i);r(e.anchor,t,n)}},j=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:p,cacheIndex:d}=e;if(-2===h&&(i=!1),null!=a&&mqe(a,null,n,e,!0),null!=d&&(t.renderCache[d]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&p,m=!Rqe(e);let y;if(m&&(y=s&&s.onVnodeBeforeUnmount)&&$Xe(y,t,e),6&u)G(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);f&&DWe(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,W,r):c&&!c.hasOnce&&(o!==fXe||h>0&&64&h)?V(c,t,n,!1,!0):(o===fXe&&384&h||!i&&16&u)&&V(l,t,n),r&&U(e)}(m&&(y=s&&s.onVnodeUnmounted)||f)&&xYe((()=>{y&&$Xe(y,t,e),f&&DWe(e,null,t,"unmounted")}),n)},U=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===fXe)return void z(n,r);if(t===gXe)return void w(e);const s=()=>{i(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,i=()=>t(n,s);r?r(e.el,s,i):i()}else s()},z=(e,t)=>{let n;for(;e!==t;)n=p(e),i(e),e=n;i(t)},G=(e,t,n)=>{const{bum:r,scope:i,job:o,subTree:s,um:a,m:l,a:c}=e;RYe(l),RYe(c),r&&vVe(r),i.stop(),o&&(o.flags|=8,j(s,e,t,n)),a&&xYe(a,t),xYe((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},V=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)j(e[s],t,n,r,i)},B=e=>{if(6&e.shapeFlag)return B(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=p(e.anchor||e.el),n=t&&t[FWe];return n?p(n):t};let $=!1;const H=(e,t,n)=>{null==e?t._vnode&&j(t._vnode,null,null,!0):m(t._vnode||null,e,t,null,null,null,n),t._vnode=e,$||($=!0,_We(),xWe(),$=!1)},W={p:m,um:j,m:F,r:U,mt:O,mc:T,pc:N,pbc:M,n:B,o:e};let q,Z;return t&&([q,Z]=t(W)),{render:H,hydrate:q,createApp:QZe(H,q)}}function MYe({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function AYe({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function IYe(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function CYe(e,t,n=!1){const r=e.children,i=t.children;if(qGe(r)&&qGe(i))for(let o=0;o<r.length;o++){const e=r[o];let t=i[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[o]=GXe(i[o]),t.el=e.el),!n&&-2!==t.patchFlag&&CYe(e,t)),t.type===mXe&&(t.el=e.el)}}function OYe(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function kYe(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:kYe(t)}function RYe(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const LYe=Symbol.for("v-scx"),NYe=()=>nYe(LYe);function PYe(e,t){return UYe(e,null,t)}function DYe(e,t){return UYe(e,null,{flush:"post"})}function FYe(e,t){return UYe(e,null,{flush:"sync"})}function jYe(e,t,n){return UYe(e,t,n)}function UYe(e,t,n=FGe){const{immediate:r,deep:i,flush:o,once:s}=n,a=BGe({},n);let l;if(rJe)if("sync"===o){const e=NYe();l=e.__watcherHandles||(e.__watcherHandles=[])}else{if(t&&!r){const e=()=>{};return e.stop=UGe,e.resume=UGe,e.pause=UGe,e}a.once=!0}const c=ZXe;a.call=(e,t,n)=>iWe(e,c,t,n);let u=!1;"post"===o?a.scheduler=e=>{xYe(e,c&&c.suspense)}:"sync"!==o&&(u=!0,a.scheduler=(e,t)=>{t?e():vWe(e)}),a.augmentJob=e=>{t&&(e.flags|=4),u&&(e.flags|=2,c&&(e.id=c.uid,e.i=c))};const h=GHe(e,t,a);return l&&l.push(h),h}function zYe(e,t,n){const r=this.proxy,i=QGe(e)?e.includes(".")?GYe(r,e):()=>r[e]:e.bind(r,r);let o;KGe(t)?o=t:(o=t.handler,n=t);const s=KXe(this),a=UYe(i,o.bind(r),n);return s(),a}function GYe(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function VYe(e,t,n=FGe){const r=YXe(),i=pVe(t),o=fVe(t),s=BYe(e,t),a=MHe(((s,a)=>{let l,c,u=FGe;return FYe((()=>{const n=e[t];gVe(l,n)&&(l=n,a())})),{get(){return s(),n.get?n.get(l):l},set(e){const s=n.set?n.set(e):e;if(!gVe(s,l)&&(u===FGe||!gVe(e,u)))return;const h=r.vnode.props;h&&(t in h||i in h||o in h)&&(`onUpdate:${t}`in h||`onUpdate:${i}`in h||`onUpdate:${o}`in h)||(l=e,a()),r.emit(`update:${t}`,s),gVe(e,s)&&gVe(e,u)&&!gVe(s,c)&&a(),u=e,c=s}}}));return a[Symbol.iterator]=()=>{let e=0;return{next(){return e<2?{value:e++?s||FGe:a,done:!1}:{done:!0}}}},a}const BYe=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${pVe(t)}Modifiers`]||e[`${fVe(t)}Modifiers`];function $Ye(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||FGe;let i=n;const o=t.startsWith("update:"),s=o&&BYe(r,t.slice(7));s&&(s.trim&&(i=n.map((e=>QGe(e)?e.trim():e))),s.number&&(i=n.map(wVe)));let a,l=r[a=yVe(t)]||r[a=yVe(pVe(t))];!l&&o&&(l=r[a=yVe(fVe(t))]),l&&iWe(l,e,6,i);const c=r[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,iWe(c,e,6,i)}}function HYe(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;const o=e.emits;let s={},a=!1;if(!KGe(e)){const r=e=>{const n=HYe(e,t,!0);n&&(a=!0,BGe(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||a?(qGe(o)?o.forEach((e=>s[e]=null)):BGe(s,o),tVe(e)&&r.set(e,s),s):(tVe(e)&&r.set(e,null),null)}function WYe(e,t){return!(!e||!GGe(t))&&(t=t.slice(2).replace(/Once$/,""),WGe(e,t[0].toLowerCase()+t.slice(1))||WGe(e,fVe(t))||WGe(e,t))}function qYe(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:c,renderCache:u,props:h,data:p,setupState:d,ctx:f,inheritAttrs:m}=e,y=OWe(e);let g,v;try{if(4&n.shapeFlag){const e=i||r,t="production"!==BHe.NODE_ENV&&d.__isScriptSetup?new Proxy(e,{get(e,t,n){return ZHe(`Property '${String(t)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(e,t,n)}}):e;g=zXe(c.call(t,e,u,"production"!==BHe.NODE_ENV?oHe(h):h,d,p,f)),v=a}else{const e=t;BHe.NODE_ENV,g=zXe(e.length>1?e("production"!==BHe.NODE_ENV?oHe(h):h,"production"!==BHe.NODE_ENV?{get attrs(){return oHe(a)},slots:s,emit:l}:{attrs:a,slots:s,emit:l}):e("production"!==BHe.NODE_ENV?oHe(h):h,null)),v=t.props?a:YYe(a)}}catch(w){vXe.length=0,oWe(w,e,1),g=LXe(yXe)}let b=g;if(v&&!1!==m){const e=Object.keys(v),{shapeFlag:t}=b;e.length&&7&t&&(o&&e.some(VGe)&&(v=XYe(v,o)),b=DXe(b,v,!1,!0))}return n.dirs&&(b=DXe(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&cqe(b,n.transition),g=b,OWe(y),g}function ZYe(e,t=!0){let n;for(let r=0;r<e.length;r++){const t=e[r];if(!AXe(t))return;if(t.type!==yXe||"v-if"===t.children){if(n)return;n=t}}return n}const YYe=e=>{let t;for(const n in e)("class"===n||"style"===n||GGe(n))&&((t||(t={}))[n]=e[n]);return t},XYe=(e,t)=>{const n={};for(const r in e)(!VGe(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function JYe(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||KYe(r,s,c):!!s);if(1024&l)return!0;if(16&l)return r?KYe(r,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!WYe(c,n))return!0}}return!1}function KYe(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!WYe(n,o))return!0}return!1}function QYe({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const eXe=e=>e.__isSuspense;let tXe=0;const nXe={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,s,a,l,c){if(null==e)oXe(t,n,r,i,o,s,a,l,c);else{if(o&&o.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);sXe(e,t,n,r,i,s,a,l,c)}},hydrate:lXe,normalize:cXe},rXe=nXe;function iXe(e,t){const n=e.props&&e.props[t];KGe(n)&&n()}function oXe(e,t,n,r,i,o,s,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),p=e.suspense=aXe(e,i,r,t,h,n,o,s,a,l);c(null,p.pendingBranch=e.ssContent,h,null,r,p,o,s),p.deps>0?(iXe(e,"onPending"),iXe(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,o,s),pXe(p,e.ssFallback)):p.resolve(!1,!0)}function sXe(e,t,n,r,i,o,s,a,{p:l,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const p=t.ssContent,d=t.ssFallback,{activeBranch:f,pendingBranch:m,isInFallback:y,isHydrating:g}=h;if(m)h.pendingBranch=p,IXe(p,m)?(l(m,p,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0?h.resolve():y&&(g||(l(f,d,n,r,i,null,o,s,a),pXe(h,d)))):(h.pendingId=tXe++,g?(h.isHydrating=!1,h.activeBranch=m):c(m,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),y?(l(null,p,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0?h.resolve():(l(f,d,n,r,i,null,o,s,a),pXe(h,d))):f&&IXe(p,f)?(l(f,p,n,r,i,h,o,s,a),h.resolve(!0)):(l(null,p,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0&&h.resolve()));else if(f&&IXe(p,f))l(f,p,n,r,i,h,o,s,a),pXe(h,p);else if(iXe(t,"onPending"),h.pendingBranch=p,512&p.shapeFlag?h.pendingId=p.component.suspenseId:h.pendingId=tXe++,l(null,p,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout((()=>{h.pendingId===t&&h.fallback(d)}),e):0===e&&h.fallback(d)}}function aXe(e,t,n,r,i,o,s,a,l,c,u=!1){const{p:h,m:p,um:d,n:f,o:{parentNode:m,remove:y}}=c;let g;const v=dXe(e);v&&t&&t.pendingBranch&&(g=t.pendingId,t.deps++);const b=e.props?_Ve(e.props.timeout):void 0,w=o,_={vnode:e,parent:t,parentComponent:n,namespace:s,container:r,hiddenContainer:i,deps:0,pendingId:tXe++,timeout:"number"==typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:r,activeBranch:i,pendingBranch:s,pendingId:a,effects:l,parentComponent:c,container:u}=_;let h=!1;_.isHydrating?_.isHydrating=!1:e||(h=i&&s.transition&&"out-in"===s.transition.mode,h&&(i.transition.afterLeave=()=>{a===_.pendingId&&(p(s,u,o===w?f(i):o,0),wWe(l))}),i&&(m(i.el)===u&&(o=f(i)),d(i,c,_,!0)),h||p(s,u,o,0)),pXe(_,s),_.pendingBranch=null,_.isInFallback=!1;let y=_.parent,b=!1;for(;y;){if(y.pendingBranch){y.effects.push(...l),b=!0;break}y=y.parent}!b&&!h&&wWe(l),_.effects=[],v&&t&&t.pendingBranch&&g===t.pendingId&&(t.deps--,0===t.deps&&!n&&t.resolve()),iXe(r,"onResolve")},fallback(e){if(!_.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:i,namespace:o}=_;iXe(t,"onFallback");const s=f(n),c=()=>{_.isInFallback&&(h(null,e,i,s,r,null,o,a,l),pXe(_,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=c),_.isInFallback=!0,d(n,r,null,!0),u||c()},move(e,t,n){_.activeBranch&&p(_.activeBranch,e,t,n),_.container=e},next(){return _.activeBranch&&f(_.activeBranch)},registerDep(e,t,n){const r=!!_.pendingBranch;r&&_.deps++;const i=e.vnode.el;e.asyncDep.catch((t=>{oWe(t,e,0)})).then((o=>{if(e.isUnmounted||_.isUnmounted||_.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:a}=e;sJe(e,o,!1),i&&(a.el=i);const l=!i&&e.subTree.el;t(e,a,m(i||e.subTree.el),i?null:f(e.subTree),_,s,n),l&&y(l),QYe(e,a.el),r&&0===--_.deps&&_.resolve()}))},unmount(e,t){_.isUnmounted=!0,_.activeBranch&&d(_.activeBranch,n,e,t),_.pendingBranch&&d(_.pendingBranch,n,e,t)}};return _}function lXe(e,t,n,r,i,o,s,a,l){const c=t.suspense=aXe(t,r,n,e.parentNode,document.createElement("div"),null,i,o,s,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,o,s);return 0===c.deps&&c.resolve(!1,!0),u}function cXe(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=uXe(r?n.default:n),e.ssFallback=r?uXe(n.fallback):LXe(yXe)}function uXe(e){let t;if(KGe(e)){const n=xXe&&e._c;n&&(e._d=!1,wXe()),e=e(),n&&(e._d=!0,t=bXe,_Xe())}return qGe(e)&&(e=ZYe(e)),e=zXe(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function hXe(e,t){t&&t.pendingBranch?qGe(e)?t.effects.push(...e):t.effects.push(e):wWe(e)}function pXe(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,QYe(r,i))}function dXe(e){const t=e.props&&e.props.suspensible;return null!=t&&!1!==t}const fXe=Symbol.for("v-fgt"),mXe=Symbol.for("v-txt"),yXe=Symbol.for("v-cmt"),gXe=Symbol.for("v-stc"),vXe=[];let bXe=null;function wXe(e=!1){vXe.push(bXe=e?null:[])}function _Xe(){vXe.pop(),bXe=vXe[vXe.length-1]||null}let xXe=1;function SXe(e){xXe+=e,e<0&&bXe&&(bXe.hasOnce=!0)}function TXe(e){return e.dynamicChildren=xXe>0?bXe||jGe:null,_Xe(),xXe>0&&bXe&&bXe.push(e),e}function EXe(e,t,n,r,i,o){return TXe(RXe(e,t,n,r,i,o,!0))}function MXe(e,t,n,r,i){return TXe(LXe(e,t,n,r,i,!0))}function AXe(e){return!!e&&!0===e.__v_isVNode}function IXe(e,t){return e.type===t.type&&e.key===t.key}function CXe(e){}const OXe=({key:e})=>e??null,kXe=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?QGe(e)||mHe(e)||KGe(e)?{i:IWe,r:e,k:t,f:!!n}:e:null);function RXe(e,t=null,n=null,r=0,i=null,o=(e===fXe?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&OXe(t),ref:t&&kXe(t),scopeId:CWe,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:IWe};return a?(VXe(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=QGe(n)?8:16),xXe>0&&!s&&bXe&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&bXe.push(l),l}const LXe=NXe;function NXe(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===sZe)&&(e=yXe),AXe(e)){const r=DXe(e,t,!0);return n&&VXe(r,n),xXe>0&&!o&&bXe&&(6&r.shapeFlag?bXe[bXe.indexOf(e)]=r:bXe.push(r)),r.patchFlag=-2,r}if(gJe(e)&&(e=e.__vccOpts),t){t=PXe(t);let{class:e,style:n}=t;e&&!QGe(e)&&(t.class=BVe(e)),tVe(n)&&(uHe(n)&&!qGe(n)&&(n=BGe({},n)),t.style=FVe(n))}const s=QGe(e)?1:eXe(e)?128:jWe(e)?64:tVe(e)?4:KGe(e)?2:0;return RXe(e,t,n,r,i,s,o,!0)}function PXe(e){return e?uHe(e)||sYe(e)?BGe({},e):e:null}function DXe(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=e,c=t?BXe(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&OXe(c),ref:t&&t.ref?n&&o?qGe(o)?o.concat(kXe(t)):[o,kXe(t)]:kXe(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fXe?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&DXe(e.ssContent),ssFallback:e.ssFallback&&DXe(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&cqe(u,l.clone(u)),u}function FXe(e=" ",t=0){return LXe(mXe,null,e,t)}function jXe(e,t){const n=LXe(gXe,null,e);return n.staticCount=t,n}function UXe(e="",t=!1){return t?(wXe(),MXe(yXe,null,e)):LXe(yXe,null,e)}function zXe(e){return null==e||"boolean"==typeof e?LXe(yXe):qGe(e)?LXe(fXe,null,e.slice()):AXe(e)?GXe(e):LXe(mXe,null,String(e))}function GXe(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:DXe(e)}function VXe(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(qGe(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),VXe(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||sYe(t)?3===r&&IWe&&(1===IWe.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=IWe}}else KGe(t)?(t={default:t,_ctx:IWe},n=32):(t=String(t),64&r?(n=16,t=[FXe(t)]):n=8);e.children=t,e.shapeFlag|=n}function BXe(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=BVe([t.class,r.class]));else if("style"===e)t.style=FVe([t.style,r.style]);else if(GGe(e)){const n=t[e],i=r[e];i&&n!==i&&(!qGe(n)||!n.includes(i))&&(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=r[e])}return t}function $Xe(e,t,n,r=null){iWe(e,t,7,[n,r])}const HXe=JZe();let WXe=0;function qXe(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||HXe,o={uid:WXe++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new IBe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pYe(r,i),emitsOptions:HYe(r,i),emit:null,emitted:null,propsDefaults:FGe,inheritAttrs:r.inheritAttrs,ctx:FGe,data:FGe,props:FGe,attrs:FGe,slots:FGe,refs:FGe,setupState:FGe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=$Ye.bind(null,o),e.ce&&e.ce(o),o}let ZXe=null;const YXe=()=>ZXe||IWe;let XXe,JXe;{const e=SVe(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach((t=>t(e))):r[0](e)}};XXe=t("__VUE_INSTANCE_SETTERS__",(e=>ZXe=e)),JXe=t("__VUE_SSR_SETTERS__",(e=>rJe=e))}const KXe=e=>{const t=ZXe;return XXe(e),e.scope.on(),()=>{e.scope.off(),XXe(t)}},QXe=()=>{ZXe&&ZXe.scope.off(),XXe(null)};function eJe(e){return 4&e.vnode.shapeFlag}let tJe,nJe,rJe=!1;function iJe(e,t=!1,n=!1){t&&JXe(t);const{props:r,children:i}=e.vnode,o=eJe(e);aYe(e,r,o,t),wYe(e,i,n);const s=o?oJe(e,t):void 0;return t&&JXe(!1),s}function oJe(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,bZe);const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?hJe(e):null,i=KXe(e);YBe();const o=rWe(r,e,0,[e.props,n]);if(XBe(),i(),nVe(o)){if(Rqe(e)||dqe(e),o.then(QXe,QXe),t)return o.then((n=>{sJe(e,n,t)})).catch((t=>{oWe(t,e,0)}));e.asyncDep=o}else sJe(e,o,t)}else cJe(e,t)}function sJe(e,t,n){KGe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:tVe(t)&&(e.setupState=THe(t)),cJe(e,n)}function aJe(e){tJe=e,nJe=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,wZe))}}const lJe=()=>!tJe;function cJe(e,t,n){const r=e.type;if(!e.render){if(!t&&tJe&&!r.render){const t=r.template||GZe(e).template;if(t){const{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:o,compilerOptions:s}=r,a=BGe(BGe({isCustomElement:n,delimiters:o},i),s);r.render=tJe(t,a)}}e.render=r.render||UGe,nJe&&nJe(e)}{const t=KXe(e);YBe();try{FZe(e)}finally{XBe(),t()}}}const uJe={get(e,t){return s$e(e,"get",""),e[t]}};function hJe(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,uJe),slots:e.slots,emit:e.emit,expose:t}}function pJe(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(THe(pHe(e.exposed)),{get(t,n){return n in t?t[n]:n in gZe?gZe[n](e):void 0},has(e,t){return t in e||t in gZe}})):e.proxy}const dJe=/(?:^|[-_])(\w)/g,fJe=e=>e.replace(dJe,(e=>e.toUpperCase())).replace(/[-_]/g,"");function mJe(e,t=!0){return KGe(e)?e.displayName||e.name:e.name||t&&e.__name}function yJe(e,t,n=!1){let r=mJe(t);if(!r&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(r=e[1])}if(!r&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};r=n(e.components||e.parent.type.components)||n(e.appContext.components)}return r?fJe(r):n?"App":"Anonymous"}function gJe(e){return KGe(e)&&"__vccOpts"in e}const vJe=(e,t)=>LHe(e,t,rJe);function bJe(e,t,n){const r=arguments.length;return 2===r?tVe(t)&&!qGe(t)?AXe(t)?LXe(e,null,[t]):LXe(e,t):LXe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&AXe(n)&&(n=[n]),LXe(e,t,n))}function wJe(){}function _Je(e,t,n,r){const i=n[r];if(i&&xJe(i,e))return i;const o=t();return o.memo=e.slice(),o.cacheIndex=r,n[r]=o}function xJe(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(gVe(n[r],t[r]))return!1;return xXe>0&&bXe&&bXe.push(e),!0}const SJe="3.5.9",TJe=UGe,EJe=nWe,MJe=EWe,AJe=AWe,IJe={createComponentInstance:qXe,setupComponent:iJe,renderComponentRoot:qYe,setCurrentRenderingInstance:OWe,isVNode:AXe,normalizeVNode:zXe,getComponentPublicInstance:pJe,ensureValidVNode:fZe,pushWarningContext:HHe,popWarningContext:WHe},CJe=IJe,OJe=null,kJe=null,RJe=null;let LJe;const NJe=typeof window<"u"&&window.trustedTypes;if(NJe)try{LJe=NJe.createPolicy("vue",{createHTML:e=>e})}catch{}const PJe=LJe?e=>LJe.createHTML(e):e=>e,DJe="http://www.w3.org/2000/svg",FJe="http://www.w3.org/1998/Math/MathML",jJe=typeof document<"u"?document:null,UJe=jJe&&jJe.createElement("template"),zJe={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i="svg"===t?jJe.createElementNS(DJe,e):"mathml"===t?jJe.createElementNS(FJe,e):n?jJe.createElement(e,{is:n}):jJe.createElement(e);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>jJe.createTextNode(e),createComment:e=>jJe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jJe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==o&&(i=i.nextSibling););else{UJe.innerHTML=PJe("svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e);const i=UJe.content;if("svg"===r||"mathml"===r){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},GJe="transition",VJe="animation",BJe=Symbol("_vtc"),$Je={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},HJe=BGe({},eqe,$Je),WJe=e=>(e.displayName="Transition",e.props=HJe,e),qJe=WJe(((e,{slots:t})=>bJe(iqe,XJe(e),t))),ZJe=(e,t=[])=>{qGe(e)?e.forEach((e=>e(...t))):e&&e(...t)},YJe=e=>!!e&&(qGe(e)?e.some((e=>e.length>1)):e.length>1);function XJe(e){const t={};for(const I in e)I in $Je||(t[I]=e[I]);if(!1===e.css)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,f=JJe(i),m=f&&f[0],y=f&&f[1],{onBeforeEnter:g,onEnter:v,onEnterCancelled:b,onLeave:w,onLeaveCancelled:_,onBeforeAppear:x=g,onAppear:S=v,onAppearCancelled:T=b}=t,E=(e,t,n)=>{eKe(e,t?u:a),eKe(e,t?c:s),n&&n()},M=(e,t)=>{e._isLeaving=!1,eKe(e,h),eKe(e,d),eKe(e,p),t&&t()},A=e=>(t,n)=>{const i=e?S:v,s=()=>E(t,e,n);ZJe(i,[t,s]),tKe((()=>{eKe(t,e?l:o),QJe(t,e?u:a),YJe(i)||rKe(t,r,m,s)}))};return BGe(t,{onBeforeEnter(e){ZJe(g,[e]),QJe(e,o),QJe(e,s)},onBeforeAppear(e){ZJe(x,[e]),QJe(e,l),QJe(e,c)},onEnter:A(!1),onAppear:A(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>M(e,t);QJe(e,h),QJe(e,p),aKe(),tKe((()=>{e._isLeaving&&(eKe(e,h),QJe(e,d),YJe(w)||rKe(e,r,y,n))})),ZJe(w,[e,n])},onEnterCancelled(e){E(e,!1),ZJe(b,[e])},onAppearCancelled(e){E(e,!0),ZJe(T,[e])},onLeaveCancelled(e){M(e),ZJe(_,[e])}})}function JJe(e){if(null==e)return null;if(tVe(e))return[KJe(e.enter),KJe(e.leave)];{const t=KJe(e);return[t,t]}}function KJe(e){return _Ve(e)}function QJe(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[BJe]||(e[BJe]=new Set)).add(t)}function eKe(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[BJe];n&&(n.delete(t),n.size||(e[BJe]=void 0))}function tKe(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let nKe=0;function rKe(e,t,n,r){const i=e._endId=++nKe,o=()=>{i===e._endId&&r()};if(null!=n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=iKe(e,t);if(!s)return r();const c=s+"end";let u=0;const h=()=>{e.removeEventListener(c,p),o()},p=t=>{t.target===e&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),e.addEventListener(c,p)}function iKe(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(`${GJe}Delay`),o=r(`${GJe}Duration`),s=oKe(i,o),a=r(`${VJe}Delay`),l=r(`${VJe}Duration`),c=oKe(a,l);let u=null,h=0,p=0;t===GJe?s>0&&(u=GJe,h=s,p=o.length):t===VJe?c>0&&(u=VJe,h=c,p=l.length):(h=Math.max(s,c),u=h>0?s>c?GJe:VJe:null,p=u?u===GJe?o.length:l.length:0);const d=u===GJe&&/\b(transform|all)(,|$)/.test(r(`${GJe}Property`).toString());return{type:u,timeout:h,propCount:p,hasTransform:d}}function oKe(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>sKe(t)+sKe(e[n]))))}function sKe(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function aKe(){return document.body.offsetHeight}function lKe(e,t,n){const r=e[BJe];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const cKe=Symbol("_vod"),uKe=Symbol("_vsh"),hKe={beforeMount(e,{value:t},{transition:n}){e[cKe]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):pKe(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),pKe(e,!0),r.enter(e)):r.leave(e,(()=>{pKe(e,!1)})):pKe(e,t))},beforeUnmount(e,{value:t}){pKe(e,t)}};function pKe(e,t){e.style.display=t?e[cKe]:"none",e[uKe]=!t}function dKe(){hKe.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const fKe=Symbol("");function mKe(e){const t=YXe();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>gKe(e,n)))},r=()=>{const r=e(t.proxy);t.ce?gKe(t.ce,r):yKe(t.subTree,r),n(r)};qqe((()=>{DYe(r)})),Zqe((()=>{const e=new MutationObserver(r);e.observe(t.subTree.el.parentNode,{childList:!0}),Kqe((()=>e.disconnect()))}))}function yKe(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{yKe(n.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)gKe(e.el,t);else if(e.type===fXe)e.children.forEach((e=>yKe(e,t)));else if(e.type===gXe){let{el:n,anchor:r}=e;for(;n&&(gKe(n,t),n!==r);)n=n.nextSibling}}function gKe(e,t){if(1===e.nodeType){const n=e.style;let r="";for(const e in t)n.setProperty(`--${e}`,t[e]),r+=`--${e}: ${t[e]};`;n[fKe]=r}}const vKe=/(^|;)\s*display\s*:/;function bKe(e,t,n){const r=e.style,i=QGe(n);let o=!1;if(n&&!i){if(t)if(QGe(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&_Ke(r,t,"")}else for(const e in t)null==n[e]&&_Ke(r,e,"");for(const e in n)"display"===e&&(o=!0),_Ke(r,e,n[e])}else if(i){if(t!==n){const e=r[fKe];e&&(n+=";"+e),r.cssText=n,o=vKe.test(n)}}else t&&e.removeAttribute("style");cKe in e&&(e[cKe]=o?r.display:"",e[uKe]&&(r.display="none"))}const wKe=/\s*!important$/;function _Ke(e,t,n){if(qGe(n))n.forEach((n=>_Ke(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=TKe(e,t);wKe.test(n)?e.setProperty(fVe(r),n.replace(wKe,""),"important"):e[r]=n}}const xKe=["Webkit","Moz","ms"],SKe={};function TKe(e,t){const n=SKe[t];if(n)return n;let r=pVe(t);if("filter"!==r&&r in e)return SKe[t]=r;r=mVe(r);for(let i=0;i<xKe.length;i++){const n=xKe[i]+r;if(n in e)return SKe[t]=n}return t}const EKe="http://www.w3.org/1999/xlink";function MKe(e,t,n,r,i,o=eBe(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(EKe,t.slice(6,t.length)):e.setAttributeNS(EKe,t,n):null==n||o&&!nBe(n)?e.removeAttribute(t):e.setAttribute(t,o?"":eVe(n)?String(n):n)}function AKe(e,t,n,r){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?PJe(n):n));const i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){const r="OPTION"===i?e.getAttribute("value")||"":e.value,o=null==n?"checkbox"===e.type?"on":"":String(n);return(r!==o||!("_value"in e))&&(e.value=o),null==n&&e.removeAttribute(t),void(e._value=n)}let o=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=nBe(n):null==n&&"string"===r?(n="",o=!0):"number"===r&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(t)}function IKe(e,t,n,r){e.addEventListener(t,n,r)}function CKe(e,t,n,r){e.removeEventListener(t,n,r)}const OKe=Symbol("_vei");function kKe(e,t,n,r,i=null){const o=e[OKe]||(e[OKe]={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=LKe(t);if(r){const s=o[t]=FKe(r,i);IKe(e,n,s,a)}else s&&(CKe(e,n,s,a),o[t]=void 0)}}const RKe=/(?:Once|Passive|Capture)$/;function LKe(e){let t;if(RKe.test(e)){let n;for(t={};n=e.match(RKe);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):fVe(e.slice(2)),t]}let NKe=0;const PKe=Promise.resolve(),DKe=()=>NKe||(PKe.then((()=>NKe=0)),NKe=Date.now());function FKe(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();iWe(jKe(e,n.value),t,5,[e])};return n.value=e,n.attached=DKe(),n}function jKe(e,t){if(qGe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const UKe=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zKe=(e,t,n,r,i,o)=>{const s="svg"===i;"class"===t?lKe(e,r,s):"style"===t?bKe(e,n,r):GGe(t)?VGe(t)||kKe(e,t,n,r,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):GKe(e,t,r,s))?(AKe(e,t,r),!e.tagName.includes("-")&&("value"===t||"checked"===t||"selected"===t)&&MKe(e,t,r,s,o,"value"!==t)):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),MKe(e,t,r,s))};function GKe(e,t,n,r){if(r)return!!("innerHTML"===t||"textContent"===t||t in e&&UKe(t)&&KGe(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"form"===t||"list"===t&&"INPUT"===e.tagName||"type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!UKe(t)||!QGe(n))&&!(!(t in e)&&(!e._isVueCE||!/[A-Z]/.test(t)&&QGe(n)))}const VKe={};function BKe(e,t,n){const r=hqe(e,t);sVe(r)&&BGe(r,t);class i extends WKe{constructor(e){super(r,e,n)}}return i.def=r,i}const $Ke=(e,t)=>BKe(e,t,DQe),HKe=typeof HTMLElement<"u"?HTMLElement:class{};class WKe extends HKe{constructor(e,t={},n=PQe){super(),this._def=e,this._props=t,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==PQe?this._root=this.shadowRoot:!1!==e.shadowRoot?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof WKe){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then((()=>{this._pendingResolve=void 0,this._resolveDef()})):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,yWe((()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)}))}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})),this._ob.observe(this,{attributes:!0});const e=(e,t=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:r}=e;let i;if(n&&!qGe(n))for(const o in n){const e=n[o];(e===Number||e&&e.type===Number)&&(o in this._props&&(this._props[o]=_Ve(this._props[o])),(i||(i=Object.create(null)))[pVe(o)]=!0)}this._numberProps=i,t&&this._resolveProps(e),this.shadowRoot&&this._applyStyles(r),this._mount(e)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then((t=>e(this._def=t,!0))):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const t=this._instance&&this._instance.exposed;if(t)for(const n in t)WGe(this,n)||Object.defineProperty(this,n,{get:()=>_He(t[n])})}_resolveProps(e){const{props:t}=e,n=qGe(t)?t:Object.keys(t||{});for(const r of Object.keys(this))"_"!==r[0]&&n.includes(r)&&this._setProp(r,this[r]);for(const r of n.map(pVe))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(e){this._setProp(r,e,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const t=this.hasAttribute(e);let n=t?this.getAttribute(e):VKe;const r=pVe(e);t&&this._numberProps&&this._numberProps[r]&&(n=_Ve(n)),this._setProp(r,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!1){t!==this._props[e]&&(t===VKe?delete this._props[e]:(this._props[e]=t,"key"===e&&this._app&&(this._app._ceVNode.key=t)),r&&this._instance&&this._update(),n&&(!0===t?this.setAttribute(fVe(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(fVe(e),t+""):t||this.removeAttribute(fVe(e))))}_update(){LQe(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const t=LXe(this._def,BGe(e,this._props));return this._instance||(t.ce=e=>{this._instance=e,e.ce=this,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,sVe(t[0])?BGe({detail:t},t[0]):{detail:t}))};e.emit=(e,...n)=>{t(e,n),fVe(e)!==e&&t(fVe(e),n)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}const n=this._nonce;for(let r=e.length-1;r>=0;r--){const t=document.createElement("style");n&&t.setAttribute("nonce",n),t.textContent=e[r],this.shadowRoot.prepend(t)}}_parseSlots(){const e=this._slots={};let t;for(;t=this.firstChild;){const n=1===t.nodeType&&t.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(t),this.removeChild(t)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),t=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const r=e[n],i=r.getAttribute("name")||"default",o=this._slots[i],s=r.parentNode;if(o)for(const e of o){if(t&&1===e.nodeType){const n=t+"-s",r=document.createTreeWalker(e,1);let i;for(e.setAttribute(n,"");i=r.nextNode();)i.setAttribute(n,"")}s.insertBefore(e,r)}else for(;r.firstChild;)s.insertBefore(r.firstChild,r);s.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function qKe(e){const t=YXe();return t&&t.ce||null}function ZKe(){const e=qKe();return e&&e.shadowRoot}function YKe(e="$style"){{const t=YXe();if(!t)return FGe;const n=t.type.__cssModules;return n&&n[e]||FGe}}const XKe=new WeakMap,JKe=new WeakMap,KKe=Symbol("_moveCb"),QKe=Symbol("_enterCb"),eQe=e=>(delete e.props.mode,e),tQe=eQe({name:"TransitionGroup",props:BGe({},HJe,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=YXe(),r=KWe();let i,o;return Xqe((()=>{if(!i.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!sQe(i[0].el,n.vnode.el,t))return;i.forEach(rQe),i.forEach(iQe);const r=i.filter(oQe);aKe(),r.forEach((e=>{const n=e.el,r=n.style;QJe(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n[KKe]=e=>{e&&e.target!==n||(!e||/transform$/.test(e.propertyName))&&(n.removeEventListener("transitionend",i),n[KKe]=null,eKe(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const s=hHe(e),a=XJe(s);let l=s.tag||fXe;if(i=[],o)for(let e=0;e<o.length;e++){const t=o[e];t.el&&t.el instanceof Element&&(i.push(t),cqe(t,sqe(t,a,r,n)),XKe.set(t,t.el.getBoundingClientRect()))}o=t.default?uqe(t.default()):[];for(let e=0;e<o.length;e++){const t=o[e];null!=t.key&&cqe(t,sqe(t,a,r,n))}return LXe(l,null,o)}}}),nQe=tQe;function rQe(e){const t=e.el;t[KKe]&&t[KKe](),t[QKe]&&t[QKe]()}function iQe(e){JKe.set(e,e.el.getBoundingClientRect())}function oQe(e){const t=XKe.get(e),n=JKe.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function sQe(e,t,n){const r=e.cloneNode(),i=e[BJe];i&&i.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=iKe(r);return o.removeChild(r),s}const aQe=e=>{const t=e.props["onUpdate:modelValue"]||!1;return qGe(t)?e=>vVe(t,e):t};function lQe(e){e.target.composing=!0}function cQe(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const uQe=Symbol("_assign"),hQe={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[uQe]=aQe(i);const o=r||i.props&&"number"===i.props.type;IKe(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),o&&(r=wVe(r)),e[uQe](r)})),n&&IKe(e,"change",(()=>{e.value=e.value.trim()})),t||(IKe(e,"compositionstart",lQe),IKe(e,"compositionend",cQe),IKe(e,"change",cQe))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(e[uQe]=aQe(s),e.composing)return;const a=!o&&"number"!==e.type||/^0\d/.test(e.value)?e.value:wVe(e.value),l=t??"";a!==l&&(document.activeElement===e&&"range"!==e.type&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},pQe={deep:!0,created(e,t,n){e[uQe]=aQe(n),IKe(e,"change",(()=>{const t=e._modelValue,n=gQe(e),r=e.checked,i=e[uQe];if(qGe(t)){const e=bBe(t,n),o=-1!==e;if(r&&!o)i(t.concat(n));else if(!r&&o){const n=[...t];n.splice(e,1),i(n)}}else if(YGe(t)){const e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(vQe(e,r))}))},mounted:dQe,beforeUpdate(e,t,n){e[uQe]=aQe(n),dQe(e,t,n)}};function dQe(e,{value:t},n){let r;e._modelValue=t,r=qGe(t)?bBe(t,n.props.value)>-1:YGe(t)?t.has(n.props.value):vBe(t,vQe(e,!0)),e.checked!==r&&(e.checked=r)}const fQe={created(e,{value:t},n){e.checked=vBe(t,n.props.value),e[uQe]=aQe(n),IKe(e,"change",(()=>{e[uQe](gQe(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e[uQe]=aQe(r),t!==n&&(e.checked=vBe(t,r.props.value))}},mQe={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=YGe(t);IKe(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?wVe(gQe(e)):gQe(e)));e[uQe](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,yWe((()=>{e._assigning=!1}))})),e[uQe]=aQe(r)},mounted(e,{value:t}){yQe(e,t)},beforeUpdate(e,t,n){e[uQe]=aQe(n)},updated(e,{value:t}){e._assigning||yQe(e,t)}};function yQe(e,t){const n=e.multiple,r=qGe(t);if(!n||r||YGe(t)){for(let i=0,o=e.options.length;i<o;i++){const o=e.options[i],s=gQe(o);if(n)if(r){const e=typeof s;o.selected="string"===e||"number"===e?t.some((e=>String(e)===String(s))):bBe(t,s)>-1}else o.selected=t.has(s);else if(vBe(gQe(o),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}!n&&-1!==e.selectedIndex&&(e.selectedIndex=-1)}}function gQe(e){return"_value"in e?e._value:e.value}function vQe(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const bQe={created(e,t,n){_Qe(e,t,n,null,"created")},mounted(e,t,n){_Qe(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){_Qe(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){_Qe(e,t,n,r,"updated")}};function wQe(e,t){switch(e){case"SELECT":return mQe;case"TEXTAREA":return hQe;default:switch(t){case"checkbox":return pQe;case"radio":return fQe;default:return hQe}}}function _Qe(e,t,n,r,i){const o=wQe(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,r)}function xQe(){hQe.getSSRProps=({value:e})=>({value:e}),fQe.getSSRProps=({value:e},t)=>{if(t.props&&vBe(t.props.value,e))return{checked:!0}},pQe.getSSRProps=({value:e},t)=>{if(qGe(e)){if(t.props&&bBe(e,t.props.value)>-1)return{checked:!0}}else if(YGe(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},bQe.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const n=wQe(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0}}const SQe=["ctrl","shift","alt","meta"],TQe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>SQe.some((n=>e[`${n}Key`]&&!t.includes(n)))},EQe=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=TQe[t[e]];if(r&&r(n,t))return}return e(n,...r)})},MQe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},AQe=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=fVe(n.key);return t.some((e=>e===r||MQe[e]===r))?e(n):void 0})},IQe=BGe({patchProp:zKe},zJe);let CQe,OQe=!1;function kQe(){return CQe||(CQe=SYe(IQe))}function RQe(){return CQe=OQe?CQe:TYe(IQe),OQe=!0,CQe}const LQe=(...e)=>{kQe().render(...e)},NQe=(...e)=>{RQe().hydrate(...e)},PQe=(...e)=>{const t=kQe().createApp(...e),{mount:n}=t;return t.mount=e=>{const r=jQe(e);if(!r)return;const i=t._component;!KGe(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const o=n(r,!1,FQe(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},DQe=(...e)=>{const t=RQe().createApp(...e),{mount:n}=t;return t.mount=e=>{const t=jQe(e);if(t)return n(t,!0,FQe(t))},t};function FQe(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function jQe(e){return QGe(e)?document.querySelector(e):e}let UQe=!1;const zQe=()=>{UQe||(UQe=!0,xQe(),dKe())},GQe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:iqe,BaseTransitionPropsValidators:eqe,Comment:yXe,DeprecationTypes:RJe,EffectScope:IBe,ErrorCodes:tWe,ErrorTypeStrings:EJe,Fragment:fXe,KeepAlive:Fqe,ReactiveEffect:LBe,Static:gXe,Suspense:rXe,Teleport:qWe,Text:mXe,TrackOpTypes:NHe,Transition:qJe,TransitionGroup:nQe,TriggerOpTypes:PHe,VueElement:WKe,assertNumber:eWe,callWithAsyncErrorHandling:iWe,callWithErrorHandling:rWe,camelize:pVe,capitalize:mVe,cloneVNode:DXe,compatUtils:kJe,computed:vJe,createApp:PQe,createBlock:MXe,createCommentVNode:UXe,createElementBlock:EXe,createElementVNode:RXe,createHydrationRenderer:TYe,createPropsRestProxy:NZe,createRenderer:SYe,createSSRApp:DQe,createSlots:pZe,createStaticVNode:jXe,createTextVNode:FXe,createVNode:LXe,customRef:MHe,defineAsyncComponent:Lqe,defineComponent:hqe,defineCustomElement:BKe,defineEmits:xZe,defineExpose:SZe,defineModel:MZe,defineOptions:TZe,defineProps:_Ze,defineSSRCustomElement:$Ke,defineSlots:EZe,devtools:MJe,effect:HBe,effectScope:CBe,getCurrentInstance:YXe,getCurrentScope:OBe,getCurrentWatcher:UHe,getTransitionRawChildren:uqe,guardReactiveProps:PXe,h:bJe,handleError:oWe,hasInjectionContext:rYe,hydrate:NQe,hydrateOnIdle:Mqe,hydrateOnInteraction:Oqe,hydrateOnMediaQuery:Cqe,hydrateOnVisible:Iqe,initCustomFormatter:wJe,initDirectivesForSSR:zQe,inject:nYe,isMemoSame:xJe,isProxy:uHe,isReactive:aHe,isReadonly:lHe,isRef:mHe,isRuntimeOnly:lJe,isShallow:cHe,isVNode:AXe,markRaw:pHe,mergeDefaults:RZe,mergeModels:LZe,mergeProps:BXe,nextTick:yWe,normalizeClass:BVe,normalizeProps:$Ve,normalizeStyle:FVe,onActivated:Uqe,onBeforeMount:qqe,onBeforeUnmount:Jqe,onBeforeUpdate:Yqe,onDeactivated:zqe,onErrorCaptured:nZe,onMounted:Zqe,onRenderTracked:tZe,onRenderTriggered:eZe,onScopeDispose:kBe,onServerPrefetch:Qqe,onUnmounted:Kqe,onUpdated:Xqe,onWatcherCleanup:zHe,openBlock:wXe,popScopeId:RWe,provide:tYe,proxyRefs:THe,pushScopeId:kWe,queuePostFlushCb:wWe,reactive:nHe,readonly:iHe,ref:yHe,registerRuntimeCompiler:aJe,render:LQe,renderList:hZe,renderSlot:dZe,resolveComponent:oZe,resolveDirective:lZe,resolveDynamicComponent:aZe,resolveFilter:OJe,resolveTransitionHooks:sqe,setBlockTracking:SXe,setDevtoolsHook:AJe,setTransitionHooks:cqe,shallowReactive:rHe,shallowReadonly:oHe,shallowRef:gHe,ssrContextKey:LYe,ssrUtils:CJe,stop:WBe,toDisplayString:_Be,toHandlerKey:yVe,toHandlers:mZe,toRaw:hHe,toRef:OHe,toRefs:AHe,toValue:xHe,transformVNodeArgs:CXe,triggerRef:wHe,unref:_He,useAttrs:CZe,useCssModule:YKe,useCssVars:mKe,useHost:qKe,useId:pqe,useModel:VYe,useSSRContext:NYe,useShadowRoot:ZKe,useSlots:IZe,useTemplateRef:fqe,useTransitionState:KWe,vModelCheckbox:pQe,vModelDynamic:bQe,vModelRadio:fQe,vModelSelect:mQe,vModelText:hQe,vShow:hKe,version:SJe,warn:TJe,watch:jYe,watchEffect:PYe,watchPostEffect:DYe,watchSyncEffect:FYe,withAsyncContext:PZe,withCtx:NWe,withDefaults:AZe,withDirectives:PWe,withKeys:AQe,withMemo:_Je,withModifiers:EQe,withScopeId:LWe},Symbol.toStringTag,{value:"Module"}));var VQe=!1,BQe={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"833",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6481",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12419971258",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"tag",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/tags/v4.10.0",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5OmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMTc5NyBEaXN0cmlidXRlZFRhc2suR2VuZXJhdGVJZFRva2VuOmUzM2ZiMWRkLTkyMjItNDJiYS1iNzk0LWI0ODRmZDMzZjg0OTpjYTM5NTA4NS0wNDBhLTUyNmItMmNlOC1iZGM4NWY2OTI3NzQgTG9jYXRpb25TZXJ2aWNlLkNvbm5lY3QgUmVhZEFuZFVwZGF0ZUJ1aWxkQnlVcmk6MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwLzE6QnVpbGQvQnVpbGQvMTE3OTciLCJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJERERERERERC1ERERELUREREQtRERERC1EREREREREREREREQiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJhdWkiOiIxZmE4NDE2ZS05OTQzLTRlMWEtYjY4MS1hODAxOGQxOGIzNzQiLCJzaWQiOiJhMDllZjkzMi04YjkxLTQyNGEtOWZhOC1lODZkM2FiODhlNDEiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcIlBlcm1pc3Npb25cIjozfSx7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJQZXJtaXNzaW9uXCI6MX1dIiwiYWNzbCI6IjEwIiwib2lkY19leHRyYSI6IntcInJlZlwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcInNoYVwiOlwiMWYzMmY1YzRkZWRhZDdhYzM1YTc4OTVlN2Y3NDBkOWU0ODM1OTkwM1wiLFwicmVwb3NpdG9yeVwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcInJhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCI1NzE0ODcyNFwiLFwicnVuX2lkXCI6XCIxMjQxOTk3MTI1OFwiLFwicnVuX251bWJlclwiOlwiMTMxXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIxODM1NjA1N1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwidGFnXCIsXCJ3b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJ3b3JrZmxvd19zaGFcIjpcIjFmMzJmNWM0ZGVkYWQ3YWMzNWE3ODk1ZTdmNzQwZDllNDgzNTk5MDNcIixcImVudmlyb25tZW50XCI6XCJnaXRodWItcGFnZXNcIixcImVudmlyb25tZW50X25vZGVfaWRcIjpcIkVOX2t3RE9EUVBaV2M0ZUV4MlpcIixcImpvYl93b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCIxZjMyZjVjNGRlZGFkN2FjMzVhNzg5NWU3Zjc0MGQ5ZTQ4MzU5OTAzXCIsXCJydW5uZXJfZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1ob3N0ZWRcIn0iLCJvaWRjX3N1YiI6InJlcG86cmFtcDQtcGNhcjQvcmFtcDQtcGNhcjQ6ZW52aXJvbm1lbnQ6Z2l0aHViLXBhZ2VzIiwib3JjaGlkIjoiZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5LmJ1aWxkLl9fZGVmYXVsdCIsImlzcyI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJhdWQiOiJ2c3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tfHZzbzpkYzhlN2U0ZC00ZDQ1LTQ4ZDAtYmY4YS02YmQ0YzZjMjQ2MDciLCJuYmYiOjE3MzQ2MzgxODcsImV4cCI6MTczNDY2MDk4N30.RARk5esxipY8hoZlRACe-X_yM76TNaGPNYLTOeo3QHil127k0ynntWTAIhvG4AnWGYhGaYy4r4nNazwMI7YVAcri6W6w4txoRtMEUdA20vrF04HAvi2LIMPtdLXXW03zl6hIVd22jIGJI6t6hor6a8dQKa5uN4XR_tcXzEI8Vhv3S4R4fOIPJthxGXdW5oC06Arc0YSPRDRDTk-Lb4qXWQVoaQ4oHaRZGaA0xHNITcKkzLN9AHvPFnzaIyK4iQ8Zr_0B2I-Tyor7AAKyCfvKVt980mzK76axB0fid1T0ATLZNg8nftwlvB-y9u-KqFPIf8iOeoMrMNQVV9FHigeU7w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_f84c0023-8fe3-4772-972b-468f8650057c",INVOCATION_ID:"b4280ab4ab86413d99aedf730c4ee39c",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"131",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"v4.10.0",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.10.0",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/tags/v4.10.0",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus2.actions.githubusercontent.com/CYYZq0bGEiBG5XjoYFUt7ZUW3UppKtccmRBdNq2vSmlX4E20ap/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e33fb1dd-9222-42ba-b794-b484fd33f849/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};let $Qe;const HQe=e=>$Qe=e,WQe=Symbol();function qQe(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var ZQe;function YQe(){const e=CBe(!0),t=e.run((()=>yHe({})));let n=[],r=[];const i=pHe({install(e){HQe(i),i._a=e,e.provide(WQe,i),e.config.globalProperties.$pinia=i,r.forEach((e=>n.push(e))),r=[]},use(e){return this._a||VQe?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ZQe||(ZQe={}));const XQe=()=>{};function JQe(e,t,n,r=XQe){e.push(t);const i=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!n&&OBe()&&kBe(i),i}function KQe(e,...t){e.slice().forEach((e=>{e(...t)}))}const QQe=e=>e();function e0e(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,n)=>e.set(n,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];qQe(i)&&qQe(r)&&e.hasOwnProperty(n)&&!mHe(r)&&!aHe(r)?e[n]=e0e(i,r):e[n]=r}return e}const t0e=Symbol();function n0e(e){return!qQe(e)||!e.hasOwnProperty(t0e)}const{assign:r0e}=Object;function i0e(e){return!(!mHe(e)||!e.effect)}function o0e(e,t,n,r){const{state:i,actions:o,getters:s}=t,a=n.state.value[e];let l;function c(){!a&&"production"===BQe.NODE_ENV&&(n.state.value[e]=i?i():{});const t=AHe(n.state.value[e]);return r0e(t,o,Object.keys(s||{}).reduce(((t,r)=>(t[r]=pHe(vJe((()=>{HQe(n);const t=n._s.get(e);return s[r].call(t,t)}))),t)),{}))}return l=s0e(e,c,t,n,r,!0),l}function s0e(e,t,n={},r,i,o){let s;const a=r0e({actions:{}},n),l={deep:!0};let c,u,h,p=[],d=[];const f=r.state.value[e];let m;function y(t){let n;c=u=!1,"function"==typeof t?(t(r.state.value[e]),n={type:ZQe.patchFunction,storeId:e,events:h}):(e0e(r.state.value[e],t),n={type:ZQe.patchObject,payload:t,storeId:e,events:h});const i=m=Symbol();yWe().then((()=>{m===i&&(c=!0)})),u=!0,KQe(p,n,r.state.value[e])}!o&&!f&&"production"===BQe.NODE_ENV&&(r.state.value[e]={}),yHe({});const g=o?function(){const{state:e}=n,t=e?e():{};this.$patch((e=>{r0e(e,t)}))}:XQe;function v(){s.stop(),p=[],d=[],r._s.delete(e)}function b(t,n){return function(){HQe(r);const i=Array.from(arguments),o=[],s=[];function a(e){o.push(e)}function l(e){s.push(e)}let c;KQe(d,{args:i,name:t,store:_,after:a,onError:l});try{c=n.apply(this&&this.$id===e?this:_,i)}catch(u){throw KQe(s,u),u}return c instanceof Promise?c.then((e=>(KQe(o,e),e))).catch((e=>(KQe(s,e),Promise.reject(e)))):(KQe(o,c),c)}}const w={_p:r,$id:e,$onAction:JQe.bind(null,d),$patch:y,$reset:g,$subscribe(t,n={}){const i=JQe(p,t,n.detached,(()=>o())),o=s.run((()=>jYe((()=>r.state.value[e]),(r=>{("sync"===n.flush?u:c)&&t({storeId:e,type:ZQe.direct,events:h},r)}),r0e({},l,n))));return i},$dispose:v},_=nHe(w);r._s.set(e,_);const x=(r._a&&r._a.runWithContext||QQe)((()=>r._e.run((()=>(s=CBe()).run(t)))));for(const S in x){const t=x[S];if(mHe(t)&&!i0e(t)||aHe(t))o||(f&&n0e(t)&&(mHe(t)?t.value=f[S]:e0e(t,f[S])),r.state.value[e][S]=t);else if("function"==typeof t){const e=b(S,t);x[S]=e,a.actions[S]=t}}return r0e(_,x),r0e(hHe(_),x),Object.defineProperty(_,"$state",{get:()=>r.state.value[e],set:e=>{y((t=>{r0e(t,e)}))}}),r._p.forEach((e=>{r0e(_,s.run((()=>e({store:_,app:r._a,pinia:r,options:a}))))})),f&&o&&n.hydrate&&n.hydrate(_.$state,f),c=!0,u=!0,_}function a0e(e,t,n){let r,i;const o="function"==typeof t;function s(e,n){const s=rYe();return e=e||(s?nYe(WQe,null):null),e&&HQe(e),e=$Qe,e._s.has(r)||(o?s0e(r,t,i,e):o0e(r,i,e)),e._s.get(r)}return"string"==typeof e?(r=e,i=o?n:t):(i=e,r=e.id),s.$id=r,s}const l0e=a0e("appbar",(()=>{const e=yHe({}),t=yHe([]),n=yHe([]),r=vJe((()=>t.value.map((t=>t.map((t=>e.value[t])).filter((e=>{if("string"==typeof e||e.componentId)return!0})))).filter((e=>e.length>0))));function i(e){n.value.includes(e)||n.value.push(e)}function o(r){const i=n.value.indexOf(r);-1!==i&&n.value.splice(i,1),r in e.value&&delete e.value[r],t.value.forEach((e=>{const t=e.indexOf(r);-1!==t&&e.splice(t,1)}))}return{items:e,order:t,temporary:n,visible:r,addTempButton:i,removeButton:o}})),c0e=a0e("grid",(()=>{const e=yHe({}),t=yHe(),n=yHe();function r(t){e.value={...e.value,[t.id]:t}}function i(t){void 0!==e.value[t]&&delete e.value[t]}function o(t){return Object.keys(e.value).find((n=>e.value[n].layerIds.includes(t)))}function s(t,n){e.value[t].layerIds=e.value[t].layerIds.filter((e=>e!==n))}return{grids:e,panel:t,currentId:n,addGrid:r,removeGrid:i,getGridId:o,removeLayer:s}}));function u0e(e,t,n,r){var i,o=!1,s=0;function a(){i&&clearTimeout(i)}function l(){a(),o=!0}function c(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var h=this,p=Date.now()-s;function d(){s=Date.now(),n.apply(h,c)}function f(){i=void 0}o||(r&&!i&&d(),a(),void 0===r&&p>e?d():!0!==t&&(i=setTimeout(r?f:d,void 0===r?e-p:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),c.cancel=l,c}function h0e(e,t,n){return void 0===n?u0e(e,t,!1):u0e(e,n,!1!==t)}const p0e=a0e("map-caption",(()=>{const e=yHe({text:{},logo:{}}),t=yHe({}),n=yHe({}),r=yHe({});function i(e){t.value.isImperialScale=void 0!==e?e:!t.value.isImperialScale}function o(t){e.value.text.value=t.text.value,e.value.text.disabled=t.text.disabled,e.value.logo.altText=t.logo.altText,e.value.logo.link=t.logo.link,e.value.logo.value=t.logo.value,e.value.logo.disabled=t.logo.disabled}return{attribution:e,scale:t,coords:n,langtoggle:r,toggleScale:i,setAttribution:o}})),d0e=(e,t)=>{const n=[...e];for(;n.length>0;){const e=n.shift();if(t(e))return e;e&&n.push(...e.sublayers)}},f0e=a0e("layer",(()=>{const e=yHe([]),t=yHe([]),n=yHe([]);function r(t){return d0e(e.value,(e=>e?.uid===t))}function i(t){return d0e(e.value,(e=>e?.id===t))}function o(t){return d0e(e.value,(e=>void 0!==e&&(e.id===t||e.uid===t)))}function s(e){t.value=[...t.value,e]}function a(t,r=void 0){e.value=[...e.value,t],t.mapLayer&&((void 0===r||r<0)&&(console.error("Map layer added to store with invalid index!"),r=n.value.length),n.value.splice(r,0,t.id),n.value=[...n.value])}function l(e,t){if(!e.mapLayer)return void console.error("Data layer passed to layer store reorder");if(t<0)return void console.error("Negative index passed to layer store reorder");t>=n.value.length&&(t=n.value.length-1);const r=n.value.findIndex((t=>t===e.id));-1!==r&&r!==t&&(n.value.splice(r,1),n.value.splice(t,0,e.id),n.value=[...n.value])}function c(t){const r=e.value.filter((e=>e.id!==t.id||e.uid!==t.uid));if(e.value=r,t.mapLayer){const e=n.value.filter((e=>e!==t.id));n.value=e}}function u(e){const n=t.value.filter((t=>t.id!==e));t.value=n}return{layers:e,mapOrder:n,layerConfigs:t,getLayerByUid:r,getLayerById:i,getLayerByAny:o,addLayerConfig:s,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:u}})),m0e=a0e("config",(()=>{const e=yHe({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=yHe([]),n=yHe(),r=yHe({}),i=yHe({});function o(e){if(void 0===r.value[i.value[e]])throw new Error("Unsupported language or no registered config exists for requested language");return r.value[i.value[e]]}function s(t){const n={...e.value,...t};if(e.value=n,Array.isArray(e.value.layers)){const t=f0e();t.layerConfigs=[...t.layerConfigs,e.value.layers]}}function a(e){const t=e.configLangs,n=e.config,o=e.allLangs;void 0!==t&&t.length>0&&t.forEach((e=>{r.value[e]=n,i.value[e]=e})),void 0!==o&&o.length>0&&o.forEach((e=>{i.value[e]=Object.keys(r.value)[0]}))}return{config:e,startingFixtures:t,activeBasemapConfig:n,registeredConfigs:r,registeredLangs:i,getActiveConfig:o,newConfig:s,registerConfig:a}})),y0e=a0e("details",(()=>{const e=yHe([]),t=yHe({}),n=yHe({}),r=yHe(),i=yHe(0),o=yHe(0),s=yHe(!0),a=yHe();function l(t){const n=e.value.findIndex((e=>e.uid===t.uid));-1!==n&&e.value.splice(n,1)}function c(e){t.value={...t.value,[e.id]:e}}return{payload:e,properties:t,defaultTemplates:n,currentFeatureId:r,activeGreedy:i,lastHilight:o,hilightToggle:s,origin:a,removeLayer:l,addConfigProperty:c}})),g0e=a0e("fixture",(()=>{const e=yHe({}),t=yHe({});function n(e){return e.map((e=>t.value[e].getPromise()))}function r(n){if(e.value={...e.value,[n.id]:pHe(n)},n.id in t.value)t.value[n.id].resolveMe(pHe(n));else{const e=new iNe;e.resolveMe(pHe(n)),t.value={...t.value,[n.id]:e}}"function"==typeof n.added&&n.added()}function i(n){delete e.value[n.id],e.value={...e.value},delete t.value[n.id],t.value={...t.value},"function"==typeof n.removed&&n.removed()}function o(e){t.value={...t.value,[e]:new iNe}}return{items:e,loadPromises:t,getLoadPromises:n,addFixture:r,removeFixture:i,addLoadPromise:o}}));var v0e=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))(v0e||{}),b0e=(e=>(e.CONFIG_CHANGE_UPDATES_MAP_ATTRIBS="ramp_config_change_updates_map_attribs",e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(b0e||{});class w0e{eventName;handlerName;handlerFunc;constructor(e,t,n){this.eventName=e,this.handlerName=t,this.handlerFunc=n}}class _0e extends AGe{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(e){super(e),this._eventBus=new PGe.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(v0e).filter((e=>"string"==typeof e&&e.indexOf("/")>-1))}findHandler(e){return this._eventRegister.find((t=>t.handlerName===e))}handlerNamer(e){return this._funCounter++,e.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(e){(Array.isArray(e)?e:[e]).forEach((e=>{-1===this._nameRegister.indexOf(e)&&this._nameRegister.push(e)}))}eventNames(){return this._nameRegister.slice()}on(e,t,n=""){if(this.findHandler(n))throw new Error("Duplicate handler name registration: "+n);n||(n=this.handlerNamer(e));const r=new w0e(e,n,t);return this._eventRegister.push(r),this._eventBus.on(e,t),n}off(e){const t=this.findHandler(e);t&&(this._eventRegister.splice(this._eventRegister.indexOf(t),1),this._eventBus.off(t.eventName,t.handlerFunc))}offAll(e=""){this.activeHandlers(e).forEach((e=>this.off(e)))}removeDefaultEvents(){Object.values(b0e).forEach((e=>{this.off(e)}))}emit(e,...t){this._eventBus.emit(e,...t)}once(e,t,n=""){n||(n=this.handlerNamer(e));const r=(...e)=>{t(...e),this.off(n)};return this.on(e,r,n)}activeHandlers(e=""){return""===e?this._eventRegister.map((e=>e.handlerName)):this._eventRegister.filter((t=>t.eventName===e)).map((e=>e.handlerName))}addDefaultEvents(e){return(!Array.isArray(e)||0===e.length)&&(e=Object.values(b0e)),e.map((e=>this.defaultHandlerFactory(e)))}defaultHandlerFactory(e){let t;switch(e){case"ramp_config_change_updates_map_attribs":t=e=>{const t=e.map.basemaps.find((e=>e.id===this.$iApi.geo.map.getCurrentBasemapId()));this.$iApi.geo.map.caption.updateAttribution(t?.attribution)},this.$iApi.event.on("config/configchanged",t,e);break;case"ramp_layer_error_updates_legend":t=e=>{if(e.layer.layerState===g.ERROR){const t=this.$iApi.fixture.get("legend");t&&t.updateLegend(e.layer)}},this.$iApi.event.on("layer/layerstatechange",t,e);break;case"ramp_layer_register_binds_legend":t=e=>{const t=this.$iApi.fixture.get("legend");t&&t.updateLegend(e)},this.$iApi.event.on("layer/registered",t,e);break;case"ramp_layer_reload_end_binds_legend":t=e=>{const t=this.$iApi.fixture.get("legend");t&&t.updateLegend(e)},this.$iApi.event.on("layer/reloadend",t,e);break;case"ramp_layer_reload_start_updates_legend":t=e=>{if(!e.isSublayer){const t=this.$iApi.fixture.get("legend");t&&t.reloadLayerItem(e.uid)}},this.$iApi.event.on("layer/reloadstart",t,e);break;case"ramp_layer_remove_checks_grid":t=e=>{if(this.$iApi.fixture.get("grid")){const t=c0e(this.$vApp.$pinia),n=t.getGridId(e.id);if(void 0===n)return;if(t.removeLayer(n,e.id),0===t.grids[n].layerIds.length){t.removeGrid(n);const e=t.currentId;if(n===e){const e=this.$iApi.panel.get("grid");this.$iApi.panel.close(e),t.currentId=void 0}}}},this.$iApi.event.on("layer/remove",t,e);break;case"ramp_layer_remove_updates_details":t=e=>{const t=y0e(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&t.removeLayer(e)},this.$iApi.event.on("layer/remove",t,e);break;case"ramp_layer_remove_updates_legend":t=e=>{const t=this.$iApi.fixture.get("legend");t&&(t.removeLayerItem(e),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:e.name})))},this.$iApi.event.on("layer/remove",t,e);break;case"ramp_layer_useradd_updates_legend":t=e=>{const t=this.$iApi.fixture.get("legend");t&&t.addLayerItem(e)},this.$iApi.event.on("user/layeradded",t,e);break;case"ramp_map_basemap_checks_tile_proj":t=e=>{e.schemaChanged&&this.$iApi.geo.layer.allLayers().filter((e=>e.layerType===h.TILE)).forEach((e=>{e.checkProj()}))},this.$iApi.event.on("map/basemapchanged",t,e);break;case"ramp_map_basemap_updates_map_attribs":t=()=>{this.$iApi.geo.map.caption.updateAttribution(m0e(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",t,e);break;case"ramp_map_blur_updates_key_handler":t=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",t,e);break;case"ramp_map_click_runs_identify":t=e=>{0===e.button&&this.$iApi.geo.map.runIdentify(e)},this.on("map/click",t,e);break;case"ramp_map_created_initializes_fixtures":t=()=>{const e=g0e(this.$vApp.$pinia).items;Object.keys(e).forEach((t=>{e[t].initialized?.()}))},this.$iApi.geo.map.created&&t(),this.$iApi.event.on("map/created",t,e);break;case"ramp_map_created_updates_map_attribs":t=()=>{this.$iApi.geo.map.caption.updateAttribution(m0e(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&t(),this.$iApi.event.on("map/created",t,e);break;case"ramp_map_extent_updates_maptip":t=()=>{if(this.$iApi.geo.map.keysActive){const e=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(e)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",u0e(50,!0,(()=>t())),e);break;case"ramp_map_graphichit_creates_maptip":t=e=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(e)},this.$iApi.event.on("map/graphichit",t,e);break;case"ramp_map_identify_opens_identify_results":t=e=>{const t=this.$iApi.fixture.get("details");t&&t.openDetails(e.results)},this.on("map/identify",t,e);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",u0e(50,(()=>{const e=p0e(this.$vApp.$pinia);e.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then((t=>{e.coords={formattedString:t}}))})),e);break;case"ramp_map_keydown_updates_key_handler":t=e=>{this.$iApi.geo.map.mapKeyDown(e)},this.$iApi.event.on("map/keydown",t,e);break;case"ramp_map_keyup_updates_key_handler":t=e=>{this.$iApi.geo.map.mapKeyUp(e)},this.$iApi.event.on("map/keyup",t,e);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",u0e(50,(e=>{const t=p0e(this.$vApp.$pinia);t.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(e)).then((e=>{t.coords={formattedString:e}}))})),e);break;case"ramp_map_mouse_updates_maptip":t=e=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:e.screenX,screenY:e.screenY})},this.$iApi.event.on("map/mousemove",u0e(50,(e=>t(e))),e);break;case"ramp_map_mouseleave_removes_maptip":t=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",t);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",h0e(100,(()=>this.$iApi.geo.map.caption.updateScale())),e);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",h0e(300,(()=>this.$iApi.geo.map.caption.updateScale())),e);break;case"ramp_panel_close_updates_appbar":t=e=>{const t=l0e(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!t.order.flat().find((t=>t===e.id))&&t.removeButton(e.id)},this.on("panel/closed",t,e);break;case"ramp_panel_open_updates_appbar":t=e=>{const t=l0e(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!e.teleport||e.teleport?.showAppbarButton)&&!t.order.flat().find((t=>t===e.id))&&t.addTempButton(e.id)},this.on("panel/opened",t,e);break;case"ramp_toggle_details":t=(e,t)=>{const n=this.$iApi.fixture.get("details");n&&n.toggleFeature(e,t)},this.$iApi.event.on("details/toggle",t,e);break;case"ramp_toggle_grid":t=(e,t)=>{const n=this.$iApi.fixture.get("grid");n&&n.toggleGrid(e.id,t)},this.$iApi.event.on("grid/toggle",t,e);break;case"ramp_toggle_help":t=e=>{const t=this.$iApi.fixture.get("help");t&&t.toggleHelp(e)},this.$iApi.event.on("help/toggle",t,e);break;case"ramp_toggle_metadata":t=(e,t)=>{const n=this.$iApi.fixture.get("metadata");n&&n.toggleMetadata(e,t)},this.$iApi.event.on("metadata/toggle",t,e);break;case"ramp_toggle_reorder":t=e=>{const t=this.$iApi.fixture.get("layer-reorder");t&&t.toggleLayerReorder(e)},this.$iApi.event.on("reorder/toggle",t,e);break;case"ramp_toggle_settings":t=(e,t)=>{const n=this.$iApi.fixture.get("settings");n&&n.toggleSettings(e,t)},this.$iApi.event.on("settings/toggle",t,e);break;case"ramp_toggle_wizard":t=e=>{const t=this.$iApi.fixture.get("wizard");t&&t.toggleWizard(e)},this.$iApi.event.on("wizard/toggle",t,e);break;default:return console.error(`Unrecognized default event handler name encountered: ${e}`),`ERROR_NOT_REGISTERED__${e}`}return e}}const x0e=typeof window<"u",S0e=(e,t=!1)=>t?Symbol.for(e):Symbol(e),T0e=(e,t,n)=>E0e({l:e,k:t,s:n}),E0e=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),M0e=e=>"number"==typeof e&&isFinite(e),A0e=e=>"[object Date]"===H0e(e),I0e=e=>"[object RegExp]"===H0e(e),C0e=e=>W0e(e)&&0===Object.keys(e).length,O0e=Object.assign,k0e=Object.create,R0e=(e=null)=>k0e(e);let L0e;const N0e=()=>L0e||(L0e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:R0e());function P0e(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const D0e=Object.prototype.hasOwnProperty;function F0e(e,t){return D0e.call(e,t)}const j0e=Array.isArray,U0e=e=>"function"==typeof e,z0e=e=>"string"==typeof e,G0e=e=>"boolean"==typeof e,V0e=e=>null!==e&&"object"==typeof e,B0e=e=>V0e(e)&&U0e(e.then)&&U0e(e.catch),$0e=Object.prototype.toString,H0e=e=>$0e.call(e),W0e=e=>{if(!V0e(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t.constructor===Object},q0e=e=>null==e?"":j0e(e)||W0e(e)&&e.toString===$0e?JSON.stringify(e,null,2):String(e);function Z0e(e,t=""){return e.reduce(((e,n,r)=>0===r?e+n:e+t+n),"")}function Y0e(e){let t=e;return()=>++t}function X0e(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const J0e=e=>!V0e(e)||j0e(e);function K0e(e,t){if(J0e(e)||J0e(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:e,des:t}=n.pop();Object.keys(e).forEach((r=>{"__proto__"!==r&&(V0e(e[r])&&!V0e(t[r])&&(t[r]=Array.isArray(e[r])?[]:R0e()),J0e(t[r])||J0e(e[r])?t[r]=e[r]:n.push({src:e[r],des:t[r]}))}))}}function Q0e(e,t,n){return{line:e,column:t,offset:n}}function e1e(e,t,n){return{start:e,end:t}}const t1e=/\{([0-9a-zA-Z]+)\}/g;function n1e(e,...t){return 1===t.length&&o1e(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(t1e,((e,n)=>t.hasOwnProperty(n)?t[n]:""))}const r1e=Object.assign,i1e=e=>"string"==typeof e,o1e=e=>null!==e&&"object"==typeof e;function s1e(e,t=""){return e.reduce(((e,n,r)=>0===r?e+n:e+t+n),"")}const a1e={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},l1e={[a1e.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function c1e(e,t,...n){const r=n1e(l1e[e],...n||[]),i={message:String(r),code:e};return t&&(i.location=t),i}const u1e={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},h1e={[u1e.EXPECTED_TOKEN]:"Expected token: '{0}'",[u1e.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[u1e.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[u1e.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[u1e.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[u1e.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[u1e.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[u1e.EMPTY_PLACEHOLDER]:"Empty placeholder",[u1e.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[u1e.INVALID_LINKED_FORMAT]:"Invalid linked format",[u1e.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[u1e.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[u1e.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[u1e.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[u1e.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[u1e.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function p1e(e,t,n={}){const{domain:r,messages:i,args:o}=n,s=n1e((i||h1e)[e]||"",...o||[]),a=new SyntaxError(String(s));return a.code=e,t&&(a.location=t),a.domain=r,a}function d1e(e){throw e}const f1e=" ",m1e="\r",y1e="\n",g1e="\u2028",v1e="\u2029";function b1e(e){const t=e;let n=0,r=1,i=1,o=0;const s=e=>t[e]===m1e&&t[e+1]===y1e,a=e=>t[e]===y1e,l=e=>t[e]===v1e,c=e=>t[e]===g1e,u=e=>s(e)||a(e)||l(e)||c(e),h=()=>n,p=()=>r,d=()=>i,f=()=>o,m=e=>s(e)||l(e)||c(e)?y1e:t[e],y=()=>m(n),g=()=>m(n+o);function v(){return o=0,u(n)&&(r++,i=0),s(n)&&n++,n++,i++,t[n]}function b(){return s(n+o)&&o++,o++,t[n+o]}function w(){n=0,r=1,i=1,o=0}function _(e=0){o=e}function x(){const e=n+o;for(;e!==n;)v();o=0}return{index:h,line:p,column:d,peekOffset:f,charAt:m,currentChar:y,currentPeek:g,next:v,peek:b,reset:w,resetPeek:_,skipToPeek:x}}const w1e=void 0,_1e="'",x1e="tokenizer";function S1e(e,t={}){const n=!1!==t.location,r=b1e(e),i=()=>r.index(),o=()=>Q0e(r.line(),r.column(),r.index()),s=o(),a=i(),l={currentType:14,offset:a,startLoc:s,endLoc:s,lastType:14,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function h(e,t,r,...i){const o=c();if(t.column+=r,t.offset+=r,u){const r=n?e1e(o.startLoc,t):null,s=p1e(e,r,{domain:x1e,args:i});u(s)}}function p(e,t,r){e.endLoc=o(),e.currentType=t;const i={type:t};return n&&(i.loc=e1e(e.startLoc,e.endLoc)),null!=r&&(i.value=r),i}const d=e=>p(e,14);function f(e,t){return e.currentChar()===t?(e.next(),t):(h(u1e.EXPECTED_TOKEN,o(),0,t),"")}function m(e){let t="";for(;e.currentPeek()===f1e||e.currentPeek()===y1e;)t+=e.currentPeek(),e.peek();return t}function y(e){const t=m(e);return e.skipToPeek(),t}function g(e){if(e===w1e)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function v(e){if(e===w1e)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}function b(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=g(e.currentPeek());return e.resetPeek(),r}function w(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r="-"===e.currentPeek()?e.peek():e.currentPeek(),i=v(r);return e.resetPeek(),i}function _(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=e.currentPeek()===_1e;return e.resetPeek(),r}function x(e,t){const{currentType:n}=t;if(8!==n)return!1;m(e);const r="."===e.currentPeek();return e.resetPeek(),r}function S(e,t){const{currentType:n}=t;if(9!==n)return!1;m(e);const r=g(e.currentPeek());return e.resetPeek(),r}function T(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;m(e);const r=":"===e.currentPeek();return e.resetPeek(),r}function E(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?g(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||t===f1e||!t)&&(t===y1e?(e.peek(),r()):I(e,!1))},i=r();return e.resetPeek(),i}function M(e){m(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function A(e){const t=m(e),n="%"===e.currentPeek()&&"{"===e.peek();return e.resetPeek(),{isModulo:n,hasSpace:t.length>0}}function I(e,t=!0){const n=(t=!1,r="",i=!1)=>{const o=e.currentPeek();return"{"===o?"%"!==r&&t:"@"!==o&&o?"%"===o?(e.peek(),n(t,"%",!0)):"|"===o?!("%"!==r&&!i)||!(r===f1e||r===y1e):o===f1e?(e.peek(),n(!0,f1e,i)):o!==y1e||(e.peek(),n(!0,y1e,i)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function C(e,t){const n=e.currentChar();return n===w1e?w1e:t(n)?(e.next(),n):null}function O(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}function k(e){return C(e,O)}function R(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t||45===t}function L(e){return C(e,R)}function N(e){const t=e.charCodeAt(0);return t>=48&&t<=57}function P(e){return C(e,N)}function D(e){const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function F(e){return C(e,D)}function j(e){let t="",n="";for(;t=P(e);)n+=t;return n}function U(e){y(e);const t=e.currentChar();return"%"!==t&&h(u1e.EXPECTED_TOKEN,o(),0,t),e.next(),"%"}function z(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!I(e))break;t+=n,e.next()}else if(n===f1e||n===y1e)if(I(e))t+=n,e.next();else{if(M(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function G(e){y(e);let t="",n="";for(;t=L(e);)n+=t;return e.currentChar()===w1e&&h(u1e.UNTERMINATED_CLOSING_BRACE,o(),0),n}function V(e){y(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${j(e)}`):t+=j(e),e.currentChar()===w1e&&h(u1e.UNTERMINATED_CLOSING_BRACE,o(),0),t}function B(e){return e!==_1e&&e!==y1e}function $(e){y(e),f(e,"'");let t="",n="";for(;t=C(e,B);)n+="\\"===t?H(e):t;const r=e.currentChar();return r===y1e||r===w1e?(h(u1e.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),r===y1e&&(e.next(),f(e,"'")),n):(f(e,"'"),n)}function H(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return W(e,t,4);case"U":return W(e,t,6);default:return h(u1e.UNKNOWN_ESCAPE_SEQUENCE,o(),0,t),""}}function W(e,t,n){f(e,t);let r="";for(let i=0;i<n;i++){const n=F(e);if(!n){h(u1e.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function q(e){return"{"!==e&&"}"!==e&&e!==f1e&&e!==y1e}function Z(e){y(e);let t="",n="";for(;t=C(e,q);)n+=t;return n}function Y(e){let t="",n="";for(;t=k(e);)n+=t;return n}function X(e){const t=n=>{const r=e.currentChar();return"{"!==r&&"%"!==r&&"@"!==r&&"|"!==r&&"("!==r&&")"!==r&&r&&r!==f1e?(n+=r,e.next(),t(n)):n};return t("")}function J(e){y(e);const t=f(e,"|");return y(e),t}function K(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&h(u1e.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),e.next(),n=p(t,2,"{"),y(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&h(u1e.EMPTY_PLACEHOLDER,o(),0),e.next(),n=p(t,3,"}"),t.braceNest--,t.braceNest>0&&y(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&h(u1e.UNTERMINATED_CLOSING_BRACE,o(),0),n=Q(e,t)||d(t),t.braceNest=0,n;default:{let r=!0,i=!0,s=!0;if(M(e))return t.braceNest>0&&h(u1e.UNTERMINATED_CLOSING_BRACE,o(),0),n=p(t,1,J(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return h(u1e.UNTERMINATED_CLOSING_BRACE,o(),0),t.braceNest=0,ee(e,t);if(r=b(e,t))return n=p(t,5,G(e)),y(e),n;if(i=w(e,t))return n=p(t,6,V(e)),y(e),n;if(s=_(e,t))return n=p(t,7,$(e)),y(e),n;if(!r&&!i&&!s)return n=p(t,13,Z(e)),h(u1e.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,n.value),y(e),n;break}}return n}function Q(e,t){const{currentType:n}=t;let r=null;const i=e.currentChar();switch((8===n||9===n||12===n||10===n)&&(i===y1e||i===f1e)&&h(u1e.INVALID_LINKED_FORMAT,o(),0),i){case"@":return e.next(),r=p(t,8,"@"),t.inLinked=!0,r;case".":return y(e),e.next(),p(t,9,".");case":":return y(e),e.next(),p(t,10,":");default:return M(e)?(r=p(t,1,J(e)),t.braceNest=0,t.inLinked=!1,r):x(e,t)||T(e,t)?(y(e),Q(e,t)):S(e,t)?(y(e),p(t,12,Y(e))):E(e,t)?(y(e),"{"===i?K(e,t)||r:p(t,11,X(e))):(8===n&&h(u1e.INVALID_LINKED_FORMAT,o(),0),t.braceNest=0,t.inLinked=!1,ee(e,t))}}function ee(e,t){let n={type:14};if(t.braceNest>0)return K(e,t)||d(t);if(t.inLinked)return Q(e,t)||d(t);switch(e.currentChar()){case"{":return K(e,t)||d(t);case"}":return h(u1e.UNBALANCED_CLOSING_BRACE,o(),0),e.next(),p(t,3,"}");case"@":return Q(e,t)||d(t);default:{if(M(e))return n=p(t,1,J(e)),t.braceNest=0,t.inLinked=!1,n;const{isModulo:r,hasSpace:i}=A(e);if(r)return i?p(t,0,z(e)):p(t,4,U(e));if(I(e))return p(t,0,z(e));break}}return n}function te(){const{currentType:e,offset:t,startLoc:n,endLoc:s}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=s,l.offset=i(),l.startLoc=o(),r.currentChar()===w1e?p(l,14):ee(r,l)}return{nextToken:te,currentOffset:i,currentPosition:o,context:c}}const T1e="parser",E1e=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function M1e(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):"�"}}}function A1e(e={}){const t=!1!==e.location,{onError:n,onWarn:r}=e;function i(e,r,i,o,...s){const a=e.currentPosition();if(a.offset+=o,a.column+=o,n){const e=t?e1e(i,a):null,o=p1e(r,e,{domain:T1e,args:s});n(o)}}function o(e,n,i,o,...s){const a=e.currentPosition();if(a.offset+=o,a.column+=o,r){const e=t?e1e(i,a):null;r(c1e(n,e,s))}}function s(e,n,r){const i={type:e};return t&&(i.start=n,i.end=n,i.loc={start:r,end:r}),i}function a(e,n,r,i){t&&(e.end=n,e.loc&&(e.loc.end=r))}function l(e,t){const n=e.context(),r=s(3,n.offset,n.startLoc);return r.value=t,a(r,e.currentOffset(),e.currentPosition()),r}function c(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,o=s(5,r,i);return o.index=parseInt(t,10),e.nextToken(),a(o,e.currentOffset(),e.currentPosition()),o}function u(e,t,n){const r=e.context(),{lastOffset:i,lastStartLoc:o}=r,l=s(4,i,o);return l.key=t,!0===n&&(l.modulo=!0),e.nextToken(),a(l,e.currentOffset(),e.currentPosition()),l}function h(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,o=s(9,r,i);return o.value=t.replace(E1e,M1e),e.nextToken(),a(o,e.currentOffset(),e.currentPosition()),o}function p(e){const t=e.nextToken(),n=e.context(),{lastOffset:r,lastStartLoc:o}=n,l=s(8,r,o);return 12!==t.type?(i(e,u1e.UNEXPECTED_EMPTY_LINKED_MODIFIER,n.lastStartLoc,0),l.value="",a(l,r,o),{nextConsumeToken:t,node:l}):(null==t.value&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,n.lastStartLoc,0,I1e(t)),l.value=t.value||"",a(l,e.currentOffset(),e.currentPosition()),{node:l})}function d(e,t){const n=e.context(),r=s(7,n.offset,n.startLoc);return r.value=t,a(r,e.currentOffset(),e.currentPosition()),r}function f(e){const t=e.context(),n=s(6,t.offset,t.startLoc);let r=e.nextToken();if(9===r.type){const t=p(e);n.modifier=t.node,r=t.nextConsumeToken||e.nextToken()}switch(10!==r.type&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,I1e(r)),r=e.nextToken(),2===r.type&&(r=e.nextToken()),r.type){case 11:null==r.value&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,I1e(r)),n.key=d(e,r.value||"");break;case 5:null==r.value&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,I1e(r)),n.key=u(e,r.value||"");break;case 6:null==r.value&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,I1e(r)),n.key=c(e,r.value||"");break;case 7:null==r.value&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,I1e(r)),n.key=h(e,r.value||"");break;default:{i(e,u1e.UNEXPECTED_EMPTY_LINKED_KEY,t.lastStartLoc,0);const o=e.context(),l=s(7,o.offset,o.startLoc);return l.value="",a(l,o.offset,o.startLoc),n.key=l,a(n,o.offset,o.startLoc),{nextConsumeToken:r,node:n}}}return a(n,e.currentOffset(),e.currentPosition()),{node:n}}function m(e){const t=e.context(),n=1===t.currentType?e.currentOffset():t.offset,r=1===t.currentType?t.endLoc:t.startLoc,p=s(2,n,r);p.items=[];let d=null,m=null;do{const n=d||e.nextToken();switch(d=null,n.type){case 0:null==n.value&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,I1e(n)),p.items.push(l(e,n.value||""));break;case 6:null==n.value&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,I1e(n)),p.items.push(c(e,n.value||""));break;case 4:m=!0;break;case 5:null==n.value&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,I1e(n)),p.items.push(u(e,n.value||"",!!m)),m&&(o(e,a1e.USE_MODULO_SYNTAX,t.lastStartLoc,0,I1e(n)),m=null);break;case 7:null==n.value&&i(e,u1e.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,I1e(n)),p.items.push(h(e,n.value||""));break;case 8:{const t=f(e);p.items.push(t.node),d=t.nextConsumeToken||null;break}}}while(14!==t.currentType&&1!==t.currentType);const y=1===t.currentType?t.lastOffset:e.currentOffset(),g=1===t.currentType?t.lastEndLoc:e.currentPosition();return a(p,y,g),p}function y(e,t,n,r){const o=e.context();let l=0===r.items.length;const c=s(1,t,n);c.cases=[],c.cases.push(r);do{const t=m(e);l||(l=0===t.items.length),c.cases.push(t)}while(14!==o.currentType);return l&&i(e,u1e.MUST_HAVE_MESSAGES_IN_PLURAL,n,0),a(c,e.currentOffset(),e.currentPosition()),c}function g(e){const t=e.context(),{offset:n,startLoc:r}=t,i=m(e);return 14===t.currentType?i:y(e,n,r,i)}function v(n){const r=S1e(n,r1e({},e)),o=r.context(),l=s(0,o.offset,o.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=g(r),e.onCacheKey&&(l.cacheKey=e.onCacheKey(n)),14!==o.currentType&&i(r,u1e.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,n[o.offset]||""),a(l,r.currentOffset(),r.currentPosition()),l}return{parse:v}}function I1e(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function C1e(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:e=>(n.helpers.add(e),e)}}function O1e(e,t){for(let n=0;n<e.length;n++)k1e(e[n],t)}function k1e(e,t){switch(e.type){case 1:O1e(e.cases,t),t.helper("plural");break;case 2:O1e(e.items,t);break;case 6:k1e(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function R1e(e,t={}){const n=C1e(e);n.helper("normalize"),e.body&&k1e(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function L1e(e){const t=e.body;return 2===t.type?N1e(t):t.cases.forEach((e=>N1e(e))),e}function N1e(e){if(1===e.items.length){const t=e.items[0];(3===t.type||9===t.type)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(3!==r.type&&9!==r.type||null==r.value)break;t.push(r.value)}if(t.length===e.items.length){e.static=s1e(t);for(let t=0;t<e.items.length;t++){const n=e.items[t];(3===n.type||9===n.type)&&delete n.value}}}}const P1e="minifier";function D1e(e){switch(e.t=e.type,e.type){case 0:{const t=e;D1e(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let e=0;e<n.length;e++)D1e(n[e]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let e=0;e<n.length;e++)D1e(n[e]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;D1e(t.key),t.k=t.key,delete t.key,t.modifier&&(D1e(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw p1e(u1e.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:P1e,args:[e.type]})}delete e.type}const F1e="parser";function j1e(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:o}=t,s=!1!==t.location,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};s&&e.loc&&(a.source=e.loc.source);const l=()=>a;function c(e,t){a.code+=e}function u(e,t=!0){const n=t?i:"";c(o?n+"  ".repeat(e):n)}function h(e=!0){const t=++a.indentLevel;e&&u(t)}function p(e=!0){const t=--a.indentLevel;e&&u(t)}function d(){u(a.indentLevel)}return{context:l,push:c,indent:h,deindent:p,newline:d,helper:e=>`_${e}`,needIndent:()=>a.needIndent}}function U1e(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),B1e(e,t.key),t.modifier?(e.push(", "),B1e(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function z1e(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let o=0;o<i&&(B1e(e,t.items[o]),o!==i-1);o++)e.push(", ");e.deindent(r()),e.push("])")}function G1e(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let n=0;n<i&&(B1e(e,t.cases[n]),n!==i-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}function V1e(e,t){t.body?B1e(e,t.body):e.push("null")}function B1e(e,t){const{helper:n}=e;switch(t.type){case 0:V1e(e,t);break;case 1:G1e(e,t);break;case 2:z1e(e,t);break;case 6:U1e(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw p1e(u1e.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:F1e,args:[t.type]})}}const $1e=(e,t={})=>{const n=i1e(t.mode)?t.mode:"normal",r=i1e(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,o=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",s=t.needIndent?t.needIndent:"arrow"!==n,a=e.helpers||[],l=j1e(e,{mode:n,filename:r,sourceMap:i,breakLineCode:o,needIndent:s});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),a.length>0&&(l.push(`const { ${s1e(a.map((e=>`${e}: _${e}`)),", ")} } = ctx`),l.newline()),l.push("return "),B1e(l,e),l.deindent(s),l.push("}"),delete e.helpers;const{code:c,map:u}=l.context();return{ast:e,code:c,map:u?u.toJSON():void 0}};function H1e(e,t={}){const n=r1e({},t),r=!!n.jit,i=!!n.minify,o=null==n.optimize||n.optimize,s=A1e(n).parse(e);return r?(o&&L1e(s),i&&D1e(s),{ast:s,code:""}):(R1e(s,n),$1e(s,n))}var W1e={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"833",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6481",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12419971258",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"tag",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/tags/v4.10.0",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5OmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMTc5NyBEaXN0cmlidXRlZFRhc2suR2VuZXJhdGVJZFRva2VuOmUzM2ZiMWRkLTkyMjItNDJiYS1iNzk0LWI0ODRmZDMzZjg0OTpjYTM5NTA4NS0wNDBhLTUyNmItMmNlOC1iZGM4NWY2OTI3NzQgTG9jYXRpb25TZXJ2aWNlLkNvbm5lY3QgUmVhZEFuZFVwZGF0ZUJ1aWxkQnlVcmk6MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwLzE6QnVpbGQvQnVpbGQvMTE3OTciLCJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJERERERERERC1ERERELUREREQtRERERC1EREREREREREREREQiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJhdWkiOiIxZmE4NDE2ZS05OTQzLTRlMWEtYjY4MS1hODAxOGQxOGIzNzQiLCJzaWQiOiJhMDllZjkzMi04YjkxLTQyNGEtOWZhOC1lODZkM2FiODhlNDEiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcIlBlcm1pc3Npb25cIjozfSx7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJQZXJtaXNzaW9uXCI6MX1dIiwiYWNzbCI6IjEwIiwib2lkY19leHRyYSI6IntcInJlZlwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcInNoYVwiOlwiMWYzMmY1YzRkZWRhZDdhYzM1YTc4OTVlN2Y3NDBkOWU0ODM1OTkwM1wiLFwicmVwb3NpdG9yeVwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcInJhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCI1NzE0ODcyNFwiLFwicnVuX2lkXCI6XCIxMjQxOTk3MTI1OFwiLFwicnVuX251bWJlclwiOlwiMTMxXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIxODM1NjA1N1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwidGFnXCIsXCJ3b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJ3b3JrZmxvd19zaGFcIjpcIjFmMzJmNWM0ZGVkYWQ3YWMzNWE3ODk1ZTdmNzQwZDllNDgzNTk5MDNcIixcImVudmlyb25tZW50XCI6XCJnaXRodWItcGFnZXNcIixcImVudmlyb25tZW50X25vZGVfaWRcIjpcIkVOX2t3RE9EUVBaV2M0ZUV4MlpcIixcImpvYl93b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCIxZjMyZjVjNGRlZGFkN2FjMzVhNzg5NWU3Zjc0MGQ5ZTQ4MzU5OTAzXCIsXCJydW5uZXJfZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1ob3N0ZWRcIn0iLCJvaWRjX3N1YiI6InJlcG86cmFtcDQtcGNhcjQvcmFtcDQtcGNhcjQ6ZW52aXJvbm1lbnQ6Z2l0aHViLXBhZ2VzIiwib3JjaGlkIjoiZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5LmJ1aWxkLl9fZGVmYXVsdCIsImlzcyI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJhdWQiOiJ2c3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tfHZzbzpkYzhlN2U0ZC00ZDQ1LTQ4ZDAtYmY4YS02YmQ0YzZjMjQ2MDciLCJuYmYiOjE3MzQ2MzgxODcsImV4cCI6MTczNDY2MDk4N30.RARk5esxipY8hoZlRACe-X_yM76TNaGPNYLTOeo3QHil127k0ynntWTAIhvG4AnWGYhGaYy4r4nNazwMI7YVAcri6W6w4txoRtMEUdA20vrF04HAvi2LIMPtdLXXW03zl6hIVd22jIGJI6t6hor6a8dQKa5uN4XR_tcXzEI8Vhv3S4R4fOIPJthxGXdW5oC06Arc0YSPRDRDTk-Lb4qXWQVoaQ4oHaRZGaA0xHNITcKkzLN9AHvPFnzaIyK4iQ8Zr_0B2I-Tyor7AAKyCfvKVt980mzK76axB0fid1T0ATLZNg8nftwlvB-y9u-KqFPIf8iOeoMrMNQVV9FHigeU7w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_f84c0023-8fe3-4772-972b-468f8650057c",INVOCATION_ID:"b4280ab4ab86413d99aedf730c4ee39c",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"131",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"v4.10.0",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.10.0",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/tags/v4.10.0",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus2.actions.githubusercontent.com/CYYZq0bGEiBG5XjoYFUt7ZUW3UppKtccmRBdNq2vSmlX4E20ap/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e33fb1dd-9222-42ba-b794-b484fd33f849/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};function q1e(){"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(N0e().__INTLIFY_PROD_DEVTOOLS__=!1),"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(N0e().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(N0e().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Z1e=[];Z1e[0]={w:[0],i:[3,0],"[":[4],o:[7]},Z1e[1]={w:[1],".":[2],"[":[4],o:[7]},Z1e[2]={w:[2],i:[3,0],0:[3,0]},Z1e[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Z1e[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Z1e[5]={"'":[4,0],o:8,l:[5,0]},Z1e[6]={'"':[4,0],o:8,l:[6,0]};const Y1e=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function X1e(e){return Y1e.test(e)}function J1e(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function K1e(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Q1e(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(X1e(t)?J1e(t):"*"+t)}function e2e(e){const t=[];let n,r,i,o,s,a,l,c=-1,u=0,h=0;const p=[];function d(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,i="\\"+t,p[0](),!0}for(p[0]=()=>{void 0===r?r=i:r+=i},p[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},p[2]=()=>{p[0](),h++},p[3]=()=>{if(h>0)h--,u=4,p[0]();else{if(h=0,void 0===r||(r=Q1e(r),!1===r))return!1;p[1]()}};null!==u;)if(c++,n=e[c],"\\"!==n||!d()){if(o=K1e(n),l=Z1e[u],s=l[o]||l.l||8,8===s||(u=s[0],void 0!==s[1]&&(a=p[s[1]],a&&(i=n,!1===a()))))return;if(7===u)return t}}const t2e=new Map;function n2e(e,t){return V0e(e)?e[t]:null}function r2e(e,t){if(!V0e(e))return null;let n=t2e.get(t);if(n||(n=e2e(t),n&&t2e.set(t,n)),!n)return null;const r=n.length;let i=e,o=0;for(;o<r;){const e=i[n[o]];if(void 0===e||U0e(i))return null;i=e,o++}return i}const i2e=e=>e,o2e=e=>"",s2e="text",a2e=e=>0===e.length?"":Z0e(e),l2e=q0e;function c2e(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function u2e(e){const t=M0e(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(M0e(e.named.count)||M0e(e.named.n))?M0e(e.named.count)?e.named.count:M0e(e.named.n)?e.named.n:t:t}function h2e(e,t){t.count||(t.count=e),t.n||(t.n=e)}function p2e(e={}){const t=e.locale,n=u2e(e),r=V0e(e.pluralRules)&&z0e(t)&&U0e(e.pluralRules[t])?e.pluralRules[t]:c2e,i=V0e(e.pluralRules)&&z0e(t)&&U0e(e.pluralRules[t])?c2e:void 0,o=e=>e[r(n,e.length,i)],s=e.list||[],a=e=>s[e],l=e.named||R0e();M0e(e.pluralIndex)&&h2e(n,l);const c=e=>l[e];function u(t){return(U0e(e.messages)?e.messages(t):!!V0e(e.messages)&&e.messages[t])||(e.parent?e.parent.message(t):o2e)}const h=t=>e.modifiers?e.modifiers[t]:i2e,p=W0e(e.processor)&&U0e(e.processor.normalize)?e.processor.normalize:a2e,d=W0e(e.processor)&&U0e(e.processor.interpolate)?e.processor.interpolate:l2e,f=W0e(e.processor)&&z0e(e.processor.type)?e.processor.type:s2e,m={list:a,named:c,plural:o,linked:(e,...t)=>{const[n,r]=t;let i="text",o="";1===t.length?V0e(n)?(o=n.modifier||o,i=n.type||i):z0e(n)&&(o=n||o):2===t.length&&(z0e(n)&&(o=n||o),z0e(r)&&(i=r||i));const s=u(e)(m),a="vnode"===i&&j0e(s)&&o?s[0]:s;return o?h(o)(a,i):a},message:u,type:f,interpolate:d,normalize:p,values:O0e(R0e(),s,l)};return m}let d2e=null;function f2e(e){d2e=e}function m2e(e,t,n){d2e&&d2e.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const y2e=g2e("function:translate");function g2e(e){return t=>d2e&&d2e.emit(e,t)}const v2e=a1e.__EXTEND_POINT__,b2e=Y0e(v2e),w2e={NOT_FOUND_KEY:v2e,FALLBACK_TO_TRANSLATE:b2e(),CANNOT_FORMAT_NUMBER:b2e(),FALLBACK_TO_NUMBER_FORMAT:b2e(),CANNOT_FORMAT_DATE:b2e(),FALLBACK_TO_DATE_FORMAT:b2e(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:b2e(),__EXTEND_POINT__:b2e()},_2e=u1e.__EXTEND_POINT__,x2e=Y0e(_2e),S2e={INVALID_ARGUMENT:_2e,INVALID_DATE_ARGUMENT:x2e(),INVALID_ISO_DATE_ARGUMENT:x2e(),NOT_SUPPORT_NON_STRING_MESSAGE:x2e(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:x2e(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:x2e(),NOT_SUPPORT_LOCALE_TYPE:x2e(),__EXTEND_POINT__:x2e()};function T2e(e){return p1e(e,null,void 0)}function E2e(e,t){return null!=t.locale?A2e(t.locale):A2e(e.locale)}let M2e;function A2e(e){if(z0e(e))return e;if(U0e(e)){if(e.resolvedOnce&&null!=M2e)return M2e;if("Function"===e.constructor.name){const t=e();if(B0e(t))throw T2e(S2e.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return M2e=t}throw T2e(S2e.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}throw T2e(S2e.NOT_SUPPORT_LOCALE_TYPE)}function I2e(e,t,n){return[...new Set([n,...j0e(t)?t:V0e(t)?Object.keys(t):z0e(t)?[t]:[n]])]}function C2e(e,t,n){const r=z0e(n)?n:P2e,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(r);if(!o){o=[];let e=[n];for(;j0e(e);)e=O2e(o,e,t);const s=j0e(t)||!W0e(t)?t:t.default?t.default:null;e=z0e(s)?[s]:s,j0e(e)&&O2e(o,e,!1),i.__localeChainCache.set(r,o)}return o}function O2e(e,t,n){let r=!0;for(let i=0;i<t.length&&G0e(r);i++){const o=t[i];z0e(o)&&(r=k2e(e,t[i],n))}return r}function k2e(e,t,n){let r;const i=t.split("-");do{const t=i.join("-");r=R2e(e,t,n),i.splice(-1,1)}while(i.length&&!0===r);return r}function R2e(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const i=t.replace(/!/g,"");e.push(i),(j0e(n)||W0e(n))&&n[i]&&(r=n[i])}return r}const L2e="9.14.2",N2e=-1,P2e="en-US",D2e="",F2e=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function j2e(){return{upper:(e,t)=>"text"===t&&z0e(e)?e.toUpperCase():"vnode"===t&&V0e(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&z0e(e)?e.toLowerCase():"vnode"===t&&V0e(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&z0e(e)?F2e(e):"vnode"===t&&V0e(e)&&"__v_isVNode"in e?F2e(e.children):e}}let U2e,z2e,G2e;function V2e(e){U2e=e}function B2e(e){z2e=e}function $2e(e){G2e=e}let H2e=null;const W2e=()=>H2e;let q2e=null;const Z2e=e=>{q2e=e},Y2e=()=>q2e;let X2e=0;function J2e(e={}){const t=U0e(e.onWarn)?e.onWarn:X0e,n=z0e(e.version)?e.version:L2e,r=z0e(e.locale)||U0e(e.locale)?e.locale:P2e,i=U0e(r)?P2e:r,o=j0e(e.fallbackLocale)||W0e(e.fallbackLocale)||z0e(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:i,s=W0e(e.messages)?e.messages:K2e(i),a=W0e(e.datetimeFormats)?e.datetimeFormats:K2e(i),l=W0e(e.numberFormats)?e.numberFormats:K2e(i),c=O0e(R0e(),e.modifiers,j2e()),u=e.pluralRules||R0e(),h=U0e(e.missing)?e.missing:null,p=!G0e(e.missingWarn)&&!I0e(e.missingWarn)||e.missingWarn,d=!G0e(e.fallbackWarn)&&!I0e(e.fallbackWarn)||e.fallbackWarn,f=!!e.fallbackFormat,m=!!e.unresolving,y=U0e(e.postTranslation)?e.postTranslation:null,g=W0e(e.processor)?e.processor:null,v=!G0e(e.warnHtmlMessage)||e.warnHtmlMessage,b=!!e.escapeParameter,w=U0e(e.messageCompiler)?e.messageCompiler:U2e,_=U0e(e.messageResolver)?e.messageResolver:z2e||n2e,x=U0e(e.localeFallbacker)?e.localeFallbacker:G2e||I2e,S=V0e(e.fallbackContext)?e.fallbackContext:void 0,T=e,E=V0e(T.__datetimeFormatters)?T.__datetimeFormatters:new Map,M=V0e(T.__numberFormatters)?T.__numberFormatters:new Map,A=V0e(T.__meta)?T.__meta:{};X2e++;const I={version:n,cid:X2e,locale:r,fallbackLocale:o,messages:s,modifiers:c,pluralRules:u,missing:h,missingWarn:p,fallbackWarn:d,fallbackFormat:f,unresolving:m,postTranslation:y,processor:g,warnHtmlMessage:v,escapeParameter:b,messageCompiler:w,messageResolver:_,localeFallbacker:x,fallbackContext:S,onWarn:t,__meta:A};return I.datetimeFormats=a,I.numberFormats=l,I.__datetimeFormatters=E,I.__numberFormatters=M,__INTLIFY_PROD_DEVTOOLS__&&m2e(I,n,A),I}const K2e=e=>({[e]:R0e()});function Q2e(e,t,n,r,i){const{missing:o,onWarn:s}=e;if(null!==o){const r=o(e,n,t,i);return z0e(r)?r:t}return t}function e3e(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function t3e(e,t){return e!==t&&e.split("-")[0]===t.split("-")[0]}function n3e(e,t){const n=t.indexOf(e);if(-1===n)return!1;for(let r=n+1;r<t.length;r++)if(t3e(e,t[r]))return!0;return!1}function r3e(e){return t=>i3e(t,e)}function i3e(e,t){const n=s3e(t);if(null==n)throw T3e(0);if(1===y3e(n)){const t=l3e(n);return e.plural(t.reduce(((t,n)=>[...t,c3e(e,n)]),[]))}return c3e(e,n)}const o3e=["b","body"];function s3e(e){return S3e(e,o3e)}const a3e=["c","cases"];function l3e(e){return S3e(e,a3e,[])}function c3e(e,t){const n=h3e(t);if(null!=n)return"text"===e.type?n:e.normalize([n]);{const n=d3e(t).reduce(((t,n)=>[...t,f3e(e,n)]),[]);return e.normalize(n)}}const u3e=["s","static"];function h3e(e){return S3e(e,u3e)}const p3e=["i","items"];function d3e(e){return S3e(e,p3e,[])}function f3e(e,t){const n=y3e(t);switch(n){case 3:return v3e(t,n);case 9:return v3e(t,n);case 4:{const r=t;if(F0e(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(F0e(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw T3e(n)}case 5:{const r=t;if(F0e(r,"i")&&M0e(r.i))return e.interpolate(e.list(r.i));if(F0e(r,"index")&&M0e(r.index))return e.interpolate(e.list(r.index));throw T3e(n)}case 6:{const n=t,r=w3e(n),i=x3e(n);return e.linked(f3e(e,i),r?f3e(e,r):void 0,e.type)}case 7:return v3e(t,n);case 8:return v3e(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const m3e=["t","type"];function y3e(e){return S3e(e,m3e)}const g3e=["v","value"];function v3e(e,t){const n=S3e(e,g3e);if(n)return n;throw T3e(t)}const b3e=["m","modifier"];function w3e(e){return S3e(e,b3e)}const _3e=["k","key"];function x3e(e){const t=S3e(e,_3e);if(t)return t;throw T3e(6)}function S3e(e,t,n){for(let r=0;r<t.length;r++){const n=t[r];if(F0e(e,n)&&null!=e[n])return e[n]}return n}function T3e(e){return new Error(`unhandled node type: ${e}`)}const E3e=e=>e;let M3e=R0e();function A3e(e){return V0e(e)&&0===y3e(e)&&(F0e(e,"b")||F0e(e,"body"))}function I3e(e,t={}){let n=!1;const r=t.onError||d1e;return t.onError=e=>{n=!0,r(e)},{...H1e(e,t),detectError:n}}const C3e=(e,t)=>{if(!z0e(e))throw T2e(S2e.NOT_SUPPORT_NON_STRING_MESSAGE);{G0e(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||E3e)(e),r=M3e[n];if(r)return r;const{code:i,detectError:o}=I3e(e,t),s=new Function(`return ${i}`)();return o?s:M3e[n]=s}};function O3e(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&z0e(e)){G0e(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||E3e)(e),r=M3e[n];if(r)return r;const{ast:i,detectError:o}=I3e(e,{...t,location:"production"!==W1e.NODE_ENV,jit:!0}),s=r3e(i);return o?s:M3e[n]=s}{const t=e.cacheKey;return t?M3e[t]||(M3e[t]=r3e(e)):r3e(e)}}const k3e=()=>"",R3e=e=>U0e(e);function L3e(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:o,fallbackLocale:s,messages:a}=e,[l,c]=j3e(...t),u=G0e(c.missingWarn)?c.missingWarn:e.missingWarn,h=G0e(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=G0e(c.escapeParameter)?c.escapeParameter:e.escapeParameter,d=!!c.resolvedMessage,f=z0e(c.default)||G0e(c.default)?G0e(c.default)?o?l:()=>l:c.default:n?o?l:()=>l:"",m=n||""!==f,y=E2e(e,c);p&&N3e(c);let[g,v,b]=d?[l,y,a[y]||R0e()]:P3e(e,l,y,s,h,u),w=g,_=l;if(!d&&!(z0e(w)||A3e(w)||R3e(w))&&m&&(w=f,_=w),!d&&(!(z0e(w)||A3e(w)||R3e(w))||!z0e(v)))return i?N2e:l;let x=!1;const S=()=>{x=!0},T=R3e(w)?w:D3e(e,l,v,w,_,S);if(x)return w;const E=z3e(e,v,b,c),M=p2e(E),A=F3e(e,T,M),I=r?r(A,l):A;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:z0e(l)?l:R3e(w)?w.key:"",locale:v||(R3e(w)?w.locale:""),format:z0e(w)?w:R3e(w)?w.source:"",message:I};t.meta=O0e({},e.__meta,W2e()||{}),y2e(t)}return I}function N3e(e){j0e(e.list)?e.list=e.list.map((e=>z0e(e)?P0e(e):e)):V0e(e.named)&&Object.keys(e.named).forEach((t=>{z0e(e.named[t])&&(e.named[t]=P0e(e.named[t]))}))}function P3e(e,t,n,r,i,o){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:c}=e,u=c(e,r,n);let h,p=R0e(),d=null;const f="translate";for(let m=0;m<u.length&&(h=u[m],p=s[h]||R0e(),null===(d=l(p,t))&&(d=p[t]),!(z0e(d)||A3e(d)||R3e(d)));m++)if(!n3e(h,u)){const n=Q2e(e,t,h,o,f);n!==t&&(d=n)}return[d,h,p]}function D3e(e,t,n,r,i,o){const{messageCompiler:s,warnHtmlMessage:a}=e;if(R3e(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==s){const e=()=>r;return e.locale=n,e.key=t,e}const l=s(r,U3e(e,n,i,r,a,o));return l.locale=n,l.key=t,l.source=r,l}function F3e(e,t,n){return t(n)}function j3e(...e){const[t,n,r]=e,i=R0e();if(!z0e(t)&&!M0e(t)&&!R3e(t)&&!A3e(t))throw T2e(S2e.INVALID_ARGUMENT);const o=M0e(t)?String(t):(R3e(t),t);return M0e(n)?i.plural=n:z0e(n)?i.default=n:W0e(n)&&!C0e(n)?i.named=n:j0e(n)&&(i.list=n),M0e(r)?i.plural=r:z0e(r)?i.default=r:W0e(r)&&O0e(i,r),[o,i]}function U3e(e,t,n,r,i,o){return{locale:t,key:n,warnHtmlMessage:i,onError:e=>{throw o&&o(e),e},onCacheKey:e=>T0e(t,n,e)}}function z3e(e,t,n,r){const{modifiers:i,pluralRules:o,messageResolver:s,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,h={locale:t,modifiers:i,pluralRules:o,messages:r=>{let i=s(n,r);if(null==i&&u){const[,,e]=P3e(u,r,t,a,l,c);i=s(e,r)}if(z0e(i)||A3e(i)){let n=!1;const o=D3e(e,r,t,i,r,(()=>{n=!0}));return n?k3e:o}return R3e(i)?i:k3e}};return e.processor&&(h.processor=e.processor),r.list&&(h.list=r.list),r.named&&(h.named=r.named),M0e(r.plural)&&(h.pluralIndex=r.plural),h}function G3e(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:s}=e,{__datetimeFormatters:a}=e,[l,c,u,h]=B3e(...t),p=G0e(u.missingWarn)?u.missingWarn:e.missingWarn;G0e(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,f=E2e(e,u),m=s(e,i,f);if(!z0e(l)||""===l)return new Intl.DateTimeFormat(f,h).format(c);let y,g={},v=null;const b="datetime format";for(let x=0;x<m.length&&(y=m[x],g=n[y]||{},v=g[l],!W0e(v));x++)Q2e(e,l,y,p,b);if(!W0e(v)||!z0e(y))return r?N2e:l;let w=`${y}__${l}`;C0e(h)||(w=`${w}__${JSON.stringify(h)}`);let _=a.get(w);return _||(_=new Intl.DateTimeFormat(y,O0e({},v,h)),a.set(w,_)),d?_.formatToParts(c):_.format(c)}const V3e=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function B3e(...e){const[t,n,r,i]=e,o=R0e();let s,a=R0e();if(z0e(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw T2e(S2e.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();s=new Date(n);try{s.toISOString()}catch{throw T2e(S2e.INVALID_ISO_DATE_ARGUMENT)}}else if(A0e(t)){if(isNaN(t.getTime()))throw T2e(S2e.INVALID_DATE_ARGUMENT);s=t}else{if(!M0e(t))throw T2e(S2e.INVALID_ARGUMENT);s=t}return z0e(n)?o.key=n:W0e(n)&&Object.keys(n).forEach((e=>{V3e.includes(e)?a[e]=n[e]:o[e]=n[e]})),z0e(r)?o.locale=r:W0e(r)&&(a=r),W0e(i)&&(a=i),[o.key||"",s,o,a]}function $3e(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function H3e(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:s}=e,{__numberFormatters:a}=e,[l,c,u,h]=q3e(...t),p=G0e(u.missingWarn)?u.missingWarn:e.missingWarn;G0e(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,f=E2e(e,u),m=s(e,i,f);if(!z0e(l)||""===l)return new Intl.NumberFormat(f,h).format(c);let y,g={},v=null;const b="number format";for(let x=0;x<m.length&&(y=m[x],g=n[y]||{},v=g[l],!W0e(v));x++)Q2e(e,l,y,p,b);if(!W0e(v)||!z0e(y))return r?N2e:l;let w=`${y}__${l}`;C0e(h)||(w=`${w}__${JSON.stringify(h)}`);let _=a.get(w);return _||(_=new Intl.NumberFormat(y,O0e({},v,h)),a.set(w,_)),d?_.formatToParts(c):_.format(c)}const W3e=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function q3e(...e){const[t,n,r,i]=e,o=R0e();let s=R0e();if(!M0e(t))throw T2e(S2e.INVALID_ARGUMENT);const a=t;return z0e(n)?o.key=n:W0e(n)&&Object.keys(n).forEach((e=>{W3e.includes(e)?s[e]=n[e]:o[e]=n[e]})),z0e(r)?o.locale=r:W0e(r)&&(s=r),W0e(i)&&(s=i),[o.key||"",a,o,s]}function Z3e(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}q1e();var Y3e={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"ramp4-pcar4",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"57148724",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"833",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6481",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12419971258",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"tag",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"ramp4-pcar4/ramp4-pcar4/.github/workflows/demo-build.yml@refs/tags/v4.10.0",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5OmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMTc5NyBEaXN0cmlidXRlZFRhc2suR2VuZXJhdGVJZFRva2VuOmUzM2ZiMWRkLTkyMjItNDJiYS1iNzk0LWI0ODRmZDMzZjg0OTpjYTM5NTA4NS0wNDBhLTUyNmItMmNlOC1iZGM4NWY2OTI3NzQgTG9jYXRpb25TZXJ2aWNlLkNvbm5lY3QgUmVhZEFuZFVwZGF0ZUJ1aWxkQnlVcmk6MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwLzE6QnVpbGQvQnVpbGQvMTE3OTciLCJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJERERERERERC1ERERELUREREQtRERERC1EREREREREREREREQiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJhdWkiOiIxZmE4NDE2ZS05OTQzLTRlMWEtYjY4MS1hODAxOGQxOGIzNzQiLCJzaWQiOiJhMDllZjkzMi04YjkxLTQyNGEtOWZhOC1lODZkM2FiODhlNDEiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcIlBlcm1pc3Npb25cIjozfSx7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9tYWluXCIsXCJQZXJtaXNzaW9uXCI6MX1dIiwiYWNzbCI6IjEwIiwib2lkY19leHRyYSI6IntcInJlZlwiOlwicmVmcy90YWdzL3Y0LjEwLjBcIixcInNoYVwiOlwiMWYzMmY1YzRkZWRhZDdhYzM1YTc4OTVlN2Y3NDBkOWU0ODM1OTkwM1wiLFwicmVwb3NpdG9yeVwiOlwicmFtcDQtcGNhcjQvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfb3duZXJcIjpcInJhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCI1NzE0ODcyNFwiLFwicnVuX2lkXCI6XCIxMjQxOTk3MTI1OFwiLFwicnVuX251bWJlclwiOlwiMTMxXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIxODM1NjA1N1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwidGFnXCIsXCJ3b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJ3b3JrZmxvd19zaGFcIjpcIjFmMzJmNWM0ZGVkYWQ3YWMzNWE3ODk1ZTdmNzQwZDllNDgzNTk5MDNcIixcImVudmlyb25tZW50XCI6XCJnaXRodWItcGFnZXNcIixcImVudmlyb25tZW50X25vZGVfaWRcIjpcIkVOX2t3RE9EUVBaV2M0ZUV4MlpcIixcImpvYl93b3JrZmxvd19yZWZcIjpcInJhbXA0LXBjYXI0L3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvdGFncy92NC4xMC4wXCIsXCJqb2Jfd29ya2Zsb3dfc2hhXCI6XCIxZjMyZjVjNGRlZGFkN2FjMzVhNzg5NWU3Zjc0MGQ5ZTQ4MzU5OTAzXCIsXCJydW5uZXJfZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1ob3N0ZWRcIn0iLCJvaWRjX3N1YiI6InJlcG86cmFtcDQtcGNhcjQvcmFtcDQtcGNhcjQ6ZW52aXJvbm1lbnQ6Z2l0aHViLXBhZ2VzIiwib3JjaGlkIjoiZTMzZmIxZGQtOTIyMi00MmJhLWI3OTQtYjQ4NGZkMzNmODQ5LmJ1aWxkLl9fZGVmYXVsdCIsImlzcyI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJhdWQiOiJ2c3Rva2VuLmFjdGlvbnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tfHZzbzpkYzhlN2U0ZC00ZDQ1LTQ4ZDAtYmY4YS02YmQ0YzZjMjQ2MDciLCJuYmYiOjE3MzQ2MzgxODcsImV4cCI6MTczNDY2MDk4N30.RARk5esxipY8hoZlRACe-X_yM76TNaGPNYLTOeo3QHil127k0ynntWTAIhvG4AnWGYhGaYy4r4nNazwMI7YVAcri6W6w4txoRtMEUdA20vrF04HAvi2LIMPtdLXXW03zl6hIVd22jIGJI6t6hor6a8dQKa5uN4XR_tcXzEI8Vhv3S4R4fOIPJthxGXdW5oC06Arc0YSPRDRDTk-Lb4qXWQVoaQ4oHaRZGaA0xHNITcKkzLN9AHvPFnzaIyK4iQ8Zr_0B2I-Tyor7AAKyCfvKVt980mzK76axB0fid1T0ATLZNg8nftwlvB-y9u-KqFPIf8iOeoMrMNQVV9FHigeU7w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_f84c0023-8fe3-4772-972b-468f8650057c",INVOCATION_ID:"b4280ab4ab86413d99aedf730c4ee39c",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"131",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"v4.10.0",GITHUB_REPOSITORY:"ramp4-pcar4/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"218356057",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.10.0",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"1f32f5c4dedad7ac35a7895e7f740d9e48359903",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/tags/v4.10.0",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus2.actions.githubusercontent.com/CYYZq0bGEiBG5XjoYFUt7ZUW3UppKtccmRBdNq2vSmlX4E20ap/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e33fb1dd-9222-42ba-b794-b484fd33f849/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_9bd0f9f7-f7ed-4fa4-9da2-a24fd182d25d",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const X3e="9.14.2";function J3e(){"boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(N0e().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(N0e().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(N0e().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(N0e().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(N0e().__INTLIFY_PROD_DEVTOOLS__=!1)}const K3e=w2e.__EXTEND_POINT__,Q3e=Y0e(K3e);Q3e(),Q3e(),Q3e(),Q3e(),Q3e(),Q3e(),Q3e(),Q3e(),Q3e();const e4e=S2e.__EXTEND_POINT__,t4e=Y0e(e4e),n4e={UNEXPECTED_RETURN_TYPE:e4e,INVALID_ARGUMENT:t4e(),MUST_BE_CALL_SETUP_TOP:t4e(),NOT_INSTALLED:t4e(),NOT_AVAILABLE_IN_LEGACY_MODE:t4e(),REQUIRED_VALUE:t4e(),INVALID_VALUE:t4e(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:t4e(),NOT_INSTALLED_WITH_PROVIDE:t4e(),UNEXPECTED_ERROR:t4e(),NOT_COMPATIBLE_LEGACY_VUE_I18N:t4e(),BRIDGE_SUPPORT_VUE_2_ONLY:t4e(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:t4e(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:t4e(),__EXTEND_POINT__:t4e()};function r4e(e,...t){return p1e(e,null,void 0)}const i4e=S0e("__translateVNode"),o4e=S0e("__datetimeParts"),s4e=S0e("__numberParts"),a4e=S0e("__setPluralRules"),l4e=S0e("__injectWithOption"),c4e=S0e("__dispose");function u4e(e){if(!V0e(e))return e;for(const t in e)if(F0e(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let i=e,o=!1;for(let e=0;e<r;e++){if(n[e]in i||(i[n[e]]=R0e()),!V0e(i[n[e]])){o=!0;break}i=i[n[e]]}o||(i[n[r]]=e[t],delete e[t]),V0e(i[n[r]])&&u4e(i[n[r]])}else V0e(e[t])&&u4e(e[t]);return e}function h4e(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:o}=t,s=W0e(n)?n:j0e(r)?R0e():{[e]:R0e()};if(j0e(r)&&r.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(s[t]=s[t]||R0e(),K0e(n,s[t])):K0e(n,s)}else z0e(e)&&K0e(JSON.parse(e),s)})),null==i&&o)for(const a in s)F0e(s,a)&&u4e(s[a]);return s}function p4e(e){return e.type}function d4e(e,t,n){let r=V0e(t.messages)?t.messages:R0e();"__i18nGlobal"in n&&(r=h4e(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);if(i.length&&i.forEach((t=>{e.mergeLocaleMessage(t,r[t])})),V0e(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach((n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if(V0e(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach((n=>{e.mergeNumberFormat(n,t.numberFormats[n])}))}}function f4e(e){return LXe(mXe,null,e,0)}const m4e=()=>[],y4e=()=>!1;let g4e=0;function v4e(e){return(t,n,r,i)=>e(n,r,YXe()||void 0,i)}function b4e(e={},t){const{__root:n,__injectWithOption:r}=e,i=void 0===n,o=e.flatJson,s=x0e?yHe:gHe,a=!!e.translateExistCompatible;let l=!G0e(e.inheritLocale)||e.inheritLocale;const c=s(n&&l?n.locale.value:z0e(e.locale)?e.locale:P2e),u=s(n&&l?n.fallbackLocale.value:z0e(e.fallbackLocale)||j0e(e.fallbackLocale)||W0e(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:c.value),h=s(h4e(c.value,e)),p=s(W0e(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),d=s(W0e(e.numberFormats)?e.numberFormats:{[c.value]:{}});let f=n?n.missingWarn:!G0e(e.missingWarn)&&!I0e(e.missingWarn)||e.missingWarn,m=n?n.fallbackWarn:!G0e(e.fallbackWarn)&&!I0e(e.fallbackWarn)||e.fallbackWarn,y=n?n.fallbackRoot:!G0e(e.fallbackRoot)||e.fallbackRoot,g=!!e.fallbackFormat,v=U0e(e.missing)?e.missing:null,b=U0e(e.missing)?v4e(e.missing):null,w=U0e(e.postTranslation)?e.postTranslation:null,_=n?n.warnHtmlMessage:!G0e(e.warnHtmlMessage)||e.warnHtmlMessage,x=!!e.escapeParameter;const S=n?n.modifiers:W0e(e.modifiers)?e.modifiers:{};let T,E=e.pluralRules||n&&n.pluralRules;function M(){return[c.value,u.value,h.value,p.value,d.value]}T=(()=>{i&&Z2e(null);const t={version:X3e,locale:c.value,fallbackLocale:u.value,messages:h.value,modifiers:S,pluralRules:E,missing:null===b?void 0:b,missingWarn:f,fallbackWarn:m,fallbackFormat:g,unresolving:!0,postTranslation:null===w?void 0:w,warnHtmlMessage:_,escapeParameter:x,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};t.datetimeFormats=p.value,t.numberFormats=d.value,t.__datetimeFormatters=W0e(T)?T.__datetimeFormatters:void 0,t.__numberFormatters=W0e(T)?T.__numberFormatters:void 0;const n=J2e(t);return i&&Z2e(n),n})(),e3e(T,c.value,u.value);const A=vJe({get:()=>c.value,set:e=>{c.value=e,T.locale=c.value}}),I=vJe({get:()=>u.value,set:e=>{u.value=e,T.fallbackLocale=u.value,e3e(T,c.value,e)}}),C=vJe((()=>h.value)),O=vJe((()=>p.value)),k=vJe((()=>d.value));function R(){return U0e(w)?w:null}function L(e){w=e,T.postTranslation=e}function N(){return v}function P(e){null!==e&&(b=v4e(e)),v=e,T.missing=b}const D=(e,t,r,o,s,a)=>{let l;M();try{"production"!==Y3e.NODE_ENV||__INTLIFY_PROD_DEVTOOLS__,i||(T.fallbackContext=n?Y2e():void 0),l=e(T)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(T.fallbackContext=void 0)}if("translate exists"!==r&&M0e(l)&&l===N2e||"translate exists"===r&&!l){const[e,r]=t();return n&&y?o(n):s(e)}if(a(l))return l;throw r4e(n4e.UNEXPECTED_RETURN_TYPE)};function F(...e){return D((t=>Reflect.apply(L3e,null,[t,...e])),(()=>j3e(...e)),"translate",(t=>Reflect.apply(t.t,t,[...e])),(e=>e),(e=>z0e(e)))}function j(...e){const[t,n,r]=e;if(r&&!V0e(r))throw r4e(n4e.INVALID_ARGUMENT);return F(t,n,O0e({resolvedMessage:!0},r||{}))}function U(...e){return D((t=>Reflect.apply(G3e,null,[t,...e])),(()=>B3e(...e)),"datetime format",(t=>Reflect.apply(t.d,t,[...e])),(()=>D2e),(e=>z0e(e)))}function z(...e){return D((t=>Reflect.apply(H3e,null,[t,...e])),(()=>q3e(...e)),"number format",(t=>Reflect.apply(t.n,t,[...e])),(()=>D2e),(e=>z0e(e)))}function G(e){return e.map((e=>z0e(e)||M0e(e)||G0e(e)?f4e(String(e)):e))}const V={normalize:G,interpolate:e=>e,type:"vnode"};function B(...e){return D((t=>{let n;const r=t;try{r.processor=V,n=Reflect.apply(L3e,null,[r,...e])}finally{r.processor=null}return n}),(()=>j3e(...e)),"translate",(t=>t[i4e](...e)),(e=>[f4e(e)]),(e=>j0e(e)))}function $(...e){return D((t=>Reflect.apply(H3e,null,[t,...e])),(()=>q3e(...e)),"number format",(t=>t[s4e](...e)),m4e,(e=>z0e(e)||j0e(e)))}function H(...e){return D((t=>Reflect.apply(G3e,null,[t,...e])),(()=>B3e(...e)),"datetime format",(t=>t[o4e](...e)),m4e,(e=>z0e(e)||j0e(e)))}function W(e){E=e,T.pluralRules=E}function q(e,t){return D((()=>{if(!e)return!1;const n=z0e(t)?t:c.value,r=X(n),i=T.messageResolver(r,e);return a?null!=i:A3e(i)||R3e(i)||z0e(i)}),(()=>[e]),"translate exists",(n=>Reflect.apply(n.te,n,[e,t])),y4e,(e=>G0e(e)))}function Z(e){let t=null;const n=C2e(T,u.value,c.value);for(let r=0;r<n.length;r++){const i=h.value[n[r]]||{},o=T.messageResolver(i,e);if(null!=o){t=o;break}}return t}function Y(e){return Z(e)??(n&&n.tm(e)||{})}function X(e){return h.value[e]||{}}function J(e,t){if(o){const n={[e]:t};for(const e in n)F0e(n,e)&&u4e(n[e]);t=n[e]}h.value[e]=t,T.messages=h.value}function K(e,t){h.value[e]=h.value[e]||{};const n={[e]:t};if(o)for(const r in n)F0e(n,r)&&u4e(n[r]);t=n[e],K0e(t,h.value[e]),T.messages=h.value}function Q(e){return p.value[e]||{}}function ee(e,t){p.value[e]=t,T.datetimeFormats=p.value,$3e(T,e,t)}function te(e,t){p.value[e]=O0e(p.value[e]||{},t),T.datetimeFormats=p.value,$3e(T,e,t)}function ne(e){return d.value[e]||{}}function re(e,t){d.value[e]=t,T.numberFormats=d.value,Z3e(T,e,t)}function ie(e,t){d.value[e]=O0e(d.value[e]||{},t),T.numberFormats=d.value,Z3e(T,e,t)}g4e++,n&&x0e&&(jYe(n.locale,(e=>{l&&(c.value=e,T.locale=e,e3e(T,c.value,u.value))})),jYe(n.fallbackLocale,(e=>{l&&(u.value=e,T.fallbackLocale=e,e3e(T,c.value,u.value))})));const oe={id:g4e,locale:A,fallbackLocale:I,get inheritLocale(){return l},set inheritLocale(e){l=e,e&&n&&(c.value=n.locale.value,u.value=n.fallbackLocale.value,e3e(T,c.value,u.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:C,get modifiers(){return S},get pluralRules(){return E||{}},get isGlobal(){return i},get missingWarn(){return f},set missingWarn(e){f=e,T.missingWarn=f},get fallbackWarn(){return m},set fallbackWarn(e){m=e,T.fallbackWarn=m},get fallbackRoot(){return y},set fallbackRoot(e){y=e},get fallbackFormat(){return g},set fallbackFormat(e){g=e,T.fallbackFormat=g},get warnHtmlMessage(){return _},set warnHtmlMessage(e){_=e,T.warnHtmlMessage=e},get escapeParameter(){return x},set escapeParameter(e){x=e,T.escapeParameter=e},t:F,getLocaleMessage:X,setLocaleMessage:J,mergeLocaleMessage:K,getPostTranslationHandler:R,setPostTranslationHandler:L,getMissingHandler:N,setMissingHandler:P,[a4e]:W};return oe.datetimeFormats=O,oe.numberFormats=k,oe.rt=j,oe.te=q,oe.tm=Y,oe.d=U,oe.n=z,oe.getDateTimeFormat=Q,oe.setDateTimeFormat=ee,oe.mergeDateTimeFormat=te,oe.getNumberFormat=ne,oe.setNumberFormat=re,oe.mergeNumberFormat=ie,oe[l4e]=r,oe[i4e]=B,oe[o4e]=H,oe[s4e]=$,oe}function w4e(e){const t=z0e(e.locale)?e.locale:P2e,n=z0e(e.fallbackLocale)||j0e(e.fallbackLocale)||W0e(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=U0e(e.missing)?e.missing:void 0,i=!G0e(e.silentTranslationWarn)&&!I0e(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!G0e(e.silentFallbackWarn)&&!I0e(e.silentFallbackWarn)||!e.silentFallbackWarn,s=!G0e(e.fallbackRoot)||e.fallbackRoot,a=!!e.formatFallbackMessages,l=W0e(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=U0e(e.postTranslation)?e.postTranslation:void 0,h=!z0e(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,p=!!e.escapeParameterHtml,d=!G0e(e.sync)||e.sync;let f=e.messages;if(W0e(e.sharedMessages)){const t=e.sharedMessages;f=Object.keys(t).reduce(((e,n)=>{const r=e[n]||(e[n]={});return O0e(r,t[n]),e}),f||{})}const{__i18n:m,__root:y,__injectWithOption:g}=e,v=e.datetimeFormats,b=e.numberFormats,w=e.flatJson,_=e.translateExistCompatible;return{locale:t,fallbackLocale:n,messages:f,flatJson:w,datetimeFormats:v,numberFormats:b,missing:r,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:d,translateExistCompatible:_,__i18n:m,__root:y,__injectWithOption:g}}function _4e(e={},t){{const t=b4e(w4e(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return G0e(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=G0e(e)?!e:e},get silentFallbackWarn(){return G0e(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=G0e(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,i]=e,o={};let s=null,a=null;if(!z0e(n))throw r4e(n4e.INVALID_ARGUMENT);const l=n;return z0e(r)?o.locale=r:j0e(r)?s=r:W0e(r)&&(a=r),j0e(i)?s=i:W0e(i)&&(a=i),Reflect.apply(t.t,t,[l,s||a||{},o])},rt(...e){return Reflect.apply(t.rt,t,[...e])},tc(...e){const[n,r,i]=e,o={plural:1};let s=null,a=null;if(!z0e(n))throw r4e(n4e.INVALID_ARGUMENT);const l=n;return z0e(r)?o.locale=r:M0e(r)?o.plural=r:j0e(r)?s=r:W0e(r)&&(a=r),z0e(i)?o.locale=i:j0e(i)?s=i:W0e(i)&&(a=i),Reflect.apply(t.t,t,[l,s||a||{},o])},te(e,n){return t.te(e,n)},tm(e){return t.tm(e)},getLocaleMessage(e){return t.getLocaleMessage(e)},setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d(...e){return Reflect.apply(t.d,t,[...e])},getDateTimeFormat(e){return t.getDateTimeFormat(e)},setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n(...e){return Reflect.apply(t.n,t,[...e])},getNumberFormat(e){return t.getNumberFormat(e)},setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex(e,t){return-1}};return r.__extender=n,r}}const x4e={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function S4e({slots:e},t){return 1===t.length&&"default"===t[0]?(e.default?e.default():[]).reduce(((e,t)=>[...e,...t.type===fXe?t.children:[t]]),[]):t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),R0e())}function T4e(e){return fXe}const E4e=hqe({name:"i18n-t",props:O0e({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>M0e(e)||!isNaN(e)}},x4e),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||V4e({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter((e=>"_"!==e)),s=R0e();e.locale&&(s.locale=e.locale),void 0!==e.plural&&(s.plural=z0e(e.plural)?+e.plural:e.plural);const a=S4e(t,o),l=i[i4e](e.keypath,a,s),c=O0e(R0e(),r),u=z0e(e.tag)||V0e(e.tag)?e.tag:T4e();return bJe(u,c,l)}}}),M4e=E4e;function A4e(e){return j0e(e)&&!z0e(e[0])}function I4e(e,t,n,r){const{slots:i,attrs:o}=t;return()=>{const t={part:!0};let s=R0e();e.locale&&(t.locale=e.locale),z0e(e.format)?t.key=e.format:V0e(e.format)&&(z0e(e.format.key)&&(t.key=e.format.key),s=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?O0e(R0e(),t,{[r]:e.format[r]}):t),R0e()));const a=r(e.value,t,s);let l=[t.key];j0e(a)?l=a.map(((e,t)=>{const n=i[e.type],r=n?n({[e.type]:e.value,index:t,parts:a}):[e.value];return A4e(r)&&(r[0].key=`${e.type}-${t}`),r})):z0e(a)&&(l=[a]);const c=O0e(R0e(),o),u=z0e(e.tag)||V0e(e.tag)?e.tag:T4e();return bJe(u,c,l)}}const C4e=hqe({name:"i18n-n",props:O0e({value:{type:Number,required:!0},format:{type:[String,Object]}},x4e),setup(e,t){const n=e.i18n||V4e({useScope:e.scope,__useComponent:!0});return I4e(e,t,W3e,((...e)=>n[s4e](...e)))}}),O4e=C4e,k4e=hqe({name:"i18n-d",props:O0e({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},x4e),setup(e,t){const n=e.i18n||V4e({useScope:e.scope,__useComponent:!0});return I4e(e,t,V3e,((...e)=>n[o4e](...e)))}}),R4e=k4e;function L4e(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}function N4e(e){const t=t=>{const{instance:n,modifiers:r,value:i}=t;if(!n||!n.$)throw r4e(n4e.UNEXPECTED_ERROR);const o=L4e(e,n.$),s=P4e(i);return[Reflect.apply(o.t,o,[...D4e(s)]),o]};return{created:(n,r)=>{const[i,o]=t(r);x0e&&e.global===o&&(n.__i18nWatcher=jYe(o.locale,(()=>{r.instance&&r.instance.$forceUpdate()}))),n.__composer=o,n.textContent=i},unmounted:e=>{x0e&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){const n=e.__composer,r=P4e(t);e.textContent=Reflect.apply(n.t,n,[...D4e(r)])}},getSSRProps:e=>{const[n]=t(e);return{textContent:n}}}}function P4e(e){if(z0e(e))return{path:e};if(W0e(e)){if(!("path"in e))throw r4e(n4e.REQUIRED_VALUE,"path");return e}throw r4e(n4e.INVALID_VALUE)}function D4e(e){const{path:t,locale:n,args:r,choice:i,plural:o}=e,s={},a=r||{};return z0e(n)&&(s.locale=n),M0e(i)&&(s.plural=i),M0e(o)&&(s.plural=o),[t,a,s]}function F4e(e,t,...n){const r=W0e(n[0])?n[0]:{},i=!!r.useI18nComponentName;(!G0e(r.globalInstall)||r.globalInstall)&&([i?"i18n":M4e.name,"I18nT"].forEach((t=>e.component(t,M4e))),[O4e.name,"I18nN"].forEach((t=>e.component(t,O4e))),[R4e.name,"I18nD"].forEach((t=>e.component(t,R4e)))),e.directive("t",N4e(t))}function j4e(e,t,n){return{beforeCreate(){const r=YXe();if(!r)throw r4e(n4e.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const r=i.i18n;if(i.__i18n&&(r.__i18n=i.__i18n),r.__root=t,this===this.$root)this.$i18n=U4e(e,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=_4e(r);const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=U4e(e,i);else{this.$i18n=_4e({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&d4e(t,i,i),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const e=YXe();if(!e)throw r4e(n4e.UNEXPECTED_ERROR);const t=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,t.__disposer&&(t.__disposer(),delete t.__disposer,delete t.__extender),n.__deleteInstance(e),delete this.$i18n}}}function U4e(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[a4e](t.pluralizationRules||e.pluralizationRules);const n=h4e(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}const z4e=S0e("global-vue-i18n");function G4e(e={},t){const n=__VUE_I18N_LEGACY_API__&&G0e(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=!G0e(e.globalInjection)||e.globalInjection,i=!__VUE_I18N_LEGACY_API__||!n||!!e.allowComposition,o=new Map,[s,a]=B4e(e,n),l=S0e("");function c(e){return o.get(e)||null}function u(e,t){o.set(e,t)}function h(e){o.delete(e)}{const e={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(t,...i){if(t.__VUE_I18N_SYMBOL__=l,t.provide(t.__VUE_I18N_SYMBOL__,e),W0e(i[0])){const t=i[0];e.__composerExtend=t.__composerExtend,e.__vueI18nExtend=t.__vueI18nExtend}let o=null;!n&&r&&(o=Q4e(t,e.global)),__VUE_I18N_FULL_INSTALL__&&F4e(t,e,...i),__VUE_I18N_LEGACY_API__&&n&&t.mixin(j4e(a,a.__composer,e));const s=t.unmount;t.unmount=()=>{o&&o(),e.dispose(),s()}},get global(){return a},dispose(){s.stop()},__instances:o,__getInstance:c,__setInstance:u,__deleteInstance:h};return e}}function V4e(e={}){const t=YXe();if(null==t)throw r4e(n4e.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw r4e(n4e.NOT_INSTALLED);const n=$4e(t),r=W4e(n),i=p4e(t),o=H4e(e,i);if(__VUE_I18N_LEGACY_API__&&"legacy"===n.mode&&!e.__useComponent){if(!n.allowComposition)throw r4e(n4e.NOT_AVAILABLE_IN_LEGACY_MODE);return X4e(t,o,r,e)}if("global"===o)return d4e(r,e,i),r;if("parent"===o){let i=q4e(n,t,e.__useComponent);return null==i&&(i=r),i}const s=n;let a=s.__getInstance(t);if(null==a){const n=O0e({},e);"__i18n"in i&&(n.__i18n=i.__i18n),r&&(n.__root=r),a=b4e(n),s.__composerExtend&&(a[c4e]=s.__composerExtend(a)),Y4e(s,t,a),s.__setInstance(t,a)}return a}function B4e(e,t,n){const r=CBe();{const n=__VUE_I18N_LEGACY_API__&&t?r.run((()=>_4e(e))):r.run((()=>b4e(e)));if(null==n)throw r4e(n4e.UNEXPECTED_ERROR);return[r,n]}}function $4e(e){{const t=nYe(e.isCE?z4e:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw r4e(e.isCE?n4e.NOT_INSTALLED_WITH_PROVIDE:n4e.UNEXPECTED_ERROR);return t}}function H4e(e,t){return C0e(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function W4e(e){return"composition"===e.mode?e.global:e.global.__composer}function q4e(e,t,n=!1){let r=null;const i=t.root;let o=Z4e(t,n);for(;null!=o;){const t=e;if("composition"===e.mode)r=t.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(o);null!=e&&(r=e.__composer,n&&r&&!r[l4e]&&(r=null))}if(null!=r||i===o)break;o=o.parent}return r}function Z4e(e,t=!1){return null==e?null:t&&e.vnode.ctx||e.parent}function Y4e(e,t,n){Zqe((()=>{}),t),Kqe((()=>{const r=n;e.__deleteInstance(t);const i=r[c4e];i&&(i(),delete r[c4e])}),t)}function X4e(e,t,n,r={}){const i="local"===t,o=gHe(null);if(i&&e.proxy&&!e.proxy.$options.i18n&&!e.proxy.$options.__i18n)throw r4e(n4e.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const s=G0e(r.inheritLocale)?r.inheritLocale:!z0e(r.locale),a=yHe(!i||s?n.locale.value:z0e(r.locale)?r.locale:P2e),l=yHe(!i||s?n.fallbackLocale.value:z0e(r.fallbackLocale)||j0e(r.fallbackLocale)||W0e(r.fallbackLocale)||!1===r.fallbackLocale?r.fallbackLocale:a.value),c=yHe(h4e(a.value,r)),u=yHe(W0e(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),h=yHe(W0e(r.numberFormats)?r.numberFormats:{[a.value]:{}}),p=i?n.missingWarn:!G0e(r.missingWarn)&&!I0e(r.missingWarn)||r.missingWarn,d=i?n.fallbackWarn:!G0e(r.fallbackWarn)&&!I0e(r.fallbackWarn)||r.fallbackWarn,f=i?n.fallbackRoot:!G0e(r.fallbackRoot)||r.fallbackRoot,m=!!r.fallbackFormat,y=U0e(r.missing)?r.missing:null,g=U0e(r.postTranslation)?r.postTranslation:null,v=i?n.warnHtmlMessage:!G0e(r.warnHtmlMessage)||r.warnHtmlMessage,b=!!r.escapeParameter,w=i?n.modifiers:W0e(r.modifiers)?r.modifiers:{},_=r.pluralRules||i&&n.pluralRules;function x(){return[a.value,l.value,c.value,u.value,h.value]}const S=vJe({get:()=>o.value?o.value.locale.value:a.value,set:e=>{o.value&&(o.value.locale.value=e),a.value=e}}),T=vJe({get:()=>o.value?o.value.fallbackLocale.value:l.value,set:e=>{o.value&&(o.value.fallbackLocale.value=e),l.value=e}}),E=vJe((()=>o.value?o.value.messages.value:c.value)),M=vJe((()=>u.value)),A=vJe((()=>h.value));function I(){return o.value?o.value.getPostTranslationHandler():g}function C(e){o.value&&o.value.setPostTranslationHandler(e)}function O(){return o.value?o.value.getMissingHandler():y}function k(e){o.value&&o.value.setMissingHandler(e)}function R(e){return x(),e()}function L(...e){return o.value?R((()=>Reflect.apply(o.value.t,null,[...e]))):R((()=>""))}function N(...e){return o.value?Reflect.apply(o.value.rt,null,[...e]):""}function P(...e){return o.value?R((()=>Reflect.apply(o.value.d,null,[...e]))):R((()=>""))}function D(...e){return o.value?R((()=>Reflect.apply(o.value.n,null,[...e]))):R((()=>""))}function F(e){return o.value?o.value.tm(e):{}}function j(e,t){return!!o.value&&o.value.te(e,t)}function U(e){return o.value?o.value.getLocaleMessage(e):{}}function z(e,t){o.value&&(o.value.setLocaleMessage(e,t),c.value[e]=t)}function G(e,t){o.value&&o.value.mergeLocaleMessage(e,t)}function V(e){return o.value?o.value.getDateTimeFormat(e):{}}function B(e,t){o.value&&(o.value.setDateTimeFormat(e,t),u.value[e]=t)}function $(e,t){o.value&&o.value.mergeDateTimeFormat(e,t)}function H(e){return o.value?o.value.getNumberFormat(e):{}}function W(e,t){o.value&&(o.value.setNumberFormat(e,t),h.value[e]=t)}function q(e,t){o.value&&o.value.mergeNumberFormat(e,t)}const Z={get id(){return o.value?o.value.id:-1},locale:S,fallbackLocale:T,messages:E,datetimeFormats:M,numberFormats:A,get inheritLocale(){return o.value?o.value.inheritLocale:s},set inheritLocale(e){o.value&&(o.value.inheritLocale=e)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(c.value)},get modifiers(){return o.value?o.value.modifiers:w},get pluralRules(){return o.value?o.value.pluralRules:_},get isGlobal(){return!!o.value&&o.value.isGlobal},get missingWarn(){return o.value?o.value.missingWarn:p},set missingWarn(e){o.value&&(o.value.missingWarn=e)},get fallbackWarn(){return o.value?o.value.fallbackWarn:d},set fallbackWarn(e){o.value&&(o.value.missingWarn=e)},get fallbackRoot(){return o.value?o.value.fallbackRoot:f},set fallbackRoot(e){o.value&&(o.value.fallbackRoot=e)},get fallbackFormat(){return o.value?o.value.fallbackFormat:m},set fallbackFormat(e){o.value&&(o.value.fallbackFormat=e)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:v},set warnHtmlMessage(e){o.value&&(o.value.warnHtmlMessage=e)},get escapeParameter(){return o.value?o.value.escapeParameter:b},set escapeParameter(e){o.value&&(o.value.escapeParameter=e)},t:L,getPostTranslationHandler:I,setPostTranslationHandler:C,getMissingHandler:O,setMissingHandler:k,rt:N,d:P,n:D,tm:F,te:j,getLocaleMessage:U,setLocaleMessage:z,mergeLocaleMessage:G,getDateTimeFormat:V,setDateTimeFormat:B,mergeDateTimeFormat:$,getNumberFormat:H,setNumberFormat:W,mergeNumberFormat:q};function Y(e){e.locale.value=a.value,e.fallbackLocale.value=l.value,Object.keys(c.value).forEach((t=>{e.mergeLocaleMessage(t,c.value[t])})),Object.keys(u.value).forEach((t=>{e.mergeDateTimeFormat(t,u.value[t])})),Object.keys(h.value).forEach((t=>{e.mergeNumberFormat(t,h.value[t])})),e.escapeParameter=b,e.fallbackFormat=m,e.fallbackRoot=f,e.fallbackWarn=d,e.missingWarn=p,e.warnHtmlMessage=v}return qqe((()=>{if(null==e.proxy||null==e.proxy.$i18n)throw r4e(n4e.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const n=o.value=e.proxy.$i18n.__composer;"global"===t?(a.value=n.locale.value,l.value=n.fallbackLocale.value,c.value=n.messages.value,u.value=n.datetimeFormats.value,h.value=n.numberFormats.value):i&&Y(n)})),Z}const J4e=["locale","fallbackLocale","availableLocales"],K4e=["t","rt","d","n","tm","te"];function Q4e(e,t){const n=Object.create(null);return J4e.forEach((e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw r4e(n4e.UNEXPECTED_ERROR);const i=mHe(r.value)?{get(){return r.value.value},set(e){r.value.value=e}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,e,i)})),e.config.globalProperties.$i18n=n,K4e.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw r4e(n4e.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,r)})),()=>{delete e.config.globalProperties.$i18n,K4e.forEach((t=>{delete e.config.globalProperties[`$${t}`]}))}}if(J3e(),__INTLIFY_JIT_COMPILATION__?V2e(O3e):V2e(C3e),B2e(r2e),$2e(C2e),__INTLIFY_PROD_DEVTOOLS__){const e=N0e();e.__INTLIFY__=!0,f2e(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const e5e={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Français","map.language.curr":"current","map.export":"export map","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/","select.items":" Use Arrow-up/down to select a value. Use Alt+Shift+Arrow-up/down to toggle the select menu"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"français","lang-native":"Français","ramp.about.open":"Ouvrir À propos de PCAR","ramp.about":"À propos de PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous déplacer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un élément de la liste est sélectionné, vous pouvez appuyer sur « Espace » ou « Entrée » pour cliquer sur l'élément. Vous pouvez également vous déplacer au sein de l'élément de la liste au moyen de la touche « Tab ».","keyboardInstructions.map":"Lorsque la carte est sélectionnée, utilisez le pavé curseur pour vous déplacer et appuyez sur « Entrée »  pour sélectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer à l'échelle métrique","map.toggleScaleToImperial":"Passer à l'échelle impériale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Français","map.language.curr":"actuel","map.export":"exporter la carte","notifications.open":"Ouvrir la fenêtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"Développer","notifications.controls.collapse":"Réduire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entrée ou sur la barre d'espacement pour accéder au panneau","panels.controls.close":"Fermer","panels.controls.pin":"Épingler","panels.controls.unpin":"Désépingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"Réduire","panels.controls.expand":"Développer","panels.controls.collapse":"Réduire","panels.controls.moveRight":"Aller à droite","panels.controls.moveLeft":"Aller à gauche","panels.controls.items":"Utilisez les touches fléchées pour naviguer entre les éléments","panels.alert.open":"Fenêtre {name} ouverte","panels.alert.close":"Fenêtre {name} fermée","panels.alert.minimize":"Fenêtre {name} réduite","layer.error":"Échec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prévu","layer.longdraw":"{id} prend plus de temps que prévu à extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont été désactivés pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement désactivé.","layer.noexportmap":"La tentative d’ajouter {name} comme couche d’imagerie cartographique a échouée car elle n’a pu être activé pour ce service","caption.attributionDefaultText":"Propulsé par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home","select.items":"Utilisez Flèche haut/bas pour sélectionner une valeur. Utilisez Alt+Shift+Flèche haut/bas pour basculer le menu de sélection"}},t5e="en",n5e={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function r5e(){return G4e({legacy:!1,locale:document.documentElement.getAttribute("lang")||t5e,fallbackLocale:t5e,globalInjection:!0,messages:e5e,numberFormats:n5e})}var i5e,o5e={exports:{}};function s5e(){return i5e||(i5e=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if(e=n[r],e&&e[1]in t){for(r=0;r<e.length;r++)o[n[0][r]]=e[r];return o}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},o={request:function(e){return new Promise(function(n,i){var o=function(){this.off("change",o),n()}.bind(this);this.on("change",o),e=e||t.documentElement;var s=e[r.requestFullscreen]();s instanceof Promise&&s.then(o).catch(i)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this);this.on("change",i);var o=t[r.exitFullscreen]();o instanceof Promise&&o.then(i).catch(n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(o,{isFullscreen:{get:function(){return!!t[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[r.fullscreenEnabled]}}}),n?e.exports=o:window.screenfull=o):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})()}(o5e)),o5e.exports}var a5e=s5e();const l5e=lNe(a5e);var c5e,u5e={exports:{}};function h5e(){return c5e||(c5e=1,function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",h="[object GeneratorFunction]",p="[object Map]",d="[object Number]",f="[object Object]",m="[object Promise]",y="[object RegExp]",g="[object Set]",v="[object String]",b="[object Symbol]",w="[object WeakMap]",_="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",E="[object Int8Array]",M="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",O="[object Uint16Array]",k="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,L=/\w*$/,N=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,D={};D[o]=D[s]=D[_]=D[x]=D[a]=D[l]=D[S]=D[T]=D[E]=D[M]=D[A]=D[p]=D[d]=D[f]=D[y]=D[g]=D[v]=D[b]=D[I]=D[C]=D[O]=D[k]=!0,D[c]=D[u]=D[w]=!1;var F="object"==typeof aNe&&aNe&&aNe.Object===Object&&aNe,j="object"==typeof self&&self&&self.Object===Object&&self,U=F||j||Function("return this")(),z=t&&!t.nodeType&&t,G=z&&e&&!e.nodeType&&e,V=G&&G.exports===z;function B(e,t){return e.set(t[0],t[1]),e}function $(e,t){return e.add(t),e}function H(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function W(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function q(e,t,n,r){for(var i=-1,o=e?e.length:0;++i<o;)n=t(n,e[i],i,e);return n}function Z(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Y(e,t){return e?.[t]}function X(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch{}return t}function J(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function K(e,t){return function(n){return e(t(n))}}function Q(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ee=Array.prototype,te=Function.prototype,ne=Object.prototype,re=U["__core-js_shared__"],ie=function(){var e=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),oe=te.toString,se=ne.hasOwnProperty,ae=ne.toString,le=RegExp("^"+oe.call(se).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=V?U.Buffer:void 0,ue=U.Symbol,he=U.Uint8Array,pe=K(Object.getPrototypeOf,Object),de=Object.create,fe=ne.propertyIsEnumerable,me=ee.splice,ye=Object.getOwnPropertySymbols,ge=ce?ce.isBuffer:void 0,ve=K(Object.keys,Object),be=Et(U,"DataView"),we=Et(U,"Map"),_e=Et(U,"Promise"),xe=Et(U,"Set"),Se=Et(U,"WeakMap"),Te=Et(Object,"create"),Ee=Pt(be),Me=Pt(we),Ae=Pt(_e),Ie=Pt(xe),Ce=Pt(Se),Oe=ue?ue.prototype:void 0,ke=Oe?Oe.valueOf:void 0;function Re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Le(){this.__data__=Te?Te(null):{}}function Ne(e){return this.has(e)&&delete this.__data__[e]}function Pe(e){var t=this.__data__;if(Te){var n=t[e];return n===r?void 0:n}return se.call(t,e)?t[e]:void 0}function De(e){var t=this.__data__;return Te?void 0!==t[e]:se.call(t,e)}function Fe(e,t){var n=this.__data__;return n[e]=Te&&void 0===t?r:t,this}function je(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ue(){this.__data__=[]}function ze(e){var t=this.__data__,n=it(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():me.call(t,n,1),!0}function Ge(e){var t=this.__data__,n=it(t,e);return n<0?void 0:t[n][1]}function Ve(e){return it(this.__data__,e)>-1}function Be(e,t){var n=this.__data__,r=it(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function $e(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function He(){this.__data__={hash:new Re,map:new(we||je),string:new Re}}function We(e){return Tt(this,e).delete(e)}function qe(e){return Tt(this,e).get(e)}function Ze(e){return Tt(this,e).has(e)}function Ye(e,t){return Tt(this,e).set(e,t),this}function Xe(e){this.__data__=new je(e)}function Je(){this.__data__=new je}function Ke(e){return this.__data__.delete(e)}function Qe(e){return this.__data__.get(e)}function et(e){return this.__data__.has(e)}function tt(e,t){var r=this.__data__;if(r instanceof je){var i=r.__data__;if(!we||i.length<n-1)return i.push([e,t]),this;r=this.__data__=new $e(i)}return r.set(e,t),this}function nt(e,t){var n=Ut(e)||jt(e)?Z(e.length,String):[],r=n.length,i=!!r;for(var o in e)se.call(e,o)&&(!i||"length"!=o&&!kt(o,r))&&n.push(o);return n}function rt(e,t,n){var r=e[t];(!se.call(e,t)||!Ft(r,n)||void 0===n&&!(t in e))&&(e[t]=n)}function it(e,t){for(var n=e.length;n--;)if(Ft(e[n][0],t))return n;return-1}function ot(e,t){return e&&_t(t,qt(t),e)}function st(e,t,n,r,i,s,a){var l;if(r&&(l=s?r(e,i,s,a):r(e)),void 0!==l)return l;if(!Ht(e))return e;var c=Ut(e);if(c){if(l=It(e),!t)return wt(e,l)}else{var p=At(e),d=p==u||p==h;if(Vt(e))return pt(e,t);if(p==f||p==o||d&&!s){if(X(e))return s?e:{};if(l=Ct(d?{}:e),!t)return xt(e,ot(l,e))}else{if(!D[p])return s?e:{};l=Ot(e,p,st,t)}}a||(a=new Xe);var m=a.get(e);if(m)return m;if(a.set(e,l),!c)var y=n?St(e):qt(e);return H(y||e,(function(i,o){y&&(o=i,i=e[o]),rt(l,o,st(i,t,n,r,o,e,a))})),l}function at(e){return Ht(e)?de(e):{}}function lt(e,t,n){var r=t(e);return Ut(e)?r:W(r,n(e))}function ct(e){return ae.call(e)}function ut(e){if(!Ht(e)||Lt(e))return!1;var t=Bt(e)||X(e)?le:N;return t.test(Pt(e))}function ht(e){if(!Nt(e))return ve(e);var t=[];for(var n in Object(e))se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function pt(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function dt(e){var t=new e.constructor(e.byteLength);return new he(t).set(new he(e)),t}function ft(e,t){var n=t?dt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function mt(e,t,n){var r=t?n(J(e),!0):J(e);return q(r,B,new e.constructor)}function yt(e){var t=new e.constructor(e.source,L.exec(e));return t.lastIndex=e.lastIndex,t}function gt(e,t,n){var r=t?n(Q(e),!0):Q(e);return q(r,$,new e.constructor)}function vt(e){return ke?Object(ke.call(e)):{}}function bt(e,t){var n=t?dt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function _t(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=void 0;rt(n,s,void 0===a?e[s]:a)}return n}function xt(e,t){return _t(e,Mt(e),t)}function St(e){return lt(e,qt,Mt)}function Tt(e,t){var n=e.__data__;return Rt(t)?n["string"==typeof t?"string":"hash"]:n.map}function Et(e,t){var n=Y(e,t);return ut(n)?n:void 0}Re.prototype.clear=Le,Re.prototype.delete=Ne,Re.prototype.get=Pe,Re.prototype.has=De,Re.prototype.set=Fe,je.prototype.clear=Ue,je.prototype.delete=ze,je.prototype.get=Ge,je.prototype.has=Ve,je.prototype.set=Be,$e.prototype.clear=He,$e.prototype.delete=We,$e.prototype.get=qe,$e.prototype.has=Ze,$e.prototype.set=Ye,Xe.prototype.clear=Je,Xe.prototype.delete=Ke,Xe.prototype.get=Qe,Xe.prototype.has=et,Xe.prototype.set=tt;var Mt=ye?K(ye,Object):Zt,At=ct;function It(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&se.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ct(e){return"function"!=typeof e.constructor||Nt(e)?{}:at(pe(e))}function Ot(e,t,n,r){var i=e.constructor;switch(t){case _:return dt(e);case a:case l:return new i(+e);case x:return ft(e,r);case S:case T:case E:case M:case A:case I:case C:case O:case k:return bt(e,r);case p:return mt(e,r,n);case d:case v:return new i(e);case y:return yt(e);case g:return gt(e,r,n);case b:return vt(e)}}function kt(e,t){return t=t??i,!!t&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Rt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Lt(e){return!!ie&&ie in e}function Nt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ne;return e===n}function Pt(e){if(null!=e){try{return oe.call(e)}catch{}try{return e+""}catch{}}return""}function Dt(e){return st(e,!0,!0)}function Ft(e,t){return e===t||e!==e&&t!==t}function jt(e){return Gt(e)&&se.call(e,"callee")&&(!fe.call(e,"callee")||ae.call(e)==o)}(be&&At(new be(new ArrayBuffer(1)))!=x||we&&At(new we)!=p||_e&&At(_e.resolve())!=m||xe&&At(new xe)!=g||Se&&At(new Se)!=w)&&(At=function(e){var t=ae.call(e),n=t==f?e.constructor:void 0,r=n?Pt(n):void 0;if(r)switch(r){case Ee:return x;case Me:return p;case Ae:return m;case Ie:return g;case Ce:return w}return t});var Ut=Array.isArray;function zt(e){return null!=e&&$t(e.length)&&!Bt(e)}function Gt(e){return Wt(e)&&zt(e)}var Vt=ge||Yt;function Bt(e){var t=Ht(e)?ae.call(e):"";return t==u||t==h}function $t(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ht(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Wt(e){return!!e&&"object"==typeof e}function qt(e){return zt(e)?nt(e):ht(e)}function Zt(){return[]}function Yt(){return!1}e.exports=Dt}(u5e,u5e.exports)),u5e.exports}u5e.exports;var p5e=h5e();const d5e=lNe(p5e),f5e=a0e("maptip",(()=>{const e=yHe(void 0),t=yHe(void 0),n=yHe("");function r(t){e.value=t}function i(e){t.value=e}function o(e){n.value=e}return{maptipInstance:e,maptipPoint:t,content:n,setMaptipInstance:r,setMaptipPoint:i,setMaptipContent:o}})),m5e=hqe({__name:"esri-map",setup(e){const t=f5e(),n=nYe("iApi"),r=vJe((()=>t.maptipPoint)),i=vJe((()=>t.maptipInstance)),o=vJe((()=>t.content)),s=nHe([]);s.push(jYe(r,(()=>{if(r.value){let e,t;const s=n.geo.map.getPixelWidth()/2,a=0,l=n.geo.map.mapPointToScreenPoint(r.value);e=l.screenX-s,t=a-l.screenY,i.value.setProps({offset:[e,t]}),o.value&&""!==o.value&&i.value.show()}else i.value.hide()}))),s.push(jYe(o,(e=>{e&&""!==e&&r?(i.value.setContent(e),i.value.show()):i.value.hide()}))),Jqe((()=>{s.forEach((e=>e()))}));const a=()=>{n.geo.map.setMouseFocus()};return(e,t)=>{const n=lZe("tippy");return PWe((wXe(),EXe("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:a,onKeydown:t[0]||(t[0]=AQe(EQe((()=>{}),["prevent"]),["up","down","left","right"]))},null,544)),[[n,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var y5e={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},g5e={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},v5e=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],b5e={CSS:{},springs:{}};function w5e(e,t,n){return Math.min(Math.max(e,t),n)}function _5e(e,t){return e.indexOf(t)>-1}function x5e(e,t){return e.apply(null,t)}var S5e={arr:function(e){return Array.isArray(e)},obj:function(e){return _5e(Object.prototype.toString.call(e),"Object")},pth:function(e){return S5e.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||S5e.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return typeof e>"u"},nil:function(e){return S5e.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return S5e.hex(e)||S5e.rgb(e)||S5e.hsl(e)},key:function(e){return!y5e.hasOwnProperty(e)&&!g5e.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function T5e(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function E5e(e,t){var n=T5e(e),r=w5e(S5e.und(n[0])?1:n[0],.1,100),i=w5e(S5e.und(n[1])?100:n[1],.1,100),o=w5e(S5e.und(n[2])?10:n[2],.1,100),s=w5e(S5e.und(n[3])?0:n[3],.1,100),a=Math.sqrt(i/r),l=o/(2*Math.sqrt(i*r)),c=l<1?a*Math.sqrt(1-l*l):0,u=1,h=l<1?(l*a-s)/c:-s+a;function p(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*a)*(u*Math.cos(c*n)+h*Math.sin(c*n)):(u+h*n)*Math.exp(-n*a),0===e||1===e?e:1-n}function d(){var t=b5e.springs[e];if(t)return t;for(var n=1/6,r=0,i=0;;)if(r+=n,1===p(r)){if(i++,i>=16)break}else i=0;var o=r*n*1e3;return b5e.springs[e]=o,o}return t?p:d}function M5e(e){return void 0===e&&(e=10),function(t){return Math.ceil(w5e(t,1e-6,1)*e)*(1/e)}}var A5e=function(){var e=11,t=1/(e-1);function n(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function i(e){return 3*e}function o(e,t,o){return((n(t,o)*e+r(t,o))*e+i(t))*e}function s(e,t,o){return 3*n(t,o)*e*e+2*r(t,o)*e+i(t)}function a(e,t,n,r,i){var s,a,l=0;do{a=t+(n-t)/2,s=o(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++l<10);return a}function l(e,t,n,r){for(var i=0;i<4;++i){var a=s(t,n,r);if(0===a)return t;var l=o(t,n,r)-e;t-=l/a}return t}function c(n,r,i,c){if(0<=n&&n<=1&&0<=i&&i<=1){var u=new Float32Array(e);if(n!==r||i!==c)for(var h=0;h<e;++h)u[h]=o(h*t,n,i);return function(e){return n===r&&i===c||0===e||1===e?e:o(p(e),r,c)}}function p(r){for(var o=0,c=1,h=e-1;c!==h&&u[c]<=r;++c)o+=t;--c;var p=(r-u[c])/(u[c+1]-u[c]),d=o+p*t,f=s(d,n,i);return f>=.001?l(r,d,n,i):0===f?d:a(r,o,o+t,n,i)}}return c}(),I5e=function(){var e={linear:function(){return function(e){return e}}},t={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=w5e(e,1,10),r=w5e(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach((function(e,n){t[e]=function(){return function(e){return Math.pow(e,n+2)}}})),Object.keys(t).forEach((function(n){var r=t[n];e["easeIn"+n]=r,e["easeOut"+n]=function(e,t){return function(n){return 1-r(e,t)(1-n)}},e["easeInOut"+n]=function(e,t){return function(n){return n<.5?r(e,t)(2*n)/2:1-r(e,t)(-2*n+2)/2}},e["easeOutIn"+n]=function(e,t){return function(n){return n<.5?(1-r(e,t)(1-2*n))/2:(r(e,t)(2*n-1)+1)/2}}})),e}();function C5e(e,t){if(S5e.fnc(e))return e;var n=e.split("(")[0],r=I5e[n],i=T5e(e);switch(n){case"spring":return E5e(e,t);case"cubicBezier":return x5e(A5e,i);case"steps":return x5e(M5e,i);default:return x5e(r,i)}}function O5e(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function k5e(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(r,s,o,e)&&i.push(s)}return i}function R5e(e){return e.reduce((function(e,t){return e.concat(S5e.arr(t)?R5e(t):t)}),[])}function L5e(e){return S5e.arr(e)?e:(S5e.str(e)&&(e=O5e(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function N5e(e,t){return e.some((function(e){return e===t}))}function P5e(e){var t={};for(var n in e)t[n]=e[n];return t}function D5e(e,t){var n=P5e(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function F5e(e,t){var n=P5e(e);for(var r in t)n[r]=S5e.und(e[r])?t[r]:e[r];return n}function j5e(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function U5e(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,(function(e,t,n,r){return t+t+n+n+r+r})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),o=parseInt(r[2],16),s=parseInt(r[3],16);return"rgba("+i+","+o+","+s+",1)"}function z5e(e){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(i[1],10)/360,s=parseInt(i[2],10)/100,a=parseInt(i[3],10)/100,l=i[4]||1;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==s)t=n=r=a;else{var u=a<.5?a*(1+s):a+s-a*s,h=2*a-u;t=c(h,u,o+1/3),n=c(h,u,o),r=c(h,u,o-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+l+")"}function G5e(e){return S5e.rgb(e)?j5e(e):S5e.hex(e)?U5e(e):S5e.hsl(e)?z5e(e):void 0}function V5e(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function B5e(e){return _5e(e,"translate")||"perspective"===e?"px":_5e(e,"rotate")||_5e(e,"skew")?"deg":void 0}function $5e(e,t){return S5e.fnc(e)?e(t.target,t.id,t.total):e}function H5e(e,t){return e.getAttribute(t)}function W5e(e,t,n){var r=V5e(t);if(N5e([n,"deg","rad","turn"],r))return t;var i=b5e.CSS[t+n];if(!S5e.und(i))return i;var o=100,s=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(s),s.style.position="absolute",s.style.width=o+n;var l=o/s.offsetWidth;a.removeChild(s);var c=l*parseFloat(t);return b5e.CSS[t+n]=c,c}function q5e(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?W5e(e,i,n):i}}function Z5e(e,t){return S5e.dom(e)&&!S5e.inp(e)&&(!S5e.nil(H5e(e,t))||S5e.svg(e)&&e[t])?"attribute":S5e.dom(e)&&N5e(v5e,t)?"transform":S5e.dom(e)&&"transform"!==t&&q5e(e,t)?"css":null!=e[t]?"object":void 0}function Y5e(e){if(S5e.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;t=r.exec(n);)i.set(t[1],t[2]);return i}}function X5e(e,t,n,r){var i=_5e(t,"scale")?1:0+B5e(t),o=Y5e(e).get(t)||i;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),r?W5e(e,o,r):o}function J5e(e,t,n,r){switch(Z5e(e,t)){case"transform":return X5e(e,t,r,n);case"css":return q5e(e,t,n);case"attribute":return H5e(e,t);default:return e[t]||0}}function K5e(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=V5e(e)||0,i=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function Q5e(e,t){if(S5e.col(e))return G5e(e);if(/\s/g.test(e))return e;var n=V5e(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function e6e(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function t6e(e){return 2*Math.PI*H5e(e,"r")}function n6e(e){return 2*H5e(e,"width")+2*H5e(e,"height")}function r6e(e){return e6e({x:H5e(e,"x1"),y:H5e(e,"y1")},{x:H5e(e,"x2"),y:H5e(e,"y2")})}function i6e(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var o=n.getItem(i);i>0&&(r+=e6e(t,o)),t=o}return r}function o6e(e){var t=e.points;return i6e(e)+e6e(t.getItem(t.numberOfItems-1),t.getItem(0))}function s6e(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return t6e(e);case"rect":return n6e(e);case"line":return r6e(e);case"polyline":return i6e(e);case"polygon":return o6e(e)}}function a6e(e){var t=s6e(e);return e.setAttribute("stroke-dasharray",t),t}function l6e(e){for(var t=e.parentNode;S5e.svg(t)&&S5e.svg(t.parentNode);)t=t.parentNode;return t}function c6e(e,t){var n=t||{},r=n.el||l6e(e),i=r.getBoundingClientRect(),o=H5e(r,"viewBox"),s=i.width,a=i.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function u6e(e,t){var n=S5e.str(e)?O5e(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:c6e(n),totalLength:s6e(n)*(r/100)}}}function h6e(e,t,n){function r(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var i=c6e(e.el,e.svg),o=r(),s=r(-1),a=r(1),l=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(e.property){case"x":return(o.x-i.x)*l;case"y":return(o.y-i.y)*c;case"angle":return 180*Math.atan2(a.y-s.y,a.x-s.x)/Math.PI}}function p6e(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Q5e(S5e.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:S5e.str(e)||t?r.split(n):[]}}function d6e(e){var t=e?R5e(S5e.arr(e)?e.map(L5e):L5e(e)):[];return k5e(t,(function(e,t,n){return n.indexOf(e)===t}))}function f6e(e){var t=d6e(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:Y5e(e)}}}))}function m6e(e,t){var n=P5e(t);if(/^spring/.test(n.easing)&&(n.duration=E5e(n.easing)),S5e.arr(e)){var r=e.length,i=2===r&&!S5e.obj(e[0]);i?e={value:e}:S5e.fnc(t.duration)||(n.duration=t.duration/r)}var o=S5e.arr(e)?e:[e];return o.map((function(e,n){var r=S5e.obj(e)&&!S5e.pth(e)?e:{value:e};return S5e.und(r.delay)&&(r.delay=n?0:t.delay),S5e.und(r.endDelay)&&(r.endDelay=n===o.length-1?t.endDelay:0),r})).map((function(e){return F5e(e,n)}))}function y6e(e){for(var t=k5e(R5e(e.map((function(e){return Object.keys(e)}))),(function(e){return S5e.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var i=t[r];n[i]=e.map((function(e){var t={};for(var n in e)S5e.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t}))},i=0;i<t.length;i++)r(i);return n}function g6e(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=F5e(y6e(r),t)),t)S5e.key(i)&&n.push({name:i,tweens:m6e(t[i],e)});return n}function v6e(e,t){var n={};for(var r in e){var i=$5e(e[r],t);S5e.arr(i)&&(i=i.map((function(e){return $5e(e,t)})),1===i.length&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function b6e(e,t){var n;return e.tweens.map((function(r){var i=v6e(r,t),o=i.value,s=S5e.arr(o)?o[1]:o,a=V5e(s),l=J5e(t.target,e.name,a,t),c=n?n.to.original:l,u=S5e.arr(o)?o[0]:c,h=V5e(u)||V5e(l),p=a||h;return S5e.und(s)&&(s=c),i.from=p6e(u,p),i.to=p6e(K5e(s,u),p),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=C5e(i.easing,i.duration),i.isPath=S5e.pth(o),i.isPathTargetInsideSVG=i.isPath&&S5e.svg(t.target),i.isColor=S5e.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}var w6e={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var o="";r.list.forEach((function(e,t){o+=t+"("+e+") "})),e.style.transform=o}}};function _6e(e,t){var n=f6e(e);n.forEach((function(e){for(var n in t){var r=$5e(t[n],e),i=e.target,o=V5e(r),s=J5e(i,n,o,e),a=o||V5e(s),l=K5e(Q5e(r,a),s),c=Z5e(i,n);w6e[c](i,n,l,e.transforms,!0)}}))}function x6e(e,t){var n=Z5e(e.target,t.name);if(n){var r=b6e(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function S6e(e,t){return k5e(R5e(e.map((function(e){return t.map((function(t){return x6e(e,t)}))}))),(function(e){return!S5e.und(e)}))}function T6e(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,i.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,i}var E6e=0;function M6e(e){var t=D5e(y5e,e),n=D5e(g5e,e),r=g6e(n,e),i=f6e(e.targets),o=S6e(i,r),s=T6e(o,n),a=E6e;return E6e++,F5e(t,{id:a,children:[],animatables:i,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}var A6e=[],I6e=function(){var e;function t(){!e&&(!C6e()||!O6e.suspendWhenDocumentHidden)&&A6e.length>0&&(e=requestAnimationFrame(n))}function n(t){for(var r=A6e.length,i=0;i<r;){var o=A6e[i];o.paused?(A6e.splice(i,1),r--):(o.tick(t),i++)}e=i>0?requestAnimationFrame(n):void 0}function r(){O6e.suspendWhenDocumentHidden&&(C6e()?e=cancelAnimationFrame(e):(A6e.forEach((function(e){return e._onDocumentVisibility()})),I6e()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function C6e(){return!!document&&document.hidden}function O6e(e){void 0===e&&(e={});var t,n=0,r=0,i=0,o=0,s=null;function a(e){var t=window.Promise&&new Promise((function(e){return s=e}));return e.finished=t,t}var l=M6e(e);function c(){var e=l.direction;"alternate"!==e&&(l.direction="normal"!==e?"normal":"reverse"),l.reversed=!l.reversed,t.forEach((function(e){return e.reversed=l.reversed}))}function u(e){return l.reversed?l.duration-e:e}function h(){n=0,r=u(l.currentTime)*(1/O6e.speed)}function p(e,t){t&&t.seek(e-t.timelineOffset)}function d(e){if(l.reversePlayback)for(var n=o;n--;)p(e,t[n]);else for(var r=0;r<o;r++)p(e,t[r])}function f(e){for(var t=0,n=l.animations,r=n.length;t<r;){var i=n[t],o=i.animatable,s=i.tweens,a=s.length-1,c=s[a];a&&(c=k5e(s,(function(t){return e<t.end}))[0]||c);for(var u=w5e(e-c.start-c.delay,0,c.duration)/c.duration,h=isNaN(u)?1:c.easing(u),p=c.to.strings,d=c.round,f=[],m=c.to.numbers.length,y=void 0,g=0;g<m;g++){var v=void 0,b=c.to.numbers[g],w=c.from.numbers[g]||0;v=c.isPath?h6e(c.value,h*b,c.isPathTargetInsideSVG):w+h*(b-w),d&&(c.isColor&&g>2||(v=Math.round(v*d)/d)),f.push(v)}var _=p.length;if(_){y=p[0];for(var x=0;x<_;x++){p[x];var S=p[x+1],T=f[x];isNaN(T)||(y+=S?T+S:T+" ")}}else y=f[0];w6e[i.type](o.target,i.property,y,o.transforms),i.currentValue=y,t++}}function m(e){l[e]&&!l.passThrough&&l[e](l)}function y(){l.remaining&&!0!==l.remaining&&l.remaining--}function g(e){var o=l.duration,h=l.delay,p=o-l.endDelay,g=u(e);l.progress=w5e(g/o*100,0,100),l.reversePlayback=g<l.currentTime,t&&d(g),!l.began&&l.currentTime>0&&(l.began=!0,m("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,m("loopBegin")),g<=h&&0!==l.currentTime&&f(0),(g>=p&&l.currentTime!==o||!o)&&f(o),g>h&&g<p?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,m("changeBegin")),m("change"),f(g)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,m("changeComplete")),l.currentTime=w5e(g,0,o),l.began&&m("update"),e>=o&&(r=0,y(),l.remaining?(n=i,m("loopComplete"),l.loopBegan=!1,"alternate"===l.direction&&c()):(l.paused=!0,l.completed||(l.completed=!0,m("loopComplete"),m("complete"),!l.passThrough&&"Promise"in window&&(s(),a(l)))))}return a(l),l.reset=function(){var e=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===e,l.remaining=l.loop,t=l.children,o=t.length;for(var n=o;n--;)l.children[n].reset();(l.reversed&&!0!==l.loop||"alternate"===e&&1===l.loop)&&l.remaining++,f(l.reversed?l.duration:0)},l._onDocumentVisibility=h,l.set=function(e,t){return _6e(e,t),l},l.tick=function(e){i=e,n||(n=i),g((i+(r-n))*O6e.speed)},l.seek=function(e){g(u(e))},l.pause=function(){l.paused=!0,h()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,A6e.push(l),h(),I6e())},l.reverse=function(){c(),l.completed=!l.reversed,h()},l.restart=function(){l.reset(),l.play()},l.remove=function(e){var t=d6e(e);R6e(t,l)},l.reset(),l.autoplay&&l.play(),l}function k6e(e,t){for(var n=t.length;n--;)N5e(e,t[n].animatable.target)&&t.splice(n,1)}function R6e(e,t){var n=t.animations,r=t.children;k6e(e,n);for(var i=r.length;i--;){var o=r[i],s=o.animations;k6e(e,s),!s.length&&!o.children.length&&r.splice(i,1)}!n.length&&!r.length&&t.pause()}function L6e(e){for(var t=d6e(e),n=A6e.length;n--;){var r=A6e[n];R6e(t,r)}}function N6e(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?C5e(t.easing):null,i=t.grid,o=t.axis,s=t.from||0,a="first"===s,l="center"===s,c="last"===s,u=S5e.arr(e),h=parseFloat(u?e[0]:e),p=u?parseFloat(e[1]):0,d=V5e(u?e[1]:e)||0,f=t.start||0+(u?h:0),m=[],y=0;return function(e,t,g){if(a&&(s=0),l&&(s=(g-1)/2),c&&(s=g-1),!m.length){for(var v=0;v<g;v++){if(i){var b=l?(i[0]-1)/2:s%i[0],w=l?(i[1]-1)/2:Math.floor(s/i[0]),_=v%i[0],x=Math.floor(v/i[0]),S=b-_,T=w-x,E=Math.sqrt(S*S+T*T);"x"===o&&(E=-S),"y"===o&&(E=-T),m.push(E)}else m.push(Math.abs(s-v));y=Math.max.apply(Math,m)}r&&(m=m.map((function(e){return r(e/y)*y}))),"reverse"===n&&(m=m.map((function(e){return o?e<0?-1*e:-e:Math.abs(y-e)})))}var M=u?(p-h)/y:h;return f+M*(Math.round(100*m[t])/100)+d}}function P6e(e){void 0===e&&(e={});var t=O6e(e);return t.duration=0,t.add=function(n,r){var i=A6e.indexOf(t),o=t.children;function s(e){e.passThrough=!0}i>-1&&A6e.splice(i,1);for(var a=0;a<o.length;a++)s(o[a]);var l=F5e(n,D5e(g5e,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=S5e.und(r)?c:K5e(r,c),s(t),t.seek(l.timelineOffset);var u=O6e(l);s(u),o.push(u);var h=T6e(o,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}O6e.version="3.2.1",O6e.speed=1,O6e.suspendWhenDocumentHidden=!0,O6e.running=A6e,O6e.remove=L6e,O6e.get=J5e,O6e.set=_6e,O6e.convertPx=W5e,O6e.path=u6e,O6e.setDashoffset=a6e,O6e.stagger=N6e,O6e.timeline=P6e,O6e.easing=C5e,O6e.penner=I5e,O6e.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};class D6e{resizeObserver;constructor(e){this.resizeObserver="ResizeObserver"in self?new ResizeObserver((function(t){const n={xs:200,sm:576,md:768,lg:960};t.forEach((function(t){const r=t.target.dataset.breakpoints?JSON.parse(t.target.dataset.breakpoints):e??n;Object.keys(r).forEach((function(e){const n=r[e];t.contentRect.width>=n?t.target.classList.add(e):t.target.classList.remove(e)}))}))})):void 0}observe(e){this.resizeObserver?.observe(e)}}const F6e=["data-cy"],j6e=hqe({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=yHe(null),n=e,r=yHe(!1);Zqe((()=>{n.panel.teleport&&new D6e({xs:0,sm:461,...n.panel.teleport.breakpoints}).observe(t.value)}));const i=(e,t,n)=>{if(r.value)return t();O6e({targets:e,opacity:{value:n,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:t})},o=(e,t)=>{i(e,t,[0,1])},s=e=>{e.classList.contains("screen-spinner")||(r.value=n.panel.isScreenLoaded(n.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach((e=>e.classList.remove("default-focus-style"))))},a=(e,t)=>{i(e,t,[0,1])};return(n,r)=>{const i=lZe("focus-container");return wXe(),EXe("div",{class:BVe(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:FVe(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[LXe(qJe,{onBeforeLeave:s,onLeave:a,onEnter:o},{default:NWe((()=>[PWe((wXe(),MXe(aZe(e.panel.route.screen),BXe({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[i]])])),_:1})],14,F6e)}}}),U6e=a0e("panel",(()=>{const e=yHe(void 0),t=yHe(void 0),n=yHe(0),r=yHe(0),i=yHe(!1),o=yHe(!0),s=yHe({}),a=yHe({}),l=yHe([]),c=yHe([]),u=yHe([]),h=vJe((()=>r.value));function p(e){return"xs"===e&&u.value.length>0?[u.value.slice().pop()]:u.value}function d(e){const t=[];return e.forEach((e=>{e in a.value&&t.push(a.value[e].getPromise())})),t}function f(e){x(e),w(),t.value=void 0}function m(e){S(e),w()}function y(e,t){T(e,t),w()}function g(e){E(e),w()}function v(e){n.value=e,w()}function b(e){i.value=e}function w(){let o=n.value;const s=[],a=350,c=12,h=600;for(let e=l.value.length-1;e>=0;e--){const t=l.value[e];let n=t.width||a;if(i.value?n=o:n+=c,"grid"===t.id&&(n=Math.max(Math.min(n,o),h)),(o>=n&&!i.value||0===s.length)&&(o-=n,s.unshift(t)),"grid"===t.id&&o<h)break}if(e.value&&!s.includes(e.value)&&!i.value){let n;for(let t=0;t<s.length-1&&o<(e.value.width||a)+c;t++)n=s.shift(),o+=n.width||a;o>=(e.value.width||a)?s.unshift(e.value):t.value||(n=s.shift(),s.unshift(e.value));const r=l.value.indexOf(e.value),i=l.value.indexOf(n),u=l.value.slice();i>-1&&(u.splice(r,1),u.splice(i,0,e.value)),l.value=u}r.value=o,u.value=s}function _(e){if(s.value={...s.value,[e.id]:e},e.id in a.value)a.value[e.id].resolveMe(e);else{const t=new iNe;t.resolveMe(e),a.value={...a.value,[e.id]:t}}}function x(e){e.teleport?c.value=[...c.value,e]:(l.value=[...l.value,e],t.value=e)}function S(e){if(e.teleport){const t=c.value.indexOf(e);-1!==t&&(c.value=[...c.value.slice(0,t),...c.value.slice(t+1)])}else{const t=l.value.indexOf(e);-1!==t&&(l.value=[...l.value.slice(0,t),...l.value.slice(t+1)])}}function T(e,t){const n=l.value.indexOf(e),r="right"===t?1:-1;u.value.includes(l.value[n+r])&&([l.value[n],l.value[n+r]]=[l.value[n+r],l.value[n]])}function E(t){void 0!==s.value[t.id]&&delete s.value[t.id],void 0!==a.value[t.id]&&delete a.value[t.id];const n=u.value.indexOf(t);-1!==n&&(u.value=[...u.value.slice(0,n),...u.value.slice(n+1)]),e.value&&e.value.id==t.id&&(e.value=void 0)}function M(e){a.value={...a.value,[e]:new iNe}}return{items:s,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:u,stackWidth:n,remWidth:r,mobileView:i,reorderable:o,teleported:c,getRemainingWidth:h,getVisible:p,getRegPromises:d,openPanel:f,closePanel:m,movePanel:y,removePanel:g,setStackWidth:v,setMobileView:b,updateVisible:w,registerPanel:_,addRegPromise:M}})),z6e=hqe({__name:"panel-stack",setup(e){const t=U6e(),n=nYe("iApi"),r=yHe(),i=vJe((()=>t.mobileView));Zqe((()=>{new ResizeObserver((e=>{const r=!(n?.$vApp.$root?.$refs["app-size"]).classList.contains("sm");i.value!==r&&(t.mobileView=r,n?.event.emit(v0e.RAMP_MOBILEVIEW_CHANGE,r)),t.setStackWidth(e[0].contentRect.width)})).observe(r.value?.$el)}));const o=e=>t.getVisible(e),s=(e,t)=>{l(e,t,[[6,0],[0,1]])},a=(e,t)=>{const[n,r]=[e.children[0].getBoundingClientRect(),e.parentElement.getBoundingClientRect()];e.style.width=`${n.width}px`,e.style.height=`${n.height}px`,e.style.left=n.left-r.left+"px",e.style.position="absolute",l(e,t,[[0,-6],[1,0]])},l=(e,t,n)=>{O6e({targets:e,duration:300,translateY:{value:n[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:n[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:t})};return(e,t)=>(wXe(),MXe(nQe,{onEnter:s,onLeave:a,name:"panel-container",tag:"div",ref_key:"el",ref:r},{default:NWe((()=>[(wXe(!0),EXe(fXe,null,hZe(o(_He(n).screenSize),(e=>(wXe(),MXe(j6e,{key:`${e.id}`,panel:e},null,8,["panel"])))),128))])),_:1},512))}}),G6e=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},V6e=G6e(z6e,[["__scopeId","data-v-11f38702"]]);var B6e="top",$6e="bottom",H6e="right",W6e="left",q6e="auto",Z6e=[B6e,$6e,H6e,W6e],Y6e="start",X6e="end",J6e="clippingParents",K6e="viewport",Q6e="popper",e8e="reference",t8e=Z6e.reduce((function(e,t){return e.concat([t+"-"+Y6e,t+"-"+X6e])}),[]),n8e=[].concat(Z6e,[q6e]).reduce((function(e,t){return e.concat([t,t+"-"+Y6e,t+"-"+X6e])}),[]),r8e="beforeRead",i8e="read",o8e="afterRead",s8e="beforeMain",a8e="main",l8e="afterMain",c8e="beforeWrite",u8e="write",h8e="afterWrite",p8e=[r8e,i8e,o8e,s8e,a8e,l8e,c8e,u8e,h8e];function d8e(e){return e?(e.nodeName||"").toLowerCase():null}function f8e(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function m8e(e){var t=f8e(e).Element;return e instanceof t||e instanceof Element}function y8e(e){var t=f8e(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function g8e(e){if(typeof ShadowRoot>"u")return!1;var t=f8e(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function v8e(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];!y8e(i)||!d8e(i)||(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function b8e(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),s=o.reduce((function(e,t){return e[t]="",e}),{});!y8e(r)||!d8e(r)||(Object.assign(r.style,s),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}const w8e={name:"applyStyles",enabled:!0,phase:"write",fn:v8e,effect:b8e,requires:["computeStyles"]};function _8e(e){return e.split("-")[0]}var x8e=Math.max,S8e=Math.min,T8e=Math.round;function E8e(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function M8e(){return!/^((?!chrome|android).)*safari/i.test(E8e())}function A8e(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&y8e(e)&&(i=e.offsetWidth>0&&T8e(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&T8e(r.height)/e.offsetHeight||1);var s=m8e(e)?f8e(e):window,a=s.visualViewport,l=!M8e()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,h=r.width/i,p=r.height/o;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c,x:c,y:u}}function I8e(e){var t=A8e(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function C8e(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&g8e(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function O8e(e){return f8e(e).getComputedStyle(e)}function k8e(e){return["table","td","th"].indexOf(d8e(e))>=0}function R8e(e){return((m8e(e)?e.ownerDocument:e.document)||window.document).documentElement}function L8e(e){return"html"===d8e(e)?e:e.assignedSlot||e.parentNode||(g8e(e)?e.host:null)||R8e(e)}function N8e(e){return y8e(e)&&"fixed"!==O8e(e).position?e.offsetParent:null}function P8e(e){var t=/firefox/i.test(E8e()),n=/Trident/i.test(E8e());if(n&&y8e(e)){var r=O8e(e);if("fixed"===r.position)return null}var i=L8e(e);for(g8e(i)&&(i=i.host);y8e(i)&&["html","body"].indexOf(d8e(i))<0;){var o=O8e(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}function D8e(e){for(var t=f8e(e),n=N8e(e);n&&k8e(n)&&"static"===O8e(n).position;)n=N8e(n);return n&&("html"===d8e(n)||"body"===d8e(n)&&"static"===O8e(n).position)?t:n||P8e(e)||t}function F8e(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function j8e(e,t,n){return x8e(e,S8e(t,n))}function U8e(e,t,n){var r=j8e(e,t,n);return r>n?n:r}function z8e(){return{top:0,right:0,bottom:0,left:0}}function G8e(e){return Object.assign({},z8e(),e)}function V8e(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var B8e=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,G8e("number"!=typeof e?e:V8e(e,Z6e))};function $8e(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=_8e(n.placement),l=F8e(a),c=[W6e,H6e].indexOf(a)>=0,u=c?"height":"width";if(o&&s){var h=B8e(i.padding,n),p=I8e(o),d="y"===l?B6e:W6e,f="y"===l?$6e:H6e,m=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],y=s[l]-n.rects.reference[l],g=D8e(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=m/2-y/2,w=h[d],_=v-p[u]-h[f],x=v/2-p[u]/2+b,S=j8e(w,x,_),T=l;n.modifiersData[r]=(t={},t[T]=S,t.centerOffset=S-x,t)}}function H8e(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&(i=t.elements.popper.querySelector(i),!i)||C8e(t.elements.popper,i)&&(t.elements.arrow=i))}const W8e={name:"arrow",enabled:!0,phase:"main",fn:$8e,effect:H8e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function q8e(e){return e.split("-")[1]}var Z8e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Y8e(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:T8e(n*i)/i||0,y:T8e(r*i)/i||0}}function X8e(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,p=s.x,d=void 0===p?0:p,f=s.y,m=void 0===f?0:f,y="function"==typeof u?u({x:d,y:m}):{x:d,y:m};d=y.x,m=y.y;var g=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),b=W6e,w=B6e,_=window;if(c){var x=D8e(n),S="clientHeight",T="clientWidth";if(x===f8e(n)&&(x=R8e(n),"static"!==O8e(x).position&&"absolute"===a&&(S="scrollHeight",T="scrollWidth")),i===B6e||(i===W6e||i===H6e)&&o===X6e){w=$6e;var E=h&&x===_&&_.visualViewport?_.visualViewport.height:x[S];m-=E-r.height,m*=l?1:-1}if(i===W6e||(i===B6e||i===$6e)&&o===X6e){b=H6e;var M=h&&x===_&&_.visualViewport?_.visualViewport.width:x[T];d-=M-r.width,d*=l?1:-1}}var A,I=Object.assign({position:a},c&&Z8e),C=!0===u?Y8e({x:d,y:m},f8e(n)):{x:d,y:m};return d=C.x,m=C.y,l?Object.assign({},I,(A={},A[w]=v?"0":"",A[b]=g?"0":"",A.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",A)):Object.assign({},I,(t={},t[w]=v?m+"px":"",t[b]=g?d+"px":"",t.transform="",t))}function J8e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:_8e(t.placement),variation:q8e(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,X8e(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,X8e(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const K8e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:J8e,data:{}};var Q8e={passive:!0};function e9e(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=f8e(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Q8e)})),a&&l.addEventListener("resize",n.update,Q8e),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Q8e)})),a&&l.removeEventListener("resize",n.update,Q8e)}}const t9e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:e9e,data:{}};var n9e={left:"right",right:"left",bottom:"top",top:"bottom"};function r9e(e){return e.replace(/left|right|bottom|top/g,(function(e){return n9e[e]}))}var i9e={start:"end",end:"start"};function o9e(e){return e.replace(/start|end/g,(function(e){return i9e[e]}))}function s9e(e){var t=f8e(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function a9e(e){return A8e(R8e(e)).left+s9e(e).scrollLeft}function l9e(e,t){var n=f8e(e),r=R8e(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=M8e();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+a9e(e),y:l}}function c9e(e){var t,n=R8e(e),r=s9e(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=x8e(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=x8e(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+a9e(e),l=-r.scrollTop;return"rtl"===O8e(i||n).direction&&(a+=x8e(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function u9e(e){var t=O8e(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function h9e(e){return["html","body","#document"].indexOf(d8e(e))>=0?e.ownerDocument.body:y8e(e)&&u9e(e)?e:h9e(L8e(e))}function p9e(e,t){var n;void 0===t&&(t=[]);var r=h9e(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=f8e(r),s=i?[o].concat(o.visualViewport||[],u9e(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(p9e(L8e(s)))}function d9e(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function f9e(e,t){var n=A8e(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function m9e(e,t,n){return t===K6e?d9e(l9e(e,n)):m8e(t)?f9e(t,n):d9e(c9e(R8e(e)))}function y9e(e){var t=p9e(L8e(e)),n=["absolute","fixed"].indexOf(O8e(e).position)>=0,r=n&&y8e(e)?D8e(e):e;return m8e(r)?t.filter((function(e){return m8e(e)&&C8e(e,r)&&"body"!==d8e(e)})):[]}function g9e(e,t,n,r){var i="clippingParents"===t?y9e(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=m9e(e,n,r);return t.top=x8e(i.top,t.top),t.right=S8e(i.right,t.right),t.bottom=S8e(i.bottom,t.bottom),t.left=x8e(i.left,t.left),t}),m9e(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function v9e(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?_8e(i):null,s=i?q8e(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case B6e:t={x:a,y:n.y-r.height};break;case $6e:t={x:a,y:n.y+n.height};break;case H6e:t={x:n.x+n.width,y:l};break;case W6e:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?F8e(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Y6e:t[c]=t[c]-(n[u]/2-r[u]/2);break;case X6e:t[c]=t[c]+(n[u]/2-r[u]/2);break}}return t}function b9e(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?J6e:a,c=n.rootBoundary,u=void 0===c?K6e:c,h=n.elementContext,p=void 0===h?Q6e:h,d=n.altBoundary,f=void 0!==d&&d,m=n.padding,y=void 0===m?0:m,g=G8e("number"!=typeof y?y:V8e(y,Z6e)),v=p===Q6e?e8e:Q6e,b=e.rects.popper,w=e.elements[f?v:p],_=g9e(m8e(w)?w:w.contextElement||R8e(e.elements.popper),l,u,s),x=A8e(e.elements.reference),S=v9e({reference:x,element:b,strategy:"absolute",placement:i}),T=d9e(Object.assign({},b,S)),E=p===Q6e?T:x,M={top:_.top-E.top+g.top,bottom:E.bottom-_.bottom+g.bottom,left:_.left-E.left+g.left,right:E.right-_.right+g.right},A=e.modifiersData.offset;if(p===Q6e&&A){var I=A[i];Object.keys(M).forEach((function(e){var t=[H6e,$6e].indexOf(e)>=0?1:-1,n=[B6e,$6e].indexOf(e)>=0?"y":"x";M[e]+=I[n]*t}))}return M}function w9e(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?n8e:l,u=q8e(r),h=u?a?t8e:t8e.filter((function(e){return q8e(e)===u})):Z6e,p=h.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=h);var d=p.reduce((function(t,n){return t[n]=b9e(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[_8e(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}function _9e(e){if(_8e(e)===q6e)return[];var t=r9e(e);return[o9e(e),t,o9e(t)]}function x9e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,f=void 0===d||d,m=n.allowedAutoPlacements,y=t.options.placement,g=_8e(y),v=g===y,b=l||(v||!f?[r9e(y)]:_9e(y)),w=[y].concat(b).reduce((function(e,n){return e.concat(_8e(n)===q6e?w9e(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),_=t.rects.reference,x=t.rects.popper,S=new Map,T=!0,E=w[0],M=0;M<w.length;M++){var A=w[M],I=_8e(A),C=q8e(A)===Y6e,O=[B6e,$6e].indexOf(I)>=0,k=O?"width":"height",R=b9e(t,{placement:A,boundary:u,rootBoundary:h,altBoundary:p,padding:c}),L=O?C?H6e:W6e:C?$6e:B6e;_[k]>x[k]&&(L=r9e(L));var N=r9e(L),P=[];if(o&&P.push(R[I]<=0),a&&P.push(R[L]<=0,R[N]<=0),P.every((function(e){return e}))){E=A,T=!1;break}S.set(A,P)}if(T)for(var D=f?3:1,F=function(e){var t=w.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},j=D;j>0;j--){var U=F(j);if("break"===U)break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}}const S9e={name:"flip",enabled:!0,phase:"main",fn:x9e,requiresIfExists:["offset"],data:{_skip:!1}};function T9e(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function E9e(e){return[B6e,H6e,$6e,W6e].some((function(t){return e[t]>=0}))}function M9e(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=b9e(t,{elementContext:"reference"}),a=b9e(t,{altBoundary:!0}),l=T9e(s,r),c=T9e(a,i,o),u=E9e(l),h=E9e(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const A9e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:M9e};function I9e(e,t,n){var r=_8e(e),i=[W6e,B6e].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[W6e,H6e].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function C9e(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=n8e.reduce((function(e,n){return e[n]=I9e(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}const O9e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:C9e};function k9e(e){var t=e.state,n=e.name;t.modifiersData[n]=v9e({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const R9e={name:"popperOffsets",enabled:!0,phase:"read",fn:k9e,data:{}};function L9e(e){return"x"===e?"y":"x"}function N9e(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,p=n.tether,d=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,y=b9e(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),g=_8e(t.placement),v=q8e(t.placement),b=!v,w=F8e(g),_=L9e(w),x=t.modifiersData.popperOffsets,S=t.rects.reference,T=t.rects.popper,E="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,M="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(x){if(o){var C,O="y"===w?B6e:W6e,k="y"===w?$6e:H6e,R="y"===w?"height":"width",L=x[w],N=L+y[O],P=L-y[k],D=d?-T[R]/2:0,F=v===Y6e?S[R]:T[R],j=v===Y6e?-T[R]:-S[R],U=t.elements.arrow,z=d&&U?I8e(U):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:z8e(),V=G[O],B=G[k],$=j8e(0,S[R],z[R]),H=b?S[R]/2-D-$-V-M.mainAxis:F-$-V-M.mainAxis,W=b?-S[R]/2+D+$+B+M.mainAxis:j+$+B+M.mainAxis,q=t.elements.arrow&&D8e(t.elements.arrow),Z=q?"y"===w?q.clientTop||0:q.clientLeft||0:0,Y=null!=(C=A?.[w])?C:0,X=L+H-Y-Z,J=L+W-Y,K=j8e(d?S8e(N,X):N,L,d?x8e(P,J):P);x[w]=K,I[w]=K-L}if(a){var Q,ee="x"===w?B6e:W6e,te="x"===w?$6e:H6e,ne=x[_],re="y"===_?"height":"width",ie=ne+y[ee],oe=ne-y[te],se=-1!==[B6e,W6e].indexOf(g),ae=null!=(Q=A?.[_])?Q:0,le=se?ie:ne-S[re]-T[re]-ae+M.altAxis,ce=se?ne+S[re]+T[re]-ae-M.altAxis:oe,ue=d&&se?U8e(le,ne,ce):j8e(d?le:ie,ne,d?ce:oe);x[_]=ue,I[_]=ue-ne}t.modifiersData[r]=I}}const P9e={name:"preventOverflow",enabled:!0,phase:"main",fn:N9e,requiresIfExists:["offset"]};function D9e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function F9e(e){return e!==f8e(e)&&y8e(e)?D9e(e):s9e(e)}function j9e(e){var t=e.getBoundingClientRect(),n=T8e(t.width)/e.offsetWidth||1,r=T8e(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function U9e(e,t,n){void 0===n&&(n=!1);var r=y8e(t),i=y8e(t)&&j9e(t),o=R8e(t),s=A8e(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==d8e(t)||u9e(o))&&(a=F9e(t)),y8e(t)?(l=A8e(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=a9e(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function z9e(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var o=[].concat(e.requires||[],e.requiresIfExists||[]);o.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function G9e(e){var t=z9e(e);return p8e.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function V9e(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function B9e(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var $9e={placement:"bottom",modifiers:[],strategy:"absolute"};function H9e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function W9e(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?$9e:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},$9e,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var s="function"==typeof n?n(i.options):n;u(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:m8e(e)?p9e(e):e.contextElement?p9e(e.contextElement):[],popper:p9e(t)};var a=G9e(B9e([].concat(r,i.options.modifiers)));return i.orderedModifiers=a.filter((function(e){return e.enabled})),c(),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(H9e(t,n)){i.rects={reference:U9e(t,D8e(n),"fixed"===i.options.strategy),popper:I8e(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,h=o.name;"function"==typeof s&&(i=s({state:i,options:u,name:h,instance:l})||i)}else i.reset=!1,r=-1}}},update:V9e((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),a=!0}};if(!H9e(e,t))return l;function c(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}}))}function u(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var q9e=[t9e,R9e,K8e,w8e,O9e,S9e,P9e,W8e,A9e],Z9e=W9e({defaultModifiers:q9e});const Y9e=["content","aria-label"],X9e=hqe({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=yHe(!1),n=yHe(null),r=nHe([]),i=yHe(),o=yHe(),s=yHe(),a=e;r.push(jYe(t,(()=>{n.value.update()})));const l=()=>{t.value=!t.value,s.value._tippy.hide()},c=()=>{s.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),s.value._tippy.show()},u=()=>{s.value._tippy.hide()};return Zqe((()=>{window.addEventListener("click",(e=>{(!i.value||!i.value.contains(e.target))&&(t.value=!1)}),{capture:!0}),window.addEventListener("blur",(()=>{t.value=!1})),window.addEventListener("focusin",(e=>{(!i.value||!i.value.contains(e.target))&&(t.value=!1)})),s.value.addEventListener("focus",c),s.value.addEventListener("blur",u),s.value.addEventListener("mouseover",c),s.value.addEventListener("mouseleave",u),yWe((()=>{const e={name:"overflowScroll",enabled:!0,phase:"main",fn({state:e}){const{bottom:t}=b9e(e);t>0?(e.styles.popper.overflowY=t>100?"auto":void 0,e.styles.popper.overflowX="hidden",e.styles.popper.height=e.rects.popper.height-t-8+"px"):e.styles.popper.height="auto"}};s.value&&o.value&&(n.value=Z9e(s.value,o.value,{placement:a.position||"bottom",modifiers:[e,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))}))})),Jqe((()=>{r.forEach((e=>e())),window.removeEventListener("click",(e=>{(!i.value||!i.value.contains(e.target))&&(t.value=!1)}),{capture:!0}),window.removeEventListener("blur",(()=>{t.value=!1})),window.removeEventListener("focusin",(e=>{(!i.value||!i.value.contains(e.target))&&(t.value=!1)})),s.value.removeEventListener("focus",c),s.value.removeEventListener("blur",u),s.value.removeEventListener("mouseover",c),s.value.removeEventListener("mouseleave",u),t.value=!1})),(r,a)=>{const c=lZe("tippy");return wXe(),EXe("div",{ref_key:"el",ref:i},[PWe((wXe(),EXe("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:s},[dZe(r.$slots,"header")],8,Y9e)),[[c,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,appendTo:"parent",trigger:"manual"}]]),PWe(RXe("div",{onClick:a[0]||(a[0]=e=>n.value.update()),class:BVe(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:o},[dZe(r.$slots,"default",{close:()=>t.value=!t.value})],2),[[hKe,t.value]])],512)}}}),J9e=a0e("notification",(()=>{const e=yHe([]),t=yHe({}),n=vJe((()=>e.value.length>=99?99:e.value.length));function r(t){e.value=[t,...e.value]}function i(t){if(e.value.includes(t)){const n=e.value.indexOf(t);t instanceof i7e&&l(t),n>-1&&e.value.splice(n,1)}}function o(e){t.value[e.id]=e}function s(n,r){t.value[n]&&(t.value[n].messageList.push(r),e.value.includes(t.value[n])||(e.value=[t.value[n],...e.value]))}function a(){Object.values(t.value).forEach((e=>l(e))),e.value=[]}function l(t){const n=e.value.indexOf(t);n>-1&&e.value.splice(n,1),t.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:n,showNotification:r,removeNotification:i,registerGroup:o,addToGroup:s,clearAll:a}})),K9e={class:"h-full flex flex-col"},Q9e={class:"w-full flex mb-6"},e7e=["content","aria-label"],t7e=hqe({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=J9e(),{t:n}=V4e(),r=vJe((()=>t.notificationNumber)),i=()=>t.clearAll();return(t,o)=>{const s=oZe("panel-screen"),a=lZe("tippy");return wXe(),MXe(s,{panel:e.panel},{header:NWe((()=>[FXe(_Be(_He(n)("notifications.title")),1)])),content:NWe((()=>[RXe("div",K9e,[RXe("div",Q9e,[PWe((wXe(),EXe("button",{type:"button",onClick:i,class:BVe(["p-4 ml-auto",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:_He(n)("notifications.controls.clearAll"),"aria-label":_He(n)("notifications.controls.clearAll")},o[0]||(o[0]=[RXe("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[RXe("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),RXe("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),RXe("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),RXe("path",{d:"M22 22l-5 -5"}),RXe("path",{d:"M17 22l5 -5"})],-1)]),10,e7e)),[[a,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),LXe(f7e,{class:"overflow-y-auto"})])])),_:1},8,["panel"])}}});var n7e=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(n7e||{});class r7e extends AGe{notificationStore;constructor(e){super(e),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":pHe(t7e)},alertName:"notifications.title"}}),this.notificationStore=J9e(this.$vApp.$pinia)}show(e,t){this.notificationStore.showNotification({type:e,message:t})}addGroup(e,t,n){if(this.getGroup(e))throw new Error("Duplicate notification group id registration: "+e);const r=new i7e(this.$iApi,e,t,n);return this.notificationStore.registerGroup(r),r}getGroup(e){return this.notificationStore.groups[e]}}class i7e extends AGe{notificationStore=J9e(this.$vApp.$pinia);id;message;type;messageList=[];constructor(e,t,n,r){super(e),this.id=t,this.type=n,this.message=r}show(e){this.notificationStore.addToGroup(this.id,e)}}const o7e=["content"],s7e={class:"flex items-center text-left"},a7e={class:"select-text cursor-text"},l7e=["content"],c7e={key:0,class:"text-left"},u7e=hqe({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=J9e(),{t:n}=V4e(),r=e,i=yHe(!1),o=nHe({[n7e.WARNING]:"⚠",[n7e.INFO]:"ℹ️",[n7e.ERROR]:"❌"}),s=e=>{t.removeNotification(e)},a=()=>{if(!r.notification.messageList)return!1};return(t,r)=>{const l=lZe("tippy");return PWe((wXe(),EXe("li",{class:BVe(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:_He(n)(i.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:r[1]||(r[1]=e=>i.value=!i.value)},[RXe("div",s7e,[RXe("span",null,[FXe(_Be(o[e.notification.type])+" ",1),RXe("span",a7e,_Be(e.notification.message),1)]),r[4]||(r[4]=RXe("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(wXe(),EXe("div",{key:0,class:BVe(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":i.value}])},r[2]||(r[2]=[RXe("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[RXe("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):UXe("",!0),PWe((wXe(),EXe("button",{type:"button",onClick:r[0]||(r[0]=EQe((t=>s(e.notification)),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:_He(n)("notifications.controls.dismiss")},r[3]||(r[3]=[RXe("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[RXe("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,l7e)),[[l,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&i.value?(wXe(),EXe("div",c7e,[(wXe(!0),EXe(fXe,null,hZe(e.notification.messageList,((t,n)=>(wXe(),EXe("p",{key:e.notification.id+t+n},_Be(t),1)))),128))])):UXe("",!0)],10,o7e)),[[l,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),h7e=["content"],p7e={key:0,class:"w-full border-b border-black"},d7e={key:1,class:"flex flex-col items-center h-full"},f7e=hqe({__name:"notification-list",setup(e){const t=J9e(),{t:n}=V4e(),r=yHe(),i=()=>{r.value._tippy.hide()},o=e=>{"Tab"===e.key&&r.value?.matches(":focus")&&r.value._tippy.show()};Zqe((()=>{r.value?.addEventListener("blur",i),r.value?.addEventListener("keyup",o)})),Jqe((()=>{r.value?.removeEventListener("blur",i),r.value?.removeEventListener("keyup",o)}));const s=vJe((()=>t.notificationStack));return(e,t)=>{const i=lZe("focus-item"),o=lZe("focus-list"),a=lZe("tippy");return wXe(),EXe("div",null,[s.value.length>0?PWe((wXe(),EXe("ul",{key:0,content:_He(n)("panels.controls.items"),ref_key:"el",ref:r},[(wXe(!0),EXe(fXe,null,hZe(s.value,((e,t)=>(wXe(),EXe(fXe,{key:e.message+t},[t>0?(wXe(),EXe("div",p7e)):UXe("",!0),PWe(LXe(u7e,{class:BVe([e.type]),notification:e},null,8,["class","notification"]),[[i]])],64)))),128))],8,h7e)),[[o],[a,{trigger:"manual",placement:"top-start",touch:!1}]]):(wXe(),EXe("div",d7e,[t[0]||(t[0]=RXe("span",{class:"flex-grow"},null,-1)),t[1]||(t[1]=RXe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[RXe("path",{d:"M0 0h24v24H0z",fill:"none"}),RXe("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),RXe("span",null,_Be(_He(n)("notifications.empty")),1),t[2]||(t[2]=RXe("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),m7e={class:"flex items-center hover:text-white"},y7e=["aria-label"],g7e={key:0,class:"number rounded-full w-18 text-white"},v7e={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},b7e={class:"pb-8 border-b border-gray-600"},w7e={class:"absolute flex right-3 top-3"},_7e=["content","aria-label"],x7e=hqe({__name:"caption-button",setup(e){const t=J9e(),{t:n}=V4e(),r=vJe((()=>t.notificationNumber)),i=()=>t.clearAll();return(e,t)=>{const o=oZe("close"),s=lZe("tippy");return wXe(),MXe(X9e,{position:"top-start",tooltip:_He(n)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:NWe((()=>[RXe("div",m7e,[(wXe(),EXe("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":_He(n)("notifications.open")},t[0]||(t[0]=[RXe("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,y7e)),r.value&&r.value>0?(wXe(),EXe("span",g7e,_Be(r.value),1)):UXe("",!0)])])),default:NWe((e=>[RXe("div",v7e,[RXe("div",null,[RXe("h4",b7e,_Be(_He(n)("notifications.title")),1),RXe("div",w7e,[PWe((wXe(),EXe("button",{type:"button",onClick:i,class:BVe(["p-4 mr-6",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:_He(n)("notifications.controls.clearAll"),"aria-label":_He(n)("notifications.controls.clearAll")},t[1]||(t[1]=[RXe("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[RXe("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),RXe("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),RXe("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),RXe("path",{d:"M22 22l-5 -5"}),RXe("path",{d:"M17 22l5 -5"})],-1)]),10,_7e)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),LXe(o,{onClick:e.close},null,8,["onClick"])])]),LXe(f7e,{class:"overflow-y-auto h-230"})])])),_:1},8,["tooltip"])}}}),S7e=G6e(x7e,[["__scopeId","data-v-3623a7d2"]]),T7e={class:"flex hover:text-white"},E7e=["aria-label"],M7e={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},A7e={class:"pb-8 border-b border-gray-600 mb-10"},I7e={class:"absolute right-5 top-5"},C7e={class:"select-text"},O7e={class:"font-bold cursor-text"},k7e={class:"text-sm cursor-text"},R7e={class:"text-sm cursor-text"},L7e=hqe({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t:t}=V4e(),n=vJe((()=>`${Lut.major}.${Lut.minor}.${Lut.patch}`)),r=vJe((()=>Lut.hash.slice(0,9))),i=vJe((()=>{let e=new Date(Lut.timestamp);if(isNaN(e))return"dev mode, no date";{const t=e=>e<10?"0"+e.toString():e.toString();return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${t(e.getMinutes())}:${t(e.getSeconds())}`}}));return(o,s)=>{const a=oZe("close"),l=oZe("dropdown-menu"),c=lZe("focus-item");return PWe((wXe(),MXe(l,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:_He(t)("ramp.about"),tooltipPlacement:e.position},{header:NWe((()=>[RXe("div",T7e,[(wXe(),EXe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":_He(t)("ramp.about.open")},s[0]||(s[0]=[RXe("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,E7e))])])),default:NWe((e=>[RXe("div",M7e,[RXe("div",null,[RXe("h4",A7e,_Be(_He(t)("ramp.about")),1),RXe("div",I7e,[LXe(a,{onClick:e.close},null,8,["onClick"])]),RXe("div",C7e,[RXe("div",null,[RXe("span",O7e,_Be(n.value),1),RXe("span",k7e," ["+_Be(r.value)+"] ",1)]),RXe("div",null,[RXe("span",R7e,_Be(i.value),1)]),s[1]||(s[1]=RXe("div",{class:"mt-5"},[RXe("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[RXe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[RXe("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),FXe(" ramp4-pcar4 ")])],-1))])])])])),_:1},8,["position","tooltip","tooltipPlacement"])),[[c]])}}}),N7e=G6e(L7e,[["__scopeId","data-v-dd0345a4"]]),P7e={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},D7e={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},F7e=["href","aria-label"],j7e=["src","alt"],U7e={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},z7e={class:"flex min-w-fit justify-end"},G7e={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},V7e=["aria-pressed","aria-label","content"],B7e={class:"relative top-1 text-sm sm:text-base"},$7e={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},H7e=["onClick"],W7e={key:0,class:"sr-only"},q7e=hqe({__name:"map-caption",setup(e){const t=p0e(),n=m0e(),{t:r}=V4e(),i=nYe("iApi"),o=vJe((()=>t.scale)),s=vJe((()=>t.attribution)),a=vJe((()=>t.coords)),l=vJe((()=>t.langtoggle)),c=vJe((()=>n.config.map)),u=yHe([]),h=nHe([]);h.push(jYe(c,(e=>{e&&i.geo.map.caption.createCaption(c.value?.caption)}))),Jqe((()=>{h.forEach((e=>e()))})),Xqe((()=>{yWe((()=>{i.$i18n.locale.value&&0==u.value.length&&(u.value=i.$i18n.availableLocales)}))}));const p=e=>{i.$i18n.locale.value!=e&&i.setLanguage(e)},d=()=>{t.toggleScale(),i.geo.map.caption.updateScale()},f=(e=!1)=>r(e?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(e,t)=>{const n=oZe("dropdown-menu"),c=lZe("truncate"),h=lZe("tippy");return wXe(),EXe("div",P7e,[LXe(N7e,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),LXe(S7e,{class:"sm:block display-none"}),s.value?.logo.disabled?UXe("",!0):(wXe(),EXe("span",D7e,[RXe("a",{class:"pointer-events-auto cursor-pointer",href:s.value?.logo.link,target:"_blank","aria-label":s.value?.logo.altText},[RXe("img",{class:"object-contain h-18 sm:h-26",src:s.value?.logo.value,alt:s.value?.logo.altText},null,8,j7e)],8,F7e)])),s.value?.text.disabled?UXe("",!0):PWe((wXe(),EXe("span",U7e,[FXe(_Be(s.value?.text.value),1)])),[[c,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),t[0]||(t[0]=RXe("span",{class:"flex-grow w-15"},null,-1)),RXe("div",z7e,[a.value?.disabled?UXe("",!0):PWe((wXe(),EXe("div",G7e,[FXe(_Be(a.value?.formattedString),1)])),[[c,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),o.value?.disabled?UXe("",!0):PWe((wXe(),EXe("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:d,"aria-pressed":o.value?.isImperialScale,"aria-label":`\n                    ${o.value?.label} - ${f(o.value?.isImperialScale)}\n                `,content:f(o.value?.isImperialScale)},[RXe("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:FVe({width:o.value?.width})},null,4),RXe("span",B7e,_Be(o.value?.label),1)],8,V7e)),[[h,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?UXe("",!0):(wXe(),MXe(n,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:_He(r)("map.changeLanguage"),ariaLabel:`${_He(r)("map.language.short")} - ${_He(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:NWe((()=>[RXe("span",$7e,_Be(_He(r)("map.language.short")),1)])),default:NWe((()=>[(wXe(!0),EXe(fXe,null,hZe(u.value,((e,t)=>(wXe(),EXe("a",{key:`${e}-${t}`,class:BVe(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":e===_He(i).$i18n.locale.value}]),href:"javascript:;",onClick:t=>p(e)},[FXe(_Be(_He(r)("map.language."+e))+" ",1),e===_He(i).$i18n.locale.value?(wXe(),EXe("span",W7e,_Be(_He(r)("map.language.curr")),1)):UXe("",!0)],10,H7e)))),128))])),_:1},8,["tooltip","ariaLabel"]))])])}}}),Z7e=["content","aria-label"],Y7e={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},X7e=hqe({__name:"floating-button",setup(e){const t=J9e(),n=nYe("iApi"),{t:r}=V4e(),i=vJe((()=>t.notificationNumber));return(e,t)=>{const o=lZe("tippy");return PWe((wXe(),EXe("button",{type:"button",onClick:t[0]||(t[0]=e=>_He(n).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:_He(r)("notifications.title"),"aria-label":_He(r)("notifications.title")},[t[1]||(t[1]=RXe("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[RXe("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),i.value&&i.value>0?(wXe(),EXe("span",Y7e,_Be(i.value),1)):UXe("",!0)],8,Z7e)),[[o]])}}}),J7e=G6e(X7e,[["__scopeId","data-v-a451db5c"]]),K7e={class:"flex items-center mb-20"},Q7e={class:"text-xl"},eet=hqe({__name:"keyboard-instructions",setup(e){const t=nYe("iApi"),{t:n}=V4e(),r=yHe(!1),i=yHe(["app","lists","map"]),o=yHe([]),s=yHe(null),a=yHe(null);Zqe((()=>{o.value.push(t.event.on("openKeyboardInstructions",(()=>{r.value=!0,yWe((()=>{s.value.focus()}))})))})),Jqe((()=>{o.value.forEach((e=>t?.event.off(e)))}));const l=e=>{"Tab"===e.key?e.shiftKey&&e.target===s.value?(e.preventDefault(),a.value.focus()):!e.shiftKey&&e.target===a.value&&(e.preventDefault(),s.value.focus()):"Escape"===e.key&&(e.preventDefault(),r.value=!1)};return(e,t)=>{const o=oZe("close");return r.value?(wXe(),EXe("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:t[3]||(t[3]=e=>r.value=!1),onKeydown:l},[RXe("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:t[2]||(t[2]=EQe((()=>{}),["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:s},[RXe("div",K7e,[RXe("h2",Q7e,_Be(_He(n)("keyboardInstructions.title")),1),LXe(o,{class:"ml-auto",onClick:t[0]||(t[0]=e=>r.value=!1)})]),(wXe(!0),EXe(fXe,null,hZe(i.value,(e=>(wXe(),EXe("p",{class:"whitespace-pre-line pb-10",key:e},_Be(_He(n)(`keyboardInstructions.${e}`)),1)))),128)),RXe("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:t[1]||(t[1]=e=>r.value=!1),ref_key:"lastEl",ref:a},_Be(_He(n)("keyboardInstructions.OK")),513)],512)],32)):UXe("",!0)}}}),tet=a0e("instance",(()=>({started:yHe(!1)}))),net={class:"h-full relative"},ret={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},iet={class:"absolute top-8 w-full flex justify-center"},oet={key:1,class:"w-full h-full"},set=hqe({__name:"shell",setup(e){const t=nYe("iApi"),n=tet(),r=g0e(),i=U6e(),{t:o}=V4e(),s=vJe((()=>r.items.appbar)),a=()=>{t?.event.emit("openKeyboardInstructions")},l=()=>i.teleported;return(e,t)=>(wXe(),EXe("div",net,[RXe("div",ret,[t[0]||(t[0]=RXe("div",{class:"sr-only screen-reader-alert"},null,-1)),RXe("div",iet,[RXe("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},_Be(_He(o)("keyboardInstructions.open")),1)]),LXe(eet),LXe(V6e,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),s.value?UXe("",!0):(wXe(),MXe(J7e,{key:0})),LXe(q7e,{class:"z-30"})]),_He(n).started?(wXe(),MXe(m5e,{key:0})):(wXe(),EXe("div",oet,t[1]||(t[1]=[RXe("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(wXe(!0),EXe(fXe,null,hZe(l(),(e=>(wXe(),MXe(qWe,{to:e.teleport?.target,key:e.id},[(wXe(),MXe(j6e,{key:`${e.id}`,panel:e},null,8,["panel"]))],8,["to"])))),128))]))}}),aet=G6e(set,[["__scopeId","data-v-6c131943"]]);var cet="top",uet="bottom",het="right",pet="left",det="auto",fet=[cet,uet,het,pet],met="start",yet="end",get="clippingParents",vet="viewport",bet="popper",wet="reference",_et=fet.reduce((function(e,t){return e.concat([t+"-"+met,t+"-"+yet])}),[]),xet=[].concat(fet,[det]).reduce((function(e,t){return e.concat([t,t+"-"+met,t+"-"+yet])}),[]),Tet="beforeRead",Eet="read",Met="afterRead",Aet="beforeMain",Iet="main",Cet="afterMain",Oet="beforeWrite",ket="write",Ret="afterWrite",Let=[Tet,Eet,Met,Aet,Iet,Cet,Oet,ket,Ret];function Net(e){return e?(e.nodeName||"").toLowerCase():null}function Pet(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Det(e){var t=Pet(e).Element;return e instanceof t||e instanceof Element}function Fet(e){var t=Pet(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function jet(e){if(typeof ShadowRoot>"u")return!1;var t=Pet(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Uet(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];!Fet(i)||!Net(i)||(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function zet(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),s=o.reduce((function(e,t){return e[t]="",e}),{});!Fet(r)||!Net(r)||(Object.assign(r.style,s),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}var Get={name:"applyStyles",enabled:!0,phase:"write",fn:Uet,effect:zet,requires:["computeStyles"]};function Vet(e){return e.split("-")[0]}var Bet=Math.max,$et=Math.min,Het=Math.round;function Wet(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Fet(e)&&t){var o=e.offsetHeight,s=e.offsetWidth;s>0&&(r=Het(n.width)/s||1),o>0&&(i=Het(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function qet(e){var t=Wet(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Zet(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&jet(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Yet(e){return Pet(e).getComputedStyle(e)}function Xet(e){return["table","td","th"].indexOf(Net(e))>=0}function Jet(e){return((Det(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ket(e){return"html"===Net(e)?e:e.assignedSlot||e.parentNode||(jet(e)?e.host:null)||Jet(e)}function Qet(e){return Fet(e)&&"fixed"!==Yet(e).position?e.offsetParent:null}function ett(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&Fet(e)){var r=Yet(e);if("fixed"===r.position)return null}for(var i=Ket(e);Fet(i)&&["html","body"].indexOf(Net(i))<0;){var o=Yet(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}function ttt(e){for(var t=Pet(e),n=Qet(e);n&&Xet(n)&&"static"===Yet(n).position;)n=Qet(n);return n&&("html"===Net(n)||"body"===Net(n)&&"static"===Yet(n).position)?t:n||ett(e)||t}function ntt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function rtt(e,t,n){return Bet(e,$et(t,n))}function itt(e,t,n){var r=rtt(e,t,n);return r>n?n:r}function ott(){return{top:0,right:0,bottom:0,left:0}}function stt(e){return Object.assign({},ott(),e)}function att(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var ltt=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,stt("number"!=typeof e?e:att(e,fet))};function ctt(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Vet(n.placement),l=ntt(a),c=[pet,het].indexOf(a)>=0,u=c?"height":"width";if(o&&s){var h=ltt(i.padding,n),p=qet(o),d="y"===l?cet:pet,f="y"===l?uet:het,m=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],y=s[l]-n.rects.reference[l],g=ttt(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=m/2-y/2,w=h[d],_=v-p[u]-h[f],x=v/2-p[u]/2+b,S=rtt(w,x,_),T=l;n.modifiersData[r]=(t={},t[T]=S,t.centerOffset=S-x,t)}}function utt(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&(i=t.elements.popper.querySelector(i),!i)||Zet(t.elements.popper,i)&&(t.elements.arrow=i))}var htt={name:"arrow",enabled:!0,phase:"main",fn:ctt,effect:utt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ptt(e){return e.split("-")[1]}var dtt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ftt(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Het(t*i)/i||0,y:Het(n*i)/i||0}}function mtt(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,p=!0===u?ftt(s):"function"==typeof u?u(s):s,d=p.x,f=void 0===d?0:d,m=p.y,y=void 0===m?0:m,g=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),b=pet,w=cet,_=window;if(c){var x=ttt(n),S="clientHeight",T="clientWidth";if(x===Pet(n)&&(x=Jet(n),"static"!==Yet(x).position&&"absolute"===a&&(S="scrollHeight",T="scrollWidth")),i===cet||(i===pet||i===het)&&o===yet){w=uet;var E=h&&_.visualViewport?_.visualViewport.height:x[S];y-=E-r.height,y*=l?1:-1}if(i===pet||(i===cet||i===uet)&&o===yet){b=het;var M=h&&_.visualViewport?_.visualViewport.width:x[T];f-=M-r.width,f*=l?1:-1}}var A,I=Object.assign({position:a},c&&dtt);return l?Object.assign({},I,(A={},A[w]=v?"0":"",A[b]=g?"0":"",A.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+y+"px)":"translate3d("+f+"px, "+y+"px, 0)",A)):Object.assign({},I,(t={},t[w]=v?y+"px":"",t[b]=g?f+"px":"",t.transform="",t))}function ytt(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:Vet(t.placement),variation:ptt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,mtt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,mtt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var gtt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ytt,data:{}},vtt={passive:!0};function btt(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=Pet(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,vtt)})),a&&l.addEventListener("resize",n.update,vtt),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,vtt)})),a&&l.removeEventListener("resize",n.update,vtt)}}var wtt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:btt,data:{}},_tt={left:"right",right:"left",bottom:"top",top:"bottom"};function xtt(e){return e.replace(/left|right|bottom|top/g,(function(e){return _tt[e]}))}var Stt={start:"end",end:"start"};function Ttt(e){return e.replace(/start|end/g,(function(e){return Stt[e]}))}function Ett(e){var t=Pet(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Mtt(e){return Wet(Jet(e)).left+Ett(e).scrollLeft}function Att(e){var t=Pet(e),n=Jet(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:s+Mtt(e),y:a}}function Itt(e){var t,n=Jet(e),r=Ett(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Bet(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Bet(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Mtt(e),l=-r.scrollTop;return"rtl"===Yet(i||n).direction&&(a+=Bet(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Ctt(e){var t=Yet(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ott(e){return["html","body","#document"].indexOf(Net(e))>=0?e.ownerDocument.body:Fet(e)&&Ctt(e)?e:Ott(Ket(e))}function ktt(e,t){var n;void 0===t&&(t=[]);var r=Ott(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Pet(r),s=i?[o].concat(o.visualViewport||[],Ctt(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(ktt(Ket(s)))}function Rtt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ltt(e){var t=Wet(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Ntt(e,t){return t===vet?Rtt(Att(e)):Det(t)?Ltt(t):Rtt(Itt(Jet(e)))}function Ptt(e){var t=ktt(Ket(e)),n=["absolute","fixed"].indexOf(Yet(e).position)>=0,r=n&&Fet(e)?ttt(e):e;return Det(r)?t.filter((function(e){return Det(e)&&Zet(e,r)&&"body"!==Net(e)&&(!n||"static"!==Yet(e).position)})):[]}function Dtt(e,t,n){var r="clippingParents"===t?Ptt(e):[].concat(t),i=[].concat(r,[n]),o=i[0],s=i.reduce((function(t,n){var r=Ntt(e,n);return t.top=Bet(r.top,t.top),t.right=$et(r.right,t.right),t.bottom=$et(r.bottom,t.bottom),t.left=Bet(r.left,t.left),t}),Ntt(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Ftt(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Vet(i):null,s=i?ptt(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case cet:t={x:a,y:n.y-r.height};break;case uet:t={x:a,y:n.y+n.height};break;case het:t={x:n.x+n.width,y:l};break;case pet:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?ntt(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case met:t[c]=t[c]-(n[u]/2-r[u]/2);break;case yet:t[c]=t[c]+(n[u]/2-r[u]/2);break}}return t}function jtt(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,s=void 0===o?get:o,a=n.rootBoundary,l=void 0===a?vet:a,c=n.elementContext,u=void 0===c?bet:c,h=n.altBoundary,p=void 0!==h&&h,d=n.padding,f=void 0===d?0:d,m=stt("number"!=typeof f?f:att(f,fet)),y=u===bet?wet:bet,g=e.rects.popper,v=e.elements[p?y:u],b=Dtt(Det(v)?v:v.contextElement||Jet(e.elements.popper),s,l),w=Wet(e.elements.reference),_=Ftt({reference:w,element:g,strategy:"absolute",placement:i}),x=Rtt(Object.assign({},g,_)),S=u===bet?x:w,T={top:b.top-S.top+m.top,bottom:S.bottom-b.bottom+m.bottom,left:b.left-S.left+m.left,right:S.right-b.right+m.right},E=e.modifiersData.offset;if(u===bet&&E){var M=E[i];Object.keys(T).forEach((function(e){var t=[het,uet].indexOf(e)>=0?1:-1,n=[cet,uet].indexOf(e)>=0?"y":"x";T[e]+=M[n]*t}))}return T}function Utt(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?xet:l,u=ptt(r),h=u?a?_et:_et.filter((function(e){return ptt(e)===u})):fet,p=h.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=h);var d=p.reduce((function(t,n){return t[n]=jtt(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[Vet(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}function ztt(e){if(Vet(e)===det)return[];var t=xtt(e);return[Ttt(e),t,Ttt(t)]}function Gtt(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,f=void 0===d||d,m=n.allowedAutoPlacements,y=t.options.placement,g=Vet(y),v=g===y,b=l||(v||!f?[xtt(y)]:ztt(y)),w=[y].concat(b).reduce((function(e,n){return e.concat(Vet(n)===det?Utt(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),_=t.rects.reference,x=t.rects.popper,S=new Map,T=!0,E=w[0],M=0;M<w.length;M++){var A=w[M],I=Vet(A),C=ptt(A)===met,O=[cet,uet].indexOf(I)>=0,k=O?"width":"height",R=jtt(t,{placement:A,boundary:u,rootBoundary:h,altBoundary:p,padding:c}),L=O?C?het:pet:C?uet:cet;_[k]>x[k]&&(L=xtt(L));var N=xtt(L),P=[];if(o&&P.push(R[I]<=0),a&&P.push(R[L]<=0,R[N]<=0),P.every((function(e){return e}))){E=A,T=!1;break}S.set(A,P)}if(T)for(var D=f?3:1,F=function(e){var t=w.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},j=D;j>0;j--){var U=F(j);if("break"===U)break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}}var Vtt={name:"flip",enabled:!0,phase:"main",fn:Gtt,requiresIfExists:["offset"],data:{_skip:!1}};function Btt(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function $tt(e){return[cet,het,uet,pet].some((function(t){return e[t]>=0}))}function Htt(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=jtt(t,{elementContext:"reference"}),a=jtt(t,{altBoundary:!0}),l=Btt(s,r),c=Btt(a,i,o),u=$tt(l),h=$tt(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var Wtt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Htt};function qtt(e,t,n){var r=Vet(e),i=[pet,cet].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[pet,het].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Ztt(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=xet.reduce((function(e,n){return e[n]=qtt(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}var Ytt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ztt};function Xtt(e){var t=e.state,n=e.name;t.modifiersData[n]=Ftt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Jtt={name:"popperOffsets",enabled:!0,phase:"read",fn:Xtt,data:{}};function Ktt(e){return"x"===e?"y":"x"}function Qtt(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,p=n.tether,d=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,y=jtt(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),g=Vet(t.placement),v=ptt(t.placement),b=!v,w=ntt(g),_=Ktt(w),x=t.modifiersData.popperOffsets,S=t.rects.reference,T=t.rects.popper,E="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,M="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(x){if(o){var C,O="y"===w?cet:pet,k="y"===w?uet:het,R="y"===w?"height":"width",L=x[w],N=L+y[O],P=L-y[k],D=d?-T[R]/2:0,F=v===met?S[R]:T[R],j=v===met?-T[R]:-S[R],U=t.elements.arrow,z=d&&U?qet(U):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ott(),V=G[O],B=G[k],$=rtt(0,S[R],z[R]),H=b?S[R]/2-D-$-V-M.mainAxis:F-$-V-M.mainAxis,W=b?-S[R]/2+D+$+B+M.mainAxis:j+$+B+M.mainAxis,q=t.elements.arrow&&ttt(t.elements.arrow),Z=q?"y"===w?q.clientTop||0:q.clientLeft||0:0,Y=null!=(C=A?.[w])?C:0,X=L+H-Y-Z,J=L+W-Y,K=rtt(d?$et(N,X):N,L,d?Bet(P,J):P);x[w]=K,I[w]=K-L}if(a){var Q,ee="x"===w?cet:pet,te="x"===w?uet:het,ne=x[_],re="y"===_?"height":"width",ie=ne+y[ee],oe=ne-y[te],se=-1!==[cet,pet].indexOf(g),ae=null!=(Q=A?.[_])?Q:0,le=se?ie:ne-S[re]-T[re]-ae+M.altAxis,ce=se?ne+S[re]+T[re]-ae-M.altAxis:oe,ue=d&&se?itt(le,ne,ce):rtt(d?le:ie,ne,d?ce:oe);x[_]=ue,I[_]=ue-ne}t.modifiersData[r]=I}}var ent={name:"preventOverflow",enabled:!0,phase:"main",fn:Qtt,requiresIfExists:["offset"]};function tnt(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function nnt(e){return e!==Pet(e)&&Fet(e)?tnt(e):Ett(e)}function rnt(e){var t=e.getBoundingClientRect(),n=Het(t.width)/e.offsetWidth||1,r=Het(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function int(e,t,n){void 0===n&&(n=!1);var r=Fet(t),i=Fet(t)&&rnt(t),o=Jet(t),s=Wet(e,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Net(t)||Ctt(o))&&(a=nnt(t)),Fet(t)?(l=Wet(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Mtt(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function ont(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var o=[].concat(e.requires||[],e.requiresIfExists||[]);o.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function snt(e){var t=ont(e);return Let.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function ant(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function lnt(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var cnt={placement:"bottom",modifiers:[],strategy:"absolute"};function unt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function hnt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?cnt:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},cnt,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var s="function"==typeof n?n(i.options):n;u(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:Det(e)?ktt(e):e.contextElement?ktt(e.contextElement):[],popper:ktt(t)};var a=snt(lnt([].concat(r,i.options.modifiers)));return i.orderedModifiers=a.filter((function(e){return e.enabled})),c(),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(unt(t,n)){i.rects={reference:int(t,ttt(n),"fixed"===i.options.strategy),popper:qet(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,h=o.name;"function"==typeof s&&(i=s({state:i,options:u,name:h,instance:l})||i)}else i.reset=!1,r=-1}}},update:ant((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),a=!0}};if(!unt(e,t))return l;function c(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}}))}function u(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var pnt=[wtt,Jtt,gtt,Get,Ytt,Vtt,ent,htt,Wtt],dnt=hnt({defaultModifiers:pnt}),fnt="tippy-box",mnt="tippy-content",ynt="tippy-backdrop",gnt="tippy-arrow",vnt="tippy-svg-arrow",bnt={passive:!0,capture:!0},wnt=function(){return document.body};function _nt(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function xnt(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function Snt(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Tnt(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Ent(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function Mnt(e){return e.split(/\s+/).filter(Boolean)}function Ant(e){return[].concat(e)}function Int(e,t){-1===e.indexOf(t)&&e.push(t)}function Cnt(e){return e.filter((function(t,n){return e.indexOf(t)===n}))}function Ont(e){return e.split("-")[0]}function knt(e){return[].slice.call(e)}function Rnt(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function Lnt(){return document.createElement("div")}function Nnt(e){return["Element","Fragment"].some((function(t){return xnt(e,t)}))}function Pnt(e){return xnt(e,"NodeList")}function Dnt(e){return xnt(e,"MouseEvent")}function Fnt(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function jnt(e){return Nnt(e)?[e]:Pnt(e)?knt(e):Array.isArray(e)?e:knt(document.querySelectorAll(e))}function Unt(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function znt(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Gnt(e){var t,n=Ant(e),r=n[0];return null!=r&&null!=(t=r.ownerDocument)&&t.body?r.ownerDocument:document}function Vnt(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,o=e.props,s=o.interactiveBorder,a=Ont(i.placement),l=i.modifiersData.offset;if(!l)return!0;var c="bottom"===a?l.top.y:0,u="top"===a?l.bottom.y:0,h="right"===a?l.left.x:0,p="left"===a?l.right.x:0,d=t.top-r+c>s,f=r-t.bottom-u>s,m=t.left-n+h>s,y=n-t.right-p>s;return d||f||m||y}))}function Bnt(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function $nt(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Hnt={isTouch:!1},Wnt=0;function qnt(){Hnt.isTouch||(Hnt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Znt))}function Znt(){var e=performance.now();e-Wnt<20&&(Hnt.isTouch=!1,document.removeEventListener("mousemove",Znt)),Wnt=e}function Ynt(){var e=document.activeElement;if(Fnt(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Xnt(){document.addEventListener("touchstart",qnt,bnt),window.addEventListener("blur",Ynt)}var Jnt=typeof window<"u"&&typeof document<"u",Knt=!!Jnt&&!!window.msCrypto,Qnt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ert={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},trt=Object.assign({appendTo:wnt,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Qnt,ert),nrt=Object.keys(trt),rrt=function(e){var t=Object.keys(e);t.forEach((function(t){trt[t]=e[t]}))};function irt(e){var t=e.plugins||[],n=t.reduce((function(t,n){var r,i=n.name,o=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=trt[i])?r:o);return t}),{});return Object.assign({},e,n)}function ort(e,t){var n=t?Object.keys(irt(Object.assign({},trt,{plugins:t}))):nrt,r=n.reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch{t[n]=r}return t}),{});return r}function srt(e,t){var n=Object.assign({},t,{content:Snt(t.content,[e])},t.ignoreAttributes?{}:ort(e,t.plugins));return n.aria=Object.assign({},trt.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}var art=function(){return"innerHTML"};function lrt(e,t){e[art()]=t}function crt(e){var t=Lnt();return!0===e?t.className=gnt:(t.className=vnt,Nnt(e)?t.appendChild(e):lrt(t,e)),t}function urt(e,t){Nnt(t.content)?(lrt(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?lrt(e,t.content):e.textContent=t.content)}function hrt(e){var t=e.firstElementChild,n=knt(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(mnt)})),arrow:n.find((function(e){return e.classList.contains(gnt)||e.classList.contains(vnt)})),backdrop:n.find((function(e){return e.classList.contains(ynt)}))}}function prt(e){var t=Lnt(),n=Lnt();n.className=fnt,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Lnt();function i(n,r){var i=hrt(t),o=i.box,s=i.content,a=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),(n.content!==r.content||n.allowHTML!==r.allowHTML)&&urt(s,e.props),r.arrow?a?n.arrow!==r.arrow&&(o.removeChild(a),o.appendChild(crt(r.arrow))):o.appendChild(crt(r.arrow)):a&&o.removeChild(a)}return r.className=mnt,r.setAttribute("data-state","hidden"),urt(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}prt.$$tippy=!0;var drt=1,frt=[],mrt=[];function yrt(e,t){var n,r,i,o,s,a,l,c=srt(e,Object.assign({},trt,irt(Rnt(t)))),u=!1,h=!1,p=!1,d=!1,f=[],m=Tnt(X,c.interactiveDebounce),y=drt++,g=null,v=Cnt(c.plugins),b={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:y,reference:e,popper:Lnt(),popperInstance:g,props:c,state:b,plugins:v,clearDelayTimeouts:le,setProps:ce,setContent:ue,show:he,hide:pe,hideWithInteractivity:de,enable:se,disable:ae,unmount:fe,destroy:me};if(!c.render)return w;var _=c.render(w),x=_.popper,S=_.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+w.id,w.popper=x,e._tippy=w,x._tippy=w;var T=v.map((function(e){return e.fn(w)})),E=e.hasAttribute("aria-expanded");return q(),D(),L(),N("onCreate",[w]),c.showOnCreate&&ie(),x.addEventListener("mouseenter",(function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",m)})),w;function M(){var e=w.props.touch;return Array.isArray(e)?e:[e,0]}function A(){return"hold"===M()[0]}function I(){var e;return!(null==(e=w.props.render)||!e.$$tippy)}function C(){return l||e}function O(){var e=C().parentNode;return e?Gnt(e):document}function k(){return hrt(x)}function R(e){return w.state.isMounted&&!w.state.isVisible||Hnt.isTouch||o&&"focus"===o.type?0:_nt(w.props.delay,e?0:1,trt.delay)}function L(e){void 0===e&&(e=!1),x.style.pointerEvents=w.props.interactive&&!e?"":"none",x.style.zIndex=""+w.props.zIndex}function N(e,t,n){var r;(void 0===n&&(n=!0),T.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=w.props)[e].apply(r,t)}function P(){var t=w.props.aria;if(t.content){var n="aria-"+t.content,r=x.id,i=Ant(w.props.triggerTarget||e);i.forEach((function(e){var t=e.getAttribute(n);if(w.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function D(){if(!E&&w.props.aria.expanded){var t=Ant(w.props.triggerTarget||e);t.forEach((function(e){w.props.interactive?e.setAttribute("aria-expanded",w.state.isVisible&&e===C()?"true":"false"):e.removeAttribute("aria-expanded")}))}}function F(){O().removeEventListener("mousemove",m),frt=frt.filter((function(e){return e!==m}))}function j(t){if(!Hnt.isTouch||!p&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!w.props.interactive||!$nt(x,n)){if(Ant(w.props.triggerTarget||e).some((function(e){return $nt(e,n)}))){if(Hnt.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[w,t]);!0===w.props.hideOnClick&&(w.clearDelayTimeouts(),w.hide(),h=!0,setTimeout((function(){h=!1})),w.state.isMounted||V())}}}function U(){p=!0}function z(){p=!1}function G(){var e=O();e.addEventListener("mousedown",j,!0),e.addEventListener("touchend",j,bnt),e.addEventListener("touchstart",z,bnt),e.addEventListener("touchmove",U,bnt)}function V(){var e=O();e.removeEventListener("mousedown",j,!0),e.removeEventListener("touchend",j,bnt),e.removeEventListener("touchstart",z,bnt),e.removeEventListener("touchmove",U,bnt)}function B(e,t){H(e,(function(){!w.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&t()}))}function $(e,t){H(e,t)}function H(e,t){var n=k().box;function r(e){e.target===n&&(Bnt(n,"remove",r),t())}if(0===e)return t();Bnt(n,"remove",s),Bnt(n,"add",r),s=r}function W(t,n,r){void 0===r&&(r=!1);var i=Ant(w.props.triggerTarget||e);i.forEach((function(e){e.addEventListener(t,n,r),f.push({node:e,eventType:t,handler:n,options:r})}))}function q(){A()&&(W("touchstart",Y,{passive:!0}),W("touchend",J,{passive:!0})),Mnt(w.props.trigger).forEach((function(e){if("manual"!==e)switch(W(e,Y),e){case"mouseenter":W("mouseleave",J);break;case"focus":W(Knt?"focusout":"blur",K);break;case"focusin":W("focusout",K);break}}))}function Z(){f.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),f=[]}function Y(e){var t,n=!1;if(w.state.isEnabled&&!Q(e)&&!h){var r="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,D(),!w.state.isVisible&&Dnt(e)&&frt.forEach((function(t){return t(e)})),"click"===e.type&&(w.props.trigger.indexOf("mouseenter")<0||u)&&!1!==w.props.hideOnClick&&w.state.isVisible?n=!0:ie(e),"click"===e.type&&(u=!n),n&&!r&&oe(e)}}function X(e){var t=e.target,n=C().contains(t)||x.contains(t);if("mousemove"!==e.type||!n){var r=re().concat(x).map((function(e){var t,n=e._tippy,r=null==(t=n.popperInstance)?void 0:t.state;return r?{popperRect:e.getBoundingClientRect(),popperState:r,props:c}:null})).filter(Boolean);Vnt(r,e)&&(F(),oe(e))}}function J(e){var t=Q(e)||w.props.trigger.indexOf("click")>=0&&u;if(!t){if(w.props.interactive)return void w.hideWithInteractivity(e);oe(e)}}function K(e){w.props.trigger.indexOf("focusin")<0&&e.target!==C()||w.props.interactive&&e.relatedTarget&&x.contains(e.relatedTarget)||oe(e)}function Q(e){return!!Hnt.isTouch&&A()!==e.type.indexOf("touch")>=0}function ee(){te();var t=w.props,n=t.popperOptions,r=t.placement,i=t.offset,o=t.getReferenceClientRect,s=t.moveTransition,l=I()?hrt(x).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||C()}:e,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(I()){var n=k(),r=n.box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?r.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?r.setAttribute("data-"+e,""):r.removeAttribute("data-"+e)})),t.attributes.popper={}}}},h=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},u];I()&&l&&h.push({name:"arrow",options:{element:l,padding:3}}),h.push.apply(h,n?.modifiers||[]),w.popperInstance=dnt(c,x,Object.assign({},n,{placement:r,onFirstUpdate:a,modifiers:h}))}function te(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function ne(){var e,t=w.props.appendTo,n=C();e=w.props.interactive&&t===wnt||"parent"===t?n.parentNode:Snt(t,[n]),e.contains(x)||e.appendChild(x),w.state.isMounted=!0,ee()}function re(){return knt(x.querySelectorAll("[data-tippy-root]"))}function ie(e){w.clearDelayTimeouts(),e&&N("onTrigger",[w,e]),G();var t=R(!0),r=M(),i=r[0],o=r[1];Hnt.isTouch&&"hold"===i&&o&&(t=o),t?n=setTimeout((function(){w.show()}),t):w.show()}function oe(e){if(w.clearDelayTimeouts(),N("onUntrigger",[w,e]),w.state.isVisible){if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=R(!1);t?r=setTimeout((function(){w.state.isVisible&&w.hide()}),t):i=requestAnimationFrame((function(){w.hide()}))}}else V()}function se(){w.state.isEnabled=!0}function ae(){w.hide(),w.state.isEnabled=!1}function le(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)}function ce(t){if(!w.state.isDestroyed){N("onBeforeUpdate",[w,t]),Z();var n=w.props,r=srt(e,Object.assign({},n,Rnt(t),{ignoreAttributes:!0}));w.props=r,q(),n.interactiveDebounce!==r.interactiveDebounce&&(F(),m=Tnt(X,r.interactiveDebounce)),n.triggerTarget&&!r.triggerTarget?Ant(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded"),D(),L(),S&&S(n,r),w.popperInstance&&(ee(),re().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),N("onAfterUpdate",[w,t])}}function ue(e){w.setProps({content:e})}function he(){var e=w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,r=Hnt.isTouch&&!w.props.touch,i=_nt(w.props.duration,0,trt.duration);if(!(e||t||n||r)&&!C().hasAttribute("disabled")&&(N("onShow",[w],!1),!1!==w.props.onShow(w))){if(w.state.isVisible=!0,I()&&(x.style.visibility="visible"),L(),G(),w.state.isMounted||(x.style.transition="none"),I()){var o=k(),s=o.box,l=o.content;Unt([s,l],0)}a=function(){var e;if(w.state.isVisible&&!d){if(d=!0,x.offsetHeight,x.style.transition=w.props.moveTransition,I()&&w.props.animation){var t=k(),n=t.box,r=t.content;Unt([n,r],i),znt([n,r],"visible")}P(),D(),Int(mrt,w),null==(e=w.popperInstance)||e.forceUpdate(),N("onMount",[w]),w.props.animation&&I()&&$(i,(function(){w.state.isShown=!0,N("onShown",[w])}))}},ne()}}function pe(){var e=!w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,r=_nt(w.props.duration,1,trt.duration);if(!(e||t||n)&&(N("onHide",[w],!1),!1!==w.props.onHide(w))){if(w.state.isVisible=!1,w.state.isShown=!1,d=!1,u=!1,I()&&(x.style.visibility="hidden"),F(),V(),L(!0),I()){var i=k(),o=i.box,s=i.content;w.props.animation&&(Unt([o,s],r),znt([o,s],"hidden"))}P(),D(),w.props.animation?I()&&B(r,w.unmount):w.unmount()}}function de(e){O().addEventListener("mousemove",m),Int(frt,m),m(e)}function fe(){w.state.isVisible&&w.hide(),w.state.isMounted&&(te(),re().forEach((function(e){e._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x),mrt=mrt.filter((function(e){return e!==w})),w.state.isMounted=!1,N("onHidden",[w]))}function me(){w.state.isDestroyed||(w.clearDelayTimeouts(),w.unmount(),Z(),delete e._tippy,w.state.isDestroyed=!0,N("onDestroy",[w]))}}function grt(e,t){void 0===t&&(t={});var n=trt.plugins.concat(t.plugins||[]);Xnt();var r=Object.assign({},t,{plugins:n}),i=jnt(e),o=i.reduce((function(e,t){var n=t&&yrt(t,r);return n&&e.push(n),e}),[]);return Nnt(e)?o[0]:o}grt.defaultProps=trt,grt.setDefaultProps=rrt,grt.currentInput=Hnt;var vrt=Object.assign({},Get,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),brt=function(e,t){var n;void 0===t&&(t={});var r,i=e,o=[],s=[],a=t.overrides,l=[],c=!1;function u(){s=i.map((function(e){return Ant(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function h(){o=i.map((function(e){return e.reference}))}function p(e){i.forEach((function(t){e?t.enable():t.disable()}))}function d(e){return i.map((function(t){var n=t.setProps;return t.setProps=function(i){n(i),t.reference===r&&e.setProps(i)},function(){t.setProps=n}}))}function f(e,t){var n=s.indexOf(t);if(t!==r){r=t;var l=(a||[]).concat("content").reduce((function(e,t){return e[t]=i[n].props[t],e}),{});e.setProps(Object.assign({},l,{getReferenceClientRect:"function"==typeof l.getReferenceClientRect?l.getReferenceClientRect:function(){var e;return null==(e=o[n])?void 0:e.getBoundingClientRect()}}))}}p(!1),h(),u();var m={fn:function(){return{onDestroy:function(){p(!0)},onHidden:function(){r=null},onClickOutside:function(e){e.props.showOnCreate&&!c&&(c=!0,r=null)},onShow:function(e){e.props.showOnCreate&&!c&&(c=!0,f(e,o[0]))},onTrigger:function(e,t){f(e,t.currentTarget)}}}},y=grt(Lnt(),Object.assign({},Ent(t,["overrides"]),{plugins:[m].concat(t.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[vrt])})})),g=y.show;y.show=function(e){if(g(),!r&&null==e)return f(y,o[0]);if(!r||null!=e){if("number"==typeof e)return o[e]&&f(y,o[e]);if(i.indexOf(e)>=0){var t=e.reference;return f(y,t)}if(o.indexOf(e)>=0)return f(y,e)}},y.showNext=function(){var e=o[0];if(!r)return y.show(0);var t=o.indexOf(r);y.show(o[t+1]||e)},y.showPrevious=function(){var e=o[o.length-1];if(!r)return y.show(e);var t=o.indexOf(r),n=o[t-1]||e;y.show(n)};var v=y.setProps;return y.setProps=function(e){a=e.overrides||a,v(e)},y.setInstances=function(e){p(!0),l.forEach((function(e){return e()})),i=e,p(!1),h(),u(),l=d(y),y.setProps({triggerTarget:s})},l=d(y),y},wrt={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(null==(t=e.props.render)||!t.$$tippy)return{};var n=hrt(e.popper),r=n.box,i=n.content,o=e.props.animateFill?_rt():null;return{onCreate:function(){o&&(r.insertBefore(o,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var e=r.style.transitionDuration,t=Number(e.replace("ms",""));i.style.transitionDelay=Math.round(t/10)+"ms",o.style.transitionDuration=e,znt([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&znt([o],"hidden")}}}};function _rt(){var e=Lnt();return e.className=ynt,znt([e],"hidden"),e}var xrt={clientX:0,clientY:0},Srt=[];function Trt(e){var t=e.clientX,n=e.clientY;xrt={clientX:t,clientY:n}}function Ert(e){e.addEventListener("mousemove",Trt)}function Mrt(e){e.removeEventListener("mousemove",Trt)}var Art={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=Gnt(e.props.triggerTarget||t),r=!1,i=!1,o=!0,s=e.props;function a(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){n.addEventListener("mousemove",h)}function c(){n.removeEventListener("mousemove",h)}function u(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function h(n){var r=!n.target||t.contains(n.target),i=e.props.followCursor,o=n.clientX,s=n.clientY,a=t.getBoundingClientRect(),l=o-a.left,c=s-a.top;(r||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=o,r=s;"initial"===i&&(n=e.left+l,r=e.top+c);var a="horizontal"===i?e.top:r,u="vertical"===i?e.right:n,h="horizontal"===i?e.bottom:r,p="vertical"===i?e.left:n;return{width:u-p,height:h-a,top:a,right:u,bottom:h,left:p}}})}function p(){e.props.followCursor&&(Srt.push({instance:e,doc:n}),Ert(n))}function d(){Srt=Srt.filter((function(t){return t.instance!==e})),0===Srt.filter((function(e){return e.doc===n})).length&&Mrt(n)}return{onCreate:p,onDestroy:d,onBeforeUpdate:function(){s=e.props},onAfterUpdate:function(t,n){var o=n.followCursor;r||void 0!==o&&s.followCursor!==o&&(d(),o?(p(),e.state.isMounted&&!i&&!a()&&l()):(c(),u()))},onMount:function(){e.props.followCursor&&!i&&(o&&(h(xrt),o=!1),a()||l())},onTrigger:function(e,t){Dnt(t)&&(xrt={clientX:t.clientX,clientY:t.clientY}),i="focus"===t.type},onHidden:function(){e.props.followCursor&&(u(),c(),o=!0)}}}};function Irt(e,t){var n;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((null==(n=e.popperOptions)?void 0:n.modifiers)||[]).filter((function(e){var n=e.name;return n!==t.name})),[t])})}}var Crt={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t=e.reference;function n(){return!!e.props.inlinePositioning}var r,i=-1,o=!1,s=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(t){var i=t.state;n()&&(-1!==s.indexOf(i.placement)&&(s=[]),r!==i.placement&&-1===s.indexOf(i.placement)&&(s.push(i.placement),e.setProps({getReferenceClientRect:function(){return l(i.placement)}})),r=i.placement)}};function l(e){return Ort(Ont(e),t.getBoundingClientRect(),knt(t.getClientRects()),i)}function c(t){o=!0,e.setProps(t),o=!1}function u(){o||c(Irt(e.props,a))}return{onCreate:u,onAfterUpdate:u,onTrigger:function(t,n){if(Dnt(n)){var r=knt(e.reference.getClientRects()),o=r.find((function(e){return e.left-2<=n.clientX&&e.right+2>=n.clientX&&e.top-2<=n.clientY&&e.bottom+2>=n.clientY})),s=r.indexOf(o);i=s>-1?s:i}},onHidden:function(){i=-1}}}};function Ort(e,t,n,r){if(n.length<2||null===e)return t;if(2===n.length&&r>=0&&n[0].left>n[1].right)return n[r]||t;switch(e){case"top":case"bottom":var i=n[0],o=n[n.length-1],s="top"===e,a=i.top,l=o.bottom,c=s?i.left:o.left,u=s?i.right:o.right,h=u-c,p=l-a;return{top:a,bottom:l,left:c,right:u,width:h,height:p};case"left":case"right":var d=Math.min.apply(Math,n.map((function(e){return e.left}))),f=Math.max.apply(Math,n.map((function(e){return e.right}))),m=n.filter((function(t){return"left"===e?t.left===d:t.right===f})),y=m[0].top,g=m[m.length-1].bottom,v=d,b=f,w=b-v,_=g-y;return{top:y,bottom:g,left:v,right:b,width:w,height:_};default:return t}}var krt={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function r(){return e.popperInstance?e.popperInstance.state.elements.reference:t}function i(t){return!0===e.props.sticky||e.props.sticky===t}var o=null,s=null;function a(){var t=i("reference")?r().getBoundingClientRect():null,l=i("popper")?n.getBoundingClientRect():null;(t&&Rrt(o,t)||l&&Rrt(s,l))&&e.popperInstance&&e.popperInstance.update(),o=t,s=l,e.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){e.props.sticky&&a()}}}};function Rrt(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}function Lrt(e,t={},n={mount:!0,appName:"Tippy"}){n=Object.assign({mount:!0,appName:"Tippy"},n);const r=YXe(),i=yHe(),o=yHe({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),s=gHe();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=e=>{let t,i=mHe(e)?e.value:e;return AXe(i)?(s.value||(s.value=PQe({name:n.appName,setup:()=>()=>mHe(e)?e.value:e}),r&&Object.assign(s.value._context,r.appContext),s.value.mount(l())),t=()=>l()):"object"==typeof i?(s.value||(s.value=PQe({name:n.appName,setup:()=>()=>bJe(mHe(e)?e.value:e)}),r&&Object.assign(s.value._context,r.appContext),s.value.mount(l())),t=()=>l()):t=i,t},u=e=>{let t={};return t=mHe(e)?e.value||{}:(aHe(e),{...e}),t.content&&(t.content=c(t.content)),t.triggerTarget&&(t.triggerTarget=mHe(t.triggerTarget)?t.triggerTarget.value:t.triggerTarget),(!t.plugins||!Array.isArray(t.plugins))&&(t.plugins=[]),t.plugins=t.plugins.filter((e=>"vueTippyReactiveState"!==e.name)),t.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){o.value.isEnabled=!0},onMount(){o.value.isMounted=!0},onShow(){o.value.isMounted=!0,o.value.isVisible=!0},onShown(){o.value.isShown=!0},onHide(){o.value.isMounted=!1,o.value.isVisible=!1},onHidden(){o.value.isShown=!1},onUnmounted(){o.value.isMounted=!1},onDestroy(){o.value.isDestroyed=!0}})}),t},h=()=>{i.value&&i.value.setProps(u(t))},p=()=>{!i.value||!t.content||i.value.setContent(c(t.content))},d=e=>{var t;null===(t=i.value)||void 0===t||t.setContent(c(e))},f=e=>{var t;null===(t=i.value)||void 0===t||t.setProps(u(e))},m=()=>{var e;i.value&&(i.value.destroy(),i.value=void 0),a=null,null===(e=s.value)||void 0===e||e.unmount(),s.value=void 0},y=()=>{var e;null===(e=i.value)||void 0===e||e.show()},g=()=>{var e;null===(e=i.value)||void 0===e||e.hide()},v=()=>{var e;null===(e=i.value)||void 0===e||e.disable(),o.value.isEnabled=!1},b=()=>{var e;null===(e=i.value)||void 0===e||e.enable(),o.value.isEnabled=!0},w=()=>{var e;null===(e=i.value)||void 0===e||e.unmount()},_=()=>{if(!e)return;let n=mHe(e)?e.value:e;"function"==typeof n&&(n=n()),n&&(i.value=grt(n,u(t)),n.$tippy=x)},x={tippy:i,refresh:h,refreshContent:p,setContent:d,setProps:f,destroy:m,hide:g,show:y,disable:v,enable:b,unmount:w,mount:_,state:o};return n.mount&&(r?r.isMounted?_():Zqe(_):_()),r&&Kqe((()=>{m()})),mHe(t)||aHe(t)?jYe(t,h,{immediate:!1}):mHe(t.content)&&jYe(t.content,p,{immediate:!1}),x}function Nrt(e,t){const n=yHe();return Zqe((()=>{const r=(Array.isArray(e)?e.map((e=>e.value)):"function"==typeof e?e():e.value).map((e=>e instanceof Element?e._tippy:e)).filter(Boolean);n.value=brt(r,t?{allowHTML:!0,...t}:{allowHTML:!0})})),{singleton:n}}function Prt(e){return"function"==typeof e?e():_He(e)}function Drt(e){var t,n;const r=Prt(e);return null!==(n=null===(t=r)||void 0===t?void 0:t.$el)&&void 0!==n?n:r}grt.setDefaultProps({render:prt}),grt.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});const Frt=hqe({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>grt.defaultProps.appendTo},aria:{default:()=>grt.defaultProps.aria},delay:{default:()=>grt.defaultProps.delay},duration:{default:()=>grt.defaultProps.duration},getReferenceClientRect:{default:()=>grt.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>grt.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>grt.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>grt.defaultProps.interactive},interactiveBorder:{default:()=>grt.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>grt.defaultProps.interactiveDebounce},moveTransition:{default:()=>grt.defaultProps.moveTransition},offset:{default:()=>grt.defaultProps.offset},onAfterUpdate:{default:()=>grt.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>grt.defaultProps.onBeforeUpdate},onCreate:{default:()=>grt.defaultProps.onCreate},onDestroy:{default:()=>grt.defaultProps.onDestroy},onHidden:{default:()=>grt.defaultProps.onHidden},onHide:{default:()=>grt.defaultProps.onHide},onMount:{default:()=>grt.defaultProps.onMount},onShow:{default:()=>grt.defaultProps.onShow},onShown:{default:()=>grt.defaultProps.onShown},onTrigger:{default:()=>grt.defaultProps.onTrigger},onUntrigger:{default:()=>grt.defaultProps.onUntrigger},onClickOutside:{default:()=>grt.defaultProps.onClickOutside},placement:{default:()=>grt.defaultProps.placement},plugins:{default:()=>grt.defaultProps.plugins},popperOptions:{default:()=>grt.defaultProps.popperOptions},render:{default:()=>grt.defaultProps.render},showOnCreate:{type:Boolean,default:()=>grt.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>grt.defaultProps.touch},trigger:{default:()=>grt.defaultProps.trigger},triggerTarget:{default:()=>grt.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>grt.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>grt.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>grt.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>grt.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>grt.defaultProps.allowHTML},animation:{default:()=>grt.defaultProps.animation},arrow:{default:()=>grt.defaultProps.arrow},content:{default:()=>grt.defaultProps.content},inertia:{default:()=>grt.defaultProps.inertia},maxWidth:{default:()=>grt.defaultProps.maxWidth},role:{default:()=>grt.defaultProps.role},theme:{default:()=>grt.defaultProps.theme},zIndex:{default:()=>grt.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:n,expose:r}){const i=yHe(),o=yHe(),s=yHe(),a=yHe(!1),l=()=>{let t={...e};for(const e of["to","tag","contentTag","contentClass"])t.hasOwnProperty(e)&&delete t[e];return t};let c=()=>Drt(i);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:"parent"===e.to?c=()=>{let e=i.value;return e||(e=i.value=o.value.parentElement),e}:("string"==typeof e.to||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const u=Lrt(c,l());let h=t.content;!h&&"parent"===e.to&&(h=t.default),Zqe((()=>{a.value=!0,yWe((()=>{h&&u.setContent((()=>s.value))}))})),jYe(u.state,(()=>{n("state",_He(u.state))}),{immediate:!0,deep:!0}),jYe((()=>e),(()=>{u.setProps(l()),h&&u.setContent((()=>s.value))}),{deep:!0});let p=nHe({elem:i,contentElem:s,mounted:a,...u});return r(p),()=>{const n=(e.contentTag,e.contentTag),r=h?bJe(n,{ref:s,style:{display:a.value?"inherit":"none"},class:e.contentClass},h(p)):null;if("parent"===e.to){const e=[];if(!i.value){const t=bJe("span",{ref:o,"data-v-tippy":"",style:{display:"none"}});e.push(t)}return r&&e.push(r),e}const l=t.default?t.default(p):[];if(!e.tag){const e=bJe(l[0],{ref:i,"data-v-tippy":""});return r?[e,r]:e}const c=(e.tag,e.tag);return bJe(c,{ref:i,"data-v-tippy":""},r?[l,r]:l)}}}),jrt=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let Urt={};Object.keys(grt.defaultProps).forEach((e=>{jrt.includes(e)?Urt[e]={type:Boolean,default:function(){return grt.defaultProps[e]}}:Urt[e]={default:function(){return grt.defaultProps[e]}}}));const zrt=hqe({props:Urt,setup(e){const t=yHe([]),{singleton:n}=Nrt(t,e);return{instances:t,singleton:n}},mounted(){var e;const t=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(t).map((e=>e._tippy)).filter(Boolean),null===(e=this.singleton)||void 0===e||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return bJe((()=>e))}}),Grt={mounted(e,t,n){const r="string"==typeof t.value?{content:t.value}:t.value||{},i=Object.keys(t.modifiers||{}),o=i.find((e=>"arrow"!==e)),s=-1!==i.findIndex((e=>"arrow"===e));o&&(r.placement=r.placement||o),s&&(r.arrow=void 0===r.arrow||r.arrow),n.props&&n.props.onTippyShow&&(r.onShow=function(...e){var t;return null===(t=n.props)||void 0===t?void 0:t.onTippyShow(...e)}),n.props&&n.props.onTippyShown&&(r.onShown=function(...e){var t;return null===(t=n.props)||void 0===t?void 0:t.onTippyShown(...e)}),n.props&&n.props.onTippyHidden&&(r.onHidden=function(...e){var t;return null===(t=n.props)||void 0===t?void 0:t.onTippyHidden(...e)}),n.props&&n.props.onTippyHide&&(r.onHide=function(...e){var t;return null===(t=n.props)||void 0===t?void 0:t.onTippyHide(...e)}),n.props&&n.props.onTippyMount&&(r.onMount=function(...e){var t;return null===(t=n.props)||void 0===t?void 0:t.onTippyMount(...e)}),e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),Lrt(e,r)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const n="string"==typeof t.value?{content:t.value}:t.value||{};e.getAttribute("title")&&!n.content&&(n.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!n.content&&(n.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(n||{}):e._tippy&&e._tippy.setProps(n||{})}},Vrt={install(e,t={}){grt.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",Grt),e.component(t.component||"tippy",Frt),e.component(t.componentSingleton||"tippy-singleton",zrt)}},Brt=grt.setDefaultProps;Brt({ignoreAttributes:!0,plugins:[krt,Crt,Art,wrt]});const $rt=hqe({name:"App",components:{Shell:aet},setup(){const e=YXe();Zqe((()=>{(new D6e).observe(e?.proxy?.$refs["app-size"]),Brt({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})}))}}),Hrt=["lang"],Wrt={class:"h-full",ref:"app-size"};function qrt(e,t,n,r,i,o){const s=oZe("shell");return wXe(),EXe("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[RXe("div",Wrt,[LXe(s)],512)],8,Hrt)}const Zrt=G6e($rt,[["render",qrt]]),Yrt="focus-list",Xrt="focus-item",Jrt="focus-icon",Krt="focus-container",Qrt=`[${Yrt}],[${Krt}]`,eit="truncate-text",tit="show-truncate",nit="focused",rit=`button,input,select,a,textarea,[contenteditable],[${Yrt}],[${Jrt}],[tabIndex]`,iit={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(Yrt,!0),new sit(e,t.value)},updated(e){oit(e)}};function oit(e){e.querySelectorAll(rit).forEach((t=>{if(t.closest(Qrt)===e||t.closest(Qrt)===t&&t.parentElement.closest(Qrt)===e){if(!t.closest(`[${Yrt}],.${nit}`).classList.contains(nit))return void t.setAttribute("tabindex","-1");t.setAttribute("tabindex","0")}}))}class sit{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(e,t){this.element=e,this.highlightedItem=this.element,this.isHorizontal="horizontal"===t,this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const n=this;e.addEventListener("keydown",(function(e){n.onKeydown(e)})),e.addEventListener("focus",(function(){n.onFocus()})),e.addEventListener("blur",(function(){n.onBlur()})),e.addEventListener("mousedown",(function(){n.onMousedown()})),e.addEventListener("touchstart",(function(){n.onTouchstart()})),document.addEventListener("click",(function(t){e.contains(t.target)?n.onClick(t):n.defocusItem(n.highlightedItem)}))}setTabIndex(e,t=this.element){t.querySelectorAll(rit).forEach((t=>{(-1===e||t.closest(Qrt)===this.element||t.closest(Qrt)===t&&t.parentElement.closest(Qrt)===this.element||t.closest(`[${Yrt}],.${nit}`).classList.contains(nit))&&t.setAttribute("tabindex",e.toString())}))}defocusItem(e){e.classList.remove(nit),this.setTabIndex(-1,e),e._tippy&&e._tippy.hide(),e.getAttribute(Xrt)===tit&&e.querySelector(`[${eit}]`)?._tippy?.hide()}focusItem(e){e.classList.add(nit),this.setAriaActiveDescendant(e),this.setTabIndex(0,e),e.scrollIntoView({block:"nearest"}),e._tippy&&!this.isTapped&&e._tippy.show(),e.getAttribute(Xrt)===tit&&e.querySelector(`[${eit}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e.getAttribute("id"))}shiftHighlight(e,t=!1){if(this.defocusItem(this.highlightedItem),t)if(this.highlightedItem===this.element)this.highlightedItem=e[e.length-1];else{const t=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[t-1]||e[e.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=e[0];else{const t=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[t+1]||e[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(e){const t=this,n=Array.prototype.filter.call(this.element.querySelectorAll(`[${Xrt}]`),(e=>e.closest(`[${Yrt}]`)===t.element&&!!e.offsetParent));if(0!==n.length)switch(e.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(n,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(n);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(n,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(n);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":e.target===this.element&&this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.highlightedItem.click());break;case"Tab":this.highlightedItem!==this.element&&(0===this.highlightedItem.querySelectorAll(rit).length&&this.defocusItem(this.highlightedItem),e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(e){this.defocusItem(this.highlightedItem);let t=e.target;if(!t.hasAttribute(Yrt))for(;t.parentElement.closest(`[${Yrt}]`)!==this.element;)t=t.parentElement.closest(`[${Yrt}]`);this.highlightedItem=t.closest(`[${Xrt}]`)||t.closest(`[${Yrt}]`)||this.highlightedItem,t.hasAttribute(`${Xrt}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(Xrt)===tit&&this.highlightedItem.querySelector(`[${eit}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),oit(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(Xrt)===tit&&this.highlightedItem.querySelector(`[${eit}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const ait="focus-item",lit={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",cit()),t.value?e.setAttribute(ait,t.value):e.toggleAttribute(ait,!0)}};function cit(){let e;do{e="focus-item-"+Math.random().toString(36).substring(2,9)}while(null!==document.getElementById(e));return e}const uit="focus-container",hit="focus-list",pit="focus-icon",dit=`[${hit}],[${uit}]`,fit=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${hit}],[${uit}],[${pit}],[tabIndex]`;let mit=[];const yit={mounted(e){[...document.querySelectorAll(".inner-shell")].some((t=>t.contains(e)))&&mit.push(new git(e))},beforeUnmount(e){mit=mit.filter((t=>t.element!==e||(t.removeEventListeners(),!1)))}};class git{element;constructor(e){this.element=e,this.element.toggleAttribute(uit,!0),this.element.tabIndex=0,setTimeout((()=>this.disableTabbing()),600);const t=this;this.element.addEventListener("keypress",(function(e){t.onKeypress(e)})),this.element.addEventListener("click",(function(){t.onClick()})),this.element.addEventListener("focusout",(function(e){t.onFocusOut(e)})),this.element.addEventListener("focus",(function(){t.onFocus()}))}removeEventListeners(){const e=this;this.element.removeEventListener("keypress",(function(t){e.onKeypress(t)})),this.element.removeEventListener("click",(function(){e.onClick()})),this.element.removeEventListener("focusout",(function(t){e.onFocusOut(t)})),this.element.removeEventListener("focus",(function(){e.onFocus()}))}onKeypress(e){e.target===this.element&&("Enter"===e.key||" "===e.key)&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(e){this.element.contains(e.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(fit),(()=>!0)).forEach((e=>{e.tabIndex=-1}))}enableTabbing(){let e;return Array.prototype.map.call(this.element.querySelectorAll(fit),(t=>{(t.closest(dit)===this.element||t.closest(dit)===t&&t.parentElement.closest(dit)===this.element)&&t.offsetParent&&(t.tabIndex=0,void 0===e&&(e=t))})),e}}const vit="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mögensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",bit="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत_म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里_大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",wit=(e,t)=>{for(const n in t)e[n]=t[n];return e},_it="numeric",xit="ascii",Sit="alpha",Tit="asciinumeric",Eit="alphanumeric",Mit="domain",Ait="emoji",Iit="scheme",Cit="slashscheme",Oit="whitespace";function kit(e,t){return e in t||(t[e]=[]),t[e]}function Rit(e,t,n){t[_it]&&(t[Tit]=!0,t[Eit]=!0),t[xit]&&(t[Tit]=!0,t[Sit]=!0),t[Tit]&&(t[Eit]=!0),t[Sit]&&(t[Eit]=!0),t[Eit]&&(t[Mit]=!0),t[Ait]&&(t[Mit]=!0);for(const r in t){const t=kit(r,n);t.indexOf(e)<0&&t.push(e)}}function Lit(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Nit(e){void 0===e&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}Nit.groups={},Nit.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const n=t.jr[r][0],i=t.jr[r][1];if(i&&n.test(e))return i}return t.jd},has(e,t){return void 0===t&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){let i;return r=r||Nit.groups,t&&t.j?i=t:(i=new Nit(t),n&&r&&Rit(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(e[s]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||Nit.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let s,a=i.go(e);if(a?(s=new Nit,wit(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Nit,o){if(r)if(s.t&&"string"==typeof s.t){const e=wit(Lit(s.t,r),n);Rit(o,e,r)}else n&&Rit(o,n,r);s.t=o}return i.j[e]=s,s}};const Pit=(e,t,n,r,i)=>e.ta(t,n,r,i),Dit=(e,t,n,r,i)=>e.tr(t,n,r,i),Fit=(e,t,n,r,i)=>e.ts(t,n,r,i),jit=(e,t,n,r,i)=>e.tt(t,n,r,i),Uit="WORD",zit="UWORD",Git="LOCALHOST",Vit="TLD",Bit="UTLD",$it="SCHEME",Hit="SLASH_SCHEME",Wit="NUM",qit="WS",Zit="NL",Yit="OPENBRACE",Xit="OPENBRACKET",Jit="OPENANGLEBRACKET",Kit="OPENPAREN",Qit="CLOSEBRACE",eot="CLOSEBRACKET",tot="CLOSEANGLEBRACKET",not="CLOSEPAREN",rot="AMPERSAND",iot="APOSTROPHE",oot="ASTERISK",sot="AT",aot="BACKSLASH",lot="BACKTICK",cot="CARET",uot="COLON",hot="COMMA",pot="DOLLAR",dot="DOT",fot="EQUALS",mot="EXCLAMATION",yot="HYPHEN",got="PERCENT",vot="PIPE",bot="PLUS",wot="POUND",_ot="QUERY",xot="QUOTE",Sot="SEMI",Tot="SLASH",Eot="TILDE",Mot="UNDERSCORE",Aot="EMOJI",Iot="SYM";var Cot=Object.freeze({__proto__:null,WORD:Uit,UWORD:zit,LOCALHOST:Git,TLD:Vit,UTLD:Bit,SCHEME:$it,SLASH_SCHEME:Hit,NUM:Wit,WS:qit,NL:Zit,OPENBRACE:Yit,OPENBRACKET:Xit,OPENANGLEBRACKET:Jit,OPENPAREN:Kit,CLOSEBRACE:Qit,CLOSEBRACKET:eot,CLOSEANGLEBRACKET:tot,CLOSEPAREN:not,AMPERSAND:rot,APOSTROPHE:iot,ASTERISK:oot,AT:sot,BACKSLASH:aot,BACKTICK:lot,CARET:cot,COLON:uot,COMMA:hot,DOLLAR:pot,DOT:dot,EQUALS:fot,EXCLAMATION:mot,HYPHEN:yot,PERCENT:got,PIPE:vot,PLUS:bot,POUND:wot,QUERY:_ot,QUOTE:xot,SEMI:Sot,SLASH:Tot,TILDE:Eot,UNDERSCORE:Mot,EMOJI:Aot,SYM:Iot});const Oot=/[a-z]/,kot=/\p{L}/u,Rot=/\p{Emoji}/u,Lot=/\d/,Not=/\s/,Pot="\n",Dot="️",Fot="‍";let jot=null,Uot=null;function zot(e){void 0===e&&(e=[]);const t={};Nit.groups=t;const n=new Nit;null==jot&&(jot=$ot(vit)),null==Uot&&(Uot=$ot(bit)),jit(n,"'",iot),jit(n,"{",Yit),jit(n,"[",Xit),jit(n,"<",Jit),jit(n,"(",Kit),jit(n,"}",Qit),jit(n,"]",eot),jit(n,">",tot),jit(n,")",not),jit(n,"&",rot),jit(n,"*",oot),jit(n,"@",sot),jit(n,"`",lot),jit(n,"^",cot),jit(n,":",uot),jit(n,",",hot),jit(n,"$",pot),jit(n,".",dot),jit(n,"=",fot),jit(n,"!",mot),jit(n,"-",yot),jit(n,"%",got),jit(n,"|",vot),jit(n,"+",bot),jit(n,"#",wot),jit(n,"?",_ot),jit(n,'"',xot),jit(n,"/",Tot),jit(n,";",Sot),jit(n,"~",Eot),jit(n,"_",Mot),jit(n,"\\",aot);const r=Dit(n,Lot,Wit,{[_it]:!0});Dit(r,Lot,r);const i=Dit(n,Oot,Uit,{[xit]:!0});Dit(i,Oot,i);const o=Dit(n,kot,zit,{[Sit]:!0});Dit(o,Oot),Dit(o,kot,o);const s=Dit(n,Not,qit,{[Oit]:!0});jit(n,Pot,Zit,{[Oit]:!0}),jit(s,Pot),Dit(s,Not,s);const a=Dit(n,Rot,Aot,{[Ait]:!0});Dit(a,Rot,a),jit(a,Dot,a);const l=jit(a,Fot);Dit(l,Rot,a);const c=[[Oot,i]],u=[[Oot,null],[kot,o]];for(let h=0;h<jot.length;h++)Bot(n,jot[h],Vit,Uit,c);for(let h=0;h<Uot.length;h++)Bot(n,Uot[h],Bit,zit,u);Rit(Vit,{tld:!0,ascii:!0},t),Rit(Bit,{utld:!0,alpha:!0},t),Bot(n,"file",$it,Uit,c),Bot(n,"mailto",$it,Uit,c),Bot(n,"http",Hit,Uit,c),Bot(n,"https",Hit,Uit,c),Bot(n,"ftp",Hit,Uit,c),Bot(n,"ftps",Hit,Uit,c),Rit($it,{scheme:!0,ascii:!0},t),Rit(Hit,{slashscheme:!0,ascii:!0},t),e=e.sort(((e,t)=>e[0]>t[0]?1:-1));for(let h=0;h<e.length;h++){const t=e[h][0],r=e[h][1]?{[Iit]:!0}:{[Cit]:!0};t.indexOf("-")>=0?r[Mit]=!0:Oot.test(t)?Lot.test(t)?r[Tit]=!0:r[xit]=!0:r[_it]=!0,Fit(n,t,t,r)}return Fit(n,"localhost",Git,{ascii:!0}),n.jd=new Nit(Iot),{start:n,tokens:wit({groups:t},Cot)}}function Got(e,t){const n=Vot(t.replace(/[A-Z]/g,(e=>e.toLowerCase()))),r=n.length,i=[];let o=0,s=0;for(;s<r;){let a=e,l=null,c=0,u=null,h=-1,p=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(h=0,p=0,u=a):h>=0&&(h+=n[s].length,p++),c+=n[s].length,o+=n[s].length,s++;o-=h,s-=p,c-=h,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function Vot(e){const t=[],n=e.length;let r=0;for(;r<n;){let i,o=e.charCodeAt(r),s=o<55296||o>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function Bot(e,t,n,r,i){let o;const s=t.length;for(let a=0;a<s-1;a++){const n=t[a];e.j[n]?o=e.j[n]:(o=new Nit(r),o.jr=i.slice(),e.j[n]=o),e=o}return o=new Nit(n),o.jr=i.slice(),e.j[t[s-1]]=o,o}function $ot(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let o=0;for(;i.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));let i=parseInt(e.substring(r,r+o),10);for(;i>0;i--)n.pop();r+=o}else"_"===e[r]?(t.push(n.join("")),r++):(n.push(e[r]),r++)}return t}const Hot={defaultProtocol:"http",events:null,format:qot,formatHref:qot,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Wot(e,t){void 0===t&&(t=null);let n=wit({},Hot);e&&(n=wit(n,e instanceof Wot?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}function qot(e){return e}function Zot(e,t){this.t="token",this.v=e,this.tk=t}function Yot(e,t){class n extends Zot{constructor(t,n){super(t,n),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}Wot.prototype={o:Hot,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let i=this.o[e];return i&&("object"==typeof i?(i=n.t in i?i[n.t]:Hot[e],"function"==typeof i&&r&&(i=i(t,n))):"function"==typeof i&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},Zot.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return void 0===e&&(e=Hot.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toFormattedHref(e),r=e.get("tagName",n,t),i=this.toFormattedString(e),o={},s=e.get("className",n,t),a=e.get("target",n,t),l=e.get("rel",n,t),c=e.getObj("attributes",n,t),u=e.getObj("events",n,t);return o.href=n,s&&(o.class=s),a&&(o.target=a),l&&(o.rel=l),c&&wit(o,c),{tagName:r,attributes:o,content:i,eventListeners:u}}};const Xot=Yot("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Jot=Yot("text"),Kot=Yot("nl"),Qot=Yot("url",{isLink:!0,toHref(e){return void 0===e&&(e=Hot.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Git&&e[1].t===uot}}),est=e=>new Nit(e);function tst(e){let{groups:t}=e;const n=t.domain.concat([rot,oot,sot,aot,lot,cot,pot,fot,yot,Wit,got,vot,bot,wot,Tot,Iot,Eot,Mot]),r=[iot,tot,Qit,eot,not,uot,hot,dot,mot,Jit,Yit,Xit,Kit,_ot,xot,Sot],i=[rot,iot,oot,aot,lot,cot,Qit,pot,fot,yot,Wit,Yit,got,vot,bot,wot,_ot,Tot,Iot,Eot,Mot],o=est(),s=jit(o,Eot);Pit(s,i,s),Pit(s,t.domain,s);const a=est(),l=est(),c=est();Pit(o,t.domain,a),Pit(o,t.scheme,l),Pit(o,t.slashscheme,c),Pit(a,i,s),Pit(a,t.domain,a);const u=jit(a,sot);jit(s,sot,u),jit(l,sot,u),jit(c,sot,u);const h=jit(s,dot);Pit(h,i,s),Pit(h,t.domain,s);const p=est();Pit(u,t.domain,p),Pit(p,t.domain,p);const d=jit(p,dot);Pit(d,t.domain,p);const f=est(Xot);Pit(d,t.tld,f),Pit(d,t.utld,f),jit(u,Git,f);const m=jit(p,yot);Pit(m,t.domain,p),Pit(f,t.domain,p),jit(f,dot,d),jit(f,yot,m);const y=jit(f,uot);Pit(y,t.numeric,Xot);const g=jit(a,yot),v=jit(a,dot);Pit(g,t.domain,a),Pit(v,i,s),Pit(v,t.domain,a);const b=est(Qot);Pit(v,t.tld,b),Pit(v,t.utld,b),Pit(b,t.domain,a),Pit(b,i,s),jit(b,dot,v),jit(b,yot,g),jit(b,sot,u);const w=jit(b,uot),_=est(Qot);Pit(w,t.numeric,_);const x=est(Qot),S=est();Pit(x,n,x),Pit(x,r,S),Pit(S,n,x),Pit(S,r,S),jit(b,Tot,x),jit(_,Tot,x);const T=jit(l,uot),E=jit(c,uot),M=jit(E,Tot);jit(M,Tot,T),Pit(l,t.domain,a),jit(l,dot,v),jit(l,yot,g),Pit(c,t.domain,a),jit(c,dot,v),jit(c,yot,g),Pit(T,t.domain,x),jit(T,Tot,x);const A=jit(x,Yit),I=jit(x,Xit),C=jit(x,Jit),O=jit(x,Kit);jit(S,Yit,A),jit(S,Xit,I),jit(S,Jit,C),jit(S,Kit,O),jit(A,Qit,x),jit(I,eot,x),jit(C,tot,x),jit(O,not,x),jit(A,Qit,x);const k=est(Qot),R=est(Qot),L=est(Qot),N=est(Qot);Pit(A,n,k),Pit(I,n,R),Pit(C,n,L),Pit(O,n,N);const P=est(),D=est(),F=est(),j=est();return Pit(A,r),Pit(I,r),Pit(C,r),Pit(O,r),Pit(k,n,k),Pit(R,n,R),Pit(L,n,L),Pit(N,n,N),Pit(k,r,k),Pit(R,r,R),Pit(L,r,L),Pit(N,r,N),Pit(P,n,P),Pit(D,n,R),Pit(F,n,L),Pit(j,n,N),Pit(P,r,P),Pit(D,r,D),Pit(F,r,F),Pit(j,r,j),jit(R,eot,x),jit(L,tot,x),jit(N,not,x),jit(k,Qit,x),jit(D,eot,x),jit(F,tot,x),jit(j,not,x),jit(P,not,x),jit(o,Git,b),jit(o,Zit,Kot),{start:o,tokens:Cot}}function nst(e,t,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let a=e,l=null,c=null,u=0,h=null,p=-1;for(;i<r&&!(l=a.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(p=0,h=a):p>=0&&p++,i++,u++;if(p<0)i-=u,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(rst(Jot,t,s)),s=[]),i-=p,u-=p;const e=h.t,r=n.slice(i-u,i);o.push(rst(e,t,r))}}return s.length>0&&o.push(rst(Jot,t,s)),o}function rst(e,t,n){const r=n[0].s,i=n[n.length-1].e,o=t.slice(r,i);return new e(o,n)}const ist={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ost(){ist.scanner=zot(ist.customSchemes);for(let e=0;e<ist.tokenQueue.length;e++)ist.tokenQueue[e][1]({scanner:ist.scanner});ist.parser=tst(ist.scanner.tokens);for(let e=0;e<ist.pluginQueue.length;e++)ist.pluginQueue[e][1]({scanner:ist.scanner,parser:ist.parser});ist.initialized=!0}function sst(e){return ist.initialized||ost(),nst(ist.parser.start,e,Got(ist.scanner.start,e))}var ast={amp:"&",gt:">",lt:"<",nbsp:" ",quot:'"'},lst=/^#[xX]([A-Fa-f0-9]+)$/,cst=/^#([0-9]+)$/,ust=/^([A-Za-z0-9]+)$/,hst=function(){function e(e){this.named=e}return e.prototype.parse=function(e){if(e){var t=e.match(lst);if(t)return String.fromCharCode(parseInt(t[1],16));if(t=e.match(cst),t)return String.fromCharCode(parseInt(t[1],10));if(t=e.match(ust),t)return this.named[t[1]]||"&"+t[1]+";"}},e}(),pst=/[\t\n\f ]/,dst=/[A-Za-z]/,fst=/\r\n?/g;function mst(e){return pst.test(e)}function yst(e){return dst.test(e)}function gst(e){return e.replace(fst,"\n")}var vst=function(){function e(e,t,n){void 0===n&&(n="precompile"),this.delegate=e,this.entityParser=t,this.mode=n,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var e=this.peek();if("<"!==e||this.isIgnoredEndTag()){if("precompile"===this.mode&&"\n"===e){var t=this.tagNameBuffer.toLowerCase();("pre"===t||"textarea"===t)&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}else this.transitionTo("tagOpen"),this.markTagStart(),this.consume()},data:function(){var e=this.peek(),t=this.tagNameBuffer;"<"!==e||this.isIgnoredEndTag()?"&"===e&&"script"!==t&&"style"!==t?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e)):(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume())},tagOpen:function(){var e=this.consume();"!"===e?this.transitionTo("markupDeclarationOpen"):"/"===e?this.transitionTo("endTagOpen"):("@"===e||":"===e||yst(e))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(e))},markupDeclarationOpen:function(){var e=this.consume();if("-"===e&&"-"===this.peek())this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var t=e.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();"DOCTYPE"===t&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var e=this.consume();mst(e)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var e=this.consume();mst(e)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase()))},doctypeName:function(){var e=this.consume();mst(e)?this.transitionTo("afterDoctypeName"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase())},afterDoctypeName:function(){var e=this.consume();if(!mst(e))if(">"===e)this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var t=e.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),n="PUBLIC"===t.toUpperCase(),r="SYSTEM"===t.toUpperCase();(n||r)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),n?this.transitionTo("afterDoctypePublicKeyword"):r&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var e=this.peek();mst(e)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):'"'===e?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):"'"===e?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):">"===e&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},doctypePublicIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},afterDoctypePublicIdentifier:function(){var e=this.consume();mst(e)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var e=this.consume();mst(e)||(">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},doctypeSystemIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},afterDoctypeSystemIdentifier:function(){var e=this.consume();mst(e)||">"===e&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var e=this.consume();"-"===e?this.transitionTo("commentStartDash"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(e),this.transitionTo("comment"))},commentStartDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var e=this.consume();"-"===e?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+e),this.transitionTo("comment"))},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+e),this.transitionTo("comment"))},tagName:function(){var e=this.consume();mst(e)?this.transitionTo("beforeAttributeName"):"/"===e?this.transitionTo("selfClosingStartTag"):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(e)},endTagName:function(){var e=this.consume();mst(e)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):"/"===e?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();mst(e)?this.consume():"/"===e?(this.transitionTo("selfClosingStartTag"),this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):"="===e?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var e=this.peek();mst(e)?(this.transitionTo("afterAttributeName"),this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.transitionTo("beforeAttributeValue"),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):'"'===e||"'"===e||"<"===e?(this.delegate.reportSyntaxError(e+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(e)):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();mst(e)?this.consume():"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.consume(),this.transitionTo("beforeAttributeValue")):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();mst(e)?this.consume():'"'===e?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();mst(e)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();mst(e)?(this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.consume(),this.transitionTo("selfClosingStartTag")):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var e=this.peek();">"===e?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var e=this.consume();("@"===e||":"===e||yst(e))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(e))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(e){this.state=e},e.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},e.prototype.tokenizePart=function(e){for(this.input+=gst(e);this.index<this.input.length;){var t=this.states[this.state];if(void 0===t)throw new Error("unhandled state "+this.state);t.call(this)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){"data"===this.state&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},e.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(-1!==e){var t=this.input.slice(this.index,e),n=this.entityParser.parse(t);if(n){for(var r=t.length;r;)this.consume(),r--;return this.consume(),n}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},e.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return"title"===e&&"</title>"!==this.input.substring(this.index,this.index+8)||"style"===e&&"</style>"!==this.input.substring(this.index,this.index+8)||"script"===e&&"<\/script>"!==this.input.substring(this.index,this.index+9)},e}(),bst=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new vst(this,e,t.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},e.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var e=this.token;if(null===e)throw new Error("token was unexpectedly null");if(0===arguments.length)return e;for(var t=0;t<arguments.length;t++)if(e.type===arguments[t])return e;throw new Error("token type was unexpectedly "+e.type)},e.prototype.push=function(e){this.token=e,this.tokens.push(e)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},e.prototype.appendToDoctypePublicIdentifier=function(e){var t=this.current("Doctype");void 0===t.publicIdentifier?t.publicIdentifier=e:t.publicIdentifier+=e},e.prototype.appendToDoctypeSystemIdentifier=function(e){var t=this.current("Doctype");void 0===t.systemIdentifier?t.systemIdentifier=e:t.systemIdentifier+=e},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(e){this.current("Chars").chars+=e},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},e.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},e.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},e}();function wst(e,t){var n=new bst(new hst(ast),t);return n.tokenize(e)}const _st="LinkifyResult",xst="StartTag",Sst="EndTag",Tst="Chars",Est="Comment",Mst="Doctype";function Ast(e,t){void 0===t&&(t={});const n=wst(e),r=[],i=[],o=new Wot(t,Ost);for(let s=0;s<n.length;s++){const e=n[s];if(e.type===xst){r.push(e);const t=e.tagName.toUpperCase();if(!("A"===t||o.ignoreTags.indexOf(t)>=0))continue;let i=r.length;Cst(t,n,++s,r),s+=r.length-i-1}else if(e.type!==Tst)r.push(e);else{const t=Ist(e.chars,o);r.push.apply(r,t)}}for(let s=0;s<r.length;s++){const e=r[s];switch(e.type){case _st:i.push(e.rendered);break;case xst:{let t="<"+e.tagName;e.attributes.length>0&&(t+=" "+Nst(e.attributes).join(" ")),e.selfClosing&&(t+=" /"),t+=">",i.push(t);break}case Sst:i.push(`</${e.tagName}>`);break;case Tst:i.push(kst(e.chars));break;case Est:i.push(`\x3c!--${kst(e.chars)}--\x3e`);break;case Mst:{let t=`<!DOCTYPE ${e.name}`;e.publicIdentifier&&(t+=` PUBLIC "${e.publicIdentifier}"`),e.systemIdentifier&&(t+=` "${e.systemIdentifier}"`),t+=">",i.push(t);break}}}return i.join("")}function Ist(e,t){const n=sst(e),r=[];for(let i=0;i<n.length;i++){const e=n[i];"nl"===e.t&&t.get("nl2br")?r.push({type:xst,tagName:"br",attributes:[],selfClosing:!0}):e.isLink&&t.check(e)?r.push({type:_st,rendered:t.render(e)}):r.push({type:Tst,chars:e.toString()})}return r}function Cst(e,t,n,r){let i=1;for(;n<t.length&&i>0;){let o=t[n];o.type===xst&&o.tagName.toUpperCase()===e?i++:o.type===Sst&&o.tagName.toUpperCase()===e&&i--,r.push(o),n++}return r}function Ost(e){let{tagName:t,attributes:n,content:r}=e;return`<${t} ${Lst(n)}>${kst(r)}</${t}>`}function kst(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Rst(e){return e.replace(/"/g,"&quot;")}function Lst(e){const t=[];for(const n in e){const r=e[n]+"";t.push(`${n}="${Rst(r)}"`)}return t.join(" ")}function Nst(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n][0],i=e[n][1]+"";t.push(`${r}="${Rst(i)}"`)}return t}const Pst="truncate-text",Dst="truncate-trigger",Fst={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute(Pst,!0)},mounted(e,t){let n;t.value&&t.value.externalTrigger&&(n=e.closest(`[${Dst}]`)),Lrt(e,{content:Ust(e.textContent),onShow:jst,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:n,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(Ust(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function jst(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}function Ust(e){if(null===e)return"";let t=Ast(e,{target:"_blank",validate:{url:e=>/^https?:\/\//.test(e)}});return t=`<div style='word-break: break-word;'>${t}</div>`,t}const zst=["content"],Gst={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},Vst={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},Bst={key:1},$st={key:0,class:"flex"},Hst=["innerHTML"],Wst={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},qst=hqe({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:n}=V4e(),r=U6e(),i=l0e(),o=nYe("iApi"),s=fqe("el"),a=fqe("contentEl"),l=yHe();t({el:s});const c=e,u=vJe((()=>o?.fixture.get("appbar")?i.temporary:[])),h=vJe((()=>r.mobileView)),p=vJe((()=>r.reorderable)),d=e=>e.scrollHeight>e.clientHeight,f=()=>!h.value&&!c.panel.teleport,m=e=>{c.panel.move(e),"left"===e&&yWe((()=>{(s.value?.querySelector(".move-left")).focus()}))},y=vJe((()=>c.screenId?c.panel.screens[c.screenId][o?.$i18n.locale.value??"en"]:null));return Zqe((()=>{s.value?.addEventListener("blur",(()=>{s.value._tippy.hide()})),s.value?.addEventListener("keyup",(e=>{"Tab"===e.key&&s.value?.matches(":focus")&&s.value._tippy.show()})),l.value=new ResizeObserver((()=>{d(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")})),l.value.observe(a.value)})),Jqe((()=>{s.value?.removeEventListener("blur",(()=>{s.value._tippy.hide()})),s.value?.removeEventListener("keyup",(e=>{"Tab"===e.key&&s.value?.matches(":focus")&&s.value._tippy.show()})),l.value.disconnect()})),(t,r)=>{const i=oZe("back"),o=oZe("panel-options-menu"),l=oZe("left"),c=oZe("right"),h=oZe("pin"),d=oZe("expand"),g=oZe("minimize"),v=oZe("close"),b=lZe("truncate"),w=lZe("focus-item"),_=lZe("tippy");return PWe((wXe(),EXe("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${_He(n)(e.panel.alertName)+". "+_He(n)("panels.access")}</div>`,ref_key:"el",ref:s},[e.header?(wXe(),EXe("header",Gst,[LXe(i,{class:BVe(e.panel.teleport?"display-none":"block sm:display-none"),onClick:r[0]||(r[0]=t=>e.panel.close())},null,8,["class"]),PWe((wXe(),EXe("h2",Vst,[t.$slots.header?dZe(t.$slots,"header",{key:0}):(wXe(),EXe("div",Bst,_Be(_He(n)(e.panel.alertName)),1))])),[[b]]),t.$slots.controls?(wXe(),MXe(o,{key:0},{default:NWe((()=>[dZe(t.$slots,"controls")])),_:3})):UXe("",!0),RXe("div",{class:BVe(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?UXe("",!0):(wXe(),EXe("div",$st,[p.value?(wXe(),MXe(l,{key:0,onClick:r[1]||(r[1]=e=>m("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):UXe("",!0),p.value?(wXe(),MXe(c,{key:1,onClick:r[2]||(r[2]=e=>m("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):UXe("",!0),LXe(h,{onClick:r[3]||(r[3]=t=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(wXe(),MXe(d,{key:2,onClick:r[4]||(r[4]=t=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):UXe("",!0)])),e.panel.button&&u.value?.includes(e.panel.id)?(wXe(),MXe(g,{key:1,onClick:r[5]||(r[5]=t=>e.panel.minimize())})):UXe("",!0),LXe(v,{onClick:r[6]||(r[6]=t=>e.panel.close())})],2)])):UXe("",!0),e.content?(wXe(),EXe("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[t.$slots.content?dZe(t.$slots,"content",{key:0}):y.value?(wXe(),EXe("div",{key:1,innerHTML:y.value.innerHTML},null,8,Hst)):UXe("",!0)],512)):UXe("",!0),e.footer?PWe((wXe(),EXe("div",Wst,[dZe(t.$slots,"footer")])),[[w]]):UXe("",!0)],8,zst)),[[_,{trigger:"manual",touch:!1,onShow:f,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),Zst={class:"relative"},Yst=["content","aria-label"],Xst=["transform"],Jst=hqe({__name:"pin",props:{active:Boolean},setup(e){const{t:t}=V4e();return(n,r)=>{const i=lZe("tippy");return wXe(),EXe("div",Zst,[PWe((wXe(),EXe("button",{type:"button",class:BVe(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:_He(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":_He(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(wXe(),EXe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},r[0]||(r[0]=[RXe("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,Xst))],10,Yst)),[[i,{placement:"bottom",hideOnClick:!1}]])])}}}),Kst={class:"relative"},Qst=["content","aria-label"],eat=hqe({__name:"close",props:{active:Boolean},setup(e){const{t:t}=V4e();return(n,r)=>{const i=lZe("tippy");return wXe(),EXe("div",Kst,[PWe((wXe(),EXe("button",{type:"button",class:BVe(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:_He(t)("panels.controls.close"),"aria-label":_He(t)("panels.controls.close")},r[0]||(r[0]=[RXe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[RXe("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,Qst)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),tat={class:"relative"},nat=["content","aria-label"],rat=hqe({__name:"back",props:{active:Boolean},setup(e){const{t:t}=V4e();return(n,r)=>{const i=lZe("tippy");return wXe(),EXe("div",tat,[PWe((wXe(),EXe("button",{type:"button",class:BVe(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:_He(t)("panels.controls.back"),"aria-label":_He(t)("panels.controls.back")},r[0]||(r[0]=[RXe("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[RXe("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,nat)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),iat={class:"w-32 h-32"},oat=["content"],sat={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},aat={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},lat=hqe({__name:"expand",props:{active:Boolean},setup(e){const{t:t}=V4e();return(n,r)=>{const i=lZe("tippy");return wXe(),EXe("div",iat,[PWe((wXe(),EXe("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:_He(t)("panels.controls."+(e.active?"collapse":"expand"))},[e.active?(wXe(),EXe("svg",aat,r[1]||(r[1]=[RXe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),RXe("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),RXe("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),RXe("path",{d:"M4 12h16v2H4z"},null,-1)]))):(wXe(),EXe("svg",sat,r[0]||(r[0]=[RXe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),RXe("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),RXe("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,oat)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),cat={class:"relative"},uat=["content","aria-label"],hat=hqe({__name:"minimize",props:{active:Boolean},setup(e){const{t:t}=V4e();return(n,r)=>{const i=lZe("tippy");return wXe(),EXe("div",cat,[PWe((wXe(),EXe("button",{type:"button",class:BVe(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:_He(t)("panels.controls.minimize"),"aria-label":_He(t)("panels.controls.minimize")},r[0]||(r[0]=[RXe("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[RXe("path",{d:"M0 0h24v24H0V0z",fill:"none"}),RXe("path",{d:"M6 19h12v2H6z"})],-1)]),10,uat)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),pat={class:"relative"},dat=["content","aria-label"],fat=hqe({__name:"right",props:{active:Boolean},setup(e){const{t:t}=V4e();return(n,r)=>{const i=lZe("tippy");return wXe(),EXe("div",pat,[PWe((wXe(),EXe("button",{type:"button",class:BVe(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:_He(t)("panels.controls.moveRight"),"aria-label":_He(t)("panels.controls.moveRight")},r[0]||(r[0]=[RXe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[RXe("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,dat)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),mat={class:"relative"},yat=["content","aria-label"],gat=hqe({__name:"left",props:{active:Boolean},setup(e){const{t:t}=V4e();return(n,r)=>{const i=lZe("tippy");return wXe(),EXe("div",mat,[PWe((wXe(),EXe("button",{type:"button",class:BVe(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:_He(t)("panels.controls.moveLeft"),"aria-label":_He(t)("panels.controls.moveLeft")},r[0]||(r[0]=[RXe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[RXe("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,yat)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),vat=hqe({__name:"panel-options-menu",setup(e){const{t:t}=V4e();return(e,n)=>(wXe(),MXe(X9e,{class:"flex",tooltip:_He(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:NWe((()=>n[0]||(n[0]=[RXe("div",{class:"p-6"},[RXe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[RXe("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)]))),default:NWe((()=>[dZe(e.$slots,"default",{},void 0,!0)])),_:3},8,["tooltip"]))}}),bat=G6e(vat,[["__scopeId","data-v-51e22a4a"]]),wat={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},_at={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},xat=hqe({__name:"fullscreen-nav",setup(e){const{t:t}=V4e(),n=nYe("iApi"),r=()=>{n.toggleFullscreen()};return(e,i)=>{const o=oZe("mapnav-button");return wXe(),MXe(o,{onClickFunction:r,tooltip:_He(t)("mapnav.fullscreen")},{default:NWe((()=>[_He(n).isFullscreen?(wXe(),EXe("svg",wat,i[0]||(i[0]=[RXe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),RXe("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(wXe(),EXe("svg",_at,i[1]||(i[1]=[RXe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),RXe("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))])),_:1},8,["tooltip"])}}}),Sat=hqe({__name:"geolocator-nav",setup(e){const{t:t}=V4e(),n=nYe("iApi");let r=nHe([]);const i=async()=>{if(r.length)o(r);else{const e=await s({maximumAge:1/0,timeout:5e3}).catch((e=>{e.code===GeolocationPositionError.PERMISSION_DENIED?n.notify.show(n7e.ERROR,t("mapnav.geolocator.error.permission")):n.notify.show(n7e.ERROR,t("mapnav.geolocator.error.internal"))}));e&&(r=[e.coords.longitude,e.coords.latitude],o(r))}},o=e=>{let t=new ULe("geolocation",e,DLe.latLongSR(),!0);n.geo.map.zoomMapTo(t)},s=e=>new Promise(((t,n)=>navigator.geolocation.getCurrentPosition(t,n,e)));return(e,n)=>{const r=oZe("mapnav-button");return wXe(),MXe(r,{onClickFunction:i,tooltip:_He(t)("mapnav.geolocator")},{default:NWe((()=>n[0]||(n[0]=[RXe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[RXe("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)]))),_:1},8,["tooltip"])}}}),Tat=hqe({__name:"home-nav",setup(e){const{t:t}=V4e(),n=nYe("iApi"),r=()=>{const e=n.geo.map.getExtentSet();n.geo.map.zoomMapTo(e.fullExtent)};return(e,n)=>{const i=oZe("mapnav-button");return wXe(),MXe(i,{onClickFunction:r,tooltip:_He(t)("mapnav.home")},{default:NWe((()=>n[0]||(n[0]=[RXe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[RXe("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),RXe("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)]))),_:1},8,["tooltip"])}}}),Eat={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},Mat=["content","aria-label"],Aat=hqe({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){return(t,n)=>{const r=lZe("focus-item"),i=lZe("tippy");return wXe(),EXe("div",Eat,[PWe((wXe(),EXe("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:n[0]||(n[0]=t=>e.onClickFunction()),content:e.tooltip,"aria-label":"string"==typeof e.tooltip?e.tooltip:""},[dZe(t.$slots,"default")],8,Mat)),[[r],[i,{placement:"left"}]])])}}}),Iat={class:"relative",tabindex:"-1"},Cat=["aria-label","content"],Oat=hqe({__name:"button",props:{onClickFunction:{type:Function,required:!0},id:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=nYe("iApi"),n=e,r=()=>t?.event.emit(v0e.APPBAR_BUTTON_CLICK,n.id);return(t,n)=>{const i=lZe("focus-item"),o=lZe("tippy");return wXe(),EXe("div",Iat,[PWe((wXe(),EXe("button",{type:"button",class:"py-6 w-full h-full",onClick:n[0]||(n[0]=()=>{e.onClickFunction(),r()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[dZe(t.$slots,"default",{},void 0,!0)],8,Cat)),[[i],[o,{allowHTML:!0,placement:"right"}]])])}}}),kat=G6e(Oat,[["__scopeId","data-v-457cd2d4"]]),Rat=a0e("areas-of-interest",(()=>({areas:yHe([])}))),Lat=a0e("export",(()=>{const e=yHe({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=yHe("");function n(t){if(void 0!==e.value[t.name]){const n=e.value[t.name];e.value[t.name]=void 0!==t.selected?t.selected:!n}}return{componentSelectedState:e,fileName:t,toggleSelected:n}})),Nat=a0e("extentguard",(()=>{const e=yHe(!1);function t(t){e.value=t}const n=yHe(!1);function r(e){n.value=e}const i=yHe(!1);function o(e){i.value=e}const s=yHe([]);function a(e){s.value=e}return{active:e,setActive:t,enforcing:n,setEnforcing:r,alwaysOn:i,setAlwaysOn:o,extentSetIds:s,setExtentSetIds:a}})),Pat=function e(t){function n(e,t,r){var i,o={};if(Array.isArray(e))return e.concat(t);for(i in e)o[r?i.toLowerCase():i]=e[i];for(i in t){var s=r?i.toLowerCase():i,a=t[i];o[s]=s in o&&"object"==typeof a?n(o[s],a,"headers"==s):a}return o}function r(e,r,i,o,s){var a="string"!=typeof e?(r=e).url:e,l={config:r},c=n(t,r),u={};o=o||c.data,(c.transformRequest||[]).map((function(e){o=e(o,c.headers)||o})),c.auth&&(u.authorization=c.auth),o&&"object"==typeof o&&"function"!=typeof o.append&&"function"!=typeof o.text&&(o=JSON.stringify(o),u["content-type"]="application/json");try{u[c.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+c.xsrfCookieName+"=([^;]*)"))[2])}catch{}return c.baseURL&&(a=a.replace(/^(?!.*\/\/)\/?/,c.baseURL+"/")),c.params&&(a+=(~a.indexOf("?")?"&":"?")+(c.paramsSerializer?c.paramsSerializer(c.params):new URLSearchParams(c.params))),(c.fetch||fetch)(a,{method:(i||c.method||"get").toUpperCase(),body:o,headers:n(c.headers,u,!0),credentials:c.withCredentials?"include":s}).then((function(e){for(var t in e)"function"!=typeof e[t]&&(l[t]=e[t]);return"stream"==c.responseType?(l.data=e.body,l):e[c.responseType||"text"]().then((function(e){l.data=e,l.data=JSON.parse(e)})).catch(Object).then((function(){return(c.validateStatus?c.validateStatus(e.status):e.ok)?l:Promise.reject(l)}))}))}return t=t||{},r.request=r,r.get=function(e,t){return r(e,t,"get")},r.delete=function(e,t){return r(e,t,"delete")},r.head=function(e,t){return r(e,t,"head")},r.options=function(e,t){return r(e,t,"options")},r.post=function(e,t,n){return r(e,n,"post",t)},r.put=function(e,t,n){return r(e,n,"put",t)},r.patch=function(e,t,n){return r(e,n,"patch",t)},r.all=Promise.all.bind(Promise),r.spread=function(e){return e.apply.bind(e,e)},r.CancelToken="function"==typeof AbortController?AbortController:Object,r.defaults=t,r.create=e,r}(),Dat={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,X:[62,61],Y:60},Fat={en:{},fr:{}};class jat{list={};listFetched=!1;constructor(e,t){Pat.get(t).then((t=>{t.data.definitions.forEach((t=>Fat[e][t.code]=t.description)),Object.keys(Fat[e]).forEach((t=>{this.list[t]=Fat[e][t]})),this.listFetched=!0}))}fsaToProvinces(e){const t={};let n=Dat[e.substring(0,1).toUpperCase()];return"number"==typeof n&&(n=[n]),n.forEach((e=>{t[e]=this.list[e]})),t}}function Uat(e,t){return new jat(e,t)}const zat={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"Région De Tri D'Acheminement",NTS:"Système National De Référence Cartographique",COORD:"Latitude/Longitude",SCALE:"Échelle"}};class Gat{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(e,t){Pat.get(t).then((t=>{t.data.definitions.forEach((t=>{zat[e][t.code]=t.term.split(`${t.code}-`)[1]})),Object.keys(zat[e]).forEach((t=>{this.allTypes[t]=zat[e][t],this.validTypes[t]=zat[e][t]})),this.typesFetched=!0}))}filterValidTypes(e){if(this.filterComplete)return this.validTypes;if(e="string"==typeof e?[e]:e,e&&e.length>0)for(const t of e)delete this.validTypes[t];return this.filterComplete=!0,this.validTypes}}function Vat(e,t){return new Gat(e,t)}function Bat(e,t){const n=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,r=/^\d{2,3}[A-P]/,i=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;if(n.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")){const n=t.slice(0,-1);return new Hat(e,n)}return i.test(t)&&!e.disabledSearchTypes.includes("FSA")?new Wat(e,t):r.test(t)&&!e.disabledSearchTypes.includes("NTS")?new qat(e,t.substring(0,6).toUpperCase()):new Zat(e,t)}class $at{config;query;failedServs=[];results=[];onComplete;latLongResult;featureResults=[];resultType="geoname";constructor(e,t){this.query=t,this.config=e}search(){return this.jsonRequest(this.getUrl()).then((e=>this.normalizeNameItems(e.items))).catch((()=>(console.error("Geoname service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([]))))}getUrl(e,t,n,r){let i="";return e?i=this.config.geoLocateUrl+"?q="+this.query:(i=n&&r?`${this.config.geoNameUrl}?lat=${n}&lon=${r}&num=${this.config.maxResults}`:`${this.config.geoNameUrl}?q=${this.query}&num=${this.config.maxResults}`,this.config.categories.length>0&&(i+=`&concise=${this.config.categories.join(",")}`),this.config.officialOnly&&(i+="&category=O")),i}normalizeNameItems(e){return e.filter((e=>this.config.types.validTypes[e.concise.code])).map((e=>({name:e.name,location:e.location,province:this.config.provinces.list[e.province.code],type:this.config.types.allTypes[e.concise.code],LatLon:{lat:e.latitude,lon:e.longitude},bbox:e.bbox,order:this.config.sortOrder.indexOf(e.concise.code)>=0?this.config.sortOrder.indexOf(e.concise.code):this.config.sortOrder.length})))}jsonRequest(e){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="json",r.onload=()=>{if(200===r.status){const e="string"==typeof r.response?JSON.parse(r.response):r.response;t(e)}else n("Could not load results from remote service.")},r.send()}))}locateByQuery(){return this.jsonRequest(this.getUrl(!0,void 0))}nameByLatLon(e,t,n){return this.jsonRequest(this.getUrl(!1,n,e,t)).then((e=>this.normalizeNameItems(e.items))).catch((()=>(console.error("LatLon service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([]))))}}class Hat extends $at{constructor(e,t){super(e,t),this.resultType="latlong";const n=t.split(/[\s|,|;|]/).filter((e=>!isNaN(e)&&""!==e)).map((e=>parseFloat(e))),r=.015,i=[n[1]-r,n[0]-r,n[1]+r,n[0]+r];this.latLongResult={name:`${n[0]},${n[1]}`,location:{latitude:n[0],longitude:n[1]},type:"Latitude/Longitude",position:[n[1],n[0]],bbox:i},this.onComplete=new Promise(((e,t)=>{this.nameByLatLon(n[0],n[1]).then((n=>{n?(this.results=n,e(this)):t("Given lat lon coordinates cannot be found")}))}))}}class Wat extends $at{constructor(e,t){t=t.substring(0,3).toUpperCase(),super(e,t),this.resultType="fsa",this.onComplete=new Promise((e=>{this.formatLocationResult().then((t=>{t?(this.featureResults.push(t),this.nameByLatLon(t.LatLon.lat,t.LatLon.lon,Object.keys(t._provinces).map((e=>parseInt(e)))).then((t=>{this.results=t,e(this)}))):(console.log("FSA code given cannot be found."),e(this))}))}))}formatLocationResult(){return this.locateByQuery().then((e=>{if(1===e.length&&this.query){const t=this.config.provinces.fsaToProvinces(this.query);return{fsa:this.query,code:"FSA",desc:this.config.types.allTypes.FSA,province:Object.keys(t).map((e=>t[e])).join(","),_provinces:t,LatLon:{lat:e[0].geometry.coordinates[1],lon:e[0].geometry.coordinates[0]}}}})).catch((()=>{console.error("FSA service failed"),this.failedServs.push("geolocation")}))}}class qat extends $at{unitName;unit;mapSheets=[];constructor(e,t){super(e,t),this.resultType="nts",t=isNaN(parseInt(t[2]))?"0"+t:t,this.unitName=t,this.onComplete=new Promise((e=>{this.locateByQuery().then((t=>{if(t.length>0&&this.query){const n=this.locateToResult(t);this.unit=n[0],this.mapSheets=n,this.featureResults.push(this.unit),this.nameByLatLon(this.unit.LatLon.lat,this.unit.LatLon.lon).then((t=>{this.results=t,e(this)}))}else console.log("Given NTS code not found"),e(this)})).catch((()=>{console.error("NTS service failed"),this.failedServs.push("geolocation"),e(this)}))}))}locateToResult(e){return e.map((e=>{const t=e.title.split(" ");return{nts:t.shift()||"",location:t.join(" "),code:"NTS",desc:this.config.types.allTypes.NTS,LatLon:{lat:e.geometry.coordinates[1],lon:e.geometry.coordinates[0]},bbox:e.bbox}}))}equals(e){return this.unitName===e.unitName}}class Zat extends $at{constructor(e,t){t=encodeURIComponent(t.trim()),super(e,t),this.resultType="address",this.onComplete=new Promise((e=>{this.locateByQuery().then((t=>{this.featureResults=this.locateToResult(t),this.search().then((t=>{this.results=t,e(this)}))})).catch((()=>{this.failedServs.push("geolocation"),console.error("Address service failed"),this.search().then((t=>{this.results=t,e(this)}))}))}))}locateToResult(e){return this.config.categories.length>0&&!this.config.categories.includes("ADDR")?[]:e.filter((e=>e.type?.includes("Street"))).map((e=>{const[t,n,r]=e.title.split(", ");return{name:t,city:n.split(" Of ").pop(),province:r,desc:this.config.types.allTypes.ADDRESS,LatLon:{lat:e.geometry.coordinates[1],lon:e.geometry.coordinates[0]}}}))}}const Yat="https://geogratis.gc.ca/services/geolocation/@{language}/locate",Xat="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",Jat="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",Kat="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json",Qat={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class elt{config;constructor(e,t){let n,r,i,o;const s=t?.serviceUrls;s?(n=s.geoLocation?s.geoLocation:Yat,r=s.geoNames?s.geoNames:Xat,i=s.geoProvince?s.geoProvince:Jat,o=s.geoTypes?s.geoTypes:Kat):(n=Yat,r=Xat,i=Jat,o=Kat),n=n.replace("@{language}",e),r=r.replace("@{language}",e),i=i.replace("@{language}",e),o=o.replace("@{language}",e);const a=t?.settings;let l,c,u,h,p;a?(l=a.categories?a.categories:[],c=a.sortOrder?a.sortOrder:[],u=a.disabledSearchTypes?a.disabledSearchTypes:[],h=a.maxResults>0?a.maxResults:100,p=!!a.officialOnly):(l=[],c=[],u=[],h=100,p=!1),this.config={language:e,geoNameUrl:r,geoLocateUrl:n,types:Vat(e,o),provinces:Uat(e,i),categories:l,sortOrder:c,disabledSearchTypes:u,maxResults:h,officialOnly:p},this.config.types.filterValidTypes(t?.excludeTypes),this._provinceList=[],this._typeList=[],this._excludedTypes=t?.excludeTypes||[]}get provinceList(){return this._provinceList}get typeList(){return this._typeList}set provinceList(e){this._provinceList=e}set typeList(e){this._typeList=e}levenshteinDistance(e,t){t=t.toLowerCase().trim();const n=decodeURI(e.query.toLowerCase().replace("*","")),r=[];for(let i=0;i<=t.length;i++){r[i]=[i];for(let e=1;e<=n.length;e++)r[i][e]=0===i?e:Math.min(r[i][e-1]+1,r[i-1][e]+.2,r[i-1][e-1]+(n[e-1]===t[i-1]?0:1))}return r[t.length][n.length]}findProvinceObj(e){return this.provinceList.find((t=>t.name===e))}query(e){return Bat(this.config,e.toUpperCase()).onComplete.then((e=>{let t=[];e.featureResults.length>0?"fsa"===e.resultType?t=e.featureResults.map((e=>({name:e.fsa,bbox:[e.LatLon.lon+.02,e.LatLon.lat-.02,e.LatLon.lon-.02,e.LatLon.lat+.02],type:e.desc,position:[e.LatLon.lon,e.LatLon.lat],location:{latitude:e.LatLon.lat,longitude:e.LatLon.lon,province:this.findProvinceObj(e.province)},order:-1}))):"nts"===e.resultType?t=e.featureResults.map((e=>({name:e.nts,bbox:e.bbox??[e.LatLon.lon+.02,e.LatLon.lat-.02,e.LatLon.lon-.02,e.LatLon.lat+.02],type:e.desc,position:[e.LatLon.lon,e.LatLon.lat],location:{city:e.location,latitude:e.LatLon.lat,longitude:e.LatLon.lon},order:-1}))):"address"===e.resultType&&(t=e.featureResults.map((e=>({name:e.name,bbox:[e.LatLon.lon+.002,e.LatLon.lat-.002,e.LatLon.lon-.002,e.LatLon.lat+.002],type:e.desc,position:[e.LatLon.lon,e.LatLon.lat],location:{city:e.city,latitude:e.LatLon.lat,longitude:e.LatLon.lon,province:this.findProvinceObj(e.province)},order:this.config.sortOrder.indexOf("ADDR")>=0?this.config.sortOrder.indexOf("ADDR"):this.config.sortOrder.length}))),this.config.sortOrder.length>0&&(t=t.sort(((t,n)=>this.levenshteinDistance(e,t.name)>this.levenshteinDistance(e,n.name)?1:-1)))):"latlong"===e.resultType&&(t=[e.latLongResult],t[0].order=-1);const n=e.results.map((e=>({name:e.name,bbox:e.bbox,type:e.type,position:[e.LatLon.lon,e.LatLon.lat],location:{city:e.location,latitude:e.LatLon.lat,longitude:e.LatLon.lon,province:this.findProvinceObj(e.province)},order:e.order})));return{results:t.concat(n).slice(0,this.config.maxResults).sort(((t,n)=>this.config.sortOrder.length>0?t.order>n.order?1:-1:this.levenshteinDistance(e,t.name)>this.levenshteinDistance(e,n.name)?1:-1)),failedServs:e.failedServs}}))}fetchProvinces(){return new Promise((e=>{const t=setInterval((()=>{if(this.config.provinces.listFetched){clearInterval(t);const n=[],r={code:-1,abbr:"...",name:"..."};n.push(r);const i=this.config.provinces.list;for(const e in i)n.push({code:e,abbr:Qat[e],name:i[e]});this.provinceList=n,e(this.provinceList)}}))}))}fetchTypes(){return new Promise((e=>{const t=setInterval((()=>{if(this.config.types.typesFetched){clearInterval(t);const n=[],r={code:-1,name:"..."};n.push(r);const i=this.config.types.allTypes;for(const e in i)this._excludedTypes.includes(e)||n.push({code:e,name:i[e]});this.typeList=n,e(this.typeList)}}),250)}))}}function tlt(e,t,n){return e&&t.extent&&(n=n.filter((e=>e.bbox[0]<=t.extent.xmax&&e.bbox[1]<=t.extent.ymax&&e.bbox[2]>=t.extent.xmin&&e.bbox[3]>=t.extent.ymin))),t.province&&"..."!==t.province&&(n=n.filter((e=>e.location.province?.name&&e.location.province.name===t.province))),t.type&&"..."!==t.type&&(n=n.filter((e=>e.type===t.type))),n}const nlt=a0e("geosearch",(()=>{const e=yHe(new elt("en",void 0)),t=yHe({type:"",province:"",extent:void 0}),n=yHe(!1),r=yHe(""),i=yHe(""),o=yHe(""),s=yHe([]),a=yHe([]),l=yHe(!1),c=yHe([]),u=vJe((()=>new Promise((t=>{e.value.fetchProvinces().then((e=>{e.sort(((e,t)=>e.name>t.name?1:-1)),t(e)}))})))),h=vJe((()=>new Promise((t=>{e.value.fetchTypes().then((e=>{e.sort(((e,t)=>e.name>t.name?1:-1)),t(e)}))}))));function p(t,n){e.value=new elt(t,n)}function d(i){l.value=!0;const u=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(u)if(u&&u!==o.value||i){const r=setInterval((()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval(r),e.value.query(`${u}*`).then((e=>{c.value=e.failedServs,o.value=u,a.value=e.results;const r=tlt(n.value,t.value,a.value);s.value=r||[],l.value=!1})))}),250)}else{const e=tlt(n.value,t.value,a.value);s.value=e||[],l.value=!1}else s.value=[],a.value=[],l.value=!1}function f(e){t.value.province=typeof e.province>"u"?"":e.province,d(e.forceReRun)}function m(e){t.value.type=typeof e.type>"u"?"":e.type,d(e.forceReRun)}function y(e){o.value=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),r.value=e,d()}function g(e){const t={a:"àáâãäåāăąǎȁȃȧạảấầẩẫậắằẳẵặ",b:"ḃɓḅḇ",c:"çćĉċč",d:"ďḋḍḏḑḓ",e:"èéêëēĕėęěȅȇẹẻẽếềểễệ",f:"ƒḟ",g:"ĝğġģǧǵḡ",h:"ĥȟḣḥḧḩḫẖ",i:"ìíîïĩīĭįıȉȋịỉĩ",j:"ĵǰɉ",k:"ķĸƙḳḵ",l:"ĺļľŀłḷḹḻḽ",m:"ḿṁṃ",n:"ñńņňŉŋǹṅṇṉṋ",o:"òóôõöōŏőơǒǫǭȍȏȯọỏốồổỗộớờởỡợ",p:"ṕṗ",r:"ŕŗřȑȓṛṝṟ",s:"śŝşšșṡṣṥṧṩ",t:"ţťŧțṫṭṯṱẗ",u:"ùúûüũūŭůűųưǔǖǘǚǜȕȗụủứừửữự",v:"ṽṿ",w:"ẁẃŵẅẇẉẋ",x:"ẋẍ",y:"ỳýŷÿỹȳẏẙỵỷỹ",z:"źżžẑẓẕ"};e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),i.value=Array.from(e).map((e=>Object.keys(t).includes(e)?"["+e+t[e]+"]":e.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim())).join("")}function v(e){if(void 0!==e.visible&&(n.value=e.visible),4326!==e.extent.sr.wkid)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=e.extent,d()}return{GSservice:e,queryParams:t,resultsVisible:n,searchVal:r,searchRegex:i,lastSearchVal:o,searchResults:s,savedResults:a,loadingResults:l,failedServices:c,getProvinces:u,getTypes:h,initService:p,runQuery:d,setProvince:f,setType:m,setSearchTerm:y,setSearchRegex:g,setMapExtent:v}})),rlt=a0e("help",(()=>({location:yHe("./help/")})));var ilt=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(ilt||{}),olt=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))(olt||{});class slt extends AGe{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(e,t,n){super(e),this._uid=Fut.sharedUtils.generateUUID(),this._name=t.name,this._type=t.type??"placeholder",this._parent=n,this._children=[],this._loadPromise=new iNe,this._hidden=t.hidden??!1,this._expanded=t.expanded??!0,this._visibility=!0,this._exclusive=t.exclusive??!1,this._controls=t.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=t.disabledControls?.slice(),this._lastVisible,this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(e){this._name=e}get type(){return this._type}get children(){return this._children}set children(e){this._children=e}get parent(){return this._parent}set parent(e){this._parent=e}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(e){return!this._disabledControls?.includes(e)&&this._controls?.includes(e)}setControl(e,t){t&&this._disabledControls?.includes(e)?(this._disabledControls=this._disabledControls.filter((t=>t!==e)),this._controls?.push(e)):!t&&this._controls?.includes(e)&&(this._controls=this._controls.filter((t=>t!==e)),this._disabledControls?.push(e))}toggleHidden(e){this._hidden=e??!this.hidden}toggleExpanded(e){this._expanded=e??!this.expanded}toggleVisibility(e,t=!0){if(this.visibility!==e){if(this._visibility=e??!this.visibility,this.exclusive)if(this.visibility)if(!this._lastVisible||this._lastVisible instanceof alt&&!this._lastVisible.layerControlAvailable(_.Visibility)){const e=this.children.find((e=>!(e instanceof alt)||e.layerControlAvailable(_.Visibility)));e&&e.toggleVisibility(!0)}else this._lastVisible.toggleVisibility(!0);else this._lastVisible=this.children.find((e=>e.visibility)),this._lastVisible?.toggleVisibility(!1);else this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach((e=>e.toggleVisibility(!0,!1))):this.children.forEach((e=>e.toggleVisibility(!0,!1))):this.children.forEach((e=>e.toggleVisibility(!1,!1)));this.parent&&t&&this.parent.checkVisibility(this)}}checkVisibilityRules(){(this.parent&&!this.parent.visibility||this.parent?.exclusive&&this.parent.children.some((e=>e.visibility&&e!==this&&"item"===e.type)))&&this.toggleVisibility(!1,!1)}checkVisibility(e){this instanceof alt&&!this.layerControlAvailable(_.Visibility)||(this.exclusive?e.visibility?(this.children.forEach((t=>{t.uid!==e.uid&&t.toggleVisibility(!1,!1)})),this._lastVisible=e,this._visibility=!0,this instanceof alt&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof alt&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=e):this.children.some((e=>e.visibility))?(this._visibility=!0,this._visibleChildren=this.children.filter((e=>e.visibility)),this instanceof alt&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof alt&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const e={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},t=[];return this.children.forEach((e=>{t.push(e.getConfig())})),this.exclusive?e.exclusiveVisibility=t:e.children=t,e}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new iNe}error(){"error"!==this._type&&(this._type="error",this._loadPromise.getPromise().catch((()=>{})),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class alt extends slt{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(e,t,n){super(e,t,n),this._type=olt.Placeholder,this._layerId=t.layerId,this._layerIdx=t.sublayerIndex,this._isSublayer=void 0!==t.sublayerIndex,this._layerControls=t.layerControls??[],this._origLayerControls=t.layerControls,this._layerDisabledControls=t.disabledLayerControls??[],this._origLayerDisabledControls=t.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=t.symbologyExpanded||!1,t.coverIcon&&(this._coverIcon=t.coverIcon),t.description&&(this._description=t.description),this._symbologyRenderStyle=t.symbologyRenderStyle??"icons",this._customSymbology=!!t.symbologyStack,this._symbologyStack=t.symbologyStack?.map((e=>({uid:this.$iApi.geo.shared.generateUUID(),label:e.text,definitionClause:e.sqlQuery,imgUrl:e.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0}))),this._maxLines=t.maxLines&&[1,2,3,4,5,6].includes(t.maxLines)?t.maxLines:void 0}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(e){this._layer=e,this._layerId=e.id,this._layerIdx=e.isSublayer?e.layerIdx:void 0,this._layerUid=e.uid,this._name=this._name||e.name,this._symbologyStack=this._customSymbology?this._symbologyStack:e.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(e){this._layerOffscale=e}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(e){this._layerRedrawing=e}get coverIcon(){return this._coverIcon}set coverIcon(e){this._coverIcon=e}get description(){return this._description}set description(e){this._description=e}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(e){this._treeGrown=e}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(e){this._symbologyRenderStyle=e}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(e){this._symbologyStack=e}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const e={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...e}}toggleVisibility(e,t=!0,n=!1){if((this.layerControlAvailable(_.Visibility)||n)&&(super.toggleVisibility(e,t),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const e=this._symbologyStack.some((e=>e.lastVisbility));this._symbologyStack.forEach((t=>{e||(t.lastVisbility=!0),t.visibility=!!this.visibility&&t.lastVisbility}))}}toggleSymbology(e){return this._symbologyExpanded=e??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(e,t){this._symbologyStack.some((n=>((void 0===e||n.uid===e)&&(n.visibility=t,n.lastVisbility=t),void 0!==e&&n.uid===e)))}load(e){const t=e instanceof yct?e:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);t&&(this.layer=t,this._layerRedrawing=t.mapLayer&&t.drawState!==v.UP_TO_DATE,t.loadPromise().then((()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:t.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),t.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(v0e.LAYER_VISIBILITYCHANGE,(e=>{e.layer.uid===this.layer.uid&&this._type===olt.Item&&this.toggleVisibility(e.visibility,!0,!0)}))),this.handlers.push(this.$iApi.event.on(v0e.LAYER_DRAWSTATECHANGE,(e=>{this.layer.uid===e.layer.uid&&(e.layer.drawState===v.REFRESH?this.layerRedrawing=!0:setTimeout((()=>{this.layerRedrawing=e.layer.drawState===v.REFRESH}),500))}))),this._layerOffscale=!!this.$iApi.geo.map.created&&t.isOffscale(),this.handlers.push(this.$iApi.event.on(v0e.MAP_SCALECHANGE,(()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())})))})).catch((()=>{this.error()})))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(e){return!this._layerDisabledControls?.includes(e)&&!!this._layerControls?.includes(e)}updateLayerControls(){const e=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=e?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=e?.disabledControls??[])}}var llt=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(llt||{});class clt extends slt{_infoType;_content;constructor(e,t,n){super(e,t,n),this._infoType=t.infoType??"title",this._content=t.content??"","template"===t.infoType&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(t.infoType||t.content)&&(this._controls=t.controls?.slice()??[ilt.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(e){this._content=e}getConfig(){const e={infoType:this._infoType,content:this._content};return{...super.getConfig(),...e}}}const ult=a0e("legend",(()=>{const e=yHe(),t=yHe([]),n=yHe([]),r=yHe(!0),i=yHe(3);function o(e){if(void 0===e.parent)t.value.push(e.item);else{if(!(e.item instanceof clt)&&!(e.item instanceof alt))return void console.error("attempted to add an unsupported legend item type");e.parent.children.push(e.item)}}function s(e){const n=t=>(t=t.filter((t=>(t===e&&!t.children.length&&t.onRemoved(),t!==e))),t.forEach((e=>{e.children=n(e.children)})),t=t.filter((e=>!(e instanceof clt&&!e.children.length&&""===e.content))),t);t.value=n(t.value)}function a(e){if(void 0===e.oldItem.parent){const n=t.value,r=n.indexOf(e.oldItem);r>-1&&(t.value[r]=e.newItem),t.value=n}else{const t=e.oldItem.parent.children,n=t.indexOf(e.oldItem);n>-1&&(t[n]=e.newItem),e.oldItem.parent.children=t}}return{legendConfig:e,multilineItems:r,maxLines:i,children:t,headerControls:n,addItem:o,removeItem:s,replaceItem:a}})),hlt=a0e("mapnav",(()=>{const e=yHe({}),t=yHe([]);function n(n){n in e.value&&delete e.value[n];const r=t.value.indexOf(n);-1!==r&&t.value.splice(r,1)}return{items:e,order:t,removeItem:n}})),plt=a0e("metadata",(()=>{const e=yHe(""),t=yHe({type:"LineString",coordinates:[]});return{status:e,response:t}})),dlt=a0e("northarrow",(()=>{const e=yHe(""),t=yHe("");return{arrowIcon:e,poleIcon:t}})),flt=a0e("overviewmap",(()=>{const e=yHe({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=yHe({}),n=yHe(!0),r=yHe(1.5),i=yHe("#FF0000"),o=yHe(1),s=yHe("#000000"),a=yHe(.25);function l(t){e.value.initialBasemapId=t}return{mapConfig:e,basemaps:t,startMinimized:n,expandFactor:r,borderColour:i,borderWidth:o,areaColour:s,areaOpacity:a,updateInitialBasemap:l}})),mlt=a0e("scrollguard",(()=>{const e=yHe(!1);function t(t){e.value=t}return{enabled:e,setEnabled:t}}));var ylt=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(ylt||{});const glt=a0e("wizard",(()=>{const e={id:"Placeholder",layerType:h.UNKNOWN,url:""},t=yHe(),n=yHe(""),r=yHe(""),i=yHe(!0),o=yHe(null),s=yHe({config:e,configOptions:[]}),a=yHe(ylt.UPLOAD);function l(t){switch(a.value){case ylt.UPLOAD:t===ylt.UPLOAD?n.value="":t===ylt.FORMAT&&(a.value=ylt.FORMAT);break;case ylt.FORMAT:t===ylt.UPLOAD?(o.value&&(n.value="",o.value=null),r.value="",a.value=ylt.UPLOAD):t===ylt.CONFIGURE&&(a.value=ylt.CONFIGURE);break;case ylt.CONFIGURE:t===ylt.UPLOAD?(n.value="",r.value="",o.value=null,i.value=!0,s.value={config:e,configOptions:[]},a.value=ylt.UPLOAD):t===ylt.FORMAT&&(s.value={config:e,configOptions:[]},i.value=!0,a.value=ylt.FORMAT);break}}return{layerSource:t,url:n,typeSelection:r,nested:i,fileData:o,layerInfo:s,currStep:a,goToStep:l}}));class vlt{fixture;panel;event;geo;notify;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(e,t,n){this.event=new _0e(this);const r=blt(e,this);this.$vApp=r.app,this.$element=r.element,this.$i18n=r.i18n,this.$rootEl=r.app.$root?.$el,this.fixture=new hut(this),this.panel=new dut(this),this.geo=new cut(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new r7e(this),this._isFullscreen=l5e.isEnabled&&!!this.$vApp.$root&&l5e.isFullscreen&&l5e.element===this.$vApp.$root.$el,l5e.isEnabled&&l5e.onchange((()=>{this._isFullscreen=l5e.isEnabled&&!!this.$vApp.$root&&l5e.isFullscreen&&l5e.element===this.$vApp.$root.$el})),this.initialize(!0,t,n)}initialize(e,t,n){const r=m0e(this.$vApp.$pinia),i=U6e(this.$vApp.$pinia),o=f5e(this.$vApp.$pinia);if(void 0!==t?.configs){const e=t.configs,n=e[this.$i18n.locale.value]??e[Object.keys(e)[0]];r.newConfig(n),r.registerConfig({config:n,configLangs:Object.keys(e),allLangs:Object.keys(this.$i18n.messages.value)});for(const t in e)r.registerConfig({config:e[t],configLangs:[t]});r.activeBasemapConfig=n.map.basemaps.find((e=>e.id===n.map.initialBasemapId));const s=setInterval((()=>{const e=this.$vApp.$el.querySelector("#esriMap");if(e&&(clearInterval(s),this.geo.map.createMap(n.map,e),e._tippy.hide(0),o.setMaptipInstance(e._tippy),n.layers&&n.layers.length>0)){let e=0;n.layers.forEach((t=>{const n=this.geo.layer.createLayer(t);this.geo.map.addLayer(n,e).catch((()=>{})),n.mapLayer&&e++}))}}),100);if(n.panels){if(n.panels.open&&n.panels.open.length>0){const e=n.panels.open.map((e=>e.id));this.panel.isRegistered(e).then((()=>{n.panels?.open?.forEach((e=>{this.panel.open({id:e.id,screen:e.screen}),e.pin&&this.panel.pin(e.id)}))}))}i.reorderable=n.panels.reorderable??!0}!n.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),n.system?.proxyUrl&&(this.geo.proxy=n.system.proxyUrl),n.system?.exposeOid&&(this.ui.exposeOids=n.system.exposeOid),null!=n.system?.exposeMeasurements&&(this.ui.exposeMeasurements=n.system.exposeMeasurements),n.system?.scrollToInstance&&(this.ui.scrollToInstance=n.system?.scrollToInstance),n.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=n.system?.suppressNumberLocalization);const a={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},l=n.system?.zoomIcon||"globe",c=a[l]||l;this.ui.getZoomIcon=()=>c,this.ui.formatNumber=e=>this.ui.suppressNumberLocalization?e.toString():this.$i18n.n(e,"number"),this.ui.escapeHtml=e=>{const t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[<>"']/g,(e=>t[e]))},this.ui.isPlainText=e=>"string"==typeof e&&(!this.containsValidHtml(e)&&!this.representsObject(e))}n||(n={});const s=tet(this.$vApp.$pinia);n?.startRequired?(this.startRequired=!0,s.started=!1):(this.startRequired=!1,s.started=!0,this.event.emit(v0e.MAP_START)),!e||!1===n.loadDefaultFixtures&&void 0===t?.startingFixtures?e||this.fixture.restore():this.fixture.addDefaultFixtures(t?.startingFixtures),!1!==n.loadDefaultEvents&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reload(e,t){const n=tet(this.$vApp.$pinia),r=J9e(this.$vApp.$pinia),i=m0e(this.$vApp.$pinia),o=g0e(this.$vApp.$pinia),s=f0e(this.$vApp.$pinia),a=c0e(this.$vApp.$pinia),l=!!e;l?Object.keys(o.items).forEach((e=>{this.fixture.exists(e)&&this.fixture.remove(e)})):this.fixture.flush(),Object.keys(a.grids).forEach((e=>{a.removeGrid(e)})),n.started=!1,this.geo.map.destroyMap(),s.$reset(),!1===t?.loadDefaultEvents&&(this.event.removeDefaultEvents(),this._eventsOn=!1),void 0===e&&(e=JSON.parse(JSON.stringify({startingFixtures:i.startingFixtures,configs:i.registeredConfigs}))),r.clearAll(),this.geo.map.maptip.clear(),this.initialize(l,e,t)}component(e,t){if(t){const n=this.$element.component(e,t);return this.event.emit(v0e.COMPONENT,e),n}return this.$element.component(e)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const e=this.$vApp.$root.$refs["app-size"].classList;return e.contains("lg")?"lg":e.contains("md")?"md":e.contains("sm")?"sm":"xs"}getConfig(){const e=m0e(this.$vApp.$pinia);return JSON.parse(JSON.stringify(e.getActiveConfig(this.language)))}useStore(e){if(!["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(e)||this.fixture.exists(e))switch(e){case"appbar":return l0e(this.$vApp.$pinia);case"areas-of-interest":return Rat(this.$vApp.$pinia);case"details":return y0e(this.$vApp.$pinia);case"export":return Lat(this.$vApp.$pinia);case"extentguard":return Nat(this.$vApp.$pinia);case"geosearch":return nlt(this.$vApp.$pinia);case"grid":return c0e(this.$vApp.$pinia);case"help":return rlt(this.$vApp.$pinia);case"legend":return ult(this.$vApp.$pinia);case"mapnav":return hlt(this.$vApp.$pinia);case"metadata":return plt(this.$vApp.$pinia);case"northarrow":return dlt(this.$vApp.$pinia);case"overviewmap":return flt(this.$vApp.$pinia);case"scrollguard":return mlt(this.$vApp.$pinia);case"wizard":return glt(this.$vApp.$pinia);case"config":return m0e(this.$vApp.$pinia);case"fixture":return g0e(this.$vApp.$pinia);case"instance":return tet(this.$vApp.$pinia);case"layer":return f0e(this.$vApp.$pinia);case"map-caption":return p0e(this.$vApp.$pinia);case"maptip":return f5e(this.$vApp.$pinia);case"notification":return J9e(this.$vApp.$pinia);case"panel":return U6e(this.$vApp.$pinia);default:return void console.error(`The store ${e} does not exist.`)}}setLanguage(e){if(this.$i18n.locale.value===e)return;const t=m0e(this.$vApp.$pinia),n=J9e(this.$vApp.$pinia),r=t.registeredLangs;1===Object.keys(t.registeredConfigs).length&&n.clearAll();const i=this.$i18n.locale.value;this.$i18n.locale.value=e;const o=this.getConfig();r[i]!==r[e]&&(this.event.emit(v0e.CONFIG_CHANGE,o),this.reload()),this.event.emit(v0e.LANG_CHANGE,{oldLang:i,newLang:e})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){l5e.isEnabled&&l5e.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return tet(this.$vApp.$pinia).started}updateAlert(e){const t=this.$vApp.$el.querySelector(".screen-reader-alert");t.childNodes.length>0&&(t.innerHTML="");const n=document.createElement("span");n.setAttribute("role","alert");const r=document.createTextNode(e);n.appendChild(r),t.insertBefore(n,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const e=tet(this.$vApp.$pinia);!e.started&&this.startRequired?(this.event.emit(v0e.MAP_START),e.started=!0):e.started&&console.warn("start has already been called")}containsValidHtml(e){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(e)}representsObject(e){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(e)}}function blt(e,t){const n=YQe();n.use((({store:e})=>{const t=d5e(e.$state);e.$reset=()=>e.$patch(d5e(t))}));const r=r5e(),i=PQe(Zrt).use(r).use(Vrt,{directive:"tippy",component:"tippy"}).use(n);i.directive("focus-container",yit),i.directive("focus-list",iit),i.directive("focus-item",lit),i.directive("truncate",Fst),i.component("panel-screen",qst),i.component("pin",Jst),i.component("close",eat),i.component("back",rat),i.component("expand",lat),i.component("panel-options-menu",bat),i.component("dropdown-menu",X9e),i.component("minimize",hat),i.component("right",fat),i.component("left",gat),i.component("fullscreen-nav-button",xat),i.component("geolocator-nav-button",Sat),i.component("home-nav-button",Tat),i.component("mapnav-button",Aat),i.component("appbar-button",kat),i.component("transition",qJe),i.component("transition-group",nQe),i.config.globalProperties.$iApi=t,i.config.globalProperties.$pinia=n,i.provide("iApi",t);const o=i.mount(e);return{element:i,app:o,i18n:r.global}}class wlt{esriBasemap;config;constructor(e){this.config=e,this.esriBasemap=new Pm({baseLayers:e.layers.map((e=>{if(e.layerType===h.TILE)return new Vle({url:e.url,opacity:e.opacity});if(e.layerType===h.MAPIMAGE)return new lle({url:e.url,opacity:e.opacity});if(e.layerType===h.OSM)return new Ele({opacity:e.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${e.layerType}`)})),title:e.name||"",id:e.id})}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(e){this.config.name=e||""}get description(){return this.config.description}set description(e){this.config.description=e||""}get altText(){return this.config.altText}set altText(e){this.config.altText=e||""}get attribution(){return this.config.attribution}set attribution(e){this.config.attribution=e}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class _lt extends AGe{esriMap;_basemapStore;created=!1;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(e){super(e),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new iNe,this.handlers=[],this.pointZoomScale=5e4}noMapErr(){console.error("Attempted to manipulate the map before calling createMap()")}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};createMap(e,t){this._basemapStore=e.basemaps.map((e=>{const t=new wlt(e);return t.esriBasemap.baseLayers.forEach((e=>{e.watch("loadStatus",(()=>{"loaded"===e.loadStatus?this.trackFirstBasemap=!1:"failed"===e.loadStatus&&(this.$iApi.notify.show(n7e.ERROR,this.$iApi.$i18n.t("layer.error",{id:t.name})),this.trackFirstBasemap&&this.recoverBasemap(t.tileSchemaId))}))})),t})),e.labelsDefault&&(this.labelsDefault.visible=e.labelsDefault.visible);const n={};this.esriMap=pHe(new cue(n)),this.pointZoomScale=e.pointZoomScale&&e.pointZoomScale>0?e.pointZoomScale:5e4,this._targetDiv=t,this.createMapView(e.initialBasemapId)}destroyMap(){this.esriMap&&this.esriView?(this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach((e=>e.esriBasemap.destroy())),this._basemapStore=[]):this.noMapErr()}reloadMap(e,t){this.esriMap&&this.esriView?(this.destroyMap(),this.createMap(e,t)):this.noMapErr()}createMapView(e){this.abstractError()}destroyMapView(){this.esriView?(this._viewPromise=new iNe,this.created=!1,this.handlers.forEach((e=>e.handler.remove())),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView):this.noMapErr()}findBasemap(e){const t=this._basemapStore.find((t=>t.id===e));if(t)return t;throw new Error(`Invalid basemap id requested: ${e}`)}applyBasemap(e){if(!this.esriMap)return void this.noMapErr();const t="string"==typeof e?this.findBasemap(e):e;this.esriMap.basemap=hHe(t.esriBasemap)}setBasemap(e){return this.abstractError(),!1}recoverBasemap(e){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap.id;this.noMapErr()}geomToMapSR(e){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(e.sr)?Promise.resolve(e):this.$iApi.geo.proj.projectGeometry(this._rampSR,e)}async zoomMapTo(e,t,n=!0,r=200,i="ease"){if(this.esriView){if(e.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(e),s={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===c.POINT&&(s.scale=t||this.pointZoomScale);const a={animate:n,duration:r,easing:i};return this.viewPromise.then((()=>this.esriView.goTo(s,a)))}this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?qLe.fromESRI(this.esriView.extent):(this.noMapErr(),qLe.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),rNe.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),DLe.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(e){return e>0?(this.pointZoomScale=e,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${e}.`),!1)}}class xlt extends AGe{maptipStore;constructor(e){super(e),this.maptipStore=f5e(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(e){this.#t=e;const t=await this.$iApi.geo.map.getGraphicAtCoord(e);if(this.#t!==e)return;if(!t)return void this.clear();const n=this.$iApi.geo.layer.getLayer(t.layerId);if(n?.geomType!=c.POLYGON&&this.#e&&this.#e.layerId===t.layerId&&this.#e.oid===t.oid&&this.#e.layerIdx===t.layerIdx)return;if(this.clear(),this.#e=t,!n)return void console.error(`graphic hit test returned non-existent layer id: ${t.layerId}`);if(!n.hovertips)return;const r=await n.getIcon(t.oid),i=await n.getGraphic(t.oid,{getAttribs:!0});this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(e)),this.$iApi.event.emit(v0e.MAP_GRAPHICHIT,{layer:n,graphicHit:t,attributes:i.attributes,icon:r,screenPoint:e})}generateDefaultMaptip(e){this.setContent(`<div class="flex items-center space-x-5"><span>${e.icon}</span><span class="line-clamp-3">${e.attributes[e.layer.config.tooltipField||e.layer.nameField]}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(e){this.maptipStore.setMaptipPoint(e)}setContent(e){this.maptipStore.setMaptipContent(e)}}class Slt extends AGe{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(e){super(e),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(e){if(!e)return;const t=p0e(this.$vApp.$pinia);if(t.coords.disabled=!1,t.scale.disabled=!1,t.scale.isImperialScale=!1,e.mapCoords)if(e.mapCoords.disabled)t.coords.disabled=!0;else{const t=e.mapCoords.formatter;void 0!==t&&this.setPointFormatter(t)}if(e.scaleBar)if(e.scaleBar.disabled)t.scale.disabled=!0;else{const n=e.scaleBar.imperialScale;void 0!==n&&(t.toggleScale(n),this.$iApi.geo.map.viewPromise.then((()=>{this.updateScale()})))}t.langtoggle={disabled:e?.langToggle?.disabled??!1}}updateAttribution(e){const t={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},n={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},r={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(e?(e.logo?e.logo.disabled?r.logo.disabled=!0:(r.logo.altText=e.logo.altText||n.altText,r.logo.link=e.logo.link||n.link,r.logo.value=e.logo.value||n.value):(r.logo.altText=n.altText,r.logo.link=n.link,r.logo.value=n.value),e.text?e.text.disabled?r.text.disabled=!0:r.text.value=e.text.value||t.value:r.text.value=t.value,p0e(this.$vApp.$pinia).setAttribution(r)):(r.logo.altText=n.altText,r.logo.link=n.link,r.logo.value=n.value,r.text.value=t.value),!e||e.text?.disabled||!e.text){if(!this.$iApi.geo.map.esriMap)return void console.warn("Attempted to fetch map attribution with undefined map");let e="";const n=5e3,i=20,o=this.$iApi.geo.map.esriMap.basemap.baseLayers.map((e=>new Promise((t=>{let r=0;const o=n/i,s=setInterval((function(){e.loaded&&!e.loadError?(clearInterval(s),t(e)):r>o&&(clearInterval(s),t(null)),r++}),i)})))).toArray();Promise.all(o).then((n=>{e=n.filter((e=>e?.copyright)).map((e=>e.copyright)).join(" | "),r.text.value=e||r.text.value||t.value,p0e(this.$vApp.$pinia).setAttribution(r)}))}}updateScale(){const e=p0e(this.$vApp.$pinia),t=e.scale;if(t?.disabled)return;const n=t?.isImperialScale||!1,r=this.scaleHelper().find((e=>e.isImperialScale===n))??{isImperialScale:!1,units:"error",pixels:1,distance:1};e.scale={width:`${r.pixels}px`,label:`${this.$iApi.$i18n.n(r.distance,"number")}${r.units}`,isImperialScale:n}}async formatPoint(e){return e?await this.pointFormatter(e):""}setPointFormatter(e){if("string"==typeof e){if(!(e in this.DEFAULT_POINT_FORMATTERS))return void console.warn(`Could not find point formatter with id: ${e}`);this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[e]}else this.pointFormatter=e}scaleHelper(){const e=window.innerWidth>600?70:35,t=this.$iApi.geo.map.getResolution(),n=[],r=t*e,i=1609.34,o=3.28084,s=r>1e3?["km","mi"]:["m","ft"];for(let a=0;a<2;a++){const l=1===a;if(n.push({isImperialScale:l,units:s[a],pixels:0,distance:0}),r>1e3){const r=t*e/(l?i:1e3),o=Math.round(r).toString().length,s=Math.pow(10,o-1);n[a].distance=Math.ceil(r/s)*s,n[a].pixels=n[a].distance*(l?i:1e3)/t}else n[a].distance=Math.ceil(l?r*o:r),n[a].pixels=r/t}return n}wrapValue(e,t,n){return((e-t)%(n-t)+(n-t))%(n-t)+t}async formatLatLongDMS(e){const t=await this.$iApi.geo.proj.projectGeometry(4326,e),n=this.wrapValue(t.y,-90,90),r=this.wrapValue(t.x,-180,180),i="°",o=Math.floor(Math.abs(n))*(n<0?-1:1),s=Math.floor(Math.abs(60*(n-o))),a=Math.floor(3600*(Math.abs(n)-Math.abs(o)-s/60)),l=Math.floor(Math.abs(r))*(r<0?-1:1),c=Math.floor(Math.abs(60*(r-l))),u=Math.floor(3600*(Math.abs(r)-Math.abs(l)-c/60));return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${i} ${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(n>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${i} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(u,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDDM(e){const t=await this.$iApi.geo.proj.projectGeometry(4326,e),n=this.wrapValue(t.y,-90,90),r=this.wrapValue(t.x,-180,180),i="°",o=Math.floor(Math.abs(n))*(n<0?-1:1),s=Math.abs(60*(n-o)),a=Math.floor(Math.abs(r))*(r<0?-1:1),l=Math.abs(60*(r-a));return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${i} ${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(n>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(a),"number")}${i} ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDD(e){const t=await this.$iApi.geo.proj.projectGeometry(4326,e),n=this.wrapValue(t.y,-90,90),r=this.wrapValue(t.x,-180,180),i="°",o=Math.abs(n),s=Math.abs(r);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${i} ${this.$iApi.$i18n.t("map.coordinates."+(n>0?"north":"south"))} | ${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${i} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatMercator(e){const t=await this.$iApi.geo.proj.projectGeometry(102100,e);return`${this.$iApi.$i18n.n(Math.floor(t.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(t.y),"number")} m`}async formatLambert(e){const t=await this.$iApi.geo.proj.projectGeometry(3978,e);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(t.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>t.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(t.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(t.y>0?"north":"south"))}`}async formatUTM(e){const t=await this.$iApi.geo.proj.projectGeometry(4326,e),n=this.wrapValue(t.y,-90,90),r=this.wrapValue(t.x,-180,180),i=Math.ceil((r+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+i),e);return`${this.$iApi.$i18n.n(i,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(n>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(e){const t=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),e);return`${this.$iApi.$i18n.n(t.x,"number")} | ${this.$iApi.$i18n.n(t.y,"number")}`}}class Tlt extends _lt{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:0,load:0,fail:0};constructor(e){super(e),this.maptip=new xlt(e),this.caption=new Slt(e),this.mapMouseThrottle=0}createMap(e,t){this.setMapMouseThrottle(e.mapMouseThrottle??0),this.trackFirstBasemap=!0,super.createMap(e,t),this.layerDefaultTimes.draw=e.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=e.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=e.layerTimeDefault?.maxLoadTime||9e4,this.viewPromise.then((()=>{this.$iApi.event.emit(v0e.MAP_CREATED)}))}destroyMap(){this.esriMap&&this.esriView?(this.$iApi.geo.layer.allLayersOnMap(!1).map((e=>e.uid)).forEach((e=>this.removeLayer(e))),super.destroyMap(),this.$iApi.event.emit(v0e.MAP_DESTROYED)):this.noMapErr()}createMapView(e){const t=m0e(this.$vApp.$pinia).config.map;if(!t)throw new Error("Attempted to create map view without a map config");const n=("string"==typeof e?this.findBasemap(e):e)||this.findBasemap(t.initialBasemapId),r=t.tileSchemas.find((e=>e.id===n.tileSchemaId));if(!r)throw new Error(`Could not find tile schema for the given basemap id: ${n.id}`);const i=t.extentSets.find((e=>e.id===r.extentSetId));if(!i)throw new Error(`Could not find extent set with the given id: ${r.extentSetId}`);this._rampExtentSet=rNe.fromConfig(i),this._rampSR=this._rampExtentSet.sr.clone();const o=t.lodSets.find((e=>e.id===r.lodSetId));if(!o)throw new Error(`Could not find lod set with the given id: ${r.lodSetId}`);this.esriView=pHe(new PLe({map:this.esriMap,container:this._targetDiv,constraints:{lods:o.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:n.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:this.esriView.watch("extent",(e=>{if(e){const t=this.$iApi.geo.geom.geomEsriToRamp(e,"map_extent_event");this.$iApi.event.emit(v0e.MAP_EXTENTCHANGE,t),this.$iApi.event.emit(v0e.FILTER_CHANGE,{extent:t,filterKey:w.EXTENT})}}))}),this.handlers.push({type:"scale",handler:this.esriView.watch("scale",(e=>{this.$iApi.event.emit(v0e.MAP_SCALECHANGE,e)}))}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",(e=>{this.$iApi.event.emit(v0e.MAP_RESIZED,{height:e.height,width:e.width})}))}),this.handlers.push({type:"click",handler:this.esriView.on("click",(e=>{this.$iApi.event.emit(v0e.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(e,"map_click_point"))}))}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",(e=>{this.$iApi.event.emit(v0e.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(e,"map_doubleclick_point"))}))}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",h0e(100,!0,(e=>{this.$iApi.event.emit(v0e.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(e))})))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",h0e(100,(e=>{this.$iApi.event.emit(v0e.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(e))})))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",(e=>{setTimeout((()=>{this.$iApi.event.emit(v0e.MAP_MOUSELEAVE,e.native)}),Math.max(this.mapMouseThrottle,100)+1)}))}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",(e=>{this.$iApi.event.emit(v0e.MAP_MOUSEDOWN,e.native)}))}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",(e=>{this.$iApi.event.emit(v0e.MAP_KEYDOWN,e.native),e.stopPropagation()}))}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",(e=>{this.$iApi.event.emit(v0e.MAP_KEYUP,e.native),e.stopPropagation()}))}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",(e=>{this.$iApi.event.emit(v0e.MAP_FOCUS,e.native)}))}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",(e=>{this.$iApi.event.emit(v0e.MAP_BLUR,e.native)}))}),this.esriView.container.addEventListener("touchmove",(e=>{e.preventDefault()})),this.esriView.watch("fatalError",(()=>{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),e.disconnect())}))}));e.observe(this.esriView.container)})),this.esriView.when((()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(n),r.recoveryBasemap?.basemapId){const e=r.recoveryBasemap.timeout??8e3;e>0&&setTimeout((()=>{this.trackFirstBasemap&&this.recoverBasemap(r.id)}),e)}}))}destroyMapView(){this.esriView?.container.removeEventListener("touchmove",(e=>{e.preventDefault()})),super.destroyMapView()}applyBasemap(e){if(!this.esriMap)return void this.noMapErr();const t="string"==typeof e?this.findBasemap(e):e;this.esriMap.basemap=hHe(t.esriBasemap);const n=m0e(this.$vApp.$pinia);n.activeBasemapConfig=t.config}setBasemap(e){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const t=m0e(this.$vApp.$pinia),n=this.findBasemap(e),r=t.activeBasemapConfig.tileSchemaId!==n.tileSchemaId;if(r){const t=this.getExtent().center(),i=this.getScale();this._viewPromise=new iNe,this.created=!1,this.$iApi.event.emit(v0e.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(n),this.viewPromise.then((()=>{this.$iApi.event.emit(v0e.MAP_REFRESH_END),this.$iApi.event.emit(v0e.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r});const n=this.findClosestScale(i);this.$iApi.geo.proj.projectGeometry(this._rampSR,t).then((e=>this.zoomMapTo(e,n,!1)))}))}else this.applyBasemap(n),this.esriView.background=new SLe({color:new ZLe(n.backgroundColour).toESRI()}),this.$iApi.event.emit(v0e.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r});return r}recoverBasemap(e){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const t=m0e(this.$vApp.$pinia).config.map;if(t){const n=t.tileSchemas.find((t=>t.id===e));if(n?.recoveryBasemap?.basemapId){const e=this.findBasemap(n.recoveryBasemap.basemapId);this.applyBasemap(e)}}}addLayer(e,t=void 0){return new Promise(((n,r)=>{if(this.esriMap||(this.noMapErr(),r()),e.initiationState!==y.INITIATING&&e.initiationState!==y.INITIATED&&e.layerState!==g.ERROR&&e.initiate(),e.mapLayer&&void 0===t){const n=this.$iApi.geo.layer.layerOrderIds();if(e.isCosmetic)t=n.length;else{const e=this.$iApi.geo.layer.allLayers();let r=!0;for(let i=n.length-1;i>=0&&r;i--){const o=e.find((e=>e.id===n[i]));o&&!o.isCosmetic&&(t=i+1,r=!1)}r&&(t=0)}}f0e(this.$vApp.$pinia).addLayer(e,t),this.$iApi.event.emit(v0e.LAYER_REGISTERED,e);const i=Date.now();let o=0;const s=setInterval((()=>{o+=250,o>=e.expectedTime.fail||e.layerState===g.ERROR?(clearInterval(s),e.lastCancel<i&&console.error(`Failed to add layer: ${e.id}.`),r()):e.initiationState===y.INITIATED&&(e.esriLayer||!e.mapLayer)&&(clearInterval(s),e.mapLayer?this.insertToEsriMap(e):e.onLoad(),n())}),250)}))}insertToEsriMap(e){let t=0;const n=this.$iApi.geo.layer.getLayerPosition(e.id)??-1;if(n>0){const e=this.$iApi.geo.layer.layerOrderIds(),r=this.$iApi.geo.layer.allLayers();for(let i=n-1;i>-1;i--){const n=e[i],o=r.find((e=>e.id===n));if(o&&o.esriLayer){const e=this.esriMap.layers.indexOf(o.esriLayer);if(e>-1){t=e+1;break}}else o||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}n>-1&&this.esriMap?.add(e.esriLayer,t)}reorder(e,t,n=!1){if(t<0)return void console.error("Negative index passed to map reorder");if(!this.esriMap)return void this.noMapErr();if(e.isSublayer&&(e=e.parentLayer),!e.mapLayer)return void console.error("Attempted to reorder a data layer");const r=this.$iApi.geo.layer.allLayers();let i=this.$iApi.geo.layer.layerOrderIds();if(n){if(e.isCosmetic)return;if(t>0){const e=i.filter((e=>{const t=r.find((t=>t.id===e));return t?!t.isCosmetic:(console.error("Layer reorder had critical error"),!1)}));t>=e.length&&(console.error("non-cosmetic reorder index was too high"),t=e.length-1),t=i.indexOf(e[t])}}else t>=i.length&&(console.error("reorder index was too high"),t=i.length-1);const o=i.indexOf(e.id);if(o!==t){if(f0e(this.$vApp.$pinia).reorderLayer(e,t),e.esriLayer&&this.esriMap.layers.indexOf(e.esriLayer)>-1){let n=0;if(t>0){i=this.$iApi.geo.layer.layerOrderIds();for(let e=t-1;e>-1;e--){const s=i[e],a=r.find((e=>e.id===s));if(a&&a.esriLayer){const e=this.esriMap.layers.indexOf(a.esriLayer);if(e>-1){const r=t<o?1:0;n=e+r;break}}else a||console.error("Layer reorder had critical error")}}this.esriMap.reorder(e.esriLayer,n)}this.$iApi.event.emit(v0e.MAP_REORDER,{layer:e,newIndex:t})}}removeSublayer(e){let t,n;if("string"==typeof e)t=e,n=this.$iApi.geo.layer.getLayer(t);else{if(!e.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${e}`);t=e.uid,n=e}if(!n)throw new Error("Sublayer could not be found for removal.");n.visibility=!1,n.isRemoved=!0,this.$iApi.event.emit(v0e.LAYER_REMOVE,e),n.parentLayer?.sublayers.every((e=>e.isRemoved))&&this.removeLayer(n.parentLayer)}removeLayer(e){if(!this.esriMap)return void this.noMapErr();let t;if(t=e instanceof yct?e:this.$iApi.geo.layer.getLayer(e),!t)throw new Error("Layer could not be found for removal.");if(t.isSublayer)return void this.removeSublayer(t);t.supportsSublayers&&t.sublayers.forEach((e=>{e.isRemoved||this.removeSublayer(e)}));const n=f0e(this.$vApp.$pinia);n.removeLayer(t),n.removeLayerConfig(t.id),t.removeEsriLayer(),t.initiationState===y.INITIATED&&t.terminate(),t.isRemoved=!0,this.$iApi.event.emit(v0e.LAYER_REMOVE,t)}setMapMouseThrottle(e){if(e<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=e;const t=this.handlers.findIndex((e=>"pointer-move"===e.type));if(-1!==t){const e=this.handlers[t];this.handlers.splice(t,1),e.handler.remove()}return-1!==t&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(this.esriView)return u0e(this.mapMouseThrottle,(e=>{this.$iApi.event.emit(v0e.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(e))}));this.noMapErr()}async zoomToLevel(e){if(this.esriView)return this.esriView.goTo({zoom:e});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(e){if(!this.esriView)return void this.noMapErr();const t=e.isOffScale(this.getScale());if(!t.offScale)return;const n=this.esriView.constraints.lods;if(!n)return this.zoomMapTo(this.getExtent().center(),(t.zoomIn,e.minScale));const r=t.zoomIn?n:[...n].reverse(),i=r.find((n=>t.zoomIn?n.scale<e.minScale:n.scale>e.maxScale))||r[r.length-1];return this.zoomToLevel(i.level)}findClosestScale(e){const t=this.esriView?.constraints.lods;if(!t)return e;const n=t.map((t=>Math.abs(t.scale-e))),r=n.indexOf(Math.min(...n));return t[r].scale}async takeScreenshot(e){if(this.esriView)return e.quality||(e.quality=1),e.format||(e.format="png"),this.esriView.takeScreenshot(e);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(e){return this.esriView?ULe.fromESRI(this.esriView.toMap({x:e.screenX,y:e.screenY}),"mappoint"):(this.noMapErr(),new ULe("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(e){if(this.esriView){const t=this.esriView.toScreen(e.toESRI());return{screenX:t.x,screenY:t.y}}return this.noMapErr(),{screenX:1,screenY:1}}runIdentify(e){const t=this.$iApi.geo.layer.allLayersOnMap(!1).filter((e=>e.canIdentify()));let n;if(e instanceof ULe){const t=this.mapPointToScreenPoint(e);n={mapPoint:e,screenX:t.screenX,screenY:t.screenY,button:0,input:"mouse",clickTime:Date.now()}}else n=e;if(void 0===t)return{click:n,results:[]};let r=Promise.resolve([]);t.some((e=>e.identifyMode===m.HYBRID||e.identifyMode===m.SYMBOLIC))&&(r=this.esriView.hitTest({x:n.screenX,y:n.screenY}).then((e=>e.results.map((e=>({layerId:e.layer.id,layerIdx:0,oid:e.graphic.getObjectId()}))))));const i={geometry:n.mapPoint,hitTest:r},o=t.filter((e=>e.supportsIdentify)).map((e=>(i.tolerance="touch"==n.input?e.touchTolerance:e.mouseTolerance,e.runIdentify(i)))).flat(),s=Date.now();o.forEach((e=>{e.requestTime=s}));const a={results:o,click:n};return this.$iApi.event.emit(v0e.MAP_IDENTIFY,a),a}async getGraphicAtCoord(e){if(!this.esriView)return void this.noMapErr();const t=this.$iApi.geo.layer.allLayersOnMap(!1).filter((e=>e.supportsFeatures||e.layerType===h.GRAPHIC));if(0===t.length)return;const n=await this.esriView.hitTest({x:e.screenX,y:e.screenY});if(0===n.results.length)return;const r=n.results;let i,o;const s=new Set;return r.some((e=>{if(s.has(e.layer.id))return!1;const n=t.find((t=>t.id===e.layer.id));return n?(!n.isCosmetic&&n.layerType!==h.GRAPHIC&&(i=n,o=e.graphic),!0):(s.add(e.layer.id),!1)})),i&&o?{oid:o.getObjectId(),layerId:i.id,layerIdx:i.layerIdx}:void 0}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(e){const t=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this._activeKeys.some((e=>t.includes(e)))||this.keyPan()):t.includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this.keyZoom(e)):"Enter"===e.key?this.runIdentify(this.getExtent().center()):"Tab"===e.key&&this._activeKeys.push(e.key)}mapKeyUp(e){const t=["=","-"];this._activeKeys.includes(e.key)&&!t.includes(e.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this._activeKeys.some((e=>t.includes(e)))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return 0!==this._activeKeys.filter((e=>!["Control","Shift"].includes(e))).length}get mouseFocus(){return this._mouseFocus}async keyZoom(e){clearInterval(this._panInterval),"="===e.key?await this.zoomIn():"-"===e.key&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const e=this.getExtent().center(),t=this.mapPointToScreenPoint(e),n=this.screenPointToMapPoint({screenX:t.screenX+5,screenY:t.screenY+5}),r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y);let o=0,s=0,a=1;for(let c=0;c<this._activeKeys.length;++c)switch(this._activeKeys[c]){case"ArrowLeft":o-=r;break;case"ArrowRight":o+=r;break;case"ArrowUp":s+=i;break;case"ArrowDown":s-=i;break;case"Shift":a=2;break;case"Control":a=.25;break}const l=this.getScale();this._panInterval=setInterval((()=>{e.x+=a*o,e.y+=a*s,this.zoomMapTo(e,l,!1)}),25)}}const Elt={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},Mlt={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},Alt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},Ilt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},Clt={circlePoint:Elt,solidLine:Mlt,outlinedPoly:Alt,boundingBoxPoly:Ilt};var Olt,klt={exports:{}},Rlt=klt.exports;function Llt(){return Olt||(Olt=1,function(e){(function(t,n){if(e.exports=n(vNe()),"object"==typeof t.navigator){if(!t.Terraformer)throw new Error("Terraformer.ArcGIS requires the core Terraformer library. https://github.com/esri/Terraformer");t.Terraformer.ArcGIS=n(t.Terraformer)}})(Rlt,(function(e){var t={};function n(e){var t,n,r,i,o=0,s=0,a=[];r=e.match(/((\+|\-)[^\+\-]+)/g),i=parseInt(r[0],32);for(var l=1;l<r.length;l+=2)t=parseInt(r[l],32)+o,o=t,n=parseInt(r[l+1],32)+s,s=n,a.push([t/i,n/i]);return a}function r(e){return i(e[0],e[e.length-1])||e.push(e[0]),e}function i(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(e){var t,n=0,r=0,i=e.length,o=e[r];for(r;r<i-1;r++)t=e[r+1],n+=(t[0]-o[0])*(t[1]+o[1]),o=t;return n>=0}function a(e){var t=[],n=e.slice(0),i=r(n.shift().slice(0));if(i.length>=4){s(i)||i.reverse(),t.push(i);for(var o=0;o<n.length;o++){var a=r(n[o].slice(0));a.length>=4&&(s(a)&&a.reverse(),t.push(a))}}return t}function l(e){for(var t=[],n=0;n<e.length;n++)for(var r=a(e[n]),i=r.length-1;i>=0;i--){var o=r[i].slice(0);t.push(o)}return t}function c(t,n){var r=e.Tools.arraysIntersectArrays(t,n),i=e.Tools.coordinatesContainPoint(t,n[0]);return!(r||!i)}function u(t){for(var n,i,o,a=[],l=[],u=0;u<t.length;u++){var h=r(t[u].slice(0));if(!(h.length<4))if(s(h)){var p=[h.slice().reverse()];a.push(p)}else l.push(h.slice().reverse())}for(var d=[];l.length;){o=l.pop();var f=!1;for(n=a.length-1;n>=0;n--)if(i=a[n][0],c(i,o)){a[n].push(o),f=!0;break}f||d.push(o)}for(;d.length;){o=d.pop();var m=!1;for(n=a.length-1;n>=0;n--)if(i=a[n][0],e.Tools.arraysIntersectArrays(i,o)){a[n].push(o),m=!0;break}m||a.push([o.reverse()])}return 1===a.length?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}function h(t,r){var i={};return r=r||{},r.idAttribute=r.idAttribute||void 0,t.spatialReference&&(3857===t.spatialReference.wkid||102100===t.spatialReference.wkid)&&(i.crs=e.MercatorCRS),"number"==typeof t.x&&"number"==typeof t.y&&(i.type="Point",i.coordinates=[t.x,t.y],(t.z||t.m)&&i.coordinates.push(t.z),t.m&&i.coordinates.push(t.m)),t.points&&(i.type="MultiPoint",i.coordinates=t.points.slice(0)),t.paths&&(1===t.paths.length?(i.type="LineString",i.coordinates=t.paths[0].slice(0)):(i.type="MultiLineString",i.coordinates=t.paths.slice(0))),t.rings&&(i=u(t.rings.slice(0))),"number"==typeof t.xmin&&"number"==typeof t.ymin&&"number"==typeof t.xmax&&"number"==typeof t.ymax&&(i.type="Polygon",i.coordinates=[[[t.xmax,t.ymax],[t.xmin,t.ymax],[t.xmin,t.ymin],[t.xmax,t.ymin],[t.xmax,t.ymax]]]),(t.compressedGeometry||t.geometry||t.attributes)&&(i.type="Feature",t.compressedGeometry&&(t.geometry={paths:[n(t.compressedGeometry)]}),i.geometry=t.geometry?h(t.geometry):null,i.properties=t.attributes?o(t.attributes):null,t.attributes&&(i.id=t.attributes[r.idAttribute]||t.attributes.OBJECTID||t.attributes.FID)),new e.Primitive(i)}function p(e,t){var n;t=t||{};var r=t.idAttribute||"OBJECTID";n=t.sr?{wkid:t.sr}:e&&e.crs&&"urn:ogc:def:crs:OGC:1.3:CRS84"!=e.crs.properties.name?null:{wkid:4326};var i,s={};switch(e.type){case"Point":s.x=e.coordinates[0],s.y=e.coordinates[1],e.coordinates[2]&&(s.z=e.coordinates[2]),e.coordinates[3]&&(s.m=e.coordinates[3]),s.spatialReference=n;break;case"MultiPoint":s.points=e.coordinates.slice(0),s.spatialReference=n;break;case"LineString":s.paths=[e.coordinates.slice(0)],s.spatialReference=n;break;case"MultiLineString":s.paths=e.coordinates.slice(0),s.spatialReference=n;break;case"Polygon":s.rings=a(e.coordinates.slice(0)),s.spatialReference=n;break;case"MultiPolygon":s.rings=l(e.coordinates.slice(0)),s.spatialReference=n;break;case"Feature":e.geometry&&(s.geometry=p(e.geometry,t)),s.attributes=e.properties?o(e.properties):{},e.id&&(s.attributes[r]=e.id);break;case"FeatureCollection":for(s=[],i=0;i<e.features.length;i++)s.push(p(e.features[i],t));break;case"GeometryCollection":for(s=[],i=0;i<e.geometries.length;i++)s.push(p(e.geometries[i],t));break}return s}function d(t){return new e.LineString(n(t))}return t.parse=h,t.convert=p,t.toGeoJSON=h,t.fromGeoJSON=p,t.parseCompressedGeometry=d,t}))}(klt)),klt.exports}var Nlt=Llt();const Plt=lNe(Nlt);function Dlt(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}function Flt(e,t){var n=Dlt(e);return function(r,i){return t(n(r),i,e)}}function jlt(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function Ult(e){var t=new RegExp('["'+e+"\n]"),n=e.charCodeAt(0);function r(e,t){var n,r,o=i(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?Flt(e,t):Dlt(e)}));return o.columns=r,o}function i(e,t){var r,i,o={},s={},a=[],l=e.length,c=0,u=0;function h(){if(c>=l)return s;if(i)return i=!1,o;var t,r=c;if(34===e.charCodeAt(r)){for(var a=r;a++<l;)if(34===e.charCodeAt(a)){if(34!==e.charCodeAt(a+1))break;++a}return c=a+2,t=e.charCodeAt(a+1),13===t?(i=!0,10===e.charCodeAt(a+2)&&++c):10===t&&(i=!0),e.slice(r+1,a).replace(/""/g,'"')}for(;c<l;){var u=1;if(t=e.charCodeAt(c++),10===t)i=!0;else if(13===t)i=!0,10===e.charCodeAt(c)&&(++c,++u);else if(t!==n)continue;return e.slice(r,c-u)}return e.slice(r)}for(;(r=h())!==s;){for(var p=[];r!==o&&r!==s;)p.push(r),r=h();t&&null==(p=t(p,u++))||a.push(p)}return a}function o(t,n){return null==n&&(n=jlt(t)),[n.map(l).join(e)].concat(t.map((function(t){return n.map((function(e){return l(t[e])})).join(e)}))).join("\n")}function s(e){return e.map(a).join("\n")}function a(t){return t.map(l).join(e)}function l(e){return null==e?"":t.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}return{parse:r,parseRows:i,format:o,formatRows:s}}var zlt=Ult(","),Glt=zlt.parse,Vlt=zlt.parseRows,Blt=zlt.format,$lt=zlt.formatRows,Hlt=Ult("\t"),Wlt=Hlt.parse,qlt=Hlt.parseRows,Zlt=Hlt.format,Ylt=Hlt.formatRows;const Xlt=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:Blt,csvFormatRows:$lt,csvParse:Glt,csvParseRows:Vlt,dsvFormat:Ult,tsvFormat:Zlt,tsvFormatRows:Ylt,tsvParse:Wlt,tsvParseRows:qlt},Symbol.toStringTag,{value:"Module"})),Jlt=cNe(Xlt);var Klt,Qlt,ect,tct={exports:{}};function nct(){if(Klt)return tct.exports;function e(e,t){var n=i(e,t);return null===n?null:n.val}function t(e){return n(e.lat,"lat")+" "+n(e.lon,"lon")}function n(e,t){var n=r(e,t);return n.whole+"° "+(n.minutes?n.minutes+"' ":"")+(n.seconds?n.seconds+'" ':"")+n.dir}function r(e,t){var n={lat:["N","S"],lon:["E","W"]}[t]||"",r=n[e>=0?0:1],i=Math.abs(e),o=Math.floor(i),s=i-o,a=60*s,l=Math.floor(a),c=Math.floor(60*(a-l));return{whole:o,minutes:l,seconds:c,dir:r}}function i(e,t){if(t||(t="NSEW"),"string"!=typeof e)return null;e=e.toUpperCase();var n=/^[\s\,]*([NSEW])?\s*([\-|—|―]?[0-9.]+)[°º˚]?\s*(?:([0-9.]+)['’′‘]\s*)?(?:([0-9.]+)(?:''|"|”|″)\s*)?([NSEW])?/,r=e.match(n);if(!r)return null;var i,o=r[0];if(r[1]&&r[5]?(i=r[1],o=o.slice(0,-1)):i=r[1]||r[5],i&&-1===t.indexOf(i))return null;var s=r[2]?parseFloat(r[2]):0,a=r[3]?parseFloat(r[3])/60:0,l=r[4]?parseFloat(r[4])/3600:0,c=s<0?-1:1;return("S"===i||"W"===i)&&(c*=-1),{val:(Math.abs(s)+a+l)*c,dim:i,matched:o,remain:e.slice(o.length)}}function o(e,t){e=e.trim();var n=i(e,t);if(!n)return null;e=n.remain.trim();var r=i(e,t);return!r||r.remain?null:n.dim?s(n.val,r.val,n.dim):[n.val,r.val]}function s(e,t,n){return"N"===n||"S"===n?[e,t]:"W"===n||"E"===n?[t,e]:void 0}return Klt=1,tct.exports=e,tct.exports.pair=o,tct.exports.format=n,tct.exports.formatPair=t,tct.exports.coordToDMS=r,tct.exports}function rct(){if(ect)return Qlt;ect=1;var e=Jlt,t=nct(),n=/(Lat)(itude)?/gi,r=/(L)(on|ng)(gitude)?/i;function i(e,t){var n,r,i;for(var o in e)r=o.match(t),r&&(!n||r[0].length/o.length>i)&&(i=r[0].length/o.length,n=o);return n}function o(e){return i(e,n)}function s(e){return i(e,r)}function a(e){return!!e.match(n)}function l(e){return!!e.match(r)}function c(e){return"object"==typeof e?Object.keys(e).length:0}function u(t){var n=[",",";","\t","|"],r=[];return n.forEach((function(n){var i=e.dsvFormat(n).parse(t);if(i.length>=1){for(var o=c(i[0]),s=0;s<i.length;s++)if(c(i[s])!==o)return;r.push({delimiter:n,arity:Object.keys(i[0]).length})}})),r.length?r.sort((function(e,t){return t.arity-e.arity}))[0].delimiter:null}function h(e){return delete e.columns,e}function p(t){var n=u(t);return n?h(e.dsvFormat(n).parse(t)):null}function d(n,r,i){i||(i=r,r={}),r.delimiter=r.delimiter||",";var a=r.latfield||"",l=r.lonfield||"",c=r.crs||"",h=[],p={type:"FeatureCollection",features:h};if(""!==c&&(p.crs={type:"name",properties:{name:c}}),"auto"!==r.delimiter||"string"!=typeof n||(r.delimiter=u(n),r.delimiter)){var d=r.numericFields?r.numericFields.split(","):null,f="string"==typeof n?e.dsvFormat(r.delimiter).parse(n,(function(e){if(d)for(var t in e)d.includes(t)&&(e[t]=+e[t]);return e})):n;if(f.length){var m,y=[];a||(a=o(f[0])),l||(l=s(f[0]));var g=!a||!l;if(g){for(m=0;m<f.length;m++)h.push({type:"Feature",properties:f[m],geometry:null});i(y.length?y:null,p)}else{for(m=0;m<f.length;m++)if(void 0!==f[m][l]&&void 0!==f[m][a]){var v,b,w,_=f[m][l],x=f[m][a];w=t(_,"EW"),w&&(_=w),w=t(x,"NS"),w&&(x=w),v=parseFloat(_),b=parseFloat(x),isNaN(v)||isNaN(b)?y.push({message:"A row contained an invalid value for latitude or longitude",row:f[m],index:m}):(r.includeLatLon||(delete f[m][l],delete f[m][a]),h.push({type:"Feature",properties:f[m],geometry:{type:"Point",coordinates:[parseFloat(v),parseFloat(b)]}}))}i(y.length?y:null,p)}}else i(null,p)}else i({type:"Error",message:"Could not autodetect delimiter"})}function f(e){for(var t=e.features,n={type:"Feature",geometry:{type:"LineString",coordinates:[]}},r=0;r<t.length;r++)n.geometry.coordinates.push(t[r].geometry.coordinates);return n.properties=t.reduce((function(e,t){for(var n in t.properties)e[n]||(e[n]=[]),e[n].push(t.properties[n]);return e}),{}),{type:"FeatureCollection",features:[n]}}function m(e){for(var t=e.features,n={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},r=0;r<t.length;r++)n.geometry.coordinates[0].push(t[r].geometry.coordinates);return n.properties=t.reduce((function(e,t){for(var n in t.properties)e[n]||(e[n]=[]),e[n].push(t.properties[n]);return e}),{}),{type:"FeatureCollection",features:[n]}}return Qlt={isLon:l,isLat:a,guessLatHeader:o,guessLonHeader:s,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:p,csv2geojson:d,toLine:f,toPolygon:m},Qlt}var ict=rct();const oct={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function sct(e){if("FeatureCollection"!==e.type)throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,n=!0;for(let r=0;r<e.features.length;r++){const i=e.features[r];Object.assign(i.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in i&&typeof i.id<"u"&&(i.properties.ID_FILE=i.id,t=!1),"OBJECTID"in i.properties&&(i.properties.OBJECTID_FILE=i.properties.OBJECTID,delete i.properties.OBJECTID,n=!1),i.id=r+1}if(t)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.ID_FILE;if(n)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.OBJECTID_FILE}function act(e,t){const n=e=>e.indexOf(" ")>-1;t.fields?.forEach((r=>{if(r.name&&n(r.name)){const n=r.name;let i,o,s="_";do{i=n.replace(/ /g,s),o=t.fields?.find((e=>e.name===i)),o&&(s+="_")}while(o);r.alias=n,r.name=i;for(let t=0;t<e.features.length;t++){const r=e.features[t];r.properties[i]=r.properties[n],delete r.properties[n]}}}))}function lct(e,t){const n=e.features[t].geometry.geometries;if(1===n.length)e.features[t].geometry={type:n[0].type,coordinates:n[0].coordinates};else{const r=n.map((e=>e.coordinates));e.features[t].geometry={type:`Multi${n[0].type}`,coordinates:r}}}function cct(e){return"MultiLineString"===e?"LineString":"MultiPolygon"===e?"Polygon":e}class uct extends AGe{async fetchFileData(e,t){const n=await Pat.get(e,{responseType:"arrayBuffer"});switch(t){case h.GEOJSON:case h.DATAJSON:return JSON.parse(this.arbToStr(n.data));case h.SHAPEFILE:case h.GEOJSONZIPPED:case h.FLATGEOBUF:case h.FLATGEOBUFZIPPED:return n.data;case h.CSV:case h.DATACSV:return this.arbToStr(n.data);default:console.error(`Unsupported file type passed to fetchFileData- '${t}'`)}}extractGeoJsonFields(e){if(e.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let t="";for(let o=0;o<e.features.length;o++){const n=e.features[o];if("GeometryCollection"===n.geometry.type){const t=n.geometry.geometries;if(void 0===t||0===t.length)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const r=t[0].type;for(let e=0;e<t.length;e++)if(t[e].type!==r)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");lct(e,o)}const r=cct(n.geometry.type);if(""===t)t=r;else if(t!==r)throw new Error("GeoJSON file contains multiple geometry types")}const n=Object.keys(e.features[0].properties).map((e=>({name:e,type:"string"})));let r=0;const i=Object.keys(e.features[0].properties);for(;r<e.features.length;){const t=e.features[r];if(t.properties&&Object.keys(t.properties).filter((e=>i.includes(e))).forEach((e=>{const r=t.properties[e];if(null!=r){const t=n.findIndex((t=>t.name===e));n[t]={name:e,type:this.inferType(r)},i.splice(i.indexOf(e),1)}})),0===i.length)break;r++}return n}extractCsvFields(e,t=","){return ict.dsv.dsvFormat(t).parseRows(e)[0].map((e=>({name:e,type:r.STRING})))}filterCsvLatLonFields(e,t=","){const n=ict.dsv.dsvFormat(t).parseRows(e),r=n[0],i={lat:JSON.parse(JSON.stringify(r)),lon:JSON.parse(JSON.stringify(r))};for(let o=0;o<r.length;o++)for(let e=1;e<n.length;e++){const t=Number(n[e][o]),s=i.lat.indexOf(r[o]),a=i.lon.indexOf(r[o]);if((isNaN(t)||t<-90||t>90)&&-1!==s&&i.lat.splice(s,1),(isNaN(t)||t<-180||t>180)&&-1!==a&&i.lon.splice(a,1),-1===s&&-1===a)break}return i}async geoJsonToEsriJson(e,t){let n,i,o="";const s={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:r.OID}]};sct(e);const a=e.features[0].geometry.type,l=oct[a],c=JSON.parse(JSON.stringify(Clt[l]));if(!t)throw new Error("geoJsonToEsriJson - missing opts arguement");if(t.sourceProjection&&(o=this.$iApi.geo.proj.normalizeProj(t.sourceProjection)),!t.targetSR)throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");n=t.targetSR,i=t.layerId?t.layerId:this.$iApi.geo.shared.generateUUID(),t.colour&&(c.renderer.symbol.color=new ZLe(t.colour).toArcServer()),o||(o=DLe.parseGeoJsonCrs(e.crs)),s.renderer=nV.fromJSON(c.renderer),s.fields=(s.fields||[]).concat(t.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(e).filter((e=>t.fieldMetadata?.fieldInfo?.find((t=>t.name===e.name)))):this.extractGeoJsonFields(e)),t.fieldMetadata?.enforceOrder&&t.fieldMetadata?.fieldInfo&&t.fieldMetadata?.fieldInfo.length>0&&(s.fields=this.$iApi.geo.attributes.orderFields(s.fields,t.fieldMetadata?.fieldInfo)),act(e,s);const u=this.$iApi.geo.proj.normalizeProj(n);if(t){if(t.latField){const e=s.fields.find((e=>e.name===t.latField||e.alias===t.latField));e&&(e.type=r.DOUBLE)}if(t.lonField){const e=s.fields.find((e=>e.name===t.lonField||e.alias===t.lonField));e&&(e.type=r.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([o,n]);const h=DLe.parseSR(n).toESRI();await this.$iApi.geo.proj.projectGeoJson(e,o,u);const p=Plt.convert(e,{sr:8888});s.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const d=s.fields.map((e=>e.name));for(let r=0;r<p.length;r++){const e=p[r];e.geometry.spatialReference=h,e.geometry.type=s.geometryType,Object.keys(e.attributes).forEach((t=>{d.includes(t)?(Array.isArray(e.attributes[t])||"object"==typeof e.attributes[t])&&null!=e.attributes[t]&&(e.attributes[t]=JSON.stringify(e.attributes[t])):delete e.attributes[t]}))}return(t.fieldMetadata?.fieldInfo&&t.fieldMetadata?.fieldInfo.length>0?t.fieldMetadata.fieldInfo.filter((e=>e.trim&&d.includes(e.name))).map((e=>e.name)):[]).forEach((e=>{for(let t=0;t<p.length;t++){const n=p[t].attributes;"string"==typeof n[e]&&(n[e]=n[e].trim())}})),s.source=p,s.spatialReference=h,s.id=i,s}async csvToGeoJson(e,t){const n={latfield:"Lat",lonfield:"Long",delimiter:","};return t&&(t.latfield&&(n.latfield=t.latfield),t.lonfield&&(n.lonfield=t.lonfield),t.delimiter&&(n.delimiter=t.delimiter)),new Promise(((t,r)=>{ict.csv2geojson(e,n,((e,i)=>{e?(console.error("csv conversion error"),console.error(e),r(e)):(i.features.map((e=>{e.properties[n.lonfield]=e.geometry.coordinates[0],e.properties[n.latfield]=e.geometry.coordinates[1]})),t(i))}))}))}async shapefileToGeoJson(e){return(await n.e(4799).then(n.bind(n,54799)).then((e=>e.s))).default(e)}fgbToGeoJson(e,t){return n.e(7143).then(n.bind(n,67143)).then((({geojson:n})=>new Promise((r=>{let i=!1,o=null;const s=n.deserialize(new Uint8Array(e),void 0,(e=>{o=e.crs,i=!0}));let a=0;const l=setInterval((()=>{if(s&&i){let e;clearInterval(l),o&&(o.code&&4326!==o.code&&"EPSG"===o.org?e=new DLe(o.code):o.wkt?e=new DLe(o.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",o)),e&&(s.crs=e.toGeoJSON()),r(s)}else a+=60,a>t&&(clearInterval(l),r({}))}),60)}))))}inferType(e){return"number"==typeof e?r.DOUBLE:r.STRING}rawDataJsonParser(e,t=!1){let n;return n="string"==typeof e?JSON.parse(e):t?structuredClone(e):e,n}async unzipSingleFile(e){const t=await n.e(6844).then(n.bind(n,46844)).then((e=>e.j)),r=await(new t.default).loadAsync(e),i=Object.keys(r.files)[0];if(i&&r.file(i))return await r.file(i).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(e){if(e.rawData&&e.rawData instanceof ArrayBuffer)return e.rawData;if(e.url)return this.$iApi.geo.layer.files.fetchFileData(e.url,e.layerType);throw new Error(`${e.layerType} config contains no url or invalid/missing raw data`)}arbToStr(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}}const hct=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");function pct(e,t){return e.then((function(e){return[null,e]})).catch((function(e){return[e,void 0]}))}class dct extends AGe{async loadWfsData(e,t=-1,n=0,r=1e3,i={type:"FeatureCollection",features:[]},o=!1){let s={offset:n.toString(),limit:r.toString()};-1===t&&(s={resulttype:"hits"});const a=new fNe(e).updateQuery(s),[l,c]=await pct(Pat.get(a));if(!c)return console.error(`WFS data failed to load for ${e}`,l),Promise.reject(l);const u=c.data;if(-1===t)return t=c.data.numberMatched,this.loadWfsData(e,t,n,r,i,o);if(i.features=i.features.concat(u.features),u.features.length<t-n){const e=Math.min(r,t-n-u.features.length);return this.loadWfsData(a,t,u.features.length+n,e,i,o)}return o&&i.features.length>0&&i.features[0].geometry.type===f.POINT&&i.features.forEach((e=>{const t=e.geometry.coordinates;e.properties.rvInternalCoordX=t[0],e.properties.rvInternalCoordY=t[1]})),i}reversedAxisWKIDs(){return hct}parseCapabilities(e){const t=()=>{let t=e;if(-1===e.indexOf("?"))t+="?service=WMS&request=GetCapabilities";else{const n=new fNe(e.toUpperCase());"SERVICE"in n.queryMap||(t+="&service=WMS"),"REQUEST"in n.queryMap||(t+="&request=GetCapabilities")}return Bl(t,{responseType:"xml"}).then((e=>e.data))},r=new Promise((e=>{t().then((t=>e(t))).catch((()=>{console.error("Get capabilities failed; trying the second time;"),e(t())}))})),i=e=>{let t=e.Layer;return t?(Array.isArray(t)||(t=[t]),t.map((e=>{const t=e.Name,n=e.Title;let r=e.Style;const o=[],s={};return r&&(Array.isArray(r)||(r=[r]),r.forEach((e=>{const t=e.Name;if(o.push(t),e.LegendURL){const n=e.LegendURL.OnlineResource["@_xlink:href"];s[t]=n.replaceAll("&amp;","&")}}))),{name:t?.toString()??null,title:n,queryable:"1"===e["@_queryable"],layers:i(e),allStyles:o,styleToURL:s,currentStyle:o[0]}}))):[]},o=e=>{let t=e.Format;return Array.isArray(t)||(t=[t]),t};return n.e(2359).then(n.bind(n,62359)).then((e=>e.f)).then((({XMLParser:e})=>r.then((t=>{if(!t)return[];const n=(new XMLSerializer).serializeToString(t),r={ignoreAttributes:!1},s=new e(r).parse(n);if("ServiceExceptionReport"in s)return console.error(s.ServiceExceptionReport.ServiceException),[];const a=s.WMS_Capabilities.Capability;return{layers:i(a),queryTypes:o(a.Request.GetFeatureInfo)}}))))}}class fct{static makeRawItem(e,t){const n=Promise.resolve();return nHe({format:e,data:t,started:!0,loaded:!0,loading:n,load(){return n}})}static makeOidItem(e,t){const n=new iNe,r={format:b.ESRI,data:void 0,started:!1,loaded:!1,loading:n.getPromise(),async load(){if(!this.started){this.started=!0;const r=await t.getGraphic(e,{getAttribs:!0});this.data=r.attributes,this.loaded=!0,n.resolveMe()}return n.getPromise()}};return nHe(r)}}class mct extends AGe{files;ogc;constructor(e){super(e),this.files=new uct(e),this.ogc=new dct(e)}createLayer(e){let t;switch(e.layerType){case h.FEATURE:t=Cct;break;case h.MAPIMAGE:t=Oct;break;case h.GRAPHIC:t=_ct;break;case h.TILE:t=Nct;break;case h.WFS:t=Dct;break;case h.DATATABLE:t=Uct;break;case h.WMS:t=Pct;break;case h.GEOJSON:t=Sct;break;case h.GEOJSONZIPPED:t=Mct;break;case h.FLATGEOBUFZIPPED:t=Ict;break;case h.CSV:t=Ect;break;case h.DATAJSON:t=jct;break;case h.IMAGERY:t=Lct;break;case h.SHAPEFILE:t=Tct;break;case h.FLATGEOBUF:t=Act;break;case h.OSM:t=Rct;break;default:throw new Error("Unsupported Layer Type "+e.layerType)}return new t(e,this.$iApi)}getLayer(e){return f0e(this.$vApp.$pinia).getLayerByAny(e)}getSublayer(e,t){const n=f0e(this.$vApp.$pinia).getLayerById(e);if(n&&n.supportsSublayers&&t<n.sublayers.length)return n.sublayers[t]}getLayerPosition(e){const t=this.getLayer(e);if(t&&t.mapLayer){const e=t.isSublayer?t.parentLayer.id:t.id,n=this.layerOrderIds().findIndex((t=>t===e));return-1===n?void 0:n}}layerOrderIds(){return f0e(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return f0e(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter((e=>e.layerState!==g.ERROR&&e.initiationState===y.INITIATED))}allLayersOnMap(e=!0){let t=this.allLayers().filter((e=>e.mapLayer&&e.initiationState===y.INITIATED));if(e){const e=this.layerOrderIds(),n=new Map(e.map(((e,t)=>[e,t])));t.sort(((e,t)=>n.get(e.id)-n.get(t.id)))}return t}allDataLayers(){return this.allLayers().filter((e=>!e.mapLayer&&e.initiationState===y.INITIATED))}allErrorLayers(){return this.allLayers().filter((e=>e.layerState===g.ERROR))}allInitiatingLayers(){return this.allLayers().filter((e=>e.initiationState===y.INITIATING))}getLayerControls(e){const t=this.getLayer(e);if(!t)return;const n=t.config.controls?.slice()??[_.BoundaryZoom,_.Datatable,_.Identify,_.Metadata,_.Opacity,_.Refresh,_.Reload,_.Remove,_.Settings,_.Symbology,_.Visibility],r=[];return t.supportsFeatures||r.push(_.Datatable),void 0===t.extent&&r.push(_.BoundaryZoom),(t.config?.metadata||(t.isSublayer?t.parentLayer?.config?.metadata:{})||{}).url||r.push(_.Metadata),!t.mapLayer&&!t.config.controls?.includes(_.Settings)&&r.push(_.Settings),r.forEach((e=>{const t=n?.indexOf(e)??-1;-1!==t&&n?.splice(t,1)})),{controls:n,disabledControls:t.config.disabledControls??[]}}async loadLayerMetadata(e){if(!e.trim())throw new Error("url missing on layer server metadata request.");const[t,n]=await pct(Bl(e,{query:{f:"json"}}));if(!n)throw console.error(`Service metadata load error: ${e}`,t),new Error(`Service metadata load error: ${e}`);if(!n.data)throw console.error(`Service metadata load error: ${e}`),new Error(`Service metadata load error: ${e}`);const r=n.data,i={geometryType:c.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:d.UNKNOWN,mapLayer:!0};if(i.name=r.name||"",i.currentVersion=r.currentVersion||-1,i.minScale=r.effectiveMinScale||r.minScale||0,i.maxScale=r.effectiveMaxScale||r.maxScale||0,i.extent=r.extent?qLe.fromArcServer(r.extent,"layer_extent"):void 0,i.defaultVisibility=r.defaultVisibility??!0,i.canModifyLayer=r.canModifyLayer??!0,"Feature Layer"===r.type||"Table"===r.type){if(i.dataFormat=d.ESRI_FEATURE,i.displayField=r.displayField||"",Array.isArray(r.fields)){const t=r.fields.map((e=>JW.fromJSON(e)));i.fields=t.map((e=>({name:e.name,alias:e.alias,type:e.type,length:e.length}))),t.every((e=>"oid"!==e.type||(i.objectIdField=e.name,!1)))&&(i.objectIdField=r.objectIdField||(console.error(`Encountered service with no OID defined: ${e}`),"")),"Feature Layer"===r.type?(i.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(r.geometryType),r.drawingInfo?.renderer&&(i.renderer=JV(r.drawingInfo.renderer)),r.sourceSpatialReference&&(i.sourceSR=DLe.fromConfig(r.sourceSpatialReference))):i.mapLayer=!1}}else i.dataFormat=d.ESRI_RASTER;return i}async loadFeatureCount(e,t=""){if(!e)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const n={query:{f:"json",where:t||"1=1",returnCountOnly:!0,returnGeometry:!1}},[r,i]=await pct(Bl(`${e}/query`,n));return i?i.data?Number.isInteger(i.data.count)?i.data.count:(console.error(`Funny result (${i.data.count}) during feature count: ${e}`),0):(console.error(`Unable to load feature count: ${e}`),0):(console.error(`Feature count request unsuccessful: ${e}`,r),0)}}class yct extends AGe{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(e,t){super(t),this.config=e,this.id="",this.uid="",this.name="error",this.layerState=g.NEW,this.drawState=v.NOT_LOADED,this.initiationState=y.NEW,this.layerIdx=-1,this.layerFormat=p.UNKNOWN,this.layerType=h.UNKNOWN,this.dataFormat=d.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=m.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=c.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new eNe(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return DLe.latLongSR()}get visibility(){return!1}set visibility(e){}get opacity(){return 0}set opacity(e){}get scaleSet(){return new tNe}set scaleSet(e){}isOffscale(e=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(e){}get touchTolerance(){return 0}set touchTolerance(e){}get drawOrder(){return[]}canIdentify(){return!1}runIdentify(e){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,t){return Promise.resolve(new x(new jLe))}getIcon(e){return Promise.resolve("")}getSqlFilter(e){return""}setSqlFilter(e,t){}applySqlFilter(e=[]){}getFilterOIDs(e=[],t=void 0){return Promise.resolve(void 0)}getGraphicExtent(e){return Promise.resolve(qLe.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(e){if(!this.isSublayer&&e)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=e}get sublayers(){return this._sublayers}onLoad(){}onError(e=!0){}updateLayerState(e,t=!1){}updateDrawState(e){}updateInitiationState(e){}uidToIdx(e){if(e===this.uid)return-1;{const t=this._sublayers.findIndex((t=>t?.uid===e));if(-1===t)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${e}]`);return t}}getSublayer(e){if(!this.supportsSublayers)return void console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);let t;if(t="string"==typeof e?this.uidToIdx(e):e,void 0===this._sublayers[t])throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${e}]`);return this._sublayers[t]}controlAvailable(e){const t=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(e,t)}}class gct extends yct{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;constructor(e,t){super(e,t),this.name=e.name||"",this.geomType=c.NONE,this.dataFormat=d.UNKNOWN,this.layerType=h.UNKNOWN,this.layerFormat=p.UNKNOWN;const n=t.geo.map.layerDefaultTimes;this.expectedTime.draw=e.expectedDrawTime??n.draw,this.expectedTime.load=e.expectedLoadTime??n.load,this.expectedTime.fail=e.maxLoadTime||n.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=e,this.id=e.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=m.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=g.NEW,this.initiationState=y.NEW,this.drawState=v.NOT_LOADED,this.loadDefProm=new iNe,this.url=this.origRampConfig.url,this.canReload=!(!this.url&&!this.origRampConfig.caching),this.loadPromDone=!1,this.layerTree=new eNe(0,this.uid,this.name,!0)}updateInitiationState(e){this.initiationState=e,this.$iApi.event.emit(v0e.LAYER_INITIATIONSTATECHANGE,{state:e,layer:this})}updateLayerState(e,t=!1){this.layerState=e,this.$iApi.event.emit(v0e.LAYER_LAYERSTATECHANGE,{state:e,layer:this,userCancel:t})}updateDrawState(e){this.drawState=e,e===v.REFRESH?this.startTimer("draw"):e===v.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(v0e.LAYER_DRAWSTATECHANGE,{state:e,layer:this})}async initiate(){this.updateInitiationState(y.INITIATING),this.startTimer("load");const e=e=>{this.layerState!==g.ERROR&&(console.error(e),this.onError())},t=Date.now(),n=setTimeout((()=>{t>this.lastCancel&&(this.lastCancel=Date.now(),e("Layer timed out during initialize. Id: "+this.id))}),this.expectedTime.fail),[r]=await pct(this.onInitiate());clearTimeout(n),t>this.lastCancel&&(this.drawState!==v.UP_TO_DATE&&this.startTimer("draw"),r?e(`Init error on layer id: ${this.id} . ${r.message}`):this.updateInitiationState(y.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===y.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(y.TERMINATING),await Promise.all(this.sublayers.map((e=>e.terminate()))),this.loadDefProm=new iNe,this.loadPromDone=!1,this.updateLayerState(g.NEW),this.updateDrawState(v.NOT_LOADED),this.updateInitiationState(y.TERMINATED)}onLoad(){const e=Date.now();let t=!1;const n=setTimeout((()=>{t=!0,this.onError()}),this.expectedTime.fail);try{const r=this.onLoadActions();Promise.all(r).then((()=>{clearTimeout(n),t?this.visibility=!1:(this.stopTimer("load"),e>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new iNe),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach((e=>e.onLoad())),this.updateLayerState(g.LOADED)))})).catch((()=>{clearTimeout(n),this.onError()}))}catch(r){console.error("Encountered error on layer load: ",r),clearTimeout(n),this.onError()}}onError(e=!0){this.layerState!==g.ERROR&&(this.initiationState===y.INITIATING&&this.updateInitiationState(y.NEW),this.loadPromDone&&(this.loadDefProm=new iNe),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach((t=>t.onError(e))),e&&this.$iApi.notify.show(n7e.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(g.ERROR,!e))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===y.NEW||this.initiationState===y.TERMINATING||this.initiationState===y.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&"loading"===this.esriLayer.loadStatus&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===g.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,t){return this.stubError(),Promise.resolve(new x(new jLe))}getIcon(e){return this.stubError(),Promise.resolve("")}getSqlFilter(e){return this.stubError(),""}setSqlFilter(e,t){this.stubError()}getFilterOIDs(e=[],t=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(e){return this.stubError(),Promise.resolve(qLe.fromParams("fake",0,0,0,0))}applySqlFilter(e=[]){this.stubError()}setCustomParameter(e,t,n=!0){this.stubError()}startTimer(e){this.stopTimer(e),this.expectedTime[e]>0&&(this.timers[e]=window.setTimeout((()=>this.$iApi.notify.show(n7e.WARNING,this.$iApi.$i18n.t(`layer.long${e}`,{id:this.name||this.id}))),this.expectedTime[e]))}stopTimer(e){this.timers[e]&&(clearTimeout(this.timers[e]),this.timers[e]=void 0)}}class vct extends gct{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(e,t){super(e,t),this._scaleSet=new tNe,this._mouseTolerance=null!=e.mouseTolerance?e.mouseTolerance:5,this._touchTolerance=null!=e.touchTolerance?e.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=e.cosmetic||!1,this.extent=e.extent?qLe.fromConfig(`${this.id}_extent`,e.extent):void 0,this.viewDefProm=new iNe,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){await super.onInitiate(),this.esriLayer?(this.esriWatches.push(this.esriLayer.watch("visible",(e=>{this.$iApi.event.emit(v0e.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this})}))),this.esriWatches.push(this.esriLayer.watch("opacity",(e=>{this.$iApi.event.emit(v0e.LAYER_OPACITYCHANGE,{opacity:e,layer:this})}))),this.esriWatches.push(this.esriLayer.watch("loadStatus",(e=>{const t={"not-loaded":g.LOADING,loading:g.LOADING,loaded:g.LOADED,failed:g.ERROR};"loaded"===e?this.onLoad():"failed"===e?this.onError():this.updateLayerState(t[e])}))),this.esriLayer.on("layerview-create",(e=>{this.esriView=e.layerView,this.esriWatches.push(e.layerView.watch("updating",(e=>{this.updateDrawState(e?v.REFRESH:v.UP_TO_DATE)}))),this.viewDefProm.resolveMe()})),this.sublayers.forEach((e=>e.initiate()))):this.noLayerErr()}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new iNe,this.esriWatches.forEach((e=>e.remove())),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap)return void console.error("Attempted layer reload when no map exists");this.removeEsriLayer();const e=Date.now();if(this.$iApi.event.emit(v0e.LAYER_RELOAD_START,this),this.sublayers.forEach((e=>this.$iApi.event.emit(v0e.LAYER_RELOAD_START,e))),await this.terminate(),await this.initiate(),!(this.lastCancel>e)){if(!this.esriLayer)return void console.error("ESRI layer failed to re-create during reload.");this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(v0e.LAYER_RELOAD_END,this),this.sublayers.forEach((e=>this.$iApi.event.emit(v0e.LAYER_RELOAD_END,e)))}}makeEsriLayerConfig(e){return{id:e.id,url:e.url,opacity:e?.state?.opacity??1,visible:e?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex((e=>e.id===this.id))>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const e=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const t=this.$iApi.geo.proj.checkProj(this.getSR()).then((e=>e?Promise.resolve():Promise.reject()));return e.push(t),e}mapCheck(){return!!this.$iApi.geo.map.created||(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(e){this._scaleSet=e}isOffscale(e=void 0){let t;if(typeof e>"u"){if(!this.mapCheck())return!1;t=this.$iApi.geo.map.getScale()}else t=e;return this.scaleSet.isOffScale(t).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(e){this.supportsIdentify?e<0?console.error("Attempted to set a negative click tolerance"):this._mouseTolerance=e:console.warn("Attempted to set click tolerance on a layer that doesn't support identify")}get touchTolerance(){return this._touchTolerance}set touchTolerance(e){this.supportsIdentify?e<0?console.error("Attempted to set a negative touch tolerance"):this._touchTolerance=e:console.warn("Attempted to set touch tolerance on a layer that doesn't support identify")}get layerExists(){return this.initiationState===y.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return!!this.layerExists&&this.esriLayer.visible}set visibility(e){this.layerExists?this.esriLayer.visible=e:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some((e=>e.visibility)))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(e){this.layerExists?this.esriLayer.opacity=e:this.noLayerErr()}getSR(){return this.esriLayer?DLe.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),DLe.latLongSR())}}class bct extends vct{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(e,t){super(e,t),this.supportsIdentify=!0,this.geomType=c.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new nNe(e.permanentFilteredQuery||"",e.initialFilteredQuery||""),this.hovertips=e.state?.hovertips??!0,this.attribs=new Gct}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}async loadLayerMetadata(e={}){if(!this.serviceUrl)return;const t=Date.now(),n=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(t<this.lastCancel))if(this.geomType=n.geometryType,this.attribs.quickCache=new qct(this.geomType),this.scaleSet.minScale=n.minScale,this.scaleSet.maxScale=n.maxScale,this.dataFormat=n.dataFormat,this.extent=this.extent??n.extent,this._serverVisibility=n.defaultVisibility,this.dataFormat===d.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType!==h.SUBLAYER||n.canModifyLayer,this.fields=n.fields,this.nameField=n.displayField,this.oidField=n.objectIdField,this.sourceSR=n.sourceSR,this.drawOrder.forEach((e=>{e.field&&-1===this.fields.findIndex((t=>t.name===e.field))&&console.error(`Draw order for layer ${this.id} references invalid field ${e.field}`)}));const t=e&&e.customRenderer&&e.customRenderer.type?e.customRenderer:n.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(t,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const r={supportsLimit:(n.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(w.PERMANENT)};this.attribs.attLoader=new $ct(this.$iApi,r),this.origRampConfig.name||(this.name=n.name??this.id)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return!!this.isLoaded&&this.attribs.attLoader.isLoadAborted()}getFieldsToTrim(){return this.fields.filter((e=>e.trim)).map((e=>e.name))}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,t){let n={},r=new jLe;const i=this.$iApi.geo.map;let o=!1,s=!1,a=0;if(t.getAttribs||t.getStyle){const t=this.attribs.quickCache.getAttribs(e);if(t)n=t;else if(this.attribs.attLoader.isLoaded()||this.isFile){const t=await this.attribs.attLoader.getAttribs();n=t.features[t.oidIndex[e]]}else o=!0}if(t.getGeom){a=i.getScale();const t=this.attribs.quickCache.getGeom(e,a);t?r=t:s=!0}if(o||s){const t={oid:e,serviceUrl:this.serviceUrl,includeGeometry:s,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};s&&(t.mapSR=i.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(t.maxOffset=i.esriView?.resolution));const l=await this.$iApi.geo.attributes.loadSingleFeature(t);s&&(this.attribs.quickCache.setGeom(e,l.geometry,a),r=l.geometry),(o||typeof this.attribs.quickCache.getAttribs(e)>"u")&&(this.attribs.quickCache.setAttribs(e,l.attributes),o&&(n=l.attributes))}const l=new x(r,"",t.getAttribs?n:void 0);if(t.getStyle){const e=hHe(this.renderer.getGraphicSymbol(n));l.style=this.$iApi.geo.geom.styleEsriToRamp(e)}return l}async getIcon(e){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const t=await this.getGraphic(e,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(t.attributes||{},this.renderer)}setSqlFilter(e,t){const n=this.filter.getSql(e);if(t===n)return;this.filter.setSql(e,t),this.$iApi.event.emit(v0e.FILTER_CHANGE,{uid:this.uid,filterKey:e});const r=`${this.uid}-${e}-${t}`;this._lastFilterUpdate=r,setTimeout((()=>{this._lastFilterUpdate===r&&this.applySqlFilter()}),100)}applySqlFilter(e=[]){throw new Error(`attempted to apply sql filter ${e} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],t=void 0){const n=this.filter.getCombinedSql(e),r=!!t;if(!n&&!r)return;t&&this.filter.setExtent(t);const i=this.filter.sqlActiveFilters(e);let o=this.filter.getCache(i,r);if(!o){const e={filterGeometry:t,filterSql:n,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(e),this.filter.setCache(o,i,r)}return o}queryOIDs(e){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const t={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(t)}async queryFeaturesDiscrete(e){const t=await this.queryOIDs(e),n={getGeom:!!e.includeGeometry,getAttribs:!0};return t.map((e=>({oid:e,graphic:this.getGraphic(e,n)})))}async queryFeatures(e){const t=await this.queryFeaturesDiscrete(e);return Promise.all(t.map((e=>e.graphic)))}configDrawOrder(e,t){Array.isArray(e.drawOrder)&&e.drawOrder.length>0&&(t.orderBy=e.drawOrder.map((e=>{const t=e.ascending??1?"ascending":"descending";return e.field?{field:e.field,order:t}:{valueExpression:e.arcade,order:t}})),this._drawOrder=e.drawOrder.slice())}}class wct extends vct{constructor(e,t){super(e,t),this.dataFormat=d.ESRI_FEATURE,this.layerFormat=p.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}getGraphicCount(){return this._graphics.length}getLocalGraphic(e){return this._graphics.find((t=>t.id===e))}getEsriGraphic(e){return this.esriLayer?.graphics.find((t=>t.id===e))}get graphics(){return this._graphics.slice()}async addGraphic(e){if(!this.layerExists)return void this.noLayerErr();let t;t=e instanceof Array?e:[e];const n=t.filter((e=>-1===this._graphics.findIndex((t=>t.id===e.id))?(this._graphics.push(e),!0):(console.error(`Attempting to add graphic with id '${e.id}' that has already been added.`),!1))),r=this.$iApi.geo.map.getSR(),i=n.map((e=>this.$iApi.geo.proj.projectGeometry(r,e.geometry))),o=await Promise.all(i),s=n.map(((e,t)=>{const n=new x(o[t],e.id,e.attributes);return n.style=e.style,this.$iApi.geo.geom.graphicRampToEsri(n)}));this.esriLayer.addMany(s)}removeGraphic(e){if(!this.layerExists)return void this.noLayerErr();if(typeof e>"u")return this.esriLayer.removeAll(),void(this._graphics=[]);let t;t=Array.isArray(e)?e:[e],t.map((e=>"string"==typeof e?e:e.id)).forEach((e=>{const t=this.esriLayer.graphics.findIndex((t=>t.id===e));t>-1&&this.esriLayer.graphics.removeAt(t);const n=this._graphics.findIndex((t=>t.id===e));n>-1&&this._graphics.splice(n,1)}))}}class _ct extends wct{constructor(e,t){super(e,t),this.layerType=h.GRAPHIC}async onInitiate(){this.esriLayer=pHe(new u4(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(v.UP_TO_DATE),e}}class xct extends bct{esriJson;sourceGeoJson;tooltipField;constructor(e,t){super(e,t),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=d.ESRI_FEATURE,this.layerFormat=p.FEATURE,this.tooltipField="",this.layerIdx=0,e.identifyMode&&e.identifyMode!==m.NONE?this.identifyMode=e.identifyMode:this.identifyMode=m.HYBRID}async reload(){!0===this.origRampConfig.caching||this.origRampConfig.url?await super.reload():console.error("Attempted to reload file layer from non server source without caching enabled.")}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const e={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,e),this.esriLayer=pHe(new i4(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(e){const t=super.makeEsriLayerConfig(e),n="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach((e=>{t[e]=this.esriJson[e]})),this.origRampConfig.nameField?t.displayField=this.$iApi.geo.attributes.fieldValidator(t.fields,this.origRampConfig.nameField)||n:t.displayField=n,t.outFields=["*"],delete t.url,this.configDrawOrder(e,t),t}onLoadActions(){const e=super.onLoadActions();return this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=JV(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.origRampConfig.tooltipField?this.tooltipField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField)||this.nameField:this.tooltipField=this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.featureCount=this.esriLayer?.source.length||0,e.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(e).then((()=>{this.applySqlFilter()})),e}runIdentify(e){if(!this.canIdentify())return[];const t=new iNe,n=nHe({items:[],loading:t.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),i=Promise.resolve(),o=[],s=[];if(this.identifyMode===m.HYBRID||this.identifyMode===m.GEOMETRIC){const t={includeGeometry:!1};this.geomType!==c.POLYGON&&e.geometry.type===c.POINT?t.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):t.filterGeometry=e.geometry,t.filterSql=this.getCombinedSqlFilter(),i=this.queryFeatures(t).then((e=>{o=e}))}return e.hitTest&&(this.identifyMode===m.HYBRID||this.identifyMode===m.SYMBOLIC)&&(r=i.then((async()=>{const t=await e.hitTest;s=await Promise.all(t.filter((e=>e.layerId===this.id&&-1===o.findIndex((t=>e.oid===t.attributes[this.oidField])))).map((e=>e.oid)))}))),Promise.all([r,i]).then((()=>{o.forEach((e=>{n.items.push(fct.makeRawItem(b.ESRI,e.attributes))})),s.forEach((e=>{n.items.push(fct.makeOidItem(e,this))})),n.loaded=!0,t.resolveMe()})).catch((()=>{n.errored=!0,t.resolveMe()})),[n]}extractLayerMetadata(){const e=this.esriLayer;if(!e)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(e.geometryType),this.scaleSet.minScale=e.minScale||0,this.scaleSet.maxScale=e.maxScale||0,this.extent=this.extent??qLe.fromESRI(e.fullExtent,this.id+"_extent");const t=pHe(e.fields.slice());this.fields=t.map((e=>({name:e.name,alias:e.alias,type:e.type,length:e.length}))),this.nameField=e.displayField,this.oidField=e.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(e.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const n={sourceGraphics:e.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new Hct(this.$iApi,n)}async getGraphic(e,t){let n;if(!t.getGeom&&this.attribs.attLoader.isLoaded()){const t=await this.attribs.attLoader.getAttribs();n=new x(new jLe,"",t.features[t.oidIndex[e]])}else{const r={filterOIDs:[e],includeGeometry:!!t.getGeom},i=await this.queryFeatures(r);if(0===i.length)throw new Error(`Could not find object id ${e}`);1!==i.length&&console.warn("did not get a single result on a query for a specific object id"),n=i[0]}if(t.getStyle){const e=hHe(this.renderer.getGraphicSymbol(n.attributes));n.style=this.$iApi.geo.geom.styleEsriToRamp(e)}return n}async queryFeatures(e){const t={layer:this,...e};return this.$iApi.geo.query.geoJsonQuery(t)}async queryOIDs(e){const t={layer:this,...e};return(await this.$iApi.geo.query.geoJsonQuery(t)).map((e=>e.attributes?e.attributes[this.oidField]:-1))}applySqlFilter(e=[]){if(!this.esriView)return void this.noLayerErr();const t=this.filter.getCombinedSql(e);hHe(this.esriView).filter=new LX({where:t})}}class Sct extends xct{constructor(e,t){super(e,t),this.layerType=h.GEOJSON}async onInitiate(){let e;const t=Date.now();if(this.origRampConfig.rawData)e=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else{if(!this.origRampConfig.url)throw new Error("GeoJson layer config contains no raw data or url");e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType)}t>this.lastCancel&&(this.sourceGeoJson=e,await super.onInitiate())}}class Tct extends xct{constructor(e,t){super(e,t),this.layerType=h.SHAPEFILE}async onInitiate(){const e=Date.now(),t=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const n=await this.$iApi.geo.layer.files.shapefileToGeoJson(t);e>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}}class Ect extends xct{constructor(e,t){super(e,t),this.layerType=h.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let e;const t=Date.now();if(this.origRampConfig.rawData&&"string"==typeof this.origRampConfig.rawData)e=this.origRampConfig.rawData;else{if(!this.origRampConfig.url)throw new Error("Csv file config contains no raw data or url");e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType)}if(t>this.lastCancel){const n=await this.$iApi.geo.layer.files.csvToGeoJson(e,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});t>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}}class Mct extends xct{constructor(e,t){super(e,t),this.layerType=h.GEOJSONZIPPED}async onInitiate(){const e=Date.now(),t=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const n=await this.$iApi.geo.layer.files.unzipSingleFile(t);e>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(n)),await super.onInitiate())}}}class Act extends xct{constructor(e,t){super(e,t),this.layerType=h.FLATGEOBUF}async onInitiate(){const e=Date.now(),t=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const n=await this.$iApi.geo.layer.files.fgbToGeoJson(t,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}}class Ict extends xct{constructor(e,t){super(e,t),this.layerType=h.FLATGEOBUFZIPPED}async onInitiate(){const e=Date.now(),t=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const n=await this.$iApi.geo.layer.files.unzipSingleFile(t);if(e>this.lastCancel){const t=await this.$iApi.geo.layer.files.fgbToGeoJson(n,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}}}class Cct extends bct{tooltipField;constructor(e,t){super(e,t),this.dataFormat=d.ESRI_FEATURE,this.tooltipField="",this.supportsIdentify=!0,this.layerType=h.FEATURE,this.layerFormat=p.FEATURE,e.identifyMode&&e.identifyMode!==m.NONE?this.identifyMode=e.identifyMode:this.identifyMode=m.HYBRID}async onInitiate(){pHe(this.esriLayer=new i4(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const t=super.makeEsriLayerConfig(e);return(e.initialFilteredQuery||e.permanentFilteredQuery)&&(t.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(e,t),t}onLoadActions(){const e=Date.now(),t=super.onLoadActions(),n=this.esriLayer&&this.origRampConfig.customRenderer?.type;n&&(this.esriLayer.renderer=JV(this.origRampConfig.customRenderer));const r=this.esriLayer.parsedUrl.path,i=this.$iApi.geo.shared.parseUrlIndex(r).index||0;this.layerIdx=i,this.serviceUrl=r;const o=this.loadLayerMetadata(n?{customRenderer:this.esriLayer?.renderer}:{}).then((()=>{e>this.lastCancel&&(this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.nameField=this.origRampConfig.nameField||this.nameField||"",this.tooltipField=this.origRampConfig.tooltipField||this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()))})),s=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(w.PERMANENT)).then((t=>{e>this.lastCancel&&(this.featureCount=t)}));return this.layerTree.name=this.name,this.layerTree.layerIdx=i,t.push(o,s),t}runIdentify(e){if(!this.canIdentify())return[];const t=new iNe,n=nHe({items:[],loading:t.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),i=Promise.resolve(),o=[];if(this.identifyMode===m.HYBRID||this.identifyMode===m.GEOMETRIC){const t={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==c.POLYGON&&e.geometry.type===c.POINT?t.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):t.filterGeometry=e.geometry,t.filterSql=this.getCombinedSqlFilter(),i=this.queryOIDs(t).then((e=>{o=e}))}return e.hitTest&&(this.identifyMode===m.HYBRID||this.identifyMode===m.SYMBOLIC)&&(r=i.then((async()=>{(await e.hitTest).filter((e=>e.layerId===this.id&&-1===o.findIndex((t=>e.oid===t)))).forEach((e=>{o.push(e.oid)}))}))),Promise.all([r,i]).then((()=>{o.forEach((e=>{n.items.push(fct.makeOidItem(e,this))})),n.loaded=!0,t.resolveMe()})).catch((()=>{n.errored=!0,t.resolveMe()})),[n]}applySqlFilter(e=[]){if(this.layerExists){const t=this.filter.getCombinedSql(e);this.esriLayer.definitionExpression=t}else this.noLayerErr()}getGraphicExtent(e){return new Promise(((t,n)=>{if(this.layerExists)if(["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType)){const r=this.attribs.quickCache.getExtent(e);r?t(r):this.esriLayer.queryExtent({objectIds:[e],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then((n=>{const r=qLe.fromESRI(n.extent);this.attribs.quickCache.setExtent(e,r),t(r)})).catch((()=>{console.error(`Extent querying failed for ${e}.`),n()}))}else console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),n();else this.noLayerErr(),n()}))}}class Oct extends vct{isDynamic;origState;constructor(e,t){super(e,t),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=h.MAPIMAGE,this.layerFormat=p.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=m.GEOMETRIC}async onInitiate(){this.esriLayer=pHe(new lle(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const t=super.makeEsriLayerConfig(e);return this.origState={visibility:t.visible,opacity:t.opacity},t.visible=!1,e.imageFormat&&(t.imageFormat=e.imageFormat),t}onLoadActions(){const e=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),e;const t=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(n7e.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??qLe.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const n=e=>{const t=this.esriLayer?.allSublayers.find((t=>t.id===e));if(!t)throw new Error("attempt to find map image sublayer failed");return t},r={};this.origRampConfig.sublayers.forEach((e=>{r[e.index||0]=e}));const i=[],o=(e,t)=>{const n=e.id,s=r[n];if(e.sublayers&&e.sublayers.length>0){const r=(s?s.name:"")||e.title||"",i=new eNe(n,"",r,!1);t.findChildByIdx(n)||t.children.push(i),e.sublayers.reverse().forEach((e=>{o(e,i)}))}else{this._sublayers[n]||(this._sublayers[n]=new kct({id:`${this.id}-${n}`,index:n,layerType:h.SUBLAYER,name:s?.name,state:s?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:s?.extent,controls:s?.controls,disabledControls:s?.disabledControls,initialFilteredQuery:s?.initialFilteredQuery,permanentFilteredQuery:s?.permanentFilteredQuery,labels:s?.labels},this.$iApi,this));const r=this._sublayers[n];if(r.isRemoved)return;if(r.name=s?.name||e.title||"",i.push(r),!t.children.map((e=>e.layerIdx)).includes(n)){const e=new eNe(n,r.uid,r.name,!1);t.children.push(e)}r.esriWatches.push(e.watch("visible",(()=>{this.$iApi.event.emit(v0e.LAYER_VISIBILITYCHANGE,{visibility:r.visibility,layer:r}),r.parentLayer?.checkVisibility()})),e.watch("opacity",(e=>{this.$iApi.event.emit(v0e.LAYER_OPACITYCHANGE,{opacity:e,layer:r})})))}};this.origRampConfig.sublayers.forEach((e=>{if(!e.cosmetic){const t=n(e.index||0);o(t,this.layerTree)}}));const s=i.map((async e=>{const i=n(e.layerIdx),o=r[e.layerIdx];if(e.serviceUrl=i.url,e.fetchEsriSublayer(this),await e.initiate(),t<this.lastCancel)return;const s=e.esriSubLayer&&o?.customRenderer?.type;if(s&&(e.esriSubLayer.renderer=JV(o.customRenderer)),await e.loadLayerMetadata(s?{customRenderer:e.esriSubLayer?.renderer}:{}),t<this.lastCancel)return;const a=r[e.layerIdx];if(a?(e.visibility=!e.isRemoved&&(a.state?.visibility??(this.origState.visibility?e._serverVisibility??this.origState.visibility:this.origState.visibility??e._serverVisibility)??!0),e.opacity=a.state?.opacity??this.origState.opacity??1,e.nameField=a.nameField||e.nameField||"",this.$iApi.geo.attributes.applyFieldMetadata(e,a.fieldMetadata),e.canModifyLayer||this.$iApi.notify.show(n7e.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:e.name||e.id}))):this.$iApi.geo.attributes.applyFieldMetadata(e),e.supportsFeatures){e.updateFieldList(),e.updateFieldsToTrim();const n=await this.$iApi.geo.layer.loadFeatureCount(e.serviceUrl,e.getSqlFilter(w.PERMANENT));t>this.lastCancel&&(e.featureCount=n)}}));return e.push(...s),this.esriLayer.allSublayers.forEach((e=>{e.sublayers||i.find((t=>t.layerIdx===e.id))?e.sublayers&&(e.visible=!0):(e.visible=!1,e.opacity=0)})),this.visibility=this.origState.visibility??!0,e}updateLayerState(e,t=!1){super.updateLayerState(e,t),this.sublayers.forEach((n=>n.updateLayerState(e,t)))}updateDrawState(e){super.updateDrawState(e),this.sublayers.forEach((t=>t.updateDrawState(e)))}runIdentify(e){if(!this.canIdentify())return[];e.sublayerIds&&(e.sublayerIds=e.sublayerIds.map((e=>"number"==typeof e?this.layerTree?.findChildByIdx(e)?.uid:e)));const t=e.sublayerIds?this._sublayers.filter((t=>e.sublayerIds?.includes(t.uid))):this._sublayers.filter((e=>e.canIdentify()));if(0===t.length)return[];let n;return e.geometry.type===c.POINT&&(n=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance)),t.map((t=>{const r=new iNe,i={},o=nHe({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:t.uid,layerId:t.id,requestTime:Date.now()});return t.geomType!==c.POLYGON&&n?i.filterGeometry=n:i.filterGeometry=e.geometry,i.filterSql=t.getCombinedSqlFilter(),i.sourceSR=t.sourceSR,t.queryOIDs(i).then((e=>{e.forEach((e=>{o.items.push(fct.makeOidItem(e,t))})),o.loaded=!0,r.resolveMe()})).catch((()=>{o.errored=!0,r.resolveMe()})),o}))}}class kct extends bct{tooltipField;constructor(e,t,n){if(super(e,t),this.layerType=h.SUBLAYER,this.layerFormat=p.MAPIMAGE,this.isSublayer=!0,this.layerIdx=e.index,this.parentLayer=n,this.dataFormat=d.ESRI_FEATURE,this.supportsFeatures=!0,this.tooltipField="",this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!(!this.url&&!this.origRampConfig.caching),!n.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(n),(e.initialFilteredQuery||e.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(e){e.esriLayer?this.esriSubLayer=pHe(e.esriLayer.allSublayers.find((e=>e.id===this.layerIdx))):console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer")}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=null!=this.config.state.identify?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=y.INITIATED;const e=this.labelVizOverride();void 0!==e&&(this.labelVisibility=e)}async reload(){this.$iApi.geo.map.esriMap?this.parentLayer?.reload():console.error("Attempted layer reload when no map exists")}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!(!this.parentLayer?.layerExists||!this.esriSubLayer||this.initiationState!==y.INITIATED)}get visibility(){return!!this.layerExists&&this.esriSubLayer.visible}set visibility(e){this.layerExists?this.esriSubLayer.visible=e:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(e){this.layerExists?(this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=e):this.noLayerErr()}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(e){this.layerExists?this.parentLayer.mouseTolerance=e:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(e){this.layerExists?this.parentLayer.touchTolerance=e:this.noLayerErr()}applySqlFilter(e=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const t=this.filter.getCombinedSql(e);this.esriSubLayer.definitionExpression=t}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){return this.parentLayer?.esriLayer?DLe.fromESRI(this._parentLayer?.esriLayer?.spatialReference):(this.noLayerErr(),DLe.latLongSR())}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return!!this.layerExists&&this.esriSubLayer.labelsVisible}set labelVisibility(e){this.layerExists?this.esriSubLayer.labelsVisible=e:this.noLayerErr()}labelVizOverride(){let e=this.origRampConfig.labels?.visible;if(void 0!==e||(e=this.$iApi.geo.map.labelsDefault?.visible,void 0!==e))return e}}class Rct extends vct{constructor(e,t){super(e,t),this.supportsIdentify=!1,this.layerType=h.OSM,this.layerFormat=p.OSM,this.dataFormat=d.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=pHe(new Ele(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const t=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),n={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:t.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(n),e}}class Lct extends vct{constructor(e,t){super(e,t),this.supportsIdentify=!1,this.layerType=h.IMAGERY,this.layerFormat=p.IMAGERY,this.dataFormat=d.ESRI_RASTER}async onInitiate(){this.esriLayer=pHe(new zoe(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const t=Date.now(),n=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then((e=>{t>this.lastCancel&&(this.legend=e)}));return e.push(n),e}}class Nct extends vct{constructor(e,t){super(e,t),this.supportsIdentify=!1,this.layerType=h.TILE,this.layerFormat=p.TILE,this.dataFormat=d.ESRI_TILE}async onInitiate(){this.esriLayer=pHe(new Vle(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions(),t=Date.now();this.layerTree.name=this.name;const n=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then((e=>{t>this.lastCancel&&(this.legend=e)}));return e.push(n),e.push(this.checkProj()),e}checkProj(){const e=this.getSR(),t=this.$iApi.geo.map.getSR().isEqual(e);if(this.layerState!==g.LOADED||t){if(this.layerState===g.ERROR&&t)this.reload();else if(this.layerState!==g.ERROR&&!t)return this.$iApi.notify.show(n7e.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject()}else this.$iApi.notify.show(n7e.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();return Promise.resolve()}}class Pct extends vct{sublayerNames;mimeType;constructor(e,t){super(e,t),this.supportsIdentify=!0,this.layerType=h.WMS,this.layerFormat=p.WMS,this.mimeType=e.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=d.OGC_RASTER,this.identifyMode=m.GEOMETRIC}async onInitiate(){this.esriLayer=pHe(new Fce(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const t=super.makeEsriLayerConfig(e),n=e.sublayers;this.sublayerNames=n.map((e=>e.id||"error_no_wms_id"));const r=n.map((e=>e.currentStyle)).join();return t.customParameters={styles:r},-1!==e.url.indexOf("/geomet")&&(t.customParameters.layers=n[0].id),t}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const t=e=>{let n=!1;return e.forEach((e=>{this.sublayerNames.indexOf(e.name)>-1||e.sublayers&&e.sublayers.length>0&&t(e.sublayers)?n=!0:e.visible=!1})),n};return this.layerExists?t(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),e}canIdentify(){return super.canIdentify()}runIdentify(e){if(e.geometry.type!==c.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const t=new iNe,n=nHe({items:[],loading:t.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,e.geometry,this.mimeType).then((e=>{if(e){let t,r=!0;"string"!=typeof e?t=b.JSON:-1===e.indexOf("Search returned no results")&&""!==e?t=b.TEXT:(r=!1,t=b.UNKNOWN),r&&n.items.push(fct.makeRawItem(t,e))}n.loaded=!0,t.resolveMe()})).catch((()=>{n.errored=!0,t.resolveMe()})),[n]}setCustomParameter(e,t,n=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[e]=t,n&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(e,t,n){const r=this.$iApi.geo.map,i=this.esriLayer;if(!r.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!i)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,s;const a=r.getExtent(),l=i.spatialReferences,c=e.join(","),u=r.esriView.toScreen(t.toESRI()),h=Math.floor(u.x),p=Math.floor(u.y),d={"application/json":"json","text/html":"text","text/plain":"text"}[n]||"text",f=r.getSR();f.wkid?o=f.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),l&&l.length>1?-1===l.indexOf(o)&&(f.latestWkid&&l.indexOf(f.latestWkid)>-1?o=f.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),"1.3"===i.version||"1.3.0"===i.version?(s={CRS:"EPSG:"+o,I:h,J:p,STYLES:"",FORMAT:i.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(s.BBOX=`${a.ymin},${a.xmin},${a.ymax},${a.xmax}`)):s={SRS:"EPSG:"+o,X:h,Y:p},Object.prototype.hasOwnProperty.call(s,"BBOX")||(s.BBOX=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`);const m={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:i.version,WIDTH:r.getPixelWidth(),HEIGHT:r.getPixelHeight(),QUERY_LAYERS:c,LAYERS:c,INFO_FORMAT:n},y=i.customLayerParameters;return y&&Object.keys(y).forEach((e=>{"styles"!==e.toLowerCase()&&(m[e]=y[e])})),Object.keys(m).forEach((e=>s[e]=m[e])),Bl(i.url.split("?")[0],{query:s,responseType:d})}getLegendUrls(e){if(!this.layerExists)return this.noLayerErr(),[];const t=new Map;this.esriLayer.allSublayers.forEach((e=>{e.visible&&(e.legendUrl&&this.origRampConfig.sublayers?.forEach((t=>{if(t.id&&t.currentStyle&&t.id===e.name){const n=new fNe(e.legendUrl);"STYLE"in n.queryMap&&n.queryMap.STYLE!==t.currentStyle&&(e.legendUrl=n.updateQuery({STYLE:t.currentStyle}))}})),t.set(e.name,e.legendUrl))}));const n=e.map((e=>e.styleLegends&&e.currentStyle?e.styleLegends.find((t=>t.name===e.currentStyle)).url:void 0));return n.forEach(((r,i)=>{r||(n[i]=t.get(e[i].id))})),n}getWMSLayerTitle(e){if(!this.esriLayer)return"";let t;return this.esriLayer.allSublayers.some((n=>{if(n.name===e)return t=n.title,!0})),t||""}loadSymbology(){const e=Date.now(),t=this.config.sublayers,n=this.getLegendUrls(t.map((e=>({id:e.id,styleLegends:e.styleLegends,currentStyle:e.currentStyle})))).map(((n,r)=>{const i=t[r].name||this.getWMSLayerTitle(t[r].id)||t[r].id,o={uid:this.$iApi.geo.shared.generateUUID(),label:i,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(n).then((t=>{e>this.lastCancel&&(o.svgcode=t.svgcode,o.imgHeight=t.imgHeight,o.imgWidth=t.imgWidth)}))};return o}));this.legend=n}}class Dct extends xct{constructor(e,t){super(e,t),this.layerType=h.WFS}async onInitiate(){const e=Date.now(),t=new fNe(this.config.url),{offset:n,limit:r}=t.queryMap,i=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(n)||0,parseInt(r)||1e3,void 0,this.config.xyInAttribs);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}class Fct extends gct{sourceJson;attribs;_visibility;constructor(e,t){super(e,t),this.dataFormat=d.ESRI_FEATURE,this.layerFormat=p.NOLAYER,this.drawState=v.NOT_VISUAL,this.attribs=new Gct,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=e.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(!this.sourceJson)throw new Error("Attempted to initiate file based data layer, sourceJson is missing");{const e=this.sourceJson;if(0===e.data.length||0===e.fields.length)throw new Error("Data layer with no columns or now rows.");const t=e.fields.slice(),n=e.data[0].slice(),i=/ /gi;this.fields=t.map(((t,o)=>{let s="",a=t;t.indexOf(" ")>-1&&(s=t,a=t.trim().replace(i,"-"),e.fields[o]=a);const l=this.$iApi.geo.layer.files.inferType(n[o]);return{name:a,alias:s,type:l,length:l===r.STRING?256:void 0}})),this.oidField="rampOID",this.fields.push({name:this.oidField,type:r.OID}),e.fields.push(this.oidField),e.data.forEach(((e,t)=>e.push(t+1))),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const o={batchSize:-1,sourceDataJson:e,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new Wct(this.$iApi,o),await this.attribs.attLoader.getAttribs(),this.featureCount=e.data.length,this.origRampConfig.nameField?this.nameField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.nameField)||this.oidField:this.nameField=this.oidField,this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(v0e.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==g.ERROR&&this.onLoad(),setTimeout((()=>{this.$iApi.event.emit(v0e.LAYER_RELOAD_END,this)}),300)}onLoadActions(){const e=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then((e=>{this.legend[0].svgcode=e}))}],e}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,t){let n={};if(!this.attribs.attLoader.isLoaded())throw new Error("Non ESRI data layer did not have attributes populated.");{const t=await this.attribs.attLoader.getAttribs();n=t.features[t.oidIndex[e]]}return new x(new jLe,"",n)}async getIcon(e){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(e=[],t=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this.$iApi.event.emit(v0e.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this}))}}class jct extends Fct{constructor(e,t){super(e,t),this.layerType=h.DATAJSON}async onInitiate(){const e=Date.now();let t;if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else{if(!this.origRampConfig.url)throw new Error("Json Data layer config contains no raw data or url");t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType)}e>this.lastCancel&&(this.sourceJson=t,await super.onInitiate())}}class Uct extends Fct{filter;serviceUrl;constructor(e,t){super(e,t),this.layerType=h.DATATABLE,this.serviceUrl=e.url,this.filter=new nNe(e.permanentFilteredQuery||"",e.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const e=super.onLoadActions(),t=Date.now(),n=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,r=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then((e=>{if(t<this.lastCancel)return;this.name||(this.name=e.name),this.layerTree.name=this.name,this.oidField=e.objectIdField,this.nameField=this.origRampConfig.nameField||e.displayField||this.oidField,this.fields=e.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata);const n={supportsLimit:(e.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(w.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new $ct(this.$iApi,n),this.attribs.quickCache=new qct(this.geomType)})),i=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(w.PERMANENT)).then((e=>{t>this.lastCancel&&(this.featureCount=e)}));return this.layerTree.layerIdx=n,e.push(r,i),e}async getGraphic(e,t){let n={};const r=this.attribs.quickCache.getAttribs(e);if(r)n=r;else if(this.attribs.attLoader.isLoaded()){const t=await this.attribs.attLoader.getAttribs();n=t.features[t.oidIndex[e]]}else{const t={oid:e,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},r=await this.$iApi.geo.attributes.loadSingleFeature(t);this.attribs.quickCache.setAttribs(e,r.attributes),n=r.attributes}return new x(new jLe,"",n)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return!!this.isLoaded&&this.attribs.attLoader.isLoadAborted()}setSqlFilter(e,t){const n=this.filter.getSql(e);t!==n&&(this.filter.setSql(e,t),this.$iApi.event.emit(v0e.FILTER_CHANGE,{uid:this.uid,filterKey:e}))}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],t=void 0){const n=this.filter.getCombinedSql(e);if(!n)return;const r=this.filter.sqlActiveFilters(e);let i=this.filter.getCache(r,!1);if(!i){const e={filterSql:n,includeGeometry:!1};i=this.queryOIDs(e),this.filter.setCache(i,r,!1)}return i}queryOIDs(e){const t={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(t)}async queryFeaturesDiscrete(e){const t=await this.queryOIDs(e),n={getAttribs:!0};return t.map((e=>({oid:e,graphic:this.getGraphic(e,n)})))}async queryFeatures(e){const t=await this.queryFeaturesDiscrete(e);return Promise.all(t.map((e=>e.graphic)))}}class zct extends AGe{oidIndexer(e,t){e.features.forEach(((n,r)=>{e.oidIndex[n[t]]=r}))}async arcGisBatchLoad(e,t){if(t.loadAbortFlag)return[];const n=e.permanentFilter?` AND ${e.permanentFilter}`:"",r={query:{where:`${e.oidField}>${e.maxId}${n}`,outFields:e.attribs,orderByFields:e.oidField,returnGeometry:"false",f:"json"}},[i,o]=await pct(Bl(e.serviceUrl+"/query",r));if(!o)return console.error(`ArcGIS batch load error: ${e.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS batch load error: ${e.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`));let s=o.data.features;const a=s.length;if(a>0){let n;if(t.loadedCount+=a,e.supportsLimit?n=o.data.exceededTransferLimit:(-1===e.batchSize&&(e.batchSize=a),n=a>=e.batchSize),s=this.trimFeatureSetAttributes(s,e.fieldsToTrim??[]),n){e.maxId=s[a-1].attributes[e.oidField];const n=await this.arcGisBatchLoad(e,t);return t.loadAbortFlag?[]:s.concat(n)}return t.loadAbortFlag?[]:s}return[]}async loadArcGisServerAttributes(e,t){e.maxId=-1,e.batchSize=-1;const n={features:(await this.arcGisBatchLoad(e,t)).map((e=>e.attributes)),oidIndex:{}};return this.oidIndexer(n,e.oidField),t.loadIsDone=!0,n}async loadGraphicsAttributes(e,t){if(!e.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const n={features:e.sourceGraphics.map((e=>hHe(e).attributes)).toArray(),oidIndex:{}};return this.oidIndexer(n,e.oidField),t.loadIsDone=!0,t.loadedCount=n.features.length,n}async loadCompactJsonAttributes(e,t){if(!e.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const n=e.sourceDataJson.fields,r=e.fieldsToTrim??[],i={features:e.sourceDataJson.data.map((e=>{const t={};return e.forEach(((e,i)=>{t[n[i]]="string"==typeof e&&r.includes(n[i])?e.trim():e})),t})),oidIndex:{}};return this.oidIndexer(i,e.oidField),t.loadIsDone=!0,t.loadedCount=i.features.length,e.sourceDataJson=void 0,i}async loadSingleFeature(e){const t={query:{f:"json",objectIds:e.oid,returnGeometry:e.includeGeometry,outFields:e.attribs}};typeof e.maxOffset<"u"&&(t.query.maxAllowableOffset=e.maxOffset),typeof e.mapSR<"u"&&(t.query.outSR=e.mapSR),typeof e.geometryPrecision<"u"&&e.geometryPrecision>=0&&(t.query.geometryPrecision=e.geometryPrecision);const[n,r]=await pct(Bl(e.serviceUrl+"/query",t));if(!r)return console.error(`ArcGIS single feature load error: ${e.serviceUrl}`,n),Promise.reject(new Error(`ArcGIS single feature load error: ${e.serviceUrl}`));if(!r.data||!r.data.features)return console.error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`));const i=r.data.features;if(i.length>0){let t,n=this.trimFeatureSetAttributes([i[0]],e.fieldsToTrim??[])[0];if(e.includeGeometry){n.geometry.spatialReference=r.data.spatialReference;const e=fv(n.geometry);t=this.$iApi.geo.geom.geomEsriToRamp(e)}else t=new jLe;return new x(t,"",n.attributes)}return Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`))}trimFeatureSetAttributes(e,t){return t.forEach((t=>{e.forEach((e=>{"string"==typeof e.attributes[t]&&(e.attributes[t]=e.attributes[t].trim())}))})),e}orderFields(e,t){const n=(e,t)=>e.findIndex((e=>e.name===t)),r=(r,i)=>{const o=n(t,r.name),s=n(t,i.name);return-1===o&&-1===s?n(e,r.name)-n(e,i.name):-1===o?1:-1===s?-1:o-s};return e.slice().sort(r)}applyFieldMetadata(e,t=void 0){if(!t||!t.fieldInfo)return void(e.fieldList="*");let n=t.fieldInfo.filter((e=>e.trim)).map((e=>e.name));if(e.fields.forEach((e=>{n.includes(e.name)&&(e.trim=!0)})),t?.enforceOrder&&t?.fieldInfo&&t?.fieldInfo.length>0&&(e.fields=this.orderFields(e.fields,t.fieldInfo),e.fieldList=t.fieldInfo.map((e=>e.name)).join(",")),t.exclusiveFields){t.fieldInfo.find((t=>t.name===e.oidField))||t.fieldInfo.push({name:e.oidField}),e.fieldList=t.fieldInfo.map((e=>e.name)).join(",");const n=t.fieldInfo;e.fields=e.fields.filter((e=>n.find((t=>t.name===e.name))))}else e.fieldList="*";t.fieldInfo.forEach((t=>{if(t.alias){const n=e.fields.find((e=>e.name===t.name));n&&(n.alias=t.alias)}}))}fieldValidator(e,t){if(-1===e.findIndex((e=>e.name===t))){const n=e.find((e=>e.alias===t));return n?n.name:(console.warn(`Cannot find name field in layer field list: ${t}`),"")}return t}async generateTabularAttributes(e,t){return t.attLoader.tabularAttributesCache||(t.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(e,t)),t.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(e,t){if(e.dataFormat===d.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const n=await t.attLoader.getAttribs();if(!n.features||0===n.features.length)return{columns:[],rows:[],fields:[],oidField:""};const r=e.fields.filter((e=>Object.prototype.hasOwnProperty.call(n.features[0],hHe(e).name))).map((e=>({data:hHe(e).name,title:hHe(e).alias||hHe(e).name}))),i=n.features.map((t=>{const n=pNe({},t);return n.rvInteractive="",n.rvSymbol=e.getIcon(t[e.oidField]),n.rvUid=e.uid,n}));return r.forEach((e=>{if("()"===e.data.slice(-2)){const t=function(){return this[e.data]},n=e.data.slice(0,-2);i.forEach((e=>{e[n]=t}))}})),{columns:r,rows:i,fields:e.fields,oidField:e.oidField}}}class Gct{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(e){this._attribLoader=e}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(e){this._quickCache=e}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class Vct{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class Bct extends AGe{aac;loadPromise;details;tabularAttributesCache;constructor(e,t){super(e),this.aac=new Vct,this.details=t}updateFieldList(e){this.details.attribs=e}updateFieldsToTrim(e){this.details.fieldsToTrim=e}getAttribs(){return this.loadPromise||(this.aac=new Vct,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class $ct extends Bct{constructor(e,t){super(e,t)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class Hct extends Bct{constructor(e,t){super(e,t)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class Wct extends Bct{constructor(e,t){super(e,t)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class qct{attribs;geoms;extents;isPoint;constructor(e){this.attribs={},this.geoms={},this.extents={},this.isPoint=e===c.POINT||e===c.MULTIPOINT}getScaleStore(e){return this.geoms[e]||(this.geoms[e]={}),this.geoms[e]}getGeomStore(e=void 0){if(this.isPoint)return this.geoms;if(typeof e>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(e)}getAttribs(e){return this.attribs[e]}setAttribs(e,t){this.attribs[e]=t}getGeom(e,t=void 0){return this.getGeomStore(t)[e]}setGeom(e,t,n=void 0){const r=this.getGeomStore(n);r[e]=t}getExtent(e){return this.extents[e]}setExtent(e,t){this.extents[e]=t}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class Zct{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(e,t,n=!1){this.innerRenderer=e,this.symbolUnits=[],this.falseRenderer=n,this.type=u.Unknown}makeSearchParams(e){return e}searchRenderer(e){const t=this.makeSearchParams(e),n=this.symbolUnits.find((e=>e.match(t)));if(n)return n;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${t}`);const r=new Yct(this);return r.svgCode="",r}getGraphicIcon(e){return this.searchRenderer(e).svgCode}getGraphicSymbol(e){return this.searchRenderer(e).symbol}getFieldDelimiter(e,t){let n="'";if(!t||0===t.length)return n;const r=t.find((t=>t.name===e));return r&&r.type&&"string"!==r.type&&(n=""),n}cleanFieldName(e,t){if(!e)return e;let n=t.find((t=>t.name===e));if(n)return e;{const r=e.toLowerCase();return n=t.find((e=>e.name.toLowerCase()===r)),n?n.name:e}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map((e=>e.definitionClause)).join(" OR ")}))`}}class Yct{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(e){this.parent=e,this.symbol=new fL}match(e){return!!e}}class Xct extends Zct{constructor(e,t){super(e,t),this.type=u.Simple;const n=new Yct(this);n.label=e.label||"",n.symbol=e.symbol,n.definitionClause="",this.symbolUnits.push(n)}}class Jct extends Zct{delim;keyFields;constructor(e,t,n=!1){super(e,t,n),this.type=u.Unique,this.delim=e.fieldDelimiter||", ";const r=e=>e.replace(/'/g,"''");this.keyFields=[e.field,e.field2,e.field3].filter((e=>e)).map((e=>this.cleanFieldName(e,t)));const i=this.keyFields.map((e=>this.getFieldDelimiter(e,t)));if(e.uniqueValueInfos.forEach((e=>{const t=new Kct(this,e.value);if(t.label=e.label||"",t.symbol=e.symbol,!this.falseRenderer){const e=t.matchValue.split(this.delim),n=this.keyFields.map(((t,n)=>"<Null>"===e[n]?`${t} IS NULL`:`${t} = ${i[n]}${r(e[n])}${i[n]}`)).join(" AND ");t.definitionClause=`(${n})`,t.matchValue=t.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(t)})),e.defaultSymbol){const t=new Kct(this,"");t.isDefault=!0,t.label=e.defaultLabel||"",t.symbol=e.defaultSymbol,t.definitionClause=this.makeElseClause(),this.defaultUnit=t}}makeSearchParams(e){return this.keyFields.map((t=>{let n=null===e[t]?"":e[t];return"string"!=typeof n&&(n=n.toString()),n})).join(this.delim)}}class Kct extends Yct{matchValue;constructor(e,t){super(e),this.matchValue="number"==typeof t?t.toString():t}match(e){return this.matchValue===e}}class Qct extends Zct{valField;constructor(e,t,n=!1){if(super(e,t,n),this.valField=this.cleanFieldName(e.field,t),e.classBreakInfos.forEach(((e,t)=>{const n=0===t,r=new eut(this,e.minValue,e.maxValue,n);r.label=e.label||"",r.symbol=e.symbol,this.falseRenderer||(r.definitionClause=`(${this.valField} >${n?"=":""}  ${e.minValue} AND ${this.valField} <= ${e.maxValue})`),this.symbolUnits.push(r)})),e.defaultSymbol){const t=new eut(this,0,0,!1);t.isDefault=!0,t.label=e.defaultLabel||"",t.symbol=e.defaultSymbol,t.definitionClause=this.makeElseClause(),this.defaultUnit=t}}makeSearchParams(e){return parseFloat(e[this.valField])}}class eut extends Yct{minValue;maxValue;firstBreak;constructor(e,t,n,r){super(e),this.minValue=t,this.maxValue=n,this.firstBreak=r}match(e){return this.minValue===this.maxValue?this.maxValue===e:this.firstBreak?this.minValue<=e&&this.maxValue>=e:this.minValue<e&&this.maxValue>=e}}var tut,nut={exports:{}},rut=nut.exports;function iut(){return tut||(tut=1,function(e){(function(t,n){e.exports=t.document?n(t,t.document):function(e){return n(e,e.document)}})(typeof window<"u"?window:rut,(function(e,t){var n=typeof this<"u"?this:e,r=n.SVG=function(e){if(r.supported)return e=new r.Doc(e),r.parser.draw||r.prepare(),e};if(r.ns="http://www.w3.org/2000/svg",r.xmlns="http://www.w3.org/2000/xmlns/",r.xlink="http://www.w3.org/1999/xlink",r.svgjs="http://svgjs.com/svgjs",r.supported=function(){return!!t.createElementNS&&!!t.createElementNS(r.ns,"svg").createSVGRect}(),!r.supported)return!1;r.did=1e3,r.eid=function(e){return"Svgjs"+f(e)+r.did++},r.create=function(e){var n=t.createElementNS(this.ns,e);return n.setAttribute("id",this.eid(e)),n},r.extend=function(){var e,t,n,i;for(e=[].slice.call(arguments),t=e.pop(),i=e.length-1;i>=0;i--)if(e[i])for(n in t)e[i].prototype[n]=t[n];r.Set&&r.Set.inherit&&r.Set.inherit()},r.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,r.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&r.extend(t,e.extend),e.construct&&r.extend(e.parent||r.Container,e.construct),t},r.adopt=function(t){return t?t.instance?t.instance:(n="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new r.Nested:new r.Doc:"linearGradient"==t.nodeName?new r.Gradient("linear"):"radialGradient"==t.nodeName?new r.Gradient("radial"):r[f(t.nodeName)]?new(r[f(t.nodeName)]):new r.Element(t),n.type=t.nodeName,n.node=t,t.instance=n,n instanceof r.Doc&&n.namespace().defs(),n.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),n):null;var n},r.prepare=function(){var e=t.getElementsByTagName("body")[0],n=(e?new r.Doc(e):r.adopt(t.documentElement).nested()).size(2,0);r.parser={body:e||t.documentElement,draw:n.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:n.polyline().node,path:n.path().node,native:r.create("svg")}},r.parser={native:r.create("svg")},t.addEventListener("DOMContentLoaded",(function(){r.parser.draw||r.prepare()}),!1),r.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},r.utils={map:function(e,t){var n,r=e.length,i=[];for(n=0;n<r;n++)i.push(t(e[n]));return i},filter:function(e,t){var n,r=e.length,i=[];for(n=0;n<r;n++)t(e[n])&&i.push(e[n]);return i},radians:function(e){return e%360*Math.PI/180},degrees:function(e){return 180*e/Math.PI%360},filterSVGElements:function(t){return this.filter(t,(function(t){return t instanceof e.SVGElement}))}},r.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},r.Color=function(e){var t;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?r.regex.isRgb.test(e)?(t=r.regex.rgb.exec(e.replace(r.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):r.regex.isHex.test(e)&&(t=r.regex.hex.exec(m(e)),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"==typeof e&&(this.r=e.r,this.g=e.g,this.b=e.b))},r.extend(r.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+y(this.r)+y(this.g)+y(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new r.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new r.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),r.Color.test=function(e){return e+="",r.regex.isHex.test(e)||r.regex.isRgb.test(e)},r.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},r.Color.isColor=function(e){return r.Color.isRgb(e)||r.Color.test(e)},r.Array=function(e,t){e=(e||[]).valueOf(),0==e.length&&t&&(e=t.valueOf()),this.value=this.parse(e)},r.extend(r.Array,{morph:function(e){if(this.destination=this.parse(e),this.value.length!=this.destination.length){for(var t=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(t)}return this},settle:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)-1==n.indexOf(this.value[e])&&n.push(this.value[e]);return this.value=n},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,i=[];t<n;t++)i.push(this.value[t]+(this.destination[t]-this.value[t])*e);return new r.Array(i)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)},split:function(e){return e.trim().split(r.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var e=new this.constructor;return e.value=u(this.value),e}}),r.PointArray=function(e,t){r.Array.call(this,e,t||[[0,0]])},r.PointArray.prototype=new r.Array,r.PointArray.prototype.constructor=r.PointArray,r.extend(r.PointArray,{toString:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)n.push(this.value[e].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,i=[];t<n;t++)i.push([this.value[t][0]+(this.destination[t][0]-this.value[t][0])*e,this.value[t][1]+(this.destination[t][1]-this.value[t][1])*e]);return new r.PointArray(i)},parse:function(e){var t=[];if(e=e.valueOf(),Array.isArray(e)){if(Array.isArray(e[0]))return e.map((function(e){return e.slice()}));if(null!=e[0].x)return e.map((function(e){return[e.x,e.y]}))}else e=e.trim().split(r.regex.delimiter).map(parseFloat);e.length%2!==0&&e.pop();for(var n=0,i=e.length;n<i;n+=2)t.push([e[n],e[n+1]]);return t},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var r=this.value.length-1;r>=0;r--)this.value[r]=[this.value[r][0]+e,this.value[r][1]+t];return this},size:function(e,t){var n,r=this.bbox();for(n=this.value.length-1;n>=0;n--)r.width&&(this.value[n][0]=(this.value[n][0]-r.x)*e/r.width+r.x),r.height&&(this.value[n][1]=(this.value[n][1]-r.y)*t/r.height+r.y);return this},bbox:function(){return r.parser.poly.setAttribute("points",this.toString()),r.parser.poly.getBBox()}});for(var i={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},o="mlhvqtcsaz".split(""),s=0,a=o.length;s<a;++s)i[o[s]]=function(e){return function(t,n,r){if("H"==e)t[0]=t[0]+n.x;else if("V"==e)t[0]=t[0]+n.y;else if("A"==e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(var o=0,s=t.length;o<s;++o)t[o]=t[o]+(o%2?n.y:n.x);return i[e](t,n,r)}}(o[s].toUpperCase());r.PathArray=function(e,t){r.Array.call(this,e,t||[["M",0,0]])},r.PathArray.prototype=new r.Array,r.PathArray.prototype.constructor=r.PathArray,r.extend(r.PathArray,{toString:function(){return x(this.value)},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var r,i=this.value.length-1;i>=0;i--)r=this.value[i][0],"M"==r||"L"==r||"T"==r?(this.value[i][1]+=e,this.value[i][2]+=t):"H"==r?this.value[i][1]+=e:"V"==r?this.value[i][1]+=t:"C"==r||"S"==r||"Q"==r?(this.value[i][1]+=e,this.value[i][2]+=t,this.value[i][3]+=e,this.value[i][4]+=t,"C"==r&&(this.value[i][5]+=e,this.value[i][6]+=t)):"A"==r&&(this.value[i][6]+=e,this.value[i][7]+=t);return this},size:function(e,t){var n,r,i=this.bbox();for(n=this.value.length-1;n>=0;n--)r=this.value[n][0],"M"==r||"L"==r||"T"==r?(this.value[n][1]=(this.value[n][1]-i.x)*e/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*t/i.height+i.y):"H"==r?this.value[n][1]=(this.value[n][1]-i.x)*e/i.width+i.x:"V"==r?this.value[n][1]=(this.value[n][1]-i.y)*t/i.height+i.y:"C"==r||"S"==r||"Q"==r?(this.value[n][1]=(this.value[n][1]-i.x)*e/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*t/i.height+i.y,this.value[n][3]=(this.value[n][3]-i.x)*e/i.width+i.x,this.value[n][4]=(this.value[n][4]-i.y)*t/i.height+i.y,"C"==r&&(this.value[n][5]=(this.value[n][5]-i.x)*e/i.width+i.x,this.value[n][6]=(this.value[n][6]-i.y)*t/i.height+i.y)):"A"==r&&(this.value[n][1]=this.value[n][1]*e/i.width,this.value[n][2]=this.value[n][2]*t/i.height,this.value[n][6]=(this.value[n][6]-i.x)*e/i.width+i.x,this.value[n][7]=(this.value[n][7]-i.y)*t/i.height+i.y);return this},equalCommands:function(e){var t,n,i;for(e=new r.PathArray(e),i=this.value.length===e.value.length,t=0,n=this.value.length;i&&t<n;t++)i=this.value[t][0]===e.value[t][0];return i},morph:function(e){return e=new r.PathArray(e),this.equalCommands(e)?this.destination=e:this.destination=null,this},at:function(e){if(!this.destination)return this;var t,n,i,o,s=this.value,a=this.destination.value,l=[],c=new r.PathArray;for(t=0,n=s.length;t<n;t++){for(l[t]=[s[t][0]],i=1,o=s[t].length;i<o;i++)l[t][i]=s[t][i]+(a[t][i]-s[t][i])*e;"A"===l[t][0]&&(l[t][4]=+(0!=l[t][4]),l[t][5]=+(0!=l[t][5]))}return c.value=l,c},parse:function(e){if(e instanceof r.PathArray)return e.valueOf();var t,n={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(r.regex.numbersWithDots,c).replace(r.regex.pathLetters," $& ").replace(r.regex.hyphen,"$1 -").trim().split(r.regex.delimiter):e.reduce((function(e,t){return[].concat.call(e,t)}),[]);var o=[],s=new r.Point,a=new r.Point,l=0,u=e.length;do{r.regex.isPathLetter.test(e[l])?(t=e[l],++l):"M"==t?t="L":"m"==t&&(t="l"),o.push(i[t].call(null,e.slice(l,l+=n[t.toUpperCase()]).map(parseFloat),s,a))}while(u>l);return o},bbox:function(){return r.parser.path.setAttribute("d",this.toString()),r.parser.path.getBBox()}}),r.Number=r.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(r.regex.numberAndUnit),t&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5])):e instanceof r.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new r.Number(e),new r.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new r.Number(e),new r.Number(this-e,this.unit||e.unit)},times:function(e){return e=new r.Number(e),new r.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new r.Number(e),new r.Number(this/e,this.unit||e.unit)},to:function(e){var t=new r.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new r.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new r.Number(this.destination).minus(this).times(e).plus(this):this}}}),r.Element=r.invent({create:function(e){this._stroke=r.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._events=e._events||{},this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var n=g(this,e,t);return this.width(new r.Number(n.width)).height(new r.Number(n.height))},clone:function(e){this.writeDataToDom();var t=S(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},inside:function(e,t){var n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(r.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!=e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return r.get(this.attr(e))},parent:function(t){var n=this;if(!n.node.parentNode)return null;if(n=r.adopt(n.node.parentNode),!t)return n;for(;n&&n.node instanceof e.SVGElement;){if("string"==typeof t?n.matches(t):n instanceof t)return n;if(!n.node.parentNode||"#document"==n.node.parentNode.nodeName||"#document-fragment"==n.node.parentNode.nodeName)return null;n=r.adopt(n.node.parentNode)}},doc:function(){return this instanceof r.Doc?this:this.parent(r.Doc)},parents:function(e){var t=[],n=this;do{if(n=n.parent(e),!n||!n.node)break;t.push(n)}while(n.parent);return t},matches:function(e){return p(this.node,e)},native:function(){return this.node},svg:function(e){var n=t.createElement("svg");if(!(e&&this instanceof r.Parent))return n.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),n.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");n.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var i=0,o=n.firstChild.childNodes.length;i<o;i++)this.node.appendChild(n.firstChild.firstChild);return this},writeDataToDom:function(){if(this.each||this.lines){var e=this.each?this:this.lines();e.each((function(){this.writeDataToDom()}))}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return h(this,e)}}}),r.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},r.morph=function(e){return function(t,n){return new r.MorphObj(t,n).at(e)}},r.Situation=r.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new r.Number(e.duration).valueOf(),this.delay=new r.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),r.FX=r.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,n){"object"==typeof e&&(t=e.ease,n=e.delay,e=e.duration);var i=new r.Situation({duration:e||1e3,delay:n||0,ease:r.easing[t||"-"]||t});return this.queue(i),this},delay:function(e){var t=new r.Situation({duration:e,delay:0,ease:r.easing["-"]});return this.queue(t)},target:function(e){return e&&e instanceof r.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof r.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof r.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t,n,i=this.situation;if(i.init)return this;for(e in i.animations)for(n=this.target()[e](),Array.isArray(n)||(n=[n]),Array.isArray(i.animations[e])||(i.animations[e]=[i.animations[e]]),t=n.length;t--;)i.animations[e][t]instanceof r.Number&&(n[t]=new r.Number(n[t])),i.animations[e][t]=n[t].morph(i.animations[e][t]);for(e in i.attrs)i.attrs[e]=new r.MorphObj(this.target().attr(e),i.attrs[e]);for(e in i.styles)i.styles[e]=new r.MorphObj(this.target().style(e),i.styles[e]);return i.initialTransformation=this.target().matrixify(),i.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var n=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var e=this.situation;this.stop(),this.situation=e,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(e,t){var n=this.situation.duration/this._speed;return this.absPos=e,t||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*n,this.situation.finish=this.situation.start+n,this.step(!0)},speed:function(e){return 0===e?this.pause():e?(this._speed=e,this.at(this.absPos,!0)):this._speed},loop:function(e,t){var n=this.last();return n.loops=e??!0,n.loop=0,t&&(n.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(e){var t=this.last();return t.reversed=typeof e>"u"?!t.reversed:e,this},progress:function(e){return e?this.situation.ease(this.pos):this.pos},after:function(e){var t=this.last(),n=function n(r){r.detail.situation==t&&(e.call(this,t),this.off("finished.fx",n))};return this.target().on("finished.fx",n),this._callStart()},during:function(e){var t=this.last(),n=function(n){n.detail.situation==t&&e.call(this,n.detail.pos,r.morph(n.detail.pos),n.detail.eased,t)};return this.target().off("during.fx",n).on("during.fx",n),this.after((function(){this.off("during.fx",n)})),this._callStart()},afterAll:function(e){var t=function t(n){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},duringAll:function(e){var t=function(t){e.call(this,t.detail.pos,r.morph(t.detail.pos),t.detail.eased,t.detail.situation)};return this.target().off("during.fx",t).on("during.fx",t),this.afterAll((function(){this.off("during.fx",t)})),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,n){return this.last()[n||"animations"][e]=t,this._callStart()},step:function(e){var t,n,r;(e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops)?(t=Math.max(this.absPos,0),n=Math.floor(t),!0===this.situation.loops||n<this.situation.loops?(this.pos=t-n,r=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,r=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-r)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos);this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var i=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=i&&(this.situation.once[o].call(this.target(),this.pos,i),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:i,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=i,this):this},eachAt:function(){var e,t,n,i=this,o=this.target(),s=this.situation;for(e in s.animations)n=[].concat(s.animations[e]).map((function(e){return"string"!=typeof e&&e.at?e.at(s.ease(i.pos),i.pos):e})),o[e].apply(o,n);for(e in s.attrs)n=[e].concat(s.attrs[e]).map((function(e){return"string"!=typeof e&&e.at?e.at(s.ease(i.pos),i.pos):e})),o.attr.apply(o,n);for(e in s.styles)n=[e].concat(s.styles[e]).map((function(e){return"string"!=typeof e&&e.at?e.at(s.ease(i.pos),i.pos):e})),o.style.apply(o,n);if(s.transforms.length){for(n=s.initialTransformation,e=0,t=s.transforms.length;e<t;e++){var a=s.transforms[e];a instanceof r.Matrix?n=a.relative?n.multiply((new r.Matrix).morph(a).at(s.ease(this.pos))):n.morph(a).at(s.ease(this.pos)):(a.relative||a.undo(n.extract()),n=n.multiply(a.at(s.ease(this.pos))))}o.matrix(n)}return this},once:function(e,t,n){var r=this.last();return n||(e=r.ease(e)),r.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:r.Element,construct:{animate:function(e,t,n){return(this.fx||(this.fx=new r.FX(this))).animate(e,t,n)},delay:function(e){return(this.fx||(this.fx=new r.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(e){if(this.fx){if(null==e)return this.fx.speed();this.fx.speed(e)}return this}}}),r.MorphObj=r.invent({create:function(e,t){return r.Color.isColor(t)?new r.Color(e).morph(t):r.regex.delimiter.test(e)?r.regex.pathLetters.test(e)?new r.PathArray(e).morph(t):new r.Array(e).morph(t):r.regex.numberAndUnit.test(t)?new r.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),r.extend(r.FX,{attr:function(e,t,n){if("object"==typeof e)for(var r in e)this.attr(r,e[r]);else this.add(e,t,"attrs");return this},style:function(e,t){if("object"==typeof e)for(var n in e)this.style(n,e[n]);else this.add(e,t,"styles");return this},x:function(e,t){if(this.target()instanceof r.G)return this.transform({x:e},t),this;var n=new r.Number(e);return n.relative=t,this.add("x",n)},y:function(e,t){if(this.target()instanceof r.G)return this.transform({y:e},t),this;var n=new r.Number(e);return n.relative=t,this.add("y",n)},cx:function(e){return this.add("cx",new r.Number(e))},cy:function(e){return this.add("cy",new r.Number(e))},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},size:function(e,t){var n;this.target()instanceof r.Text?this.attr("font-size",e):((!e||!t)&&(n=this.target().bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.add("width",new r.Number(e)).add("height",new r.Number(t)));return this},width:function(e){return this.add("width",new r.Number(e))},height:function(e){return this.add("height",new r.Number(e))},plot:function(e,t,n,r){return 4==arguments.length?this.plot([e,t,n,r]):this.add("plot",new(this.target().morphArray)(e))},leading:function(e){return this.target().leading?this.add("leading",new r.Number(e)):this},viewbox:function(e,t,n,i){return this.target()instanceof r.Container&&this.add("viewbox",new r.ViewBox(e,t,n,i)),this},update:function(e){if(this.target()instanceof r.Stop){if("number"==typeof e||e instanceof r.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset)}return this}}),r.Box=r.invent({create:function(e,t,n,i){if("object"==typeof e&&!(e instanceof r.Element))return r.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);4==arguments.length&&(this.x=e,this.y=t,this.width=n,this.height=i),T(this)},extend:{merge:function(e){var t=new this.constructor;return t.x=Math.min(this.x,e.x),t.y=Math.min(this.y,e.y),t.width=Math.max(this.x+this.width,e.x+e.width)-t.x,t.height=Math.max(this.y+this.height,e.y+e.height)-t.y,T(t)},transform:function(e){var t,n=1/0,i=-1/0,o=1/0,s=-1/0,a=[new r.Point(this.x,this.y),new r.Point(this.x2,this.y),new r.Point(this.x,this.y2),new r.Point(this.x2,this.y2)];return a.forEach((function(t){t=t.transform(e),n=Math.min(n,t.x),i=Math.max(i,t.x),o=Math.min(o,t.y),s=Math.max(s,t.y)})),t=new this.constructor,t.x=n,t.width=i-n,t.y=o,t.height=s-o,T(t),t}}}),r.BBox=r.invent({create:function(e){if(r.Box.apply(this,[].slice.call(arguments)),e instanceof r.Element){var n;try{if(t.documentElement.contains){if(!t.documentElement.contains(e.node))throw new Exception("Element not in the dom")}else{for(var i=e.node;i.parentNode;)i=i.parentNode;if(i!=t)throw new Exception("Element not in the dom")}n=e.node.getBBox()}catch{if(e instanceof r.Shape){var o=e.clone(r.parser.draw.instance).show();n=o.node.getBBox(),o.remove()}else n={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}r.Box.call(this,n)}},inherit:r.Box,parent:r.Element,construct:{bbox:function(){return new r.BBox(this)}}}),r.BBox.prototype.constructor=r.BBox,r.extend(r.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),r.RBox=r.invent({create:function(e){r.Box.apply(this,[].slice.call(arguments)),e instanceof r.Element&&r.Box.call(this,e.node.getBoundingClientRect())},inherit:r.Box,parent:r.Element,extend:{addOffset:function(){return this.x+=e.pageXOffset,this.y+=e.pageYOffset,this}},construct:{rbox:function(e){return e?new r.RBox(this).transform(e.screenCTM().inverse()):new r.RBox(this).addOffset()}}}),r.RBox.prototype.constructor=r.RBox,r.Matrix=r.invent({create:function(e){var t,n=b([1,0,0,1,0,0]);for(e=e instanceof r.Element?e.matrixify():"string"==typeof e?b(e.split(r.regex.delimiter).map(parseFloat)):6==arguments.length?b([].slice.call(arguments)):Array.isArray(e)?b(e):"object"==typeof e?e:n,t=A.length-1;t>=0;--t)this[A[t]]=null!=e[A[t]]?e[A[t]]:n[A[t]]},extend:{extract:function(){var e=v(this,0,1),t=v(this,1,0),n=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(n*Math.PI/180)+this.f*Math.sin(n*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(n*Math.PI/180)+this.e*Math.sin(-n*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-n,skewY:180/Math.PI*Math.atan2(t.y,t.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new r.Matrix(this)}},clone:function(){return new r.Matrix(this)},morph:function(e){return this.destination=new r.Matrix(e),this},at:function(e){if(!this.destination)return this;var t=new r.Matrix({a:this.a+(this.destination.a-this.a)*e,b:this.b+(this.destination.b-this.b)*e,c:this.c+(this.destination.c-this.c)*e,d:this.d+(this.destination.d-this.d)*e,e:this.e+(this.destination.e-this.e)*e,f:this.f+(this.destination.f-this.f)*e});return t},multiply:function(e){return new r.Matrix(this.native().multiply(w(e).native()))},inverse:function(){return new r.Matrix(this.native().inverse())},translate:function(e,t){return new r.Matrix(this.native().translate(e||0,t||0))},scale:function(e,t,n,i){return 1==arguments.length?t=e:3==arguments.length&&(i=n,n=t,t=e),this.around(n,i,new r.Matrix(e,0,0,t,0,0))},rotate:function(e,t,n){return e=r.utils.radians(e),this.around(t,n,new r.Matrix(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0))},flip:function(e,t){return"x"==e?this.scale(-1,1,t,0):"y"==e?this.scale(1,-1,0,t):this.scale(-1,-1,e,t??e)},skew:function(e,t,n,i){return 1==arguments.length?t=e:3==arguments.length&&(i=n,n=t,t=e),e=r.utils.radians(e),t=r.utils.radians(t),this.around(n,i,new r.Matrix(1,Math.tan(t),Math.tan(e),1,0,0))},skewX:function(e,t,n){return this.skew(e,0,t,n)},skewY:function(e,t,n){return this.skew(0,e,t,n)},around:function(e,t,n){return this.multiply(new r.Matrix(1,0,0,1,e||0,t||0)).multiply(n).multiply(new r.Matrix(1,0,0,1,-e||0,-t||0))},native:function(){for(var e=r.parser.native.createSVGMatrix(),t=A.length-1;t>=0;t--)e[A[t]]=this[A[t]];return e},toString:function(){return"matrix("+M(this.a)+","+M(this.b)+","+M(this.c)+","+M(this.d)+","+M(this.e)+","+M(this.f)+")"}},parent:r.Element,construct:{ctm:function(){return new r.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof r.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new r.Matrix(t)}return new r.Matrix(this.node.getScreenCTM())}}}),r.Point=r.invent({create:function(e,t){var n,r={x:0,y:0};n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"==typeof e?{x:e.x,y:e.y}:null!=e?{x:e,y:t??e}:r,this.x=n.x,this.y=n.y},extend:{clone:function(){return new r.Point(this)},morph:function(e,t){return this.destination=new r.Point(e,t),this},at:function(e){if(!this.destination)return this;var t=new r.Point({x:this.x+(this.destination.x-this.x)*e,y:this.y+(this.destination.y-this.y)*e});return t},native:function(){var e=r.parser.native.createSVGPoint();return e.x=this.x,e.y=this.y,e},transform:function(e){return new r.Point(this.native().matrixTransform(e.native()))}}}),r.extend(r.Element,{point:function(e,t){return new r.Point(e,t).transform(this.screenCTM().inverse())}}),r.extend(r.Element,{attr:function(e,t,n){if(null==e){for(e={},t=this.node.attributes,n=t.length-1;n>=0;n--)e[t[n].nodeName]=r.regex.isNumber.test(t[n].nodeValue)?parseFloat(t[n].nodeValue):t[n].nodeValue;return e}if("object"==typeof e)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return t=this.node.getAttribute(e),null==t?r.defaults.attrs[e]:r.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),("fill"==e||"stroke"==e)&&(r.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof r.Image&&(t=this.doc().defs().pattern(0,0,(function(){this.add(t)})))),"number"==typeof t?t=new r.Number(t):r.Color.isColor(t)?t=new r.Color(t):Array.isArray(t)&&(t=new r.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof n?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&("font-size"==e||"x"==e)&&this.rebuild(e,t)}return this}}),r.extend(r.Element,{transform:function(e,t){var n,i,o=this;if("object"!=typeof e)return n=new r.Matrix(o).extract(),"string"==typeof e?n[e]:n;if(n=new r.Matrix(o),t=!!t||!!e.relative,null!=e.a)n=t?n.multiply(new r.Matrix(e)):new r.Matrix(e);else if(null!=e.rotation)_(e,o),n=t?n.rotate(e.rotation,e.cx,e.cy):n.rotate(e.rotation-n.extract().rotation,e.cx,e.cy);else if(null!=e.scale||null!=e.scaleX||null!=e.scaleY){if(_(e,o),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,!t){var s=n.extract();e.scaleX=1*e.scaleX/s.scaleX,e.scaleY=1*e.scaleY/s.scaleY}n=n.scale(e.scaleX,e.scaleY,e.cx,e.cy)}else if(null!=e.skew||null!=e.skewX||null!=e.skewY){if(_(e,o),e.skewX=null!=e.skew?e.skew:null!=e.skewX?e.skewX:0,e.skewY=null!=e.skew?e.skew:null!=e.skewY?e.skewY:0,!t){s=n.extract();n=n.multiply((new r.Matrix).skew(s.skewX,s.skewY,e.cx,e.cy).inverse())}n=n.skew(e.skewX,e.skewY,e.cx,e.cy)}else e.flip?("x"==e.flip||"y"==e.flip?e.offset=null==e.offset?o.bbox()["c"+e.flip]:e.offset:null==e.offset?(i=o.bbox(),e.flip=i.cx,e.offset=i.cy):e.flip=e.offset,n=(new r.Matrix).flip(e.flip,e.offset)):(null!=e.x||null!=e.y)&&(t?n=n.translate(e.x,e.y):(null!=e.x&&(n.e=e.x),null!=e.y&&(n.f=e.y)));return this.attr("transform",n)}}),r.extend(r.FX,{transform:function(e,t){var n,i,o=this.target();return"object"!=typeof e?(n=new r.Matrix(o).extract(),"string"==typeof e?n[e]:n):(t=!!t||!!e.relative,null!=e.a?n=new r.Matrix(e):null!=e.rotation?(_(e,o),n=new r.Rotate(e.rotation,e.cx,e.cy)):null!=e.scale||null!=e.scaleX||null!=e.scaleY?(_(e,o),e.scaleX=null!=e.scale?e.scale:null!=e.scaleX?e.scaleX:1,e.scaleY=null!=e.scale?e.scale:null!=e.scaleY?e.scaleY:1,n=new r.Scale(e.scaleX,e.scaleY,e.cx,e.cy)):null!=e.skewX||null!=e.skewY?(_(e,o),e.skewX=null!=e.skewX?e.skewX:0,e.skewY=null!=e.skewY?e.skewY:0,n=new r.Skew(e.skewX,e.skewY,e.cx,e.cy)):e.flip?("x"==e.flip||"y"==e.flip?e.offset=null==e.offset?o.bbox()["c"+e.flip]:e.offset:null==e.offset?(i=o.bbox(),e.flip=i.cx,e.offset=i.cy):e.flip=e.offset,n=(new r.Matrix).flip(e.flip,e.offset)):(null!=e.x||null!=e.y)&&(n=new r.Translate(e.x,e.y)),n?(n.relative=t,this.last().transforms.push(n),this._callStart()):this)}}),r.extend(r.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var e=(this.attr("transform")||"").split(r.regex.transforms).slice(0,-1).map((function(e){var t=e.trim().split("(");return[t[0],t[1].split(r.regex.delimiter).map((function(e){return parseFloat(e)}))]})).reduce((function(e,t){return"matrix"==t[0]?e.multiply(b(t[1])):e[t[0]].apply(e,t[1])}),new r.Matrix);return e},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),n=e.screenCTM().inverse();return this.addTo(e).untransform().transform(n.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),r.Transformation=r.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=e[n];else if("object"==typeof e)for(n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=e[this.arguments[n]];this.inversed=!1,!0===t&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(e){for(var t=[],n=0,i=this.arguments.length;n<i;++n)t.push(this[this.arguments[n]]);var o=this._undo||new r.Matrix;return o=(new r.Matrix).morph(r.Matrix.prototype[this.method].apply(o,t)).at(e),this.inversed?o.inverse():o},undo:function(e){for(var t=0,n=this.arguments.length;t<n;++t)e[this.arguments[t]]=typeof this[this.arguments[t]]>"u"?0:e[this.arguments[t]];return e.cx=this.cx,e.cy=this.cy,this._undo=new(r[f(this.method)])(e,!0).at(1),this}}}),r.Translate=r.invent({parent:r.Matrix,inherit:r.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),r.Rotate=r.invent({parent:r.Matrix,inherit:r.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(e){var t=(new r.Matrix).rotate((new r.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(e),this.cx,this.cy);return this.inversed?t.inverse():t},undo:function(e){return this._undo=e,this}}}),r.Scale=r.invent({parent:r.Matrix,inherit:r.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),r.Skew=r.invent({parent:r.Matrix,inherit:r.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),r.extend(r.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof e)for(t in e)this.style(t,e[t]);else{if(!r.regex.isCss.test(e))return this.node.style[d(e)];for(e=e.split(/\s*;\s*/).filter((function(e){return!!e})).map((function(e){return e.split(/\s*:\s*/)}));t=e.pop();)this.style(t[0],t[1])}else this.node.style[d(e)]=null===t||r.regex.isBlank.test(t)?"":t;return this}}),r.Parent=r.invent({create:function(e){this.constructor.call(this,e)},inherit:r.Element,extend:{children:function(){return r.utils.map(r.utils.filterSVGElements(this.node.childNodes),(function(e){return r.adopt(e)}))},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return r.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){var n,i,o=this.children();for(n=0,i=o.length;n<i;n++)o[n]instanceof r.Element&&e.apply(o[n],[n,o]),t&&o[n]instanceof r.Container&&o[n].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),r.extend(r.Parent,{ungroup:function(e,t){return 0===t||this instanceof r.Defs||this.node==r.parser.draw||(e=e||(this instanceof r.Doc?this:this.parent(r.Parent)),t=t||1/0,this.each((function(){return this instanceof r.Defs?this:this instanceof r.Parent?this.ungroup(e,t-1):this.toParent(e)})),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),r.Container=r.invent({create:function(e){this.constructor.call(this,e)},inherit:r.Parent}),r.ViewBox=r.invent({create:function(e){var t,n,i,o,s,a,l,c=[0,0,0,0],u=1,h=1,p=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(e instanceof r.Element){for(a=e,l=e,s=(e.attr("viewBox")||"").match(p),e.bbox,i=new r.Number(e.width()),o=new r.Number(e.height());"%"==i.unit;)u*=i.value,i=new r.Number(a instanceof r.Doc?a.parent().offsetWidth:a.parent().width()),a=a.parent();for(;"%"==o.unit;)h*=o.value,o=new r.Number(l instanceof r.Doc?l.parent().offsetHeight:l.parent().height()),l=l.parent();this.x=0,this.y=0,this.width=i*u,this.height=o*h,this.zoom=1,s&&(t=parseFloat(s[0]),n=parseFloat(s[1]),i=parseFloat(s[2]),o=parseFloat(s[3]),this.zoom=this.width/this.height>i/o?this.height/o:this.width/i,this.x=t,this.y=n,this.width=i,this.height=o)}else e="string"==typeof e?e.match(p).map((function(e){return parseFloat(e)})):Array.isArray(e)?e:"object"==typeof e?[e.x,e.y,e.width,e.height]:4==arguments.length?[].slice.call(arguments):c,this.x=e[0],this.y=e[1],this.width=e[2],this.height=e[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(e,t,n,i){return this.destination=new r.ViewBox(e,t,n,i),this},at:function(e){return this.destination?new r.ViewBox([this.x+(this.destination.x-this.x)*e,this.y+(this.destination.y-this.y)*e,this.width+(this.destination.width-this.width)*e,this.height+(this.destination.height-this.height)*e]):this}},parent:r.Container,construct:{viewbox:function(e,t,n,i){return 0==arguments.length?new r.ViewBox(this):this.attr("viewBox",new r.ViewBox(e,t,n,i))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(e){r.Element.prototype[e]=function(t){return null==t?r.off(this,e):r.on(this,e,t),this}})),r.listenerId=0,r.on=function(e,t,n,i,o){var s=n.bind(i||e),a=e instanceof r.Element?e.node:e;a.instance=a.instance||{_events:{}};var l=a.instance._events;n._svgjsListenerId||(n._svgjsListenerId=++r.listenerId),t.split(r.regex.delimiter).forEach((function(e){var t=e.split(".")[0],r=e.split(".")[1]||"*";l[t]=l[t]||{},l[t][r]=l[t][r]||{},l[t][r][n._svgjsListenerId]=s,a.addEventListener(t,s,o||!1)}))},r.off=function(e,t,n,i){var o=e instanceof r.Element?e.node:e;if(o.instance&&("function"!=typeof n||(n=n._svgjsListenerId,n))){var s=o.instance._events;(t||"").split(r.regex.delimiter).forEach((function(e){var t,a,l=e&&e.split(".")[0],c=e&&e.split(".")[1];if(n)s[l]&&s[l][c||"*"]&&(o.removeEventListener(l,s[l][c||"*"][n],i||!1),delete s[l][c||"*"][n]);else if(l&&c){if(s[l]&&s[l][c]){for(a in s[l][c])r.off(o,[l,c].join("."),a);delete s[l][c]}}else if(c)for(e in s)for(t in s[e])c===t&&r.off(o,[e,c].join("."));else if(l){if(s[l]){for(t in s[l])r.off(o,[l,t].join("."));delete s[l]}}else{for(e in s)r.off(o,e);o.instance._events={}}}))}},r.extend(r.Element,{on:function(e,t,n,i){return r.on(this,e,t,n,i),this},off:function(e,t){return r.off(this.node,e,t),this},fire:function(t,n){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new r.CustomEvent(t,{detail:n,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),r.Defs=r.invent({create:"defs",inherit:r.Container}),r.G=r.invent({create:"g",inherit:r.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)},y:function(e){return null==e?this.transform("y"):this.transform({y:e-this.y()},!0)},cx:function(e){return null==e?this.gbox().cx:this.x(e-this.gbox().width/2)},cy:function(e){return null==e?this.gbox().cy:this.y(e-this.gbox().height/2)},gbox:function(){var e=this.bbox(),t=this.transform();return e.x+=t.x,e.x2+=t.x,e.cx+=t.x,e.y+=t.y,e.y2+=t.y,e.cy+=t.y,e}},construct:{group:function(){return this.put(new r.G)}}}),r.Doc=r.invent({create:function(e){e&&(e="string"==typeof e?t.getElementById(e):e,"svg"==e.nodeName?this.constructor.call(this,e):(this.constructor.call(this,r.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:r.Container,extend:{namespace:function(){return this.attr({xmlns:r.ns,version:"1.1"}).attr("xmlns:xlink",r.xlink,r.xmlns).attr("xmlns:svgjs",r.svgjs,r.xmlns)},defs:function(){var e;this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=r.adopt(e):this._defs=new r.Defs,this.node.appendChild(this._defs.node));return this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName&&"#document-fragment"!=this.node.parentNode.nodeName?this.node.parentNode:null},spof:function(){var e=this.node.getScreenCTM();return e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,r.parser.draw.parentNode||this.node.appendChild(r.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,n=S(t.cloneNode(!0));return e?(e.node||e).appendChild(n.node):t.parentNode.insertBefore(n.node,t.nextSibling),n}}}),r.extend(r.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var e=this.position()+1,t=this.parent();return t.removeElement(this).add(this,e),t instanceof r.Doc&&t.node.appendChild(t.defs().node),this},backward:function(){var e=this.position();return e>0&&this.parent().removeElement(this).add(this,e-1),this},front:function(){var e=this.parent();return e.node.appendChild(this.node),e instanceof r.Doc&&e.node.appendChild(e.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(e){e.remove();var t=this.position();return this.parent().add(e,t),this},after:function(e){e.remove();var t=this.position();return this.parent().add(e,t+1),this}}),r.Mask=r.invent({create:function(){this.constructor.call(this,r.create("mask")),this.targets=[]},inherit:r.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unmask();return this.targets=[],r.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new r.Mask)}}}),r.extend(r.Element,{maskWith:function(e){return this.masker=e instanceof r.Mask?e:this.parent().mask().add(e),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),r.ClipPath=r.invent({create:function(){this.constructor.call(this,r.create("clipPath")),this.targets=[]},inherit:r.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new r.ClipPath)}}}),r.extend(r.Element,{clipWith:function(e){return this.clipper=e instanceof r.ClipPath?e:this.parent().clip().add(e),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),r.Gradient=r.invent({create:function(e){this.constructor.call(this,r.create(e+"Gradient")),this.type=e},inherit:r.Container,extend:{at:function(e,t,n){return this.put(new r.Stop).update(e,t,n)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,n){return"transform"==e&&(e="gradientTransform"),r.Container.prototype.attr.call(this,e,t,n)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),r.extend(r.Gradient,r.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new r.Number(e),fy:new r.Number(t)}):this.attr({x1:new r.Number(e),y1:new r.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new r.Number(e),cy:new r.Number(t)}):this.attr({x2:new r.Number(e),y2:new r.Number(t)})}}),r.extend(r.Defs,{gradient:function(e,t){return this.put(new r.Gradient(e)).update(t)}}),r.Stop=r.invent({create:"stop",inherit:r.Element,extend:{update:function(e){return("number"==typeof e||e instanceof r.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new r.Number(e.offset)),this}}}),r.Pattern=r.invent({create:"pattern",inherit:r.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,n){return"transform"==e&&(e="patternTransform"),r.Container.prototype.attr.call(this,e,t,n)}},construct:{pattern:function(e,t,n){return this.defs().pattern(e,t,n)}}}),r.extend(r.Defs,{pattern:function(e,t,n){return this.put(new r.Pattern).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),r.Shape=r.invent({create:function(e){this.constructor.call(this,e)},inherit:r.Element}),r.Bare=r.invent({create:function(e,t){if(this.constructor.call(this,r.create(e)),t)for(var n in t.prototype)"function"==typeof t.prototype[n]&&(this[n]=t.prototype[n])},inherit:r.Element,extend:{words:function(e){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(t.createTextNode(e)),this}}}),r.extend(r.Parent,{element:function(e,t){return this.put(new r.Bare(e,t))}}),r.Symbol=r.invent({create:"symbol",inherit:r.Container,construct:{symbol:function(){return this.put(new r.Symbol)}}}),r.Use=r.invent({create:"use",inherit:r.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,r.xlink)}},construct:{use:function(e,t){return this.put(new r.Use).element(e,t)}}}),r.Rect=r.invent({create:"rect",inherit:r.Shape,construct:{rect:function(e,t){return this.put(new r.Rect).size(e,t)}}}),r.Circle=r.invent({create:"circle",inherit:r.Shape,construct:{circle:function(e){return this.put(new r.Circle).rx(new r.Number(e).divide(2)).move(0,0)}}}),r.extend(r.Circle,r.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),r.Ellipse=r.invent({create:"ellipse",inherit:r.Shape,construct:{ellipse:function(e,t){return this.put(new r.Ellipse).size(e,t).move(0,0)}}}),r.extend(r.Ellipse,r.Rect,r.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),r.extend(r.Circle,r.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new r.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new r.Number(e).divide(2))},size:function(e,t){var n=g(this,e,t);return this.rx(new r.Number(n.width).divide(2)).ry(new r.Number(n.height).divide(2))}}),r.Line=r.invent({create:"line",inherit:r.Shape,extend:{array:function(){return new r.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,n,i){return null==e?this.array():(e=typeof t<"u"?{x1:e,y1:t,x2:n,y2:i}:new r.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var n=g(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(e,t,n,i){return r.Line.prototype.plot.apply(this.put(new r.Line),null!=e?[e,t,n,i]:[0,0,0,0])}}}),r.Polyline=r.invent({create:"polyline",inherit:r.Shape,construct:{polyline:function(e){return this.put(new r.Polyline).plot(e||new r.PointArray)}}}),r.Polygon=r.invent({create:"polygon",inherit:r.Shape,construct:{polygon:function(e){return this.put(new r.Polygon).plot(e||new r.PointArray)}}}),r.extend(r.Polyline,r.Polygon,{array:function(){return this._array||(this._array=new r.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new r.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var n=g(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}}),r.extend(r.Line,r.Polyline,r.Polygon,{morphArray:r.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),r.Path=r.invent({create:"path",inherit:r.Shape,extend:{morphArray:r.PathArray,array:function(){return this._array||(this._array=new r.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new r.PathArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("d",this.array().move(e,t))},x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},size:function(e,t){var n=g(this,e,t);return this.attr("d",this.array().size(n.width,n.height))},width:function(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)},height:function(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}},construct:{path:function(e){return this.put(new r.Path).plot(e||new r.PathArray)}}}),r.Image=r.invent({create:"image",inherit:r.Shape,extend:{load:function(t){if(!t)return this;var n=this,i=new e.Image;return r.on(i,"load",(function(){r.off(i);var e=n.parent(r.Pattern);null!==e&&(0==n.width()&&0==n.height()&&n.size(i.width,i.height),e&&0==e.width()&&0==e.height()&&e.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:i.width,height:i.height,ratio:i.width/i.height,url:t}))})),r.on(i,"error",(function(e){r.off(i),"function"==typeof n._error&&n._error.call(n,e)})),this.attr("href",i.src=this.src=t,r.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,n){return this.put(new r.Image).load(e).size(t||0,n||t||0)}}}),r.Text=r.invent({create:function(){this.constructor.call(this,r.create("text")),this.dom.leading=new r.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",r.defaults.attrs["font-family"])},inherit:r.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},y:function(e){var t=this.attr("y"),n="number"==typeof t?t-this.bbox().y:0;return null==e?"number"==typeof t?t-n:t:this.attr("y","number"==typeof e.valueOf()?e+n:e)},cx:function(e){return null==e?this.bbox().cx:this.x(e-this.bbox().width/2)},cy:function(e){return null==e?this.bbox().cy:this.y(e-this.bbox().height/2)},text:function(e){if(typeof e>"u"){e="";for(var t=this.node.childNodes,n=0,i=t.length;n<i;++n)0!=n&&3!=t[n].nodeType&&1==r.adopt(t[n]).dom.newLined&&(e+="\n"),e+=t[n].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{e=e.split("\n");n=0;for(var o=e.length;n<o;n++)this.tspan(e[n]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new r.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=r.utils.map(r.utils.filterSVGElements(e.childNodes),(function(e){return r.adopt(e)}));return new r.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,n=0,i=this.dom.leading*new r.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?n+=i:(this.attr("dy",i+n),n=0))})),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new r.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new r.Text).text(e)},plain:function(e){return this.put(new r.Text).plain(e)}}}),r.Tspan=r.invent({create:"tspan",inherit:r.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(r.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),r.extend(r.Text,r.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,n=new r.Tspan;return!1===this._build&&this.clear(),t.appendChild(n.node),n.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),r.TextPath=r.invent({create:"textPath",inherit:r.Parent,parent:r.Text,construct:{morphArray:r.PathArray,path:function(e){for(var t=new r.TextPath,n=this.doc().defs().path(e);this.node.hasChildNodes();)t.node.appendChild(this.node.firstChild);return this.node.appendChild(t.node),t.attr("href","#"+n,r.xlink),this},array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return r.adopt(this.node.firstChild)}}}),r.Nested=r.invent({create:function(){this.constructor.call(this,r.create("svg")),this.style("overflow","visible")},inherit:r.Container,construct:{nested:function(){return this.put(new r.Nested)}}}),r.A=r.invent({create:"a",inherit:r.Container,extend:{to:function(e){return this.attr("href",e,r.xlink)},show:function(e){return this.attr("show",e,r.xlink)},target:function(e){return this.attr("target",e)}},construct:{link:function(e){return this.put(new r.A).to(e)}}}),r.extend(r.Element,{linkTo:function(e){var t=new r.A;return"function"==typeof e?e.call(t,t):t.to(e),this.parent().put(t).put(this)}}),r.Marker=r.invent({create:"marker",inherit:r.Container,extend:{width:function(e){return this.attr("markerWidth",e)},height:function(e){return this.attr("markerHeight",e)},ref:function(e,t){return this.attr("refX",e).attr("refY",t)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(e,t,n){return this.defs().marker(e,t,n)}}}),r.extend(r.Defs,{marker:function(e,t,n){return this.put(new r.Marker).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)}}),r.extend(r.Line,r.Polyline,r.Polygon,r.Path,{marker:function(e,t,n,i){var o=["marker"];return"all"!=e&&o.push(e),o=o.join("-"),e=arguments[1]instanceof r.Marker?arguments[1]:this.doc().marker(t,n,i),this.attr(o,e)}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function c(e,t,n,i){return n+i.replace(r.regex.dots," .")}function u(e){for(var t=e.slice(0),n=t.length;n--;)Array.isArray(t[n])&&(t[n]=u(t[n]));return t}function h(e,t){return e instanceof t}function p(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function d(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function m(e){return 4==e.length?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function y(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function g(e,t,n){if(null==t||null==n){var r=e.bbox();null==t?t=r.width/r.height*n:null==n&&(n=r.height/r.width*t)}return{width:t,height:n}}function v(e,t,n){return{x:t*e.a+n*e.c+0,y:t*e.b+n*e.d+0}}function b(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function w(e){return e instanceof r.Matrix||(e=new r.Matrix(e)),e}function _(e,t){e.cx=null==e.cx?t.bbox().cx:e.cx,e.cy=null==e.cy?t.bbox().cy:e.cy}function x(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t][0],null!=e[t][1]&&(r+=e[t][1],null!=e[t][2]&&(r+=" ",r+=e[t][2],null!=e[t][3]&&(r+=" ",r+=e[t][3],r+=" ",r+=e[t][4],null!=e[t][5]&&(r+=" ",r+=e[t][5],r+=" ",r+=e[t][6],null!=e[t][7]&&(r+=" ",r+=e[t][7])))));return r+" "}function S(t){for(var n=t.childNodes.length-1;n>=0;n--)t.childNodes[n]instanceof e.SVGElement&&S(t.childNodes[n]);return r.adopt(t).id(r.eid(t.nodeName))}function T(e){return null==e.x&&(e.x=0,e.y=0,e.width=0,e.height=0),e.w=e.width,e.h=e.height,e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e}function E(e){var t=(e||"").toString().match(r.regex.reference);if(t)return t[1]}function M(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach((function(e){var t,n={};n[e]=function(n){if(typeof n>"u")return this;if("string"==typeof n||r.Color.isRgb(n)||n&&"function"==typeof n.fill)this.attr(e,n);else for(t=l[e].length-1;t>=0;t--)null!=n[l[e][t]]&&this.attr(l.prefix(e,l[e][t]),n[l[e][t]]);return this},r.extend(r.Element,r.FX,n)})),r.extend(r.Element,r.FX,{rotate:function(e,t,n){return this.transform({rotation:e,cx:t,cy:n})},skew:function(e,t,n,r){return 1==arguments.length||3==arguments.length?this.transform({skew:e,cx:t,cy:n}):this.transform({skewX:e,skewY:t,cx:n,cy:r})},scale:function(e,t,n,r){return 1==arguments.length||3==arguments.length?this.transform({scale:e,cx:t,cy:n}):this.transform({scaleX:e,scaleY:t,cx:n,cy:r})},translate:function(e,t){return this.transform({x:e,y:t})},flip:function(e,t){return t="number"==typeof e?e:t,this.transform({flip:e||"both",offset:t})},matrix:function(e){return this.attr("transform",new r.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new r.Number(e).plus(this instanceof r.FX?0:this.x()),!0)},dy:function(e){return this.y(new r.Number(e).plus(this instanceof r.FX?0:this.y()),!0)},dmove:function(e,t){return this.dx(e).dy(t)}}),r.extend(r.Rect,r.Ellipse,r.Circle,r.Gradient,r.FX,{radius:function(e,t){var n=(this._target||this).type;return"radial"==n||"circle"==n?this.attr("r",new r.Number(e)):this.rx(e).ry(t??e)}}),r.extend(r.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),r.extend(r.Parent,r.Text,r.Tspan,r.FX,{font:function(e,t){if("object"==typeof e)for(t in e)this.font(t,e[t]);return"leading"==e?this.leading(t):"anchor"==e?this.attr("text-anchor",t):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t):this.attr(e,t)}}),r.Set=r.invent({create:function(e){e instanceof r.Set?this.members=e.members.slice():Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){var e,t,n=[].slice.call(arguments);for(e=0,t=n.length;e<t;e++)this.members.push(n[e]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,n=this.members.length;t<n;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new r.RBox;var e=this.members[0].rbox(this.members[0].doc());return this.each((function(){e=e.merge(this.rbox(this.doc()))})),e}},construct:{set:function(e){return new r.Set(e)}}}),r.FX.Set=r.invent({create:function(e){this.set=e}}),r.Set.inherit=function(){var e=[];for(var t in r.Shape.prototype)"function"==typeof r.Shape.prototype[t]&&"function"!=typeof r.Set.prototype[t]&&e.push(t);for(var t in e.forEach((function(e){r.Set.prototype[e]=function(){for(var t=0,n=this.members.length;t<n;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new r.FX.Set(this)):this}})),e=[],r.FX.prototype)"function"==typeof r.FX.prototype[t]&&"function"!=typeof r.FX.Set.prototype[t]&&e.push(t);e.forEach((function(e){r.FX.Set.prototype[e]=function(){for(var t=0,n=this.set.members.length;t<n;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}}))},r.extend(r.Element,{data:function(e,t,n){if("object"==typeof e)for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch{return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:!0===n||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this}}),r.extend(r.Element,{remember:function(e,t){if("object"==typeof arguments[0])for(var t in e)this.remember(t,e[t]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),r.get=function(e){var n=t.getElementById(E(e)||e);return r.adopt(n)},r.select=function(e,n){return new r.Set(r.utils.map((n||t).querySelectorAll(e),(function(e){return r.adopt(e)})))},r.extend(r.Parent,{select:function(e){return r.select(e,this.node)}});var A="abcdef".split("");if("function"!=typeof e.CustomEvent){var I=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=t.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r};I.prototype=e.Event.prototype,r.CustomEvent=I}else r.CustomEvent=e.CustomEvent;return function(t){for(var n=0,r=["moz","webkit"],i=0;i<r.length&&!e.requestAnimationFrame;++i)t.requestAnimationFrame=t[r[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[r[i]+"CancelAnimationFrame"]||t[r[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame=t.requestAnimationFrame||function(e){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),o=t.setTimeout((function(){e(r+i)}),i);return n=r+i,o},t.cancelAnimationFrame=t.cancelAnimationFrame||t.clearTimeout}(e),r}))}(nut)),nut.exports}var out=iut();const sut=lNe(out);class aut extends AGe{constructor(e){super(e)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(e,t){return t.getGraphicIcon(e)}getGraphicSymbol(e,t){return t.getGraphicSymbol(e)}makeRenderer(e,t,n=!1){switch(e.type){case this.SIMPLE:return new Xct(e,t);case this.CLASS_BREAKS:return new Qct(e,t,n);case this.UNIQUE_VALUE:return new Jct(e,t,n);default:throw new Error(`Unknown renderer type encountered - ${e.type}`)}}async generateWMSSymbology(e){const t=sut(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),n={svgcode:"",imgHeight:"",imgWidth:""};if(e){const r=await this.renderSymbologyImage(e);if(r){n.svgcode=r;const e=document.createElement("span");e.innerHTML=r;const t=e.firstElementChild?.lastElementChild;n.imgHeight=t?.getAttribute("height")||"",n.imgWidth=t?.getAttribute("width")||""}else n.svgcode=t.svg()}else n.svgcode=t.svg();return n}listToSymbology(e,t){return t.map((({text:t,image:n})=>{const r={name:t,image:n,svgcode:""};return e(n).then((e=>{r.svgcode=e})),r}))}listToIconSymbology(e){return this.listToSymbology(this.renderSymbologyIcon,e)}listToImageSymbology(e){return this.listToSymbology(this.renderSymbologyImage,e)}async renderSymbologyImage(e,t=null){null===t&&(t=sut(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const n=await this.$iApi.geo.shared.convertImagetoDataURL(e);if(n===e)return"";const{loader:r}=await this.svgDrawImage(t,n);return t.viewbox(0,0,r.width,r.height),t.svg()}async renderSymbologyIcon(e,t=null){if(null===t){const e=document.createElement("div");e.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(e),t=sut(e).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const n=await this.$iApi.geo.shared.convertImagetoDataURL(e),{image:r}=await this.svgDrawImage(t,n);return r.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(r,this.CONTENT_IMAGE_SIZE),t.svg()}generatePlaceholderSymbology(e,t="#000"){const n=sut(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return n.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(t),n.text(e[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(e[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:e,svgcode:n.svg()}}async generateBlankSymbology(){return sut(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(e){const t=this,n=1.33333,r=document.createElement("div");r.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(r);const i=sut(r).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),s={path({size:e,path:t}){return i.path(t).size(e*n)},circle({size:e}){return i.circle(e*n)},cross({size:e}){return i.path("M 0,10 L 20,10 M 10,0 L 10,20").size(e*n)},x({size:e}){return i.path("M 0,0 L 20,20 M 20,0 L 0,20").size(e*n)},triangle({size:e}){return i.path("M 20,20 L 10,0 0,20 Z").size(e*n)},diamond({size:e}){return i.path("M 20,10 L 10,0 0,10 10,20 Z").size(e*n)},square({size:e}){return i.path("M 0,0 20,0 20,20 0,20 Z").size(e*n)}},a={[o.SOLID]:"none",[o.NONE]:"none",[o.DASH]:"5.333,4",[o.DOT]:"1.333,4",[o.DASHDOT]:"5.333,4,1.333,4",[o.LONGDASH]:"10.666,4",[o.LONGDASHDOT]:"10.666,4,1.333,4",[o.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[o.SHORTDOT]:"1.333,1.333",[o.SHORTDASH]:"5.333,1.333",[o.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[o.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},u={solid:e=>({color:e.colour,opacity:e.opacity}),none:()=>"transparent",horizontal:(e,t)=>i.pattern(5,5,(e=>e.line(0,2.5,5,2.5))).stroke(t),vertical:(e,t)=>i.pattern(5,5,(e=>e.line(2.5,0,2.5,5))).stroke(t),"forward-diagonal":(e,t)=>i.pattern(5,5,(e=>{e.line(0,0,5,5).stroke(t),e.line(0,0,5,5).move(0,5).stroke(t),e.line(0,0,5,5).move(5,0).stroke(t)})),"backward-diagonal":(e,t)=>i.pattern(5,5,(e=>{e.line(5,0,0,5).stroke(t),e.line(5,0,0,5).move(2.5,2.5).stroke(t),e.line(5,0,0,5).move(-2.5,-2.5).stroke(t)})),cross:(e,t)=>i.pattern(5,5,(e=>{e.line(2.5,0,2.5,5).stroke(t),e.line(0,2.5,5,2.5).stroke(t)})),"diagonal-cross":(e,t)=>i.pattern(7,7,(e=>{e.line(0,0,7,7).stroke(t),e.line(7,0,0,7).stroke(t)}))},h={"simple-marker"(){const n=d(e.color);e.outline=e.outline||c;const r=d(e.outline.color),i=p({color:r.colour,opacity:r.opacity,width:e.outline.width,dasharray:a[e.outline.style]}),o=s[e.style](e).fill({color:n.colour,opacity:n.opacity}).stroke(i).center(t.CONTAINER_CENTER,t.CONTAINER_CENTER).rotate(e.angle||0);t.fitInto(o,t.CONTENT_SIZE)},"simple-line"(){const n=d(e.color),r=p({color:n.colour,opacity:n.opacity,width:e.width,linecap:"butt",dasharray:a[e.style]}),o=t.CONTENT_PADDING,s=t.CONTAINER_SIZE-t.CONTENT_PADDING;i.line(o,o,s,s).stroke(r)},esriCLS(){this["simple-line"]()},"simple-fill"(){const n=d(e.color),r=p({color:n.colour,opacity:n.opacity}),o=u[e.style](n,r);e.outline=e.outline||c;const s=d(e.outline.color),l=p({color:s.colour,opacity:s.opacity,width:e.outline.width,linecap:"butt",dasharray:a[e.outline.style]});i.rect(t.CONTENT_SIZE,t.CONTENT_SIZE).center(t.CONTAINER_CENTER,t.CONTAINER_CENTER).fill(o).stroke(l)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const n=e.imageData?`data:${e.contentType};base64,${e.imageData}`:e.url,r=e.width*e.xscale,o=e.height*e.yscale;e.outline=e.outline||c;const s=d(e.outline.color),l=p({color:s.colour,opacity:s.opacity,width:e.outline.width,dasharray:a[e.outline.style]});return t.$iApi.geo.shared.convertImagetoDataURL(n).then((e=>{const n=i.pattern(r,o,(t=>t.image(e,r,o)));i.rect(t.CONTENT_SIZE,t.CONTENT_SIZE).center(t.CONTAINER_CENTER,t.CONTAINER_CENTER).fill(n).stroke(l)}))},"picture-marker"(){const n=e.source,r=n&&n.imageData?`data:${n.contentType};base64,${n.imageData}`:e.url;return t.$iApi.geo.shared.convertImagetoDataURL(r).then((e=>t.svgDrawImage(i,e))).then((({image:n})=>{n.center(t.CONTAINER_CENTER,t.CONTAINER_CENTER).rotate(e.angle||0),t.fitInto(n,t.CONTENT_IMAGE_SIZE)}))}};try{return await Promise.resolve(h[e.type]()),document.body.removeChild(r),i.svg()}catch(f){return console.error(f),this.generateBlankSymbology()}function p(e){return Object.assign({},l,e)}function d(e){return e?{colour:`rgb(${e.r},${e.g},${e.b})`,opacity:e.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(e,t,n=0,r=0,i=!0){return new Promise(((o,s)=>{const a=e.image(t,n,r,i).loaded((e=>o({image:a,loader:e}))).error((e=>{s(e),console.error(e)}))}))}fitInto(e,t){const n=e.node.getBoundingClientRect(),r=t/Math.max(n.width,n.height);r<1&&e.scale(r)}rendererToLegend(e){let t;const n=e.symbolUnits.slice(0);if(e.defaultUnit&&n.push(e.defaultUnit),e.falseRenderer)t=n.map((e=>[e]));else{const e=new Map;n.forEach((t=>{const n=e.get(t.label);n?n.push(t):e.set(t.label,[t])})),t=[],e.forEach((e=>t.push(e)))}return t.map((e=>{const t=e[0],n={uid:this.$iApi.geo.shared.generateUUID(),label:t.label||"",definitionClause:1===e.length?t.definitionClause:`(${e.map((e=>e.definitionClause)).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(t.symbol).then((t=>{n.svgcode=t,e.forEach((e=>{e.svgCode=t}))}))};return n}))}async getMapServerLegend(e){if(!e)throw new Error("Legend server request is missing the required url.");const t={query:{f:"json"}},n={layers:[]},[r,i]=await pct(Bl(`${e}/legend`,t));return i?i.data?i.data:(console.error(`Error loading legend data for ${e}`),n):(console.error(`Error loading legend for ${e}`,r),n)}mapServerLegendToRenderer(e,t){const n=e.layers.find((e=>e.layerId===t));let r;if(typeof n<"u")return r={type:"uniqueValue",field:"fakefield",uniqueValueInfos:n.legend.map((e=>({label:e.label,value:e.label,symbol:{type:"esriPMS",imageData:e.imageData,contentType:e.contentType}})))},this.makeRenderer(JV(r),[],!0);throw new Error("attempted to make renderer from non-existing legend data")}mapServerLegendToRendererAll(e){const t=e.layers.map((e=>e.legend.map((e=>({label:e.label,value:e.label,symbol:{type:"esriPMS",imageData:e.imageData,contentType:e.contentType}}))))),n={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...t)};return this.makeRenderer(JV(n),[],!0)}async mapServerToLocalLegend(e,t=void 0){const n=await this.getMapServerLegend(e);let r,i;return typeof t>"u"?(i=0,r=this.mapServerLegendToRendererAll(n)):(i=parseInt(t),r=this.mapServerLegendToRenderer(n,i)),this.rendererToLegend(r)}}class lut extends AGe{constructor(e){super(e)}async arcGisServerQueryIds(e){if(!e.filterGeometry&&!e.filterSql)return console.error("arcGisServerQueryIds called without any filter"),[];const t=new IX;t.returnGeometry=!1,e.filterSql&&(t.where=e.filterSql),e.filterGeometry&&(t.geometry=await this.queryGeometryHelper(e.filterGeometry,!1,this.$iApi.geo.map.getScale(),e.sourceSR),t.spatialRelationship="intersects");const n=await yoe(e.url,t);return Array.isArray(n)?n:[]}async geoJsonQuery(e){const t=new IX;if(t.returnGeometry=!!e.includeGeometry,t.outFields=["*"],e.filterGeometry&&(t.geometry=await this.queryGeometryHelper(e.filterGeometry,!0),t.spatialRelationship="intersects"),e.filterSql&&(t.where=e.filterSql),e.filterOIDs&&(t.objectIds=e.filterOIDs),await e.layer.loadPromise(),!e.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await e.layer.esriLayer.queryFeatures(t)).features.map(((e,n)=>{let r;return r=t.returnGeometry?this.$iApi.geo.geom.geomEsriToRamp(e.geometry,`queryResult${n}`):new jLe,new x(r,"",e.attributes)}))}async queryGeometryHelper(e,t,n,r){return t||e.type!==c.EXTENT||!r||r.isEqual(e.sr)||n&&n>2e7&&3978===e.sr.wkid&&4326===r.wkid?e.toESRI():(await this.$iApi.geo.proj.projectExtent(r,e)).toESRI()}makeClickBuffer(e,t=5){const n=this.$iApi.geo.map,r=n.getExtent(),i=t*(r.xmax-r.xmin)/n.getPixelWidth();return new qLe("ze_buffer",[e.x-i,e.y-i],[e.x+i,e.y+i],e.sr)}}class cut extends AGe{attributes;geom;layer;map;proj;query;shared;symbology;constructor(e){super(e),this.geom=Fut.geom,this.proj=Fut.proj,this.shared=Fut.sharedUtils,this.map=new Tlt(e),this.layer=new mct(e),this.attributes=new zct(e),this.query=new lut(e),this.symbology=new aut(e),Array.isArray(Ue.request.interceptors)||(Ue.request.interceptors=[]),Ue.request.interceptors.push({before:e=>{e.url.includes("?blankTile=false")&&(e.url=e.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(e){Ue.request.proxyUrl=e}get proxy(){return Ue.request.proxyUrl||""}}const uut=Object.assign({"../fixtures/appbar/index.ts":()=>n.e(7442).then(n.bind(n,67442)),"../fixtures/areas-of-interest/index.ts":()=>n.e(5174).then(n.bind(n,25174)),"../fixtures/basemap/index.ts":()=>n.e(7145).then(n.bind(n,67145)),"../fixtures/crosshairs/index.ts":()=>n.e(941).then(n.bind(n,80941)),"../fixtures/details/index.ts":()=>n.e(6735).then(n.bind(n,56735)),"../fixtures/export-footnote/index.ts":()=>Promise.all([n.e(550),n.e(4665)]).then(n.bind(n,34665)),"../fixtures/export-legend/index.ts":()=>Promise.all([n.e(550),n.e(5882)]).then(n.bind(n,75882)),"../fixtures/export-map/index.ts":()=>Promise.all([n.e(550),n.e(9841)]).then(n.bind(n,9841)),"../fixtures/export-northarrow/index.ts":()=>Promise.all([n.e(550),n.e(8837)]).then(n.bind(n,68837)),"../fixtures/export-scalebar/index.ts":()=>Promise.all([n.e(550),n.e(5598)]).then(n.bind(n,75598)),"../fixtures/export-timestamp/index.ts":()=>Promise.all([n.e(550),n.e(7874)]).then(n.bind(n,37874)),"../fixtures/export-title/index.ts":()=>Promise.all([n.e(550),n.e(8712)]).then(n.bind(n,78712)),"../fixtures/export/index.ts":()=>n.e(3213).then(n.bind(n,53213)),"../fixtures/extentguard/index.ts":()=>n.e(4964).then(n.bind(n,84964)),"../fixtures/gazebo/index.ts":()=>n.e(1012).then(n.bind(n,51012)),"../fixtures/geosearch/index.ts":()=>n.e(4969).then(n.bind(n,74969)),"../fixtures/grid/index.ts":()=>n.e(603).then(n.bind(n,603)),"../fixtures/help/index.ts":()=>n.e(4468).then(n.bind(n,24468)),"../fixtures/hilight/index.ts":()=>n.e(4883).then(n.bind(n,64883)),"../fixtures/layer-reorder/index.ts":()=>n.e(0).then(n.bind(n,2e4)),"../fixtures/legend/index.ts":()=>n.e(2202).then(n.bind(n,62202)),"../fixtures/mapnav/index.ts":()=>n.e(3930).then(n.bind(n,53930)),"../fixtures/metadata/index.ts":()=>n.e(6617).then(n.bind(n,6617)),"../fixtures/northarrow/index.ts":()=>n.e(7350).then(n.bind(n,17350)),"../fixtures/overviewmap/index.ts":()=>n.e(4876).then(n.bind(n,54876)),"../fixtures/panguard/index.ts":()=>n.e(3291).then(n.bind(n,93291)),"../fixtures/scrollguard/index.ts":()=>n.e(6061).then(n.bind(n,96061)),"../fixtures/settings/index.ts":()=>n.e(558).then(n.bind(n,558)),"../fixtures/snowman/index.ts":()=>n.e(6385).then(n.bind(n,26385)),"../fixtures/wizard/index.ts":()=>n.e(3044).then(n.bind(n,10663))});class hut extends AGe{constructor(e){super(e)}exists(e){return e in g0e(this.$vApp.$pinia).items}async add(e,t){let n;if(e in g0e(this.$vApp.$pinia).items)return this.get(e);if(t){if("function"!=typeof t)throw new Error("malformed fixture constructor");n=put.updateBaseToInstance(new t,e,this.$iApi)}else{const t=(await uut[`../fixtures/${e}/index.ts`]()).default;n=new t(e,this.$iApi)}return g0e(this.$vApp.$pinia).addFixture(n),this.$iApi.event.emit(v0e.FIXTURE_ADDED,n),this.$iApi.geo.map.created&&n.initialized?.(),n}remove(e){const t=this.get(e);if(!t)throw new Error(`Could not find fixture ${e} for removal`);return g0e(this.$vApp.$pinia).removeFixture(t),this.$iApi.event.emit(v0e.FIXTURE_REMOVED,t),t}flush(){const e=g0e(this.$vApp.$pinia);Object.keys(e.items).forEach((e=>{const t=this.get(e);t?.persist&&"function"==typeof t?.removed?t.removed():t&&this.remove(e)}))}restore(){const e=g0e(this.$vApp.$pinia);Object.keys(e.items).forEach((t=>{const n=e.items[t];"function"==typeof n.added&&n.added(),this.$iApi.geo.map.created&&"function"==typeof n.initialized&&n.initialized()}))}get(e){const t=[];"string"==typeof e?t.push(e):Array.isArray(e)?t.push(...e):t.push(e.id);const n=t.map((e=>{const t=g0e(this.$vApp.$pinia).items[e];if(t)return t}));return 1===n.length?n[0]:n}isLoaded(e){const t=g0e(this.$vApp.$pinia),n=Array.isArray(e)?e:[e];n.forEach((e=>{void 0===t.loadPromises[e]&&t.addLoadPromise(e)}));const r=t.getLoadPromises(n);return Array.isArray(e)?Promise.all(r):r[0]}addDefaultFixtures(e){(!Array.isArray(e)||0===e.length)&&(e=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const t=m0e(this.$vApp.$pinia);return t.startingFixtures=e,Promise.all(e.map((e=>this.add(e))))}}class put extends AGe{static updateBaseToInstance(e,t,n){const r=new put(t,n);return Object.defineProperties(e,{id:{value:t},$iApi:{value:n},persist:{value:e.persist??!0},$vApp:{get(){return r.$vApp}},remove:{value:r.remove},extend:{value:r.extend},config:{get(){return r.config}},mount:{value:r.mount}}),e}id;persist;constructor(e,t){super(t),this.id=e,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(e,t={}){const n=hqe({extends:e,iApi:this.$iApi,data(){return{...t}}}),r=PQe(n),{el:i}=this.mount(n,{props:{...t.propsData},app:r});return i}mount(e,{props:t,children:n,element:r,app:i}={}){let o=r,s=bJe(e,t,n);return i&&i._context&&(s.appContext=i._context),LQe(s,o||(o=document.createElement("div"))),{vNode:s,destroy:()=>{o&&LQe(null,o),o=null,s=null},el:o}}get config(){return m0e(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(e){return this.getLayerFixtureConfigs()[e]}getLayerFixtureConfigs(){const e={},t=(n,r=void 0)=>{if(n.fixtures&&void 0!==n.fixtures[this.id]){let t=n.id;void 0!==r&&(t=`${r.id}-${n.index}`),e[t]=n.fixtures[this.id]}n.sublayers&&n.sublayers.forEach((e=>t(e,n)))};return this.$iApi.geo.layer.allLayers().forEach((e=>t(e.config))),e}handlePanelWidths(e){if(this.config?.panelWidth){const t={};"number"==typeof this.config?.panelWidth&&(this.config.panelWidth={default:this.config?.panelWidth}),this.config.panelWidth.default&&e.forEach((e=>{t[e]=this.config.panelWidth.default}));for(const e in this.config.panelWidth)"default"!=e&&(t[e]=this.config.panelWidth[e]);for(const e in t){const n=this.$iApi.panel.get(e);this.$iApi.panel.setStyle(n,{"flex-basis":`${t[e]}px`})}}}handlePanelTeleports(e){if(this.config?.panelTeleport){const t=U6e(this.$vApp.$pinia),n=!!this.config.panelTeleport.target;e.forEach((e=>{t.items[e].teleport=n?this.config.panelTeleport:this.config.panelTeleport[e],t.items[e].style.width="100%"}))}}}class dut extends AGe{panelStore=U6e(this.$vApp.$pinia);updateHTML(e,t,n){const r=this.get(e),i=n?r.screens[n]:Object.values(r.screens)[0];if(OGe(i))for(const o in t)i[o].innerHTML=t[o]instanceof HTMLElement?t[o].outerHTML:t[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(e){for(const n in e.content)if("string"==typeof e.content[n]){const t=document.createElement("div");t.innerHTML=e.content[n],e.content[n]=t}const t={};return t[e.id]={screens:{},style:e.style??{width:"350px"},alertName:e.alertName},t[e.id].screens[e.id]=e.content,t}registerHTML(e){const t=this.get(e.id);if(t)return console.error("panel already exist"),t;const n=this.registerHTMLConfig(e);return this.register(n,e.options)}register(e,t){const n=fut(e)?{[e.id]:e.config}:e;if(t){const e=t.i18n||{},n=this.$iApi.$i18n;Object.entries(e.messages||{}).forEach((e=>n.mergeLocaleMessage(...e))),Object.entries(e.dateTimeFormats||{}).forEach((e=>n.mergeDateTimeFormat(...e))),Object.entries(e.numberFormats||{}).forEach((e=>n.mergeNumberFormat(...e)))}const r=Object.entries(n).reduce(((e,[t,n])=>(e.push(new but(this.$iApi,t,n)),e)),[]);return r.forEach((e=>this.panelStore.registerPanel(e))),1===r.length?r[0]:r.reduce(((e,t)=>(e[t.id]=t,e)),{})}async isRegistered(e){const t=Array.isArray(e)?e:[e];t.forEach((e=>{void 0===this.panelStore.regPromises[e]&&this.panelStore.addRegPromise(e)}));const n=this.panelStore.getRegPromises(t);return Array.isArray(e)?Promise.all(n):n[0]}remove(e){const t=this.get(e);t&&(t.isOpen&&this.close(t),this.panelStore.removePanel(t))}get(e){const t="string"==typeof e?e:e.id;return this.panelStore.items[t]}open(e){let t,n,r;if("string"==typeof e||e instanceof but?t=this.get(e):(t=this.get(e.id),({screen:n,props:r}=e)),!t)return t;if(t.isOpen&&!t.isVisible)t.minimize();else if(t.isOpen)return t;return n||(t.route&&!r?({screen:n,props:r}=t.route):n=Object.keys(t.screens).pop()),this.show(t,{screen:n,props:r})?(this.panelStore.openPanel(t),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:t.alertName?this.$iApi.$i18n.t(t.alertName):t.id})),this.$iApi.event.emit(v0e.PANEL_OPENED,t)):console.error(`Failed to open ${t.id} panel.`),t}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(e){const t=this.get(e);return t&&(t.isPinned&&t.pin(!1),this.panelStore.closePanel(t),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:t.alertName?this.$iApi.$i18n.t(t.alertName):t.id})),this.$iApi.event.emit(v0e.PANEL_CLOSED,t),t)}minimize(e){const t=this.get(e);return t&&(t.isPinned&&t.pin(!1),this.panelStore.closePanel(t),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:t.alertName?this.$iApi.$i18n.t(t.alertName):t.id})),this.$iApi.event.emit(v0e.PANEL_MINIMIZED,t),t)}move(e,t){const n=this.get(e);return n&&(this.panelStore.movePanel(n,t),n)}toggle(e,t){let n;return n="string"==typeof e||e instanceof but?this.get(e):this.get(e.id),n&&(t=typeof t<"u"?t:!n.isVisible,t!==n.isVisible&&(t?this.open(e):this.close(n)),n)}toggleMinimize(e,t){let n;return n="string"==typeof e||e instanceof but?this.get(e):this.get(e.id),n&&(t=typeof t<"u"?t:!n.isVisible,t!==n.isVisible&&(t?this.open(n):this.minimize(n)),n)}pin(e,t){const n=this.get(e);return!n||(t=typeof t<"u"?t:!n.isPinned,!n.isPinned&&!t)||(this.panelStore.pinned=t?n:void 0),n}get pinned(){return this.panelStore.pinned||void 0}show(e,t){const n=this.get(e);if(!n)return n;if(n.screens[t.screen]){if(n.screens[t.screen]?.props){const e=Object.keys(n.screens[t.screen]?.props).filter((e=>"panel"!==e)),r=t.props?Object.keys(t.props):[];for(let i=0;i<e.length;i++)if(!r.includes(e[i])&&n.screens[t.screen].props[e[i]].required)return}return t.screen in this.$element._context.components||n.registerScreen(t.screen),n.teleport&&(t.props={header:!!n.teleport?.showHeader,...t.props}),this.panelStore.items[n.id].route=t,n}}setStyle(e,t,n=!1){const r=this.get(e);return r&&(this.panelStore.items[r.id].style=n?t:{...r.style,...t},r)}expand(e,t){const n=this.get(e);return n&&(this.panelStore.items[n.id].expanded=void 0!==t?t:!n.expanded,n)}}function fut(e){return void 0!==e.id&&"string"==typeof e.id&&void 0!==e.config}const mut={};function yut(e,t){const n=oZe("panel-screen");return wXe(),MXe(n,{header:!1,class:"screen-spinner"},{content:NWe((()=>t[0]||(t[0]=[RXe("div",{class:"loader"},null,-1)]))),_:1})}const gut=G6e(mut,[["render",yut],["__scopeId","data-v-a3c61802"]]),vut=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>n.e(2258).then(n.bind(n,92258)),"../fixtures/basemap/screen.vue":()=>n.e(2281).then(n.bind(n,32281)),"../fixtures/export/screen.vue":()=>n.e(3878).then(n.bind(n,73878)),"../fixtures/geosearch/screen.vue":()=>n.e(3688).then(n.bind(n,33688)),"../fixtures/grid/screen.vue":()=>Promise.all([n.e(542),n.e(1516)]).then(n.bind(n,542)),"../fixtures/help/screen.vue":()=>Promise.all([n.e(2250),n.e(2701)]).then(n.bind(n,72701)),"../fixtures/layer-reorder/screen.vue":()=>Promise.all([n.e(1323),n.e(8288)]).then(n.bind(n,28288)),"../fixtures/legend/screen.vue":()=>n.e(740).then(n.bind(n,40740)),"../fixtures/metadata/screen.vue":()=>Promise.all([n.e(2250),n.e(646)]).then(n.bind(n,60646)),"../fixtures/settings/screen.vue":()=>Promise.all([n.e(1323),n.e(2904)]).then(n.bind(n,72904)),"../fixtures/wizard/screen.vue":()=>Promise.all([n.e(1323),n.e(705)]).then(n.bind(n,40705))});class but extends AGe{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(e){return-1!==this.loadedScreens.indexOf(e)}registerScreen(e){const t=this.screens[e];let n;if(CGe(t)||IGe(t))n=t,this.loadedScreens.push(e);else if(OGe(t))n={template:`<panel-screen :panel="this" :screenId="'${e}'">\n                           </panel-screen>`};else{let r;r="string"==typeof t?vut[`../fixtures/${t}`]():t();const i=new Promise(((t,n)=>{r.then((n=>{this.loadedScreens.push(e),t(kGe(n)?n.default:n)})),r.catch((e=>n(e)))}));n=Lqe({loader:()=>i,loadingComponent:gut,delay:200})}this.$iApi.$element.component(e,n)}style;expanded;get width(){if(this.style.width&&"px"===this.style.width.slice(-2))return parseInt(this.style.width)}route;constructor(e,t,n){if(super(e),({id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:t,style:{},expanded:!1,controls:{expand:!1,...n.controls},...n}),0===Object.keys(this.screens).length)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(e){return typeof e>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,..."string"==typeof e?{screen:e}:e}),this}get isOpen(){return-1!==this.$iApi.panel.opened.indexOf(this)}get isVisible(){return-1!==this.$iApi.panel.visible.indexOf(this)}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(e){return this.$iApi.panel.move(this,e),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0)for(const e of this.$iApi.panel.visible)if(!e.teleport)return this.id===e.id;return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0)for(let e=this.$iApi.panel.visible.length-1;e>=0;e--)if(!this.$iApi.panel.visible[e].teleport)return this.id===this.$iApi.panel.visible[e].id;return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(e){return typeof e>"u"?this.$iApi.panel.toggle(this,!this.isOpen):"boolean"==typeof e?e!==this.isOpen&&this.$iApi.panel.toggle(this,e):this.$iApi.panel.toggle({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}toggleMinimize(e){return typeof e>"u"||"boolean"==typeof e?this.$iApi.panel.toggleMinimize(this,e):this.$iApi.panel.toggleMinimize({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}pin(e){return e=typeof e<"u"?e:!this.isPinned,this.$iApi.panel.pin(this,e),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(e){const t="string"==typeof e?{screen:e}:e;return this.route=t,this.$iApi.panel.show(this,t),this}setStyles(e,t=!1){return this.$iApi.panel.setStyle(this,e,t),this}expand(e){return this.$iApi.panel.expand(this,e),this}}function wut(e){const t={};(Array.isArray(e)?e:[e]).forEach((e=>{e.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),e.language="en");const n=_ut(e);t[e.language]=n}));const n=Object.entries(t).map((e=>{const t=e[1].fixturesEnabled;return delete e[1].fixturesEnabled,t}));let r=!1;const i=n.reduce(((e,t)=>e.filter((e=>{const n=t.includes(e);return r=r||!n,n}))));return r&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),i.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:i,configs:t}}function _ut(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return Iut(e.services,t),xut(e.map,t),Cut(e.ui,t),e.plugins&&Out(e.plugins,t),t}function xut(e,t){if(e.layers&&e.layers.forEach((e=>{t.layers.unshift(Eut(e))})),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const n={};e.components.northArrow.arrowIcon&&(n.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(n.poleIcon=e.components.northArrow.poleIcon),n&&(t.fixtures.northarrow=n,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:"english"===e?.components?.scaleBar?.scalebarUnit||"dual"===e?.components?.scaleBar?.scalebarUnit&&0===Math.floor(2*Math.random())}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach((e=>{const n={id:e.id,default:{xmin:e.default.xmin,xmax:e.default.xmax,ymin:e.default.ymin,ymax:e.default.ymax,spatialReference:e.spatialReference}};e.full&&(n.full={xmin:e.full.xmin,xmax:e.full.xmax,ymin:e.full.ymin,ymax:e.full.ymax,spatialReference:e.spatialReference}),e.maximum&&(n.maximum={xmin:e.maximum.xmin,xmax:e.maximum.xmax,ymin:e.maximum.ymin,ymax:e.maximum.ymax,spatialReference:e.spatialReference}),t.map.extentSets.push(n)}))),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach((e=>{const n={id:e.id,name:e.name,extentSetId:e.extentSetId,lodSetId:e.lodSetId,thumbnailTileUrls:[],hasNorthPole:e.hasNorthPole||!1};e.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[e.id]={id:e.overviewUrl.id||`overviewmap-basemap-${e.id}`,tileSchemaId:e.id,layers:[{id:e.overviewUrl.id||`overviewmap-basemap-${e.id}-0`,layerType:"esriDynamic"===e.overviewUrl.layerType?h.MAPIMAGE:h.TILE,url:e.overviewUrl.url,opacity:e.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(n)}))),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach((e=>{const n={id:e.id,tileSchemaId:e.tileSchemaId,name:e.name,description:e.description,altText:e.altText,thumbnailUrl:e.thumbnailUrl,layers:[]};e.attribution&&(n.attribution={text:{},logo:{}},e.attribution.text&&(n.attribution.text.disabled=!e.attribution.text.enabled,n.attribution.text.value=e.attribution.text.value),e.attribution.logo&&(n.attribution.logo.disabled=!e.attribution.logo.enabled,n.attribution.logo.altText=e.attribution.logo.altText,n.attribution.logo.value=e.attribution.logo.value,n.attribution.logo.link=e.attribution.logo.link)),e.layers.forEach(((t,r)=>{const i={id:t.id||`${e.id}-${r}`,layerType:"esriDynamic"===t.layerType?h.MAPIMAGE:h.TILE,url:t.url,opacity:t.opacity??1};n.layers.push(i)})),t.map.basemaps.push(n)}))),e.legend&&(t.fixturesEnabled.push("legend"),"autopopulate"===e.legend.type?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach((e=>{if("esri-map-image"===e.type||"ogc-wms"===e.type){const n={name:e.name??`${e.id} Group`,children:[]};e.sublayers.forEach((t=>{const r={layerId:e.id};t.name&&(r.name=t.name),t.controls&&(r.controls=t.controls),t.disabledControls&&(r.disabledControls=t.disabledControls),"esri-map-image"===e.type?r.sublayerIndex=t.index:(r.sublayerId=t.id,console.warn(`sublayerId property defined in legend entry ${r.layerId} is currently not supported.`)),n.children.push(r)})),t.fixtures.legend.root.children.push(n)}else{const n={layerId:e.id};e.controls&&(n.controls=e.controls),e.disabledControls&&(n.disabledControls=e.disabledControls),t.fixtures.legend.root.children.push(n)}}))):t.fixtures.legend={root:Sut(e.legend.root)})}function Sut(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const n=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Aut(e.controls,n),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(1!==e.controls.length||"visibility"!==e.controls[0])&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Aut(e.disabledControls,n),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(1!==e.disabledControls.length||"visibility"!==e.disabledControls[0])&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach((e=>{if(e.layerId)t.children.push(Tut(e));else if(e.infoType)"unboundLayer"===e.infoType?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:e.infoType,content:e.content}),typeof e.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(e.exclusiveVisibility){const n={name:"Visibility Set",children:[],exclusive:!0};typeof e.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),e.exclusiveVisibility.forEach((e=>{e.layerId?n.children.push(Tut(e)):n.children.push(Sut(e))})),t.children.push(n)}else t.children.push(Sut(e))})),t}function Tut(e){const t=e,n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=Aut(e.controls,n),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=Aut(e.disabledControls,n)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function Eut(e){const t=Mut(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,"esriDynamic"===e.layerType&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach((e=>{const n=Mut(e);n.index=e.index,t.sublayers.push(n)})));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType="shapefile"===e.fileType?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&("text/html;fgpv=summary"===e.featureInfoMimeType?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach((n=>{const r=Mut(n);r.id=n.id,n.currentStyle&&(r.currentStyle=n.currentStyle,console.warn(`currentStyle property provided in layer entry ${n.id} of layer ${e.id} is currently not supported.`)),n.allStyles&&console.warn(`allStyles property provided in layer entry ${n.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(r)})));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function Mut(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Aut(e.controls,n),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Aut(e.disabledControls,n)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),kut(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach((n=>{const r={field:n.data};n.title&&(r.title=n.title),n.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof n.visible<"u"&&(r.visible=n.visible),n.width&&(r.width=n.width),n.sort&&(r.sort=n.sort),typeof n.searchable<"u"&&(r.searchable=n.searchable),n.filter&&(r.filter=n.filter),t.fixtures.grid.columns.push(r)}))))),t}function Aut(e,t){const n=[];return e.forEach((e=>{t.includes("identify")&&"query"===e?n.push("identify"):t.includes("datatable")&&"data"===e?n.push("datatable"):t.includes(e)?n.push(e):console.warn(`Ignored invalid control: ${e}`)})),n}function Iut(e,t){e&&(e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter((e=>"SCALE"!==e)))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach((t=>{typeof e[t]<"u"&&console.warn(`${t} property provided in services config cannot be mapped and will be skipped.`)})))}function Cut(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const n=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach((e=>{const r=e.toLowerCase();n.includes(r)?t.fixtures.mapnav.items.push(r):console.warn(`Ignored invalid mapnav item: ${e}`)})),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&"default"!==e.help.folderName?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const n=["groupToggle","visibilityToggle"];e.legend.reorderable&&n.push("layerReorder"),e.legend.allowImport&&n.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=n:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:n,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const n=["layers","basemap","export","help","geoSearch"];e.appBar?(!1!==e.appBar.layers&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),!1!==e.appBar.geoSearch&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),!1!==e.appBar.basemap&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach((e=>{e.forEach((e=>{"layers"!==e||t.fixtures.appbar.items.includes("legend")?"layers"!==e&&n.includes(e)&&!t.fixtures.appbar.items.includes(e.toLowerCase())&&(t.fixtures.appbar.items.push(e.toLowerCase()),("help"===e.toLowerCase()||"export"===e.toLowerCase()&&!t.fixturesEnabled.includes(e.toLowerCase()))&&t.fixturesEnabled.push(e.toLowerCase())):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"))}))})),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach((t=>{typeof e[t]<"u"&&console.warn(`${t} property provided in services config cannot be mapped and will be skipped.`)}))}function Out(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map((e=>({title:`${e["title-en-CA"]} / ${e["title-fr-CA"]}`,thumbnail:e.thumbnailUrl,altText:e.altText??"",description:e.description??"",extent:{xmin:e.xmin,xmax:e.xmax,ymin:e.ymin,ymax:e.ymax,spatialReference:{wkid:e.wkid}}})))}))}function kut(e,t){const n=e.outfields&&"*"!==e.outfields;if(!n&&!e.fieldMetadata)return;const r={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(r.fieldInfo=e.fieldMetadata.map((e=>{const t={name:e.data};return e.alias&&(t.alias=e.alias),t})),n&&(e.outfields.split(",").map((e=>e.trim())).forEach((e=>{-1===r.fieldInfo.findIndex((t=>t.name===e))&&r.fieldInfo.push({name:e})})),r.exclusiveFields=!0)):n&&(r.fieldInfo=e.outfields.split(",").map((e=>({name:e.trim()}))),r.exclusiveFields=!0),t.fieldMetadata=r}var Rut={major:"4",minor:"10",patch:"0",timestamp:"Thu Dec 19 14:34:34 2024 -0500",hash:"1f32f5c4dedad7ac35a7895e7f740d9e48359903"};console.info(`RAMP v${Rut.major}.${Rut.minor}.${Rut.patch} [${Rut.hash.slice(0,9)}] (Built on ${new Date(Rut.timestamp.toString()).toLocaleString()})`);const Lut=Rut;function Nut(e){return wut(e)}function Put(e){return Eut(e)}const Dut=(e,t,n)=>new vlt(e,t,n),Fut=new MGe},31802:function(e,t,n){"use strict";n.d(t,{Q_:function(){return r.vA}});var r=n(44444)},31635:function(e,t,n){"use strict";n.d(t,{Cg:function(){return r}});function r(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError}}]);
//# sourceMappingURL=chunk-vendors.c84044b2.js.map